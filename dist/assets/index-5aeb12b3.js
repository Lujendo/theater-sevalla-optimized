var wA=Object.defineProperty;var bA=(e,t,n)=>t in e?wA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var We=(e,t,n)=>(bA(e,typeof t!="symbol"?t+"":t,n),n);function b3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ki=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C3={exports:{}},Th={},N3={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd=Symbol.for("react.element"),CA=Symbol.for("react.portal"),NA=Symbol.for("react.fragment"),EA=Symbol.for("react.strict_mode"),SA=Symbol.for("react.profiler"),_A=Symbol.for("react.provider"),jA=Symbol.for("react.context"),AA=Symbol.for("react.forward_ref"),kA=Symbol.for("react.suspense"),TA=Symbol.for("react.memo"),DA=Symbol.for("react.lazy"),wy=Symbol.iterator;function IA(e){return e===null||typeof e!="object"?null:(e=wy&&e[wy]||e["@@iterator"],typeof e=="function"?e:null)}var E3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S3=Object.assign,_3={};function kc(e,t,n){this.props=e,this.context=t,this.refs=_3,this.updater=n||E3}kc.prototype.isReactComponent={};kc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function j3(){}j3.prototype=kc.prototype;function $x(e,t,n){this.props=e,this.context=t,this.refs=_3,this.updater=n||E3}var Gx=$x.prototype=new j3;Gx.constructor=$x;S3(Gx,kc.prototype);Gx.isPureReactComponent=!0;var by=Array.isArray,A3=Object.prototype.hasOwnProperty,Xx={current:null},k3={key:!0,ref:!0,__self:!0,__source:!0};function T3(e,t,n){var r,i={},o=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(o=""+t.key),t)A3.call(t,r)&&!k3.hasOwnProperty(r)&&(i[r]=t[r]);var x=arguments.length-2;if(x===1)i.children=n;else if(1<x){for(var v=Array(x),g=0;g<x;g++)v[g]=arguments[g+2];i.children=v}if(e&&e.defaultProps)for(r in x=e.defaultProps,x)i[r]===void 0&&(i[r]=x[r]);return{$$typeof:wd,type:e,key:o,ref:d,props:i,_owner:Xx.current}}function RA(e,t){return{$$typeof:wd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qx(e){return typeof e=="object"&&e!==null&&e.$$typeof===wd}function OA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cy=/\/+/g;function E1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OA(""+e.key):t.toString(36)}function i0(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(o){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case wd:case CA:d=!0}}if(d)return d=e,i=i(d),e=r===""?"."+E1(d,0):r,by(i)?(n="",e!=null&&(n=e.replace(Cy,"$&/")+"/"),i0(i,t,n,"",function(g){return g})):i!=null&&(Qx(i)&&(i=RA(i,n+(!i.key||d&&d.key===i.key?"":(""+i.key).replace(Cy,"$&/")+"/")+e)),t.push(i)),1;if(d=0,r=r===""?".":r+":",by(e))for(var x=0;x<e.length;x++){o=e[x];var v=r+E1(o,x);d+=i0(o,t,n,v,i)}else if(v=IA(e),typeof v=="function")for(e=v.call(e),x=0;!(o=e.next()).done;)o=o.value,v=r+E1(o,x++),d+=i0(o,t,n,v,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Rf(e,t,n){if(e==null)return e;var r=[],i=0;return i0(e,r,"","",function(o){return t.call(n,o,i++)}),r}function MA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yr={current:null},a0={transition:null},LA={ReactCurrentDispatcher:Yr,ReactCurrentBatchConfig:a0,ReactCurrentOwner:Xx};function D3(){throw Error("act(...) is not supported in production builds of React.")}At.Children={map:Rf,forEach:function(e,t,n){Rf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rf(e,function(){t++}),t},toArray:function(e){return Rf(e,function(t){return t})||[]},only:function(e){if(!Qx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};At.Component=kc;At.Fragment=NA;At.Profiler=SA;At.PureComponent=$x;At.StrictMode=EA;At.Suspense=kA;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LA;At.act=D3;At.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=S3({},e.props),i=e.key,o=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,d=Xx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(v in t)A3.call(t,v)&&!k3.hasOwnProperty(v)&&(r[v]=t[v]===void 0&&x!==void 0?x[v]:t[v])}var v=arguments.length-2;if(v===1)r.children=n;else if(1<v){x=Array(v);for(var g=0;g<v;g++)x[g]=arguments[g+2];r.children=x}return{$$typeof:wd,type:e.type,key:i,ref:o,props:r,_owner:d}};At.createContext=function(e){return e={$$typeof:jA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_A,_context:e},e.Consumer=e};At.createElement=T3;At.createFactory=function(e){var t=T3.bind(null,e);return t.type=e,t};At.createRef=function(){return{current:null}};At.forwardRef=function(e){return{$$typeof:AA,render:e}};At.isValidElement=Qx;At.lazy=function(e){return{$$typeof:DA,_payload:{_status:-1,_result:e},_init:MA}};At.memo=function(e,t){return{$$typeof:TA,type:e,compare:t===void 0?null:t}};At.startTransition=function(e){var t=a0.transition;a0.transition={};try{e()}finally{a0.transition=t}};At.unstable_act=D3;At.useCallback=function(e,t){return Yr.current.useCallback(e,t)};At.useContext=function(e){return Yr.current.useContext(e)};At.useDebugValue=function(){};At.useDeferredValue=function(e){return Yr.current.useDeferredValue(e)};At.useEffect=function(e,t){return Yr.current.useEffect(e,t)};At.useId=function(){return Yr.current.useId()};At.useImperativeHandle=function(e,t,n){return Yr.current.useImperativeHandle(e,t,n)};At.useInsertionEffect=function(e,t){return Yr.current.useInsertionEffect(e,t)};At.useLayoutEffect=function(e,t){return Yr.current.useLayoutEffect(e,t)};At.useMemo=function(e,t){return Yr.current.useMemo(e,t)};At.useReducer=function(e,t,n){return Yr.current.useReducer(e,t,n)};At.useRef=function(e){return Yr.current.useRef(e)};At.useState=function(e){return Yr.current.useState(e)};At.useSyncExternalStore=function(e,t,n){return Yr.current.useSyncExternalStore(e,t,n)};At.useTransition=function(){return Yr.current.useTransition()};At.version="18.3.1";N3.exports=At;var M=N3.exports;const fe=kh(M),Kx=b3({__proto__:null,default:fe},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PA=M,FA=Symbol.for("react.element"),BA=Symbol.for("react.fragment"),UA=Object.prototype.hasOwnProperty,zA=PA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qA={key:!0,ref:!0,__self:!0,__source:!0};function I3(e,t,n){var r,i={},o=null,d=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)UA.call(t,r)&&!qA.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:FA,type:e,key:o,ref:d,props:i,_owner:zA.current}}Th.Fragment=BA;Th.jsx=I3;Th.jsxs=I3;C3.exports=Th;var a=C3.exports,mm={},R3={exports:{}},_s={},O3={exports:{}},M3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ue,ge){var Le=ue.length;ue.push(ge);e:for(;0<Le;){var Ve=Le-1>>>1,nt=ue[Ve];if(0<i(nt,ge))ue[Ve]=ge,ue[Le]=nt,Le=Ve;else break e}}function n(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var ge=ue[0],Le=ue.pop();if(Le!==ge){ue[0]=Le;e:for(var Ve=0,nt=ue.length,ke=nt>>>1;Ve<ke;){var Xe=2*(Ve+1)-1,it=ue[Xe],je=Xe+1,Ie=ue[je];if(0>i(it,Le))je<nt&&0>i(Ie,it)?(ue[Ve]=Ie,ue[je]=Le,Ve=je):(ue[Ve]=it,ue[Xe]=Le,Ve=Xe);else if(je<nt&&0>i(Ie,Le))ue[Ve]=Ie,ue[je]=Le,Ve=je;else break e}}return ge}function i(ue,ge){var Le=ue.sortIndex-ge.sortIndex;return Le!==0?Le:ue.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var d=Date,x=d.now();e.unstable_now=function(){return d.now()-x}}var v=[],g=[],w=1,N=null,S=3,k=!1,j=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ue){for(var ge=n(g);ge!==null;){if(ge.callback===null)r(g);else if(ge.startTime<=ue)r(g),ge.sortIndex=ge.expirationTime,t(v,ge);else break;ge=n(g)}}function q(ue){if(O=!1,I(ue),!j)if(n(v)!==null)j=!0,oe(X);else{var ge=n(g);ge!==null&&xe(q,ge.startTime-ue)}}function X(ue,ge){j=!1,O&&(O=!1,T(H),H=-1),k=!0;var Le=S;try{for(I(ge),N=n(v);N!==null&&(!(N.expirationTime>ge)||ue&&!de());){var Ve=N.callback;if(typeof Ve=="function"){N.callback=null,S=N.priorityLevel;var nt=Ve(N.expirationTime<=ge);ge=e.unstable_now(),typeof nt=="function"?N.callback=nt:N===n(v)&&r(v),I(ge)}else r(v);N=n(v)}if(N!==null)var ke=!0;else{var Xe=n(g);Xe!==null&&xe(q,Xe.startTime-ge),ke=!1}return ke}finally{N=null,S=Le,k=!1}}var F=!1,R=null,H=-1,V=5,te=-1;function de(){return!(e.unstable_now()-te<V)}function re(){if(R!==null){var ue=e.unstable_now();te=ue;var ge=!0;try{ge=R(!0,ue)}finally{ge?ee():(F=!1,R=null)}}else F=!1}var ee;if(typeof A=="function")ee=function(){A(re)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,se=Ne.port2;Ne.port1.onmessage=re,ee=function(){se.postMessage(null)}}else ee=function(){L(re,0)};function oe(ue){R=ue,F||(F=!0,ee())}function xe(ue,ge){H=L(function(){ue(e.unstable_now())},ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ue){ue.callback=null},e.unstable_continueExecution=function(){j||k||(j=!0,oe(X))},e.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ue?Math.floor(1e3/ue):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return n(v)},e.unstable_next=function(ue){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var Le=S;S=ge;try{return ue()}finally{S=Le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ue,ge){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Le=S;S=ue;try{return ge()}finally{S=Le}},e.unstable_scheduleCallback=function(ue,ge,Le){var Ve=e.unstable_now();switch(typeof Le=="object"&&Le!==null?(Le=Le.delay,Le=typeof Le=="number"&&0<Le?Ve+Le:Ve):Le=Ve,ue){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=Le+nt,ue={id:w++,callback:ge,priorityLevel:ue,startTime:Le,expirationTime:nt,sortIndex:-1},Le>Ve?(ue.sortIndex=Le,t(g,ue),n(v)===null&&ue===n(g)&&(O?(T(H),H=-1):O=!0,xe(q,Le-Ve))):(ue.sortIndex=nt,t(v,ue),j||k||(j=!0,oe(X))),ue},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(ue){var ge=S;return function(){var Le=S;S=ge;try{return ue.apply(this,arguments)}finally{S=Le}}}})(M3);O3.exports=M3;var WA=O3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA=M,Ss=WA;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L3=new Set,Yu={};function xl(e,t){fc(e,t),fc(e+"Capture",t)}function fc(e,t){for(Yu[e]=t,e=0;e<t.length;e++)L3.add(t[e])}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xm=Object.prototype.hasOwnProperty,VA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ny={},Ey={};function YA(e){return xm.call(Ey,e)?!0:xm.call(Ny,e)?!1:VA.test(e)?Ey[e]=!0:(Ny[e]=!0,!1)}function $A(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GA(e,t,n,r){if(t===null||typeof t>"u"||$A(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $r(e,t,n,r,i,o,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=d}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){br[e]=new $r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];br[t]=new $r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){br[e]=new $r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){br[e]=new $r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){br[e]=new $r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){br[e]=new $r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){br[e]=new $r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){br[e]=new $r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){br[e]=new $r(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zx=/[\-:]([a-z])/g;function Jx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zx,Jx);br[t]=new $r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zx,Jx);br[t]=new $r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zx,Jx);br[t]=new $r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){br[e]=new $r(e,1,!1,e.toLowerCase(),null,!1,!1)});br.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){br[e]=new $r(e,1,!1,e.toLowerCase(),null,!0,!0)});function eg(e,t,n,r){var i=br.hasOwnProperty(t)?br[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GA(t,n,i,r)&&(n=null),r||i===null?YA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ea=HA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Of=Symbol.for("react.element"),ql=Symbol.for("react.portal"),Wl=Symbol.for("react.fragment"),tg=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),P3=Symbol.for("react.provider"),F3=Symbol.for("react.context"),ng=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),rg=Symbol.for("react.memo"),Wa=Symbol.for("react.lazy"),B3=Symbol.for("react.offscreen"),Sy=Symbol.iterator;function gu(e){return e===null||typeof e!="object"?null:(e=Sy&&e[Sy]||e["@@iterator"],typeof e=="function"?e:null)}var Rn=Object.assign,S1;function Tu(e){if(S1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S1=t&&t[1]||""}return`
`+S1+e}var _1=!1;function j1(e,t){if(!e||_1)return"";_1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),o=r.stack.split(`
`),d=i.length-1,x=o.length-1;1<=d&&0<=x&&i[d]!==o[x];)x--;for(;1<=d&&0<=x;d--,x--)if(i[d]!==o[x]){if(d!==1||x!==1)do if(d--,x--,0>x||i[d]!==o[x]){var v=`
`+i[d].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=d&&0<=x);break}}}finally{_1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Tu(e):""}function XA(e){switch(e.tag){case 5:return Tu(e.type);case 16:return Tu("Lazy");case 13:return Tu("Suspense");case 19:return Tu("SuspenseList");case 0:case 2:case 15:return e=j1(e.type,!1),e;case 11:return e=j1(e.type.render,!1),e;case 1:return e=j1(e.type,!0),e;default:return""}}function wm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wl:return"Fragment";case ql:return"Portal";case gm:return"Profiler";case tg:return"StrictMode";case vm:return"Suspense";case ym:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case F3:return(e.displayName||"Context")+".Consumer";case P3:return(e._context.displayName||"Context")+".Provider";case ng:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rg:return t=e.displayName||null,t!==null?t:wm(e.type)||"Memo";case Wa:t=e._payload,e=e._init;try{return wm(e(t))}catch{}}return null}function QA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wm(t);case 8:return t===tg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function uo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function U3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KA(e){var t=U3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(d){r=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mf(e){e._valueTracker||(e._valueTracker=KA(e))}function z3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=U3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function k0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bm(e,t){var n=t.checked;return Rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _y(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=uo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function q3(e,t){t=t.checked,t!=null&&eg(e,"checked",t,!1)}function Cm(e,t){q3(e,t);var n=uo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nm(e,t.type,uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nm(e,t,n){(t!=="number"||k0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Du=Array.isArray;function rc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+uo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Em(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ay(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Oe(92));if(Du(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:uo(n)}}function W3(e,t){var n=uo(t.value),r=uo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ky(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lf,V3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lf=Lf||document.createElement("div"),Lf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $u(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZA=["Webkit","ms","Moz","O"];Object.keys(Lu).forEach(function(e){ZA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lu[t]=Lu[e]})});function Y3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Lu.hasOwnProperty(e)&&Lu[e]?(""+t).trim():t+"px"}function $3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Y3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var JA=Rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _m(e,t){if(t){if(JA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function jm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Am=null;function sg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var km=null,sc=null,ic=null;function Ty(e){if(e=Nd(e)){if(typeof km!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=Mh(t),km(e.stateNode,e.type,t))}}function G3(e){sc?ic?ic.push(e):ic=[e]:sc=e}function X3(){if(sc){var e=sc,t=ic;if(ic=sc=null,Ty(e),t)for(e=0;e<t.length;e++)Ty(t[e])}}function Q3(e,t){return e(t)}function K3(){}var A1=!1;function Z3(e,t,n){if(A1)return e(t,n);A1=!0;try{return Q3(e,t,n)}finally{A1=!1,(sc!==null||ic!==null)&&(K3(),X3())}}function Gu(e,t){var n=e.stateNode;if(n===null)return null;var r=Mh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Oe(231,t,typeof n));return n}var Tm=!1;if(xa)try{var vu={};Object.defineProperty(vu,"passive",{get:function(){Tm=!0}}),window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{Tm=!1}function ek(e,t,n,r,i,o,d,x,v){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(w){this.onError(w)}}var Pu=!1,T0=null,D0=!1,Dm=null,tk={onError:function(e){Pu=!0,T0=e}};function nk(e,t,n,r,i,o,d,x,v){Pu=!1,T0=null,ek.apply(tk,arguments)}function rk(e,t,n,r,i,o,d,x,v){if(nk.apply(this,arguments),Pu){if(Pu){var g=T0;Pu=!1,T0=null}else throw Error(Oe(198));D0||(D0=!0,Dm=g)}}function gl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function J3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dy(e){if(gl(e)!==e)throw Error(Oe(188))}function sk(e){var t=e.alternate;if(!t){if(t=gl(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Dy(i),e;if(o===r)return Dy(i),t;o=o.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var d=!1,x=i.child;x;){if(x===n){d=!0,n=i,r=o;break}if(x===r){d=!0,r=i,n=o;break}x=x.sibling}if(!d){for(x=o.child;x;){if(x===n){d=!0,n=o,r=i;break}if(x===r){d=!0,r=o,n=i;break}x=x.sibling}if(!d)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?e:t}function e4(e){return e=sk(e),e!==null?t4(e):null}function t4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=t4(e);if(t!==null)return t;e=e.sibling}return null}var n4=Ss.unstable_scheduleCallback,Iy=Ss.unstable_cancelCallback,ik=Ss.unstable_shouldYield,ak=Ss.unstable_requestPaint,Yn=Ss.unstable_now,ok=Ss.unstable_getCurrentPriorityLevel,ig=Ss.unstable_ImmediatePriority,r4=Ss.unstable_UserBlockingPriority,I0=Ss.unstable_NormalPriority,lk=Ss.unstable_LowPriority,s4=Ss.unstable_IdlePriority,Dh=null,Mi=null;function ck(e){if(Mi&&typeof Mi.onCommitFiberRoot=="function")try{Mi.onCommitFiberRoot(Dh,e,void 0,(e.current.flags&128)===128)}catch{}}var ci=Math.clz32?Math.clz32:fk,uk=Math.log,dk=Math.LN2;function fk(e){return e>>>=0,e===0?32:31-(uk(e)/dk|0)|0}var Pf=64,Ff=4194304;function Iu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function R0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,d=n&268435455;if(d!==0){var x=d&~i;x!==0?r=Iu(x):(o&=d,o!==0&&(r=Iu(o)))}else d=n&~i,d!==0?r=Iu(d):o!==0&&(r=Iu(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ci(t),i=1<<n,r|=e[n],t&=~i;return r}function hk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var d=31-ci(o),x=1<<d,v=i[d];v===-1?(!(x&n)||x&r)&&(i[d]=hk(x,t)):v<=t&&(e.expiredLanes|=x),o&=~x}}function Im(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function i4(){var e=Pf;return Pf<<=1,!(Pf&4194240)&&(Pf=64),e}function k1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ci(t),e[t]=n}function mk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ci(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function ag(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ci(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var an=0;function a4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var o4,og,l4,c4,u4,Rm=!1,Bf=[],Ja=null,eo=null,to=null,Xu=new Map,Qu=new Map,Ya=[],xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ry(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":Xu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(t.pointerId)}}function yu(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Nd(t),t!==null&&og(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gk(e,t,n,r,i){switch(t){case"focusin":return Ja=yu(Ja,e,t,n,r,i),!0;case"dragenter":return eo=yu(eo,e,t,n,r,i),!0;case"mouseover":return to=yu(to,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Xu.set(o,yu(Xu.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Qu.set(o,yu(Qu.get(o)||null,e,t,n,r,i)),!0}return!1}function d4(e){var t=Go(e.target);if(t!==null){var n=gl(t);if(n!==null){if(t=n.tag,t===13){if(t=J3(n),t!==null){e.blockedOn=t,u4(e.priority,function(){l4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function o0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Om(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Am=r,n.target.dispatchEvent(r),Am=null}else return t=Nd(n),t!==null&&og(t),e.blockedOn=n,!1;t.shift()}return!0}function Oy(e,t,n){o0(e)&&n.delete(t)}function vk(){Rm=!1,Ja!==null&&o0(Ja)&&(Ja=null),eo!==null&&o0(eo)&&(eo=null),to!==null&&o0(to)&&(to=null),Xu.forEach(Oy),Qu.forEach(Oy)}function wu(e,t){e.blockedOn===t&&(e.blockedOn=null,Rm||(Rm=!0,Ss.unstable_scheduleCallback(Ss.unstable_NormalPriority,vk)))}function Ku(e){function t(i){return wu(i,e)}if(0<Bf.length){wu(Bf[0],e);for(var n=1;n<Bf.length;n++){var r=Bf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ja!==null&&wu(Ja,e),eo!==null&&wu(eo,e),to!==null&&wu(to,e),Xu.forEach(t),Qu.forEach(t),n=0;n<Ya.length;n++)r=Ya[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ya.length&&(n=Ya[0],n.blockedOn===null);)d4(n),n.blockedOn===null&&Ya.shift()}var ac=Ea.ReactCurrentBatchConfig,O0=!0;function yk(e,t,n,r){var i=an,o=ac.transition;ac.transition=null;try{an=1,lg(e,t,n,r)}finally{an=i,ac.transition=o}}function wk(e,t,n,r){var i=an,o=ac.transition;ac.transition=null;try{an=4,lg(e,t,n,r)}finally{an=i,ac.transition=o}}function lg(e,t,n,r){if(O0){var i=Om(e,t,n,r);if(i===null)B1(e,t,r,M0,n),Ry(e,r);else if(gk(i,e,t,n,r))r.stopPropagation();else if(Ry(e,r),t&4&&-1<xk.indexOf(e)){for(;i!==null;){var o=Nd(i);if(o!==null&&o4(o),o=Om(e,t,n,r),o===null&&B1(e,t,r,M0,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else B1(e,t,r,null,n)}}var M0=null;function Om(e,t,n,r){if(M0=null,e=sg(r),e=Go(e),e!==null)if(t=gl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=J3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return M0=e,null}function f4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ok()){case ig:return 1;case r4:return 4;case I0:case lk:return 16;case s4:return 536870912;default:return 16}default:return 16}}var Xa=null,cg=null,l0=null;function h4(){if(l0)return l0;var e,t=cg,n=t.length,r,i="value"in Xa?Xa.value:Xa.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===i[o-r];r++);return l0=i.slice(e,1<r?1-r:void 0)}function c0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uf(){return!0}function My(){return!1}function js(e){function t(n,r,i,o,d){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(o):o[x]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uf:My,this.isPropagationStopped=My,this}return Rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uf)},persist:function(){},isPersistent:Uf}),t}var Tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ug=js(Tc),Cd=Rn({},Tc,{view:0,detail:0}),bk=js(Cd),T1,D1,bu,Ih=Rn({},Cd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bu&&(bu&&e.type==="mousemove"?(T1=e.screenX-bu.screenX,D1=e.screenY-bu.screenY):D1=T1=0,bu=e),T1)},movementY:function(e){return"movementY"in e?e.movementY:D1}}),Ly=js(Ih),Ck=Rn({},Ih,{dataTransfer:0}),Nk=js(Ck),Ek=Rn({},Cd,{relatedTarget:0}),I1=js(Ek),Sk=Rn({},Tc,{animationName:0,elapsedTime:0,pseudoElement:0}),_k=js(Sk),jk=Rn({},Tc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ak=js(jk),kk=Rn({},Tc,{data:0}),Py=js(kk),Tk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ik={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ik[e])?!!t[e]:!1}function dg(){return Rk}var Ok=Rn({},Cd,{key:function(e){if(e.key){var t=Tk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=c0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dg,charCode:function(e){return e.type==="keypress"?c0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?c0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mk=js(Ok),Lk=Rn({},Ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=js(Lk),Pk=Rn({},Cd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dg}),Fk=js(Pk),Bk=Rn({},Tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uk=js(Bk),zk=Rn({},Ih,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qk=js(zk),Wk=[9,13,27,32],fg=xa&&"CompositionEvent"in window,Fu=null;xa&&"documentMode"in document&&(Fu=document.documentMode);var Hk=xa&&"TextEvent"in window&&!Fu,p4=xa&&(!fg||Fu&&8<Fu&&11>=Fu),By=String.fromCharCode(32),Uy=!1;function m4(e,t){switch(e){case"keyup":return Wk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hl=!1;function Vk(e,t){switch(e){case"compositionend":return x4(t);case"keypress":return t.which!==32?null:(Uy=!0,By);case"textInput":return e=t.data,e===By&&Uy?null:e;default:return null}}function Yk(e,t){if(Hl)return e==="compositionend"||!fg&&m4(e,t)?(e=h4(),l0=cg=Xa=null,Hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return p4&&t.locale!=="ko"?null:t.data;default:return null}}var $k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$k[e.type]:t==="textarea"}function g4(e,t,n,r){G3(r),t=L0(t,"onChange"),0<t.length&&(n=new ug("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bu=null,Zu=null;function Gk(e){A4(e,0)}function Rh(e){var t=$l(e);if(z3(t))return e}function Xk(e,t){if(e==="change")return t}var v4=!1;if(xa){var R1;if(xa){var O1="oninput"in document;if(!O1){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),O1=typeof qy.oninput=="function"}R1=O1}else R1=!1;v4=R1&&(!document.documentMode||9<document.documentMode)}function Wy(){Bu&&(Bu.detachEvent("onpropertychange",y4),Zu=Bu=null)}function y4(e){if(e.propertyName==="value"&&Rh(Zu)){var t=[];g4(t,Zu,e,sg(e)),Z3(Gk,t)}}function Qk(e,t,n){e==="focusin"?(Wy(),Bu=t,Zu=n,Bu.attachEvent("onpropertychange",y4)):e==="focusout"&&Wy()}function Kk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rh(Zu)}function Zk(e,t){if(e==="click")return Rh(t)}function Jk(e,t){if(e==="input"||e==="change")return Rh(t)}function eT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hi=typeof Object.is=="function"?Object.is:eT;function Ju(e,t){if(hi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xm.call(t,i)||!hi(e[i],t[i]))return!1}return!0}function Hy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vy(e,t){var n=Hy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hy(n)}}function w4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?w4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function b4(){for(var e=window,t=k0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=k0(e.document)}return t}function hg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tT(e){var t=b4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&w4(n.ownerDocument.documentElement,n)){if(r!==null&&hg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Vy(n,o);var d=Vy(n,r);i&&d&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nT=xa&&"documentMode"in document&&11>=document.documentMode,Vl=null,Mm=null,Uu=null,Lm=!1;function Yy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lm||Vl==null||Vl!==k0(r)||(r=Vl,"selectionStart"in r&&hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uu&&Ju(Uu,r)||(Uu=r,r=L0(Mm,"onSelect"),0<r.length&&(t=new ug("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vl)))}function zf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yl={animationend:zf("Animation","AnimationEnd"),animationiteration:zf("Animation","AnimationIteration"),animationstart:zf("Animation","AnimationStart"),transitionend:zf("Transition","TransitionEnd")},M1={},C4={};xa&&(C4=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function Oh(e){if(M1[e])return M1[e];if(!Yl[e])return e;var t=Yl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in C4)return M1[e]=t[n];return e}var N4=Oh("animationend"),E4=Oh("animationiteration"),S4=Oh("animationstart"),_4=Oh("transitionend"),j4=new Map,$y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(e,t){j4.set(e,t),xl(t,[e])}for(var L1=0;L1<$y.length;L1++){var P1=$y[L1],rT=P1.toLowerCase(),sT=P1[0].toUpperCase()+P1.slice(1);mo(rT,"on"+sT)}mo(N4,"onAnimationEnd");mo(E4,"onAnimationIteration");mo(S4,"onAnimationStart");mo("dblclick","onDoubleClick");mo("focusin","onFocus");mo("focusout","onBlur");mo(_4,"onTransitionEnd");fc("onMouseEnter",["mouseout","mouseover"]);fc("onMouseLeave",["mouseout","mouseover"]);fc("onPointerEnter",["pointerout","pointerover"]);fc("onPointerLeave",["pointerout","pointerover"]);xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ru));function Gy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rk(r,t,void 0,e),e.currentTarget=null}function A4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var d=r.length-1;0<=d;d--){var x=r[d],v=x.instance,g=x.currentTarget;if(x=x.listener,v!==o&&i.isPropagationStopped())break e;Gy(i,x,g),o=v}else for(d=0;d<r.length;d++){if(x=r[d],v=x.instance,g=x.currentTarget,x=x.listener,v!==o&&i.isPropagationStopped())break e;Gy(i,x,g),o=v}}}if(D0)throw e=Dm,D0=!1,Dm=null,e}function xn(e,t){var n=t[zm];n===void 0&&(n=t[zm]=new Set);var r=e+"__bubble";n.has(r)||(k4(t,e,2,!1),n.add(r))}function F1(e,t,n){var r=0;t&&(r|=4),k4(n,e,r,t)}var qf="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[qf]){e[qf]=!0,L3.forEach(function(n){n!=="selectionchange"&&(iT.has(n)||F1(n,!1,e),F1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qf]||(t[qf]=!0,F1("selectionchange",!1,t))}}function k4(e,t,n,r){switch(f4(t)){case 1:var i=yk;break;case 4:i=wk;break;default:i=lg}n=i.bind(null,t,n,e),i=void 0,!Tm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function B1(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var x=r.stateNode.containerInfo;if(x===i||x.nodeType===8&&x.parentNode===i)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&(v=d.stateNode.containerInfo,v===i||v.nodeType===8&&v.parentNode===i))return;d=d.return}for(;x!==null;){if(d=Go(x),d===null)return;if(v=d.tag,v===5||v===6){r=o=d;continue e}x=x.parentNode}}r=r.return}Z3(function(){var g=o,w=sg(n),N=[];e:{var S=j4.get(e);if(S!==void 0){var k=ug,j=e;switch(e){case"keypress":if(c0(n)===0)break e;case"keydown":case"keyup":k=Mk;break;case"focusin":j="focus",k=I1;break;case"focusout":j="blur",k=I1;break;case"beforeblur":case"afterblur":k=I1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Nk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Fk;break;case N4:case E4:case S4:k=_k;break;case _4:k=Uk;break;case"scroll":k=bk;break;case"wheel":k=qk;break;case"copy":case"cut":case"paste":k=Ak;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Fy}var O=(t&4)!==0,L=!O&&e==="scroll",T=O?S!==null?S+"Capture":null:S;O=[];for(var A=g,I;A!==null;){I=A;var q=I.stateNode;if(I.tag===5&&q!==null&&(I=q,T!==null&&(q=Gu(A,T),q!=null&&O.push(td(A,q,I)))),L)break;A=A.return}0<O.length&&(S=new k(S,j,null,n,w),N.push({event:S,listeners:O}))}}if(!(t&7)){e:{if(S=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",S&&n!==Am&&(j=n.relatedTarget||n.fromElement)&&(Go(j)||j[ga]))break e;if((k||S)&&(S=w.window===w?w:(S=w.ownerDocument)?S.defaultView||S.parentWindow:window,k?(j=n.relatedTarget||n.toElement,k=g,j=j?Go(j):null,j!==null&&(L=gl(j),j!==L||j.tag!==5&&j.tag!==6)&&(j=null)):(k=null,j=g),k!==j)){if(O=Ly,q="onMouseLeave",T="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(O=Fy,q="onPointerLeave",T="onPointerEnter",A="pointer"),L=k==null?S:$l(k),I=j==null?S:$l(j),S=new O(q,A+"leave",k,n,w),S.target=L,S.relatedTarget=I,q=null,Go(w)===g&&(O=new O(T,A+"enter",j,n,w),O.target=I,O.relatedTarget=L,q=O),L=q,k&&j)t:{for(O=k,T=j,A=0,I=O;I;I=Bl(I))A++;for(I=0,q=T;q;q=Bl(q))I++;for(;0<A-I;)O=Bl(O),A--;for(;0<I-A;)T=Bl(T),I--;for(;A--;){if(O===T||T!==null&&O===T.alternate)break t;O=Bl(O),T=Bl(T)}O=null}else O=null;k!==null&&Xy(N,S,k,O,!1),j!==null&&L!==null&&Xy(N,L,j,O,!0)}}e:{if(S=g?$l(g):window,k=S.nodeName&&S.nodeName.toLowerCase(),k==="select"||k==="input"&&S.type==="file")var X=Xk;else if(zy(S))if(v4)X=Jk;else{X=Kk;var F=Qk}else(k=S.nodeName)&&k.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(X=Zk);if(X&&(X=X(e,g))){g4(N,X,n,w);break e}F&&F(e,S,g),e==="focusout"&&(F=S._wrapperState)&&F.controlled&&S.type==="number"&&Nm(S,"number",S.value)}switch(F=g?$l(g):window,e){case"focusin":(zy(F)||F.contentEditable==="true")&&(Vl=F,Mm=g,Uu=null);break;case"focusout":Uu=Mm=Vl=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,Yy(N,n,w);break;case"selectionchange":if(nT)break;case"keydown":case"keyup":Yy(N,n,w)}var R;if(fg)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Hl?m4(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(p4&&n.locale!=="ko"&&(Hl||H!=="onCompositionStart"?H==="onCompositionEnd"&&Hl&&(R=h4()):(Xa=w,cg="value"in Xa?Xa.value:Xa.textContent,Hl=!0)),F=L0(g,H),0<F.length&&(H=new Py(H,e,null,n,w),N.push({event:H,listeners:F}),R?H.data=R:(R=x4(n),R!==null&&(H.data=R)))),(R=Hk?Vk(e,n):Yk(e,n))&&(g=L0(g,"onBeforeInput"),0<g.length&&(w=new Py("onBeforeInput","beforeinput",null,n,w),N.push({event:w,listeners:g}),w.data=R))}A4(N,t)})}function td(e,t,n){return{instance:e,listener:t,currentTarget:n}}function L0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Gu(e,n),o!=null&&r.unshift(td(e,o,i)),o=Gu(e,t),o!=null&&r.push(td(e,o,i))),e=e.return}return r}function Bl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xy(e,t,n,r,i){for(var o=t._reactName,d=[];n!==null&&n!==r;){var x=n,v=x.alternate,g=x.stateNode;if(v!==null&&v===r)break;x.tag===5&&g!==null&&(x=g,i?(v=Gu(n,o),v!=null&&d.unshift(td(n,v,x))):i||(v=Gu(n,o),v!=null&&d.push(td(n,v,x)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var aT=/\r\n?/g,oT=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(aT,`
`).replace(oT,"")}function Wf(e,t,n){if(t=Qy(t),Qy(e)!==t&&n)throw Error(Oe(425))}function P0(){}var Pm=null,Fm=null;function Bm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Um=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,cT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(e){return Ky.resolve(null).then(e).catch(uT)}:Um;function uT(e){setTimeout(function(){throw e})}function U1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ku(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ku(t)}function no(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Dc=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Dc,nd="__reactProps$"+Dc,ga="__reactContainer$"+Dc,zm="__reactEvents$"+Dc,dT="__reactListeners$"+Dc,fT="__reactHandles$"+Dc;function Go(e){var t=e[Ti];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ga]||n[Ti]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zy(e);e!==null;){if(n=e[Ti])return n;e=Zy(e)}return t}e=n,n=e.parentNode}return null}function Nd(e){return e=e[Ti]||e[ga],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $l(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function Mh(e){return e[nd]||null}var qm=[],Gl=-1;function xo(e){return{current:e}}function vn(e){0>Gl||(e.current=qm[Gl],qm[Gl]=null,Gl--)}function hn(e,t){Gl++,qm[Gl]=e.current,e.current=t}var fo={},Mr=xo(fo),rs=xo(!1),al=fo;function hc(e,t){var n=e.type.contextTypes;if(!n)return fo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ss(e){return e=e.childContextTypes,e!=null}function F0(){vn(rs),vn(Mr)}function Jy(e,t,n){if(Mr.current!==fo)throw Error(Oe(168));hn(Mr,t),hn(rs,n)}function T4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Oe(108,QA(e)||"Unknown",i));return Rn({},n,r)}function B0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fo,al=Mr.current,hn(Mr,e),hn(rs,rs.current),!0}function ew(e,t,n){var r=e.stateNode;if(!r)throw Error(Oe(169));n?(e=T4(e,t,al),r.__reactInternalMemoizedMergedChildContext=e,vn(rs),vn(Mr),hn(Mr,e)):vn(rs),hn(rs,n)}var oa=null,Lh=!1,z1=!1;function D4(e){oa===null?oa=[e]:oa.push(e)}function hT(e){Lh=!0,D4(e)}function go(){if(!z1&&oa!==null){z1=!0;var e=0,t=an;try{var n=oa;for(an=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}oa=null,Lh=!1}catch(i){throw oa!==null&&(oa=oa.slice(e+1)),n4(ig,go),i}finally{an=t,z1=!1}}return null}var Xl=[],Ql=0,U0=null,z0=0,Ws=[],Hs=0,ol=null,la=1,ca="";function Ho(e,t){Xl[Ql++]=z0,Xl[Ql++]=U0,U0=e,z0=t}function I4(e,t,n){Ws[Hs++]=la,Ws[Hs++]=ca,Ws[Hs++]=ol,ol=e;var r=la;e=ca;var i=32-ci(r)-1;r&=~(1<<i),n+=1;var o=32-ci(t)+i;if(30<o){var d=i-i%5;o=(r&(1<<d)-1).toString(32),r>>=d,i-=d,la=1<<32-ci(t)+i|n<<i|r,ca=o+e}else la=1<<o|n<<i|r,ca=e}function pg(e){e.return!==null&&(Ho(e,1),I4(e,1,0))}function mg(e){for(;e===U0;)U0=Xl[--Ql],Xl[Ql]=null,z0=Xl[--Ql],Xl[Ql]=null;for(;e===ol;)ol=Ws[--Hs],Ws[Hs]=null,ca=Ws[--Hs],Ws[Hs]=null,la=Ws[--Hs],Ws[Hs]=null}var Ns=null,bs=null,En=!1,li=null;function R4(e,t){var n=Ys(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ns=e,bs=no(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ns=e,bs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ol!==null?{id:la,overflow:ca}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ys(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ns=e,bs=null,!0):!1;default:return!1}}function Wm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hm(e){if(En){var t=bs;if(t){var n=t;if(!tw(e,t)){if(Wm(e))throw Error(Oe(418));t=no(n.nextSibling);var r=Ns;t&&tw(e,t)?R4(r,n):(e.flags=e.flags&-4097|2,En=!1,Ns=e)}}else{if(Wm(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,En=!1,Ns=e}}}function nw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ns=e}function Hf(e){if(e!==Ns)return!1;if(!En)return nw(e),En=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bm(e.type,e.memoizedProps)),t&&(t=bs)){if(Wm(e))throw O4(),Error(Oe(418));for(;t;)R4(e,t),t=no(t.nextSibling)}if(nw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bs=no(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bs=null}}else bs=Ns?no(e.stateNode.nextSibling):null;return!0}function O4(){for(var e=bs;e;)e=no(e.nextSibling)}function pc(){bs=Ns=null,En=!1}function xg(e){li===null?li=[e]:li.push(e)}var pT=Ea.ReactCurrentBatchConfig;function Cu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(d){var x=i.refs;d===null?delete x[o]:x[o]=d},t._stringRef=o,t)}if(typeof e!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,e))}return e}function Vf(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rw(e){var t=e._init;return t(e._payload)}function M4(e){function t(T,A){if(e){var I=T.deletions;I===null?(T.deletions=[A],T.flags|=16):I.push(A)}}function n(T,A){if(!e)return null;for(;A!==null;)t(T,A),A=A.sibling;return null}function r(T,A){for(T=new Map;A!==null;)A.key!==null?T.set(A.key,A):T.set(A.index,A),A=A.sibling;return T}function i(T,A){return T=ao(T,A),T.index=0,T.sibling=null,T}function o(T,A,I){return T.index=I,e?(I=T.alternate,I!==null?(I=I.index,I<A?(T.flags|=2,A):I):(T.flags|=2,A)):(T.flags|=1048576,A)}function d(T){return e&&T.alternate===null&&(T.flags|=2),T}function x(T,A,I,q){return A===null||A.tag!==6?(A=G1(I,T.mode,q),A.return=T,A):(A=i(A,I),A.return=T,A)}function v(T,A,I,q){var X=I.type;return X===Wl?w(T,A,I.props.children,q,I.key):A!==null&&(A.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Wa&&rw(X)===A.type)?(q=i(A,I.props),q.ref=Cu(T,A,I),q.return=T,q):(q=x0(I.type,I.key,I.props,null,T.mode,q),q.ref=Cu(T,A,I),q.return=T,q)}function g(T,A,I,q){return A===null||A.tag!==4||A.stateNode.containerInfo!==I.containerInfo||A.stateNode.implementation!==I.implementation?(A=X1(I,T.mode,q),A.return=T,A):(A=i(A,I.children||[]),A.return=T,A)}function w(T,A,I,q,X){return A===null||A.tag!==7?(A=tl(I,T.mode,q,X),A.return=T,A):(A=i(A,I),A.return=T,A)}function N(T,A,I){if(typeof A=="string"&&A!==""||typeof A=="number")return A=G1(""+A,T.mode,I),A.return=T,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Of:return I=x0(A.type,A.key,A.props,null,T.mode,I),I.ref=Cu(T,null,A),I.return=T,I;case ql:return A=X1(A,T.mode,I),A.return=T,A;case Wa:var q=A._init;return N(T,q(A._payload),I)}if(Du(A)||gu(A))return A=tl(A,T.mode,I,null),A.return=T,A;Vf(T,A)}return null}function S(T,A,I,q){var X=A!==null?A.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return X!==null?null:x(T,A,""+I,q);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Of:return I.key===X?v(T,A,I,q):null;case ql:return I.key===X?g(T,A,I,q):null;case Wa:return X=I._init,S(T,A,X(I._payload),q)}if(Du(I)||gu(I))return X!==null?null:w(T,A,I,q,null);Vf(T,I)}return null}function k(T,A,I,q,X){if(typeof q=="string"&&q!==""||typeof q=="number")return T=T.get(I)||null,x(A,T,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Of:return T=T.get(q.key===null?I:q.key)||null,v(A,T,q,X);case ql:return T=T.get(q.key===null?I:q.key)||null,g(A,T,q,X);case Wa:var F=q._init;return k(T,A,I,F(q._payload),X)}if(Du(q)||gu(q))return T=T.get(I)||null,w(A,T,q,X,null);Vf(A,q)}return null}function j(T,A,I,q){for(var X=null,F=null,R=A,H=A=0,V=null;R!==null&&H<I.length;H++){R.index>H?(V=R,R=null):V=R.sibling;var te=S(T,R,I[H],q);if(te===null){R===null&&(R=V);break}e&&R&&te.alternate===null&&t(T,R),A=o(te,A,H),F===null?X=te:F.sibling=te,F=te,R=V}if(H===I.length)return n(T,R),En&&Ho(T,H),X;if(R===null){for(;H<I.length;H++)R=N(T,I[H],q),R!==null&&(A=o(R,A,H),F===null?X=R:F.sibling=R,F=R);return En&&Ho(T,H),X}for(R=r(T,R);H<I.length;H++)V=k(R,T,H,I[H],q),V!==null&&(e&&V.alternate!==null&&R.delete(V.key===null?H:V.key),A=o(V,A,H),F===null?X=V:F.sibling=V,F=V);return e&&R.forEach(function(de){return t(T,de)}),En&&Ho(T,H),X}function O(T,A,I,q){var X=gu(I);if(typeof X!="function")throw Error(Oe(150));if(I=X.call(I),I==null)throw Error(Oe(151));for(var F=X=null,R=A,H=A=0,V=null,te=I.next();R!==null&&!te.done;H++,te=I.next()){R.index>H?(V=R,R=null):V=R.sibling;var de=S(T,R,te.value,q);if(de===null){R===null&&(R=V);break}e&&R&&de.alternate===null&&t(T,R),A=o(de,A,H),F===null?X=de:F.sibling=de,F=de,R=V}if(te.done)return n(T,R),En&&Ho(T,H),X;if(R===null){for(;!te.done;H++,te=I.next())te=N(T,te.value,q),te!==null&&(A=o(te,A,H),F===null?X=te:F.sibling=te,F=te);return En&&Ho(T,H),X}for(R=r(T,R);!te.done;H++,te=I.next())te=k(R,T,H,te.value,q),te!==null&&(e&&te.alternate!==null&&R.delete(te.key===null?H:te.key),A=o(te,A,H),F===null?X=te:F.sibling=te,F=te);return e&&R.forEach(function(re){return t(T,re)}),En&&Ho(T,H),X}function L(T,A,I,q){if(typeof I=="object"&&I!==null&&I.type===Wl&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Of:e:{for(var X=I.key,F=A;F!==null;){if(F.key===X){if(X=I.type,X===Wl){if(F.tag===7){n(T,F.sibling),A=i(F,I.props.children),A.return=T,T=A;break e}}else if(F.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Wa&&rw(X)===F.type){n(T,F.sibling),A=i(F,I.props),A.ref=Cu(T,F,I),A.return=T,T=A;break e}n(T,F);break}else t(T,F);F=F.sibling}I.type===Wl?(A=tl(I.props.children,T.mode,q,I.key),A.return=T,T=A):(q=x0(I.type,I.key,I.props,null,T.mode,q),q.ref=Cu(T,A,I),q.return=T,T=q)}return d(T);case ql:e:{for(F=I.key;A!==null;){if(A.key===F)if(A.tag===4&&A.stateNode.containerInfo===I.containerInfo&&A.stateNode.implementation===I.implementation){n(T,A.sibling),A=i(A,I.children||[]),A.return=T,T=A;break e}else{n(T,A);break}else t(T,A);A=A.sibling}A=X1(I,T.mode,q),A.return=T,T=A}return d(T);case Wa:return F=I._init,L(T,A,F(I._payload),q)}if(Du(I))return j(T,A,I,q);if(gu(I))return O(T,A,I,q);Vf(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,A!==null&&A.tag===6?(n(T,A.sibling),A=i(A,I),A.return=T,T=A):(n(T,A),A=G1(I,T.mode,q),A.return=T,T=A),d(T)):n(T,A)}return L}var mc=M4(!0),L4=M4(!1),q0=xo(null),W0=null,Kl=null,gg=null;function vg(){gg=Kl=W0=null}function yg(e){var t=q0.current;vn(q0),e._currentValue=t}function Vm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oc(e,t){W0=e,gg=Kl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ns=!0),e.firstContext=null)}function Gs(e){var t=e._currentValue;if(gg!==e)if(e={context:e,memoizedValue:t,next:null},Kl===null){if(W0===null)throw Error(Oe(308));Kl=e,W0.dependencies={lanes:0,firstContext:e}}else Kl=Kl.next=e;return t}var Xo=null;function wg(e){Xo===null?Xo=[e]:Xo.push(e)}function P4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,wg(t)):(n.next=i.next,i.next=n),t.interleaved=n,va(e,r)}function va(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ha=!1;function bg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ro(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Bt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,va(e,n)}return i=r.interleaved,i===null?(t.next=t,wg(r)):(t.next=i.next,i.next=t),r.interleaved=t,va(e,n)}function u0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ag(e,n)}}function sw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=d:o=o.next=d,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function H0(e,t,n,r){var i=e.updateQueue;Ha=!1;var o=i.firstBaseUpdate,d=i.lastBaseUpdate,x=i.shared.pending;if(x!==null){i.shared.pending=null;var v=x,g=v.next;v.next=null,d===null?o=g:d.next=g,d=v;var w=e.alternate;w!==null&&(w=w.updateQueue,x=w.lastBaseUpdate,x!==d&&(x===null?w.firstBaseUpdate=g:x.next=g,w.lastBaseUpdate=v))}if(o!==null){var N=i.baseState;d=0,w=g=v=null,x=o;do{var S=x.lane,k=x.eventTime;if((r&S)===S){w!==null&&(w=w.next={eventTime:k,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var j=e,O=x;switch(S=t,k=n,O.tag){case 1:if(j=O.payload,typeof j=="function"){N=j.call(k,N,S);break e}N=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=O.payload,S=typeof j=="function"?j.call(k,N,S):j,S==null)break e;N=Rn({},N,S);break e;case 2:Ha=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,S=i.effects,S===null?i.effects=[x]:S.push(x))}else k={eventTime:k,lane:S,tag:x.tag,payload:x.payload,callback:x.callback,next:null},w===null?(g=w=k,v=N):w=w.next=k,d|=S;if(x=x.next,x===null){if(x=i.shared.pending,x===null)break;S=x,x=S.next,S.next=null,i.lastBaseUpdate=S,i.shared.pending=null}}while(1);if(w===null&&(v=N),i.baseState=v,i.firstBaseUpdate=g,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do d|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);cl|=d,e.lanes=d,e.memoizedState=N}}function iw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var Ed={},Li=xo(Ed),rd=xo(Ed),sd=xo(Ed);function Qo(e){if(e===Ed)throw Error(Oe(174));return e}function Cg(e,t){switch(hn(sd,t),hn(rd,e),hn(Li,Ed),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sm(t,e)}vn(Li),hn(Li,t)}function xc(){vn(Li),vn(rd),vn(sd)}function B4(e){Qo(sd.current);var t=Qo(Li.current),n=Sm(t,e.type);t!==n&&(hn(rd,e),hn(Li,n))}function Ng(e){rd.current===e&&(vn(Li),vn(rd))}var Tn=xo(0);function V0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var q1=[];function Eg(){for(var e=0;e<q1.length;e++)q1[e]._workInProgressVersionPrimary=null;q1.length=0}var d0=Ea.ReactCurrentDispatcher,W1=Ea.ReactCurrentBatchConfig,ll=0,In=null,ar=null,hr=null,Y0=!1,zu=!1,id=0,mT=0;function kr(){throw Error(Oe(321))}function Sg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hi(e[n],t[n]))return!1;return!0}function _g(e,t,n,r,i,o){if(ll=o,In=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,d0.current=e===null||e.memoizedState===null?yT:wT,e=n(r,i),zu){o=0;do{if(zu=!1,id=0,25<=o)throw Error(Oe(301));o+=1,hr=ar=null,t.updateQueue=null,d0.current=bT,e=n(r,i)}while(zu)}if(d0.current=$0,t=ar!==null&&ar.next!==null,ll=0,hr=ar=In=null,Y0=!1,t)throw Error(Oe(300));return e}function jg(){var e=id!==0;return id=0,e}function _i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?In.memoizedState=hr=e:hr=hr.next=e,hr}function Xs(){if(ar===null){var e=In.alternate;e=e!==null?e.memoizedState:null}else e=ar.next;var t=hr===null?In.memoizedState:hr.next;if(t!==null)hr=t,ar=e;else{if(e===null)throw Error(Oe(310));ar=e,e={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},hr===null?In.memoizedState=hr=e:hr=hr.next=e}return hr}function ad(e,t){return typeof t=="function"?t(e):t}function H1(e){var t=Xs(),n=t.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=e;var r=ar,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var d=i.next;i.next=o.next,o.next=d}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var x=d=null,v=null,g=o;do{var w=g.lane;if((ll&w)===w)v!==null&&(v=v.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var N={lane:w,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};v===null?(x=v=N,d=r):v=v.next=N,In.lanes|=w,cl|=w}g=g.next}while(g!==null&&g!==o);v===null?d=r:v.next=x,hi(r,t.memoizedState)||(ns=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=v,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,In.lanes|=o,cl|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function V1(e){var t=Xs(),n=t.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var d=i=i.next;do o=e(o,d.action),d=d.next;while(d!==i);hi(o,t.memoizedState)||(ns=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function U4(){}function z4(e,t){var n=In,r=Xs(),i=t(),o=!hi(r.memoizedState,i);if(o&&(r.memoizedState=i,ns=!0),r=r.queue,Ag(H4.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||hr!==null&&hr.memoizedState.tag&1){if(n.flags|=2048,od(9,W4.bind(null,n,r,i,t),void 0,null),pr===null)throw Error(Oe(349));ll&30||q4(n,t,i)}return i}function q4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=In.updateQueue,t===null?(t={lastEffect:null,stores:null},In.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function W4(e,t,n,r){t.value=n,t.getSnapshot=r,V4(t)&&Y4(e)}function H4(e,t,n){return n(function(){V4(t)&&Y4(e)})}function V4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hi(e,n)}catch{return!0}}function Y4(e){var t=va(e,1);t!==null&&ui(t,e,1,-1)}function aw(e){var t=_i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ad,lastRenderedState:e},t.queue=e,e=e.dispatch=vT.bind(null,In,e),[t.memoizedState,e]}function od(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=In.updateQueue,t===null?(t={lastEffect:null,stores:null},In.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $4(){return Xs().memoizedState}function f0(e,t,n,r){var i=_i();In.flags|=e,i.memoizedState=od(1|t,n,void 0,r===void 0?null:r)}function Ph(e,t,n,r){var i=Xs();r=r===void 0?null:r;var o=void 0;if(ar!==null){var d=ar.memoizedState;if(o=d.destroy,r!==null&&Sg(r,d.deps)){i.memoizedState=od(t,n,o,r);return}}In.flags|=e,i.memoizedState=od(1|t,n,o,r)}function ow(e,t){return f0(8390656,8,e,t)}function Ag(e,t){return Ph(2048,8,e,t)}function G4(e,t){return Ph(4,2,e,t)}function X4(e,t){return Ph(4,4,e,t)}function Q4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function K4(e,t,n){return n=n!=null?n.concat([e]):null,Ph(4,4,Q4.bind(null,t,e),n)}function kg(){}function Z4(e,t){var n=Xs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function J4(e,t){var n=Xs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function eC(e,t,n){return ll&21?(hi(n,t)||(n=i4(),In.lanes|=n,cl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ns=!0),e.memoizedState=n)}function xT(e,t){var n=an;an=n!==0&&4>n?n:4,e(!0);var r=W1.transition;W1.transition={};try{e(!1),t()}finally{an=n,W1.transition=r}}function tC(){return Xs().memoizedState}function gT(e,t,n){var r=io(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nC(e))rC(t,n);else if(n=P4(e,t,n,r),n!==null){var i=Vr();ui(n,e,r,i),sC(n,t,r)}}function vT(e,t,n){var r=io(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nC(e))rC(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,x=o(d,n);if(i.hasEagerState=!0,i.eagerState=x,hi(x,d)){var v=t.interleaved;v===null?(i.next=i,wg(t)):(i.next=v.next,v.next=i),t.interleaved=i;return}}catch{}finally{}n=P4(e,t,i,r),n!==null&&(i=Vr(),ui(n,e,r,i),sC(n,t,r))}}function nC(e){var t=e.alternate;return e===In||t!==null&&t===In}function rC(e,t){zu=Y0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ag(e,n)}}var $0={readContext:Gs,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},yT={readContext:Gs,useCallback:function(e,t){return _i().memoizedState=[e,t===void 0?null:t],e},useContext:Gs,useEffect:ow,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,f0(4194308,4,Q4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return f0(4194308,4,e,t)},useInsertionEffect:function(e,t){return f0(4,2,e,t)},useMemo:function(e,t){var n=_i();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_i();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gT.bind(null,In,e),[r.memoizedState,e]},useRef:function(e){var t=_i();return e={current:e},t.memoizedState=e},useState:aw,useDebugValue:kg,useDeferredValue:function(e){return _i().memoizedState=e},useTransition:function(){var e=aw(!1),t=e[0];return e=xT.bind(null,e[1]),_i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=In,i=_i();if(En){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=t(),pr===null)throw Error(Oe(349));ll&30||q4(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ow(H4.bind(null,r,o,e),[e]),r.flags|=2048,od(9,W4.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_i(),t=pr.identifierPrefix;if(En){var n=ca,r=la;n=(r&~(1<<32-ci(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=id++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wT={readContext:Gs,useCallback:Z4,useContext:Gs,useEffect:Ag,useImperativeHandle:K4,useInsertionEffect:G4,useLayoutEffect:X4,useMemo:J4,useReducer:H1,useRef:$4,useState:function(){return H1(ad)},useDebugValue:kg,useDeferredValue:function(e){var t=Xs();return eC(t,ar.memoizedState,e)},useTransition:function(){var e=H1(ad)[0],t=Xs().memoizedState;return[e,t]},useMutableSource:U4,useSyncExternalStore:z4,useId:tC,unstable_isNewReconciler:!1},bT={readContext:Gs,useCallback:Z4,useContext:Gs,useEffect:Ag,useImperativeHandle:K4,useInsertionEffect:G4,useLayoutEffect:X4,useMemo:J4,useReducer:V1,useRef:$4,useState:function(){return V1(ad)},useDebugValue:kg,useDeferredValue:function(e){var t=Xs();return ar===null?t.memoizedState=e:eC(t,ar.memoizedState,e)},useTransition:function(){var e=V1(ad)[0],t=Xs().memoizedState;return[e,t]},useMutableSource:U4,useSyncExternalStore:z4,useId:tC,unstable_isNewReconciler:!1};function ai(e,t){if(e&&e.defaultProps){t=Rn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ym(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Rn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fh={isMounted:function(e){return(e=e._reactInternals)?gl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vr(),i=io(e),o=ua(r,i);o.payload=t,n!=null&&(o.callback=n),t=ro(e,o,i),t!==null&&(ui(t,e,i,r),u0(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vr(),i=io(e),o=ua(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ro(e,o,i),t!==null&&(ui(t,e,i,r),u0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vr(),r=io(e),i=ua(n,r);i.tag=2,t!=null&&(i.callback=t),t=ro(e,i,r),t!==null&&(ui(t,e,r,n),u0(t,e,r))}};function lw(e,t,n,r,i,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,d):t.prototype&&t.prototype.isPureReactComponent?!Ju(n,r)||!Ju(i,o):!0}function iC(e,t,n){var r=!1,i=fo,o=t.contextType;return typeof o=="object"&&o!==null?o=Gs(o):(i=ss(t)?al:Mr.current,r=t.contextTypes,o=(r=r!=null)?hc(e,i):fo),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function cw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fh.enqueueReplaceState(t,t.state,null)}function $m(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},bg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Gs(o):(o=ss(t)?al:Mr.current,i.context=hc(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ym(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Fh.enqueueReplaceState(i,i.state,null),H0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function gc(e,t){try{var n="",r=t;do n+=XA(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Y1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var CT=typeof WeakMap=="function"?WeakMap:Map;function aC(e,t,n){n=ua(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){X0||(X0=!0,sx=r),Gm(e,t)},n}function oC(e,t,n){n=ua(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Gm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gm(e,t),typeof r!="function"&&(so===null?so=new Set([this]):so.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function uw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new CT;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=LT.bind(null,e,t,n),t.then(e,e))}function dw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ua(-1,1),t.tag=2,ro(n,t,1))),n.lanes|=1),e)}var NT=Ea.ReactCurrentOwner,ns=!1;function zr(e,t,n,r){t.child=e===null?L4(t,null,n,r):mc(t,e.child,n,r)}function hw(e,t,n,r,i){n=n.render;var o=t.ref;return oc(t,i),r=_g(e,t,n,r,o,i),n=jg(),e!==null&&!ns?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ya(e,t,i)):(En&&n&&pg(t),t.flags|=1,zr(e,t,r,i),t.child)}function pw(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Pg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,lC(e,t,o,r,i)):(e=x0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var d=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ju,n(d,r)&&e.ref===t.ref)return ya(e,t,i)}return t.flags|=1,e=ao(o,r),e.ref=t.ref,e.return=t,t.child=e}function lC(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ju(o,r)&&e.ref===t.ref)if(ns=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(ns=!0);else return t.lanes=e.lanes,ya(e,t,i)}return Xm(e,t,n,r,i)}function cC(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(Jl,ys),ys|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,hn(Jl,ys),ys|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,hn(Jl,ys),ys|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,hn(Jl,ys),ys|=r;return zr(e,t,i,n),t.child}function uC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xm(e,t,n,r,i){var o=ss(n)?al:Mr.current;return o=hc(t,o),oc(t,i),n=_g(e,t,n,r,o,i),r=jg(),e!==null&&!ns?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ya(e,t,i)):(En&&r&&pg(t),t.flags|=1,zr(e,t,n,i),t.child)}function mw(e,t,n,r,i){if(ss(n)){var o=!0;B0(t)}else o=!1;if(oc(t,i),t.stateNode===null)h0(e,t),iC(t,n,r),$m(t,n,r,i),r=!0;else if(e===null){var d=t.stateNode,x=t.memoizedProps;d.props=x;var v=d.context,g=n.contextType;typeof g=="object"&&g!==null?g=Gs(g):(g=ss(n)?al:Mr.current,g=hc(t,g));var w=n.getDerivedStateFromProps,N=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function";N||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==r||v!==g)&&cw(t,d,r,g),Ha=!1;var S=t.memoizedState;d.state=S,H0(t,r,d,i),v=t.memoizedState,x!==r||S!==v||rs.current||Ha?(typeof w=="function"&&(Ym(t,n,w,r),v=t.memoizedState),(x=Ha||lw(t,n,x,r,S,v,g))?(N||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=v),d.props=r,d.state=v,d.context=g,r=x):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,F4(e,t),x=t.memoizedProps,g=t.type===t.elementType?x:ai(t.type,x),d.props=g,N=t.pendingProps,S=d.context,v=n.contextType,typeof v=="object"&&v!==null?v=Gs(v):(v=ss(n)?al:Mr.current,v=hc(t,v));var k=n.getDerivedStateFromProps;(w=typeof k=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==N||S!==v)&&cw(t,d,r,v),Ha=!1,S=t.memoizedState,d.state=S,H0(t,r,d,i);var j=t.memoizedState;x!==N||S!==j||rs.current||Ha?(typeof k=="function"&&(Ym(t,n,k,r),j=t.memoizedState),(g=Ha||lw(t,n,g,r,S,j,v)||!1)?(w||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,j,v),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,j,v)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),d.props=r,d.state=j,d.context=v,r=g):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),r=!1)}return Qm(e,t,n,r,o,i)}function Qm(e,t,n,r,i,o){uC(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return i&&ew(t,n,!1),ya(e,t,o);r=t.stateNode,NT.current=t;var x=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=mc(t,e.child,null,o),t.child=mc(t,null,x,o)):zr(e,t,x,o),t.memoizedState=r.state,i&&ew(t,n,!0),t.child}function dC(e){var t=e.stateNode;t.pendingContext?Jy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jy(e,t.context,!1),Cg(e,t.containerInfo)}function xw(e,t,n,r,i){return pc(),xg(i),t.flags|=256,zr(e,t,n,r),t.child}var Km={dehydrated:null,treeContext:null,retryLane:0};function Zm(e){return{baseLanes:e,cachePool:null,transitions:null}}function fC(e,t,n){var r=t.pendingProps,i=Tn.current,o=!1,d=(t.flags&128)!==0,x;if((x=d)||(x=e!==null&&e.memoizedState===null?!1:(i&2)!==0),x?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),hn(Tn,i&1),e===null)return Hm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,e=r.fallback,o?(r=t.mode,o=t.child,d={mode:"hidden",children:d},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=d):o=zh(d,r,0,null),e=tl(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Zm(n),t.memoizedState=Km,e):Tg(t,d));if(i=e.memoizedState,i!==null&&(x=i.dehydrated,x!==null))return ET(e,t,d,r,x,i,n);if(o){o=r.fallback,d=t.mode,i=e.child,x=i.sibling;var v={mode:"hidden",children:r.children};return!(d&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=v,t.deletions=null):(r=ao(i,v),r.subtreeFlags=i.subtreeFlags&14680064),x!==null?o=ao(x,o):(o=tl(o,d,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,d=e.child.memoizedState,d=d===null?Zm(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},o.memoizedState=d,o.childLanes=e.childLanes&~n,t.memoizedState=Km,r}return o=e.child,e=o.sibling,r=ao(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tg(e,t){return t=zh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yf(e,t,n,r){return r!==null&&xg(r),mc(t,e.child,null,n),e=Tg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ET(e,t,n,r,i,o,d){if(n)return t.flags&256?(t.flags&=-257,r=Y1(Error(Oe(422))),Yf(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=zh({mode:"visible",children:r.children},i,0,null),o=tl(o,i,d,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&mc(t,e.child,null,d),t.child.memoizedState=Zm(d),t.memoizedState=Km,o);if(!(t.mode&1))return Yf(e,t,d,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var x=r.dgst;return r=x,o=Error(Oe(419)),r=Y1(o,r,void 0),Yf(e,t,d,r)}if(x=(d&e.childLanes)!==0,ns||x){if(r=pr,r!==null){switch(d&-d){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|d)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,va(e,i),ui(r,e,i,-1))}return Lg(),r=Y1(Error(Oe(421))),Yf(e,t,d,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=PT.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,bs=no(i.nextSibling),Ns=t,En=!0,li=null,e!==null&&(Ws[Hs++]=la,Ws[Hs++]=ca,Ws[Hs++]=ol,la=e.id,ca=e.overflow,ol=t),t=Tg(t,r.children),t.flags|=4096,t)}function gw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vm(e.return,t,n)}function $1(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function hC(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(zr(e,t,r.children,n),r=Tn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gw(e,n,t);else if(e.tag===19)gw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hn(Tn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&V0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$1(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&V0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$1(t,!0,n,null,o);break;case"together":$1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function h0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ya(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,n=ao(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ao(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ST(e,t,n){switch(t.tag){case 3:dC(t),pc();break;case 5:B4(t);break;case 1:ss(t.type)&&B0(t);break;case 4:Cg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;hn(q0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(hn(Tn,Tn.current&1),t.flags|=128,null):n&t.child.childLanes?fC(e,t,n):(hn(Tn,Tn.current&1),e=ya(e,t,n),e!==null?e.sibling:null);hn(Tn,Tn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return hC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),hn(Tn,Tn.current),r)break;return null;case 22:case 23:return t.lanes=0,cC(e,t,n)}return ya(e,t,n)}var pC,Jm,mC,xC;pC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jm=function(){};mC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qo(Li.current);var o=null;switch(n){case"input":i=bm(e,i),r=bm(e,r),o=[];break;case"select":i=Rn({},i,{value:void 0}),r=Rn({},r,{value:void 0}),o=[];break;case"textarea":i=Em(e,i),r=Em(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=P0)}_m(n,r);var d;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var x=i[g];for(d in x)x.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Yu.hasOwnProperty(g)?o||(o=[]):(o=o||[]).push(g,null));for(g in r){var v=r[g];if(x=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&v!==x&&(v!=null||x!=null))if(g==="style")if(x){for(d in x)!x.hasOwnProperty(d)||v&&v.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in v)v.hasOwnProperty(d)&&x[d]!==v[d]&&(n||(n={}),n[d]=v[d])}else n||(o||(o=[]),o.push(g,n)),n=v;else g==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,x=x?x.__html:void 0,v!=null&&x!==v&&(o=o||[]).push(g,v)):g==="children"?typeof v!="string"&&typeof v!="number"||(o=o||[]).push(g,""+v):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Yu.hasOwnProperty(g)?(v!=null&&g==="onScroll"&&xn("scroll",e),o||x===v||(o=[])):(o=o||[]).push(g,v))}n&&(o=o||[]).push("style",n);var g=o;(t.updateQueue=g)&&(t.flags|=4)}};xC=function(e,t,n,r){n!==r&&(t.flags|=4)};function Nu(e,t){if(!En)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _T(e,t,n){var r=t.pendingProps;switch(mg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(t),null;case 1:return ss(t.type)&&F0(),Tr(t),null;case 3:return r=t.stateNode,xc(),vn(rs),vn(Mr),Eg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Hf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,li!==null&&(ox(li),li=null))),Jm(e,t),Tr(t),null;case 5:Ng(t);var i=Qo(sd.current);if(n=t.type,e!==null&&t.stateNode!=null)mC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Oe(166));return Tr(t),null}if(e=Qo(Li.current),Hf(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ti]=t,r[nd]=o,e=(t.mode&1)!==0,n){case"dialog":xn("cancel",r),xn("close",r);break;case"iframe":case"object":case"embed":xn("load",r);break;case"video":case"audio":for(i=0;i<Ru.length;i++)xn(Ru[i],r);break;case"source":xn("error",r);break;case"img":case"image":case"link":xn("error",r),xn("load",r);break;case"details":xn("toggle",r);break;case"input":_y(r,o),xn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},xn("invalid",r);break;case"textarea":Ay(r,o),xn("invalid",r)}_m(n,o),i=null;for(var d in o)if(o.hasOwnProperty(d)){var x=o[d];d==="children"?typeof x=="string"?r.textContent!==x&&(o.suppressHydrationWarning!==!0&&Wf(r.textContent,x,e),i=["children",x]):typeof x=="number"&&r.textContent!==""+x&&(o.suppressHydrationWarning!==!0&&Wf(r.textContent,x,e),i=["children",""+x]):Yu.hasOwnProperty(d)&&x!=null&&d==="onScroll"&&xn("scroll",r)}switch(n){case"input":Mf(r),jy(r,o,!0);break;case"textarea":Mf(r),ky(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=P0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[Ti]=t,e[nd]=r,pC(e,t,!1,!1),t.stateNode=e;e:{switch(d=jm(n,r),n){case"dialog":xn("cancel",e),xn("close",e),i=r;break;case"iframe":case"object":case"embed":xn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ru.length;i++)xn(Ru[i],e);i=r;break;case"source":xn("error",e),i=r;break;case"img":case"image":case"link":xn("error",e),xn("load",e),i=r;break;case"details":xn("toggle",e),i=r;break;case"input":_y(e,r),i=bm(e,r),xn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Rn({},r,{value:void 0}),xn("invalid",e);break;case"textarea":Ay(e,r),i=Em(e,r),xn("invalid",e);break;default:i=r}_m(n,i),x=i;for(o in x)if(x.hasOwnProperty(o)){var v=x[o];o==="style"?$3(e,v):o==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&V3(e,v)):o==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&$u(e,v):typeof v=="number"&&$u(e,""+v):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yu.hasOwnProperty(o)?v!=null&&o==="onScroll"&&xn("scroll",e):v!=null&&eg(e,o,v,d))}switch(n){case"input":Mf(e),jy(e,r,!1);break;case"textarea":Mf(e),ky(e);break;case"option":r.value!=null&&e.setAttribute("value",""+uo(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?rc(e,!!r.multiple,o,!1):r.defaultValue!=null&&rc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=P0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tr(t),null;case 6:if(e&&t.stateNode!=null)xC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Oe(166));if(n=Qo(sd.current),Qo(Li.current),Hf(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ti]=t,(o=r.nodeValue!==n)&&(e=Ns,e!==null))switch(e.tag){case 3:Wf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wf(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ti]=t,t.stateNode=r}return Tr(t),null;case 13:if(vn(Tn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(En&&bs!==null&&t.mode&1&&!(t.flags&128))O4(),pc(),t.flags|=98560,o=!1;else if(o=Hf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Oe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Oe(317));o[Ti]=t}else pc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tr(t),o=!1}else li!==null&&(ox(li),li=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Tn.current&1?or===0&&(or=3):Lg())),t.updateQueue!==null&&(t.flags|=4),Tr(t),null);case 4:return xc(),Jm(e,t),e===null&&ed(t.stateNode.containerInfo),Tr(t),null;case 10:return yg(t.type._context),Tr(t),null;case 17:return ss(t.type)&&F0(),Tr(t),null;case 19:if(vn(Tn),o=t.memoizedState,o===null)return Tr(t),null;if(r=(t.flags&128)!==0,d=o.rendering,d===null)if(r)Nu(o,!1);else{if(or!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=V0(e),d!==null){for(t.flags|=128,Nu(o,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,d=o.alternate,d===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,e=d.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hn(Tn,Tn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Yn()>vc&&(t.flags|=128,r=!0,Nu(o,!1),t.lanes=4194304)}else{if(!r)if(e=V0(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!En)return Tr(t),null}else 2*Yn()-o.renderingStartTime>vc&&n!==1073741824&&(t.flags|=128,r=!0,Nu(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(n=o.last,n!==null?n.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yn(),t.sibling=null,n=Tn.current,hn(Tn,r?n&1|2:n&1),t):(Tr(t),null);case 22:case 23:return Mg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ys&1073741824&&(Tr(t),t.subtreeFlags&6&&(t.flags|=8192)):Tr(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function jT(e,t){switch(mg(t),t.tag){case 1:return ss(t.type)&&F0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xc(),vn(rs),vn(Mr),Eg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ng(t),null;case 13:if(vn(Tn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));pc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vn(Tn),null;case 4:return xc(),null;case 10:return yg(t.type._context),null;case 22:case 23:return Mg(),null;case 24:return null;default:return null}}var $f=!1,Ir=!1,AT=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Zl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Bn(e,t,r)}else n.current=null}function ex(e,t,n){try{n()}catch(r){Bn(e,t,r)}}var vw=!1;function kT(e,t){if(Pm=O0,e=b4(),hg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var d=0,x=-1,v=-1,g=0,w=0,N=e,S=null;t:for(;;){for(var k;N!==n||i!==0&&N.nodeType!==3||(x=d+i),N!==o||r!==0&&N.nodeType!==3||(v=d+r),N.nodeType===3&&(d+=N.nodeValue.length),(k=N.firstChild)!==null;)S=N,N=k;for(;;){if(N===e)break t;if(S===n&&++g===i&&(x=d),S===o&&++w===r&&(v=d),(k=N.nextSibling)!==null)break;N=S,S=N.parentNode}N=k}n=x===-1||v===-1?null:{start:x,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fm={focusedElem:e,selectionRange:n},O0=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var O=j.memoizedProps,L=j.memoizedState,T=t.stateNode,A=T.getSnapshotBeforeUpdate(t.elementType===t.type?O:ai(t.type,O),L);T.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(q){Bn(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return j=vw,vw=!1,j}function qu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ex(t,n,o)}i=i.next}while(i!==r)}}function Bh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gC(e){var t=e.alternate;t!==null&&(e.alternate=null,gC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ti],delete t[nd],delete t[zm],delete t[dT],delete t[fT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vC(e){return e.tag===5||e.tag===3||e.tag===4}function yw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=P0));else if(r!==4&&(e=e.child,e!==null))for(nx(e,t,n),e=e.sibling;e!==null;)nx(e,t,n),e=e.sibling}function rx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rx(e,t,n),e=e.sibling;e!==null;)rx(e,t,n),e=e.sibling}var yr=null,oi=!1;function Ua(e,t,n){for(n=n.child;n!==null;)yC(e,t,n),n=n.sibling}function yC(e,t,n){if(Mi&&typeof Mi.onCommitFiberUnmount=="function")try{Mi.onCommitFiberUnmount(Dh,n)}catch{}switch(n.tag){case 5:Ir||Zl(n,t);case 6:var r=yr,i=oi;yr=null,Ua(e,t,n),yr=r,oi=i,yr!==null&&(oi?(e=yr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):yr.removeChild(n.stateNode));break;case 18:yr!==null&&(oi?(e=yr,n=n.stateNode,e.nodeType===8?U1(e.parentNode,n):e.nodeType===1&&U1(e,n),Ku(e)):U1(yr,n.stateNode));break;case 4:r=yr,i=oi,yr=n.stateNode.containerInfo,oi=!0,Ua(e,t,n),yr=r,oi=i;break;case 0:case 11:case 14:case 15:if(!Ir&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,d=o.destroy;o=o.tag,d!==void 0&&(o&2||o&4)&&ex(n,t,d),i=i.next}while(i!==r)}Ua(e,t,n);break;case 1:if(!Ir&&(Zl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(x){Bn(n,t,x)}Ua(e,t,n);break;case 21:Ua(e,t,n);break;case 22:n.mode&1?(Ir=(r=Ir)||n.memoizedState!==null,Ua(e,t,n),Ir=r):Ua(e,t,n);break;default:Ua(e,t,n)}}function ww(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new AT),t.forEach(function(r){var i=FT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function si(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,d=t,x=d;e:for(;x!==null;){switch(x.tag){case 5:yr=x.stateNode,oi=!1;break e;case 3:yr=x.stateNode.containerInfo,oi=!0;break e;case 4:yr=x.stateNode.containerInfo,oi=!0;break e}x=x.return}if(yr===null)throw Error(Oe(160));yC(o,d,i),yr=null,oi=!1;var v=i.alternate;v!==null&&(v.return=null),i.return=null}catch(g){Bn(i,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wC(t,e),t=t.sibling}function wC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(si(t,e),Ni(e),r&4){try{qu(3,e,e.return),Bh(3,e)}catch(O){Bn(e,e.return,O)}try{qu(5,e,e.return)}catch(O){Bn(e,e.return,O)}}break;case 1:si(t,e),Ni(e),r&512&&n!==null&&Zl(n,n.return);break;case 5:if(si(t,e),Ni(e),r&512&&n!==null&&Zl(n,n.return),e.flags&32){var i=e.stateNode;try{$u(i,"")}catch(O){Bn(e,e.return,O)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,d=n!==null?n.memoizedProps:o,x=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{x==="input"&&o.type==="radio"&&o.name!=null&&q3(i,o),jm(x,d);var g=jm(x,o);for(d=0;d<v.length;d+=2){var w=v[d],N=v[d+1];w==="style"?$3(i,N):w==="dangerouslySetInnerHTML"?V3(i,N):w==="children"?$u(i,N):eg(i,w,N,g)}switch(x){case"input":Cm(i,o);break;case"textarea":W3(i,o);break;case"select":var S=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var k=o.value;k!=null?rc(i,!!o.multiple,k,!1):S!==!!o.multiple&&(o.defaultValue!=null?rc(i,!!o.multiple,o.defaultValue,!0):rc(i,!!o.multiple,o.multiple?[]:"",!1))}i[nd]=o}catch(O){Bn(e,e.return,O)}}break;case 6:if(si(t,e),Ni(e),r&4){if(e.stateNode===null)throw Error(Oe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(O){Bn(e,e.return,O)}}break;case 3:if(si(t,e),Ni(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ku(t.containerInfo)}catch(O){Bn(e,e.return,O)}break;case 4:si(t,e),Ni(e);break;case 13:si(t,e),Ni(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Rg=Yn())),r&4&&ww(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(Ir=(g=Ir)||w,si(t,e),Ir=g):si(t,e),Ni(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!w&&e.mode&1)for(Ye=e,w=e.child;w!==null;){for(N=Ye=w;Ye!==null;){switch(S=Ye,k=S.child,S.tag){case 0:case 11:case 14:case 15:qu(4,S,S.return);break;case 1:Zl(S,S.return);var j=S.stateNode;if(typeof j.componentWillUnmount=="function"){r=S,n=S.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(O){Bn(r,n,O)}}break;case 5:Zl(S,S.return);break;case 22:if(S.memoizedState!==null){Cw(N);continue}}k!==null?(k.return=S,Ye=k):Cw(N)}w=w.sibling}e:for(w=null,N=e;;){if(N.tag===5){if(w===null){w=N;try{i=N.stateNode,g?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(x=N.stateNode,v=N.memoizedProps.style,d=v!=null&&v.hasOwnProperty("display")?v.display:null,x.style.display=Y3("display",d))}catch(O){Bn(e,e.return,O)}}}else if(N.tag===6){if(w===null)try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(O){Bn(e,e.return,O)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;w===N&&(w=null),N=N.return}w===N&&(w=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:si(t,e),Ni(e),r&4&&ww(e);break;case 21:break;default:si(t,e),Ni(e)}}function Ni(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vC(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($u(i,""),r.flags&=-33);var o=yw(e);rx(e,o,i);break;case 3:case 4:var d=r.stateNode.containerInfo,x=yw(e);nx(e,x,d);break;default:throw Error(Oe(161))}}catch(v){Bn(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TT(e,t,n){Ye=e,bC(e)}function bC(e,t,n){for(var r=(e.mode&1)!==0;Ye!==null;){var i=Ye,o=i.child;if(i.tag===22&&r){var d=i.memoizedState!==null||$f;if(!d){var x=i.alternate,v=x!==null&&x.memoizedState!==null||Ir;x=$f;var g=Ir;if($f=d,(Ir=v)&&!g)for(Ye=i;Ye!==null;)d=Ye,v=d.child,d.tag===22&&d.memoizedState!==null?Nw(i):v!==null?(v.return=d,Ye=v):Nw(i);for(;o!==null;)Ye=o,bC(o),o=o.sibling;Ye=i,$f=x,Ir=g}bw(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ye=o):bw(e)}}function bw(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ir||Bh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ir)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ai(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&iw(t,o,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iw(t,d,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var w=g.memoizedState;if(w!==null){var N=w.dehydrated;N!==null&&Ku(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Ir||t.flags&512&&tx(t)}catch(S){Bn(t,t.return,S)}}if(t===e){Ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function Cw(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function Nw(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bh(4,t)}catch(v){Bn(t,n,v)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(v){Bn(t,i,v)}}var o=t.return;try{tx(t)}catch(v){Bn(t,o,v)}break;case 5:var d=t.return;try{tx(t)}catch(v){Bn(t,d,v)}}}catch(v){Bn(t,t.return,v)}if(t===e){Ye=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Ye=x;break}Ye=t.return}}var DT=Math.ceil,G0=Ea.ReactCurrentDispatcher,Dg=Ea.ReactCurrentOwner,$s=Ea.ReactCurrentBatchConfig,Bt=0,pr=null,Jn=null,wr=0,ys=0,Jl=xo(0),or=0,ld=null,cl=0,Uh=0,Ig=0,Wu=null,ts=null,Rg=0,vc=1/0,aa=null,X0=!1,sx=null,so=null,Gf=!1,Qa=null,Q0=0,Hu=0,ix=null,p0=-1,m0=0;function Vr(){return Bt&6?Yn():p0!==-1?p0:p0=Yn()}function io(e){return e.mode&1?Bt&2&&wr!==0?wr&-wr:pT.transition!==null?(m0===0&&(m0=i4()),m0):(e=an,e!==0||(e=window.event,e=e===void 0?16:f4(e.type)),e):1}function ui(e,t,n,r){if(50<Hu)throw Hu=0,ix=null,Error(Oe(185));bd(e,n,r),(!(Bt&2)||e!==pr)&&(e===pr&&(!(Bt&2)&&(Uh|=n),or===4&&$a(e,wr)),is(e,r),n===1&&Bt===0&&!(t.mode&1)&&(vc=Yn()+500,Lh&&go()))}function is(e,t){var n=e.callbackNode;pk(e,t);var r=R0(e,e===pr?wr:0);if(r===0)n!==null&&Iy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Iy(n),t===1)e.tag===0?hT(Ew.bind(null,e)):D4(Ew.bind(null,e)),cT(function(){!(Bt&6)&&go()}),n=null;else{switch(a4(r)){case 1:n=ig;break;case 4:n=r4;break;case 16:n=I0;break;case 536870912:n=s4;break;default:n=I0}n=kC(n,CC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function CC(e,t){if(p0=-1,m0=0,Bt&6)throw Error(Oe(327));var n=e.callbackNode;if(lc()&&e.callbackNode!==n)return null;var r=R0(e,e===pr?wr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=K0(e,r);else{t=r;var i=Bt;Bt|=2;var o=EC();(pr!==e||wr!==t)&&(aa=null,vc=Yn()+500,el(e,t));do try{OT();break}catch(x){NC(e,x)}while(1);vg(),G0.current=o,Bt=i,Jn!==null?t=0:(pr=null,wr=0,t=or)}if(t!==0){if(t===2&&(i=Im(e),i!==0&&(r=i,t=ax(e,i))),t===1)throw n=ld,el(e,0),$a(e,r),is(e,Yn()),n;if(t===6)$a(e,r);else{if(i=e.current.alternate,!(r&30)&&!IT(i)&&(t=K0(e,r),t===2&&(o=Im(e),o!==0&&(r=o,t=ax(e,o))),t===1))throw n=ld,el(e,0),$a(e,r),is(e,Yn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Oe(345));case 2:Vo(e,ts,aa);break;case 3:if($a(e,r),(r&130023424)===r&&(t=Rg+500-Yn(),10<t)){if(R0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Vr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Um(Vo.bind(null,e,ts,aa),t);break}Vo(e,ts,aa);break;case 4:if($a(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var d=31-ci(r);o=1<<d,d=t[d],d>i&&(i=d),r&=~o}if(r=i,r=Yn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DT(r/1960))-r,10<r){e.timeoutHandle=Um(Vo.bind(null,e,ts,aa),r);break}Vo(e,ts,aa);break;case 5:Vo(e,ts,aa);break;default:throw Error(Oe(329))}}}return is(e,Yn()),e.callbackNode===n?CC.bind(null,e):null}function ax(e,t){var n=Wu;return e.current.memoizedState.isDehydrated&&(el(e,t).flags|=256),e=K0(e,t),e!==2&&(t=ts,ts=n,t!==null&&ox(t)),e}function ox(e){ts===null?ts=e:ts.push.apply(ts,e)}function IT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hi(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $a(e,t){for(t&=~Ig,t&=~Uh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ci(t),r=1<<n;e[n]=-1,t&=~r}}function Ew(e){if(Bt&6)throw Error(Oe(327));lc();var t=R0(e,0);if(!(t&1))return is(e,Yn()),null;var n=K0(e,t);if(e.tag!==0&&n===2){var r=Im(e);r!==0&&(t=r,n=ax(e,r))}if(n===1)throw n=ld,el(e,0),$a(e,t),is(e,Yn()),n;if(n===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vo(e,ts,aa),is(e,Yn()),null}function Og(e,t){var n=Bt;Bt|=1;try{return e(t)}finally{Bt=n,Bt===0&&(vc=Yn()+500,Lh&&go())}}function ul(e){Qa!==null&&Qa.tag===0&&!(Bt&6)&&lc();var t=Bt;Bt|=1;var n=$s.transition,r=an;try{if($s.transition=null,an=1,e)return e()}finally{an=r,$s.transition=n,Bt=t,!(Bt&6)&&go()}}function Mg(){ys=Jl.current,vn(Jl)}function el(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lT(n)),Jn!==null)for(n=Jn.return;n!==null;){var r=n;switch(mg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&F0();break;case 3:xc(),vn(rs),vn(Mr),Eg();break;case 5:Ng(r);break;case 4:xc();break;case 13:vn(Tn);break;case 19:vn(Tn);break;case 10:yg(r.type._context);break;case 22:case 23:Mg()}n=n.return}if(pr=e,Jn=e=ao(e.current,null),wr=ys=t,or=0,ld=null,Ig=Uh=cl=0,ts=Wu=null,Xo!==null){for(t=0;t<Xo.length;t++)if(n=Xo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var d=o.next;o.next=i,r.next=d}n.pending=r}Xo=null}return e}function NC(e,t){do{var n=Jn;try{if(vg(),d0.current=$0,Y0){for(var r=In.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Y0=!1}if(ll=0,hr=ar=In=null,zu=!1,id=0,Dg.current=null,n===null||n.return===null){or=1,ld=t,Jn=null;break}e:{var o=e,d=n.return,x=n,v=t;if(t=wr,x.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var g=v,w=x,N=w.tag;if(!(w.mode&1)&&(N===0||N===11||N===15)){var S=w.alternate;S?(w.updateQueue=S.updateQueue,w.memoizedState=S.memoizedState,w.lanes=S.lanes):(w.updateQueue=null,w.memoizedState=null)}var k=dw(d);if(k!==null){k.flags&=-257,fw(k,d,x,o,t),k.mode&1&&uw(o,g,t),t=k,v=g;var j=t.updateQueue;if(j===null){var O=new Set;O.add(v),t.updateQueue=O}else j.add(v);break e}else{if(!(t&1)){uw(o,g,t),Lg();break e}v=Error(Oe(426))}}else if(En&&x.mode&1){var L=dw(d);if(L!==null){!(L.flags&65536)&&(L.flags|=256),fw(L,d,x,o,t),xg(gc(v,x));break e}}o=v=gc(v,x),or!==4&&(or=2),Wu===null?Wu=[o]:Wu.push(o),o=d;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var T=aC(o,v,t);sw(o,T);break e;case 1:x=v;var A=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(so===null||!so.has(I)))){o.flags|=65536,t&=-t,o.lanes|=t;var q=oC(o,x,t);sw(o,q);break e}}o=o.return}while(o!==null)}_C(n)}catch(X){t=X,Jn===n&&n!==null&&(Jn=n=n.return);continue}break}while(1)}function EC(){var e=G0.current;return G0.current=$0,e===null?$0:e}function Lg(){(or===0||or===3||or===2)&&(or=4),pr===null||!(cl&268435455)&&!(Uh&268435455)||$a(pr,wr)}function K0(e,t){var n=Bt;Bt|=2;var r=EC();(pr!==e||wr!==t)&&(aa=null,el(e,t));do try{RT();break}catch(i){NC(e,i)}while(1);if(vg(),Bt=n,G0.current=r,Jn!==null)throw Error(Oe(261));return pr=null,wr=0,or}function RT(){for(;Jn!==null;)SC(Jn)}function OT(){for(;Jn!==null&&!ik();)SC(Jn)}function SC(e){var t=AC(e.alternate,e,ys);e.memoizedProps=e.pendingProps,t===null?_C(e):Jn=t,Dg.current=null}function _C(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jT(n,t),n!==null){n.flags&=32767,Jn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{or=6,Jn=null;return}}else if(n=_T(n,t,ys),n!==null){Jn=n;return}if(t=t.sibling,t!==null){Jn=t;return}Jn=t=e}while(t!==null);or===0&&(or=5)}function Vo(e,t,n){var r=an,i=$s.transition;try{$s.transition=null,an=1,MT(e,t,n,r)}finally{$s.transition=i,an=r}return null}function MT(e,t,n,r){do lc();while(Qa!==null);if(Bt&6)throw Error(Oe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(mk(e,o),e===pr&&(Jn=pr=null,wr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gf||(Gf=!0,kC(I0,function(){return lc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$s.transition,$s.transition=null;var d=an;an=1;var x=Bt;Bt|=4,Dg.current=null,kT(e,n),wC(n,e),tT(Fm),O0=!!Pm,Fm=Pm=null,e.current=n,TT(n),ak(),Bt=x,an=d,$s.transition=o}else e.current=n;if(Gf&&(Gf=!1,Qa=e,Q0=i),o=e.pendingLanes,o===0&&(so=null),ck(n.stateNode),is(e,Yn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(X0)throw X0=!1,e=sx,sx=null,e;return Q0&1&&e.tag!==0&&lc(),o=e.pendingLanes,o&1?e===ix?Hu++:(Hu=0,ix=e):Hu=0,go(),null}function lc(){if(Qa!==null){var e=a4(Q0),t=$s.transition,n=an;try{if($s.transition=null,an=16>e?16:e,Qa===null)var r=!1;else{if(e=Qa,Qa=null,Q0=0,Bt&6)throw Error(Oe(331));var i=Bt;for(Bt|=4,Ye=e.current;Ye!==null;){var o=Ye,d=o.child;if(Ye.flags&16){var x=o.deletions;if(x!==null){for(var v=0;v<x.length;v++){var g=x[v];for(Ye=g;Ye!==null;){var w=Ye;switch(w.tag){case 0:case 11:case 15:qu(8,w,o)}var N=w.child;if(N!==null)N.return=w,Ye=N;else for(;Ye!==null;){w=Ye;var S=w.sibling,k=w.return;if(gC(w),w===g){Ye=null;break}if(S!==null){S.return=k,Ye=S;break}Ye=k}}}var j=o.alternate;if(j!==null){var O=j.child;if(O!==null){j.child=null;do{var L=O.sibling;O.sibling=null,O=L}while(O!==null)}}Ye=o}}if(o.subtreeFlags&2064&&d!==null)d.return=o,Ye=d;else e:for(;Ye!==null;){if(o=Ye,o.flags&2048)switch(o.tag){case 0:case 11:case 15:qu(9,o,o.return)}var T=o.sibling;if(T!==null){T.return=o.return,Ye=T;break e}Ye=o.return}}var A=e.current;for(Ye=A;Ye!==null;){d=Ye;var I=d.child;if(d.subtreeFlags&2064&&I!==null)I.return=d,Ye=I;else e:for(d=A;Ye!==null;){if(x=Ye,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Bh(9,x)}}catch(X){Bn(x,x.return,X)}if(x===d){Ye=null;break e}var q=x.sibling;if(q!==null){q.return=x.return,Ye=q;break e}Ye=x.return}}if(Bt=i,go(),Mi&&typeof Mi.onPostCommitFiberRoot=="function")try{Mi.onPostCommitFiberRoot(Dh,e)}catch{}r=!0}return r}finally{an=n,$s.transition=t}}return!1}function Sw(e,t,n){t=gc(n,t),t=aC(e,t,1),e=ro(e,t,1),t=Vr(),e!==null&&(bd(e,1,t),is(e,t))}function Bn(e,t,n){if(e.tag===3)Sw(e,e,n);else for(;t!==null;){if(t.tag===3){Sw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(so===null||!so.has(r))){e=gc(n,e),e=oC(t,e,1),t=ro(t,e,1),e=Vr(),t!==null&&(bd(t,1,e),is(t,e));break}}t=t.return}}function LT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Vr(),e.pingedLanes|=e.suspendedLanes&n,pr===e&&(wr&n)===n&&(or===4||or===3&&(wr&130023424)===wr&&500>Yn()-Rg?el(e,0):Ig|=n),is(e,t)}function jC(e,t){t===0&&(e.mode&1?(t=Ff,Ff<<=1,!(Ff&130023424)&&(Ff=4194304)):t=1);var n=Vr();e=va(e,t),e!==null&&(bd(e,t,n),is(e,n))}function PT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jC(e,n)}function FT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(t),jC(e,n)}var AC;AC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rs.current)ns=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ns=!1,ST(e,t,n);ns=!!(e.flags&131072)}else ns=!1,En&&t.flags&1048576&&I4(t,z0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;h0(e,t),e=t.pendingProps;var i=hc(t,Mr.current);oc(t,n),i=_g(null,t,r,e,i,n);var o=jg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ss(r)?(o=!0,B0(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bg(t),i.updater=Fh,t.stateNode=i,i._reactInternals=t,$m(t,r,e,n),t=Qm(null,t,r,!0,o,n)):(t.tag=0,En&&o&&pg(t),zr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(h0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=UT(r),e=ai(r,e),i){case 0:t=Xm(null,t,r,e,n);break e;case 1:t=mw(null,t,r,e,n);break e;case 11:t=hw(null,t,r,e,n);break e;case 14:t=pw(null,t,r,ai(r.type,e),n);break e}throw Error(Oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ai(r,i),Xm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ai(r,i),mw(e,t,r,i,n);case 3:e:{if(dC(t),e===null)throw Error(Oe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,F4(e,t),H0(t,r,null,n);var d=t.memoizedState;if(r=d.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=gc(Error(Oe(423)),t),t=xw(e,t,r,n,i);break e}else if(r!==i){i=gc(Error(Oe(424)),t),t=xw(e,t,r,n,i);break e}else for(bs=no(t.stateNode.containerInfo.firstChild),Ns=t,En=!0,li=null,n=L4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pc(),r===i){t=ya(e,t,n);break e}zr(e,t,r,n)}t=t.child}return t;case 5:return B4(t),e===null&&Hm(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,d=i.children,Bm(r,i)?d=null:o!==null&&Bm(r,o)&&(t.flags|=32),uC(e,t),zr(e,t,d,n),t.child;case 6:return e===null&&Hm(t),null;case 13:return fC(e,t,n);case 4:return Cg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mc(t,null,r,n):zr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ai(r,i),hw(e,t,r,i,n);case 7:return zr(e,t,t.pendingProps,n),t.child;case 8:return zr(e,t,t.pendingProps.children,n),t.child;case 12:return zr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,d=i.value,hn(q0,r._currentValue),r._currentValue=d,o!==null)if(hi(o.value,d)){if(o.children===i.children&&!rs.current){t=ya(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var x=o.dependencies;if(x!==null){d=o.child;for(var v=x.firstContext;v!==null;){if(v.context===r){if(o.tag===1){v=ua(-1,n&-n),v.tag=2;var g=o.updateQueue;if(g!==null){g=g.shared;var w=g.pending;w===null?v.next=v:(v.next=w.next,w.next=v),g.pending=v}}o.lanes|=n,v=o.alternate,v!==null&&(v.lanes|=n),Vm(o.return,n,t),x.lanes|=n;break}v=v.next}}else if(o.tag===10)d=o.type===t.type?null:o.child;else if(o.tag===18){if(d=o.return,d===null)throw Error(Oe(341));d.lanes|=n,x=d.alternate,x!==null&&(x.lanes|=n),Vm(d,n,t),d=o.sibling}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===t){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}zr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,oc(t,n),i=Gs(i),r=r(i),t.flags|=1,zr(e,t,r,n),t.child;case 14:return r=t.type,i=ai(r,t.pendingProps),i=ai(r.type,i),pw(e,t,r,i,n);case 15:return lC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ai(r,i),h0(e,t),t.tag=1,ss(r)?(e=!0,B0(t)):e=!1,oc(t,n),iC(t,r,i),$m(t,r,i,n),Qm(null,t,r,!0,e,n);case 19:return hC(e,t,n);case 22:return cC(e,t,n)}throw Error(Oe(156,t.tag))};function kC(e,t){return n4(e,t)}function BT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(e,t,n,r){return new BT(e,t,n,r)}function Pg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function UT(e){if(typeof e=="function")return Pg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ng)return 11;if(e===rg)return 14}return 2}function ao(e,t){var n=e.alternate;return n===null?(n=Ys(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function x0(e,t,n,r,i,o){var d=2;if(r=e,typeof e=="function")Pg(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Wl:return tl(n.children,i,o,t);case tg:d=8,i|=8;break;case gm:return e=Ys(12,n,t,i|2),e.elementType=gm,e.lanes=o,e;case vm:return e=Ys(13,n,t,i),e.elementType=vm,e.lanes=o,e;case ym:return e=Ys(19,n,t,i),e.elementType=ym,e.lanes=o,e;case B3:return zh(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P3:d=10;break e;case F3:d=9;break e;case ng:d=11;break e;case rg:d=14;break e;case Wa:d=16,r=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=Ys(d,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function tl(e,t,n,r){return e=Ys(7,e,r,t),e.lanes=n,e}function zh(e,t,n,r){return e=Ys(22,e,r,t),e.elementType=B3,e.lanes=n,e.stateNode={isHidden:!1},e}function G1(e,t,n){return e=Ys(6,e,null,t),e.lanes=n,e}function X1(e,t,n){return t=Ys(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=k1(0),this.expirationTimes=k1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fg(e,t,n,r,i,o,d,x,v){return e=new zT(e,t,n,x,v),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ys(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bg(o),e}function qT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ql,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function TC(e){if(!e)return fo;e=e._reactInternals;e:{if(gl(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ss(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var n=e.type;if(ss(n))return T4(e,n,t)}return t}function DC(e,t,n,r,i,o,d,x,v){return e=Fg(n,r,!0,e,i,o,d,x,v),e.context=TC(null),n=e.current,r=Vr(),i=io(n),o=ua(r,i),o.callback=t??null,ro(n,o,i),e.current.lanes=i,bd(e,i,r),is(e,r),e}function qh(e,t,n,r){var i=t.current,o=Vr(),d=io(i);return n=TC(n),t.context===null?t.context=n:t.pendingContext=n,t=ua(o,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ro(i,t,d),e!==null&&(ui(e,i,d,o),u0(e,i,d)),d}function Z0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _w(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bg(e,t){_w(e,t),(e=e.alternate)&&_w(e,t)}function WT(){return null}var IC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ug(e){this._internalRoot=e}Wh.prototype.render=Ug.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));qh(e,t,null,null)};Wh.prototype.unmount=Ug.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ul(function(){qh(null,e,null,null)}),t[ga]=null}};function Wh(e){this._internalRoot=e}Wh.prototype.unstable_scheduleHydration=function(e){if(e){var t=c4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ya.length&&t!==0&&t<Ya[n].priority;n++);Ya.splice(n,0,e),n===0&&d4(e)}};function zg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jw(){}function HT(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var g=Z0(d);o.call(g)}}var d=DC(t,r,e,0,null,!1,!1,"",jw);return e._reactRootContainer=d,e[ga]=d.current,ed(e.nodeType===8?e.parentNode:e),ul(),d}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var x=r;r=function(){var g=Z0(v);x.call(g)}}var v=Fg(e,0,!1,null,null,!1,!1,"",jw);return e._reactRootContainer=v,e[ga]=v.current,ed(e.nodeType===8?e.parentNode:e),ul(function(){qh(t,v,n,r)}),v}function Vh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var d=o;if(typeof i=="function"){var x=i;i=function(){var v=Z0(d);x.call(v)}}qh(t,d,e,i)}else d=HT(n,t,e,i,r);return Z0(d)}o4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Iu(t.pendingLanes);n!==0&&(ag(t,n|1),is(t,Yn()),!(Bt&6)&&(vc=Yn()+500,go()))}break;case 13:ul(function(){var r=va(e,1);if(r!==null){var i=Vr();ui(r,e,1,i)}}),Bg(e,1)}};og=function(e){if(e.tag===13){var t=va(e,134217728);if(t!==null){var n=Vr();ui(t,e,134217728,n)}Bg(e,134217728)}};l4=function(e){if(e.tag===13){var t=io(e),n=va(e,t);if(n!==null){var r=Vr();ui(n,e,t,r)}Bg(e,t)}};c4=function(){return an};u4=function(e,t){var n=an;try{return an=e,t()}finally{an=n}};km=function(e,t,n){switch(t){case"input":if(Cm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mh(r);if(!i)throw Error(Oe(90));z3(r),Cm(r,i)}}}break;case"textarea":W3(e,n);break;case"select":t=n.value,t!=null&&rc(e,!!n.multiple,t,!1)}};Q3=Og;K3=ul;var VT={usingClientEntryPoint:!1,Events:[Nd,$l,Mh,G3,X3,Og]},Eu={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YT={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=e4(e),e===null?null:e.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||WT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{Dh=Xf.inject(YT),Mi=Xf}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VT;_s.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zg(t))throw Error(Oe(200));return qT(e,t,null,n)};_s.createRoot=function(e,t){if(!zg(e))throw Error(Oe(299));var n=!1,r="",i=IC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Fg(e,1,!1,null,null,n,!1,r,i),e[ga]=t.current,ed(e.nodeType===8?e.parentNode:e),new Ug(t)};_s.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=e4(t),e=e===null?null:e.stateNode,e};_s.flushSync=function(e){return ul(e)};_s.hydrate=function(e,t,n){if(!Hh(t))throw Error(Oe(200));return Vh(null,e,t,!0,n)};_s.hydrateRoot=function(e,t,n){if(!zg(e))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",d=IC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=DC(t,null,e,1,n??null,i,!1,o,d),e[ga]=t.current,ed(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wh(t)};_s.render=function(e,t,n){if(!Hh(t))throw Error(Oe(200));return Vh(null,e,t,!1,n)};_s.unmountComponentAtNode=function(e){if(!Hh(e))throw Error(Oe(40));return e._reactRootContainer?(ul(function(){Vh(null,null,e,!1,function(){e._reactRootContainer=null,e[ga]=null})}),!0):!1};_s.unstable_batchedUpdates=Og;_s.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hh(n))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return Vh(e,t,n,!1,r)};_s.version="18.3.1-next-f1338f8080-20240426";function RC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RC)}catch(e){console.error(e)}}RC(),R3.exports=_s;var qg=R3.exports;const $T=kh(qg);var Aw=qg;mm.createRoot=Aw.createRoot,mm.hydrateRoot=Aw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cd.apply(this,arguments)}var Ka;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ka||(Ka={}));const kw="popstate";function GT(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:d,hash:x}=r.location;return lx("",{pathname:o,search:d,hash:x},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:J0(i)}return QT(t,n,null,e)}function Xn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function OC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XT(){return Math.random().toString(36).substr(2,8)}function Tw(e,t){return{usr:e.state,key:e.key,idx:t}}function lx(e,t,n,r){return n===void 0&&(n=null),cd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ic(t):t,{state:n,key:t&&t.key||r||XT()})}function J0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ic(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function QT(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,d=i.history,x=Ka.Pop,v=null,g=w();g==null&&(g=0,d.replaceState(cd({},d.state,{idx:g}),""));function w(){return(d.state||{idx:null}).idx}function N(){x=Ka.Pop;let L=w(),T=L==null?null:L-g;g=L,v&&v({action:x,location:O.location,delta:T})}function S(L,T){x=Ka.Push;let A=lx(O.location,L,T);n&&n(A,L),g=w()+1;let I=Tw(A,g),q=O.createHref(A);try{d.pushState(I,"",q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(q)}o&&v&&v({action:x,location:O.location,delta:1})}function k(L,T){x=Ka.Replace;let A=lx(O.location,L,T);n&&n(A,L),g=w();let I=Tw(A,g),q=O.createHref(A);d.replaceState(I,"",q),o&&v&&v({action:x,location:O.location,delta:0})}function j(L){let T=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof L=="string"?L:J0(L);return A=A.replace(/ $/,"%20"),Xn(T,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,T)}let O={get action(){return x},get location(){return e(i,d)},listen(L){if(v)throw new Error("A history only accepts one active listener");return i.addEventListener(kw,N),v=L,()=>{i.removeEventListener(kw,N),v=null}},createHref(L){return t(i,L)},createURL:j,encodeLocation(L){let T=j(L);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:S,replace:k,go(L){return d.go(L)}};return O}var Dw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Dw||(Dw={}));function KT(e,t,n){return n===void 0&&(n="/"),ZT(e,t,n,!1)}function ZT(e,t,n,r){let i=typeof t=="string"?Ic(t):t,o=Wg(i.pathname||"/",n);if(o==null)return null;let d=MC(e);JT(d);let x=null;for(let v=0;x==null&&v<d.length;++v){let g=uD(o);x=lD(d[v],g,r)}return x}function MC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,d,x)=>{let v={relativePath:x===void 0?o.path||"":x,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};v.relativePath.startsWith("/")&&(Xn(v.relativePath.startsWith(r),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(r.length));let g=oo([r,v.relativePath]),w=n.concat(v);o.children&&o.children.length>0&&(Xn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),MC(o.children,t,w,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:aD(g,o.index),routesMeta:w})};return e.forEach((o,d)=>{var x;if(o.path===""||!((x=o.path)!=null&&x.includes("?")))i(o,d);else for(let v of LC(o.path))i(o,d,v)}),t}function LC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let d=LC(r.join("/")),x=[];return x.push(...d.map(v=>v===""?o:[o,v].join("/"))),i&&x.push(...d),x.map(v=>e.startsWith("/")&&v===""?"/":v)}function JT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eD=/^:[\w-]+$/,tD=3,nD=2,rD=1,sD=10,iD=-2,Iw=e=>e==="*";function aD(e,t){let n=e.split("/"),r=n.length;return n.some(Iw)&&(r+=iD),t&&(r+=nD),n.filter(i=>!Iw(i)).reduce((i,o)=>i+(eD.test(o)?tD:o===""?rD:sD),r)}function oD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function lD(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},o="/",d=[];for(let x=0;x<r.length;++x){let v=r[x],g=x===r.length-1,w=o==="/"?t:t.slice(o.length)||"/",N=Rw({path:v.relativePath,caseSensitive:v.caseSensitive,end:g},w),S=v.route;if(!N&&g&&n&&!r[r.length-1].route.index&&(N=Rw({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},w)),!N)return null;Object.assign(i,N.params),d.push({params:i,pathname:oo([o,N.pathname]),pathnameBase:pD(oo([o,N.pathnameBase])),route:S}),N.pathnameBase!=="/"&&(o=oo([o,N.pathnameBase]))}return d}function Rw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=cD(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],d=o.replace(/(.)\/+$/,"$1"),x=i.slice(1);return{params:r.reduce((g,w,N)=>{let{paramName:S,isOptional:k}=w;if(S==="*"){let O=x[N]||"";d=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const j=x[N];return k&&!j?g[S]=void 0:g[S]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:d,pattern:e}}function cD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),OC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,x,v)=>(r.push({paramName:x,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function uD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return OC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function dD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ic(e):e;return{pathname:n?n.startsWith("/")?n:fD(n,t):t,search:mD(r),hash:xD(i)}}function fD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Q1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Hg(e,t){let n=hD(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vg(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ic(e):(i=cd({},e),Xn(!i.pathname||!i.pathname.includes("?"),Q1("?","pathname","search",i)),Xn(!i.pathname||!i.pathname.includes("#"),Q1("#","pathname","hash",i)),Xn(!i.search||!i.search.includes("#"),Q1("#","search","hash",i)));let o=e===""||i.pathname==="",d=o?"/":i.pathname,x;if(d==null)x=n;else{let N=t.length-1;if(!r&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),N-=1;i.pathname=S.join("/")}x=N>=0?t[N]:"/"}let v=dD(i,x),g=d&&d!=="/"&&d.endsWith("/"),w=(o||d===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(g||w)&&(v.pathname+="/"),v}const oo=e=>e.join("/").replace(/\/\/+/g,"/"),pD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const PC=["post","put","patch","delete"];new Set(PC);const vD=["get",...PC];new Set(vD);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ud.apply(this,arguments)}const Yg=M.createContext(null),yD=M.createContext(null),vo=M.createContext(null),Yh=M.createContext(null),Sa=M.createContext({outlet:null,matches:[],isDataRoute:!1}),FC=M.createContext(null);function wD(e,t){let{relative:n}=t===void 0?{}:t;Rc()||Xn(!1);let{basename:r,navigator:i}=M.useContext(vo),{hash:o,pathname:d,search:x}=UC(e,{relative:n}),v=d;return r!=="/"&&(v=d==="/"?r:oo([r,d])),i.createHref({pathname:v,search:x,hash:o})}function Rc(){return M.useContext(Yh)!=null}function Oc(){return Rc()||Xn(!1),M.useContext(Yh).location}function BC(e){M.useContext(vo).static||M.useLayoutEffect(e)}function Gr(){let{isDataRoute:e}=M.useContext(Sa);return e?RD():bD()}function bD(){Rc()||Xn(!1);let e=M.useContext(Yg),{basename:t,future:n,navigator:r}=M.useContext(vo),{matches:i}=M.useContext(Sa),{pathname:o}=Oc(),d=JSON.stringify(Hg(i,n.v7_relativeSplatPath)),x=M.useRef(!1);return BC(()=>{x.current=!0}),M.useCallback(function(g,w){if(w===void 0&&(w={}),!x.current)return;if(typeof g=="number"){r.go(g);return}let N=Vg(g,JSON.parse(d),o,w.relative==="path");e==null&&t!=="/"&&(N.pathname=N.pathname==="/"?t:oo([t,N.pathname])),(w.replace?r.replace:r.push)(N,w.state,w)},[t,r,d,o,e])}function $h(){let{matches:e}=M.useContext(Sa),t=e[e.length-1];return t?t.params:{}}function UC(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=M.useContext(vo),{matches:i}=M.useContext(Sa),{pathname:o}=Oc(),d=JSON.stringify(Hg(i,r.v7_relativeSplatPath));return M.useMemo(()=>Vg(e,JSON.parse(d),o,n==="path"),[e,d,o,n])}function CD(e,t){return ND(e,t)}function ND(e,t,n,r){Rc()||Xn(!1);let{navigator:i,static:o}=M.useContext(vo),{matches:d}=M.useContext(Sa),x=d[d.length-1],v=x?x.params:{};x&&x.pathname;let g=x?x.pathnameBase:"/";x&&x.route;let w=Oc(),N;if(t){var S;let T=typeof t=="string"?Ic(t):t;g==="/"||(S=T.pathname)!=null&&S.startsWith(g)||Xn(!1),N=T}else N=w;let k=N.pathname||"/",j=k;if(g!=="/"){let T=g.replace(/^\//,"").split("/");j="/"+k.replace(/^\//,"").split("/").slice(T.length).join("/")}let O=!o&&n&&n.matches&&n.matches.length>0?n.matches:KT(e,{pathname:j}),L=AD(O&&O.map(T=>Object.assign({},T,{params:Object.assign({},v,T.params),pathname:oo([g,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?g:oo([g,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),d,n,r);return t&&L?M.createElement(Yh.Provider,{value:{location:ud({pathname:"/",search:"",hash:"",state:null,key:"default"},N),navigationType:Ka.Pop}},L):L}function ED(){let e=ID(),t=gD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:i},n):null,o)}const SD=M.createElement(ED,null);class _D extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?M.createElement(Sa.Provider,{value:this.props.routeContext},M.createElement(FC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jD(e){let{routeContext:t,match:n,children:r}=e,i=M.useContext(Yg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Sa.Provider,{value:t},r)}function AD(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let d=e,x=(i=n)==null?void 0:i.errors;if(x!=null){let w=d.findIndex(N=>N.route.id&&(x==null?void 0:x[N.route.id])!==void 0);w>=0||Xn(!1),d=d.slice(0,Math.min(d.length,w+1))}let v=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let w=0;w<d.length;w++){let N=d[w];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(g=w),N.route.id){let{loaderData:S,errors:k}=n,j=N.route.loader&&S[N.route.id]===void 0&&(!k||k[N.route.id]===void 0);if(N.route.lazy||j){v=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((w,N,S)=>{let k,j=!1,O=null,L=null;n&&(k=x&&N.route.id?x[N.route.id]:void 0,O=N.route.errorElement||SD,v&&(g<0&&S===0?(OD("route-fallback",!1),j=!0,L=null):g===S&&(j=!0,L=N.route.hydrateFallbackElement||null)));let T=t.concat(d.slice(0,S+1)),A=()=>{let I;return k?I=O:j?I=L:N.route.Component?I=M.createElement(N.route.Component,null):N.route.element?I=N.route.element:I=w,M.createElement(jD,{match:N,routeContext:{outlet:w,matches:T,isDataRoute:n!=null},children:I})};return n&&(N.route.ErrorBoundary||N.route.errorElement||S===0)?M.createElement(_D,{location:n.location,revalidation:n.revalidation,component:O,error:k,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):A()},null)}var zC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zC||{}),eh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(eh||{});function kD(e){let t=M.useContext(Yg);return t||Xn(!1),t}function TD(e){let t=M.useContext(yD);return t||Xn(!1),t}function DD(e){let t=M.useContext(Sa);return t||Xn(!1),t}function qC(e){let t=DD(),n=t.matches[t.matches.length-1];return n.route.id||Xn(!1),n.route.id}function ID(){var e;let t=M.useContext(FC),n=TD(eh.UseRouteError),r=qC(eh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function RD(){let{router:e}=kD(zC.UseNavigateStable),t=qC(eh.UseNavigateStable),n=M.useRef(!1);return BC(()=>{n.current=!0}),M.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ud({fromRouteId:t},o)))},[e,t])}const Ow={};function OD(e,t,n){!t&&!Ow[e]&&(Ow[e]=!0)}function MD(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function th(e){let{to:t,replace:n,state:r,relative:i}=e;Rc()||Xn(!1);let{future:o,static:d}=M.useContext(vo),{matches:x}=M.useContext(Sa),{pathname:v}=Oc(),g=Gr(),w=Vg(t,Hg(x,o.v7_relativeSplatPath),v,i==="path"),N=JSON.stringify(w);return M.useEffect(()=>g(JSON.parse(N),{replace:n,state:r,relative:i}),[g,N,i,n,r]),null}function Dr(e){Xn(!1)}function LD(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ka.Pop,navigator:o,static:d=!1,future:x}=e;Rc()&&Xn(!1);let v=t.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:v,navigator:o,static:d,future:ud({v7_relativeSplatPath:!1},x)}),[v,x,o,d]);typeof r=="string"&&(r=Ic(r));let{pathname:w="/",search:N="",hash:S="",state:k=null,key:j="default"}=r,O=M.useMemo(()=>{let L=Wg(w,v);return L==null?null:{location:{pathname:L,search:N,hash:S,state:k,key:j},navigationType:i}},[v,w,N,S,k,j,i]);return O==null?null:M.createElement(vo.Provider,{value:g},M.createElement(Yh.Provider,{children:n,value:O}))}function PD(e){let{children:t,location:n}=e;return CD(cx(t),n)}new Promise(()=>{});function cx(e,t){t===void 0&&(t=[]);let n=[];return M.Children.forEach(e,(r,i)=>{if(!M.isValidElement(r))return;let o=[...t,i];if(r.type===M.Fragment){n.push.apply(n,cx(r.props.children,o));return}r.type!==Dr&&Xn(!1),!r.props.index||!r.props.children||Xn(!1);let d={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=cx(r.props.children,o)),n.push(d)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ux.apply(this,arguments)}function FD(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function BD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UD(e,t){return e.button===0&&(!t||t==="_self")&&!BD(e)}const zD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qD="6";try{window.__reactRouterVersion=qD}catch{}const WD="startTransition",Mw=Kx[WD];function HD(e){let{basename:t,children:n,future:r,window:i}=e,o=M.useRef();o.current==null&&(o.current=GT({window:i,v5Compat:!0}));let d=o.current,[x,v]=M.useState({action:d.action,location:d.location}),{v7_startTransition:g}=r||{},w=M.useCallback(N=>{g&&Mw?Mw(()=>v(N)):v(N)},[v,g]);return M.useLayoutEffect(()=>d.listen(w),[d,w]),M.useEffect(()=>MD(r),[r]),M.createElement(LD,{basename:t,children:n,location:x.location,navigationType:x.action,navigator:d,future:r})}const VD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Un=M.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:d,state:x,target:v,to:g,preventScrollReset:w,viewTransition:N}=t,S=FD(t,zD),{basename:k}=M.useContext(vo),j,O=!1;if(typeof g=="string"&&YD.test(g)&&(j=g,VD))try{let I=new URL(window.location.href),q=g.startsWith("//")?new URL(I.protocol+g):new URL(g),X=Wg(q.pathname,k);q.origin===I.origin&&X!=null?g=X+q.search+q.hash:O=!0}catch{}let L=wD(g,{relative:i}),T=$D(g,{replace:d,state:x,target:v,preventScrollReset:w,relative:i,viewTransition:N});function A(I){r&&r(I),I.defaultPrevented||T(I)}return M.createElement("a",ux({},S,{href:j||L,onClick:O||o?r:A,ref:n,target:v}))});var Lw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lw||(Lw={}));var Pw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pw||(Pw={}));function $D(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:d,viewTransition:x}=t===void 0?{}:t,v=Gr(),g=Oc(),w=UC(e,{relative:d});return M.useCallback(N=>{if(UD(N,n)){N.preventDefault();let S=r!==void 0?r:J0(g)===J0(w);v(e,{replace:S,state:i,preventScrollReset:o,relative:d,viewTransition:x})}},[g,v,w,r,i,n,e,o,d,x])}class Mc{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const dd=typeof window>"u"||"Deno"in window;function Us(){}function GD(e,t){return typeof e=="function"?e(t):e}function dx(e){return typeof e=="number"&&e>=0&&e!==1/0}function WC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ec(e,t,n){return Sd(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function XD(e,t,n){return Sd(e)?typeof t=="function"?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function Va(e,t,n){return Sd(e)?[{...t,queryKey:e},n]:[e||{},t]}function Fw(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:d,stale:x}=e;if(Sd(d)){if(r){if(t.queryHash!==$g(d,t.options))return!1}else if(!nh(t.queryKey,d))return!1}if(n!=="all"){const v=t.isActive();if(n==="active"&&!v||n==="inactive"&&v)return!1}return!(typeof x=="boolean"&&t.isStale()!==x||typeof i<"u"&&i!==t.state.fetchStatus||o&&!o(t))}function Bw(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:o}=e;if(Sd(o)){if(!t.options.mutationKey)return!1;if(n){if(Ko(t.options.mutationKey)!==Ko(o))return!1}else if(!nh(t.options.mutationKey,o))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function $g(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ko)(e)}function Ko(e){return JSON.stringify(e,(t,n)=>fx(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function nh(e,t){return HC(e,t)}function HC(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!HC(e[n],t[n])):!1}function VC(e,t){if(e===t)return e;const n=Uw(e)&&Uw(t);if(n||fx(e)&&fx(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),o=i.length,d=n?[]:{};let x=0;for(let v=0;v<o;v++){const g=n?v:i[v];d[g]=VC(e[g],t[g]),d[g]===e[g]&&x++}return r===o&&x===r?e:d}return t}function rh(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Uw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fx(e){if(!zw(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!zw(n)||!n.hasOwnProperty("isPrototypeOf"))}function zw(e){return Object.prototype.toString.call(e)==="[object Object]"}function Sd(e){return Array.isArray(e)}function YC(e){return new Promise(t=>{setTimeout(t,e)})}function qw(e){YC(0).then(e)}function QD(){if(typeof AbortController=="function")return new AbortController}function hx(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?VC(e,t):t}class KD extends Mc{constructor(){super(),this.setup=t=>{if(!dd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const sh=new KD,Ww=["online","offline"];class ZD extends Mc{constructor(){super(),this.setup=t=>{if(!dd&&window.addEventListener){const n=()=>t();return Ww.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{Ww.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const ih=new ZD;function JD(e){return Math.min(1e3*2**e,3e4)}function Gh(e){return(e??"online")==="online"?ih.isOnline():!0}class $C{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function g0(e){return e instanceof $C}function GC(e){let t=!1,n=0,r=!1,i,o,d;const x=new Promise((L,T)=>{o=L,d=T}),v=L=>{r||(k(new $C(L)),e.abort==null||e.abort())},g=()=>{t=!0},w=()=>{t=!1},N=()=>!sh.isFocused()||e.networkMode!=="always"&&!ih.isOnline(),S=L=>{r||(r=!0,e.onSuccess==null||e.onSuccess(L),i==null||i(),o(L))},k=L=>{r||(r=!0,e.onError==null||e.onError(L),i==null||i(),d(L))},j=()=>new Promise(L=>{i=T=>{const A=r||!N();return A&&L(T),A},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),O=()=>{if(r)return;let L;try{L=e.fn()}catch(T){L=Promise.reject(T)}Promise.resolve(L).then(S).catch(T=>{var A,I;if(r)return;const q=(A=e.retry)!=null?A:3,X=(I=e.retryDelay)!=null?I:JD,F=typeof X=="function"?X(n,T):X,R=q===!0||typeof q=="number"&&n<q||typeof q=="function"&&q(n,T);if(t||!R){k(T);return}n++,e.onFail==null||e.onFail(n,T),YC(F).then(()=>{if(N())return j()}).then(()=>{t?k(T):O()})})};return Gh(e.networkMode)?O():j().then(O),{promise:x,cancel:v,continue:()=>(i==null?void 0:i())?x:Promise.resolve(),cancelRetry:g,continueRetry:w}}const Gg=console;function e7(){let e=[],t=0,n=w=>{w()},r=w=>{w()};const i=w=>{let N;t++;try{N=w()}finally{t--,t||x()}return N},o=w=>{t?e.push(w):qw(()=>{n(w)})},d=w=>(...N)=>{o(()=>{w(...N)})},x=()=>{const w=e;e=[],w.length&&qw(()=>{r(()=>{w.forEach(N=>{n(N)})})})};return{batch:i,batchCalls:d,schedule:o,setNotifyFunction:w=>{n=w},setBatchNotifyFunction:w=>{r=w}}}const zn=e7();class XC{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dx(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(dd?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class t7 extends XC{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||Gg,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||n7(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=hx(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(Us).catch(Us):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!WC(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return(o=this.retryer)==null||o.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const k=this.observers.find(j=>j.options.queryFn);k&&this.setOptions(k.options)}const d=QD(),x={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},v=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{if(d)return this.abortSignalConsumed=!0,d.signal}})};v(x);const g=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(x)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),w={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:g};if(v(w),(r=this.options.behavior)==null||r.onFetch(w),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=w.fetchOptions)==null?void 0:i.meta)){var N;this.dispatch({type:"fetch",meta:(N=w.fetchOptions)==null?void 0:N.meta})}const S=k=>{if(g0(k)&&k.silent||this.dispatch({type:"error",error:k}),!g0(k)){var j,O,L,T;(j=(O=this.cache.config).onError)==null||j.call(O,k,this),(L=(T=this.cache.config).onSettled)==null||L.call(T,this.state.data,k,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=GC({fn:w.fetchFn,abort:d==null?void 0:d.abort.bind(d),onSuccess:k=>{var j,O,L,T;if(typeof k>"u"){S(new Error(this.queryHash+" data is undefined"));return}this.setData(k),(j=(O=this.cache.config).onSuccess)==null||j.call(O,k,this),(L=(T=this.cache.config).onSettled)==null||L.call(T,k,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:S,onFail:(k,j)=>{this.dispatch({type:"failed",failureCount:k,error:j})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:w.options.retry,retryDelay:w.options.retryDelay,networkMode:w.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var i,o;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:Gh(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=t.dataUpdatedAt)!=null?o:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const d=t.error;return g0(d)&&d.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:d,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),zn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function n7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class r7 extends Mc{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var i;const o=n.queryKey,d=(i=n.queryHash)!=null?i:$g(o,n);let x=this.get(d);return x||(x=new t7({cache:this,logger:t.getLogger(),queryKey:o,queryHash:d,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(x)),x}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){zn.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=Va(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>Fw(r,i))}findAll(t,n){const[r]=Va(t,n);return Object.keys(r).length>0?this.queries.filter(i=>Fw(r,i)):this.queries}notify(t){zn.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}onFocus(){zn.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){zn.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class s7 extends XC{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||Gg,this.observers=[],this.state=t.state||QC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var R;return this.retryer=GC({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(H,V)=>{this.dispatch({type:"failed",failureCount:H,error:V})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(R=this.options.retry)!=null?R:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,o,d,x,v,g,w;if(!n){var N,S,k,j;this.dispatch({type:"loading",variables:this.options.variables}),await((N=(S=this.mutationCache.config).onMutate)==null?void 0:N.call(S,this.state.variables,this));const H=await((k=(j=this.options).onMutate)==null?void 0:k.call(j,this.state.variables));H!==this.state.context&&this.dispatch({type:"loading",context:H,variables:this.state.variables})}const R=await t();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,R,this.state.variables,this.state.context,this)),await((o=(d=this.options).onSuccess)==null?void 0:o.call(d,R,this.state.variables,this.state.context)),await((x=(v=this.mutationCache.config).onSettled)==null?void 0:x.call(v,R,null,this.state.variables,this.state.context,this)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,R,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:R}),R}catch(R){try{var O,L,T,A,I,q,X,F;throw await((O=(L=this.mutationCache.config).onError)==null?void 0:O.call(L,R,this.state.variables,this.state.context,this)),await((T=(A=this.options).onError)==null?void 0:T.call(A,R,this.state.variables,this.state.context)),await((I=(q=this.mutationCache.config).onSettled)==null?void 0:I.call(q,void 0,R,this.state.variables,this.state.context,this)),await((X=(F=this.options).onSettled)==null?void 0:X.call(F,void 0,R,this.state.variables,this.state.context)),R}finally{this.dispatch({type:"error",error:R})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Gh(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),zn.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function QC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class i7 extends Mc{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const i=new s7({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){zn.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>Bw(t,n))}findAll(t){return this.mutations.filter(n=>Bw(t,n))}notify(t){zn.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return zn.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Us)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function px(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,i,o,d;const x=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,v=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,g=v==null?void 0:v.pageParam,w=(v==null?void 0:v.direction)==="forward",N=(v==null?void 0:v.direction)==="backward",S=((o=e.state.data)==null?void 0:o.pages)||[],k=((d=e.state.data)==null?void 0:d.pageParams)||[];let j=k,O=!1;const L=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>{var R;if((R=e.signal)!=null&&R.aborted)O=!0;else{var H;(H=e.signal)==null||H.addEventListener("abort",()=>{O=!0})}return e.signal}})},T=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),A=(F,R,H,V)=>(j=V?[R,...j]:[...j,R],V?[H,...F]:[...F,H]),I=(F,R,H,V)=>{if(O)return Promise.reject("Cancelled");if(typeof H>"u"&&!R&&F.length)return Promise.resolve(F);const te={queryKey:e.queryKey,pageParam:H,meta:e.options.meta};L(te);const de=T(te);return Promise.resolve(de).then(ee=>A(F,H,ee,V))};let q;if(!S.length)q=I([]);else if(w){const F=typeof g<"u",R=F?g:mx(e.options,S);q=I(S,F,R)}else if(N){const F=typeof g<"u",R=F?g:KC(e.options,S);q=I(S,F,R,!0)}else{j=[];const F=typeof e.options.getNextPageParam>"u";q=(x&&S[0]?x(S[0],0,S):!0)?I([],F,k[0]):Promise.resolve(A([],k[0],S[0]));for(let H=1;H<S.length;H++)q=q.then(V=>{if(x&&S[H]?x(S[H],H,S):!0){const de=F?k[H]:mx(e.options,V);return I(V,F,de)}return Promise.resolve(A(V,k[H],S[H]))})}return q.then(F=>({pages:F,pageParams:j}))}}}}function mx(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function KC(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}function a7(e,t){if(e.getNextPageParam&&Array.isArray(t)){const n=mx(e,t);return typeof n<"u"&&n!==null&&n!==!1}}function o7(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){const n=KC(e,t);return typeof n<"u"&&n!==null&&n!==!1}}class l7{constructor(t={}){this.queryCache=t.queryCache||new r7,this.mutationCache=t.mutationCache||new i7,this.logger=t.logger||Gg,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=sh.subscribe(()=>{sh.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ih.subscribe(()=>{ih.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=Va(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const i=ec(t,n,r),o=this.getQueryData(i.queryKey);return o?Promise.resolve(o):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.queryCache.find(t),o=i==null?void 0:i.state.data,d=GD(n,o);if(typeof d>"u")return;const x=ec(t),v=this.defaultQueryOptions(x);return this.queryCache.build(this,v).setData(d,{...r,manual:!0})}setQueriesData(t,n,r){return zn.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=Va(t,n),i=this.queryCache;zn.batch(()=>{i.findAll(r).forEach(o=>{i.remove(o)})})}resetQueries(t,n,r){const[i,o]=Va(t,n,r),d=this.queryCache,x={type:"active",...i};return zn.batch(()=>(d.findAll(i).forEach(v=>{v.reset()}),this.refetchQueries(x,o)))}cancelQueries(t,n,r){const[i,o={}]=Va(t,n,r);typeof o.revert>"u"&&(o.revert=!0);const d=zn.batch(()=>this.queryCache.findAll(i).map(x=>x.cancel(o)));return Promise.all(d).then(Us).catch(Us)}invalidateQueries(t,n,r){const[i,o]=Va(t,n,r);return zn.batch(()=>{var d,x;if(this.queryCache.findAll(i).forEach(g=>{g.invalidate()}),i.refetchType==="none")return Promise.resolve();const v={...i,type:(d=(x=i.refetchType)!=null?x:i.type)!=null?d:"active"};return this.refetchQueries(v,o)})}refetchQueries(t,n,r){const[i,o]=Va(t,n,r),d=zn.batch(()=>this.queryCache.findAll(i).filter(v=>!v.isDisabled()).map(v=>{var g;return v.fetch(void 0,{...o,cancelRefetch:(g=o==null?void 0:o.cancelRefetch)!=null?g:!0,meta:{refetchPage:i.refetchPage}})}));let x=Promise.all(d).then(Us);return o!=null&&o.throwOnError||(x=x.catch(Us)),x}fetchQuery(t,n,r){const i=ec(t,n,r),o=this.defaultQueryOptions(i);typeof o.retry>"u"&&(o.retry=!1);const d=this.queryCache.build(this,o);return d.isStaleByTime(o.staleTime)?d.fetch(o):Promise.resolve(d.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(Us).catch(Us)}fetchInfiniteQuery(t,n,r){const i=ec(t,n,r);return i.behavior=px(),this.fetchQuery(i)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(Us).catch(Us)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(i=>Ko(t)===Ko(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>nh(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(i=>Ko(t)===Ko(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>nh(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=$g(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class ZC extends Mc{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Hw(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xx(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xx(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),rh(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const o=this.hasListeners();o&&Vw(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),o&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const d=this.computeRefetchInterval();o&&(this.currentQuery!==i||this.options.enabled!==r.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t),r=this.createResult(n,t);return u7(this,r,t)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Us)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),dd||this.currentResult.isStale||!dx(this.options.staleTime))return;const n=WC(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(dd||this.options.enabled===!1||!dx(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||sh.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,i=this.options,o=this.currentResult,d=this.currentResultState,x=this.currentResultOptions,v=t!==r,g=v?t.state:this.currentQueryInitialState,w=v?this.currentResult:this.previousQueryResult,{state:N}=t;let{dataUpdatedAt:S,error:k,errorUpdatedAt:j,fetchStatus:O,status:L}=N,T=!1,A=!1,I;if(n._optimisticResults){const H=this.hasListeners(),V=!H&&Hw(t,n),te=H&&Vw(t,r,n,i);(V||te)&&(O=Gh(t.options.networkMode)?"fetching":"paused",S||(L="loading")),n._optimisticResults==="isRestoring"&&(O="idle")}if(n.keepPreviousData&&!N.dataUpdatedAt&&w!=null&&w.isSuccess&&L!=="error")I=w.data,S=w.dataUpdatedAt,L=w.status,T=!0;else if(n.select&&typeof N.data<"u")if(o&&N.data===(d==null?void 0:d.data)&&n.select===this.selectFn)I=this.selectResult;else try{this.selectFn=n.select,I=n.select(N.data),I=hx(o==null?void 0:o.data,I,n),this.selectResult=I,this.selectError=null}catch(H){this.selectError=H}else I=N.data;if(typeof n.placeholderData<"u"&&typeof I>"u"&&L==="loading"){let H;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(x==null?void 0:x.placeholderData))H=o.data;else if(H=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof H<"u")try{H=n.select(H),this.selectError=null}catch(V){this.selectError=V}typeof H<"u"&&(L="success",I=hx(o==null?void 0:o.data,H,n),A=!0)}this.selectError&&(k=this.selectError,I=this.selectResult,j=Date.now(),L="error");const q=O==="fetching",X=L==="loading",F=L==="error";return{status:L,fetchStatus:O,isLoading:X,isSuccess:L==="success",isError:F,isInitialLoading:X&&q,data:I,dataUpdatedAt:S,error:k,errorUpdatedAt:j,failureCount:N.fetchFailureCount,failureReason:N.fetchFailureReason,errorUpdateCount:N.errorUpdateCount,isFetched:N.dataUpdateCount>0||N.errorUpdateCount>0,isFetchedAfterMount:N.dataUpdateCount>g.dataUpdateCount||N.errorUpdateCount>g.errorUpdateCount,isFetching:q,isRefetching:q&&!X,isLoadingError:F&&N.dataUpdatedAt===0,isPaused:O==="paused",isPlaceholderData:A,isPreviousData:T,isRefetchError:F&&N.dataUpdatedAt!==0,isStale:Xg(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,rh(r,n))return;this.currentResult=r;const i={cache:!0},o=()=>{if(!n)return!0;const{notifyOnChangeProps:d}=this.options,x=typeof d=="function"?d():d;if(x==="all"||!x&&!this.trackedProps.size)return!0;const v=new Set(x??this.trackedProps);return this.options.useErrorBoundary&&v.add("error"),Object.keys(this.currentResult).some(g=>{const w=g;return this.currentResult[w]!==n[w]&&v.has(w)})};(t==null?void 0:t.listeners)!==!1&&o()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!g0(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){zn.batch(()=>{if(t.onSuccess){var n,r,i,o;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(o=this.options).onSettled)==null||i.call(o,this.currentResult.data,null)}else if(t.onError){var d,x,v,g;(d=(x=this.options).onError)==null||d.call(x,this.currentResult.error),(v=(g=this.options).onSettled)==null||v.call(g,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:w})=>{w(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function c7(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Hw(e,t){return c7(e,t)||e.state.dataUpdatedAt>0&&xx(e,t,t.refetchOnMount)}function xx(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Xg(e,t)}return!1}function Vw(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&Xg(e,n)}function Xg(e,t){return e.isStaleByTime(t.staleTime)}function u7(e,t,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?t.isPlaceholderData:!rh(e.getCurrentResult(),t)}class d7 extends ZC{constructor(t,n){super(t,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,n){super.setOptions({...t,behavior:px()},n)}getOptimisticResult(t){return t.behavior=px(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,n){var r,i,o,d,x,v;const{state:g}=t,w=super.createResult(t,n),{isFetching:N,isRefetching:S}=w,k=N&&((r=g.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",j=N&&((o=g.fetchMeta)==null||(d=o.fetchMore)==null?void 0:d.direction)==="backward";return{...w,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:a7(n,(x=g.data)==null?void 0:x.pages),hasPreviousPage:o7(n,(v=g.data)==null?void 0:v.pages),isFetchingNextPage:k,isFetchingPreviousPage:j,isRefetching:S&&!k&&!j}}}let f7=class extends Mc{constructor(t,n){super(),this.client=t,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=this.client.defaultMutationOptions(t),rh(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const n={listeners:!0};t.type==="success"?n.onSuccess=!0:t.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:QC(),n={...t,isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(t){zn.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var n,r,i,o;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(o=this.mutateOptions).onSettled)==null||i.call(o,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var d,x,v,g;(d=(x=this.mutateOptions).onError)==null||d.call(x,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(v=(g=this.mutateOptions).onSettled)==null||v.call(g,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:w})=>{w(this.currentResult)})})}};var JC={exports:{}},eN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=M;function h7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var p7=typeof Object.is=="function"?Object.is:h7,m7=yc.useState,x7=yc.useEffect,g7=yc.useLayoutEffect,v7=yc.useDebugValue;function y7(e,t){var n=t(),r=m7({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return g7(function(){i.value=n,i.getSnapshot=t,K1(i)&&o({inst:i})},[e,n,t]),x7(function(){return K1(i)&&o({inst:i}),e(function(){K1(i)&&o({inst:i})})},[e]),v7(n),n}function K1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!p7(e,n)}catch{return!0}}function w7(e,t){return t()}var b7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w7:y7;eN.useSyncExternalStore=yc.useSyncExternalStore!==void 0?yc.useSyncExternalStore:b7;JC.exports=eN;var C7=JC.exports;const tN=C7.useSyncExternalStore,Yw=M.createContext(void 0),nN=M.createContext(!1);function rN(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Yw),window.ReactQueryClientContext):Yw)}const jn=({context:e}={})=>{const t=M.useContext(rN(e,M.useContext(nN)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},N7=({client:e,children:t,context:n,contextSharing:r=!1})=>{M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=rN(n,r);return M.createElement(nN.Provider,{value:!n&&r},M.createElement(i.Provider,{value:e},t))},sN=M.createContext(!1),E7=()=>M.useContext(sN);sN.Provider;function S7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const _7=M.createContext(S7()),j7=()=>M.useContext(_7);function iN(e,t){return typeof e=="function"?e(...t):!!e}const A7=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},k7=e=>{M.useEffect(()=>{e.clearReset()},[e])},T7=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&iN(n,[e.error,r]),D7=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},I7=(e,t)=>e.isLoading&&e.isFetching&&!t,R7=(e,t,n)=>(e==null?void 0:e.suspense)&&I7(t,n),O7=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function aN(e,t){const n=jn({context:e.context}),r=E7(),i=j7(),o=n.defaultQueryOptions(e);o._optimisticResults=r?"isRestoring":"optimistic",o.onError&&(o.onError=zn.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=zn.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=zn.batchCalls(o.onSettled)),D7(o),A7(o,i),k7(i);const[d]=M.useState(()=>new t(n,o)),x=d.getOptimisticResult(o);if(tN(M.useCallback(v=>{const g=r?()=>{}:d.subscribe(zn.batchCalls(v));return d.updateResult(),g},[d,r]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),M.useEffect(()=>{d.setOptions(o,{listeners:!1})},[o,d]),R7(o,x,r))throw O7(o,d,i);if(T7({result:x,errorResetBoundary:i,useErrorBoundary:o.useErrorBoundary,query:d.getCurrentQuery()}))throw x.error;return o.notifyOnChangeProps?x:d.trackResult(x)}function pt(e,t,n){const r=ec(e,t,n);return aN(r,ZC)}function Ut(e,t,n){const r=XD(e,t,n),i=jn({context:r.context}),[o]=M.useState(()=>new f7(i,r));M.useEffect(()=>{o.setOptions(r)},[o,r]);const d=tN(M.useCallback(v=>o.subscribe(zn.batchCalls(v)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x=M.useCallback((v,g)=>{o.mutate(v,g).catch(M7)},[o]);if(d.error&&iN(o.options.useErrorBoundary,[d.error]))throw d.error;return{...d,mutate:x,mutateAsync:d.mutate}}function M7(){}function Qg(e,t,n){const r=ec(e,t,n);return aN(r,d7)}function oN(e,t){return function(){return e.apply(t,arguments)}}const{toString:L7}=Object.prototype,{getPrototypeOf:Kg}=Object,{iterator:Xh,toStringTag:lN}=Symbol,Qh=(e=>t=>{const n=L7.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mi=e=>(e=e.toLowerCase(),t=>Qh(t)===e),Kh=e=>t=>typeof t===e,{isArray:Lc}=Array,fd=Kh("undefined");function P7(e){return e!==null&&!fd(e)&&e.constructor!==null&&!fd(e.constructor)&&as(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const cN=mi("ArrayBuffer");function F7(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&cN(e.buffer),t}const B7=Kh("string"),as=Kh("function"),uN=Kh("number"),Zh=e=>e!==null&&typeof e=="object",U7=e=>e===!0||e===!1,v0=e=>{if(Qh(e)!=="object")return!1;const t=Kg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(lN in e)&&!(Xh in e)},z7=mi("Date"),q7=mi("File"),W7=mi("Blob"),H7=mi("FileList"),V7=e=>Zh(e)&&as(e.pipe),Y7=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||as(e.append)&&((t=Qh(e))==="formdata"||t==="object"&&as(e.toString)&&e.toString()==="[object FormData]"))},$7=mi("URLSearchParams"),[G7,X7,Q7,K7]=["ReadableStream","Request","Response","Headers"].map(mi),Z7=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _d(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Lc(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),d=o.length;let x;for(r=0;r<d;r++)x=o[r],t.call(null,e[x],x,e)}}function dN(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Zo=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),fN=e=>!fd(e)&&e!==Zo;function gx(){const{caseless:e}=fN(this)&&this||{},t={},n=(r,i)=>{const o=e&&dN(t,i)||i;v0(t[o])&&v0(r)?t[o]=gx(t[o],r):v0(r)?t[o]=gx({},r):Lc(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&_d(arguments[r],n);return t}const J7=(e,t,n,{allOwnKeys:r}={})=>(_d(t,(i,o)=>{n&&as(i)?e[o]=oN(i,n):e[o]=i},{allOwnKeys:r}),e),eI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),tI=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},nI=(e,t,n,r)=>{let i,o,d;const x={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)d=i[o],(!r||r(d,e,t))&&!x[d]&&(t[d]=e[d],x[d]=!0);e=n!==!1&&Kg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},rI=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},sI=e=>{if(!e)return null;if(Lc(e))return e;let t=e.length;if(!uN(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},iI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Kg(Uint8Array)),aI=(e,t)=>{const r=(e&&e[Xh]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},oI=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},lI=mi("HTMLFormElement"),cI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),$w=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),uI=mi("RegExp"),hN=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_d(n,(i,o)=>{let d;(d=t(i,o,e))!==!1&&(r[o]=d||i)}),Object.defineProperties(e,r)},dI=e=>{hN(e,(t,n)=>{if(as(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(as(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},fI=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Lc(e)?r(e):r(String(e).split(t)),n},hI=()=>{},pI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function mI(e){return!!(e&&as(e.append)&&e[lN]==="FormData"&&e[Xh])}const xI=e=>{const t=new Array(10),n=(r,i)=>{if(Zh(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=Lc(r)?[]:{};return _d(r,(d,x)=>{const v=n(d,i+1);!fd(v)&&(o[x]=v)}),t[i]=void 0,o}}return r};return n(e,0)},gI=mi("AsyncFunction"),vI=e=>e&&(Zh(e)||as(e))&&as(e.then)&&as(e.catch),pN=((e,t)=>e?setImmediate:t?((n,r)=>(Zo.addEventListener("message",({source:i,data:o})=>{i===Zo&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Zo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",as(Zo.postMessage)),yI=typeof queueMicrotask<"u"?queueMicrotask.bind(Zo):typeof process<"u"&&process.nextTick||pN,wI=e=>e!=null&&as(e[Xh]),me={isArray:Lc,isArrayBuffer:cN,isBuffer:P7,isFormData:Y7,isArrayBufferView:F7,isString:B7,isNumber:uN,isBoolean:U7,isObject:Zh,isPlainObject:v0,isReadableStream:G7,isRequest:X7,isResponse:Q7,isHeaders:K7,isUndefined:fd,isDate:z7,isFile:q7,isBlob:W7,isRegExp:uI,isFunction:as,isStream:V7,isURLSearchParams:$7,isTypedArray:iI,isFileList:H7,forEach:_d,merge:gx,extend:J7,trim:Z7,stripBOM:eI,inherits:tI,toFlatObject:nI,kindOf:Qh,kindOfTest:mi,endsWith:rI,toArray:sI,forEachEntry:aI,matchAll:oI,isHTMLForm:lI,hasOwnProperty:$w,hasOwnProp:$w,reduceDescriptors:hN,freezeMethods:dI,toObjectSet:fI,toCamelCase:cI,noop:hI,toFiniteNumber:pI,findKey:dN,global:Zo,isContextDefined:fN,isSpecCompliantForm:mI,toJSONObject:xI,isAsyncFn:gI,isThenable:vI,setImmediate:pN,asap:yI,isIterable:wI};function yt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}me.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const mN=yt.prototype,xN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xN[e]={value:e}});Object.defineProperties(yt,xN);Object.defineProperty(mN,"isAxiosError",{value:!0});yt.from=(e,t,n,r,i,o)=>{const d=Object.create(mN);return me.toFlatObject(e,d,function(v){return v!==Error.prototype},x=>x!=="isAxiosError"),yt.call(d,e.message,t,n,r,i),d.cause=e,d.name=e.name,o&&Object.assign(d,o),d};const bI=null;function vx(e){return me.isPlainObject(e)||me.isArray(e)}function gN(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function Gw(e,t,n){return e?e.concat(t).map(function(i,o){return i=gN(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function CI(e){return me.isArray(e)&&!e.some(vx)}const NI=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function Jh(e,t,n){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=me.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,L){return!me.isUndefined(L[O])});const r=n.metaTokens,i=n.visitor||w,o=n.dots,d=n.indexes,v=(n.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(i))throw new TypeError("visitor must be a function");function g(j){if(j===null)return"";if(me.isDate(j))return j.toISOString();if(!v&&me.isBlob(j))throw new yt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(j)||me.isTypedArray(j)?v&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function w(j,O,L){let T=j;if(j&&!L&&typeof j=="object"){if(me.endsWith(O,"{}"))O=r?O:O.slice(0,-2),j=JSON.stringify(j);else if(me.isArray(j)&&CI(j)||(me.isFileList(j)||me.endsWith(O,"[]"))&&(T=me.toArray(j)))return O=gN(O),T.forEach(function(I,q){!(me.isUndefined(I)||I===null)&&t.append(d===!0?Gw([O],q,o):d===null?O:O+"[]",g(I))}),!1}return vx(j)?!0:(t.append(Gw(L,O,o),g(j)),!1)}const N=[],S=Object.assign(NI,{defaultVisitor:w,convertValue:g,isVisitable:vx});function k(j,O){if(!me.isUndefined(j)){if(N.indexOf(j)!==-1)throw Error("Circular reference detected in "+O.join("."));N.push(j),me.forEach(j,function(T,A){(!(me.isUndefined(T)||T===null)&&i.call(t,T,me.isString(A)?A.trim():A,O,S))===!0&&k(T,O?O.concat(A):[A])}),N.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return k(e),t}function Xw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Zg(e,t){this._pairs=[],e&&Jh(e,this,t)}const vN=Zg.prototype;vN.append=function(t,n){this._pairs.push([t,n])};vN.toString=function(t){const n=t?function(r){return t.call(this,r,Xw)}:Xw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function EI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yN(e,t,n){if(!t)return e;const r=n&&n.encode||EI;me.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=me.isURLSearchParams(t)?t.toString():new Zg(t,n).toString(r),o){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class SI{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Qw=SI,wN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_I=typeof URLSearchParams<"u"?URLSearchParams:Zg,jI=typeof FormData<"u"?FormData:null,AI=typeof Blob<"u"?Blob:null,kI={isBrowser:!0,classes:{URLSearchParams:_I,FormData:jI,Blob:AI},protocols:["http","https","file","blob","url","data"]},Jg=typeof window<"u"&&typeof document<"u",yx=typeof navigator=="object"&&navigator||void 0,TI=Jg&&(!yx||["ReactNative","NativeScript","NS"].indexOf(yx.product)<0),DI=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),II=Jg&&window.location.href||"http://localhost",RI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jg,hasStandardBrowserEnv:TI,hasStandardBrowserWebWorkerEnv:DI,navigator:yx,origin:II},Symbol.toStringTag,{value:"Module"})),Rr={...RI,...kI};function OI(e,t){return Jh(e,new Rr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Rr.isNode&&me.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function MI(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function LI(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function bN(e){function t(n,r,i,o){let d=n[o++];if(d==="__proto__")return!0;const x=Number.isFinite(+d),v=o>=n.length;return d=!d&&me.isArray(i)?i.length:d,v?(me.hasOwnProp(i,d)?i[d]=[i[d],r]:i[d]=r,!x):((!i[d]||!me.isObject(i[d]))&&(i[d]=[]),t(n,r,i[d],o)&&me.isArray(i[d])&&(i[d]=LI(i[d])),!x)}if(me.isFormData(e)&&me.isFunction(e.entries)){const n={};return me.forEachEntry(e,(r,i)=>{t(MI(r),i,n,0)}),n}return null}function PI(e,t,n){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const e2={transitional:wN,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=me.isObject(t);if(o&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return i?JSON.stringify(bN(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let x;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return OI(t,this.formSerializer).toString();if((x=me.isFileList(t))||r.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Jh(x?{"files[]":t}:t,v&&new v,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),PI(t)):t}],transformResponse:[function(t){const n=this.transitional||e2.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(r&&!this.responseType||i)){const d=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(x){if(d)throw x.name==="SyntaxError"?yt.from(x,yt.ERR_BAD_RESPONSE,this,null,this.response):x}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rr.classes.FormData,Blob:Rr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{e2.headers[e]={}});const t2=e2,FI=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BI=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(d){i=d.indexOf(":"),n=d.substring(0,i).trim().toLowerCase(),r=d.substring(i+1).trim(),!(!n||t[n]&&FI[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Kw=Symbol("internals");function Su(e){return e&&String(e).trim().toLowerCase()}function y0(e){return e===!1||e==null?e:me.isArray(e)?e.map(y0):String(e)}function UI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const zI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Z1(e,t,n,r,i){if(me.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!me.isString(t)){if(me.isString(r))return t.indexOf(r)!==-1;if(me.isRegExp(r))return r.test(t)}}function qI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function WI(e,t){const n=me.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,d){return this[r].call(this,t,i,o,d)},configurable:!0})})}class ep{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(x,v,g){const w=Su(v);if(!w)throw new Error("header name must be a non-empty string");const N=me.findKey(i,w);(!N||i[N]===void 0||g===!0||g===void 0&&i[N]!==!1)&&(i[N||v]=y0(x))}const d=(x,v)=>me.forEach(x,(g,w)=>o(g,w,v));if(me.isPlainObject(t)||t instanceof this.constructor)d(t,n);else if(me.isString(t)&&(t=t.trim())&&!zI(t))d(BI(t),n);else if(me.isObject(t)&&me.isIterable(t)){let x={},v,g;for(const w of t){if(!me.isArray(w))throw TypeError("Object iterator must return a key-value pair");x[g=w[0]]=(v=x[g])?me.isArray(v)?[...v,w[1]]:[v,w[1]]:w[1]}d(x,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=Su(t),t){const r=me.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return UI(i);if(me.isFunction(n))return n.call(this,i,r);if(me.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Su(t),t){const r=me.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Z1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(d){if(d=Su(d),d){const x=me.findKey(r,d);x&&(!n||Z1(r,r[x],x,n))&&(delete r[x],i=!0)}}return me.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||Z1(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return me.forEach(this,(i,o)=>{const d=me.findKey(r,o);if(d){n[d]=y0(i),delete n[o];return}const x=t?qI(o):String(o).trim();x!==o&&delete n[o],n[x]=y0(i),r[x]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return me.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&me.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Kw]=this[Kw]={accessors:{}}).accessors,i=this.prototype;function o(d){const x=Su(d);r[x]||(WI(i,d),r[x]=!0)}return me.isArray(t)?t.forEach(o):o(t),this}}ep.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(ep.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});me.freezeMethods(ep);const di=ep;function J1(e,t){const n=this||t2,r=t||n,i=di.from(r.headers);let o=r.data;return me.forEach(e,function(x){o=x.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function CN(e){return!!(e&&e.__CANCEL__)}function Pc(e,t,n){yt.call(this,e??"canceled",yt.ERR_CANCELED,t,n),this.name="CanceledError"}me.inherits(Pc,yt,{__CANCEL__:!0});function NN(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new yt("Request failed with status code "+n.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function HI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function VI(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,d;return t=t!==void 0?t:1e3,function(v){const g=Date.now(),w=r[o];d||(d=g),n[i]=v,r[i]=g;let N=o,S=0;for(;N!==i;)S+=n[N++],N=N%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),g-d<t)return;const k=w&&g-w;return k?Math.round(S*1e3/k):void 0}}function YI(e,t){let n=0,r=1e3/t,i,o;const d=(g,w=Date.now())=>{n=w,i=null,o&&(clearTimeout(o),o=null),e.apply(null,g)};return[(...g)=>{const w=Date.now(),N=w-n;N>=r?d(g,w):(i=g,o||(o=setTimeout(()=>{o=null,d(i)},r-N)))},()=>i&&d(i)]}const ah=(e,t,n=3)=>{let r=0;const i=VI(50,250);return YI(o=>{const d=o.loaded,x=o.lengthComputable?o.total:void 0,v=d-r,g=i(v),w=d<=x;r=d;const N={loaded:d,total:x,progress:x?d/x:void 0,bytes:v,rate:g||void 0,estimated:g&&x&&w?(x-d)/g:void 0,event:o,lengthComputable:x!=null,[t?"download":"upload"]:!0};e(N)},n)},Zw=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Jw=e=>(...t)=>me.asap(()=>e(...t)),$I=Rr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Rr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Rr.origin),Rr.navigator&&/(msie|trident)/i.test(Rr.navigator.userAgent)):()=>!0,GI=Rr.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const d=[e+"="+encodeURIComponent(t)];me.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),me.isString(r)&&d.push("path="+r),me.isString(i)&&d.push("domain="+i),o===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function XI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function QI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function EN(e,t,n){let r=!XI(t);return e&&(r||n==!1)?QI(e,t):t}const eb=e=>e instanceof di?{...e}:e;function dl(e,t){t=t||{};const n={};function r(g,w,N,S){return me.isPlainObject(g)&&me.isPlainObject(w)?me.merge.call({caseless:S},g,w):me.isPlainObject(w)?me.merge({},w):me.isArray(w)?w.slice():w}function i(g,w,N,S){if(me.isUndefined(w)){if(!me.isUndefined(g))return r(void 0,g,N,S)}else return r(g,w,N,S)}function o(g,w){if(!me.isUndefined(w))return r(void 0,w)}function d(g,w){if(me.isUndefined(w)){if(!me.isUndefined(g))return r(void 0,g)}else return r(void 0,w)}function x(g,w,N){if(N in t)return r(g,w);if(N in e)return r(void 0,g)}const v={url:o,method:o,data:o,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:x,headers:(g,w,N)=>i(eb(g),eb(w),N,!0)};return me.forEach(Object.keys(Object.assign({},e,t)),function(w){const N=v[w]||i,S=N(e[w],t[w],w);me.isUndefined(S)&&N!==x||(n[w]=S)}),n}const SN=e=>{const t=dl({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:d,auth:x}=t;t.headers=d=di.from(d),t.url=yN(EN(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),x&&d.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):"")));let v;if(me.isFormData(n)){if(Rr.hasStandardBrowserEnv||Rr.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((v=d.getContentType())!==!1){const[g,...w]=v?v.split(";").map(N=>N.trim()).filter(Boolean):[];d.setContentType([g||"multipart/form-data",...w].join("; "))}}if(Rr.hasStandardBrowserEnv&&(r&&me.isFunction(r)&&(r=r(t)),r||r!==!1&&$I(t.url))){const g=i&&o&&GI.read(o);g&&d.set(i,g)}return t},KI=typeof XMLHttpRequest<"u",ZI=KI&&function(e){return new Promise(function(n,r){const i=SN(e);let o=i.data;const d=di.from(i.headers).normalize();let{responseType:x,onUploadProgress:v,onDownloadProgress:g}=i,w,N,S,k,j;function O(){k&&k(),j&&j(),i.cancelToken&&i.cancelToken.unsubscribe(w),i.signal&&i.signal.removeEventListener("abort",w)}let L=new XMLHttpRequest;L.open(i.method.toUpperCase(),i.url,!0),L.timeout=i.timeout;function T(){if(!L)return;const I=di.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),X={data:!x||x==="text"||x==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:I,config:e,request:L};NN(function(R){n(R),O()},function(R){r(R),O()},X),L=null}"onloadend"in L?L.onloadend=T:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(T)},L.onabort=function(){L&&(r(new yt("Request aborted",yt.ECONNABORTED,e,L)),L=null)},L.onerror=function(){r(new yt("Network Error",yt.ERR_NETWORK,e,L)),L=null},L.ontimeout=function(){let q=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const X=i.transitional||wN;i.timeoutErrorMessage&&(q=i.timeoutErrorMessage),r(new yt(q,X.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,e,L)),L=null},o===void 0&&d.setContentType(null),"setRequestHeader"in L&&me.forEach(d.toJSON(),function(q,X){L.setRequestHeader(X,q)}),me.isUndefined(i.withCredentials)||(L.withCredentials=!!i.withCredentials),x&&x!=="json"&&(L.responseType=i.responseType),g&&([S,j]=ah(g,!0),L.addEventListener("progress",S)),v&&L.upload&&([N,k]=ah(v),L.upload.addEventListener("progress",N),L.upload.addEventListener("loadend",k)),(i.cancelToken||i.signal)&&(w=I=>{L&&(r(!I||I.type?new Pc(null,e,L):I),L.abort(),L=null)},i.cancelToken&&i.cancelToken.subscribe(w),i.signal&&(i.signal.aborted?w():i.signal.addEventListener("abort",w)));const A=HI(i.url);if(A&&Rr.protocols.indexOf(A)===-1){r(new yt("Unsupported protocol "+A+":",yt.ERR_BAD_REQUEST,e));return}L.send(o||null)})},JI=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(g){if(!i){i=!0,x();const w=g instanceof Error?g:this.reason;r.abort(w instanceof yt?w:new Pc(w instanceof Error?w.message:w))}};let d=t&&setTimeout(()=>{d=null,o(new yt(`timeout ${t} of ms exceeded`,yt.ETIMEDOUT))},t);const x=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(o):g.removeEventListener("abort",o)}),e=null)};e.forEach(g=>g.addEventListener("abort",o));const{signal:v}=r;return v.unsubscribe=()=>me.asap(x),v}},eR=JI,tR=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},nR=async function*(e,t){for await(const n of rR(e))yield*tR(n,t)},rR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},tb=(e,t,n,r)=>{const i=nR(e,t);let o=0,d,x=v=>{d||(d=!0,r&&r(v))};return new ReadableStream({async pull(v){try{const{done:g,value:w}=await i.next();if(g){x(),v.close();return}let N=w.byteLength;if(n){let S=o+=N;n(S)}v.enqueue(new Uint8Array(w))}catch(g){throw x(g),g}},cancel(v){return x(v),i.return()}},{highWaterMark:2})},tp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",_N=tp&&typeof ReadableStream=="function",sR=tp&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),jN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},iR=_N&&jN(()=>{let e=!1;const t=new Request(Rr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),nb=64*1024,wx=_N&&jN(()=>me.isReadableStream(new Response("").body)),oh={stream:wx&&(e=>e.body)};tp&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!oh[t]&&(oh[t]=me.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new yt(`Response type '${t}' is not supported`,yt.ERR_NOT_SUPPORT,r)})})})(new Response);const aR=async e=>{if(e==null)return 0;if(me.isBlob(e))return e.size;if(me.isSpecCompliantForm(e))return(await new Request(Rr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(me.isArrayBufferView(e)||me.isArrayBuffer(e))return e.byteLength;if(me.isURLSearchParams(e)&&(e=e+""),me.isString(e))return(await sR(e)).byteLength},oR=async(e,t)=>{const n=me.toFiniteNumber(e.getContentLength());return n??aR(t)},lR=tp&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:d,onDownloadProgress:x,onUploadProgress:v,responseType:g,headers:w,withCredentials:N="same-origin",fetchOptions:S}=SN(e);g=g?(g+"").toLowerCase():"text";let k=eR([i,o&&o.toAbortSignal()],d),j;const O=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let L;try{if(v&&iR&&n!=="get"&&n!=="head"&&(L=await oR(w,r))!==0){let X=new Request(t,{method:"POST",body:r,duplex:"half"}),F;if(me.isFormData(r)&&(F=X.headers.get("content-type"))&&w.setContentType(F),X.body){const[R,H]=Zw(L,ah(Jw(v)));r=tb(X.body,nb,R,H)}}me.isString(N)||(N=N?"include":"omit");const T="credentials"in Request.prototype;j=new Request(t,{...S,signal:k,method:n.toUpperCase(),headers:w.normalize().toJSON(),body:r,duplex:"half",credentials:T?N:void 0});let A=await fetch(j);const I=wx&&(g==="stream"||g==="response");if(wx&&(x||I&&O)){const X={};["status","statusText","headers"].forEach(V=>{X[V]=A[V]});const F=me.toFiniteNumber(A.headers.get("content-length")),[R,H]=x&&Zw(F,ah(Jw(x),!0))||[];A=new Response(tb(A.body,nb,R,()=>{H&&H(),O&&O()}),X)}g=g||"text";let q=await oh[me.findKey(oh,g)||"text"](A,e);return!I&&O&&O(),await new Promise((X,F)=>{NN(X,F,{data:q,headers:di.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:j})})}catch(T){throw O&&O(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new yt("Network Error",yt.ERR_NETWORK,e,j),{cause:T.cause||T}):yt.from(T,T&&T.code,e,j)}}),bx={http:bI,xhr:ZI,fetch:lR};me.forEach(bx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rb=e=>`- ${e}`,cR=e=>me.isFunction(e)||e===null||e===!1,AN={getAdapter:e=>{e=me.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let d;if(r=n,!cR(n)&&(r=bx[(d=String(n)).toLowerCase()],r===void 0))throw new yt(`Unknown adapter '${d}'`);if(r)break;i[d||"#"+o]=r}if(!r){const o=Object.entries(i).map(([x,v])=>`adapter ${x} `+(v===!1?"is not supported by the environment":"is not available in the build"));let d=t?o.length>1?`since :
`+o.map(rb).join(`
`):" "+rb(o[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:bx};function em(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pc(null,e)}function sb(e){return em(e),e.headers=di.from(e.headers),e.data=J1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),AN.getAdapter(e.adapter||t2.adapter)(e).then(function(r){return em(e),r.data=J1.call(e,e.transformResponse,r),r.headers=di.from(r.headers),r},function(r){return CN(r)||(em(e),r&&r.response&&(r.response.data=J1.call(e,e.transformResponse,r.response),r.response.headers=di.from(r.response.headers))),Promise.reject(r)})}const kN="1.9.0",np={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{np[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ib={};np.transitional=function(t,n,r){function i(o,d){return"[Axios v"+kN+"] Transitional option '"+o+"'"+d+(r?". "+r:"")}return(o,d,x)=>{if(t===!1)throw new yt(i(d," has been removed"+(n?" in "+n:"")),yt.ERR_DEPRECATED);return n&&!ib[d]&&(ib[d]=!0,console.warn(i(d," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,d,x):!0}};np.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function uR(e,t,n){if(typeof e!="object")throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],d=t[o];if(d){const x=e[o],v=x===void 0||d(x,o,e);if(v!==!0)throw new yt("option "+o+" must be "+v,yt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new yt("Unknown option "+o,yt.ERR_BAD_OPTION)}}const w0={assertOptions:uR,validators:np},Ei=w0.validators;class lh{constructor(t){this.defaults=t||{},this.interceptors={request:new Qw,response:new Qw}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=dl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&w0.assertOptions(r,{silentJSONParsing:Ei.transitional(Ei.boolean),forcedJSONParsing:Ei.transitional(Ei.boolean),clarifyTimeoutError:Ei.transitional(Ei.boolean)},!1),i!=null&&(me.isFunction(i)?n.paramsSerializer={serialize:i}:w0.assertOptions(i,{encode:Ei.function,serialize:Ei.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),w0.assertOptions(n,{baseUrl:Ei.spelling("baseURL"),withXsrfToken:Ei.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=o&&me.merge(o.common,o[n.method]);o&&me.forEach(["delete","get","head","post","put","patch","common"],j=>{delete o[j]}),n.headers=di.concat(d,o);const x=[];let v=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(n)===!1||(v=v&&O.synchronous,x.unshift(O.fulfilled,O.rejected))});const g=[];this.interceptors.response.forEach(function(O){g.push(O.fulfilled,O.rejected)});let w,N=0,S;if(!v){const j=[sb.bind(this),void 0];for(j.unshift.apply(j,x),j.push.apply(j,g),S=j.length,w=Promise.resolve(n);N<S;)w=w.then(j[N++],j[N++]);return w}S=x.length;let k=n;for(N=0;N<S;){const j=x[N++],O=x[N++];try{k=j(k)}catch(L){O.call(this,L);break}}try{w=sb.call(this,k)}catch(j){return Promise.reject(j)}for(N=0,S=g.length;N<S;)w=w.then(g[N++],g[N++]);return w}getUri(t){t=dl(this.defaults,t);const n=EN(t.baseURL,t.url,t.allowAbsoluteUrls);return yN(n,t.params,t.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(t){lh.prototype[t]=function(n,r){return this.request(dl(r||{},{method:t,url:n,data:(r||{}).data}))}});me.forEach(["post","put","patch"],function(t){function n(r){return function(o,d,x){return this.request(dl(x||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:d}))}}lh.prototype[t]=n(),lh.prototype[t+"Form"]=n(!0)});const b0=lh;class n2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const d=new Promise(x=>{r.subscribe(x),o=x}).then(i);return d.cancel=function(){r.unsubscribe(o)},d},t(function(o,d,x){r.reason||(r.reason=new Pc(o,d,x),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new n2(function(i){t=i}),cancel:t}}}const dR=n2;function fR(e){return function(n){return e.apply(null,n)}}function hR(e){return me.isObject(e)&&e.isAxiosError===!0}const Cx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cx).forEach(([e,t])=>{Cx[t]=e});const pR=Cx;function TN(e){const t=new b0(e),n=oN(b0.prototype.request,t);return me.extend(n,b0.prototype,t,{allOwnKeys:!0}),me.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return TN(dl(e,i))},n}const er=TN(t2);er.Axios=b0;er.CanceledError=Pc;er.CancelToken=dR;er.isCancel=CN;er.VERSION=kN;er.toFormData=Jh;er.AxiosError=yt;er.Cancel=er.CanceledError;er.all=function(t){return Promise.all(t)};er.spread=fR;er.isAxiosError=hR;er.mergeConfig=dl;er.AxiosHeaders=di;er.formToJSON=e=>bN(me.isHTMLForm(e)?new FormData(e):e);er.getAdapter=AN.getAdapter;er.HttpStatusCode=pR;er.default=er;const ht=er,DN=M.createContext(),lr=()=>M.useContext(DN),mR=({children:e})=>{const[t,n]=M.useState(null),[r,i]=M.useState(localStorage.getItem("token")),[o,d]=M.useState(!0),[x,v]=M.useState(null);M.useEffect(()=>{r?ht.defaults.headers.common.Authorization=`Bearer ${r}`:delete ht.defaults.headers.common.Authorization},[r]),M.useEffect(()=>{const q=async()=>{if(!r){d(!1);return}try{const F=await ht.get("/api/auth/me");n(F.data.user),v(null)}catch(F){console.error("Token verification failed:",F),F.response&&F.response.status===401?(w(),v("Session expired. Please log in again.")):v("Error verifying session. Please try again.")}finally{d(!1)}};q();const X=setInterval(()=>{r&&q()},60*60*1e3);return()=>{clearInterval(X)}},[r]);const g=async(q,X)=>{var F,R;try{d(!0);const H=await ht.post("/api/auth/login",{username:q,password:X}),{token:V,user:te}=H.data;return localStorage.setItem("token",V),ht.defaults.headers.common.Authorization=`Bearer ${V}`,i(V),n(te),v(null),te}catch(H){throw console.error("Login error:",H),v(((R=(F=H.response)==null?void 0:F.data)==null?void 0:R.message)||"Login failed"),H}finally{d(!1)}},w=()=>{localStorage.removeItem("token"),i(null),n(null),delete ht.defaults.headers.common.Authorization},I={user:t,token:r,loading:o,error:x,login:g,logout:w,register:async q=>{var X,F;try{return d(!0),(await ht.post("/api/auth/register",q)).data}catch(R){throw console.error("Register error:",R),v(((F=(X=R.response)==null?void 0:X.data)==null?void 0:F.message)||"Registration failed"),R}finally{d(!1)}},isAdmin:()=>(t==null?void 0:t.role)==="admin",isAdvanced:()=>(t==null?void 0:t.role)==="advanced",isBasic:()=>(t==null?void 0:t.role)==="basic",canEditEquipment:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="advanced",isImpersonating:()=>!!(t!=null&&t.impersonated),impersonateUser:async q=>{var X,F;try{d(!0);const R=await ht.post(`/api/auth/impersonate/${q}`),{token:H,user:V}=R.data;return localStorage.setItem("token",H),i(H),n(V),v(null),V}catch(R){throw console.error("Impersonation error:",R),v(((F=(X=R.response)==null?void 0:X.data)==null?void 0:F.message)||"Impersonation failed"),R}finally{d(!1)}},getUsers:async()=>{var q,X;try{return(await ht.get("/api/auth/users")).data.users}catch(F){throw console.error("Get users error:",F),v(((X=(q=F.response)==null?void 0:q.data)==null?void 0:X.message)||"Failed to get users"),F}}};return a.jsx(DN.Provider,{value:I,children:e})};function IN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=IN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Sn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=IN(e))&&(r&&(r+=" "),r+=t);return r}function xR(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}xR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var jd=e=>typeof e=="number"&&!isNaN(e),fl=e=>typeof e=="string",wa=e=>typeof e=="function",gR=e=>fl(e)||jd(e),Nx=e=>fl(e)||wa(e)?e:null,vR=(e,t)=>e===!1||jd(e)&&e>0?e:t,Ex=e=>M.isValidElement(e)||fl(e)||wa(e)||jd(e);function yR(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function wR({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:o,position:d,preventExitTransition:x,done:v,nodeRef:g,isIn:w,playToast:N}){let S=n?`${e}--${d}`:e,k=n?`${t}--${d}`:t,j=M.useRef(0);return M.useLayoutEffect(()=>{let O=g.current,L=S.split(" "),T=A=>{A.target===g.current&&(N(),O.removeEventListener("animationend",T),O.removeEventListener("animationcancel",T),j.current===0&&A.type!=="animationcancel"&&O.classList.remove(...L))};O.classList.add(...L),O.addEventListener("animationend",T),O.addEventListener("animationcancel",T)},[]),M.useEffect(()=>{let O=g.current,L=()=>{O.removeEventListener("animationend",L),r?yR(O,v,i):v()};w||(x?L():(j.current=1,O.className+=` ${k}`,O.addEventListener("animationend",L)))},[w]),fe.createElement(fe.Fragment,null,o)}}function ab(e,t){return{content:RN(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function RN(e,t,n=!1){return M.isValidElement(e)&&!fl(e.type)?M.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):wa(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function bR({closeToast:e,theme:t,ariaLabel:n="close"}){return fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function CR({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:o,controlledProgress:d,progress:x,rtl:v,isIn:g,theme:w}){let N=i||d&&x===0,S={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};d&&(S.transform=`scaleX(${x})`);let k=Sn("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${w}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":v}),j=wa(o)?o({rtl:v,type:r,defaultClassName:k}):Sn(k,o),O={[d&&x>=1?"onTransitionEnd":"onAnimationEnd"]:d&&x<1?null:()=>{g&&n()}};return fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":N},fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${w} Toastify__progress-bar--${r}`}),fe.createElement("div",{role:"progressbar","aria-hidden":N?"true":"false","aria-label":"notification timer",className:j,style:S,...O}))}var NR=1,ON=()=>`${NR++}`;function ER(e,t,n){let r=1,i=0,o=[],d=[],x=t,v=new Map,g=new Set,w=A=>(g.add(A),()=>g.delete(A)),N=()=>{d=Array.from(v.values()),g.forEach(A=>A())},S=({containerId:A,toastId:I,updateId:q})=>{let X=A?A!==e:e!==1,F=v.has(I)&&q==null;return X||F},k=(A,I)=>{v.forEach(q=>{var X;(I==null||I===q.props.toastId)&&((X=q.toggle)==null||X.call(q,A))})},j=A=>{var I,q;(q=(I=A.props)==null?void 0:I.onClose)==null||q.call(I,A.removalReason),A.isActive=!1},O=A=>{if(A==null)v.forEach(j);else{let I=v.get(A);I&&j(I)}N()},L=()=>{i-=o.length,o=[]},T=A=>{var I,q;let{toastId:X,updateId:F}=A.props,R=F==null;A.staleId&&v.delete(A.staleId),A.isActive=!0,v.set(X,A),N(),n(ab(A,R?"added":"updated")),R&&((q=(I=A.props).onOpen)==null||q.call(I))};return{id:e,props:x,observe:w,toggle:k,removeToast:O,toasts:v,clearQueue:L,buildToast:(A,I)=>{if(S(I))return;let{toastId:q,updateId:X,data:F,staleId:R,delay:H}=I,V=X==null;V&&i++;let te={...x,style:x.toastStyle,key:r++,...Object.fromEntries(Object.entries(I).filter(([re,ee])=>ee!=null)),toastId:q,updateId:X,data:F,isIn:!1,className:Nx(I.className||x.toastClassName),progressClassName:Nx(I.progressClassName||x.progressClassName),autoClose:I.isLoading?!1:vR(I.autoClose,x.autoClose),closeToast(re){v.get(q).removalReason=re,O(q)},deleteToast(){let re=v.get(q);if(re!=null){if(n(ab(re,"removed")),v.delete(q),i--,i<0&&(i=0),o.length>0){T(o.shift());return}N()}}};te.closeButton=x.closeButton,I.closeButton===!1||Ex(I.closeButton)?te.closeButton=I.closeButton:I.closeButton===!0&&(te.closeButton=Ex(x.closeButton)?x.closeButton:!0);let de={content:A,props:te,staleId:R};x.limit&&x.limit>0&&i>x.limit&&V?o.push(de):jd(H)?setTimeout(()=>{T(de)},H):T(de)},setProps(A){x=A},setToggle:(A,I)=>{let q=v.get(A);q&&(q.toggle=I)},isToastActive:A=>{var I;return(I=v.get(A))==null?void 0:I.isActive},getSnapshot:()=>d}}var Wr=new Map,hd=[],Sx=new Set,SR=e=>Sx.forEach(t=>t(e)),MN=()=>Wr.size>0;function _R(){hd.forEach(e=>PN(e.content,e.options)),hd=[]}var jR=(e,{containerId:t})=>{var n;return(n=Wr.get(t||1))==null?void 0:n.toasts.get(e)};function LN(e,t){var n;if(t)return!!((n=Wr.get(t))!=null&&n.isToastActive(e));let r=!1;return Wr.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function AR(e){if(!MN()){hd=hd.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||gR(e))Wr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Wr.get(e.containerId);t?t.removeToast(e.id):Wr.forEach(n=>{n.removeToast(e.id)})}}var kR=(e={})=>{Wr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function PN(e,t){Ex(e)&&(MN()||hd.push({content:e,options:t}),Wr.forEach(n=>{n.buildToast(e,t)}))}function TR(e){var t;(t=Wr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function FN(e,t){Wr.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function DR(e){let t=e.containerId||1;return{subscribe(n){let r=ER(t,e,SR);Wr.set(t,r);let i=r.observe(n);return _R(),()=>{i(),Wr.delete(t)}},setProps(n){var r;(r=Wr.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Wr.get(t))==null?void 0:n.getSnapshot()}}}function IR(e){return Sx.add(e),()=>{Sx.delete(e)}}function RR(e){return e&&(fl(e.toastId)||jd(e.toastId))?e.toastId:ON()}function Ad(e,t){return PN(e,t),t.toastId}function rp(e,t){return{...t,type:t&&t.type||e,toastId:RR(t)}}function sp(e){return(t,n)=>Ad(t,rp(e,n))}function tt(e,t){return Ad(e,rp("default",t))}tt.loading=(e,t)=>Ad(e,rp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function OR(e,{pending:t,error:n,success:r},i){let o;t&&(o=fl(t)?tt.loading(t,i):tt.loading(t.render,{...i,...t}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},x=(g,w,N)=>{if(w==null){tt.dismiss(o);return}let S={type:g,...d,...i,data:N},k=fl(w)?{render:w}:w;return o?tt.update(o,{...S,...k}):tt(k.render,{...S,...k}),N},v=wa(e)?e():e;return v.then(g=>x("success",r,g)).catch(g=>x("error",n,g)),v}tt.promise=OR;tt.success=sp("success");tt.info=sp("info");tt.error=sp("error");tt.warning=sp("warning");tt.warn=tt.warning;tt.dark=(e,t)=>Ad(e,rp("default",{theme:"dark",...t}));function MR(e){AR(e)}tt.dismiss=MR;tt.clearWaitingQueue=kR;tt.isActive=LN;tt.update=(e,t={})=>{let n=jR(e,t);if(n){let{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:ON()};o.toastId!==e&&(o.staleId=e);let d=o.render||i;delete o.render,Ad(d,o)}};tt.done=e=>{tt.update(e,{progress:1})};tt.onChange=IR;tt.play=e=>FN(!0,e);tt.pause=e=>FN(!1,e);function LR(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=M.useRef(DR(e)).current;i(e);let o=(t=M.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function d(x){if(!o)return[];let v=new Map;return e.newestOnTop&&o.reverse(),o.forEach(g=>{let{position:w}=g.props;v.has(w)||v.set(w,[]),v.get(w).push(g)}),Array.from(v,g=>x(g[0],g[1]))}return{getToastToRender:d,isToastActive:LN,count:o==null?void 0:o.length}}function PR(e){let[t,n]=M.useState(!1),[r,i]=M.useState(!1),o=M.useRef(null),d=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:x,pauseOnHover:v,closeToast:g,onClick:w,closeOnClick:N}=e;TR({id:e.toastId,containerId:e.containerId,fn:n}),M.useEffect(()=>{if(e.pauseOnFocusLoss)return S(),()=>{k()}},[e.pauseOnFocusLoss]);function S(){document.hasFocus()||T(),window.addEventListener("focus",L),window.addEventListener("blur",T)}function k(){window.removeEventListener("focus",L),window.removeEventListener("blur",T)}function j(R){if(e.draggable===!0||e.draggable===R.pointerType){A();let H=o.current;d.canCloseOnClick=!0,d.canDrag=!0,H.style.transition="none",e.draggableDirection==="x"?(d.start=R.clientX,d.removalDistance=H.offsetWidth*(e.draggablePercent/100)):(d.start=R.clientY,d.removalDistance=H.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function O(R){let{top:H,bottom:V,left:te,right:de}=o.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&e.pauseOnHover&&R.clientX>=te&&R.clientX<=de&&R.clientY>=H&&R.clientY<=V?T():L()}function L(){n(!0)}function T(){n(!1)}function A(){d.didMove=!1,document.addEventListener("pointermove",q),document.addEventListener("pointerup",X)}function I(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",X)}function q(R){let H=o.current;if(d.canDrag&&H){d.didMove=!0,t&&T(),e.draggableDirection==="x"?d.delta=R.clientX-d.start:d.delta=R.clientY-d.start,d.start!==R.clientX&&(d.canCloseOnClick=!1);let V=e.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;H.style.transform=`translate3d(${V},0)`,H.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function X(){I();let R=o.current;if(d.canDrag&&d.didMove&&R){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let F={onPointerDown:j,onPointerUp:O};return x&&v&&(F.onMouseEnter=T,e.stacked||(F.onMouseLeave=L)),N&&(F.onClick=R=>{w&&w(R),d.canCloseOnClick&&g(!0)}),{playToast:L,pauseToast:T,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:F}}var FR=typeof window<"u"?M.useLayoutEffect:M.useEffect,ip=({theme:e,type:t,isLoading:n,...r})=>fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function BR(e){return fe.createElement(ip,{...e},fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function UR(e){return fe.createElement(ip,{...e},fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function zR(e){return fe.createElement(ip,{...e},fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function qR(e){return fe.createElement(ip,{...e},fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function WR(){return fe.createElement("div",{className:"Toastify__spinner"})}var _x={info:UR,warning:BR,success:zR,error:qR,spinner:WR},HR=e=>e in _x;function VR({theme:e,type:t,isLoading:n,icon:r}){let i=null,o={theme:e,type:t};return r===!1||(wa(r)?i=r({...o,isLoading:n}):M.isValidElement(r)?i=M.cloneElement(r,o):n?i=_x.spinner():HR(t)&&(i=_x[t](o))),i}var YR=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:o}=PR(e),{closeButton:d,children:x,autoClose:v,onClick:g,type:w,hideProgressBar:N,closeToast:S,transition:k,position:j,className:O,style:L,progressClassName:T,updateId:A,role:I,progress:q,rtl:X,toastId:F,deleteToast:R,isIn:H,isLoading:V,closeOnClick:te,theme:de,ariaLabel:re}=e,ee=Sn("Toastify__toast",`Toastify__toast-theme--${de}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":X},{"Toastify__toast--close-on-click":te}),Ne=wa(O)?O({rtl:X,position:j,type:w,defaultClassName:ee}):Sn(ee,O),se=VR(e),oe=!!q||!v,xe={closeToast:S,type:w,theme:de},ue=null;return d===!1||(wa(d)?ue=d(xe):M.isValidElement(d)?ue=M.cloneElement(d,xe):ue=bR(xe)),fe.createElement(k,{isIn:H,done:R,position:j,preventExitTransition:n,nodeRef:r,playToast:o},fe.createElement("div",{id:F,tabIndex:0,onClick:g,"data-in":H,className:Ne,...i,style:L,ref:r,...H&&{role:I,"aria-label":re}},se!=null&&fe.createElement("div",{className:Sn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},se),RN(x,e,!t),ue,!e.customProgressBar&&fe.createElement(CR,{...A&&!oe?{key:`p-${A}`}:{},rtl:X,theme:de,delay:v,isRunning:t,isIn:H,closeToast:S,hide:N,type:w,className:T,controlledProgress:oe,progress:q||0})))},$R=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),GR=wR($R("bounce",!0)),XR={position:"top-right",transition:GR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function ap(e){let t={...XR,...e},n=e.stacked,[r,i]=M.useState(!0),o=M.useRef(null),{getToastToRender:d,isToastActive:x,count:v}=LR(t),{className:g,style:w,rtl:N,containerId:S,hotKeys:k}=t;function j(L){let T=Sn("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":N});return wa(g)?g({position:L,rtl:N,defaultClassName:T}):Sn(T,Nx(g))}function O(){n&&(i(!0),tt.play())}return FR(()=>{var L;if(n){let T=o.current.querySelectorAll('[data-in="true"]'),A=12,I=(L=t.position)==null?void 0:L.includes("top"),q=0,X=0;Array.from(T).reverse().forEach((F,R)=>{let H=F;H.classList.add("Toastify__toast--stacked"),R>0&&(H.dataset.collapsed=`${r}`),H.dataset.pos||(H.dataset.pos=I?"top":"bot");let V=q*(r?.2:1)+(r?0:A*R);H.style.setProperty("--y",`${I?V:V*-1}px`),H.style.setProperty("--g",`${A}`),H.style.setProperty("--s",`${1-(r?X:0)}`),q+=H.offsetHeight,X+=.025})}},[r,v,n]),M.useEffect(()=>{function L(T){var A;let I=o.current;k(T)&&((A=I.querySelector('[tabIndex="0"]'))==null||A.focus(),i(!1),tt.pause()),T.key==="Escape"&&(document.activeElement===I||I!=null&&I.contains(document.activeElement))&&(i(!0),tt.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[k]),fe.createElement("section",{ref:o,className:"Toastify",id:S,onMouseEnter:()=>{n&&(i(!1),tt.pause())},onMouseLeave:O,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},d((L,T)=>{let A=T.length?{...w}:{...w,pointerEvents:"none"};return fe.createElement("div",{tabIndex:-1,className:j(L),"data-stacked":n,style:A,key:`c-${L}`},T.map(({content:I,props:q})=>fe.createElement(YR,{...q,stacked:n,collapseAll:O,isIn:x(q.toastId,q.containerId),key:`t-${q.key}`},I)))}))}var BN={exports:{}},QR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KR=QR,ZR=KR;function UN(){}function zN(){}zN.resetWarningCache=UN;var JR=function(){function e(r,i,o,d,x,v){if(v!==ZR){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zN,resetWarningCache:UN};return n.PropTypes=n,n};BN.exports=JR();var eO=BN.exports;const ae=kh(eO),Ri=async({page:e=1,limit:t=10,type:n,brand:r,status:i,location_id:o,search:d,sortBy:x="updated_at",sortOrder:v="desc",startDate:g,endDate:w})=>{const N={page:e,limit:t};return n&&(N.type=n),r&&(N.brand=r),i&&(N.status=i),o&&(N.location_id=o),d&&(N.search=d),x&&(N.sortBy=x),v&&(N.sortOrder=v),g&&(N.startDate=g),w&&(N.endDate=w),(await ht.get("/api/equipment",{params:N})).data},op=async e=>(await ht.get(`/api/equipment/${e}`)).data,r2=async(e,t=[],n=null)=>{const r=new FormData;if(!e.type_id)throw console.error("Missing required field: type_id"),new Error("Equipment type is required");if(!e.brand)throw console.error("Missing required field: brand"),new Error("Brand is required");if(!e.model)throw console.error("Missing required field: model"),new Error("Model is required");if(!e.serial_number)throw console.error("Missing required field: serial_number"),new Error("Serial number is required");const i=Object.fromEntries(Object.entries(e).filter(([o,d])=>d!==void 0));console.log("Creating equipment with data:",i),Object.keys(i).forEach(o=>{o==="type_id"&&typeof i[o]=="string"?r.append(o,parseInt(i[o],10)):r.append(o,i[o])}),n&&r.append("referenceImage",n),t&&t.length>0&&t.forEach(o=>{r.append("files",o)});try{return(await ht.post("/api/equipment",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(o){throw console.error("Error in createEquipment:",o),o}},qN=async(e,t,n=[],r=[],i=null,o=!1)=>{try{const d=new FormData,x=Object.fromEntries(Object.entries(t).filter(([w,N])=>N!==void 0));console.log("Full equipment data:",t);const v=["location_id","type_id"];return Object.keys(x).forEach(w=>{w!=="reference_image_id"&&(v.includes(w)&&(x[w]===""||x[w]==="0")?(d.append(w,""),d.append(`${w}_is_null`,"true")):d.append(w,x[w]))}),i&&d.append("referenceImage",i),o&&d.append("removeReferenceImage","true"),n&&n.length>0&&n.forEach(w=>{d.append("files",w)}),r&&r.length>0&&d.append("filesToDelete",JSON.stringify(r)),console.log("Updating equipment with data:",x),console.log("Files to delete:",r),console.log("Reference image file:",i?i.name:"None"),console.log("Remove reference image:",o),(await ht.put(`/api/equipment/${e}`,d,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(d){throw console.error("Error in updateEquipment:",d),d}},tO=async e=>(await ht.delete(`/api/equipment/${e}`)).data,ch=(e,t=!1,n=!0)=>{if(!e)return null;const r=`/api/files/${e}`;let i=t?`${r}?thumbnail=true`:r;return n&&(i+=(i.includes("?")?"&":"?")+`t=${new Date().getTime()}`),i},nO=async(e,t)=>{try{return console.log(`Updating equipment ${e} status to ${t}`),(await ht.patch(`/api/equipment/${e}/status`,{status:t})).data}catch(n){throw console.error("Error updating equipment status:",n),n}},rO=async(e,t)=>{try{return console.log(`Updating equipment ${e} location:`,t),(await ht.patch(`/api/equipment/${e}/location`,t)).data}catch(n){throw console.error("Error updating equipment location:",n),n}},sO=async(e,t)=>{try{return console.log(`Updating equipment ${e} type to ${t}`),(await ht.patch(`/api/equipment/${e}/type`,{type_id:t})).data}catch(n){throw console.error("Error updating equipment type:",n),n}},iO=async(e,t)=>{try{return console.log(`Updating equipment ${e} category to ${t}`),(await ht.patch(`/api/equipment/${e}/category`,{category_id:t})).data}catch(n){throw console.error("Error updating equipment category:",n),n}},aO=async(e,t)=>{try{return console.log(`Updating equipment ${e} brand/model:`,t),(await ht.patch(`/api/equipment/${e}/brand-model`,t)).data}catch(n){throw console.error("Error updating equipment brand/model:",n),n}},Bi=async()=>{try{return(await ht.get("/api/equipment-types")).data}catch(e){throw console.error("Error fetching equipment types:",e),e}},oO=async e=>(await ht.post("/api/equipment-types",{name:e})).data,lO=async(e,t)=>(await ht.put(`/api/equipment-types/${e}`,{name:t})).data,cO=async e=>(await ht.delete(`/api/equipment-types/${e}`)).data,WN=M.createContext(),uO=3,HN=({children:e})=>{const[t,n]=M.useState([]),{user:r}=lr(),i=(r==null?void 0:r.role)==="admin",{data:o}=pt(["equipment",{limit:1e3}],()=>Ri({limit:1e3}),{enabled:i,refetchInterval:5*60*1e3,staleTime:4*60*1e3}),{data:d}=pt({queryKey:["equipment-types"],queryFn:Bi,staleTime:3e5,enabled:i});M.useEffect(()=>{if(!i||!(o!=null&&o.equipment)||!(d!=null&&d.types))return;const j=o.equipment,O=d.types,L={};j.forEach(A=>{A.type&&(L[A.type]||(L[A.type]=[]),L[A.type].push(A))});const T=[];Object.entries(L).forEach(([A,I])=>{const q=I.filter(X=>X.status==="available");if(q.length<=uO){const X=O.find(F=>F.name.toLowerCase()===A.toLowerCase());T.push({id:`low-stock-${A}`,type:"warning",title:"Low Stock Alert",message:`Only ${q.length} ${A} ${q.length===1?"item is":"items are"} available.`,timestamp:new Date,read:!1,typeId:X==null?void 0:X.id})}}),T.length>0&&n(A=>[...A.filter(q=>!q.id.startsWith("low-stock-")),...T])},[o,d,i]);const x=j=>{n(O=>[...O,{id:j.id||`notification-${Date.now()}`,timestamp:new Date,read:!1,...j}])},v=j=>{n(O=>O.map(L=>L.id===j?{...L,read:!0}:L))},g=()=>{n(j=>j.map(O=>({...O,read:!0})))},w=j=>{n(O=>O.filter(L=>L.id!==j))},N=()=>{n([])},S=t.filter(j=>!j.read).length,k={notifications:t,unreadCount:S,addNotification:x,markAsRead:v,markAllAsRead:g,removeNotification:w,clearNotifications:N};return a.jsx(WN.Provider,{value:k,children:e})};HN.propTypes={children:ae.node.isRequired};const dO=()=>{const e=M.useContext(WN);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},fO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),hO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),pO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),lp=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),mO=({className:e="w-5 h-5"})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),ob=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),tc=({className:e="w-5 h-5"})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),nl=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125"})}),s2=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),i2=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})}),xO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),VN=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),Fc=({className:e="w-4 h-4"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Bc=({className:e="w-4 h-4"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),a2=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),lb=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),gO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})}),vO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75a2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),pd=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),YN=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),yO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),wO=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),jx=({className:e="w-5 h-5"})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),$N=6048e5,bO=864e5,cp=6e4,up=36e5,CO=1e3,Qf=43200,cb=1440,ub=Symbol.for("constructDateFrom");function Kt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ub in e?e[ub](t):e instanceof Date?new e.constructor(t):new Date(t)}function $e(e,t){return Kt(t||e,e)}function fi(e,t,n){const r=$e(e,n==null?void 0:n.in);return isNaN(t)?Kt((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function pi(e,t,n){const r=$e(e,n==null?void 0:n.in);if(isNaN(t))return Kt((n==null?void 0:n.in)||e,NaN);if(!t)return r;const i=r.getDate(),o=Kt((n==null?void 0:n.in)||e,r.getTime());o.setMonth(r.getMonth()+t+1,0);const d=o.getDate();return i>=d?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function GN(e,t,n){return Kt((n==null?void 0:n.in)||e,+$e(e)+t)}function NO(e,t,n){return GN(e,t*up,n)}let EO={};function yo(){return EO}function ba(e,t){var x,v,g,w;const n=yo(),r=(t==null?void 0:t.weekStartsOn)??((v=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((w=(g=n.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??0,i=$e(e,t==null?void 0:t.in),o=i.getDay(),d=(o<r?7:0)+o-r;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function wc(e,t){return ba(e,{...t,weekStartsOn:1})}function XN(e,t){const n=$e(e,t==null?void 0:t.in),r=n.getFullYear(),i=Kt(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=wc(i),d=Kt(n,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const x=wc(d);return n.getTime()>=o.getTime()?r+1:n.getTime()>=x.getTime()?r:r-1}function bc(e){const t=$e(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function xi(e,...t){const n=Kt.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function hl(e,t){const n=$e(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function Cc(e,t,n){const[r,i]=xi(n==null?void 0:n.in,e,t),o=hl(r),d=hl(i),x=+o-bc(o),v=+d-bc(d);return Math.round((x-v)/bO)}function SO(e,t){const n=XN(e,t),r=Kt((t==null?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),wc(r)}function Ax(e,t,n){const r=$e(e,n==null?void 0:n.in);return r.setTime(r.getTime()+t*cp),r}function o2(e,t,n){return pi(e,t*3,n)}function _O(e,t,n){return GN(e,t*1e3,n)}function uh(e,t,n){return fi(e,t*7,n)}function da(e,t,n){return pi(e,t*12,n)}function db(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Kt.bind(null,i));const o=$e(i,r);(!n||n<o||isNaN(+o))&&(n=o)}),Kt(r,n||NaN)}function fb(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Kt.bind(null,i));const o=$e(i,r);(!n||n>o||isNaN(+o))&&(n=o)}),Kt(r,n||NaN)}function C0(e,t){const n=+$e(e)-+$e(t);return n<0?-1:n>0?1:n}function jO(e){return Kt(e,Date.now())}function AO(e,t,n){const[r,i]=xi(n==null?void 0:n.in,e,t);return+hl(r)==+hl(i)}function fa(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function dh(e){return!(!fa(e)&&typeof e!="number"||isNaN(+$e(e)))}function md(e,t,n){const[r,i]=xi(n==null?void 0:n.in,e,t),o=r.getFullYear()-i.getFullYear(),d=r.getMonth()-i.getMonth();return o*12+d}function rl(e,t){const n=$e(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function fh(e,t,n){const[r,i]=xi(n==null?void 0:n.in,e,t),o=r.getFullYear()-i.getFullYear(),d=rl(r)-rl(i);return o*4+d}function hh(e,t,n){const[r,i]=xi(n==null?void 0:n.in,e,t);return r.getFullYear()-i.getFullYear()}function kO(e,t,n){const[r,i]=xi(n==null?void 0:n.in,e,t),o=hb(r,i),d=Math.abs(Cc(r,i));r.setDate(r.getDate()-o*d);const x=+(hb(r,i)===-o),v=o*(d-x);return v===0?0:v}function hb(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function TO(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function DO(e,t){return+$e(e)-+$e(t)}function l2(e,t){const n=$e(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function c2(e,t){const n=$e(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function IO(e,t){const n=$e(e,t==null?void 0:t.in);return+l2(n,t)==+c2(n,t)}function RO(e,t,n){const[r,i,o]=xi(n==null?void 0:n.in,e,e,t),d=C0(i,o),x=Math.abs(md(i,o));if(x<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-d*x);let v=C0(i,o)===-d;IO(r)&&x===1&&C0(r,o)===1&&(v=!1);const g=d*(x-+v);return g===0?0:g}function OO(e,t,n){const r=DO(e,t)/1e3;return TO(n==null?void 0:n.roundingMethod)(r)}function kx(e,t){const n=$e(e,t==null?void 0:t.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function QN(e,t){const n=$e(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function KN(e,t){const n=$e(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function dp(e,t){const n=$e(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function MO(e,t){var x,v,g,w;const n=yo(),r=(t==null?void 0:t.weekStartsOn)??((v=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((w=(g=n.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??0,i=$e(e,t==null?void 0:t.in),o=i.getDay(),d=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+d),i.setHours(23,59,59,999),i}const LO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PO=(e,t,n)=>{let r;const i=LO[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function tm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const FO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},BO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zO={date:tm({formats:FO,defaultWidth:"full"}),time:tm({formats:BO,defaultWidth:"full"}),dateTime:tm({formats:UO,defaultWidth:"full"})},qO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WO=(e,t,n,r)=>qO[e];function _u(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,x=n!=null&&n.width?String(n.width):d;i=e.formattingValues[x]||e.formattingValues[d]}else{const d=e.defaultWidth,x=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[x]||e.values[d]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const HO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$O={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},GO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},QO=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},KO={ordinalNumber:QO,era:_u({values:HO,defaultWidth:"wide"}),quarter:_u({values:VO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_u({values:YO,defaultWidth:"wide"}),day:_u({values:$O,defaultWidth:"wide"}),dayPeriod:_u({values:GO,defaultWidth:"wide",formattingValues:XO,defaultFormattingWidth:"wide"})};function ju(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const d=o[0],x=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(x)?JO(x,N=>N.test(d)):ZO(x,N=>N.test(d));let g;g=e.valueCallback?e.valueCallback(v):v,g=n.valueCallback?n.valueCallback(g):g;const w=t.slice(d.length);return{value:g,rest:w}}}function ZO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function JO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function eM(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let d=e.valueCallback?e.valueCallback(o[0]):o[0];d=n.valueCallback?n.valueCallback(d):d;const x=t.slice(i.length);return{value:d,rest:x}}}const tM=/^(\d+)(th|st|nd|rd)?/i,nM=/\d+/i,rM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sM={any:[/^b/i,/^(a|c)/i]},iM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aM={any:[/1/i,/2/i,/3/i,/4/i]},oM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hM={ordinalNumber:eM({matchPattern:tM,parsePattern:nM,valueCallback:e=>parseInt(e,10)}),era:ju({matchPatterns:rM,defaultMatchWidth:"wide",parsePatterns:sM,defaultParseWidth:"any"}),quarter:ju({matchPatterns:iM,defaultMatchWidth:"wide",parsePatterns:aM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ju({matchPatterns:oM,defaultMatchWidth:"wide",parsePatterns:lM,defaultParseWidth:"any"}),day:ju({matchPatterns:cM,defaultMatchWidth:"wide",parsePatterns:uM,defaultParseWidth:"any"}),dayPeriod:ju({matchPatterns:dM,defaultMatchWidth:"any",parsePatterns:fM,defaultParseWidth:"any"})},u2={code:"en-US",formatDistance:PO,formatLong:zO,formatRelative:WO,localize:KO,match:hM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pM(e,t){const n=$e(e,t==null?void 0:t.in);return Cc(n,dp(n))+1}function d2(e,t){const n=$e(e,t==null?void 0:t.in),r=+wc(n)-+SO(n);return Math.round(r/$N)+1}function f2(e,t){var w,N,S,k;const n=$e(e,t==null?void 0:t.in),r=n.getFullYear(),i=yo(),o=(t==null?void 0:t.firstWeekContainsDate)??((N=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:N.firstWeekContainsDate)??i.firstWeekContainsDate??((k=(S=i.locale)==null?void 0:S.options)==null?void 0:k.firstWeekContainsDate)??1,d=Kt((t==null?void 0:t.in)||e,0);d.setFullYear(r+1,0,o),d.setHours(0,0,0,0);const x=ba(d,t),v=Kt((t==null?void 0:t.in)||e,0);v.setFullYear(r,0,o),v.setHours(0,0,0,0);const g=ba(v,t);return+n>=+x?r+1:+n>=+g?r:r-1}function mM(e,t){var x,v,g,w;const n=yo(),r=(t==null?void 0:t.firstWeekContainsDate)??((v=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(g=n.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??1,i=f2(e,t),o=Kt((t==null?void 0:t.in)||e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),ba(o,t)}function ZN(e,t){const n=$e(e,t==null?void 0:t.in),r=+ba(n,t)-+mM(n,t);return Math.round(r/$N)+1}function sn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const za={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return sn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):sn(n+1,2)},d(e,t){return sn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return sn(e.getHours()%12||12,t.length)},H(e,t){return sn(e.getHours(),t.length)},m(e,t){return sn(e.getMinutes(),t.length)},s(e,t){return sn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return sn(i,t.length)}},Ul={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return za.y(e,t)},Y:function(e,t,n,r){const i=f2(e,r),o=i>0?i:1-i;if(t==="YY"){const d=o%100;return sn(d,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):sn(o,t.length)},R:function(e,t){const n=XN(e);return sn(n,t.length)},u:function(e,t){const n=e.getFullYear();return sn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return sn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return sn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return za.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return sn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=ZN(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):sn(i,t.length)},I:function(e,t,n){const r=d2(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):sn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):za.d(e,t)},D:function(e,t,n){const r=pM(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):sn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return sn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return sn(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return sn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Ul.noon:r===0?i=Ul.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Ul.evening:r>=12?i=Ul.afternoon:r>=4?i=Ul.morning:i=Ul.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return za.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):za.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):sn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):sn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):za.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):za.s(e,t)},S:function(e,t){return za.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return xb(r);case"XXXX":case"XX":return Yo(r);case"XXXXX":case"XXX":default:return Yo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return xb(r);case"xxxx":case"xx":return Yo(r);case"xxxxx":case"xxx":default:return Yo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mb(r,":");case"OOOO":default:return"GMT"+Yo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mb(r,":");case"zzzz":default:return"GMT"+Yo(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return sn(r,t.length)},T:function(e,t,n){return sn(+e,t.length)}};function mb(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+sn(o,2)}function xb(e,t){return e%60===0?(e>0?"-":"+")+sn(Math.abs(e)/60,2):Yo(e,t)}function Yo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=sn(Math.trunc(r/60),2),o=sn(r%60,2);return n+i+t+o}const gb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},JN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},xM=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return gb(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",gb(r,t)).replace("{{time}}",JN(i,t))},Tx={p:JN,P:xM},gM=/^D+$/,vM=/^Y+$/,yM=["D","DD","YY","YYYY"];function eE(e){return gM.test(e)}function tE(e){return vM.test(e)}function Dx(e,t,n){const r=wM(e,t,n);if(console.warn(r),yM.includes(e))throw new RangeError(r)}function wM(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NM=/^'([^]*?)'?$/,EM=/''/g,SM=/[a-zA-Z]/;function xd(e,t,n){var w,N,S,k,j,O,L,T;const r=yo(),i=(n==null?void 0:n.locale)??r.locale??u2,o=(n==null?void 0:n.firstWeekContainsDate)??((N=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:N.firstWeekContainsDate)??r.firstWeekContainsDate??((k=(S=r.locale)==null?void 0:S.options)==null?void 0:k.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((O=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:O.weekStartsOn)??r.weekStartsOn??((T=(L=r.locale)==null?void 0:L.options)==null?void 0:T.weekStartsOn)??0,x=$e(e,n==null?void 0:n.in);if(!dh(x))throw new RangeError("Invalid time value");let v=t.match(CM).map(A=>{const I=A[0];if(I==="p"||I==="P"){const q=Tx[I];return q(A,i.formatLong)}return A}).join("").match(bM).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const I=A[0];if(I==="'")return{isToken:!1,value:_M(A)};if(pb[I])return{isToken:!0,value:A};if(I.match(SM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:A}});i.localize.preprocessor&&(v=i.localize.preprocessor(x,v));const g={firstWeekContainsDate:o,weekStartsOn:d,locale:i};return v.map(A=>{if(!A.isToken)return A.value;const I=A.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&tE(I)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&eE(I))&&Dx(I,t,String(e));const q=pb[I[0]];return q(x,I,i.localize,g)}).join("")}function _M(e){const t=e.match(NM);return t?t[1].replace(EM,"'"):e}function jM(e,t,n){const r=yo(),i=(n==null?void 0:n.locale)??r.locale??u2,o=2520,d=C0(e,t);if(isNaN(d))throw new RangeError("Invalid time value");const x=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:d}),[v,g]=xi(n==null?void 0:n.in,...d>0?[t,e]:[e,t]),w=OO(g,v),N=(bc(g)-bc(v))/1e3,S=Math.round((w-N)/60);let k;if(S<2)return n!=null&&n.includeSeconds?w<5?i.formatDistance("lessThanXSeconds",5,x):w<10?i.formatDistance("lessThanXSeconds",10,x):w<20?i.formatDistance("lessThanXSeconds",20,x):w<40?i.formatDistance("halfAMinute",0,x):w<60?i.formatDistance("lessThanXMinutes",1,x):i.formatDistance("xMinutes",1,x):S===0?i.formatDistance("lessThanXMinutes",1,x):i.formatDistance("xMinutes",S,x);if(S<45)return i.formatDistance("xMinutes",S,x);if(S<90)return i.formatDistance("aboutXHours",1,x);if(S<cb){const j=Math.round(S/60);return i.formatDistance("aboutXHours",j,x)}else{if(S<o)return i.formatDistance("xDays",1,x);if(S<Qf){const j=Math.round(S/cb);return i.formatDistance("xDays",j,x)}else if(S<Qf*2)return k=Math.round(S/Qf),i.formatDistance("aboutXMonths",k,x)}if(k=RO(g,v),k<12){const j=Math.round(S/Qf);return i.formatDistance("xMonths",j,x)}else{const j=k%12,O=Math.trunc(k/12);return j<3?i.formatDistance("aboutXYears",O,x):j<9?i.formatDistance("overXYears",O,x):i.formatDistance("almostXYears",O+1,x)}}function AM(e,t){return jM(e,jO(e),t)}function vb(e,t){return $e(e,t==null?void 0:t.in).getDate()}function kM(e,t){return $e(e,t==null?void 0:t.in).getDay()}function TM(e,t){const n=$e(e,t==null?void 0:t.in),r=n.getFullYear(),i=n.getMonth(),o=Kt(n,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function DM(){return Object.assign({},yo())}function ha(e,t){return $e(e,t==null?void 0:t.in).getHours()}function IM(e,t){const n=$e(e,t==null?void 0:t.in).getDay();return n===0?7:n}function pa(e,t){return $e(e,t==null?void 0:t.in).getMinutes()}function Or(e,t){return $e(e,t==null?void 0:t.in).getMonth()}function lo(e){return $e(e).getSeconds()}function Ix(e){return+$e(e)}function Et(e,t){return $e(e,t==null?void 0:t.in).getFullYear()}function ho(e,t){return+$e(e)>+$e(t)}function pl(e,t){return+$e(e)<+$e(t)}function RM(e,t){return+$e(e)==+$e(t)}function OM(e,t){const n=MM(t)?new t(0):Kt(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function MM(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const LM=10;class nE{constructor(){We(this,"subPriority",0)}validate(t,n){return!0}}class PM extends nE{constructor(t,n,r,i,o){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class FM extends nE{constructor(n,r){super();We(this,"priority",LM);We(this,"subPriority",-1);this.context=n||(i=>Kt(r,i))}set(n,r){return r.timestampIsSet?n:Kt(n,OM(n,this.context))}}class Vt{run(t,n,r,i){const o=this.parse(t,n,r,i);return o?{setter:new PM(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,n,r){return!0}}class BM extends Vt{constructor(){super(...arguments);We(this,"priority",140);We(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const $n={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Di={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Gn(e,t){return e&&{value:t(e.value),rest:e.rest}}function Dn(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Ii(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,d=n[5]?parseInt(n[5],10):0;return{value:r*(i*up+o*cp+d*CO),rest:t.slice(n[0].length)}}function rE(e){return Dn($n.anyDigitsSigned,e)}function qn(e,t){switch(e){case 1:return Dn($n.singleDigit,t);case 2:return Dn($n.twoDigits,t);case 3:return Dn($n.threeDigits,t);case 4:return Dn($n.fourDigits,t);default:return Dn(new RegExp("^\\d{1,"+e+"}"),t)}}function ph(e,t){switch(e){case 1:return Dn($n.singleDigitSigned,t);case 2:return Dn($n.twoDigitsSigned,t);case 3:return Dn($n.threeDigitsSigned,t);case 4:return Dn($n.fourDigitsSigned,t);default:return Dn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function h2(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function sE(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const o=r+50,d=Math.trunc(o/100)*100,x=e>=o%100;i=e+d-(x?100:0)}return n?i:1-i}function iE(e){return e%400===0||e%4===0&&e%100!==0}class UM extends Vt{constructor(){super(...arguments);We(this,"priority",130);We(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=d=>({year:d,isTwoDigitYear:r==="yy"});switch(r){case"y":return Gn(qn(4,n),o);case"yo":return Gn(i.ordinalNumber(n,{unit:"year"}),o);default:return Gn(qn(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const x=sE(i.year,o);return n.setFullYear(x,0,1),n.setHours(0,0,0,0),n}const d=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(d,0,1),n.setHours(0,0,0,0),n}}class zM extends Vt{constructor(){super(...arguments);We(this,"priority",130);We(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=d=>({year:d,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Gn(qn(4,n),o);case"Yo":return Gn(i.ordinalNumber(n,{unit:"year"}),o);default:return Gn(qn(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const d=f2(n,o);if(i.isTwoDigitYear){const v=sE(i.year,d);return n.setFullYear(v,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),ba(n,o)}const x=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(x,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),ba(n,o)}}class qM extends Vt{constructor(){super(...arguments);We(this,"priority",130);We(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return ph(r==="R"?4:r.length,n)}set(n,r,i){const o=Kt(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),wc(o)}}class WM extends Vt{constructor(){super(...arguments);We(this,"priority",130);We(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return ph(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class HM extends Vt{constructor(){super(...arguments);We(this,"priority",120);We(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return qn(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class VM extends Vt{constructor(){super(...arguments);We(this,"priority",120);We(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return qn(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class YM extends Vt{constructor(){super(...arguments);We(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);We(this,"priority",110)}parse(n,r,i){const o=d=>d-1;switch(r){case"M":return Gn(Dn($n.month,n),o);case"MM":return Gn(qn(2,n),o);case"Mo":return Gn(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class $M extends Vt{constructor(){super(...arguments);We(this,"priority",110);We(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=d=>d-1;switch(r){case"L":return Gn(Dn($n.month,n),o);case"LL":return Gn(qn(2,n),o);case"Lo":return Gn(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function GM(e,t,n){const r=$e(e,n==null?void 0:n.in),i=ZN(r,n)-t;return r.setDate(r.getDate()-i*7),$e(r,n==null?void 0:n.in)}class XM extends Vt{constructor(){super(...arguments);We(this,"priority",100);We(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Dn($n.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return qn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return ba(GM(n,i,o),o)}}function QM(e,t,n){const r=$e(e,n==null?void 0:n.in),i=d2(r,n)-t;return r.setDate(r.getDate()-i*7),r}class KM extends Vt{constructor(){super(...arguments);We(this,"priority",100);We(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Dn($n.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return qn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return wc(QM(n,i))}}const ZM=[31,28,31,30,31,30,31,31,30,31,30,31],JM=[31,29,31,30,31,30,31,31,30,31,30,31];class e9 extends Vt{constructor(){super(...arguments);We(this,"priority",90);We(this,"subPriority",1);We(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Dn($n.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return qn(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=iE(i),d=n.getMonth();return o?r>=1&&r<=JM[d]:r>=1&&r<=ZM[d]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class t9 extends Vt{constructor(){super(...arguments);We(this,"priority",90);We(this,"subpriority",1);We(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Dn($n.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return qn(r.length,n)}}validate(n,r){const i=n.getFullYear();return iE(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function p2(e,t,n){var N,S,k,j;const r=yo(),i=(n==null?void 0:n.weekStartsOn)??((S=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((j=(k=r.locale)==null?void 0:k.options)==null?void 0:j.weekStartsOn)??0,o=$e(e,n==null?void 0:n.in),d=o.getDay(),v=(t%7+7)%7,g=7-i,w=t<0||t>6?t-(d+g)%7:(v+g)%7-(d+g)%7;return fi(o,w,n)}class n9 extends Vt{constructor(){super(...arguments);We(this,"priority",90);We(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=p2(n,i,o),n.setHours(0,0,0,0),n}}class r9 extends Vt{constructor(){super(...arguments);We(this,"priority",90);We(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const d=x=>{const v=Math.floor((x-1)/7)*7;return(x+o.weekStartsOn+6)%7+v};switch(r){case"e":case"ee":return Gn(qn(r.length,n),d);case"eo":return Gn(i.ordinalNumber(n,{unit:"day"}),d);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=p2(n,i,o),n.setHours(0,0,0,0),n}}class s9 extends Vt{constructor(){super(...arguments);We(this,"priority",90);We(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const d=x=>{const v=Math.floor((x-1)/7)*7;return(x+o.weekStartsOn+6)%7+v};switch(r){case"c":case"cc":return Gn(qn(r.length,n),d);case"co":return Gn(i.ordinalNumber(n,{unit:"day"}),d);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=p2(n,i,o),n.setHours(0,0,0,0),n}}function i9(e,t,n){const r=$e(e,n==null?void 0:n.in),i=IM(r,n),o=t-i;return fi(r,o,n)}class a9 extends Vt{constructor(){super(...arguments);We(this,"priority",90);We(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=d=>d===0?7:d;switch(r){case"i":case"ii":return qn(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Gn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return Gn(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Gn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Gn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=i9(n,i),n.setHours(0,0,0,0),n}}class o9 extends Vt{constructor(){super(...arguments);We(this,"priority",80);We(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(h2(i),0,0,0),n}}class l9 extends Vt{constructor(){super(...arguments);We(this,"priority",80);We(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(h2(i),0,0,0),n}}class c9 extends Vt{constructor(){super(...arguments);We(this,"priority",80);We(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(h2(i),0,0,0),n}}class u9 extends Vt{constructor(){super(...arguments);We(this,"priority",70);We(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Dn($n.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return qn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class d9 extends Vt{constructor(){super(...arguments);We(this,"priority",70);We(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Dn($n.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return qn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class f9 extends Vt{constructor(){super(...arguments);We(this,"priority",70);We(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Dn($n.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return qn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class h9 extends Vt{constructor(){super(...arguments);We(this,"priority",70);We(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Dn($n.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return qn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class p9 extends Vt{constructor(){super(...arguments);We(this,"priority",60);We(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Dn($n.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return qn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class m9 extends Vt{constructor(){super(...arguments);We(this,"priority",50);We(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Dn($n.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return qn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class x9 extends Vt{constructor(){super(...arguments);We(this,"priority",30);We(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Gn(qn(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class g9 extends Vt{constructor(){super(...arguments);We(this,"priority",10);We(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Ii(Di.basicOptionalMinutes,n);case"XX":return Ii(Di.basic,n);case"XXXX":return Ii(Di.basicOptionalSeconds,n);case"XXXXX":return Ii(Di.extendedOptionalSeconds,n);case"XXX":default:return Ii(Di.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Kt(n,n.getTime()-bc(n)-i)}}class v9 extends Vt{constructor(){super(...arguments);We(this,"priority",10);We(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Ii(Di.basicOptionalMinutes,n);case"xx":return Ii(Di.basic,n);case"xxxx":return Ii(Di.basicOptionalSeconds,n);case"xxxxx":return Ii(Di.extendedOptionalSeconds,n);case"xxx":default:return Ii(Di.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Kt(n,n.getTime()-bc(n)-i)}}class y9 extends Vt{constructor(){super(...arguments);We(this,"priority",40);We(this,"incompatibleTokens","*")}parse(n){return rE(n)}set(n,r,i){return[Kt(n,i*1e3),{timestampIsSet:!0}]}}class w9 extends Vt{constructor(){super(...arguments);We(this,"priority",20);We(this,"incompatibleTokens","*")}parse(n){return rE(n)}set(n,r,i){return[Kt(n,i),{timestampIsSet:!0}]}}const b9={G:new BM,y:new UM,Y:new zM,R:new qM,u:new WM,Q:new HM,q:new VM,M:new YM,L:new $M,w:new XM,I:new KM,d:new e9,D:new t9,E:new n9,e:new r9,c:new s9,i:new a9,a:new o9,b:new l9,B:new c9,h:new u9,H:new d9,K:new f9,k:new h9,m:new p9,s:new m9,S:new x9,X:new g9,x:new v9,t:new y9,T:new w9},C9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,N9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,E9=/^'([^]*?)'?$/,S9=/''/g,_9=/\S/,j9=/[a-zA-Z]/;function A9(e,t,n,r){var L,T,A,I,q,X,F,R;const i=()=>Kt((r==null?void 0:r.in)||n,NaN),o=DM(),d=(r==null?void 0:r.locale)??o.locale??u2,x=(r==null?void 0:r.firstWeekContainsDate)??((T=(L=r==null?void 0:r.locale)==null?void 0:L.options)==null?void 0:T.firstWeekContainsDate)??o.firstWeekContainsDate??((I=(A=o.locale)==null?void 0:A.options)==null?void 0:I.firstWeekContainsDate)??1,v=(r==null?void 0:r.weekStartsOn)??((X=(q=r==null?void 0:r.locale)==null?void 0:q.options)==null?void 0:X.weekStartsOn)??o.weekStartsOn??((R=(F=o.locale)==null?void 0:F.options)==null?void 0:R.weekStartsOn)??0;if(!t)return e?i():$e(n,r==null?void 0:r.in);const g={firstWeekContainsDate:x,weekStartsOn:v,locale:d},w=[new FM(r==null?void 0:r.in,n)],N=t.match(N9).map(H=>{const V=H[0];if(V in Tx){const te=Tx[V];return te(H,d.formatLong)}return H}).join("").match(C9),S=[];for(let H of N){!(r!=null&&r.useAdditionalWeekYearTokens)&&tE(H)&&Dx(H,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&eE(H)&&Dx(H,t,e);const V=H[0],te=b9[V];if(te){const{incompatibleTokens:de}=te;if(Array.isArray(de)){const ee=S.find(Ne=>de.includes(Ne.token)||Ne.token===V);if(ee)throw new RangeError(`The format string mustn't contain \`${ee.fullToken}\` and \`${H}\` at the same time`)}else if(te.incompatibleTokens==="*"&&S.length>0)throw new RangeError(`The format string mustn't contain \`${H}\` and any other token at the same time`);S.push({token:V,fullToken:H});const re=te.run(e,H,d.match,g);if(!re)return i();w.push(re.setter),e=re.rest}else{if(V.match(j9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");if(H==="''"?H="'":V==="'"&&(H=k9(H)),e.indexOf(H)===0)e=e.slice(H.length);else return i()}}if(e.length>0&&_9.test(e))return i();const k=w.map(H=>H.priority).sort((H,V)=>V-H).filter((H,V,te)=>te.indexOf(H)===V).map(H=>w.filter(V=>V.priority===H).sort((V,te)=>te.subPriority-V.subPriority)).map(H=>H[0]);let j=$e(n,r==null?void 0:r.in);if(isNaN(+j))return i();const O={};for(const H of k){if(!H.validate(j,g))return i();const V=H.set(j,O,g);Array.isArray(V)?(j=V[0],Object.assign(O,V[1])):j=V}return j}function k9(e){return e.match(E9)[1].replace(S9,"'")}function T9(e,t,n){const[r,i]=xi(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function D9(e,t,n){const[r,i]=xi(n==null?void 0:n.in,e,t);return+kx(r)==+kx(i)}function I9(e,t,n){const[r,i]=xi(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()}function gd(e,t,n){const r=+$e(e,n==null?void 0:n.in),[i,o]=[+$e(t.start,n==null?void 0:n.in),+$e(t.end,n==null?void 0:n.in)].sort((d,x)=>d-x);return r>=i&&r<=o}function R9(e,t,n){return fi(e,-t,n)}function O9(e,t){const n=()=>Kt(t==null?void 0:t.in,NaN),r=(t==null?void 0:t.additionalDigits)??2,i=F9(e);let o;if(i.date){const g=B9(i.date,r);o=U9(g.restDateString,g.year)}if(!o||isNaN(+o))return n();const d=+o;let x=0,v;if(i.time&&(x=z9(i.time),isNaN(x)))return n();if(i.timezone){if(v=q9(i.timezone),isNaN(v))return n()}else{const g=new Date(d+x),w=$e(0,t==null?void 0:t.in);return w.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),w.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),w}return $e(d+x+v,t==null?void 0:t.in)}const Kf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},M9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,L9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,P9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function F9(e){const t={},n=e.split(Kf.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Kf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Kf.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=Kf.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function B9(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function U9(e,t){if(t===null)return new Date(NaN);const n=e.match(M9);if(!n)return new Date(NaN);const r=!!n[4],i=Au(n[1]),o=Au(n[2])-1,d=Au(n[3]),x=Au(n[4]),v=Au(n[5])-1;if(r)return $9(t,x,v)?W9(t,x,v):new Date(NaN);{const g=new Date(0);return!V9(t,o,d)||!Y9(t,i)?new Date(NaN):(g.setUTCFullYear(t,o,Math.max(i,d)),g)}}function Au(e){return e?parseInt(e):1}function z9(e){const t=e.match(L9);if(!t)return NaN;const n=nm(t[1]),r=nm(t[2]),i=nm(t[3]);return G9(n,r,i)?n*up+r*cp+i*1e3:NaN}function nm(e){return e&&parseFloat(e.replace(",","."))||0}function q9(e){if(e==="Z")return 0;const t=e.match(P9);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return X9(r,i)?n*(r*up+i*cp):NaN}function W9(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const H9=[31,null,31,30,31,30,31,31,30,31,30,31];function aE(e){return e%400===0||e%4===0&&e%100!==0}function V9(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(H9[t]||(aE(e)?29:28))}function Y9(e,t){return t>=1&&t<=(aE(e)?366:365)}function $9(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function G9(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function X9(e,t){return t>=0&&t<=59}function qs(e,t,n){const r=$e(e,n==null?void 0:n.in),i=r.getFullYear(),o=r.getDate(),d=Kt((n==null?void 0:n.in)||e,0);d.setFullYear(i,t,15),d.setHours(0,0,0,0);const x=TM(d);return r.setMonth(t,Math.min(o,x)),r}function N0(e,t,n){const r=$e(e,n==null?void 0:n.in);return r.setHours(t),r}function E0(e,t,n){const r=$e(e,n==null?void 0:n.in);return r.setMinutes(t),r}function zl(e,t,n){const r=$e(e,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,o=t-i;return qs(r,r.getMonth()+o*3)}function S0(e,t,n){const r=$e(e,n==null?void 0:n.in);return r.setSeconds(t),r}function ji(e,t,n){const r=$e(e,n==null?void 0:n.in);return isNaN(+r)?Kt((n==null?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function sl(e,t,n){return pi(e,-t,n)}function oE(e,t,n){return o2(e,-t,n)}function yb(e,t,n){return uh(e,-t,n)}function Nc(e,t,n){return da(e,-t,n)}const Q9=()=>{const[e,t]=M.useState(!1),n=M.useRef(null),{notifications:r,unreadCount:i,markAsRead:o,markAllAsRead:d,clearNotifications:x}=dO();M.useEffect(()=>{const N=S=>{n.current&&!n.current.contains(S.target)&&t(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const v=()=>{t(!e)},g=N=>{o(N.id),t(!1)},w=N=>{switch(N){case"warning":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"success":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});default:return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}};return a.jsxs("div",{className:"relative",ref:n,children:[a.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-800 focus:outline-none",onClick:v,"aria-label":`Notifications ${i>0?`(${i} unread)`:""}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),i>0&&a.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:i})]}),e&&a.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsxs("div",{className:"px-4 py-2 bg-gray-100 flex justify-between items-center",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Notifications"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:d,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"}),a.jsx("button",{onClick:x,className:"text-xs text-red-600 hover:text-red-800",children:"Clear all"})]})]}),a.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.length===0?a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No notifications"}):r.map(N=>a.jsx("div",{className:`px-4 py-3 border-b border-gray-100 ${N.read?"":"bg-blue-50"}`,onClick:()=>g(N),children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:w(N.type)}),a.jsxs("div",{className:"ml-3 w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.title}),a.jsx("p",{className:"text-sm text-gray-600",children:N.message}),N.typeId&&a.jsx(Un,{to:`/equipment?type=${N.typeId}`,className:"text-xs text-blue-600 hover:text-blue-800 mt-1 inline-block",onClick:S=>S.stopPropagation(),children:"View equipment"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:AM(new Date(N.timestamp),{addSuffix:!0})})]})]})},N.id))})]})})]})},K9=({toggleSidebar:e})=>{const{user:t,logout:n,isImpersonating:r}=lr(),i=Gr(),o=()=>{n(),i("/login")};return a.jsx("nav",{className:"bg-white text-slate-800 shadow-soft sticky top-0 z-30 border-b border-slate-200 h-16",children:a.jsx("div",{className:"container-app py-0",children:a.jsxs("div",{className:"flex justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs(Un,{to:"/",className:"flex-shrink-0 flex items-center gap-2",children:[a.jsx("img",{src:"/bird-logo.svg",alt:"Theater Equipment Logo",className:"w-8 h-8"}),a.jsx("span",{className:"text-xl font-bold text-slate-800",children:"Ton Equipment Inventory"})]})}),t?a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"flex items-center gap-3",children:[t.role==="admin"&&a.jsx(Q9,{}),a.jsxs("div",{className:"px-3 py-1 rounded-full bg-slate-100 text-slate-700 text-sm flex items-center",children:[a.jsx("span",{className:"font-medium",children:t.username}),a.jsx("span",{className:"ml-1 text-xs px-1.5 py-0.5 bg-primary-100 text-primary-700 rounded-full",children:t.role}),r()&&a.jsx("span",{className:"ml-1 text-xs bg-yellow-100 text-yellow-700 px-1.5 py-0.5 rounded-full border border-yellow-200",children:"Impersonating"})]}),a.jsxs("button",{onClick:o,className:"nav-link text-slate-600 hover:text-red-600","aria-label":"Logout",children:[a.jsx(ob,{}),a.jsx("span",{className:"hidden md:inline",children:r()?"End Impersonation":"Logout"})]})]})}):a.jsx("div",{className:"flex items-center",children:a.jsxs(Un,{to:"/login",className:"btn btn-primary",children:[a.jsx(ob,{className:"rotate-180"}),a.jsx("span",{children:"Login"})]})})]})})})},Z9=({className:e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:a.jsx("polyline",{points:"9 18 15 12 9 6"})}),J9=({isOpen:e,isCollapsed:t,toggleSidebar:n,toggleCollapse:r})=>{const{isAdmin:i,isAdvanced:o}=lr(),d=Oc();M.useEffect(()=>{const v=()=>{window.innerWidth<768&&e&&n(!1)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[e,n]);const x=v=>d.pathname===v;return a.jsxs(a.Fragment,{children:[e&&a.jsx("div",{className:"sidebar-overlay",onClick:()=>n(!1),style:{opacity:e?1:0}}),a.jsxs("aside",{className:`sidebar ${e?"":"sidebar-hidden"} ${t?"sidebar-collapsed":"sidebar-expanded"}`,children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[!t&&a.jsx("span",{className:"text-lg font-semibold text-slate-800",children:"Navigation"}),a.jsxs("div",{className:"flex",children:[a.jsx("button",{onClick:()=>r(!t),className:"sidebar-collapse-btn","aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?a.jsx(Z9,{className:"w-4 h-4"}):a.jsx(VN,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>n(!e),className:"sidebar-toggle-btn md:hidden","aria-label":e?"Hide sidebar":"Show sidebar",children:a.jsx(xO,{className:"w-4 h-4"})})]})]}),a.jsxs("nav",{className:"sidebar-nav",children:[a.jsxs(Un,{to:"/dashboard",className:`sidebar-nav-item ${x("/dashboard")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Dashboard",children:[a.jsx(fO,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Dashboard"})]}),a.jsxs(Un,{to:"/equipment",className:`sidebar-nav-item ${x("/equipment")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Equipment",children:[a.jsx(hO,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Equipment"})]}),a.jsxs(Un,{to:"/show-list",className:`sidebar-nav-item ${x("/show-list")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Show List",children:[a.jsx(jx,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Show List"})]}),(i()||o())&&a.jsxs(Un,{to:"/equipment/new",className:`sidebar-nav-item ${x("/equipment/new")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Add Equipment",children:[a.jsx(lp,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Add Equipment"})]}),i()&&a.jsxs(Un,{to:"/equipment-logs",className:`sidebar-nav-item ${x("/equipment-logs")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Equipment Logs",children:[a.jsx(vO,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Equipment Logs"})]}),i()&&a.jsxs(Un,{to:"/admin",className:`sidebar-nav-item ${x("/admin")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Admin",children:[a.jsx(pO,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Admin"})]}),a.jsxs(Un,{to:"/settings",className:`sidebar-nav-item ${x("/settings")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Settings",children:[a.jsx(mO,{className:"sidebar-nav-icon"}),a.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Settings"})]})]})]})]})},eL=()=>{const{user:e,isImpersonating:t,logout:n}=lr();return t()?a.jsx("div",{className:"bg-yellow-500 text-white py-2",children:a.jsxs("div",{className:"container-app py-0 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Impersonation Mode:"})," You are currently viewing the application as ",e.username," (",e.role,")"]}),a.jsx("button",{onClick:n,className:"bg-white text-yellow-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-yellow-100",children:"End Impersonation"})]})}):null},tL=()=>{const[e,t]=M.useState(""),[n,r]=M.useState(""),[i,o]=M.useState(""),[d,x]=M.useState(!1),{login:v}=lr(),g=Gr(),w=async N=>{var S,k;if(N.preventDefault(),!e||!n){o("Username and password are required");return}try{x(!0),o(""),await v(e,n),g("/dashboard")}catch(j){o(((k=(S=j.response)==null?void 0:S.data)==null?void 0:k.message)||"Login failed")}finally{x(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Theater Equipment Catalog"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[i&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:a.jsx("p",{className:"text-red-700",children:i})}),a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),a.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:N=>t(N.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:N=>r(N.target.value)})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:d,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${d?"opacity-70 cursor-not-allowed":""}`,children:d?"Signing in...":"Sign in"})}),a.jsx("div",{className:"text-sm text-center",children:a.jsx("p",{className:"text-gray-600",children:"Insert the credentials the admin provided to you"})})]})]})})},vl=async()=>{try{return{categories:(await ht.get("/api/categories")).data}}catch(e){return console.error("Error fetching categories:",e),{categories:[]}}},nL=async(e,t="")=>(await ht.post("/api/categories",{name:e,description:t})).data,rL=async(e,t,n="")=>(await ht.put(`/api/categories/${e}`,{name:t,description:n})).data,sL=async e=>(await ht.delete(`/api/categories/${e}`)).data,lE=async()=>{try{return{searches:(await ht.get("/api/saved-searches")).data||[]}}catch(e){return console.error("Error fetching saved searches:",e),{searches:[]}}},cE=async e=>{try{return(await ht.post("/api/saved-searches",e)).data}catch(t){throw console.error("Error saving search:",t),t}},uE=async e=>{try{return(await ht.delete(`/api/saved-searches/${e}`)).data}catch(t){throw console.error("Error deleting saved search:",t),t}},Se=({children:e,variant:t="primary",size:n="md",type:r="button",fullWidth:i=!1,disabled:o=!1,onClick:d,className:x="",as:v="button",...g})=>{const w="inline-flex items-center justify-center font-medium transition-all duration-200 rounded-md focus:outline-none focus:ring-1 focus:ring-offset-1",N={primary:"bg-white text-primary-600 hover:bg-primary-50 focus:ring-primary-500 border border-primary-500 hover:border-primary-600 hover:shadow-sm transition-all",secondary:"bg-white text-slate-600 hover:bg-slate-50 focus:ring-slate-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",outline:"bg-white hover:bg-slate-50 text-slate-700 focus:ring-primary-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",danger:"bg-white text-red-600 hover:bg-red-50 focus:ring-red-500 border border-red-500 hover:border-red-600 hover:shadow-sm transition-all",success:"bg-white text-green-600 hover:bg-green-50 focus:ring-green-500 border border-green-500 hover:border-green-600 hover:shadow-sm transition-all",ghost:"bg-transparent hover:bg-slate-100 text-slate-700 focus:ring-slate-500 border border-transparent hover:shadow-sm transition-all"},S={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-sm"},k=o?"opacity-60 cursor-not-allowed":"cursor-pointer",j=i?"w-full":"",O=`
    ${w}
    ${N[t]||N.primary}
    ${S[n]||S.md}
    ${k}
    ${j}
    ${x}
  `,L=v==="button"?{type:r,...g}:g;return a.jsx(v,{className:O,disabled:o,onClick:d,...L,children:e})};Se.propTypes={children:ae.node.isRequired,variant:ae.oneOf(["primary","secondary","outline","danger","success","ghost"]),size:ae.oneOf(["sm","md","lg"]),type:ae.oneOf(["button","submit","reset"]),fullWidth:ae.bool,disabled:ae.bool,onClick:ae.func,className:ae.string,as:ae.elementType};const dt=({id:e,name:t,type:n="text",label:r,placeholder:i,value:o,onChange:d,onBlur:x,error:v,icon:g,disabled:w=!1,required:N=!1,className:S="",...k})=>{const A=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${v?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${w?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    ${g?"pl-10":"pl-3"}
    py-2 pr-3 text-sm
    ${S}
  `;return a.jsxs("div",{className:"w-full",children:[r&&a.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${v?"text-red-600":"text-slate-700"}`,children:[r,N&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[g&&a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:g}),a.jsx("input",{id:e,name:t,type:n,value:o,onChange:d,onBlur:x,placeholder:i,disabled:w,required:N,className:A,...k})]}),v&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:v})]})};dt.propTypes={id:ae.string.isRequired,name:ae.string.isRequired,type:ae.string,label:ae.string,placeholder:ae.string,value:ae.oneOfType([ae.string,ae.number]),onChange:ae.func,onBlur:ae.func,error:ae.string,icon:ae.node,disabled:ae.bool,required:ae.bool,className:ae.string};var He;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(He||(He={}));var wb=new Map([[He.QR_CODE,"QR_CODE"],[He.AZTEC,"AZTEC"],[He.CODABAR,"CODABAR"],[He.CODE_39,"CODE_39"],[He.CODE_93,"CODE_93"],[He.CODE_128,"CODE_128"],[He.DATA_MATRIX,"DATA_MATRIX"],[He.MAXICODE,"MAXICODE"],[He.ITF,"ITF"],[He.EAN_13,"EAN_13"],[He.EAN_8,"EAN_8"],[He.PDF_417,"PDF_417"],[He.RSS_14,"RSS_14"],[He.RSS_EXPANDED,"RSS_EXPANDED"],[He.UPC_A,"UPC_A"],[He.UPC_E,"UPC_E"],[He.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),bb;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(bb||(bb={}));function iL(e){return Object.values(He).includes(e)}var mh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(mh||(mh={}));var aL=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[mh.SCAN_TYPE_CAMERA,mh.SCAN_TYPE_FILE],e}(),dE=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!wb.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,wb.get(t))},e}(),Cb=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Rx;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Rx||(Rx={}));var oL=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Rx.UNKWOWN_ERROR}},e}(),lL=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ia(e){return typeof e>"u"||e===null}var nc=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),fE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(i),d=Object.keys(t),x=0,v=d;x<v.length;x++){var g=v[x];if(o.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),Ox={exports:{}};(function(e,t){(function(n,r){r(t)})(ki,function(n){function r(P){return P==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,s){P.__proto__=s}||function(P,s){for(var l in s)s.hasOwnProperty(l)&&(P[l]=s[l])};function o(P,s){i(P,s);function l(){this.constructor=P}P.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}function d(P,s){var l=Object.setPrototypeOf;l?l(P,s):P.__proto__=s}function x(P,s){s===void 0&&(s=P.constructor);var l=Error.captureStackTrace;l&&l(P,s)}var v=function(P){o(s,P);function s(l){var c=this.constructor,f=P.call(this,l)||this;return Object.defineProperty(f,"name",{value:c.name,enumerable:!1}),d(f,c.prototype),x(f),f}return s}(Error);class g extends v{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}g.kind="Exception";class w extends g{}w.kind="ArgumentException";class N extends g{}N.kind="IllegalArgumentException";class S{constructor(s){if(this.binarizer=s,s===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,l){return this.binarizer.getBlackRow(s,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,l,c,f){const h=this.binarizer.getLuminanceSource().crop(s,l,c,f);return new S(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends g{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class j{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(s,l,c,f,h){for(;h--;)c[f++]=s[l++]}static currentTimeMillis(){return Date.now()}}class L extends g{}L.kind="IndexOutOfBoundsException";class T extends L{constructor(s=void 0,l=void 0){super(l),this.index=s,this.message=l}}T.kind="ArrayIndexOutOfBoundsException";class A{static fill(s,l){for(let c=0,f=s.length;c<f;c++)s[c]=l}static fillWithin(s,l,c,f){A.rangeCheck(s.length,l,c);for(let h=l;h<c;h++)s[h]=f}static rangeCheck(s,l,c){if(l>c)throw new N("fromIndex("+l+") > toIndex("+c+")");if(l<0)throw new T(l);if(c>s)throw new T(c)}static asList(...s){return s}static create(s,l,c){return Array.from({length:s}).map(h=>Array.from({length:l}).fill(c))}static createInt32Array(s,l,c){return Array.from({length:s}).map(h=>Int32Array.from({length:l}).fill(c))}static equals(s,l){if(!s||!l||!s.length||!l.length||s.length!==l.length)return!1;for(let c=0,f=s.length;c<f;c++)if(s[c]!==l[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let l=1;for(const c of s)l=31*l+c;return l}static fillUint8Array(s,l){for(let c=0;c!==s.length;c++)s[c]=l}static copyOf(s,l){return s.slice(0,l)}static copyOfUint8Array(s,l){if(s.length<=l){const c=new Uint8Array(l);return c.set(s),c}return s.slice(0,l)}static copyOfRange(s,l,c){const f=c-l,h=new Int32Array(f);return O.arraycopy(s,l,h,0,f),h}static binarySearch(s,l,c){c===void 0&&(c=A.numberComparator);let f=0,h=s.length-1;for(;f<=h;){const m=h+f>>1,y=c(l,s[m]);if(y>0)f=m+1;else if(y<0)h=m-1;else return m}return-f-1}static numberComparator(s,l){return s-l}}class I{static numberOfTrailingZeros(s){let l;if(s===0)return 32;let c=31;return l=s<<16,l!==0&&(c-=16,s=l),l=s<<8,l!==0&&(c-=8,s=l),l=s<<4,l!==0&&(c-=4,s=l),l=s<<2,l!==0&&(c-=2,s=l),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let l=1;return s>>>16||(l+=16,s<<=16),s>>>24||(l+=8,s<<=8),s>>>28||(l+=4,s<<=4),s>>>30||(l+=2,s<<=2),l-=s>>>31,l}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,l){return Math.trunc(s/l)}static parseInt(s,l=void 0){return parseInt(s,l)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(s,l){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,l==null?this.bits=q.makeArray(s):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const l=q.makeArray(s);O.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const l=this.size;if(s>=l)return l;const c=this.bits;let f=Math.floor(s/32),h=c[f];h&=~((1<<(s&31))-1);const m=c.length;for(;h===0;){if(++f===m)return l;h=c[f]}const y=f*32+I.numberOfTrailingZeros(h);return y>l?l:y}getNextUnset(s){const l=this.size;if(s>=l)return l;const c=this.bits;let f=Math.floor(s/32),h=~c[f];h&=~((1<<(s&31))-1);const m=c.length;for(;h===0;){if(++f===m)return l;h=~c[f]}const y=f*32+I.numberOfTrailingZeros(h);return y>l?l:y}setBulk(s,l){this.bits[Math.floor(s/32)]=l}setRange(s,l){if(l<s||s<0||l>this.size)throw new N;if(l===s)return;l--;const c=Math.floor(s/32),f=Math.floor(l/32),h=this.bits;for(let m=c;m<=f;m++){const y=m>c?0:s&31,E=(2<<(m<f?31:l&31))-(1<<y);h[m]|=E}}clear(){const s=this.bits.length,l=this.bits;for(let c=0;c<s;c++)l[c]=0}isRange(s,l,c){if(l<s||s<0||l>this.size)throw new N;if(l===s)return!0;l--;const f=Math.floor(s/32),h=Math.floor(l/32),m=this.bits;for(let y=f;y<=h;y++){const C=y>f?0:s&31,D=(2<<(y<h?31:l&31))-(1<<C)&4294967295;if((m[y]&D)!==(c?D:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,l){if(l<0||l>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let c=l;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const l=s.size;this.ensureCapacity(this.size+l);for(let c=0;c<l;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new N("Sizes don't match");const l=this.bits;for(let c=0,f=l.length;c<f;c++)l[c]^=s.bits[c]}toBytes(s,l,c,f){for(let h=0;h<f;h++){let m=0;for(let y=0;y<8;y++)this.get(s)&&(m|=1<<7-y),s++;l[c+h]=m}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),c=l+1,f=this.bits;for(let h=0;h<c;h++){let m=f[h];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,s[l-h]=m}if(this.size!==c*32){const h=c*32-this.size;let m=s[0]>>>h;for(let y=1;y<c;y++){const C=s[y];m|=C<<32-h,s[y-1]=m,m=C>>>h}s[c-1]=m}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof q))return!1;const l=s;return this.size===l.size&&A.equals(this.bits,l.bits)}hashCode(){return 31*this.size+A.hashCode(this.bits)}toString(){let s="";for(let l=0,c=this.size;l<c;l++)l&7||(s+=" "),s+=this.get(l)?"X":".";return s}clone(){return new q(this.size,this.bits.slice())}}var X;(function(P){P[P.OTHER=0]="OTHER",P[P.PURE_BARCODE=1]="PURE_BARCODE",P[P.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",P[P.TRY_HARDER=3]="TRY_HARDER",P[P.CHARACTER_SET=4]="CHARACTER_SET",P[P.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",P[P.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",P[P.ASSUME_GS1=7]="ASSUME_GS1",P[P.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",P[P.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",P[P.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var F=X;class R extends g{static getFormatInstance(){return new R}}R.kind="FormatException";var H;(function(P){P[P.Cp437=0]="Cp437",P[P.ISO8859_1=1]="ISO8859_1",P[P.ISO8859_2=2]="ISO8859_2",P[P.ISO8859_3=3]="ISO8859_3",P[P.ISO8859_4=4]="ISO8859_4",P[P.ISO8859_5=5]="ISO8859_5",P[P.ISO8859_6=6]="ISO8859_6",P[P.ISO8859_7=7]="ISO8859_7",P[P.ISO8859_8=8]="ISO8859_8",P[P.ISO8859_9=9]="ISO8859_9",P[P.ISO8859_10=10]="ISO8859_10",P[P.ISO8859_11=11]="ISO8859_11",P[P.ISO8859_13=12]="ISO8859_13",P[P.ISO8859_14=13]="ISO8859_14",P[P.ISO8859_15=14]="ISO8859_15",P[P.ISO8859_16=15]="ISO8859_16",P[P.SJIS=16]="SJIS",P[P.Cp1250=17]="Cp1250",P[P.Cp1251=18]="Cp1251",P[P.Cp1252=19]="Cp1252",P[P.Cp1256=20]="Cp1256",P[P.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",P[P.UTF8=22]="UTF8",P[P.ASCII=23]="ASCII",P[P.Big5=24]="Big5",P[P.GB18030=25]="GB18030",P[P.EUC_KR=26]="EUC_KR"})(H||(H={}));class V{constructor(s,l,c,...f){this.valueIdentifier=s,this.name=c,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=f,V.VALUE_IDENTIFIER_TO_ECI.set(s,this),V.NAME_TO_ECI.set(c,this);const h=this.values;for(let m=0,y=h.length;m!==y;m++){const C=h[m];V.VALUES_TO_ECI.set(C,this)}for(const m of f)V.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new R("incorect value");const l=V.VALUES_TO_ECI.get(s);if(l===void 0)throw new R("incorect value");return l}static getCharacterSetECIByName(s){const l=V.NAME_TO_ECI.get(s);if(l===void 0)throw new R("incorect value");return l}equals(s){if(!(s instanceof V))return!1;const l=s;return this.getName()===l.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(H.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(H.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(H.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(H.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(H.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(H.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(H.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(H.Big5,28,"Big5"),V.GB18030=new V(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(H.EUC_KR,30,"EUC_KR","EUC-KR");class te extends g{}te.kind="UnsupportedOperationException";class de{static decode(s,l){const c=this.encodingName(l);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!de.isBrowser()&&s==="ISO-8859-1"}static encode(s,l){const c=this.encodingName(l);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof V?s:V.getCharacterSetECIByName(s)}static decodeFallback(s,l){const c=this.encodingCharacterSet(l);if(de.isDecodeFallbackSupported(c)){let f="";for(let h=0,m=s.length;h<m;h++){let y=s[h].toString(16);y.length<2&&(y="0"+y),f+="%"+y}return decodeURIComponent(f)}if(c.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new te(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(V.UTF8)||s.equals(V.ISO8859_1)||s.equals(V.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),f=[];for(let h=0;h<c.length;h++)f.push(c[h].charCodeAt(0));return new Uint8Array(f)}}class re{static castAsNonUtf8Char(s,l=null){const c=l?l.getName():this.ISO88591;return de.decode(new Uint8Array([s]),c)}static guessEncoding(s,l){if(l!=null&&l.get(F.CHARACTER_SET)!==void 0)return l.get(F.CHARACTER_SET).toString();const c=s.length;let f=!0,h=!0,m=!0,y=0,C=0,E=0,D=0,B=0,W=0,Z=0,z=0,$=0,Q=0,ne=0;const pe=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ve=0;ve<c&&(f||h||m);ve++){const ye=s[ve]&255;m&&(y>0?ye&128?y--:m=!1:ye&128&&(ye&64?(y++,ye&32?(y++,ye&16?(y++,ye&8?m=!1:D++):E++):C++):m=!1)),f&&(ye>127&&ye<160?f=!1:ye>159&&(ye<192||ye===215||ye===247)&&ne++),h&&(B>0?ye<64||ye===127||ye>252?h=!1:B--:ye===128||ye===160||ye>239?h=!1:ye>160&&ye<224?(W++,z=0,Z++,Z>$&&($=Z)):ye>127?(B++,Z=0,z++,z>Q&&(Q=z)):(Z=0,z=0))}return m&&y>0&&(m=!1),h&&B>0&&(h=!1),m&&(pe||C+E+D>0)?re.UTF8:h&&(re.ASSUME_SHIFT_JIS||$>=3||Q>=3)?re.SHIFT_JIS:f&&h?$===2&&W===2||ne*10>=c?re.SHIFT_JIS:re.ISO88591:f?re.ISO88591:h?re.SHIFT_JIS:m?re.UTF8:re.PLATFORM_DEFAULT_ENCODING}static format(s,...l){let c=-1;function f(m,y,C,E,D,B){if(m==="%%")return"%";if(l[++c]===void 0)return;m=E?parseInt(E.substr(1)):void 0;let W=D?parseInt(D.substr(1)):void 0,Z;switch(B){case"s":Z=l[c];break;case"c":Z=l[c][0];break;case"f":Z=parseFloat(l[c]).toFixed(m);break;case"p":Z=parseFloat(l[c]).toPrecision(m);break;case"e":Z=parseFloat(l[c]).toExponential(m);break;case"x":Z=parseInt(l[c]).toString(W||16);break;case"d":Z=parseFloat(parseInt(l[c],W||10).toPrecision(m)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(W);let z=parseInt(C),$=C&&C[0]+""=="0"?"0":" ";for(;Z.length<z;)Z=y!==void 0?Z+$:$+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}static getBytes(s,l){return de.encode(s,l)}static getCharCode(s,l=0){return s.charCodeAt(l)}static getCharAt(s){return String.fromCharCode(s)}}re.SHIFT_JIS=V.SJIS.getName(),re.GB2312="GB2312",re.ISO88591=V.ISO8859_1.getName(),re.EUC_JP="EUC_JP",re.UTF8=V.UTF8.getName(),re.PLATFORM_DEFAULT_ENCODING=re.UTF8,re.ASSUME_SHIFT_JIS=!1;class ee{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=re.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,l,c){for(let f=l;l<l+c;f++)this.append(s[f]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+1)}substring(s,l){return this.value.substring(s,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+l.length)}}class Ne{constructor(s,l,c,f){if(this.width=s,this.height=l,this.rowSize=c,this.bits=f,l==null&&(l=s),this.height=l,s<1||l<1)throw new N("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const l=s.length,c=s[0].length,f=new Ne(c,l);for(let h=0;h<l;h++){const m=s[h];for(let y=0;y<c;y++)m[y]&&f.set(y,h)}return f}static parseFromString(s,l,c){if(s===null)throw new N("stringRepresentation cannot be null");const f=new Array(s.length);let h=0,m=0,y=-1,C=0,E=0;for(;E<s.length;)if(s.charAt(E)===`
`||s.charAt(E)==="\r"){if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new N("row lengths do not match");m=h,C++}E++}else if(s.substring(E,E+l.length)===l)E+=l.length,f[h]=!0,h++;else if(s.substring(E,E+c.length)===c)E+=c.length,f[h]=!1,h++;else throw new N("illegal character encountered: "+s.substring(E));if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new N("row lengths do not match");C++}const D=new Ne(y,C);for(let B=0;B<h;B++)f[B]&&D.set(Math.floor(B%y),Math.floor(B/y));return D}get(s,l){const c=l*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,l){const c=l*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,l){const c=l*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,l){const c=l*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new N("input matrix dimensions do not match");const l=new q(Math.floor(this.width/32)+1),c=this.rowSize,f=this.bits;for(let h=0,m=this.height;h<m;h++){const y=h*c,C=s.getRow(h,l).getBitArray();for(let E=0;E<c;E++)f[y+E]^=C[E]}}clear(){const s=this.bits,l=s.length;for(let c=0;c<l;c++)s[c]=0}setRegion(s,l,c,f){if(l<0||s<0)throw new N("Left and top must be nonnegative");if(f<1||c<1)throw new N("Height and width must be at least 1");const h=s+c,m=l+f;if(m>this.height||h>this.width)throw new N("The region must fit inside the matrix");const y=this.rowSize,C=this.bits;for(let E=l;E<m;E++){const D=E*y;for(let B=s;B<h;B++)C[D+Math.floor(B/32)]|=1<<(B&31)&4294967295}}getRow(s,l){l==null||l.getSize()<this.width?l=new q(this.width):l.clear();const c=this.rowSize,f=this.bits,h=s*c;for(let m=0;m<c;m++)l.setBulk(m*32,f[h+m]);return l}setRow(s,l){O.arraycopy(l.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),l=this.getHeight();let c=new q(s),f=new q(s);for(let h=0,m=Math.floor((l+1)/2);h<m;h++)c=this.getRow(h,c),f=this.getRow(l-1-h,f),c.reverse(),f.reverse(),this.setRow(h,f),this.setRow(l-1-h,c)}getEnclosingRectangle(){const s=this.width,l=this.height,c=this.rowSize,f=this.bits;let h=s,m=l,y=-1,C=-1;for(let E=0;E<l;E++)for(let D=0;D<c;D++){const B=f[E*c+D];if(B!==0){if(E<m&&(m=E),E>C&&(C=E),D*32<h){let W=0;for(;!(B<<31-W&4294967295);)W++;D*32+W<h&&(h=D*32+W)}if(D*32+31>y){let W=31;for(;!(B>>>W);)W--;D*32+W>y&&(y=D*32+W)}}}return y<h||C<m?null:Int32Array.from([h,m,y-h+1,C-m+1])}getTopLeftOnBit(){const s=this.rowSize,l=this.bits;let c=0;for(;c<l.length&&l[c]===0;)c++;if(c===l.length)return null;const f=c/s;let h=c%s*32;const m=l[c];let y=0;for(;!(m<<31-y&4294967295);)y++;return h+=y,Int32Array.from([h,f])}getBottomRightOnBit(){const s=this.rowSize,l=this.bits;let c=l.length-1;for(;c>=0&&l[c]===0;)c--;if(c<0)return null;const f=Math.floor(c/s);let h=Math.floor(c%s)*32;const m=l[c];let y=31;for(;!(m>>>y);)y--;return h+=y,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Ne))return!1;const l=s;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&A.equals(this.bits,l.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+A.hashCode(this.bits),s}toString(s="X ",l="  ",c=`
`){return this.buildToString(s,l,c)}buildToString(s,l,c){let f=new ee;for(let h=0,m=this.height;h<m;h++){for(let y=0,C=this.width;y<C;y++)f.append(this.get(y,h)?s:l);f.append(c)}return f.toString()}clone(){return new Ne(this.width,this.height,this.rowSize,this.bits.slice())}}class se extends g{static getNotFoundInstance(){return new se}}se.kind="NotFoundException";class oe extends j{constructor(s){super(s),this.luminances=oe.EMPTY,this.buckets=new Int32Array(oe.LUMINANCE_BUCKETS)}getBlackRow(s,l){const c=this.getLuminanceSource(),f=c.getWidth();l==null||l.getSize()<f?l=new q(f):l.clear(),this.initArrays(f);const h=c.getRow(s,this.luminances),m=this.buckets;for(let C=0;C<f;C++)m[(h[C]&255)>>oe.LUMINANCE_SHIFT]++;const y=oe.estimateBlackPoint(m);if(f<3)for(let C=0;C<f;C++)(h[C]&255)<y&&l.set(C);else{let C=h[0]&255,E=h[1]&255;for(let D=1;D<f-1;D++){const B=h[D+1]&255;(E*4-C-B)/2<y&&l.set(D),C=E,E=B}}return l}getBlackMatrix(){const s=this.getLuminanceSource(),l=s.getWidth(),c=s.getHeight(),f=new Ne(l,c);this.initArrays(l);const h=this.buckets;for(let C=1;C<5;C++){const E=Math.floor(c*C/5),D=s.getRow(E,this.luminances),B=Math.floor(l*4/5);for(let W=Math.floor(l/5);W<B;W++){const Z=D[W]&255;h[Z>>oe.LUMINANCE_SHIFT]++}}const m=oe.estimateBlackPoint(h),y=s.getMatrix();for(let C=0;C<c;C++){const E=C*l;for(let D=0;D<l;D++)(y[E+D]&255)<m&&f.set(D,C)}return f}createBinarizer(s){return new oe(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const l=this.buckets;for(let c=0;c<oe.LUMINANCE_BUCKETS;c++)l[c]=0}static estimateBlackPoint(s){const l=s.length;let c=0,f=0,h=0;for(let D=0;D<l;D++)s[D]>h&&(f=D,h=s[D]),s[D]>c&&(c=s[D]);let m=0,y=0;for(let D=0;D<l;D++){const B=D-f,W=s[D]*B*B;W>y&&(m=D,y=W)}if(f>m){const D=f;f=m,m=D}if(m-f<=l/16)throw new se;let C=m-1,E=-1;for(let D=m-1;D>f;D--){const B=D-f,W=B*B*(m-D)*(c-s[D]);W>E&&(C=D,E=W)}return C<<oe.LUMINANCE_SHIFT}}oe.LUMINANCE_BITS=5,oe.LUMINANCE_SHIFT=8-oe.LUMINANCE_BITS,oe.LUMINANCE_BUCKETS=1<<oe.LUMINANCE_BITS,oe.EMPTY=Uint8ClampedArray.from([0]);class xe extends oe{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),l=s.getWidth(),c=s.getHeight();if(l>=xe.MINIMUM_DIMENSION&&c>=xe.MINIMUM_DIMENSION){const f=s.getMatrix();let h=l>>xe.BLOCK_SIZE_POWER;l&xe.BLOCK_SIZE_MASK&&h++;let m=c>>xe.BLOCK_SIZE_POWER;c&xe.BLOCK_SIZE_MASK&&m++;const y=xe.calculateBlackPoints(f,h,m,l,c),C=new Ne(l,c);xe.calculateThresholdForBlock(f,h,m,l,c,y,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new xe(s)}static calculateThresholdForBlock(s,l,c,f,h,m,y){const C=h-xe.BLOCK_SIZE,E=f-xe.BLOCK_SIZE;for(let D=0;D<c;D++){let B=D<<xe.BLOCK_SIZE_POWER;B>C&&(B=C);const W=xe.cap(D,2,c-3);for(let Z=0;Z<l;Z++){let z=Z<<xe.BLOCK_SIZE_POWER;z>E&&(z=E);const $=xe.cap(Z,2,l-3);let Q=0;for(let pe=-2;pe<=2;pe++){const ve=m[W+pe];Q+=ve[$-2]+ve[$-1]+ve[$]+ve[$+1]+ve[$+2]}const ne=Q/25;xe.thresholdBlock(s,z,B,ne,f,y)}}}static cap(s,l,c){return s<l?l:s>c?c:s}static thresholdBlock(s,l,c,f,h,m){for(let y=0,C=c*h+l;y<xe.BLOCK_SIZE;y++,C+=h)for(let E=0;E<xe.BLOCK_SIZE;E++)(s[C+E]&255)<=f&&m.set(l+E,c+y)}static calculateBlackPoints(s,l,c,f,h){const m=h-xe.BLOCK_SIZE,y=f-xe.BLOCK_SIZE,C=new Array(c);for(let E=0;E<c;E++){C[E]=new Int32Array(l);let D=E<<xe.BLOCK_SIZE_POWER;D>m&&(D=m);for(let B=0;B<l;B++){let W=B<<xe.BLOCK_SIZE_POWER;W>y&&(W=y);let Z=0,z=255,$=0;for(let ne=0,pe=D*f+W;ne<xe.BLOCK_SIZE;ne++,pe+=f){for(let ve=0;ve<xe.BLOCK_SIZE;ve++){const ye=s[pe+ve]&255;Z+=ye,ye<z&&(z=ye),ye>$&&($=ye)}if($-z>xe.MIN_DYNAMIC_RANGE)for(ne++,pe+=f;ne<xe.BLOCK_SIZE;ne++,pe+=f)for(let ve=0;ve<xe.BLOCK_SIZE;ve++)Z+=s[pe+ve]&255}let Q=Z>>xe.BLOCK_SIZE_POWER*2;if($-z<=xe.MIN_DYNAMIC_RANGE&&(Q=z/2,E>0&&B>0)){const ne=(C[E-1][B]+2*C[E][B-1]+C[E-1][B-1])/4;z<ne&&(Q=ne)}C[E][B]=Q}}return C}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class ue{constructor(s,l){this.width=s,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,l,c,f){throw new te("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new te("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new te("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let l=new ee;for(let c=0;c<this.height;c++){const f=this.getRow(c,s);for(let h=0;h<this.width;h++){const m=f[h]&255;let y;m<64?y="#":m<128?y="+":m<192?y=".":y=" ",l.append(y)}l.append(`
`)}return l.toString()}}class ge extends ue{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,l){const c=this.delegate.getRow(s,l),f=this.getWidth();for(let h=0;h<f;h++)c[h]=255-(c[h]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(l);for(let f=0;f<l;f++)c[f]=255-(s[f]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,l,c,f){return new ge(this.delegate.crop(s,l,c,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ge(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ge(this.delegate.rotateCounterClockwise45())}}class Le extends ue{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Le.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const l=s.getContext("2d").getImageData(0,0,s.width,s.height);return Le.toGrayscaleBuffer(l.data,s.width,s.height)}static toGrayscaleBuffer(s,l,c){const f=new Uint8ClampedArray(l*c);for(let h=0,m=0,y=s.length;h<y;h+=4,m++){let C;if(s[h+3]===0)C=255;else{const D=s[h],B=s[h+1],W=s[h+2];C=306*D+601*B+117*W+512>>10}f[m]=C}return f}getRow(s,l){if(s<0||s>=this.getHeight())throw new N("Requested row is outside the image: "+s);const c=this.getWidth(),f=s*c;return l===null?l=this.buffer.slice(f,f+c):(l.length<c&&(l=new Uint8ClampedArray(c)),l.set(this.buffer.slice(f,f+c))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,l,c,f){return super.crop(s,l,c,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const l=this.getTempCanvasElement(),c=l.getContext("2d"),f=s*Le.DEGREE_TO_RADIANS,h=this.canvas.width,m=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*m),C=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*m);return l.width=y,l.height=C,c.translate(y/2,C/2),c.rotate(f),c.drawImage(this.canvas,h/-2,m/-2),this.buffer=Le.makeBufferFromCanvasImageData(l),this}invert(){return new ge(this)}}Le.DEGREE_TO_RADIANS=Math.PI/180;class Ve{constructor(s,l,c){this.deviceId=s,this.label=l,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var nt=(globalThis||ki||self||window||void 0)&&(globalThis||ki||self||window||void 0).__awaiter||function(P,s,l,c){function f(h){return h instanceof l?h:new l(function(m){m(h)})}return new(l||(l=Promise))(function(h,m){function y(D){try{E(c.next(D))}catch(B){m(B)}}function C(D){try{E(c.throw(D))}catch(B){m(B)}}function E(D){D.done?h(D.value):f(D.value).then(y,C)}E((c=c.apply(P,s||[])).next())})};class ke{constructor(s,l=500,c){this.reader=s,this.timeBetweenScansMillis=l,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return nt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const c of s){const f=c.kind==="video"?"videoinput":c.kind;if(f!=="videoinput")continue;const h=c.deviceId||c.id,m=c.label||`Video device ${l.length+1}`,y=c.groupId,C={deviceId:h,label:m,kind:f,groupId:y};l.push(C)}return l})}getVideoInputDevices(){return nt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new Ve(l.deviceId,l.label))})}findDeviceById(s){return nt(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,l){return nt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,l)})}decodeOnceFromVideoDevice(s,l){return nt(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeOnceFromConstraints(f,l)})}decodeOnceFromConstraints(s,l){return nt(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,l)})}decodeOnceFromStream(s,l){return nt(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,l);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,l,c){return nt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,l,c)})}decodeFromVideoDevice(s,l,c){return nt(this,void 0,void 0,function*(){let f;s?f={deviceId:{exact:s}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,l,c)})}decodeFromConstraints(s,l,c){return nt(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(f,l,c)})}decodeFromStream(s,l,c){return nt(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(s,l);return yield this.decodeContinuously(f,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,l){return nt(this,void 0,void 0,function*(){const c=this.prepareVideoElement(l);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((l,c)=>this.playVideoOnLoad(s,()=>l()))}playVideoOnLoad(s,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",l),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return nt(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,l){const c=document.getElementById(s);if(!c)throw new w(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==l.toLowerCase())throw new w(`element with id '${s}' must be an ${l} element`);return c}decodeFromImage(s,l){if(!s&&!l)throw new w("either imageElement with a src set or an url must be provided");return l&&!s?this.decodeFromImageUrl(l):this.decodeFromImageElement(s)}decodeFromVideo(s,l){if(!s&&!l)throw new w("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,l,c){if(s===void 0&&l===void 0)throw new w("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrlContinuously(l,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new w("An image element must be provided.");this.reset();const l=this.prepareImageElement(s);this.imageElement=l;let c;return this.isImageLoaded(l)?c=this.decodeOnce(l,!1,!0):c=this._decodeOnLoadImage(l),c}decodeFromVideoElement(s){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(s,l){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,l)}_decodeFromVideoElementSetup(s){if(!s)throw new w("A video element must be provided.");this.reset();const l=this.prepareVideoElement(s);return this.videoElement=l,l}decodeFromImageUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const c=this._decodeOnLoadImage(l);return l.src=s,c}decodeFromVideoUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElement(l);return l.src=s,c}decodeFromVideoUrlContinuously(s,l){if(!s)throw new w("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(c,l);return c.src=s,f}_decodeOnLoadImage(s){return new Promise((l,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(l,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return nt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,l){return nt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,l)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let l;return typeof s>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(l=s),l}prepareVideoElement(s){let l;return!s&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(l=s),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(s,l=!0,c=!0){this._stopAsyncDecode=!1;const f=(h,m)=>{if(this._stopAsyncDecode){m(new se("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(s);h(y)}catch(y){const C=l&&y instanceof se,D=(y instanceof k||y instanceof R)&&c;if(C||D)return setTimeout(f,this._timeBetweenDecodingAttempts,h,m);m(y)}};return new Promise((h,m)=>f(h,m))}decodeContinuously(s,l){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(s);l(f,null),setTimeout(c,this.timeBetweenScansMillis)}catch(f){l(null,f);const h=f instanceof k||f instanceof R,m=f instanceof se;(h||m)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const l=this.createBinaryBitmap(s);return this.decodeBitmap(l)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,l,c){l||(l={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(s,l,c=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const l=this.getCaptureCanvas(s),c=new Le(l),f=new xe(c);return new S(f)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const l=this.createCaptureCanvas(s);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let c,f;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,f=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,f=s.naturalHeight||s.height)),l.style.width=c+"px",l.style.height=f+"px",l.width=c,l.height=f,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,l){try{s.srcObject=l}catch{s.src=URL.createObjectURL(l)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Xe{constructor(s,l,c=l==null?0:8*l.length,f,h,m=O.currentTimeMillis()){this.text=s,this.rawBytes=l,this.numBits=c,this.resultPoints=f,this.format=h,this.timestamp=m,this.text=s,this.rawBytes=l,c==null?this.numBits=l==null?0:8*l.length:this.numBits=c,this.resultPoints=f,this.format=h,this.resultMetadata=null,m==null?this.timestamp=O.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,l)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const l=this.resultPoints;if(l===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(l.length+s.length);O.arraycopy(l,0,c,0,l.length),O.arraycopy(s,0,c,l.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var it;(function(P){P[P.AZTEC=0]="AZTEC",P[P.CODABAR=1]="CODABAR",P[P.CODE_39=2]="CODE_39",P[P.CODE_93=3]="CODE_93",P[P.CODE_128=4]="CODE_128",P[P.DATA_MATRIX=5]="DATA_MATRIX",P[P.EAN_8=6]="EAN_8",P[P.EAN_13=7]="EAN_13",P[P.ITF=8]="ITF",P[P.MAXICODE=9]="MAXICODE",P[P.PDF_417=10]="PDF_417",P[P.QR_CODE=11]="QR_CODE",P[P.RSS_14=12]="RSS_14",P[P.RSS_EXPANDED=13]="RSS_EXPANDED",P[P.UPC_A=14]="UPC_A",P[P.UPC_E=15]="UPC_E",P[P.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(it||(it={}));var je=it,Ie;(function(P){P[P.OTHER=0]="OTHER",P[P.ORIENTATION=1]="ORIENTATION",P[P.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",P[P.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",P[P.ISSUE_NUMBER=4]="ISSUE_NUMBER",P[P.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",P[P.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",P[P.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",P[P.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",P[P.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",P[P.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ie||(Ie={}));var at=Ie;class Yt{constructor(s,l,c,f,h=-1,m=-1){this.rawBytes=s,this.text=l,this.byteSegments=c,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=m,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Zt{exp(s){return this.expTable[s]}log(s){if(s===0)throw new N;return this.logTable[s]}static addOrSubtract(s,l){return s^l}}class $t{constructor(s,l){if(l.length===0)throw new N;this.field=s;const c=l.length;if(c>1&&l[0]===0){let f=1;for(;f<c&&l[f]===0;)f++;f===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-f),O.arraycopy(l,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const l=this.coefficients;let c;if(s===1){c=0;for(let m=0,y=l.length;m!==y;m++){const C=l[m];c=Zt.addOrSubtract(c,C)}return c}c=l[0];const f=l.length,h=this.field;for(let m=1;m<f;m++)c=Zt.addOrSubtract(h.multiply(s,c),l[m]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,c=s.coefficients;if(l.length>c.length){const m=l;l=c,c=m}let f=new Int32Array(c.length);const h=c.length-l.length;O.arraycopy(c,0,f,0,h);for(let m=h;m<c.length;m++)f[m]=Zt.addOrSubtract(l[m-h],c[m]);return new $t(this.field,f)}multiply(s){if(!this.field.equals(s.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const l=this.coefficients,c=l.length,f=s.coefficients,h=f.length,m=new Int32Array(c+h-1),y=this.field;for(let C=0;C<c;C++){const E=l[C];for(let D=0;D<h;D++)m[C+D]=Zt.addOrSubtract(m[C+D],y.multiply(E,f[D]))}return new $t(y,m)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const l=this.coefficients.length,c=this.field,f=new Int32Array(l),h=this.coefficients;for(let m=0;m<l;m++)f[m]=c.multiply(h[m],s);return new $t(c,f)}multiplyByMonomial(s,l){if(s<0)throw new N;if(l===0)return this.field.getZero();const c=this.coefficients,f=c.length,h=new Int32Array(f+s),m=this.field;for(let y=0;y<f;y++)h[y]=m.multiply(c[y],l);return new $t(m,h)}divide(s){if(!this.field.equals(s.field))throw new N("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new N("Divide by 0");const l=this.field;let c=l.getZero(),f=this;const h=s.getCoefficient(s.getDegree()),m=l.inverse(h);for(;f.getDegree()>=s.getDegree()&&!f.isZero();){const y=f.getDegree()-s.getDegree(),C=l.multiply(f.getCoefficient(f.getDegree()),m),E=s.multiplyByMonomial(y,C),D=l.buildMonomial(y,C);c=c.addOrSubtract(D),f=f.addOrSubtract(E)}return[c,f]}toString(){let s="";for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),l===0||c!==1){const f=this.field.log(c);f===0?s+="1":f===1?s+="a":(s+="a^",s+=f)}l!==0&&(l===1?s+="x":(s+="x^",s+=l))}}return s}}class Ht extends g{}Ht.kind="ArithmeticException";class Ee extends Zt{constructor(s,l,c){super(),this.primitive=s,this.size=l,this.generatorBase=c;const f=new Int32Array(l);let h=1;for(let y=0;y<l;y++)f[y]=h,h*=2,h>=l&&(h^=s,h&=l-1);this.expTable=f;const m=new Int32Array(l);for(let y=0;y<l-1;y++)m[f[y]]=y;this.logTable=m,this.zero=new $t(this,Int32Array.from([0])),this.one=new $t(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new N;if(l===0)return this.zero;const c=new Int32Array(s+1);return c[0]=l,new $t(this,c)}inverse(s){if(s===0)throw new Ht;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Ee.AZTEC_DATA_12=new Ee(4201,4096,1),Ee.AZTEC_DATA_10=new Ee(1033,1024,1),Ee.AZTEC_DATA_6=new Ee(67,64,1),Ee.AZTEC_PARAM=new Ee(19,16,1),Ee.QR_CODE_FIELD_256=new Ee(285,256,0),Ee.DATA_MATRIX_FIELD_256=new Ee(301,256,1),Ee.AZTEC_DATA_8=Ee.DATA_MATRIX_FIELD_256,Ee.MAXICODE_FIELD_64=Ee.AZTEC_DATA_6;class Ke extends g{}Ke.kind="ReedSolomonException";class Rt extends g{}Rt.kind="IllegalStateException";class we{constructor(s){this.field=s}decode(s,l){const c=this.field,f=new $t(c,s),h=new Int32Array(l);let m=!0;for(let Z=0;Z<l;Z++){const z=f.evaluateAt(c.exp(Z+c.getGeneratorBase()));h[h.length-1-Z]=z,z!==0&&(m=!1)}if(m)return;const y=new $t(c,h),C=this.runEuclideanAlgorithm(c.buildMonomial(l,1),y,l),E=C[0],D=C[1],B=this.findErrorLocations(E),W=this.findErrorMagnitudes(D,B);for(let Z=0;Z<B.length;Z++){const z=s.length-1-c.log(B[Z]);if(z<0)throw new Ke("Bad error location");s[z]=Ee.addOrSubtract(s[z],W[Z])}}runEuclideanAlgorithm(s,l,c){if(s.getDegree()<l.getDegree()){const Z=s;s=l,l=Z}const f=this.field;let h=s,m=l,y=f.getZero(),C=f.getOne();for(;m.getDegree()>=(c/2|0);){let Z=h,z=y;if(h=m,y=C,h.isZero())throw new Ke("r_{i-1} was zero");m=Z;let $=f.getZero();const Q=h.getCoefficient(h.getDegree()),ne=f.inverse(Q);for(;m.getDegree()>=h.getDegree()&&!m.isZero();){const pe=m.getDegree()-h.getDegree(),ve=f.multiply(m.getCoefficient(m.getDegree()),ne);$=$.addOrSubtract(f.buildMonomial(pe,ve)),m=m.addOrSubtract(h.multiplyByMonomial(pe,ve))}if(C=$.multiply(y).addOrSubtract(z),m.getDegree()>=h.getDegree())throw new Rt("Division algorithm failed to reduce polynomial?")}const E=C.getCoefficient(0);if(E===0)throw new Ke("sigmaTilde(0) was zero");const D=f.inverse(E),B=C.multiplyScalar(D),W=m.multiplyScalar(D);return[B,W]}findErrorLocations(s){const l=s.getDegree();if(l===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(l);let f=0;const h=this.field;for(let m=1;m<h.getSize()&&f<l;m++)s.evaluateAt(m)===0&&(c[f]=h.inverse(m),f++);if(f!==l)throw new Ke("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,l){const c=l.length,f=new Int32Array(c),h=this.field;for(let m=0;m<c;m++){const y=h.inverse(l[m]);let C=1;for(let E=0;E<c;E++)if(m!==E){const D=h.multiply(l[E],y),B=D&1?D&-2:D|1;C=h.multiply(C,B)}f[m]=h.multiply(s.evaluateAt(y),h.inverse(C)),h.getGeneratorBase()!==0&&(f[m]=h.multiply(f[m],y))}return f}}var Ae;(function(P){P[P.UPPER=0]="UPPER",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.DIGIT=3]="DIGIT",P[P.PUNCT=4]="PUNCT",P[P.BINARY=5]="BINARY"})(Ae||(Ae={}));class ze{decode(s){this.ddata=s;let l=s.getBits(),c=this.extractBits(l),f=this.correctBits(c),h=ze.convertBoolArrayToByteArray(f),m=ze.getEncodedData(f),y=new Yt(h,m,null,null);return y.setNumBits(f.length),y}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let l=s.length,c=Ae.UPPER,f=Ae.UPPER,h="",m=0;for(;m<l;)if(f===Ae.BINARY){if(l-m<5)break;let y=ze.readCode(s,m,5);if(m+=5,y===0){if(l-m<11)break;y=ze.readCode(s,m,11)+31,m+=11}for(let C=0;C<y;C++){if(l-m<8){m=l;break}const E=ze.readCode(s,m,8);h+=re.castAsNonUtf8Char(E),m+=8}f=c}else{let y=f===Ae.DIGIT?4:5;if(l-m<y)break;let C=ze.readCode(s,m,y);m+=y;let E=ze.getCharacter(f,C);E.startsWith("CTRL_")?(c=f,f=ze.getTable(E.charAt(5)),E.charAt(6)==="L"&&(c=f)):(h+=E,f=c)}return h}static getTable(s){switch(s){case"L":return Ae.LOWER;case"P":return Ae.PUNCT;case"M":return Ae.MIXED;case"D":return Ae.DIGIT;case"B":return Ae.BINARY;case"U":default:return Ae.UPPER}}static getCharacter(s,l){switch(s){case Ae.UPPER:return ze.UPPER_TABLE[l];case Ae.LOWER:return ze.LOWER_TABLE[l];case Ae.MIXED:return ze.MIXED_TABLE[l];case Ae.PUNCT:return ze.PUNCT_TABLE[l];case Ae.DIGIT:return ze.DIGIT_TABLE[l];default:throw new Rt("Bad table")}}correctBits(s){let l,c;this.ddata.getNbLayers()<=2?(c=6,l=Ee.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,l=Ee.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,l=Ee.AZTEC_DATA_10):(c=12,l=Ee.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=s.length/c;if(h<f)throw new R;let m=s.length%c,y=new Int32Array(h);for(let W=0;W<h;W++,m+=c)y[W]=ze.readCode(s,m,c);try{new we(l).decode(y,h-f)}catch(W){throw new R(W)}let C=(1<<c)-1,E=0;for(let W=0;W<f;W++){let Z=y[W];if(Z===0||Z===C)throw new R;(Z===1||Z===C-1)&&E++}let D=new Array(f*c-E),B=0;for(let W=0;W<f;W++){let Z=y[W];if(Z===1||Z===C-1)D.fill(Z>1,B,B+c-1),B+=c-1;else for(let z=c-1;z>=0;--z)D[B++]=(Z&1<<z)!==0}return D}extractBits(s){let l=this.ddata.isCompact(),c=this.ddata.getNbLayers(),f=(l?11:14)+c*4,h=new Int32Array(f),m=new Array(this.totalBitsInLayer(c,l));if(l)for(let y=0;y<h.length;y++)h[y]=y;else{let y=f+1+2*I.truncDivision(I.truncDivision(f,2)-1,15),C=f/2,E=I.truncDivision(y,2);for(let D=0;D<C;D++){let B=D+I.truncDivision(D,15);h[C-D-1]=E-B-1,h[C+D]=E+B+1}}for(let y=0,C=0;y<c;y++){let E=(c-y)*4+(l?9:12),D=y*2,B=f-1-D;for(let W=0;W<E;W++){let Z=W*2;for(let z=0;z<2;z++)m[C+Z+z]=s.get(h[D+z],h[D+W]),m[C+2*E+Z+z]=s.get(h[D+W],h[B-z]),m[C+4*E+Z+z]=s.get(h[B-z],h[B-W]),m[C+6*E+Z+z]=s.get(h[B-W],h[D+z])}C+=E*8}return m}static readCode(s,l,c){let f=0;for(let h=l;h<l+c;h++)f<<=1,s[h]&&(f|=1);return f}static readByte(s,l){let c=s.length-l;return c>=8?ze.readCode(s,l,8):ze.readCode(s,l,c)<<8-c}static convertBoolArrayToByteArray(s){let l=new Uint8Array((s.length+7)/8);for(let c=0;c<l.length;c++)l[c]=ze.readByte(s,8*c);return l}totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Qe{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,l,c,f){const h=s-c,m=l-f;return Math.sqrt(h*h+m*m)}static sum(s){let l=0;for(let c=0,f=s.length;c!==f;c++){const h=s[c];l+=h}return l}}class Fe{static floatToIntBits(s){return s}}Fe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Te{constructor(s,l){this.x=s,this.y=l}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Te){const l=s;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*Fe.floatToIntBits(this.x)+Fe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const l=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),f=this.distance(s[0],s[2]);let h,m,y;if(c>=l&&c>=f?(m=s[0],h=s[1],y=s[2]):f>=c&&f>=l?(m=s[1],h=s[0],y=s[2]):(m=s[2],h=s[0],y=s[1]),this.crossProductZ(h,m,y)<0){const C=h;h=y,y=C}s[0]=h,s[1]=m,s[2]=y}static distance(s,l){return Qe.distance(s.x,s.y,l.x,l.y)}static crossProductZ(s,l,c){const f=l.x,h=l.y;return(c.x-f)*(s.y-h)-(c.y-h)*(s.x-f)}}class yn{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Qn extends yn{constructor(s,l,c,f,h){super(s,l),this.compact=c,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Pe{constructor(s,l,c,f){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),l==null&&(l=Pe.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),f==null&&(f=s.getHeight()/2|0);const h=l/2|0;if(this.leftInit=c-h,this.rightInit=c+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new se}detect(){let s=this.leftInit,l=this.rightInit,c=this.upInit,f=this.downInit,h=!1,m=!0,y=!1,C=!1,E=!1,D=!1,B=!1;const W=this.width,Z=this.height;for(;m;){m=!1;let z=!0;for(;(z||!C)&&l<W;)z=this.containsBlackPoint(c,f,l,!1),z?(l++,m=!0,C=!0):C||l++;if(l>=W){h=!0;break}let $=!0;for(;($||!E)&&f<Z;)$=this.containsBlackPoint(s,l,f,!0),$?(f++,m=!0,E=!0):E||f++;if(f>=Z){h=!0;break}let Q=!0;for(;(Q||!D)&&s>=0;)Q=this.containsBlackPoint(c,f,s,!1),Q?(s--,m=!0,D=!0):D||s--;if(s<0){h=!0;break}let ne=!0;for(;(ne||!B)&&c>=0;)ne=this.containsBlackPoint(s,l,c,!0),ne?(c--,m=!0,B=!0):B||c--;if(c<0){h=!0;break}m&&(y=!0)}if(!h&&y){const z=l-s;let $=null;for(let ve=1;$===null&&ve<z;ve++)$=this.getBlackPointOnSegment(s,f-ve,s+ve,f);if($==null)throw new se;let Q=null;for(let ve=1;Q===null&&ve<z;ve++)Q=this.getBlackPointOnSegment(s,c+ve,s+ve,c);if(Q==null)throw new se;let ne=null;for(let ve=1;ne===null&&ve<z;ve++)ne=this.getBlackPointOnSegment(l,c+ve,l-ve,c);if(ne==null)throw new se;let pe=null;for(let ve=1;pe===null&&ve<z;ve++)pe=this.getBlackPointOnSegment(l,f-ve,l-ve,f);if(pe==null)throw new se;return this.centerEdges(pe,$,ne,Q)}else throw new se}getBlackPointOnSegment(s,l,c,f){const h=Qe.round(Qe.distance(s,l,c,f)),m=(c-s)/h,y=(f-l)/h,C=this.image;for(let E=0;E<h;E++){const D=Qe.round(s+E*m),B=Qe.round(l+E*y);if(C.get(D,B))return new Te(D,B)}return null}centerEdges(s,l,c,f){const h=s.getX(),m=s.getY(),y=l.getX(),C=l.getY(),E=c.getX(),D=c.getY(),B=f.getX(),W=f.getY(),Z=Pe.CORR;return h<this.width/2?[new Te(B-Z,W+Z),new Te(y+Z,C+Z),new Te(E-Z,D-Z),new Te(h+Z,m-Z)]:[new Te(B+Z,W+Z),new Te(y+Z,C-Z),new Te(E-Z,D+Z),new Te(h-Z,m-Z)]}containsBlackPoint(s,l,c,f){const h=this.image;if(f){for(let m=s;m<=l;m++)if(h.get(m,c))return!0}else for(let m=s;m<=l;m++)if(h.get(c,m))return!0;return!1}}Pe.INIT_SIZE=10,Pe.CORR=1;class et{static checkAndNudgePoints(s,l){const c=s.getWidth(),f=s.getHeight();let h=!0;for(let m=0;m<l.length&&h;m+=2){const y=Math.floor(l[m]),C=Math.floor(l[m+1]);if(y<-1||y>c||C<-1||C>f)throw new se;h=!1,y===-1?(l[m]=0,h=!0):y===c&&(l[m]=c-1,h=!0),C===-1?(l[m+1]=0,h=!0):C===f&&(l[m+1]=f-1,h=!0)}h=!0;for(let m=l.length-2;m>=0&&h;m-=2){const y=Math.floor(l[m]),C=Math.floor(l[m+1]);if(y<-1||y>c||C<-1||C>f)throw new se;h=!1,y===-1?(l[m]=0,h=!0):y===c&&(l[m]=c-1,h=!0),C===-1?(l[m+1]=0,h=!0):C===f&&(l[m+1]=f-1,h=!0)}}}class Ot{constructor(s,l,c,f,h,m,y,C,E){this.a11=s,this.a21=l,this.a31=c,this.a12=f,this.a22=h,this.a32=m,this.a13=y,this.a23=C,this.a33=E}static quadrilateralToQuadrilateral(s,l,c,f,h,m,y,C,E,D,B,W,Z,z,$,Q){const ne=Ot.quadrilateralToSquare(s,l,c,f,h,m,y,C);return Ot.squareToQuadrilateral(E,D,B,W,Z,z,$,Q).times(ne)}transformPoints(s){const l=s.length,c=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,C=this.a23,E=this.a31,D=this.a32,B=this.a33;for(let W=0;W<l;W+=2){const Z=s[W],z=s[W+1],$=h*Z+C*z+B;s[W]=(c*Z+m*z+E)/$,s[W+1]=(f*Z+y*z+D)/$}}transformPointsWithValues(s,l){const c=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,C=this.a23,E=this.a31,D=this.a32,B=this.a33,W=s.length;for(let Z=0;Z<W;Z++){const z=s[Z],$=l[Z],Q=h*z+C*$+B;s[Z]=(c*z+m*$+E)/Q,l[Z]=(f*z+y*$+D)/Q}}static squareToQuadrilateral(s,l,c,f,h,m,y,C){const E=s-c+h-y,D=l-f+m-C;if(E===0&&D===0)return new Ot(c-s,h-c,s,f-l,m-f,l,0,0,1);{const B=c-h,W=y-h,Z=f-m,z=C-m,$=B*z-W*Z,Q=(E*z-W*D)/$,ne=(B*D-E*Z)/$;return new Ot(c-s+Q*c,y-s+ne*y,s,f-l+Q*f,C-l+ne*C,l,Q,ne,1)}}static quadrilateralToSquare(s,l,c,f,h,m,y,C){return Ot.squareToQuadrilateral(s,l,c,f,h,m,y,C).buildAdjoint()}buildAdjoint(){return new Ot(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Ot(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class ln extends et{sampleGrid(s,l,c,f,h,m,y,C,E,D,B,W,Z,z,$,Q,ne,pe,ve){const ye=Ot.quadrilateralToQuadrilateral(f,h,m,y,C,E,D,B,W,Z,z,$,Q,ne,pe,ve);return this.sampleGridWithTransform(s,l,c,ye)}sampleGridWithTransform(s,l,c,f){if(l<=0||c<=0)throw new se;const h=new Ne(l,c),m=new Float32Array(2*l);for(let y=0;y<c;y++){const C=m.length,E=y+.5;for(let D=0;D<C;D+=2)m[D]=D/2+.5,m[D+1]=E;f.transformPoints(m),et.checkAndNudgePoints(s,m);try{for(let D=0;D<C;D+=2)s.get(Math.floor(m[D]),Math.floor(m[D+1]))&&h.set(D/2,y)}catch{throw new se}}return h}}class Jt{static setGridSampler(s){Jt.gridSampler=s}static getInstance(){return Jt.gridSampler}}Jt.gridSampler=new ln;class pn{constructor(s,l){this.x=s,this.y=l}toResultPoint(){return new Te(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class os{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let l=this.getMatrixCenter(),c=this.getBullsEyeCorners(l);if(s){let m=c[0];c[0]=c[2],c[2]=m}this.extractParameters(c);let f=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),h=this.getMatrixCornerPoints(c);return new Qn(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new se;let l=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],l),this.sampleLine(s[1],s[2],l),this.sampleLine(s[2],s[3],l),this.sampleLine(s[3],s[0],l)]);this.shift=this.getRotation(c,l);let f=0;for(let m=0;m<4;m++){let y=c[(this.shift+m)%4];this.compact?(f<<=7,f+=y>>1&127):(f<<=10,f+=(y>>2&992)+(y>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,l){let c=0;s.forEach((f,h,m)=>{let y=(f>>l-2<<1)+(f&1);c=(c<<3)+y}),c=((c&1)<<11)+(c>>1);for(let f=0;f<4;f++)if(I.bitCount(c^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new se}getCorrectedParameterData(s,l){let c,f;l?(c=7,f=2):(c=10,f=4);let h=c-f,m=new Int32Array(c);for(let C=c-1;C>=0;--C)m[C]=s&15,s>>=4;try{new we(Ee.AZTEC_PARAM).decode(m,h)}catch{throw new se}let y=0;for(let C=0;C<f;C++)y=(y<<4)+m[C];return y}getBullsEyeCorners(s){let l=s,c=s,f=s,h=s,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let B=this.getFirstDifferent(l,m,1,-1),W=this.getFirstDifferent(c,m,1,1),Z=this.getFirstDifferent(f,m,-1,1),z=this.getFirstDifferent(h,m,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(z,B)*this.nbCenterLayers/(this.distancePoint(h,l)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(B,W,Z,z))break}l=B,c=W,f=Z,h=z,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new se;this.compact=this.nbCenterLayers===5;let y=new Te(l.getX()+.5,l.getY()-.5),C=new Te(c.getX()+.5,c.getY()+.5),E=new Te(f.getX()-.5,f.getY()+.5),D=new Te(h.getX()-.5,h.getY()-.5);return this.expandSquare([y,C,E,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,l,c,f;try{let y=new Pe(this.image).detect();s=y[0],l=y[1],c=y[2],f=y[3]}catch{let C=this.image.getWidth()/2,E=this.image.getHeight()/2;s=this.getFirstDifferent(new pn(C+7,E-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new pn(C+7,E+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new pn(C-7,E+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new pn(C-7,E-7),!1,-1,-1).toResultPoint()}let h=Qe.round((s.getX()+f.getX()+l.getX()+c.getX())/4),m=Qe.round((s.getY()+f.getY()+l.getY()+c.getY())/4);try{let y=new Pe(this.image,15,h,m).detect();s=y[0],l=y[1],c=y[2],f=y[3]}catch{s=this.getFirstDifferent(new pn(h+7,m-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new pn(h+7,m+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new pn(h-7,m+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new pn(h-7,m-7),!1,-1,-1).toResultPoint()}return h=Qe.round((s.getX()+f.getX()+l.getX()+c.getX())/4),m=Qe.round((s.getY()+f.getY()+l.getY()+c.getY())/4),new pn(h,m)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,l,c,f,h){let m=Jt.getInstance(),y=this.getDimension(),C=y/2-this.nbCenterLayers,E=y/2+this.nbCenterLayers;return m.sampleGrid(s,y,y,C,C,E,C,E,E,C,E,l.getX(),l.getY(),c.getX(),c.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(s,l,c){let f=0,h=this.distanceResultPoint(s,l),m=h/c,y=s.getX(),C=s.getY(),E=m*(l.getX()-s.getX())/h,D=m*(l.getY()-s.getY())/h;for(let B=0;B<c;B++)this.image.get(Qe.round(y+B*E),Qe.round(C+B*D))&&(f|=1<<c-B-1);return f}isWhiteOrBlackRectangle(s,l,c,f){let h=3;s=new pn(s.getX()-h,s.getY()+h),l=new pn(l.getX()-h,l.getY()-h),c=new pn(c.getX()+h,c.getY()-h),f=new pn(f.getX()+h,f.getY()+h);let m=this.getColor(f,s);if(m===0)return!1;let y=this.getColor(s,l);return y!==m||(y=this.getColor(l,c),y!==m)?!1:(y=this.getColor(c,f),y===m)}getColor(s,l){let c=this.distancePoint(s,l),f=(l.getX()-s.getX())/c,h=(l.getY()-s.getY())/c,m=0,y=s.getX(),C=s.getY(),E=this.image.get(s.getX(),s.getY()),D=Math.ceil(c);for(let W=0;W<D;W++)y+=f,C+=h,this.image.get(Qe.round(y),Qe.round(C))!==E&&m++;let B=m/c;return B>.1&&B<.9?0:B<=.1===E?1:-1}getFirstDifferent(s,l,c,f){let h=s.getX()+c,m=s.getY()+f;for(;this.isValid(h,m)&&this.image.get(h,m)===l;)h+=c,m+=f;for(h-=c,m-=f;this.isValid(h,m)&&this.image.get(h,m)===l;)h+=c;for(h-=c;this.isValid(h,m)&&this.image.get(h,m)===l;)m+=f;return m-=f,new pn(h,m)}expandSquare(s,l,c){let f=c/(2*l),h=s[0].getX()-s[2].getX(),m=s[0].getY()-s[2].getY(),y=(s[0].getX()+s[2].getX())/2,C=(s[0].getY()+s[2].getY())/2,E=new Te(y+f*h,C+f*m),D=new Te(y-f*h,C-f*m);h=s[1].getX()-s[3].getX(),m=s[1].getY()-s[3].getY(),y=(s[1].getX()+s[3].getX())/2,C=(s[1].getY()+s[3].getY())/2;let B=new Te(y+f*h,C+f*m),W=new Te(y-f*h,C-f*m);return[E,B,D,W]}isValid(s,l){return s>=0&&s<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(s){let l=Qe.round(s.getX()),c=Qe.round(s.getY());return this.isValid(l,c)}distancePoint(s,l){return Qe.distance(s.getX(),s.getY(),l.getX(),l.getY())}distanceResultPoint(s,l){return Qe.distance(s.getX(),s.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class As{decode(s,l=null){let c=null,f=new os(s.getBlackMatrix()),h=null,m=null;try{let D=f.detectMirror(!1);h=D.getPoints(),this.reportFoundResultPoints(l,h),m=new ze().decode(D)}catch(D){c=D}if(m==null)try{let D=f.detectMirror(!0);h=D.getPoints(),this.reportFoundResultPoints(l,h),m=new ze().decode(D)}catch(D){throw c??D}let y=new Xe(m.getText(),m.getRawBytes(),m.getNumBits(),h,je.AZTEC,O.currentTimeMillis()),C=m.getByteSegments();C!=null&&y.putMetadata(at.BYTE_SEGMENTS,C);let E=m.getECLevel();return E!=null&&y.putMetadata(at.ERROR_CORRECTION_LEVEL,E),y}reportFoundResultPoints(s,l){if(s!=null){let c=s.get(F.NEED_RESULT_POINT_CALLBACK);c!=null&&l.forEach((f,h,m)=>{c.foundPossibleResultPoint(f)})}}reset(){}}class zi extends ke{constructor(s=500){super(new As,s)}}class on{decode(s,l){try{return this.doDecode(s,l)}catch{if(l&&l.get(F.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),m=this.doDecode(h,l),y=m.getResultMetadata();let C=270;y!==null&&y.get(at.ORIENTATION)===!0&&(C=C+y.get(at.ORIENTATION)%360),m.putMetadata(at.ORIENTATION,C);const E=m.getResultPoints();if(E!==null){const D=h.getHeight();for(let B=0;B<E.length;B++)E[B]=new Te(D-E[B].getY()-1,E[B].getX())}return m}else throw new se}}reset(){}doDecode(s,l){const c=s.getWidth(),f=s.getHeight();let h=new q(c);const m=l&&l.get(F.TRY_HARDER)===!0,y=Math.max(1,f>>(m?8:5));let C;m?C=f:C=15;const E=Math.trunc(f/2);for(let D=0;D<C;D++){const B=Math.trunc((D+1)/2),W=(D&1)===0,Z=E+y*(W?B:-B);if(Z<0||Z>=f)break;try{h=s.getBlackRow(Z,h)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(h.reverse(),l&&l.get(F.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;l.forEach((Q,ne)=>$.set(ne,Q)),$.delete(F.NEED_RESULT_POINT_CALLBACK),l=$}try{const $=this.decodeRow(Z,h,l);if(z===1){$.putMetadata(at.ORIENTATION,180);const Q=$.getResultPoints();Q!==null&&(Q[0]=new Te(c-Q[0].getX()-1,Q[0].getY()),Q[1]=new Te(c-Q[1].getX()-1,Q[1].getY()))}return $}catch{}}}throw new se}static recordPattern(s,l,c){const f=c.length;for(let E=0;E<f;E++)c[E]=0;const h=s.getSize();if(l>=h)throw new se;let m=!s.get(l),y=0,C=l;for(;C<h;){if(s.get(C)!==m)c[y]++;else{if(++y===f)break;c[y]=1,m=!m}C++}if(!(y===f||y===f-1&&C===h))throw new se}static recordPatternInReverse(s,l,c){let f=c.length,h=s.get(l);for(;l>0&&f>=0;)s.get(--l)!==h&&(f--,h=!h);if(f>=0)throw new se;on.recordPattern(s,l+1,c)}static patternMatchVariance(s,l,c){const f=s.length;let h=0,m=0;for(let E=0;E<f;E++)h+=s[E],m+=l[E];if(h<m)return Number.POSITIVE_INFINITY;const y=h/m;c*=y;let C=0;for(let E=0;E<f;E++){const D=s[E],B=l[E]*y,W=D>B?D-B:B-D;if(W>c)return Number.POSITIVE_INFINITY;C+=W}return C/h}}class Me extends on{static findStartPattern(s){const l=s.getSize(),c=s.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),m=c,y=!1;const C=6;for(let E=c;E<l;E++)if(s.get(E)!==y)h[f]++;else{if(f===C-1){let D=Me.MAX_AVG_VARIANCE,B=-1;for(let W=Me.CODE_START_A;W<=Me.CODE_START_C;W++){const Z=on.patternMatchVariance(h,Me.CODE_PATTERNS[W],Me.MAX_INDIVIDUAL_VARIANCE);Z<D&&(D=Z,B=W)}if(B>=0&&s.isRange(Math.max(0,m-(E-m)/2),m,!1))return Int32Array.from([m,E,B]);m+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,y=!y}throw new se}static decodeCode(s,l,c){on.recordPattern(s,c,l);let f=Me.MAX_AVG_VARIANCE,h=-1;for(let m=0;m<Me.CODE_PATTERNS.length;m++){const y=Me.CODE_PATTERNS[m],C=this.patternMatchVariance(l,y,Me.MAX_INDIVIDUAL_VARIANCE);C<f&&(f=C,h=m)}if(h>=0)return h;throw new se}decodeRow(s,l,c){const f=c&&c.get(F.ASSUME_GS1)===!0,h=Me.findStartPattern(l),m=h[2];let y=0;const C=new Uint8Array(20);C[y++]=m;let E;switch(m){case Me.CODE_START_A:E=Me.CODE_CODE_A;break;case Me.CODE_START_B:E=Me.CODE_CODE_B;break;case Me.CODE_START_C:E=Me.CODE_CODE_C;break;default:throw new R}let D=!1,B=!1,W="",Z=h[0],z=h[1];const $=Int32Array.from([0,0,0,0,0,0]);let Q=0,ne=0,pe=m,ve=0,ye=!0,Ge=!1,mt=!1;for(;!D;){const kt=B;switch(B=!1,Q=ne,ne=Me.decodeCode(l,$,z),C[y++]=ne,ne!==Me.CODE_STOP&&(ye=!0),ne!==Me.CODE_STOP&&(ve++,pe+=ve*ne),Z=z,z+=$.reduce((Tp,Zd)=>Tp+Zd,0),ne){case Me.CODE_START_A:case Me.CODE_START_B:case Me.CODE_START_C:throw new R}switch(E){case Me.CODE_CODE_A:if(ne<64)mt===Ge?W+=String.fromCharCode(" ".charCodeAt(0)+ne):W+=String.fromCharCode(" ".charCodeAt(0)+ne+128),mt=!1;else if(ne<96)mt===Ge?W+=String.fromCharCode(ne-64):W+=String.fromCharCode(ne+64),mt=!1;else switch(ne!==Me.CODE_STOP&&(ye=!1),ne){case Me.CODE_FNC_1:f&&(W.length===0?W+="]C1":W+=String.fromCharCode(29));break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_A:!Ge&&mt?(Ge=!0,mt=!1):Ge&&mt?(Ge=!1,mt=!1):mt=!0;break;case Me.CODE_SHIFT:B=!0,E=Me.CODE_CODE_B;break;case Me.CODE_CODE_B:E=Me.CODE_CODE_B;break;case Me.CODE_CODE_C:E=Me.CODE_CODE_C;break;case Me.CODE_STOP:D=!0;break}break;case Me.CODE_CODE_B:if(ne<96)mt===Ge?W+=String.fromCharCode(" ".charCodeAt(0)+ne):W+=String.fromCharCode(" ".charCodeAt(0)+ne+128),mt=!1;else switch(ne!==Me.CODE_STOP&&(ye=!1),ne){case Me.CODE_FNC_1:f&&(W.length===0?W+="]C1":W+=String.fromCharCode(29));break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_B:!Ge&&mt?(Ge=!0,mt=!1):Ge&&mt?(Ge=!1,mt=!1):mt=!0;break;case Me.CODE_SHIFT:B=!0,E=Me.CODE_CODE_A;break;case Me.CODE_CODE_A:E=Me.CODE_CODE_A;break;case Me.CODE_CODE_C:E=Me.CODE_CODE_C;break;case Me.CODE_STOP:D=!0;break}break;case Me.CODE_CODE_C:if(ne<100)ne<10&&(W+="0"),W+=ne;else switch(ne!==Me.CODE_STOP&&(ye=!1),ne){case Me.CODE_FNC_1:f&&(W.length===0?W+="]C1":W+=String.fromCharCode(29));break;case Me.CODE_CODE_A:E=Me.CODE_CODE_A;break;case Me.CODE_CODE_B:E=Me.CODE_CODE_B;break;case Me.CODE_STOP:D=!0;break}break}kt&&(E=E===Me.CODE_CODE_A?Me.CODE_CODE_B:Me.CODE_CODE_A)}const _r=z-Z;if(z=l.getNextUnset(z),!l.isRange(z,Math.min(l.getSize(),z+(z-Z)/2),!1))throw new se;if(pe-=ve*Q,pe%103!==Q)throw new k;const Cn=W.length;if(Cn===0)throw new se;Cn>0&&ye&&(E===Me.CODE_CODE_C?W=W.substring(0,Cn-2):W=W.substring(0,Cn-1));const sr=(h[1]+h[0])/2,rn=Z+_r/2,Nn=C.length,dr=new Uint8Array(Nn);for(let kt=0;kt<Nn;kt++)dr[kt]=C[kt];const ei=[new Te(sr,s),new Te(rn,s)];return new Xe(W,dr,0,ei,je.CODE_128,new Date().getTime())}}Me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Me.MAX_AVG_VARIANCE=.25,Me.MAX_INDIVIDUAL_VARIANCE=.7,Me.CODE_SHIFT=98,Me.CODE_CODE_C=99,Me.CODE_CODE_B=100,Me.CODE_CODE_A=101,Me.CODE_FNC_1=102,Me.CODE_FNC_2=97,Me.CODE_FNC_3=96,Me.CODE_FNC_4_A=101,Me.CODE_FNC_4_B=100,Me.CODE_START_A=103,Me.CODE_START_B=104,Me.CODE_START_C=105,Me.CODE_STOP=106;class cn extends on{constructor(s=!1,l=!1){super(),this.usingCheckDigit=s,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,l,c){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=cn.findAsteriskPattern(l,f),m=l.getNextSet(h[1]),y=l.getSize(),C,E;do{cn.recordPattern(l,m,f);let $=cn.toNarrowWidePattern(f);if($<0)throw new se;C=cn.patternToChar($),this.decodeRowResult+=C,E=m;for(let Q of f)m+=Q;m=l.getNextSet(m)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let $ of f)D+=$;let B=m-E-D;if(m!==y&&B*2<D)throw new se;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,Q=0;for(let ne=0;ne<$;ne++)Q+=cn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ne));if(this.decodeRowResult.charAt($)!==cn.ALPHABET_STRING.charAt(Q%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new se;let W;this.extendedMode?W=cn.decodeExtended(this.decodeRowResult):W=this.decodeRowResult;let Z=(h[1]+h[0])/2,z=E+D/2;return new Xe(W,null,0,[new Te(Z,s),new Te(z,s)],je.CODE_39,new Date().getTime())}static findAsteriskPattern(s,l){let c=s.getSize(),f=s.getNextSet(0),h=0,m=f,y=!1,C=l.length;for(let E=f;E<c;E++)if(s.get(E)!==y)l[h]++;else{if(h===C-1){if(this.toNarrowWidePattern(l)===cn.ASTERISK_ENCODING&&s.isRange(Math.max(0,m-Math.floor((E-m)/2)),m,!1))return[m,E];m+=l[0]+l[1],l.copyWithin(0,2,2+h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,y=!y}throw new se}static toNarrowWidePattern(s){let l=s.length,c=0,f;do{let h=2147483647;for(let C of s)C<h&&C>c&&(h=C);c=h,f=0;let m=0,y=0;for(let C=0;C<l;C++){let E=s[C];E>c&&(y|=1<<l-1-C,f++,m+=E)}if(f===3){for(let C=0;C<l&&f>0;C++){let E=s[C];if(E>c&&(f--,E*2>=m))return-1}return y}}while(f>3);return-1}static patternToChar(s){for(let l=0;l<cn.CHARACTER_ENCODINGS.length;l++)if(cn.CHARACTER_ENCODINGS[l]===s)return cn.ALPHABET_STRING.charAt(l);if(s===cn.ASTERISK_ENCODING)return"*";throw new se}static decodeExtended(s){let l=s.length,c="";for(let f=0;f<l;f++){let h=s.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let m=s.charAt(f+1),y="\0";switch(h){case"+":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)+32);else throw new R;break;case"$":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)-64);else throw new R;break;case"%":if(m>="A"&&m<="E")y=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")y=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")y=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")y="\0";else if(m==="V")y="@";else if(m==="W")y="`";else if(m==="X"||m==="Y"||m==="Z")y="";else throw new R;break;case"/":if(m>="A"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")y=":";else throw new R;break}c+=y,f++}else c+=h}return c}}cn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",cn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],cn.ASTERISK_ENCODING=148;class Dt extends on{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,l,c){let f=this.decodeStart(l),h=this.decodeEnd(l),m=new ee;Dt.decodeMiddle(l,f[1],h[0],m);let y=m.toString(),C=null;c!=null&&(C=c.get(F.ALLOWED_LENGTHS)),C==null&&(C=Dt.DEFAULT_ALLOWED_LENGTHS);let E=y.length,D=!1,B=0;for(let z of C){if(E===z){D=!0;break}z>B&&(B=z)}if(!D&&E>B&&(D=!0),!D)throw new R;const W=[new Te(f[1],s),new Te(h[0],s)];return new Xe(y,null,0,W,je.ITF,new Date().getTime())}static decodeMiddle(s,l,c,f){let h=new Int32Array(10),m=new Int32Array(5),y=new Int32Array(5);for(h.fill(0),m.fill(0),y.fill(0);l<c;){on.recordPattern(s,l,h);for(let E=0;E<5;E++){let D=2*E;m[E]=h[D],y[E]=h[D+1]}let C=Dt.decodeDigit(m);f.append(C.toString()),C=this.decodeDigit(y),f.append(C.toString()),h.forEach(function(E){l+=E})}}decodeStart(s){let l=Dt.skipWhiteSpace(s),c=Dt.findGuardPattern(s,l,Dt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,l){let c=this.narrowLineWidth*10;c=c<l?c:l;for(let f=l-1;c>0&&f>=0&&!s.get(f);f--)c--;if(c!==0)throw new se}static skipWhiteSpace(s){const l=s.getSize(),c=s.getNextSet(0);if(c===l)throw new se;return c}decodeEnd(s){s.reverse();try{let l=Dt.skipWhiteSpace(s),c;try{c=Dt.findGuardPattern(s,l,Dt.END_PATTERN_REVERSED[0])}catch(h){h instanceof se&&(c=Dt.findGuardPattern(s,l,Dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let f=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-f,c}finally{s.reverse()}}static findGuardPattern(s,l,c){let f=c.length,h=new Int32Array(f),m=s.getSize(),y=!1,C=0,E=l;h.fill(0);for(let D=l;D<m;D++)if(s.get(D)!==y)h[C]++;else{if(C===f-1){if(on.patternMatchVariance(h,c,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return[E,D];E+=h[0]+h[1],O.arraycopy(h,2,h,0,C-1),h[C-1]=0,h[C]=0,C--}else C++;h[C]=1,y=!y}throw new se}static decodeDigit(s){let l=Dt.MAX_AVG_VARIANCE,c=-1,f=Dt.PATTERNS.length;for(let h=0;h<f;h++){let m=Dt.PATTERNS[h],y=on.patternMatchVariance(s,m,Dt.MAX_INDIVIDUAL_VARIANCE);y<l?(l=y,c=h):y===l&&(c=-1)}if(c>=0)return c%10;throw new se}}Dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Dt.MAX_AVG_VARIANCE=.38,Dt.MAX_INDIVIDUAL_VARIANCE=.5,Dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Dt.START_PATTERN=Int32Array.from([1,1,1,1]),Dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Gt extends on{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let l=!1,c,f=0,h=Int32Array.from([0,0,0]);for(;!l;){h=Int32Array.from([0,0,0]),c=Gt.findGuardPattern(s,f,!1,this.START_END_PATTERN,h);let m=c[0];f=c[1];let y=m-(f-m);y>=0&&(l=s.isRange(y,m,!1))}return c}static checkChecksum(s){return Gt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let c=parseInt(s.charAt(l-1),10);return Gt.getStandardUPCEANChecksum(s.substring(0,l-1))===c}static getStandardUPCEANChecksum(s){let l=s.length,c=0;for(let f=l-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new R;c+=h}c*=3;for(let f=l-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new R;c+=h}return(1e3-c)%10}static decodeEnd(s,l){return Gt.findGuardPattern(s,l,!1,Gt.START_END_PATTERN,new Int32Array(Gt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,l,c,f){return this.findGuardPattern(s,l,c,f,new Int32Array(f.length))}static findGuardPattern(s,l,c,f,h){let m=s.getSize();l=c?s.getNextUnset(l):s.getNextSet(l);let y=0,C=l,E=f.length,D=c;for(let B=l;B<m;B++)if(s.get(B)!==D)h[y]++;else{if(y===E-1){if(on.patternMatchVariance(h,f,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return Int32Array.from([C,B]);C+=h[0]+h[1];let W=h.slice(2,h.length-1);for(let Z=0;Z<y-1;Z++)h[Z]=W[Z];h[y-1]=0,h[y]=0,y--}else y++;h[y]=1,D=!D}throw new se}static decodeDigit(s,l,c,f){this.recordPattern(s,c,l);let h=this.MAX_AVG_VARIANCE,m=-1,y=f.length;for(let C=0;C<y;C++){let E=f[C],D=on.patternMatchVariance(l,E,Gt.MAX_INDIVIDUAL_VARIANCE);D<h&&(h=D,m=C)}if(m>=0)return m;throw new se}}Gt.MAX_AVG_VARIANCE=.48,Gt.MAX_INDIVIDUAL_VARIANCE=.7,Gt.START_END_PATTERN=Int32Array.from([1,1,1]),Gt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Gt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ks{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(l,c,f),m=f.toString(),y=Ks.parseExtensionString(m),C=[new Te((c[0]+c[1])/2,s),new Te(h,s)],E=new Xe(m,null,0,C,je.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&E.putAllMetadata(y),E}decodeMiddle(s,l,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=l[1],y=0;for(let E=0;E<5&&m<h;E++){let D=Gt.decodeDigit(s,f,m,Gt.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+D%10);for(let B of f)m+=B;D>=10&&(y|=1<<4-E),E!==4&&(m=s.getNextSet(m),m=s.getNextUnset(m))}if(c.length!==5)throw new se;let C=this.determineCheckDigit(y);if(Ks.extensionChecksum(c.toString())!==C)throw new se;return m}static extensionChecksum(s){let l=s.length,c=0;for(let f=l-2;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);c*=3;for(let f=l-1;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);return c*=3,c%10}determineCheckDigit(s){for(let l=0;l<10;l++)if(s===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new se}static parseExtensionString(s){if(s.length!==5)return null;let l=Ks.parseExtension5String(s);return l==null?null:new Map([[at.SUGGESTED_PRICE,l]])}static parseExtension5String(s){let l;switch(s.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let c=parseInt(s.substring(1)),f=(c/100).toString(),h=c%100,m=h<10?"0"+h:h.toString();return l+f+"."+m}}class Co{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(l,c,f),m=f.toString(),y=Co.parseExtensionString(m),C=[new Te((c[0]+c[1])/2,s),new Te(h,s)],E=new Xe(m,null,0,C,je.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&E.putAllMetadata(y),E}decodeMiddle(s,l,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=l[1],y=0;for(let C=0;C<2&&m<h;C++){let E=Gt.decodeDigit(s,f,m,Gt.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let D of f)m+=D;E>=10&&(y|=1<<1-C),C!==1&&(m=s.getNextSet(m),m=s.getNextUnset(m))}if(c.length!==2)throw new se;if(parseInt(c.toString())%4!==y)throw new se;return m}static parseExtensionString(s){return s.length!==2?null:new Map([[at.ISSUE_NUMBER,parseInt(s)]])}}class Md{static decodeRow(s,l,c){let f=Gt.findGuardPattern(l,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ks().decodeRow(s,l,f)}catch{return new Co().decodeRow(s,l,f)}}}Md.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Mt extends Gt{constructor(){super(),this.decodeRowStringBuffer="",Mt.L_AND_G_PATTERNS=Mt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let l=Mt.L_PATTERNS[s-10],c=new Int32Array(l.length);for(let f=0;f<l.length;f++)c[f]=l[l.length-f-1];Mt.L_AND_G_PATTERNS[s]=c}}decodeRow(s,l,c){let f=Mt.findStartGuardPattern(l),h=c==null?null:c.get(F.NEED_RESULT_POINT_CALLBACK);if(h!=null){const ye=new Te((f[0]+f[1])/2,s);h.foundPossibleResultPoint(ye)}let m=this.decodeMiddle(l,f,this.decodeRowStringBuffer),y=m.rowOffset,C=m.resultString;if(h!=null){const ye=new Te(y,s);h.foundPossibleResultPoint(ye)}let E=this.decodeEnd(l,y);if(h!=null){const ye=new Te((E[0]+E[1])/2,s);h.foundPossibleResultPoint(ye)}let D=E[1],B=D+(D-E[0]);if(B>=l.getSize()||!l.isRange(D,B,!1))throw new se;let W=C.toString();if(W.length<8)throw new R;if(!Mt.checkChecksum(W))throw new k;let Z=(f[1]+f[0])/2,z=(E[1]+E[0])/2,$=this.getBarcodeFormat(),Q=[new Te(Z,s),new Te(z,s)],ne=new Xe(W,null,0,Q,$,new Date().getTime()),pe=0;try{let ye=Md.decodeRow(s,l,E[1]);ne.putMetadata(at.UPC_EAN_EXTENSION,ye.getText()),ne.putAllMetadata(ye.getResultMetadata()),ne.addResultPoints(ye.getResultPoints()),pe=ye.getText().length}catch{}let ve=c==null?null:c.get(F.ALLOWED_EAN_EXTENSIONS);if(ve!=null){let ye=!1;for(let Ge in ve)if(pe.toString()===Ge){ye=!0;break}if(!ye)throw new se}return ne}decodeEnd(s,l){return Mt.findGuardPattern(s,l,!1,Mt.START_END_PATTERN,new Int32Array(Mt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Mt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let c=parseInt(s.charAt(l-1),10);return Mt.getStandardUPCEANChecksum(s.substring(0,l-1))===c}static getStandardUPCEANChecksum(s){let l=s.length,c=0;for(let f=l-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new R;c+=h}c*=3;for(let f=l-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new R;c+=h}return(1e3-c)%10}}class vi extends Mt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=l[1],y=0;for(let E=0;E<6&&m<h;E++){let D=Mt.decodeDigit(s,f,m,Mt.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+D%10);for(let B of f)m+=B;D>=10&&(y|=1<<5-E)}c=vi.determineFirstDigit(c,y),m=Mt.findGuardPattern(s,m,!0,Mt.MIDDLE_PATTERN,new Int32Array(Mt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&m<h;E++){let D=Mt.decodeDigit(s,f,m,Mt.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+D);for(let B of f)m+=B}return{rowOffset:m,resultString:c}}getBarcodeFormat(){return je.EAN_13}static determineFirstDigit(s,l){for(let c=0;c<10;c++)if(l===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode("0".charCodeAt(0)+c)+s,s;throw new se}}vi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ld extends Mt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,c){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m=l[1];for(let C=0;C<4&&m<h;C++){let E=Mt.decodeDigit(s,f,m,Mt.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+E);for(let D of f)m+=D}m=Mt.findGuardPattern(s,m,!0,Mt.MIDDLE_PATTERN,new Int32Array(Mt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&m<h;C++){let E=Mt.decodeDigit(s,f,m,Mt.L_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+E);for(let D of f)m+=D}return{rowOffset:m,resultString:c}}getBarcodeFormat(){return je.EAN_8}}class Pd extends Mt{constructor(){super(...arguments),this.ean13Reader=new vi}getBarcodeFormat(){return je.UPC_A}decode(s,l){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,l,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,l,c))}decodeMiddle(s,l,c){return this.ean13Reader.decodeMiddle(s,l,c)}maybeReturnResult(s){let l=s.getText();if(l.charAt(0)==="0"){let c=new Xe(l.substring(1),null,null,s.getResultPoints(),je.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new se}reset(){this.ean13Reader.reset()}}class ls extends Mt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,l,c){const f=this.decodeMiddleCounters.map(E=>E);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=s.getSize();let m=l[1],y=0;for(let E=0;E<6&&m<h;E++){const D=ls.decodeDigit(s,f,m,ls.L_AND_G_PATTERNS);c+=String.fromCharCode("0".charCodeAt(0)+D%10);for(let B of f)m+=B;D>=10&&(y|=1<<5-E)}let C=ls.determineNumSysAndCheckDigit(c,y);return{rowOffset:m,resultString:C}}decodeEnd(s,l){return ls.findGuardPatternWithoutCounters(s,l,!0,ls.MIDDLE_END_PATTERN)}checkChecksum(s){return Mt.checkChecksum(ls.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,l){for(let c=0;c<=1;c++)for(let f=0;f<10;f++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][f]){let h=String.fromCharCode("0".charCodeAt(0)+c),m=String.fromCharCode("0".charCodeAt(0)+f);return h+s+m}throw se.getNotFoundInstance()}getBarcodeFormat(){return je.UPC_E}static convertUPCEtoUPCA(s){const l=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),c=new ee;c.append(s.charAt(0));let f=l[5];switch(f){case 0:case 1:case 2:c.appendChars(l,0,2),c.append(f),c.append("0000"),c.appendChars(l,2,3);break;case 3:c.appendChars(l,0,3),c.append("00000"),c.appendChars(l,3,2);break;case 4:c.appendChars(l,0,4),c.append("00000"),c.append(l[4]);break;default:c.appendChars(l,0,5),c.append("0000"),c.append(f);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}ls.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ls.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class zc extends on{constructor(s){super();let l=s==null?null:s.get(F.POSSIBLE_FORMATS),c=[];r(l)?(c.push(new vi),c.push(new Pd),c.push(new Ld),c.push(new ls)):(l.indexOf(je.EAN_13)>-1&&c.push(new vi),l.indexOf(je.UPC_A)>-1&&c.push(new Pd),l.indexOf(je.EAN_8)>-1&&c.push(new Ld),l.indexOf(je.UPC_E)>-1&&c.push(new ls)),this.readers=c}decodeRow(s,l,c){for(let f of this.readers)try{const h=f.decodeRow(s,l,c),m=h.getBarcodeFormat()===je.EAN_13&&h.getText().charAt(0)==="0",y=c==null?null:c.get(F.POSSIBLE_FORMATS),C=y==null||y.includes(je.UPC_A);if(m&&C){const E=h.getRawBytes(),D=new Xe(h.getText().substring(1),E,E?E.length:null,h.getResultPoints(),je.UPC_A);return D.putAllMetadata(h.getResultMetadata()),D}return h}catch{}throw new se}reset(){for(let s of this.readers)s.reset()}}class tr extends on{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,l){for(let c=0;c<l.length;c++)if(on.patternMatchVariance(s,l[c],tr.MAX_INDIVIDUAL_VARIANCE)<tr.MAX_AVG_VARIANCE)return c;throw new se}static count(s){return Qe.sum(new Int32Array(s))}static increment(s,l){let c=0,f=l[0];for(let h=1;h<s.length;h++)l[h]>f&&(f=l[h],c=h);s[c]++}static decrement(s,l){let c=0,f=l[0];for(let h=1;h<s.length;h++)l[h]<f&&(f=l[h],c=h);s[c]--}static isFinderPattern(s){let l=s[0]+s[1],c=l+s[2]+s[3],f=l/c;if(f>=tr.MIN_FINDER_PATTERN_RATIO&&f<=tr.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let y of s)y>m&&(m=y),y<h&&(h=y);return m<10*h}return!1}}tr.MAX_AVG_VARIANCE=.2,tr.MAX_INDIVIDUAL_VARIANCE=.45,tr.MIN_FINDER_PATTERN_RATIO=9.5/12,tr.MAX_FINDER_PATTERN_RATIO=12.5/14;class _a{constructor(s,l){this.value=s,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof _a))return!1;const l=s;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class wl{constructor(s,l,c,f,h){this.value=s,this.startEnd=l,this.value=s,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new Te(c,h)),this.resultPoints.push(new Te(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof wl))return!1;const l=s;return this.value===l.value}hashCode(){return this.value}}class ks{constructor(){}static getRSSvalue(s,l,c){let f=0;for(let C of s)f+=C;let h=0,m=0,y=s.length;for(let C=0;C<y-1;C++){let E;for(E=1,m|=1<<C;E<s[C];E++,m&=~(1<<C)){let D=ks.combins(f-E-1,y-C-2);if(c&&m===0&&f-E-(y-C-1)>=y-C-1&&(D-=ks.combins(f-E-(y-C),y-C-2)),y-C-1>1){let B=0;for(let W=f-E-(y-C-2);W>l;W--)B+=ks.combins(f-E-W-1,y-C-3);D-=B*(y-1-C)}else f-E>l&&D--;h+=D}f-=E}return h}static combins(s,l){let c,f;s-l>l?(f=l,c=s-l):(f=s-l,c=l);let h=1,m=1;for(let y=s;y>c;y--)h*=y,m<=f&&(h/=m,m++);for(;m<=f;)h/=m,m++;return h}}class qc{static buildBitArray(s){let l=s.length*2-1;s[s.length-1].getRightChar()==null&&(l-=1);let c=12*l,f=new q(c),h=0,y=s[0].getRightChar().getValue();for(let C=11;C>=0;--C)y&1<<C&&f.set(h),h++;for(let C=1;C<s.length;++C){let E=s[C],D=E.getLeftChar().getValue();for(let B=11;B>=0;--B)D&1<<B&&f.set(h),h++;if(E.getRightChar()!=null){let B=E.getRightChar().getValue();for(let W=11;W>=0;--W)B&1<<W&&f.set(h),h++}}return f}}class qi{constructor(s,l){l?this.decodedInformation=null:(this.finished=s,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class No{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Cr extends No{constructor(s,l){super(s),this.value=l}getValue(){return this.value}isFNC1(){return this.value===Cr.FNC1}}Cr.FNC1="$";class Wi extends No{constructor(s,l,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Xr extends No{constructor(s,l,c){if(super(s),l<0||l>10||c<0||c>10)throw new R;this.firstDigit=l,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Xr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Xr.FNC1}isAnyFNC1(){return this.firstDigit===Xr.FNC1||this.secondDigit===Xr.FNC1}}Xr.FNC1=10;class qe{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new se;let l=s.substring(0,2);for(let h of qe.TWO_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===qe.VARIABLE_LENGTH?qe.processVariableAI(2,h[2],s):qe.processFixedAI(2,h[1],s);if(s.length<3)throw new se;let c=s.substring(0,3);for(let h of qe.THREE_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===qe.VARIABLE_LENGTH?qe.processVariableAI(3,h[2],s):qe.processFixedAI(3,h[1],s);for(let h of qe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===qe.VARIABLE_LENGTH?qe.processVariableAI(4,h[2],s):qe.processFixedAI(4,h[1],s);if(s.length<4)throw new se;let f=s.substring(0,4);for(let h of qe.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===qe.VARIABLE_LENGTH?qe.processVariableAI(4,h[2],s):qe.processFixedAI(4,h[1],s);throw new se}static processFixedAI(s,l,c){if(c.length<s)throw new se;let f=c.substring(0,s);if(c.length<s+l)throw new se;let h=c.substring(s,s+l),m=c.substring(s+l),y="("+f+")"+h,C=qe.parseFieldsInGeneralPurpose(m);return C==null?y:y+C}static processVariableAI(s,l,c){let f=c.substring(0,s),h;c.length<s+l?h=c.length:h=s+l;let m=c.substring(s,h),y=c.substring(h),C="("+f+")"+m,E=qe.parseFieldsInGeneralPurpose(y);return E==null?C:C+E}}qe.VARIABLE_LENGTH=[],qe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",qe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",qe.VARIABLE_LENGTH,20],["22",qe.VARIABLE_LENGTH,29],["30",qe.VARIABLE_LENGTH,8],["37",qe.VARIABLE_LENGTH,8],["90",qe.VARIABLE_LENGTH,30],["91",qe.VARIABLE_LENGTH,30],["92",qe.VARIABLE_LENGTH,30],["93",qe.VARIABLE_LENGTH,30],["94",qe.VARIABLE_LENGTH,30],["95",qe.VARIABLE_LENGTH,30],["96",qe.VARIABLE_LENGTH,30],["97",qe.VARIABLE_LENGTH,3],["98",qe.VARIABLE_LENGTH,30],["99",qe.VARIABLE_LENGTH,30]],qe.THREE_DIGIT_DATA_LENGTH=[["240",qe.VARIABLE_LENGTH,30],["241",qe.VARIABLE_LENGTH,30],["242",qe.VARIABLE_LENGTH,6],["250",qe.VARIABLE_LENGTH,30],["251",qe.VARIABLE_LENGTH,30],["253",qe.VARIABLE_LENGTH,17],["254",qe.VARIABLE_LENGTH,20],["400",qe.VARIABLE_LENGTH,30],["401",qe.VARIABLE_LENGTH,30],["402",17],["403",qe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",qe.VARIABLE_LENGTH,20],["421",qe.VARIABLE_LENGTH,15],["422",3],["423",qe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],qe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",qe.VARIABLE_LENGTH,15],["391",qe.VARIABLE_LENGTH,18],["392",qe.VARIABLE_LENGTH,15],["393",qe.VARIABLE_LENGTH,18],["703",qe.VARIABLE_LENGTH,30]],qe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",qe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",qe.VARIABLE_LENGTH,20],["8003",qe.VARIABLE_LENGTH,30],["8004",qe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",qe.VARIABLE_LENGTH,30],["8008",qe.VARIABLE_LENGTH,12],["8018",18],["8020",qe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",qe.VARIABLE_LENGTH,70],["8200",qe.VARIABLE_LENGTH,70]];class ja{constructor(s){this.buffer=new ee,this.information=s}decodeAllCodes(s,l){let c=l,f=null;do{let h=this.decodeGeneralPurposeField(c,f),m=qe.parseFieldsInGeneralPurpose(h.getNewString());if(m!=null&&s.append(m),h.isRemaining()?f=""+h.getRemainingValue():f=null,c===h.getNewPosition())break;c=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let l=s;l<s+3;++l)if(this.information.get(l))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new Xr(this.information.getSize(),Xr.FNC1,Xr.FNC1):new Xr(this.information.getSize(),h-1,Xr.FNC1)}let l=this.extractNumericValueFromBitArray(s,7),c=(l-8)/11,f=(l-8)%11;return new Xr(s+7,c,f)}extractNumericValueFromBitArray(s,l){return ja.extractNumericValueFromBitArray(this.information,s,l)}static extractNumericValueFromBitArray(s,l,c){let f=0;for(let h=0;h<c;++h)s.get(l+h)&&(f|=1<<c-h-1);return f}decodeGeneralPurposeField(s,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new Wi(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new Wi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,l;do{let c=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),s=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),s=l.isFinished()):(l=this.parseNumericBlock(),s=l.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let l;return s.isSecondDigitFNC1()?l=new Wi(this.current.getPosition(),this.buffer.toString()):l=new Wi(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new qi(!0,l)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let l=new Wi(this.current.getPosition(),this.buffer.toString());return new qi(!0,l)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new qi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new Wi(this.current.getPosition(),this.buffer.toString());return new qi(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new qi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new Wi(this.current.getPosition(),this.buffer.toString());return new qi(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new qi(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(s,8);return f>=232&&f<253}decodeIsoIec646(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new Cr(s+5,Cr.FNC1);if(l>=5&&l<15)return new Cr(s+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new Cr(s+7,""+(c+1));if(c>=90&&c<116)return new Cr(s+7,""+(c+7));let f=this.extractNumericValueFromBitArray(s,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new R}return new Cr(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new Cr(s+5,Cr.FNC1);if(l>=5&&l<15)return new Cr(s+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new Cr(s+6,""+(c+33));let f;switch(c){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new Rt("Decoding invalid alphanumeric value: "+c)}return new Cr(s+6,f)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<5&&l+s<this.information.getSize();++l)if(l===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+l))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let l=s;l<s+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<4&&l+s<this.information.getSize();++l)if(this.information.get(s+l))return!1;return!0}}class Wc{constructor(s){this.information=s,this.generalDecoder=new ja(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Nr extends Wc{constructor(s){super(s)}encodeCompressedGtin(s,l){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,l,c)}encodeCompressedGtinWithoutAI(s,l,c){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*f,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}Nr.appendCheckDigit(s,c)}static appendCheckDigit(s,l){let c=0;for(let f=0;f<13;f++){let h=s.charAt(f+l).charCodeAt(0)-"0".charCodeAt(0);c+=f&1?h:3*h}c=10-c%10,c===10&&(c=0),s.append(c)}}Nr.GTIN_SIZE=40;class Aa extends Nr{constructor(s){super(s)}parseInformation(){let s=new ee;s.append("(01)");let l=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Aa.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,Aa.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(s,Aa.HEADER_SIZE+44)}}Aa.HEADER_SIZE=1+1+2;class Eo extends Wc{constructor(s){super(s)}parseInformation(){let s=new ee;return this.getGeneralDecoder().decodeAllCodes(s,Eo.HEADER_SIZE)}}Eo.HEADER_SIZE=2+1+2;class bl extends Nr{constructor(s){super(s)}encodeCompressedWeight(s,l,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(l,c);this.addWeightCode(s,f);let h=this.checkWeight(f),m=1e5;for(let y=0;y<5;++y)h/m===0&&s.append("0"),m/=10;s.append(h)}}class Ts extends bl{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Ts.HEADER_SIZE+bl.GTIN_SIZE+Ts.WEIGHT_SIZE)throw new se;let s=new ee;return this.encodeCompressedGtin(s,Ts.HEADER_SIZE),this.encodeCompressedWeight(s,Ts.HEADER_SIZE+bl.GTIN_SIZE,Ts.WEIGHT_SIZE),s.toString()}}Ts.HEADER_SIZE=4+1,Ts.WEIGHT_SIZE=15;class yp extends Ts{constructor(s){super(s)}addWeightCode(s,l){s.append("(3103)")}checkWeight(s){return s}}class wp extends Ts{constructor(s){super(s)}addWeightCode(s,l){l<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Ds extends Nr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Ds.HEADER_SIZE+Nr.GTIN_SIZE)throw new se;let s=new ee;this.encodeCompressedGtin(s,Ds.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Ds.HEADER_SIZE+Nr.GTIN_SIZE,Ds.LAST_DIGIT_SIZE);s.append("(392"),s.append(l),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Ds.HEADER_SIZE+Nr.GTIN_SIZE+Ds.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}Ds.HEADER_SIZE=5+1+2,Ds.LAST_DIGIT_SIZE=2;class xr extends Nr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<xr.HEADER_SIZE+Nr.GTIN_SIZE)throw new se;let s=new ee;this.encodeCompressedGtin(s,xr.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(xr.HEADER_SIZE+Nr.GTIN_SIZE,xr.LAST_DIGIT_SIZE);s.append("(393"),s.append(l),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(xr.HEADER_SIZE+Nr.GTIN_SIZE+xr.LAST_DIGIT_SIZE,xr.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let f=this.getGeneralDecoder().decodeGeneralPurposeField(xr.HEADER_SIZE+Nr.GTIN_SIZE+xr.LAST_DIGIT_SIZE+xr.FIRST_THREE_DIGITS_SIZE,null);return s.append(f.getNewString()),s.toString()}}xr.HEADER_SIZE=5+1+2,xr.LAST_DIGIT_SIZE=2,xr.FIRST_THREE_DIGITS_SIZE=10;class en extends bl{constructor(s,l,c){super(s),this.dateCode=c,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=en.HEADER_SIZE+en.GTIN_SIZE+en.WEIGHT_SIZE+en.DATE_SIZE)throw new se;let s=new ee;return this.encodeCompressedGtin(s,en.HEADER_SIZE),this.encodeCompressedWeight(s,en.HEADER_SIZE+en.GTIN_SIZE,en.WEIGHT_SIZE),this.encodeCompressedDate(s,en.HEADER_SIZE+en.GTIN_SIZE+en.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(l,en.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let f=c%32;c/=32;let h=c%12+1;c/=12;let m=c;m/10==0&&s.append("0"),s.append(m),h/10==0&&s.append("0"),s.append(h),f/10==0&&s.append("0"),s.append(f)}addWeightCode(s,l){s.append("("),s.append(this.firstAIdigits),s.append(l/1e5),s.append(")")}checkWeight(s){return s%1e5}}en.HEADER_SIZE=7+1,en.WEIGHT_SIZE=20,en.DATE_SIZE=16;function Fd(P){try{if(P.get(1))return new Aa(P);if(!P.get(2))return new Eo(P);switch(ja.extractNumericValueFromBitArray(P,1,4)){case 4:return new yp(P);case 5:return new wp(P)}switch(ja.extractNumericValueFromBitArray(P,1,5)){case 12:return new Ds(P);case 13:return new xr(P)}switch(ja.extractNumericValueFromBitArray(P,1,7)){case 56:return new en(P,"310","11");case 57:return new en(P,"320","11");case 58:return new en(P,"310","13");case 59:return new en(P,"320","13");case 60:return new en(P,"310","15");case 61:return new en(P,"320","15");case 62:return new en(P,"310","17");case 63:return new en(P,"320","17")}}catch(s){throw console.log(s),new Rt("unknown decoder: "+P)}}class cs{constructor(s,l,c,f){this.leftchar=s,this.rightchar=l,this.finderpattern=c,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,l){return s instanceof cs?cs.equalsOrNull(s.leftchar,l.leftchar)&&cs.equalsOrNull(s.rightchar,l.rightchar)&&cs.equalsOrNull(s.finderpattern,l.finderpattern):!1}static equalsOrNull(s,l){return s===null?l===null:cs.equals(s,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Hc{constructor(s,l,c){this.pairs=s,this.rowNumber=l,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,l){return s instanceof Hc?this.checkEqualitity(s,l)&&s.wasReversed===l.wasReversed:!1}checkEqualitity(s,l){if(!s||!l)return;let c;return s.forEach((f,h)=>{l.forEach(m=>{f.getLeftChar().getValue()===m.getLeftChar().getValue()&&f.getRightChar().getValue()===m.getRightChar().getValue()&&f.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(c=!0)})}),c}}class _e extends tr{constructor(s){super(...arguments),this.pairs=new Array(_e.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,l,c){this.pairs.length=0,this.startFromEven=!1;try{return _e.constructResult(this.decodeRow2pairs(s,l))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,_e.constructResult(this.decodeRow2pairs(s,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,l){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,s))}catch(h){if(h instanceof se){if(!this.pairs.length)throw new se;c=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(s,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new se}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),l}checkRows(s,l){for(let c=l;c<this.rows.length;c++){let f=this.rows[c];this.pairs.length=0;for(let m of s)this.pairs.push(m.getPairs());if(this.pairs.push(f.getPairs()),!_e.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(f);try{return this.checkRows(h,c+1)}catch(m){this.verbose&&console.log(m)}}throw new se}static isValidSequence(s){for(let l of _e.FINDER_PATTERN_SEQUENCES){if(s.length>l.length)continue;let c=!0;for(let f=0;f<s.length;f++)if(s[f].getFinderPattern().getValue()!=l[f]){c=!1;break}if(c)return!0}return!1}storeRow(s,l){let c=0,f=!1,h=!1;for(;c<this.rows.length;){let m=this.rows[c];if(m.getRowNumber()>s){h=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),c++}h||f||_e.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new Hc(this.pairs,s,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,l){for(let c of l)if(c.getPairs().length!==s.length){for(let f of c.getPairs())for(let h of s)if(cs.equals(f,h))break}}static isPartialRow(s,l){for(let c of l){let f=!0;for(let h of s){let m=!1;for(let y of c.getPairs())if(h.equals(y)){m=!0;break}if(!m){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(s){let l=qc.buildBitArray(s),f=Fd(l).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),m=s[s.length-1].getFinderPattern().getResultPoints(),y=[h[0],h[1],m[0],m[1]];return new Xe(f,null,null,y,je.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),l=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let f=c.getChecksumPortion(),h=2;for(let y=1;y<this.pairs.size();++y){let C=this.pairs.get(y);f+=C.getLeftChar().getChecksumPortion(),h++;let E=C.getRightChar();E!=null&&(f+=E.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==l.getValue()}static getNextSecondBar(s,l){let c;return s.get(l)?(c=s.getNextUnset(l),c=s.getNextSet(c)):(c=s.getNextSet(l),c=s.getNextUnset(c)),c}retrieveNextPair(s,l,c){let f=l.length%2==0;this.startFromEven&&(f=!f);let h,m=!0,y=-1;do this.findNextPair(s,l,y),h=this.parseFoundFinderPattern(s,c,f),h==null?y=_e.getNextSecondBar(s,this.startEnd[0]):m=!1;while(m);let C=this.decodeDataCharacter(s,h,f,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new se;let E;try{E=this.decodeDataCharacter(s,h,f,!1)}catch(D){E=null,this.verbose&&console.log(D)}return new cs(C,E,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,l,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),m;c>=0?m=c:this.isEmptyPair(l)?m=0:m=l[l.length-1].getFinderPattern().getStartEnd()[1];let y=l.length%2!=0;this.startFromEven&&(y=!y);let C=!1;for(;m<h&&(C=!s.get(m),!!C);)m++;let E=0,D=m;for(let B=m;B<h;B++)if(s.get(B)!=C)f[E]++;else{if(E==3){if(y&&_e.reverseCounters(f),_e.isFinderPattern(f)){this.startEnd[0]=D,this.startEnd[1]=B;return}y&&_e.reverseCounters(f),D+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,E--}else E++;f[E]=1,C=!C}throw new se}static reverseCounters(s){let l=s.length;for(let c=0;c<l/2;++c){let f=s[c];s[c]=s[l-c-1],s[l-c-1]=f}}parseFoundFinderPattern(s,l,c){let f,h,m;if(c){let E=this.startEnd[0]-1;for(;E>=0&&!s.get(E);)E--;E++,f=this.startEnd[0]-E,h=E,m=this.startEnd[1]}else h=this.startEnd[0],m=s.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];let y=this.getDecodeFinderCounters();O.arraycopy(y,0,y,1,y.length-1),y[0]=f;let C;try{C=this.parseFinderValue(y,_e.FINDER_PATTERNS)}catch{return null}return new wl(C,[h,m],h,m,l)}decodeDataCharacter(s,l,c,f){let h=this.getDataCharacterCounters();for(let rn=0;rn<h.length;rn++)h[rn]=0;if(f)_e.recordPatternInReverse(s,l.getStartEnd()[0],h);else{_e.recordPattern(s,l.getStartEnd()[1],h);for(let rn=0,Nn=h.length-1;rn<Nn;rn++,Nn--){let dr=h[rn];h[rn]=h[Nn],h[Nn]=dr}}let m=17,y=Qe.sum(new Int32Array(h))/m,C=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(y-C)/C>.3)throw new se;let E=this.getOddCounts(),D=this.getEvenCounts(),B=this.getOddRoundingErrors(),W=this.getEvenRoundingErrors();for(let rn=0;rn<h.length;rn++){let Nn=1*h[rn]/y,dr=Nn+.5;if(dr<1){if(Nn<.3)throw new se;dr=1}else if(dr>8){if(Nn>8.7)throw new se;dr=8}let ei=rn/2;rn&1?(D[ei]=dr,W[ei]=Nn-dr):(E[ei]=dr,B[ei]=Nn-dr)}this.adjustOddEvenCounts(m);let Z=4*l.getValue()+(c?0:2)+(f?0:1)-1,z=0,$=0;for(let rn=E.length-1;rn>=0;rn--){if(_e.isNotA1left(l,c,f)){let Nn=_e.WEIGHTS[Z][2*rn];$+=E[rn]*Nn}z+=E[rn]}let Q=0;for(let rn=D.length-1;rn>=0;rn--)if(_e.isNotA1left(l,c,f)){let Nn=_e.WEIGHTS[Z][2*rn+1];Q+=D[rn]*Nn}let ne=$+Q;if(z&1||z>13||z<4)throw new se;let pe=(13-z)/2,ve=_e.SYMBOL_WIDEST[pe],ye=9-ve,Ge=ks.getRSSvalue(E,ve,!0),mt=ks.getRSSvalue(D,ye,!1),_r=_e.EVEN_TOTAL_SUBSET[pe],Cn=_e.GSUM[pe],sr=Ge*_r+mt+Cn;return new _a(sr,ne)}static isNotA1left(s,l,c){return!(s.getValue()==0&&l&&c)}adjustOddEvenCounts(s){let l=Qe.sum(new Int32Array(this.getOddCounts())),c=Qe.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;l>13?h=!0:l<4&&(f=!0);let m=!1,y=!1;c>13?y=!0:c<4&&(m=!0);let C=l+c-s,E=(l&1)==1,D=(c&1)==0;if(C==1)if(E){if(D)throw new se;h=!0}else{if(!D)throw new se;y=!0}else if(C==-1)if(E){if(D)throw new se;f=!0}else{if(!D)throw new se;m=!0}else if(C==0){if(E){if(!D)throw new se;l<c?(f=!0,y=!0):(h=!0,m=!0)}else if(D)throw new se}else throw new se;if(f){if(h)throw new se;_e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&_e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new se;_e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&_e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_e.SYMBOL_WIDEST=[7,5,4,3,1],_e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],_e.GSUM=[0,348,1388,2948,3988],_e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],_e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],_e.FINDER_PAT_A=0,_e.FINDER_PAT_B=1,_e.FINDER_PAT_C=2,_e.FINDER_PAT_D=3,_e.FINDER_PAT_E=4,_e.FINDER_PAT_F=5,_e.FINDER_PATTERN_SEQUENCES=[[_e.FINDER_PAT_A,_e.FINDER_PAT_A],[_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B],[_e.FINDER_PAT_A,_e.FINDER_PAT_C,_e.FINDER_PAT_B,_e.FINDER_PAT_D],[_e.FINDER_PAT_A,_e.FINDER_PAT_E,_e.FINDER_PAT_B,_e.FINDER_PAT_D,_e.FINDER_PAT_C],[_e.FINDER_PAT_A,_e.FINDER_PAT_E,_e.FINDER_PAT_B,_e.FINDER_PAT_D,_e.FINDER_PAT_D,_e.FINDER_PAT_F],[_e.FINDER_PAT_A,_e.FINDER_PAT_E,_e.FINDER_PAT_B,_e.FINDER_PAT_D,_e.FINDER_PAT_E,_e.FINDER_PAT_F,_e.FINDER_PAT_F],[_e.FINDER_PAT_A,_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B,_e.FINDER_PAT_C,_e.FINDER_PAT_C,_e.FINDER_PAT_D,_e.FINDER_PAT_D],[_e.FINDER_PAT_A,_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B,_e.FINDER_PAT_C,_e.FINDER_PAT_C,_e.FINDER_PAT_D,_e.FINDER_PAT_E,_e.FINDER_PAT_E],[_e.FINDER_PAT_A,_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B,_e.FINDER_PAT_C,_e.FINDER_PAT_C,_e.FINDER_PAT_D,_e.FINDER_PAT_E,_e.FINDER_PAT_F,_e.FINDER_PAT_F],[_e.FINDER_PAT_A,_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B,_e.FINDER_PAT_C,_e.FINDER_PAT_D,_e.FINDER_PAT_D,_e.FINDER_PAT_E,_e.FINDER_PAT_E,_e.FINDER_PAT_F,_e.FINDER_PAT_F]],_e.MAX_PAIRS=11;class bp extends _a{constructor(s,l,c){super(s,l),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class mn extends tr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,l,c){const f=this.decodePair(l,!1,s,c);mn.addOrTally(this.possibleLeftPairs,f),l.reverse();let h=this.decodePair(l,!0,s,c);mn.addOrTally(this.possibleRightPairs,h),l.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&mn.checkChecksum(m,y))return mn.constructResult(m,y)}throw new se}static addOrTally(s,l){if(l==null)return;let c=!1;for(let f of s)if(f.getValue()===l.getValue()){f.incrementCount(),c=!0;break}c||s.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,l){let c=4537077*s.getValue()+l.getValue(),f=new String(c).toString(),h=new ee;for(let E=13-f.length;E>0;E--)h.append("0");h.append(f);let m=0;for(let E=0;E<13;E++){let D=h.charAt(E).charCodeAt(0)-"0".charCodeAt(0);m+=E&1?D:3*D}m=10-m%10,m===10&&(m=0),h.append(m.toString());let y=s.getFinderPattern().getResultPoints(),C=l.getFinderPattern().getResultPoints();return new Xe(h.toString(),null,0,[y[0],y[1],C[0],C[1]],je.RSS_14,new Date().getTime())}static checkChecksum(s,l){let c=(s.getChecksumPortion()+16*l.getChecksumPortion())%79,f=9*s.getFinderPattern().getValue()+l.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,c===f}decodePair(s,l,c,f){try{let h=this.findFinderPattern(s,l),m=this.parseFoundFinderPattern(s,c,l,h),y=f==null?null:f.get(F.NEED_RESULT_POINT_CALLBACK);if(y!=null){let D=(h[0]+h[1])/2;l&&(D=s.getSize()-1-D),y.foundPossibleResultPoint(new Te(D,c))}let C=this.decodeDataCharacter(s,m,!0),E=this.decodeDataCharacter(s,m,!1);return new bp(1597*C.getValue()+E.getValue(),C.getChecksumPortion()+4*E.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(s,l,c){let f=this.getDataCharacterCounters();for(let Q=0;Q<f.length;Q++)f[Q]=0;if(c)on.recordPatternInReverse(s,l.getStartEnd()[0],f);else{on.recordPattern(s,l.getStartEnd()[1]+1,f);for(let Q=0,ne=f.length-1;Q<ne;Q++,ne--){let pe=f[Q];f[Q]=f[ne],f[ne]=pe}}let h=c?16:15,m=Qe.sum(new Int32Array(f))/h,y=this.getOddCounts(),C=this.getEvenCounts(),E=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Q=0;Q<f.length;Q++){let ne=f[Q]/m,pe=Math.floor(ne+.5);pe<1?pe=1:pe>8&&(pe=8);let ve=Math.floor(Q/2);Q&1?(C[ve]=pe,D[ve]=ne-pe):(y[ve]=pe,E[ve]=ne-pe)}this.adjustOddEvenCounts(c,h);let B=0,W=0;for(let Q=y.length-1;Q>=0;Q--)W*=9,W+=y[Q],B+=y[Q];let Z=0,z=0;for(let Q=C.length-1;Q>=0;Q--)Z*=9,Z+=C[Q],z+=C[Q];let $=W+3*Z;if(c){if(B&1||B>12||B<4)throw new se;let Q=(12-B)/2,ne=mn.OUTSIDE_ODD_WIDEST[Q],pe=9-ne,ve=ks.getRSSvalue(y,ne,!1),ye=ks.getRSSvalue(C,pe,!0),Ge=mn.OUTSIDE_EVEN_TOTAL_SUBSET[Q],mt=mn.OUTSIDE_GSUM[Q];return new _a(ve*Ge+ye+mt,$)}else{if(z&1||z>10||z<4)throw new se;let Q=(10-z)/2,ne=mn.INSIDE_ODD_WIDEST[Q],pe=9-ne,ve=ks.getRSSvalue(y,ne,!0),ye=ks.getRSSvalue(C,pe,!1),Ge=mn.INSIDE_ODD_TOTAL_SUBSET[Q],mt=mn.INSIDE_GSUM[Q];return new _a(ye*Ge+ve+mt,$)}}findFinderPattern(s,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=s.getSize(),h=!1,m=0;for(;m<f&&(h=!s.get(m),l!==h);)m++;let y=0,C=m;for(let E=m;E<f;E++)if(s.get(E)!==h)c[y]++;else{if(y===3){if(tr.isFinderPattern(c))return[C,E];C+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,y--}else y++;c[y]=1,h=!h}throw new se}parseFoundFinderPattern(s,l,c,f){let h=s.get(f[0]),m=f[0]-1;for(;m>=0&&h!==s.get(m);)m--;m++;const y=f[0]-m,C=this.getDecodeFinderCounters(),E=new Int32Array(C.length);O.arraycopy(C,0,E,1,C.length-1),E[0]=y;const D=this.parseFinderValue(E,mn.FINDER_PATTERNS);let B=m,W=f[1];return c&&(B=s.getSize()-1-B,W=s.getSize()-1-W),new wl(D,[m,f[1]],B,W,l)}adjustOddEvenCounts(s,l){let c=Qe.sum(new Int32Array(this.getOddCounts())),f=Qe.sum(new Int32Array(this.getEvenCounts())),h=!1,m=!1,y=!1,C=!1;s?(c>12?m=!0:c<4&&(h=!0),f>12?C=!0:f<4&&(y=!0)):(c>11?m=!0:c<5&&(h=!0),f>10?C=!0:f<4&&(y=!0));let E=c+f-l,D=(c&1)===(s?1:0),B=(f&1)===1;if(E===1)if(D){if(B)throw new se;m=!0}else{if(!B)throw new se;C=!0}else if(E===-1)if(D){if(B)throw new se;h=!0}else{if(!B)throw new se;y=!0}else if(E===0){if(D){if(!B)throw new se;c<f?(h=!0,C=!0):(m=!0,y=!0)}else if(B)throw new se}else throw new se;if(h){if(m)throw new se;tr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&tr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(C)throw new se;tr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&tr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}mn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],mn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],mn.OUTSIDE_GSUM=[0,161,961,2015,2715],mn.INSIDE_GSUM=[0,336,1036,1516],mn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],mn.INSIDE_ODD_WIDEST=[2,4,6,8],mn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Hi extends on{constructor(s,l){super(),this.readers=[],this.verbose=l===!0;const c=s?s.get(F.POSSIBLE_FORMATS):null,f=s&&s.get(F.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(je.EAN_13)||c.includes(je.UPC_A)||c.includes(je.EAN_8)||c.includes(je.UPC_E))&&this.readers.push(new zc(s)),c.includes(je.CODE_39)&&this.readers.push(new cn(f)),c.includes(je.CODE_128)&&this.readers.push(new Me),c.includes(je.ITF)&&this.readers.push(new Dt),c.includes(je.RSS_14)&&this.readers.push(new mn),c.includes(je.RSS_EXPANDED)&&this.readers.push(new _e(this.verbose))):(this.readers.push(new zc(s)),this.readers.push(new cn),this.readers.push(new zc(s)),this.readers.push(new Me),this.readers.push(new Dt),this.readers.push(new mn),this.readers.push(new _e(this.verbose)))}decodeRow(s,l,c){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(s,l,c)}catch{}throw new se}reset(){this.readers.forEach(s=>s.reset())}}class Bd extends ke{constructor(s=500,l){super(new Hi(l),s,l)}}class zt{constructor(s,l,c){this.ecCodewords=s,this.ecBlocks=[l],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Lt{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class St{constructor(s,l,c,f,h,m){this.versionNumber=s,this.symbolSizeRows=l,this.symbolSizeColumns=c,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=m;let y=0;const C=m.getECCodewords(),E=m.getECBlocks();for(let D of E)y+=D.getCount()*(D.getDataCodewords()+C);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,l){if(s&1||l&1)throw new R;for(let c of St.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===l)return c;throw new R}toString(){return""+this.versionNumber}static buildVersions(){return[new St(1,10,10,8,8,new zt(5,new Lt(1,3))),new St(2,12,12,10,10,new zt(7,new Lt(1,5))),new St(3,14,14,12,12,new zt(10,new Lt(1,8))),new St(4,16,16,14,14,new zt(12,new Lt(1,12))),new St(5,18,18,16,16,new zt(14,new Lt(1,18))),new St(6,20,20,18,18,new zt(18,new Lt(1,22))),new St(7,22,22,20,20,new zt(20,new Lt(1,30))),new St(8,24,24,22,22,new zt(24,new Lt(1,36))),new St(9,26,26,24,24,new zt(28,new Lt(1,44))),new St(10,32,32,14,14,new zt(36,new Lt(1,62))),new St(11,36,36,16,16,new zt(42,new Lt(1,86))),new St(12,40,40,18,18,new zt(48,new Lt(1,114))),new St(13,44,44,20,20,new zt(56,new Lt(1,144))),new St(14,48,48,22,22,new zt(68,new Lt(1,174))),new St(15,52,52,24,24,new zt(42,new Lt(2,102))),new St(16,64,64,14,14,new zt(56,new Lt(2,140))),new St(17,72,72,16,16,new zt(36,new Lt(4,92))),new St(18,80,80,18,18,new zt(48,new Lt(4,114))),new St(19,88,88,20,20,new zt(56,new Lt(4,144))),new St(20,96,96,22,22,new zt(68,new Lt(4,174))),new St(21,104,104,24,24,new zt(56,new Lt(6,136))),new St(22,120,120,18,18,new zt(68,new Lt(6,175))),new St(23,132,132,20,20,new zt(62,new Lt(8,163))),new St(24,144,144,22,22,new zt(62,new Lt(8,156),new Lt(2,155))),new St(25,8,18,6,16,new zt(7,new Lt(1,5))),new St(26,8,32,6,14,new zt(11,new Lt(1,10))),new St(27,12,26,10,24,new zt(14,new Lt(1,16))),new St(28,12,36,10,16,new zt(18,new Lt(1,22))),new St(29,16,36,14,16,new zt(24,new Lt(1,32))),new St(30,16,48,14,22,new zt(28,new Lt(1,49)))]}}St.VERSIONS=St.buildVersions();class Vc{constructor(s){const l=s.getHeight();if(l<8||l>144||l&1)throw new R;this.version=Vc.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const l=s.getHeight(),c=s.getWidth();return St.getVersionForDimensions(l,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let l=0,c=4,f=0;const h=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let y=!1,C=!1,E=!1,D=!1;do if(c===h&&f===0&&!y)s[l++]=this.readCorner1(h,m)&255,c-=2,f+=2,y=!0;else if(c===h-2&&f===0&&m&3&&!C)s[l++]=this.readCorner2(h,m)&255,c-=2,f+=2,C=!0;else if(c===h+4&&f===2&&!(m&7)&&!E)s[l++]=this.readCorner3(h,m)&255,c-=2,f+=2,E=!0;else if(c===h-2&&f===0&&(m&7)===4&&!D)s[l++]=this.readCorner4(h,m)&255,c-=2,f+=2,D=!0;else{do c<h&&f>=0&&!this.readMappingMatrix.get(f,c)&&(s[l++]=this.readUtah(c,f,h,m)&255),c-=2,f+=2;while(c>=0&&f<m);c+=1,f+=3;do c>=0&&f<m&&!this.readMappingMatrix.get(f,c)&&(s[l++]=this.readUtah(c,f,h,m)&255),c+=2,f-=2;while(c<h&&f>=0);c+=3,f+=1}while(c<h||f<m);if(l!==this.version.getTotalCodewords())throw new R;return s}readModule(s,l,c,f){return s<0&&(s+=c,l+=4-(c+4&7)),l<0&&(l+=f,s+=4-(f+4&7)),this.readMappingMatrix.set(l,s),this.mappingBitMatrix.get(l,s)}readUtah(s,l,c,f){let h=0;return this.readModule(s-2,l-2,c,f)&&(h|=1),h<<=1,this.readModule(s-2,l-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,l-2,c,f)&&(h|=1),h<<=1,this.readModule(s-1,l-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,l,c,f)&&(h|=1),h<<=1,this.readModule(s,l-2,c,f)&&(h|=1),h<<=1,this.readModule(s,l-1,c,f)&&(h|=1),h<<=1,this.readModule(s,l,c,f)&&(h|=1),h}readCorner1(s,l){let c=0;return this.readModule(s-1,0,s,l)&&(c|=1),c<<=1,this.readModule(s-1,1,s,l)&&(c|=1),c<<=1,this.readModule(s-1,2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-1,s,l)&&(c|=1),c<<=1,this.readModule(1,l-1,s,l)&&(c|=1),c<<=1,this.readModule(2,l-1,s,l)&&(c|=1),c<<=1,this.readModule(3,l-1,s,l)&&(c|=1),c}readCorner2(s,l){let c=0;return this.readModule(s-3,0,s,l)&&(c|=1),c<<=1,this.readModule(s-2,0,s,l)&&(c|=1),c<<=1,this.readModule(s-1,0,s,l)&&(c|=1),c<<=1,this.readModule(0,l-4,s,l)&&(c|=1),c<<=1,this.readModule(0,l-3,s,l)&&(c|=1),c<<=1,this.readModule(0,l-2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-1,s,l)&&(c|=1),c<<=1,this.readModule(1,l-1,s,l)&&(c|=1),c}readCorner3(s,l){let c=0;return this.readModule(s-1,0,s,l)&&(c|=1),c<<=1,this.readModule(s-1,l-1,s,l)&&(c|=1),c<<=1,this.readModule(0,l-3,s,l)&&(c|=1),c<<=1,this.readModule(0,l-2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-1,s,l)&&(c|=1),c<<=1,this.readModule(1,l-3,s,l)&&(c|=1),c<<=1,this.readModule(1,l-2,s,l)&&(c|=1),c<<=1,this.readModule(1,l-1,s,l)&&(c|=1),c}readCorner4(s,l){let c=0;return this.readModule(s-3,0,s,l)&&(c|=1),c<<=1,this.readModule(s-2,0,s,l)&&(c|=1),c<<=1,this.readModule(s-1,0,s,l)&&(c|=1),c<<=1,this.readModule(0,l-2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-1,s,l)&&(c|=1),c<<=1,this.readModule(1,l-1,s,l)&&(c|=1),c<<=1,this.readModule(2,l-1,s,l)&&(c|=1),c<<=1,this.readModule(3,l-1,s,l)&&(c|=1),c}extractDataRegion(s){const l=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==l)throw new N("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),m=l/f|0,y=c/h|0,C=m*f,E=y*h,D=new Ne(E,C);for(let B=0;B<m;++B){const W=B*f;for(let Z=0;Z<y;++Z){const z=Z*h;for(let $=0;$<f;++$){const Q=B*(f+2)+1+$,ne=W+$;for(let pe=0;pe<h;++pe){const ve=Z*(h+2)+1+pe;if(s.get(ve,Q)){const ye=z+pe;D.set(ye,ne)}}}}}return D}}class Cl{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l){const c=l.getECBlocks();let f=0;const h=c.getECBlocks();for(let $ of h)f+=$.getCount();const m=new Array(f);let y=0;for(let $ of h)for(let Q=0;Q<$.getCount();Q++){const ne=$.getDataCodewords(),pe=c.getECCodewords()+ne;m[y++]=new Cl(ne,new Uint8Array(pe))}const E=m[0].codewords.length-c.getECCodewords(),D=E-1;let B=0;for(let $=0;$<D;$++)for(let Q=0;Q<y;Q++)m[Q].codewords[$]=s[B++];const W=l.getVersionNumber()===24,Z=W?8:y;for(let $=0;$<Z;$++)m[$].codewords[E-1]=s[B++];const z=m[0].codewords.length;for(let $=E;$<z;$++)for(let Q=0;Q<y;Q++){const ne=W?(Q+8)%y:Q,pe=W&&ne>7?$-1:$;m[ne].codewords[pe]=s[B++]}if(B!==s.length)throw new N;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Nl{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new N(""+s);let l=0,c=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(c>0){const m=8-c,y=s<m?s:m,C=m-y,E=255>>8-y<<C;l=(h[f]&E)>>C,s-=y,c+=y,c===8&&(c=0,f++)}if(s>0){for(;s>=8;)l=l<<8|h[f]&255,f++,s-=8;if(s>0){const m=8-s,y=255>>m<<m;l=l<<s|(h[f]&y)>>m,c+=s}}return this.bitOffset=c,this.byteOffset=f,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var On;(function(P){P[P.PAD_ENCODE=0]="PAD_ENCODE",P[P.ASCII_ENCODE=1]="ASCII_ENCODE",P[P.C40_ENCODE=2]="C40_ENCODE",P[P.TEXT_ENCODE=3]="TEXT_ENCODE",P[P.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",P[P.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",P[P.BASE256_ENCODE=6]="BASE256_ENCODE"})(On||(On={}));class Is{static decode(s){const l=new Nl(s),c=new ee,f=new ee,h=new Array;let m=On.ASCII_ENCODE;do if(m===On.ASCII_ENCODE)m=this.decodeAsciiSegment(l,c,f);else{switch(m){case On.C40_ENCODE:this.decodeC40Segment(l,c);break;case On.TEXT_ENCODE:this.decodeTextSegment(l,c);break;case On.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,c);break;case On.EDIFACT_ENCODE:this.decodeEdifactSegment(l,c);break;case On.BASE256_ENCODE:this.decodeBase256Segment(l,c,h);break;default:throw new R}m=On.ASCII_ENCODE}while(m!==On.PAD_ENCODE&&l.available()>0);return f.length()>0&&c.append(f.toString()),new Yt(s,c.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,l,c){let f=!1;do{let h=s.readBits(8);if(h===0)throw new R;if(h<=128)return f&&(h+=128),l.append(String.fromCharCode(h-1)),On.ASCII_ENCODE;if(h===129)return On.PAD_ENCODE;if(h<=229){const m=h-130;m<10&&l.append("0"),l.append(""+m)}else switch(h){case 230:return On.C40_ENCODE;case 231:return On.BASE256_ENCODE;case 232:l.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:f=!0;break;case 236:l.append("[)>05"),c.insert(0,"");break;case 237:l.append("[)>06"),c.insert(0,"");break;case 238:return On.ANSIX12_ENCODE;case 239:return On.TEXT_ENCODE;case 240:return On.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new R;break}}while(s.available()>0);return On.ASCII_ENCODE}static decodeC40Segment(s,l){let c=!1;const f=[];let h=0;do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),f);for(let y=0;y<3;y++){const C=f[y];switch(h){case 0:if(C<3)h=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[C];c?(l.append(String.fromCharCode(E.charCodeAt(0)+128)),c=!1):l.append(E)}else throw new R;break;case 1:c?(l.append(String.fromCharCode(C+128)),c=!1):l.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[C];c?(l.append(String.fromCharCode(E.charCodeAt(0)+128)),c=!1):l.append(E)}else switch(C){case 27:l.append(String.fromCharCode(29));break;case 30:c=!0;break;default:throw new R}h=0;break;case 3:c?(l.append(String.fromCharCode(C+224)),c=!1):l.append(String.fromCharCode(C+96)),h=0;break;default:throw new R}}}while(s.available()>0)}static decodeTextSegment(s,l){let c=!1,f=[],h=0;do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),f);for(let y=0;y<3;y++){const C=f[y];switch(h){case 0:if(C<3)h=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[C];c?(l.append(String.fromCharCode(E.charCodeAt(0)+128)),c=!1):l.append(E)}else throw new R;break;case 1:c?(l.append(String.fromCharCode(C+128)),c=!1):l.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[C];c?(l.append(String.fromCharCode(E.charCodeAt(0)+128)),c=!1):l.append(E)}else switch(C){case 27:l.append(String.fromCharCode(29));break;case 30:c=!0;break;default:throw new R}h=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[C];c?(l.append(String.fromCharCode(E.charCodeAt(0)+128)),c=!1):l.append(E),h=0}else throw new R;break;default:throw new R}}}while(s.available()>0)}static decodeAnsiX12Segment(s,l){const c=[];do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let h=0;h<3;h++){const m=c[h];switch(m){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(m<14)l.append(String.fromCharCode(m+44));else if(m<40)l.append(String.fromCharCode(m+51));else throw new R;break}}}while(s.available()>0)}static parseTwoBytes(s,l,c){let f=(s<<8)+l-1,h=Math.floor(f/1600);c[0]=h,f-=h*1600,h=Math.floor(f/40),c[1]=h,c[2]=f-h*40}static decodeEdifactSegment(s,l){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let f=s.readBits(6);if(f===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}f&32||(f|=64),l.append(String.fromCharCode(f))}}while(s.available()>0)}static decodeBase256Segment(s,l,c){let f=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),f++);let m;if(h===0?m=s.available()/8|0:h<250?m=h:m=250*(h-249)+this.unrandomize255State(s.readBits(8),f++),m<0)throw new R;const y=new Uint8Array(m);for(let C=0;C<m;C++){if(s.available()<8)throw new R;y[C]=this.unrandomize255State(s.readBits(8),f++)}c.push(y);try{l.append(de.decode(y,re.ISO88591))}catch(C){throw new Rt("Platform does not support required encoding: "+C.message)}}static unrandomize255State(s,l){const c=149*l%255+1,f=s-c;return f>=0?f:f+256}}Is.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Is.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Is.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Is.TEXT_SHIFT2_SET_CHARS=Is.C40_SHIFT2_SET_CHARS,Is.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Cp{constructor(){this.rsDecoder=new we(Ee.DATA_MATRIX_FIELD_256)}decode(s){const l=new Vc(s),c=l.getVersion(),f=l.readCodewords(),h=Cl.getDataBlocks(f,c);let m=0;for(let E of h)m+=E.getNumDataCodewords();const y=new Uint8Array(m),C=h.length;for(let E=0;E<C;E++){const D=h[E],B=D.getCodewords(),W=D.getNumDataCodewords();this.correctErrors(B,W);for(let Z=0;Z<W;Z++)y[Z*C+E]=B[Z]}return Is.decode(y)}correctErrors(s,l){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-l)}catch{throw new k}for(let f=0;f<l;f++)s[f]=c[f]}}class wn{constructor(s){this.image=s,this.rectangleDetector=new Pe(this.image)}detect(){const s=this.rectangleDetector.detect();let l=this.detectSolid1(s);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new se;l=this.shiftToModuleCenter(l);const c=l[0],f=l[1],h=l[2],m=l[3];let y=this.transitionsBetween(c,m)+1,C=this.transitionsBetween(h,m)+1;(y&1)===1&&(y+=1),(C&1)===1&&(C+=1),4*y<7*C&&4*C<7*y&&(y=C=Math.max(y,C));let E=wn.sampleGrid(this.image,c,f,h,m,y,C);return new yn(E,[c,f,h,m])}static shiftPoint(s,l,c){let f=(l.getX()-s.getX())/(c+1),h=(l.getY()-s.getY())/(c+1);return new Te(s.getX()+f,s.getY()+h)}static moveAway(s,l,c){let f=s.getX(),h=s.getY();return f<l?f-=1:f+=1,h<c?h-=1:h+=1,new Te(f,h)}detectSolid1(s){let l=s[0],c=s[1],f=s[3],h=s[2],m=this.transitionsBetween(l,c),y=this.transitionsBetween(c,f),C=this.transitionsBetween(f,h),E=this.transitionsBetween(h,l),D=m,B=[h,l,c,f];return D>y&&(D=y,B[0]=l,B[1]=c,B[2]=f,B[3]=h),D>C&&(D=C,B[0]=c,B[1]=f,B[2]=h,B[3]=l),D>E&&(B[0]=f,B[1]=h,B[2]=l,B[3]=c),B}detectSolid2(s){let l=s[0],c=s[1],f=s[2],h=s[3],m=this.transitionsBetween(l,h),y=wn.shiftPoint(c,f,(m+1)*4),C=wn.shiftPoint(f,c,(m+1)*4),E=this.transitionsBetween(y,l),D=this.transitionsBetween(C,h);return E<D?(s[0]=l,s[1]=c,s[2]=f,s[3]=h):(s[0]=c,s[1]=f,s[2]=h,s[3]=l),s}correctTopRight(s){let l=s[0],c=s[1],f=s[2],h=s[3],m=this.transitionsBetween(l,h),y=this.transitionsBetween(c,h),C=wn.shiftPoint(l,c,(y+1)*4),E=wn.shiftPoint(f,c,(m+1)*4);m=this.transitionsBetween(C,h),y=this.transitionsBetween(E,h);let D=new Te(h.getX()+(f.getX()-c.getX())/(m+1),h.getY()+(f.getY()-c.getY())/(m+1)),B=new Te(h.getX()+(l.getX()-c.getX())/(y+1),h.getY()+(l.getY()-c.getY())/(y+1));if(!this.isValid(D))return this.isValid(B)?B:null;if(!this.isValid(B))return D;let W=this.transitionsBetween(C,D)+this.transitionsBetween(E,D),Z=this.transitionsBetween(C,B)+this.transitionsBetween(E,B);return W>Z?D:B}shiftToModuleCenter(s){let l=s[0],c=s[1],f=s[2],h=s[3],m=this.transitionsBetween(l,h)+1,y=this.transitionsBetween(f,h)+1,C=wn.shiftPoint(l,c,y*4),E=wn.shiftPoint(f,c,m*4);m=this.transitionsBetween(C,h)+1,y=this.transitionsBetween(E,h)+1,(m&1)===1&&(m+=1),(y&1)===1&&(y+=1);let D=(l.getX()+c.getX()+f.getX()+h.getX())/4,B=(l.getY()+c.getY()+f.getY()+h.getY())/4;l=wn.moveAway(l,D,B),c=wn.moveAway(c,D,B),f=wn.moveAway(f,D,B),h=wn.moveAway(h,D,B);let W,Z;return C=wn.shiftPoint(l,c,y*4),C=wn.shiftPoint(C,h,m*4),W=wn.shiftPoint(c,l,y*4),W=wn.shiftPoint(W,f,m*4),E=wn.shiftPoint(f,h,y*4),E=wn.shiftPoint(E,c,m*4),Z=wn.shiftPoint(h,f,y*4),Z=wn.shiftPoint(Z,l,m*4),[C,W,E,Z]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,l,c,f,h,m,y){return Jt.getInstance().sampleGrid(s,m,y,.5,.5,m-.5,.5,m-.5,y-.5,.5,y-.5,l.getX(),l.getY(),h.getX(),h.getY(),f.getX(),f.getY(),c.getX(),c.getY())}transitionsBetween(s,l){let c=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.trunc(l.getX()),m=Math.trunc(l.getY()),y=Math.abs(m-f)>Math.abs(h-c);if(y){let $=c;c=f,f=$,$=h,h=m,m=$}let C=Math.abs(h-c),E=Math.abs(m-f),D=-C/2,B=f<m?1:-1,W=c<h?1:-1,Z=0,z=this.image.get(y?f:c,y?c:f);for(let $=c,Q=f;$!==h;$+=W){let ne=this.image.get(y?Q:$,y?$:Q);if(ne!==z&&(Z++,z=ne),D+=E,D>0){if(Q===m)break;Q+=B,D-=C}}return Z}}class us{constructor(){this.decoder=new Cp}decode(s,l=null){let c,f;if(l!=null&&l.has(F.PURE_BARCODE)){const E=us.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(E),f=us.NO_POINTS}else{const E=new wn(s.getBlackMatrix()).detect();c=this.decoder.decode(E.getBits()),f=E.getPoints()}const h=c.getRawBytes(),m=new Xe(c.getText(),h,8*h.length,f,je.DATA_MATRIX,O.currentTimeMillis()),y=c.getByteSegments();y!=null&&m.putMetadata(at.BYTE_SEGMENTS,y);const C=c.getECLevel();return C!=null&&m.putMetadata(at.ERROR_CORRECTION_LEVEL,C),m}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(l==null||c==null)throw new se;const f=this.moduleSize(l,s);let h=l[1];const m=c[1];let y=l[0];const E=(c[0]-y+1)/f,D=(m-h+1)/f;if(E<=0||D<=0)throw new se;const B=f/2;h+=B,y+=B;const W=new Ne(E,D);for(let Z=0;Z<D;Z++){const z=h+Z*f;for(let $=0;$<E;$++)s.get(y+$*f,z)&&W.set($,Z)}return W}static moduleSize(s,l){const c=l.getWidth();let f=s[0];const h=s[1];for(;f<c&&l.get(f,h);)f++;if(f===c)throw new se;const m=f-s[0];if(m===0)throw new se;return m}}us.NO_POINTS=[];class Ud extends ke{constructor(s=500){super(new us,s)}}var ka;(function(P){P[P.L=0]="L",P[P.M=1]="M",P[P.Q=2]="Q",P[P.H=3]="H"})(ka||(ka={}));class tn{constructor(s,l,c){this.value=s,this.stringValue=l,this.bits=c,tn.FOR_BITS.set(c,this),tn.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return tn.L;case"M":return tn.M;case"Q":return tn.Q;case"H":return tn.H;default:throw new w(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof tn))return!1;const l=s;return this.value===l.value}static forBits(s){if(s<0||s>=tn.FOR_BITS.size)throw new N;return tn.FOR_BITS.get(s)}}tn.FOR_BITS=new Map,tn.FOR_VALUE=new Map,tn.L=new tn(ka.L,"L",1),tn.M=new tn(ka.M,"M",0),tn.Q=new tn(ka.Q,"Q",3),tn.H=new tn(ka.H,"H",2);class nr{constructor(s){this.errorCorrectionLevel=tn.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,l){return I.bitCount(s^l)}static decodeFormatInformation(s,l){const c=nr.doDecodeFormatInformation(s,l);return c!==null?c:nr.doDecodeFormatInformation(s^nr.FORMAT_INFO_MASK_QR,l^nr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,l){let c=Number.MAX_SAFE_INTEGER,f=0;for(const h of nr.FORMAT_INFO_DECODE_LOOKUP){const m=h[0];if(m===s||m===l)return new nr(h[1]);let y=nr.numBitsDiffering(s,m);y<c&&(f=h[1],c=y),s!==l&&(y=nr.numBitsDiffering(l,m),y<c&&(f=h[1],c=y))}return c<=3?new nr(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof nr))return!1;const l=s;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}nr.FORMAT_INFO_MASK_QR=21522,nr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ce{constructor(s,...l){this.ecCodewordsPerBlock=s,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const l=this.ecBlocks;for(const c of l)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class K{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Je{constructor(s,l,...c){this.versionNumber=s,this.alignmentPatternCenters=l,this.ecBlocks=c;let f=0;const h=c[0].getECCodewordsPerBlock(),m=c[0].getECBlocks();for(const y of m)f+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new R;try{return this.getVersionForNumber((s-17)/4)}catch{throw new R}}static getVersionForNumber(s){if(s<1||s>40)throw new N;return Je.VERSIONS[s-1]}static decodeVersionInformation(s){let l=Number.MAX_SAFE_INTEGER,c=0;for(let f=0;f<Je.VERSION_DECODE_INFO.length;f++){const h=Je.VERSION_DECODE_INFO[f];if(h===s)return Je.getVersionForNumber(f+7);const m=nr.numBitsDiffering(s,h);m<l&&(c=f+7,l=m)}return l<=3?Je.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),l=new Ne(s);l.setRegion(0,0,9,9),l.setRegion(s-8,0,8,9),l.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let f=0;f<c;f++){const h=this.alignmentPatternCenters[f]-2;for(let m=0;m<c;m++)f===0&&(m===0||m===c-1)||f===c-1&&m===0||l.setRegion(this.alignmentPatternCenters[m]-2,h,5,5)}return l.setRegion(6,9,1,s-17),l.setRegion(9,6,s-17,1),this.versionNumber>6&&(l.setRegion(s-11,0,3,6),l.setRegion(0,s-11,6,3)),l}toString(){return""+this.versionNumber}}Je.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Je.VERSIONS=[new Je(1,new Int32Array(0),new ce(7,new K(1,19)),new ce(10,new K(1,16)),new ce(13,new K(1,13)),new ce(17,new K(1,9))),new Je(2,Int32Array.from([6,18]),new ce(10,new K(1,34)),new ce(16,new K(1,28)),new ce(22,new K(1,22)),new ce(28,new K(1,16))),new Je(3,Int32Array.from([6,22]),new ce(15,new K(1,55)),new ce(26,new K(1,44)),new ce(18,new K(2,17)),new ce(22,new K(2,13))),new Je(4,Int32Array.from([6,26]),new ce(20,new K(1,80)),new ce(18,new K(2,32)),new ce(26,new K(2,24)),new ce(16,new K(4,9))),new Je(5,Int32Array.from([6,30]),new ce(26,new K(1,108)),new ce(24,new K(2,43)),new ce(18,new K(2,15),new K(2,16)),new ce(22,new K(2,11),new K(2,12))),new Je(6,Int32Array.from([6,34]),new ce(18,new K(2,68)),new ce(16,new K(4,27)),new ce(24,new K(4,19)),new ce(28,new K(4,15))),new Je(7,Int32Array.from([6,22,38]),new ce(20,new K(2,78)),new ce(18,new K(4,31)),new ce(18,new K(2,14),new K(4,15)),new ce(26,new K(4,13),new K(1,14))),new Je(8,Int32Array.from([6,24,42]),new ce(24,new K(2,97)),new ce(22,new K(2,38),new K(2,39)),new ce(22,new K(4,18),new K(2,19)),new ce(26,new K(4,14),new K(2,15))),new Je(9,Int32Array.from([6,26,46]),new ce(30,new K(2,116)),new ce(22,new K(3,36),new K(2,37)),new ce(20,new K(4,16),new K(4,17)),new ce(24,new K(4,12),new K(4,13))),new Je(10,Int32Array.from([6,28,50]),new ce(18,new K(2,68),new K(2,69)),new ce(26,new K(4,43),new K(1,44)),new ce(24,new K(6,19),new K(2,20)),new ce(28,new K(6,15),new K(2,16))),new Je(11,Int32Array.from([6,30,54]),new ce(20,new K(4,81)),new ce(30,new K(1,50),new K(4,51)),new ce(28,new K(4,22),new K(4,23)),new ce(24,new K(3,12),new K(8,13))),new Je(12,Int32Array.from([6,32,58]),new ce(24,new K(2,92),new K(2,93)),new ce(22,new K(6,36),new K(2,37)),new ce(26,new K(4,20),new K(6,21)),new ce(28,new K(7,14),new K(4,15))),new Je(13,Int32Array.from([6,34,62]),new ce(26,new K(4,107)),new ce(22,new K(8,37),new K(1,38)),new ce(24,new K(8,20),new K(4,21)),new ce(22,new K(12,11),new K(4,12))),new Je(14,Int32Array.from([6,26,46,66]),new ce(30,new K(3,115),new K(1,116)),new ce(24,new K(4,40),new K(5,41)),new ce(20,new K(11,16),new K(5,17)),new ce(24,new K(11,12),new K(5,13))),new Je(15,Int32Array.from([6,26,48,70]),new ce(22,new K(5,87),new K(1,88)),new ce(24,new K(5,41),new K(5,42)),new ce(30,new K(5,24),new K(7,25)),new ce(24,new K(11,12),new K(7,13))),new Je(16,Int32Array.from([6,26,50,74]),new ce(24,new K(5,98),new K(1,99)),new ce(28,new K(7,45),new K(3,46)),new ce(24,new K(15,19),new K(2,20)),new ce(30,new K(3,15),new K(13,16))),new Je(17,Int32Array.from([6,30,54,78]),new ce(28,new K(1,107),new K(5,108)),new ce(28,new K(10,46),new K(1,47)),new ce(28,new K(1,22),new K(15,23)),new ce(28,new K(2,14),new K(17,15))),new Je(18,Int32Array.from([6,30,56,82]),new ce(30,new K(5,120),new K(1,121)),new ce(26,new K(9,43),new K(4,44)),new ce(28,new K(17,22),new K(1,23)),new ce(28,new K(2,14),new K(19,15))),new Je(19,Int32Array.from([6,30,58,86]),new ce(28,new K(3,113),new K(4,114)),new ce(26,new K(3,44),new K(11,45)),new ce(26,new K(17,21),new K(4,22)),new ce(26,new K(9,13),new K(16,14))),new Je(20,Int32Array.from([6,34,62,90]),new ce(28,new K(3,107),new K(5,108)),new ce(26,new K(3,41),new K(13,42)),new ce(30,new K(15,24),new K(5,25)),new ce(28,new K(15,15),new K(10,16))),new Je(21,Int32Array.from([6,28,50,72,94]),new ce(28,new K(4,116),new K(4,117)),new ce(26,new K(17,42)),new ce(28,new K(17,22),new K(6,23)),new ce(30,new K(19,16),new K(6,17))),new Je(22,Int32Array.from([6,26,50,74,98]),new ce(28,new K(2,111),new K(7,112)),new ce(28,new K(17,46)),new ce(30,new K(7,24),new K(16,25)),new ce(24,new K(34,13))),new Je(23,Int32Array.from([6,30,54,78,102]),new ce(30,new K(4,121),new K(5,122)),new ce(28,new K(4,47),new K(14,48)),new ce(30,new K(11,24),new K(14,25)),new ce(30,new K(16,15),new K(14,16))),new Je(24,Int32Array.from([6,28,54,80,106]),new ce(30,new K(6,117),new K(4,118)),new ce(28,new K(6,45),new K(14,46)),new ce(30,new K(11,24),new K(16,25)),new ce(30,new K(30,16),new K(2,17))),new Je(25,Int32Array.from([6,32,58,84,110]),new ce(26,new K(8,106),new K(4,107)),new ce(28,new K(8,47),new K(13,48)),new ce(30,new K(7,24),new K(22,25)),new ce(30,new K(22,15),new K(13,16))),new Je(26,Int32Array.from([6,30,58,86,114]),new ce(28,new K(10,114),new K(2,115)),new ce(28,new K(19,46),new K(4,47)),new ce(28,new K(28,22),new K(6,23)),new ce(30,new K(33,16),new K(4,17))),new Je(27,Int32Array.from([6,34,62,90,118]),new ce(30,new K(8,122),new K(4,123)),new ce(28,new K(22,45),new K(3,46)),new ce(30,new K(8,23),new K(26,24)),new ce(30,new K(12,15),new K(28,16))),new Je(28,Int32Array.from([6,26,50,74,98,122]),new ce(30,new K(3,117),new K(10,118)),new ce(28,new K(3,45),new K(23,46)),new ce(30,new K(4,24),new K(31,25)),new ce(30,new K(11,15),new K(31,16))),new Je(29,Int32Array.from([6,30,54,78,102,126]),new ce(30,new K(7,116),new K(7,117)),new ce(28,new K(21,45),new K(7,46)),new ce(30,new K(1,23),new K(37,24)),new ce(30,new K(19,15),new K(26,16))),new Je(30,Int32Array.from([6,26,52,78,104,130]),new ce(30,new K(5,115),new K(10,116)),new ce(28,new K(19,47),new K(10,48)),new ce(30,new K(15,24),new K(25,25)),new ce(30,new K(23,15),new K(25,16))),new Je(31,Int32Array.from([6,30,56,82,108,134]),new ce(30,new K(13,115),new K(3,116)),new ce(28,new K(2,46),new K(29,47)),new ce(30,new K(42,24),new K(1,25)),new ce(30,new K(23,15),new K(28,16))),new Je(32,Int32Array.from([6,34,60,86,112,138]),new ce(30,new K(17,115)),new ce(28,new K(10,46),new K(23,47)),new ce(30,new K(10,24),new K(35,25)),new ce(30,new K(19,15),new K(35,16))),new Je(33,Int32Array.from([6,30,58,86,114,142]),new ce(30,new K(17,115),new K(1,116)),new ce(28,new K(14,46),new K(21,47)),new ce(30,new K(29,24),new K(19,25)),new ce(30,new K(11,15),new K(46,16))),new Je(34,Int32Array.from([6,34,62,90,118,146]),new ce(30,new K(13,115),new K(6,116)),new ce(28,new K(14,46),new K(23,47)),new ce(30,new K(44,24),new K(7,25)),new ce(30,new K(59,16),new K(1,17))),new Je(35,Int32Array.from([6,30,54,78,102,126,150]),new ce(30,new K(12,121),new K(7,122)),new ce(28,new K(12,47),new K(26,48)),new ce(30,new K(39,24),new K(14,25)),new ce(30,new K(22,15),new K(41,16))),new Je(36,Int32Array.from([6,24,50,76,102,128,154]),new ce(30,new K(6,121),new K(14,122)),new ce(28,new K(6,47),new K(34,48)),new ce(30,new K(46,24),new K(10,25)),new ce(30,new K(2,15),new K(64,16))),new Je(37,Int32Array.from([6,28,54,80,106,132,158]),new ce(30,new K(17,122),new K(4,123)),new ce(28,new K(29,46),new K(14,47)),new ce(30,new K(49,24),new K(10,25)),new ce(30,new K(24,15),new K(46,16))),new Je(38,Int32Array.from([6,32,58,84,110,136,162]),new ce(30,new K(4,122),new K(18,123)),new ce(28,new K(13,46),new K(32,47)),new ce(30,new K(48,24),new K(14,25)),new ce(30,new K(42,15),new K(32,16))),new Je(39,Int32Array.from([6,26,54,82,110,138,166]),new ce(30,new K(20,117),new K(4,118)),new ce(28,new K(40,47),new K(7,48)),new ce(30,new K(43,24),new K(22,25)),new ce(30,new K(10,15),new K(67,16))),new Je(40,Int32Array.from([6,30,58,86,114,142,170]),new ce(30,new K(19,118),new K(6,119)),new ce(28,new K(18,47),new K(31,48)),new ce(30,new K(34,24),new K(34,25)),new ce(30,new K(20,15),new K(61,16)))];var Mn;(function(P){P[P.DATA_MASK_000=0]="DATA_MASK_000",P[P.DATA_MASK_001=1]="DATA_MASK_001",P[P.DATA_MASK_010=2]="DATA_MASK_010",P[P.DATA_MASK_011=3]="DATA_MASK_011",P[P.DATA_MASK_100=4]="DATA_MASK_100",P[P.DATA_MASK_101=5]="DATA_MASK_101",P[P.DATA_MASK_110=6]="DATA_MASK_110",P[P.DATA_MASK_111=7]="DATA_MASK_111"})(Mn||(Mn={}));class Er{constructor(s,l){this.value=s,this.isMasked=l}unmaskBitMatrix(s,l){for(let c=0;c<l;c++)for(let f=0;f<l;f++)this.isMasked(c,f)&&s.flip(f,c)}}Er.values=new Map([[Mn.DATA_MASK_000,new Er(Mn.DATA_MASK_000,(P,s)=>(P+s&1)===0)],[Mn.DATA_MASK_001,new Er(Mn.DATA_MASK_001,(P,s)=>(P&1)===0)],[Mn.DATA_MASK_010,new Er(Mn.DATA_MASK_010,(P,s)=>s%3===0)],[Mn.DATA_MASK_011,new Er(Mn.DATA_MASK_011,(P,s)=>(P+s)%3===0)],[Mn.DATA_MASK_100,new Er(Mn.DATA_MASK_100,(P,s)=>(Math.floor(P/2)+Math.floor(s/3)&1)===0)],[Mn.DATA_MASK_101,new Er(Mn.DATA_MASK_101,(P,s)=>P*s%6===0)],[Mn.DATA_MASK_110,new Er(Mn.DATA_MASK_110,(P,s)=>P*s%6<3)],[Mn.DATA_MASK_111,new Er(Mn.DATA_MASK_111,(P,s)=>(P+s+P*s%3&1)===0)]]);class Ta{constructor(s){const l=s.getHeight();if(l<21||(l&3)!==1)throw new R;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const l=this.bitMatrix.getHeight();let c=0;const f=l-7;for(let h=l-1;h>=f;h--)c=this.copyBit(8,h,c);for(let h=l-8;h<l;h++)c=this.copyBit(h,8,c);if(this.parsedFormatInfo=nr.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new R}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),l=Math.floor((s-17)/4);if(l<=6)return Je.getVersionForNumber(l);let c=0;const f=s-11;for(let m=5;m>=0;m--)for(let y=s-9;y>=f;y--)c=this.copyBit(y,m,c);let h=Je.decodeVersionInformation(c);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;c=0;for(let m=5;m>=0;m--)for(let y=s-9;y>=f;y--)c=this.copyBit(m,y,c);if(h=Je.decodeVersionInformation(c),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new R}copyBit(s,l,c){return(this.isMirror?this.bitMatrix.get(l,s):this.bitMatrix.get(s,l))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),l=this.readVersion(),c=Er.values.get(s.getDataMask()),f=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,f);const h=l.buildFunctionPattern();let m=!0;const y=new Uint8Array(l.getTotalCodewords());let C=0,E=0,D=0;for(let B=f-1;B>0;B-=2){B===6&&B--;for(let W=0;W<f;W++){const Z=m?f-1-W:W;for(let z=0;z<2;z++)h.get(B-z,Z)||(D++,E<<=1,this.bitMatrix.get(B-z,Z)&&(E|=1),D===8&&(y[C++]=E,D=0,E=0))}m=!m}if(C!==l.getTotalCodewords())throw new R;return y}remask(){if(this.parsedFormatInfo===null)return;const s=Er.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let l=0,c=s.getWidth();l<c;l++)for(let f=l+1,h=s.getHeight();f<h;f++)s.get(l,f)!==s.get(f,l)&&(s.flip(f,l),s.flip(l,f))}}class El{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l,c){if(s.length!==l.getTotalCodewords())throw new N;const f=l.getECBlocksForLevel(c);let h=0;const m=f.getECBlocks();for(const z of m)h+=z.getCount();const y=new Array(h);let C=0;for(const z of m)for(let $=0;$<z.getCount();$++){const Q=z.getDataCodewords(),ne=f.getECCodewordsPerBlock()+Q;y[C++]=new El(Q,new Uint8Array(ne))}const E=y[0].codewords.length;let D=y.length-1;for(;D>=0&&y[D].codewords.length!==E;)D--;D++;const B=E-f.getECCodewordsPerBlock();let W=0;for(let z=0;z<B;z++)for(let $=0;$<C;$++)y[$].codewords[z]=s[W++];for(let z=D;z<C;z++)y[z].codewords[B]=s[W++];const Z=y[0].codewords.length;for(let z=B;z<Z;z++)for(let $=0;$<C;$++){const Q=$<D?z:z+1;y[$].codewords[Q]=s[W++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Lr;(function(P){P[P.TERMINATOR=0]="TERMINATOR",P[P.NUMERIC=1]="NUMERIC",P[P.ALPHANUMERIC=2]="ALPHANUMERIC",P[P.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",P[P.BYTE=4]="BYTE",P[P.ECI=5]="ECI",P[P.KANJI=6]="KANJI",P[P.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",P[P.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",P[P.HANZI=9]="HANZI"})(Lr||(Lr={}));class rt{constructor(s,l,c,f){this.value=s,this.stringValue=l,this.characterCountBitsForVersions=c,this.bits=f,rt.FOR_BITS.set(f,this),rt.FOR_VALUE.set(s,this)}static forBits(s){const l=rt.FOR_BITS.get(s);if(l===void 0)throw new N;return l}getCharacterCountBits(s){const l=s.getVersionNumber();let c;return l<=9?c=0:l<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof rt))return!1;const l=s;return this.value===l.value}toString(){return this.stringValue}}rt.FOR_BITS=new Map,rt.FOR_VALUE=new Map,rt.TERMINATOR=new rt(Lr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rt.NUMERIC=new rt(Lr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rt.ALPHANUMERIC=new rt(Lr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rt.STRUCTURED_APPEND=new rt(Lr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rt.BYTE=new rt(Lr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rt.ECI=new rt(Lr.ECI,"ECI",Int32Array.from([0,0,0]),7),rt.KANJI=new rt(Lr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rt.FNC1_FIRST_POSITION=new rt(Lr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rt.FNC1_SECOND_POSITION=new rt(Lr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rt.HANZI=new rt(Lr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class fn{static decode(s,l,c,f){const h=new Nl(s);let m=new ee;const y=new Array;let C=-1,E=-1;try{let D=null,B=!1,W;do{if(h.available()<4)W=rt.TERMINATOR;else{const Z=h.readBits(4);W=rt.forBits(Z)}switch(W){case rt.TERMINATOR:break;case rt.FNC1_FIRST_POSITION:case rt.FNC1_SECOND_POSITION:B=!0;break;case rt.STRUCTURED_APPEND:if(h.available()<16)throw new R;C=h.readBits(8),E=h.readBits(8);break;case rt.ECI:const Z=fn.parseECIValue(h);if(D=V.getCharacterSetECIByValue(Z),D===null)throw new R;break;case rt.HANZI:const z=h.readBits(4),$=h.readBits(W.getCharacterCountBits(l));z===fn.GB2312_SUBSET&&fn.decodeHanziSegment(h,m,$);break;default:const Q=h.readBits(W.getCharacterCountBits(l));switch(W){case rt.NUMERIC:fn.decodeNumericSegment(h,m,Q);break;case rt.ALPHANUMERIC:fn.decodeAlphanumericSegment(h,m,Q,B);break;case rt.BYTE:fn.decodeByteSegment(h,m,Q,D,y,f);break;case rt.KANJI:fn.decodeKanjiSegment(h,m,Q);break;default:throw new R}break}}while(W!==rt.TERMINATOR)}catch{throw new R}return new Yt(s,m.toString(),y.length===0?null:y,c===null?null:c.toString(),C,E)}static decodeHanziSegment(s,l,c){if(c*13>s.available())throw new R;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const m=s.readBits(13);let y=m/96<<8&4294967295|m%96;y<959?y+=41377:y+=42657,f[h]=y>>8&255,f[h+1]=y&255,h+=2,c--}try{l.append(de.decode(f,re.GB2312))}catch(m){throw new R(m)}}static decodeKanjiSegment(s,l,c){if(c*13>s.available())throw new R;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const m=s.readBits(13);let y=m/192<<8&4294967295|m%192;y<7936?y+=33088:y+=49472,f[h]=y>>8,f[h+1]=y,h+=2,c--}try{l.append(de.decode(f,re.SHIFT_JIS))}catch(m){throw new R(m)}}static decodeByteSegment(s,l,c,f,h,m){if(8*c>s.available())throw new R;const y=new Uint8Array(c);for(let E=0;E<c;E++)y[E]=s.readBits(8);let C;f===null?C=re.guessEncoding(y,m):C=f.getName();try{l.append(de.decode(y,C))}catch(E){throw new R(E)}h.push(y)}static toAlphaNumericChar(s){if(s>=fn.ALPHANUMERIC_CHARS.length)throw new R;return fn.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,l,c,f){const h=l.length();for(;c>1;){if(s.available()<11)throw new R;const m=s.readBits(11);l.append(fn.toAlphaNumericChar(Math.floor(m/45))),l.append(fn.toAlphaNumericChar(m%45)),c-=2}if(c===1){if(s.available()<6)throw new R;l.append(fn.toAlphaNumericChar(s.readBits(6)))}if(f)for(let m=h;m<l.length();m++)l.charAt(m)==="%"&&(m<l.length()-1&&l.charAt(m+1)==="%"?l.deleteCharAt(m+1):l.setCharAt(m,String.fromCharCode(29)))}static decodeNumericSegment(s,l,c){for(;c>=3;){if(s.available()<10)throw new R;const f=s.readBits(10);if(f>=1e3)throw new R;l.append(fn.toAlphaNumericChar(Math.floor(f/100))),l.append(fn.toAlphaNumericChar(Math.floor(f/10)%10)),l.append(fn.toAlphaNumericChar(f%10)),c-=3}if(c===2){if(s.available()<7)throw new R;const f=s.readBits(7);if(f>=100)throw new R;l.append(fn.toAlphaNumericChar(Math.floor(f/10))),l.append(fn.toAlphaNumericChar(f%10))}else if(c===1){if(s.available()<4)throw new R;const f=s.readBits(4);if(f>=10)throw new R;l.append(fn.toAlphaNumericChar(f))}}static parseECIValue(s){const l=s.readBits(8);if(!(l&128))return l&127;if((l&192)===128){const c=s.readBits(8);return(l&63)<<8&4294967295|c}if((l&224)===192){const c=s.readBits(16);return(l&31)<<16&4294967295|c}throw new R}}fn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",fn.GB2312_SUBSET=1;class Yc{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const l=s[0];s[0]=s[2],s[2]=l}}class zd{constructor(){this.rsDecoder=new we(Ee.QR_CODE_FIELD_256)}decodeBooleanArray(s,l){return this.decodeBitMatrix(Ne.parseFromBooleanArray(s),l)}decodeBitMatrix(s,l){const c=new Ta(s);let f=null;try{return this.decodeBitMatrixParser(c,l)}catch(h){f=h}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const h=this.decodeBitMatrixParser(c,l);return h.setOther(new Yc(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(s,l){const c=s.readVersion(),f=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),m=El.getDataBlocks(h,c,f);let y=0;for(const D of m)y+=D.getNumDataCodewords();const C=new Uint8Array(y);let E=0;for(const D of m){const B=D.getCodewords(),W=D.getNumDataCodewords();this.correctErrors(B,W);for(let Z=0;Z<W;Z++)C[E++]=B[Z]}return fn.decode(C,c,f,l)}correctErrors(s,l){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-l)}catch{throw new k}for(let f=0;f<l;f++)s[f]=c[f]}}class Sl extends Te{constructor(s,l,c){super(s,l),this.estimatedModuleSize=c}aboutEquals(s,l,c){if(Math.abs(l-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,l,c){const f=(this.getX()+l)/2,h=(this.getY()+s)/2,m=(this.estimatedModuleSize+c)/2;return new Sl(f,h,m)}}class _l{constructor(s,l,c,f,h,m,y){this.image=s,this.startX=l,this.startY=c,this.width=f,this.height=h,this.moduleSize=m,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,l=this.height,c=this.width,f=s+c,h=this.startY+l/2,m=new Int32Array(3),y=this.image;for(let C=0;C<l;C++){const E=h+(C&1?-Math.floor((C+1)/2):Math.floor((C+1)/2));m[0]=0,m[1]=0,m[2]=0;let D=s;for(;D<f&&!y.get(D,E);)D++;let B=0;for(;D<f;){if(y.get(D,E))if(B===1)m[1]++;else if(B===2){if(this.foundPatternCross(m)){const W=this.handlePossibleCenter(m,E,D);if(W!==null)return W}m[0]=m[2],m[1]=1,m[2]=0,B=1}else m[++B]++;else B===1&&B++,m[B]++;D++}if(this.foundPatternCross(m)){const W=this.handlePossibleCenter(m,E,f);if(W!==null)return W}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new se}static centerFromEnd(s,l){return l-s[2]-s[1]/2}foundPatternCross(s){const l=this.moduleSize,c=l/2;for(let f=0;f<3;f++)if(Math.abs(l-s[f])>=c)return!1;return!0}crossCheckVertical(s,l,c,f){const h=this.image,m=h.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let C=s;for(;C>=0&&h.get(l,C)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&!h.get(l,C)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<m&&h.get(l,C)&&y[1]<=c;)y[1]++,C++;if(C===m||y[1]>c)return NaN;for(;C<m&&!h.get(l,C)&&y[2]<=c;)y[2]++,C++;if(y[2]>c)return NaN;const E=y[0]+y[1]+y[2];return 5*Math.abs(E-f)>=2*f?NaN:this.foundPatternCross(y)?_l.centerFromEnd(y,C):NaN}handlePossibleCenter(s,l,c){const f=s[0]+s[1]+s[2],h=_l.centerFromEnd(s,c),m=this.crossCheckVertical(l,h,2*s[1],f);if(!isNaN(m)){const y=(s[0]+s[1]+s[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(y,m,h))return E.combineEstimate(m,h,y);const C=new Sl(h,m,y);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class $c extends Te{constructor(s,l,c,f){super(s,l),this.estimatedModuleSize=c,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,l,c){if(Math.abs(l-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,l,c){const f=this.count+1,h=(this.count*this.getX()+l)/f,m=(this.count*this.getY()+s)/f,y=(this.count*this.estimatedModuleSize+c)/f;return new $c(h,m,y,f)}}class Np{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Wn{constructor(s,l){this.image=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const l=s!=null&&s.get(F.TRY_HARDER)!==void 0,c=s!=null&&s.get(F.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),m=f.getWidth();let y=Math.floor(3*h/(4*Wn.MAX_MODULES));(y<Wn.MIN_SKIP||l)&&(y=Wn.MIN_SKIP);let C=!1;const E=new Int32Array(5);for(let B=y-1;B<h&&!C;B+=y){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let W=0;for(let Z=0;Z<m;Z++)if(f.get(Z,B))(W&1)===1&&W++,E[W]++;else if(W&1)E[W]++;else if(W===4)if(Wn.foundPatternCross(E)){if(this.handlePossibleCenter(E,B,Z,c)===!0)if(y=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>E[2]&&(B+=$-E[2]-y,Z=m-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,W=3;continue}W=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,W=3;else E[++W]++;Wn.foundPatternCross(E)&&this.handlePossibleCenter(E,B,m,c)===!0&&(y=E[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return Te.orderBestPatterns(D),new Np(D)}static centerFromEnd(s,l){return l-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let l=0;for(let h=0;h<5;h++){const m=s[h];if(m===0)return!1;l+=m}if(l<7)return!1;const c=l/7,f=c/2;return Math.abs(c-s[0])<f&&Math.abs(c-s[1])<f&&Math.abs(3*c-s[2])<3*f&&Math.abs(c-s[3])<f&&Math.abs(c-s[4])<f}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,l,c,f){const h=this.getCrossCheckStateCount();let m=0;const y=this.image;for(;s>=m&&l>=m&&y.get(l-m,s-m);)h[2]++,m++;if(s<m||l<m)return!1;for(;s>=m&&l>=m&&!y.get(l-m,s-m)&&h[1]<=c;)h[1]++,m++;if(s<m||l<m||h[1]>c)return!1;for(;s>=m&&l>=m&&y.get(l-m,s-m)&&h[0]<=c;)h[0]++,m++;if(h[0]>c)return!1;const C=y.getHeight(),E=y.getWidth();for(m=1;s+m<C&&l+m<E&&y.get(l+m,s+m);)h[2]++,m++;if(s+m>=C||l+m>=E)return!1;for(;s+m<C&&l+m<E&&!y.get(l+m,s+m)&&h[3]<c;)h[3]++,m++;if(s+m>=C||l+m>=E||h[3]>=c)return!1;for(;s+m<C&&l+m<E&&y.get(l+m,s+m)&&h[4]<c;)h[4]++,m++;if(h[4]>=c)return!1;const D=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(D-f)<2*f&&Wn.foundPatternCross(h)}crossCheckVertical(s,l,c,f){const h=this.image,m=h.getHeight(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&h.get(l,C);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(l,C)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&h.get(l,C)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<m&&h.get(l,C);)y[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(l,C)&&y[3]<c;)y[3]++,C++;if(C===m||y[3]>=c)return NaN;for(;C<m&&h.get(l,C)&&y[4]<c;)y[4]++,C++;if(y[4]>=c)return NaN;const E=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(E-f)>=2*f?NaN:Wn.foundPatternCross(y)?Wn.centerFromEnd(y,C):NaN}crossCheckHorizontal(s,l,c,f){const h=this.image,m=h.getWidth(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&h.get(C,l);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(C,l)&&y[1]<=c;)y[1]++,C--;if(C<0||y[1]>c)return NaN;for(;C>=0&&h.get(C,l)&&y[0]<=c;)y[0]++,C--;if(y[0]>c)return NaN;for(C=s+1;C<m&&h.get(C,l);)y[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(C,l)&&y[3]<c;)y[3]++,C++;if(C===m||y[3]>=c)return NaN;for(;C<m&&h.get(C,l)&&y[4]<c;)y[4]++,C++;if(y[4]>=c)return NaN;const E=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(E-f)>=f?NaN:Wn.foundPatternCross(y)?Wn.centerFromEnd(y,C):NaN}handlePossibleCenter(s,l,c,f){const h=s[0]+s[1]+s[2]+s[3]+s[4];let m=Wn.centerFromEnd(s,c),y=this.crossCheckVertical(l,Math.floor(m),s[2],h);if(!isNaN(y)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(y),s[2],h),!isNaN(m)&&(!f||this.crossCheckDiagonal(Math.floor(y),Math.floor(m),s[2],h)))){const C=h/7;let E=!1;const D=this.possibleCenters;for(let B=0,W=D.length;B<W;B++){const Z=D[B];if(Z.aboutEquals(C,y,m)){D[B]=Z.combineEstimate(y,m,C),E=!0;break}}if(!E){const B=new $c(m,y,C);D.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const c of this.possibleCenters)if(c.getCount()>=Wn.CENTER_QUORUM)if(l==null)l=c;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-c.getX())-Math.abs(l.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,l=0;const c=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=Wn.CENTER_QUORUM&&(s++,l+=m.getEstimatedModuleSize());if(s<3)return!1;const f=l/c;let h=0;for(const m of this.possibleCenters)h+=Math.abs(m.getEstimatedModuleSize()-f);return h<=.05*l}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new se;const l=this.possibleCenters;let c;if(s>3){let f=0,h=0;for(const C of this.possibleCenters){const E=C.getEstimatedModuleSize();f+=E,h+=E*E}c=f/s;let m=Math.sqrt(h/s-c*c);l.sort((C,E)=>{const D=Math.abs(E.getEstimatedModuleSize()-c),B=Math.abs(C.getEstimatedModuleSize()-c);return D<B?-1:D>B?1:0});const y=Math.max(.2*c,m);for(let C=0;C<l.length&&l.length>3;C++){const E=l[C];Math.abs(E.getEstimatedModuleSize()-c)>y&&(l.splice(C,1),C--)}}if(l.length>3){let f=0;for(const h of l)f+=h.getEstimatedModuleSize();c=f/l.length,l.sort((h,m)=>{if(m.getCount()===h.getCount()){const y=Math.abs(m.getEstimatedModuleSize()-c),C=Math.abs(h.getEstimatedModuleSize()-c);return y<C?1:y>C?-1:0}else return m.getCount()-h.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}Wn.CENTER_QUORUM=2,Wn.MIN_SKIP=3,Wn.MAX_MODULES=57;class So{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(F.NEED_RESULT_POINT_CALLBACK);const c=new Wn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const l=s.getTopLeft(),c=s.getTopRight(),f=s.getBottomLeft(),h=this.calculateModuleSize(l,c,f);if(h<1)throw new se("No pattern found in proccess finder.");const m=So.computeDimension(l,c,f,h),y=Je.getProvisionalVersionForDimension(m),C=y.getDimensionForVersion()-7;let E=null;if(y.getAlignmentPatternCenters().length>0){const Z=c.getX()-l.getX()+f.getX(),z=c.getY()-l.getY()+f.getY(),$=1-3/C,Q=Math.floor(l.getX()+$*(Z-l.getX())),ne=Math.floor(l.getY()+$*(z-l.getY()));for(let pe=4;pe<=16;pe<<=1)try{E=this.findAlignmentInRegion(h,Q,ne,pe);break}catch(ve){if(!(ve instanceof se))throw ve}}const D=So.createTransform(l,c,f,E,m),B=So.sampleGrid(this.image,D,m);let W;return E===null?W=[f,l,c]:W=[f,l,c,E],new yn(B,W)}static createTransform(s,l,c,f,h){const m=h-3.5;let y,C,E,D;return f!==null?(y=f.getX(),C=f.getY(),E=m-3,D=E):(y=l.getX()-s.getX()+c.getX(),C=l.getY()-s.getY()+c.getY(),E=m,D=m),Ot.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,E,D,3.5,m,s.getX(),s.getY(),l.getX(),l.getY(),y,C,c.getX(),c.getY())}static sampleGrid(s,l,c){return Jt.getInstance().sampleGridWithTransform(s,c,c,l)}static computeDimension(s,l,c,f){const h=Qe.round(Te.distance(s,l)/f),m=Qe.round(Te.distance(s,c)/f);let y=Math.floor((h+m)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new se("Dimensions could be not found.")}return y}calculateModuleSize(s,l,c){return(this.calculateModuleSizeOneWay(s,l)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,l){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(l.getX()),Math.floor(l.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?f/7:isNaN(f)?c/7:(c+f)/14}sizeOfBlackWhiteBlackRunBothWays(s,l,c,f){let h=this.sizeOfBlackWhiteBlackRun(s,l,c,f),m=1,y=s-(c-s);y<0?(m=s/(s-y),y=0):y>=this.image.getWidth()&&(m=(this.image.getWidth()-1-s)/(y-s),y=this.image.getWidth()-1);let C=Math.floor(l-(f-l)*m);return m=1,C<0?(m=l/(l-C),C=0):C>=this.image.getHeight()&&(m=(this.image.getHeight()-1-l)/(C-l),C=this.image.getHeight()-1),y=Math.floor(s+(y-s)*m),h+=this.sizeOfBlackWhiteBlackRun(s,l,y,C),h-1}sizeOfBlackWhiteBlackRun(s,l,c,f){const h=Math.abs(f-l)>Math.abs(c-s);if(h){let Z=s;s=l,l=Z,Z=c,c=f,f=Z}const m=Math.abs(c-s),y=Math.abs(f-l);let C=-m/2;const E=s<c?1:-1,D=l<f?1:-1;let B=0;const W=c+E;for(let Z=s,z=l;Z!==W;Z+=E){const $=h?z:Z,Q=h?Z:z;if(B===1===this.image.get($,Q)){if(B===2)return Qe.distance(Z,z,s,l);B++}if(C+=y,C>0){if(z===f)break;z+=D,C-=m}}return B===2?Qe.distance(c+E,f,s,l):NaN}findAlignmentInRegion(s,l,c,f){const h=Math.floor(f*s),m=Math.max(0,l-h),y=Math.min(this.image.getWidth()-1,l+h);if(y-m<s*3)throw new se("Alignment top exceeds estimated module size.");const C=Math.max(0,c-h),E=Math.min(this.image.getHeight()-1,c+h);if(E-C<s*3)throw new se("Alignment bottom exceeds estimated module size.");return new _l(this.image,m,C,y-m,E-C,s,this.resultPointCallback).find()}}class yi{constructor(){this.decoder=new zd}getDecoder(){return this.decoder}decode(s,l){let c,f;if(l!=null&&l.get(F.PURE_BARCODE)!==void 0){const C=yi.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(C,l),f=yi.NO_POINTS}else{const C=new So(s.getBlackMatrix()).detect(l);c=this.decoder.decodeBitMatrix(C.getBits(),l),f=C.getPoints()}c.getOther()instanceof Yc&&c.getOther().applyMirroredCorrection(f);const h=new Xe(c.getText(),c.getRawBytes(),void 0,f,je.QR_CODE,void 0),m=c.getByteSegments();m!==null&&h.putMetadata(at.BYTE_SEGMENTS,m);const y=c.getECLevel();return y!==null&&h.putMetadata(at.ERROR_CORRECTION_LEVEL,y),c.hasStructuredAppend()&&(h.putMetadata(at.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),h.putMetadata(at.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(l===null||c===null)throw new se;const f=this.moduleSize(l,s);let h=l[1],m=c[1],y=l[0],C=c[0];if(y>=C||h>=m)throw new se;if(m-h!==C-y&&(C=y+(m-h),C>=s.getWidth()))throw new se;const E=Math.round((C-y+1)/f),D=Math.round((m-h+1)/f);if(E<=0||D<=0)throw new se;if(D!==E)throw new se;const B=Math.floor(f/2);h+=B,y+=B;const W=y+Math.floor((E-1)*f)-C;if(W>0){if(W>B)throw new se;y-=W}const Z=h+Math.floor((D-1)*f)-m;if(Z>0){if(Z>B)throw new se;h-=Z}const z=new Ne(E,D);for(let $=0;$<D;$++){const Q=h+Math.floor($*f);for(let ne=0;ne<E;ne++)s.get(y+Math.floor(ne*f),Q)&&z.set(ne,$)}return z}static moduleSize(s,l){const c=l.getHeight(),f=l.getWidth();let h=s[0],m=s[1],y=!0,C=0;for(;h<f&&m<c;){if(y!==l.get(h,m)){if(++C===5)break;y=!y}h++,m++}if(h===f||m===c)throw new se;return(h-s[0])/7}}yi.NO_POINTS=new Array;class ot{PDF417Common(){}static getBitCountSum(s){return Qe.sum(s)}static toIntArray(s){if(s==null||!s.length)return ot.EMPTY_INT_ARRAY;const l=new Int32Array(s.length);let c=0;for(const f of s)l[c++]=f;return l}static getCodeword(s){const l=A.binarySearch(ot.SYMBOL_TABLE,s&262143);return l<0?-1:(ot.CODEWORD_TABLE[l]-1)%ot.NUMBER_OF_CODEWORDS}}ot.NUMBER_OF_CODEWORDS=929,ot.MAX_CODEWORDS_IN_BARCODE=ot.NUMBER_OF_CODEWORDS-1,ot.MIN_ROWS_IN_BARCODE=3,ot.MAX_ROWS_IN_BARCODE=90,ot.MODULES_IN_CODEWORD=17,ot.MODULES_IN_STOP_PATTERN=18,ot.BARS_IN_MODULE=8,ot.EMPTY_INT_ARRAY=new Int32Array([]),ot.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ot.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ep{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class xt{static detectMultiple(s,l,c){let f=s.getBlackMatrix(),h=xt.detect(c,f);return h.length||(f=f.clone(),f.rotate180(),h=xt.detect(c,f)),new Ep(f,h)}static detect(s,l){const c=new Array;let f=0,h=0,m=!1;for(;f<l.getHeight();){const y=xt.findVertices(l,f,h);if(y[0]==null&&y[3]==null){if(!m)break;m=!1,h=0;for(const C of c)C[1]!=null&&(f=Math.trunc(Math.max(f,C[1].getY()))),C[3]!=null&&(f=Math.max(f,Math.trunc(C[3].getY())));f+=xt.ROW_STEP;continue}if(m=!0,c.push(y),!s)break;y[2]!=null?(h=Math.trunc(y[2].getX()),f=Math.trunc(y[2].getY())):(h=Math.trunc(y[4].getX()),f=Math.trunc(y[4].getY()))}return c}static findVertices(s,l,c){const f=s.getHeight(),h=s.getWidth(),m=new Array(8);return xt.copyToResult(m,xt.findRowsWithPattern(s,f,h,l,c,xt.START_PATTERN),xt.INDEXES_START_PATTERN),m[4]!=null&&(c=Math.trunc(m[4].getX()),l=Math.trunc(m[4].getY())),xt.copyToResult(m,xt.findRowsWithPattern(s,f,h,l,c,xt.STOP_PATTERN),xt.INDEXES_STOP_PATTERN),m}static copyToResult(s,l,c){for(let f=0;f<c.length;f++)s[c[f]]=l[f]}static findRowsWithPattern(s,l,c,f,h,m){const y=new Array(4);let C=!1;const E=new Int32Array(m.length);for(;f<l;f+=xt.ROW_STEP){let B=xt.findGuardPattern(s,h,f,c,!1,m,E);if(B!=null){for(;f>0;){const W=xt.findGuardPattern(s,h,--f,c,!1,m,E);if(W!=null)B=W;else{f++;break}}y[0]=new Te(B[0],f),y[1]=new Te(B[1],f),C=!0;break}}let D=f+1;if(C){let B=0,W=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;D<l;D++){const Z=xt.findGuardPattern(s,W[0],D,c,!1,m,E);if(Z!=null&&Math.abs(W[0]-Z[0])<xt.MAX_PATTERN_DRIFT&&Math.abs(W[1]-Z[1])<xt.MAX_PATTERN_DRIFT)W=Z,B=0;else{if(B>xt.SKIPPED_ROW_COUNT_MAX)break;B++}}D-=B+1,y[2]=new Te(W[0],D),y[3]=new Te(W[1],D)}return D-f<xt.BARCODE_MIN_HEIGHT&&A.fill(y,null),y}static findGuardPattern(s,l,c,f,h,m,y){A.fillWithin(y,0,y.length,0);let C=l,E=0;for(;s.get(C,c)&&C>0&&E++<xt.MAX_PIXEL_DRIFT;)C--;let D=C,B=0,W=m.length;for(let Z=h;D<f;D++)if(s.get(D,c)!==Z)y[B]++;else{if(B===W-1){if(xt.patternMatchVariance(y,m,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return new Int32Array([C,D]);C+=y[0]+y[1],O.arraycopy(y,2,y,0,B-1),y[B-1]=0,y[B]=0,B--}else B++;y[B]=1,Z=!Z}return B===W-1&&xt.patternMatchVariance(y,m,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE?new Int32Array([C,D-1]):null}static patternMatchVariance(s,l,c){let f=s.length,h=0,m=0;for(let E=0;E<f;E++)h+=s[E],m+=l[E];if(h<m)return 1/0;let y=h/m;c*=y;let C=0;for(let E=0;E<f;E++){let D=s[E],B=l[E]*y,W=D>B?D-B:B-D;if(W>c)return 1/0;C+=W}return C/h}}xt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),xt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),xt.MAX_AVG_VARIANCE=.42,xt.MAX_INDIVIDUAL_VARIANCE=.8,xt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),xt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),xt.MAX_PIXEL_DRIFT=3,xt.MAX_PATTERN_DRIFT=5,xt.SKIPPED_ROW_COUNT_MAX=25,xt.ROW_STEP=5,xt.BARCODE_MIN_HEIGHT=10;class rr{constructor(s,l){if(l.length===0)throw new N;this.field=s;let c=l.length;if(c>1&&l[0]===0){let f=1;for(;f<c&&l[f]===0;)f++;f===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-f),O.arraycopy(l,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let l=this.coefficients[0],c=this.coefficients.length;for(let f=1;f<c;f++)l=this.field.add(this.field.multiply(s,l),this.coefficients[f]);return l}add(s){if(!this.field.equals(s.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,c=s.coefficients;if(l.length>c.length){let m=l;l=c,c=m}let f=new Int32Array(c.length),h=c.length-l.length;O.arraycopy(c,0,f,0,h);for(let m=h;m<c.length;m++)f[m]=this.field.add(l[m-h],c[m]);return new rr(this.field,f)}subtract(s){if(!this.field.equals(s.field))throw new N("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof rr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new rr(this.field,new Int32Array([0]));let l=this.coefficients,c=l.length,f=s.coefficients,h=f.length,m=new Int32Array(c+h-1);for(let y=0;y<c;y++){let C=l[y];for(let E=0;E<h;E++)m[y+E]=this.field.add(m[y+E],this.field.multiply(C,f[E]))}return new rr(this.field,m)}negative(){let s=this.coefficients.length,l=new Int32Array(s);for(let c=0;c<s;c++)l[c]=this.field.subtract(0,this.coefficients[c]);return new rr(this.field,l)}multiplyScalar(s){if(s===0)return new rr(this.field,new Int32Array([0]));if(s===1)return this;let l=this.coefficients.length,c=new Int32Array(l);for(let f=0;f<l;f++)c[f]=this.field.multiply(this.coefficients[f],s);return new rr(this.field,c)}multiplyByMonomial(s,l){if(s<0)throw new N;if(l===0)return new rr(this.field,new Int32Array([0]));let c=this.coefficients.length,f=new Int32Array(c+s);for(let h=0;h<c;h++)f[h]=this.field.multiply(this.coefficients[h],l);return new rr(this.field,f)}toString(){let s=new ee;for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(l===0||c!==1)&&s.append(c),l!==0&&(l===1?s.append("x"):(s.append("x^"),s.append(l))))}return s.toString()}}class Sp{add(s,l){return(s+l)%this.modulus}subtract(s,l){return(this.modulus+s-l)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new N;return this.logTable[s]}inverse(s){if(s===0)throw new Ht;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Gc extends Sp{constructor(s,l){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let f=0;f<s;f++)this.expTable[f]=c,c=c*l%s;for(let f=0;f<s-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new rr(this,new Int32Array([0])),this.one=new rr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new N;if(l===0)return this.zero;let c=new Int32Array(s+1);return c[0]=l,new rr(this,c)}}Gc.PDF417_GF=new Gc(ot.NUMBER_OF_CODEWORDS,3);class qd{constructor(){this.field=Gc.PDF417_GF}decode(s,l,c){let f=new rr(this.field,s),h=new Int32Array(l),m=!1;for(let z=l;z>0;z--){let $=f.evaluateAt(this.field.exp(z));h[l-z]=$,$!==0&&(m=!0)}if(!m)return 0;let y=this.field.getOne();if(c!=null)for(const z of c){let $=this.field.exp(s.length-1-z),Q=new rr(this.field,new Int32Array([this.field.subtract(0,$),1]));y=y.multiply(Q)}let C=new rr(this.field,h),E=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),C,l),D=E[0],B=E[1],W=this.findErrorLocations(D),Z=this.findErrorMagnitudes(B,D,W);for(let z=0;z<W.length;z++){let $=s.length-1-this.field.log(W[z]);if($<0)throw k.getChecksumInstance();s[$]=this.field.subtract(s[$],Z[z])}return W.length}runEuclideanAlgorithm(s,l,c){if(s.getDegree()<l.getDegree()){let W=s;s=l,l=W}let f=s,h=l,m=this.field.getZero(),y=this.field.getOne();for(;h.getDegree()>=Math.round(c/2);){let W=f,Z=m;if(f=h,m=y,f.isZero())throw k.getChecksumInstance();h=W;let z=this.field.getZero(),$=f.getCoefficient(f.getDegree()),Q=this.field.inverse($);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let ne=h.getDegree()-f.getDegree(),pe=this.field.multiply(h.getCoefficient(h.getDegree()),Q);z=z.add(this.field.buildMonomial(ne,pe)),h=h.subtract(f.multiplyByMonomial(ne,pe))}y=z.multiply(m).subtract(Z).negative()}let C=y.getCoefficient(0);if(C===0)throw k.getChecksumInstance();let E=this.field.inverse(C),D=y.multiply(E),B=h.multiply(E);return[D,B]}findErrorLocations(s){let l=s.getDegree(),c=new Int32Array(l),f=0;for(let h=1;h<this.field.getSize()&&f<l;h++)s.evaluateAt(h)===0&&(c[f]=this.field.inverse(h),f++);if(f!==l)throw k.getChecksumInstance();return c}findErrorMagnitudes(s,l,c){let f=l.getDegree(),h=new Int32Array(f);for(let E=1;E<=f;E++)h[f-E]=this.field.multiply(E,l.getCoefficient(E));let m=new rr(this.field,h),y=c.length,C=new Int32Array(y);for(let E=0;E<y;E++){let D=this.field.inverse(c[E]),B=this.field.subtract(0,s.evaluateAt(D)),W=this.field.inverse(m.evaluateAt(D));C[E]=this.field.multiply(B,W)}return C}}class Vi{constructor(s,l,c,f,h){s instanceof Vi?this.constructor_2(s):this.constructor_1(s,l,c,f,h)}constructor_1(s,l,c,f,h){const m=l==null||c==null,y=f==null||h==null;if(m&&y)throw new se;m?(l=new Te(0,f.getY()),c=new Te(0,h.getY())):y&&(f=new Te(s.getWidth()-1,l.getY()),h=new Te(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=l,this.bottomLeft=c,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(l.getX(),c.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(l.getY(),f.getY())),this.maxY=Math.trunc(Math.max(c.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,l){return s==null?l:l==null?s:new Vi(s.image,s.topLeft,s.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(s,l,c){let f=this.topLeft,h=this.bottomLeft,m=this.topRight,y=this.bottomRight;if(s>0){let C=c?this.topLeft:this.topRight,E=Math.trunc(C.getY()-s);E<0&&(E=0);let D=new Te(C.getX(),E);c?f=D:m=D}if(l>0){let C=c?this.bottomLeft:this.bottomRight,E=Math.trunc(C.getY()+l);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let D=new Te(C.getX(),E);c?h=D:y=D}return new Vi(this.image,f,h,m,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class un{constructor(s,l,c,f){this.columnCount=s,this.errorCorrectionLevel=f,this.rowCountUpperPart=l,this.rowCountLowerPart=c,this.rowCount=l+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class qt{constructor(){this.buffer=""}static form(s,l){let c=-1;function f(m,y,C,E,D,B){if(m==="%%")return"%";if(l[++c]===void 0)return;m=E?parseInt(E.substr(1)):void 0;let W=D?parseInt(D.substr(1)):void 0,Z;switch(B){case"s":Z=l[c];break;case"c":Z=l[c][0];break;case"f":Z=parseFloat(l[c]).toFixed(m);break;case"p":Z=parseFloat(l[c]).toPrecision(m);break;case"e":Z=parseFloat(l[c]).toExponential(m);break;case"x":Z=parseInt(l[c]).toString(W||16);break;case"d":Z=parseFloat(parseInt(l[c],W||10).toPrecision(m)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(W);let z=parseInt(C),$=C&&C[0]+""=="0"?"0":" ";for(;Z.length<z;)Z=y!==void 0?Z+$:$+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}format(s,...l){this.buffer+=qt.form(s,l)}toString(){return this.buffer}}class _o{constructor(s){this.boundingBox=new Vi(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let l=this.getCodeword(s);if(l!=null)return l;for(let c=1;c<_o.MAX_NEARBY_DISTANCE;c++){let f=this.imageRowToCodewordIndex(s)-c;if(f>=0&&(l=this.codewords[f],l!=null)||(f=this.imageRowToCodewordIndex(s)+c,f<this.codewords.length&&(l=this.codewords[f],l!=null)))return l}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,l){this.codewords[this.imageRowToCodewordIndex(s)]=l}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new qt;let l=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",l++);continue}s.format("%3d: %3d|%3d%n",l++,c.getRowNumber(),c.getValue())}return s.toString()}}_o.MAX_NEARBY_DISTANCE=5;class jo{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let l=this.values.get(s);l==null&&(l=0),l++,this.values.set(s,l)}getValue(){let s=-1,l=new Array;for(const[c,f]of this.values.entries()){const h={getKey:()=>c,getValue:()=>f};h.getValue()>s?(s=h.getValue(),l=[],l.push(h.getKey())):h.getValue()===s&&l.push(h.getKey())}return ot.toIntArray(l)}getConfidence(s){return this.values.get(s)}}class Wd extends _o{constructor(s,l){super(s),this._isLeft=l}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,s);let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),C=-1,E=1,D=0;for(let B=m;B<y;B++){if(l[B]==null)continue;let W=l[B],Z=W.getRowNumber()-C;if(Z===0)D++;else if(Z===1)E=Math.max(E,D),D=1,C=W.getRowNumber();else if(Z<0||W.getRowNumber()>=s.getRowCount()||Z>B)l[B]=null;else{let z;E>2?z=(E-2)*Z:z=Z;let $=z>=B;for(let Q=1;Q<=z&&!$;Q++)$=l[B-Q]!=null;$?l[B]=null:(C=W.getRowNumber(),D=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let l=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=l.length)continue;l[f]++}return l}adjustIncompleteIndicatorColumnRowNumbers(s){let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.getCodewords(),C=-1;for(let E=h;E<m;E++){if(y[E]==null)continue;let D=y[E];D.setRowNumberAsRowIndicatorColumn();let B=D.getRowNumber()-C;B===0||(B===1?C=D.getRowNumber():D.getRowNumber()>=s.getRowCount()?y[E]=null:C=D.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),l=new jo,c=new jo,f=new jo,h=new jo;for(let y of s){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let C=y.getValue()%30,E=y.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:c.setValue(C*3+1);break;case 1:h.setValue(C/3),f.setValue(C%3);break;case 2:l.setValue(C+1);break}}if(l.getValue().length===0||c.getValue().length===0||f.getValue().length===0||h.getValue().length===0||l.getValue()[0]<1||c.getValue()[0]+f.getValue()[0]<ot.MIN_ROWS_IN_BARCODE||c.getValue()[0]+f.getValue()[0]>ot.MAX_ROWS_IN_BARCODE)return null;let m=new un(l.getValue()[0],c.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,m),m}removeIncorrectCodewords(s,l){for(let c=0;c<s.length;c++){let f=s[c];if(s[c]==null)continue;let h=f.getValue()%30,m=f.getRowNumber();if(m>l.getRowCount()){s[c]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:h*3+1!==l.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(h/3)!==l.getErrorCorrectionLevel()||h%3!==l.getRowCountLowerPart())&&(s[c]=null);break;case 2:h+1!==l.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ao{constructor(s,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=ot.MAX_CODEWORDS_IN_BARCODE,l;do l=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let c=this.detectionResultColumns[l].getCodewords();for(let f=0;f<c.length;f++)c[f]!=null&&(c[f].hasValidRowNumber()||this.adjustRowNumbers(l,f,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&l[c]!=null&&s[c].getRowNumber()===l[c].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[c];h!=null&&(h.setRowNumber(s[c].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let f=l[c].getRowNumber(),h=0;for(let m=this.barcodeColumnCount+1;m>0&&h<this.ADJUST_ROW_NUMBER_SKIP;m--){let y=this.detectionResultColumns[m].getCodewords()[c];y!=null&&(h=Ao.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,l=this.detectionResultColumns[0].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let f=l[c].getRowNumber(),h=0;for(let m=1;m<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;m++){let y=this.detectionResultColumns[m].getCodewords()[c];y!=null&&(h=Ao.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,l,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),l=0):++l),l}adjustRowNumbers(s,l,c){if(!this.detectionResultColumns[s-1])return;let f=c[l],h=this.detectionResultColumns[s-1].getCodewords(),m=h;this.detectionResultColumns[s+1]!=null&&(m=this.detectionResultColumns[s+1].getCodewords());let y=new Array(14);y[2]=h[l],y[3]=m[l],l>0&&(y[0]=c[l-1],y[4]=h[l-1],y[5]=m[l-1]),l>1&&(y[8]=c[l-2],y[10]=h[l-2],y[11]=m[l-2]),l<c.length-1&&(y[1]=c[l+1],y[6]=h[l+1],y[7]=m[l+1]),l<c.length-2&&(y[9]=c[l+2],y[12]=h[l+2],y[13]=m[l+2]);for(let C of y)if(Ao.adjustRowNumber(f,C))return}static adjustRowNumber(s,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===s.getBucket()?(s.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,l){this.detectionResultColumns[s]=l}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new qt;for(let c=0;c<s.getCodewords().length;c++){l.format("CW %3d:",c);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){l.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[c];if(h==null){l.format("    |   ");continue}l.format(" %3d|%3d",h.getRowNumber(),h.getValue())}l.format("%n")}return l.toString()}}class ko{constructor(s,l,c,f){this.rowNumber=ko.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(l),this.bucket=Math.trunc(c),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==ko.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}ko.BARCODE_ROW_UNKNOWN=-1;class Sr{static initialize(){for(let s=0;s<ot.SYMBOL_TABLE.length;s++){let l=ot.SYMBOL_TABLE[s],c=l&1;for(let f=0;f<ot.BARS_IN_MODULE;f++){let h=0;for(;(l&1)===c;)h+=1,l>>=1;c=l&1,Sr.RATIOS_TABLE[s]||(Sr.RATIOS_TABLE[s]=new Array(ot.BARS_IN_MODULE)),Sr.RATIOS_TABLE[s][ot.BARS_IN_MODULE-f-1]=Math.fround(h/ot.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let l=Sr.getDecodedCodewordValue(Sr.sampleBitCounts(s));return l!==-1?l:Sr.getClosestDecodedValue(s)}static sampleBitCounts(s){let l=Qe.sum(s),c=new Int32Array(ot.BARS_IN_MODULE),f=0,h=0;for(let m=0;m<ot.MODULES_IN_CODEWORD;m++){let y=l/(2*ot.MODULES_IN_CODEWORD)+m*l/ot.MODULES_IN_CODEWORD;h+s[f]<=y&&(h+=s[f],f++),c[f]++}return c}static getDecodedCodewordValue(s){let l=Sr.getBitValue(s);return ot.getCodeword(l)===-1?-1:l}static getBitValue(s){let l=0;for(let c=0;c<s.length;c++)for(let f=0;f<s[c];f++)l=l<<1|(c%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(s){let l=Qe.sum(s),c=new Array(ot.BARS_IN_MODULE);if(l>1)for(let m=0;m<c.length;m++)c[m]=Math.fround(s[m]/l);let f=Fe.MAX_VALUE,h=-1;this.bSymbolTableReady||Sr.initialize();for(let m=0;m<Sr.RATIOS_TABLE.length;m++){let y=0,C=Sr.RATIOS_TABLE[m];for(let E=0;E<ot.BARS_IN_MODULE;E++){let D=Math.fround(C[E]-c[E]);if(y+=Math.fround(D*D),y>=f)break}y<f&&(f=y,h=ot.SYMBOL_TABLE[m])}return h}}Sr.bSymbolTableReady=!1,Sr.RATIOS_TABLE=new Array(ot.SYMBOL_TABLE.length).map(P=>new Array(ot.BARS_IN_MODULE));class Xc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Hd{static parseLong(s,l=void 0){return parseInt(s,l)}}class Kn extends g{}Kn.kind="NullPointerException";class Qc{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,l,c){if(s==null)throw new Kn;if(l<0||l>s.length||c<0||l+c>s.length||l+c<0)throw new L;if(c===0)return;for(let f=0;f<c;f++)this.write(s[l+f])}flush(){}close(){}}class Yi extends g{}class Vd extends Qc{constructor(s=32){if(super(),this.count=0,s<0)throw new N("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new Yi;c=I.MAX_VALUE}this.buf=A.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,l,c){if(l<0||l>s.length||c<0||l+c-s.length>0)throw new L;this.ensureCapacity(this.count+c),O.arraycopy(s,l,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return A.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Wt;(function(P){P[P.ALPHA=0]="ALPHA",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.PUNCT=3]="PUNCT",P[P.ALPHA_SHIFT=4]="ALPHA_SHIFT",P[P.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Wt||(Wt={}));function Pr(){if(typeof window<"u")return window.BigInt||null;if(typeof ki<"u")return ki.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let To;function Zs(P){if(typeof To>"u"&&(To=Pr()),To===null)throw new Error("BigInt is not supported!");return To(P)}function Yd(){let P=[];P[0]=Zs(1);let s=Zs(900);P[1]=s;for(let l=2;l<16;l++)P[l]=P[l-1]*s;return P}class he{static decode(s,l){let c=new ee(""),f=V.ISO8859_1;c.enableDecoding(f);let h=1,m=s[h++],y=new Xc;for(;h<s[0];){switch(m){case he.TEXT_COMPACTION_MODE_LATCH:h=he.textCompaction(s,h,c);break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:h=he.byteCompaction(m,s,f,h,c);break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h++]);break;case he.NUMERIC_COMPACTION_MODE_LATCH:h=he.numericCompaction(s,h,c);break;case he.ECI_CHARSET:V.getCharacterSetECIByValue(s[h++]);break;case he.ECI_GENERAL_PURPOSE:h+=2;break;case he.ECI_USER_DEFINED:h++;break;case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=he.decodeMacroBlock(s,h,y);break;case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:throw new R;default:h--,h=he.textCompaction(s,h,c);break}if(h<s.length)m=s[h++];else throw R.getFormatInstance()}if(c.length()===0)throw R.getFormatInstance();let C=new Yt(null,c.toString(),null,l);return C.setOther(y),C}static decodeMacroBlock(s,l,c){if(l+he.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw R.getFormatInstance();let f=new Int32Array(he.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<he.NUMBER_OF_SEQUENCE_CODEWORDS;y++,l++)f[y]=s[l];c.setSegmentIndex(I.parseInt(he.decodeBase900toBase10(f,he.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new ee;l=he.textCompaction(s,l,h),c.setFileId(h.toString());let m=-1;for(s[l]===he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=l+1);l<s[0];)switch(s[l]){case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,s[l]){case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new ee;l=he.textCompaction(s,l+1,y),c.setFileName(y.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new ee;l=he.textCompaction(s,l+1,C),c.setSender(C.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new ee;l=he.textCompaction(s,l+1,E),c.setAddressee(E.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new ee;l=he.numericCompaction(s,l+1,D),c.setSegmentCount(I.parseInt(D.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let B=new ee;l=he.numericCompaction(s,l+1,B),c.setTimestamp(Hd.parseLong(B.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let W=new ee;l=he.numericCompaction(s,l+1,W),c.setChecksum(I.parseInt(W.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Z=new ee;l=he.numericCompaction(s,l+1,Z),c.setFileSize(Hd.parseLong(Z.toString()));break;default:throw R.getFormatInstance()}break;case he.MACRO_PDF417_TERMINATOR:l++,c.setLastSegment(!0);break;default:throw R.getFormatInstance()}if(m!==-1){let y=l-m;c.isLastSegment()&&y--,c.setOptionalData(A.copyOfRange(s,m,m+y))}return l}static textCompaction(s,l,c){let f=new Int32Array((s[0]-l)*2),h=new Int32Array((s[0]-l)*2),m=0,y=!1;for(;l<s[0]&&!y;){let C=s[l++];if(C<he.TEXT_COMPACTION_MODE_LATCH)f[m]=C/30,f[m+1]=C%30,m+=2;else switch(C){case he.TEXT_COMPACTION_MODE_LATCH:f[m++]=he.TEXT_COMPACTION_MODE_LATCH;break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:l--,y=!0;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[m]=he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=s[l++],h[m]=C,m++;break}}return he.decodeTextCompaction(f,h,m,c),l}static decodeTextCompaction(s,l,c,f){let h=Wt.ALPHA,m=Wt.ALPHA,y=0;for(;y<c;){let C=s[y],E="";switch(h){case Wt.ALPHA:if(C<26)E=String.fromCharCode(65+C);else switch(C){case 26:E=" ";break;case he.LL:h=Wt.LOWER;break;case he.ML:h=Wt.MIXED;break;case he.PS:m=h,h=Wt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=Wt.ALPHA;break}break;case Wt.LOWER:if(C<26)E=String.fromCharCode(97+C);else switch(C){case 26:E=" ";break;case he.AS:m=h,h=Wt.ALPHA_SHIFT;break;case he.ML:h=Wt.MIXED;break;case he.PS:m=h,h=Wt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=Wt.ALPHA;break}break;case Wt.MIXED:if(C<he.PL)E=he.MIXED_CHARS[C];else switch(C){case he.PL:h=Wt.PUNCT;break;case 26:E=" ";break;case he.LL:h=Wt.LOWER;break;case he.AL:h=Wt.ALPHA;break;case he.PS:m=h,h=Wt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=Wt.ALPHA;break}break;case Wt.PUNCT:if(C<he.PAL)E=he.PUNCT_CHARS[C];else switch(C){case he.PAL:h=Wt.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=Wt.ALPHA;break}break;case Wt.ALPHA_SHIFT:if(h=m,C<26)E=String.fromCharCode(65+C);else switch(C){case 26:E=" ";break;case he.TEXT_COMPACTION_MODE_LATCH:h=Wt.ALPHA;break}break;case Wt.PUNCT_SHIFT:if(h=m,C<he.PAL)E=he.PUNCT_CHARS[C];else switch(C){case he.PAL:h=Wt.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:h=Wt.ALPHA;break}break}E!==""&&f.append(E),y++}}static byteCompaction(s,l,c,f,h){let m=new Vd,y=0,C=0,E=!1;switch(s){case he.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),B=l[f++];for(;f<l[0]&&!E;)switch(D[y++]=B,C=900*C+B,B=l[f++],B){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:f--,E=!0;break;default:if(y%5===0&&y>0){for(let W=0;W<6;++W)m.write(Number(Zs(C)>>Zs(8*(5-W))));C=0,y=0}break}f===l[0]&&B<he.TEXT_COMPACTION_MODE_LATCH&&(D[y++]=B);for(let W=0;W<y;W++)m.write(D[W]);break;case he.BYTE_COMPACTION_MODE_LATCH_6:for(;f<l[0]&&!E;){let W=l[f++];if(W<he.TEXT_COMPACTION_MODE_LATCH)y++,C=900*C+W;else switch(W){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:f--,E=!0;break}if(y%5===0&&y>0){for(let Z=0;Z<6;++Z)m.write(Number(Zs(C)>>Zs(8*(5-Z))));C=0,y=0}}break}return h.append(de.decode(m.toByteArray(),c)),f}static numericCompaction(s,l,c){let f=0,h=!1,m=new Int32Array(he.MAX_NUMERIC_CODEWORDS);for(;l<s[0]&&!h;){let y=s[l++];if(l===s[0]&&(h=!0),y<he.TEXT_COMPACTION_MODE_LATCH)m[f]=y,f++;else switch(y){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:l--,h=!0;break}(f%he.MAX_NUMERIC_CODEWORDS===0||y===he.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(c.append(he.decodeBase900toBase10(m,f)),f=0)}return l}static decodeBase900toBase10(s,l){let c=Zs(0);for(let h=0;h<l;h++)c+=he.EXP900[l-h-1]*Zs(s[h]);let f=c.toString();if(f.charAt(0)!=="1")throw new R;return f.substring(1)}}he.TEXT_COMPACTION_MODE_LATCH=900,he.BYTE_COMPACTION_MODE_LATCH=901,he.NUMERIC_COMPACTION_MODE_LATCH=902,he.BYTE_COMPACTION_MODE_LATCH_6=924,he.ECI_USER_DEFINED=925,he.ECI_GENERAL_PURPOSE=926,he.ECI_CHARSET=927,he.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,he.MACRO_PDF417_TERMINATOR=922,he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,he.MAX_NUMERIC_CODEWORDS=15,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,he.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,he.PL=25,he.LL=27,he.AS=27,he.ML=28,he.AL=28,he.PS=29,he.PAL=29,he.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,he.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",he.EXP900=Pr()?Yd():[],he.NUMBER_OF_SEQUENCE_CODEWORDS=2;class vt{constructor(){}static decode(s,l,c,f,h,m,y){let C=new Vi(s,l,c,f,h),E=null,D=null,B;for(let z=!0;;z=!1){if(l!=null&&(E=vt.getRowIndicatorColumn(s,C,l,!0,m,y)),f!=null&&(D=vt.getRowIndicatorColumn(s,C,f,!1,m,y)),B=vt.merge(E,D),B==null)throw se.getNotFoundInstance();let $=B.getBoundingBox();if(z&&$!=null&&($.getMinY()<C.getMinY()||$.getMaxY()>C.getMaxY()))C=$;else break}B.setBoundingBox(C);let W=B.getBarcodeColumnCount()+1;B.setDetectionResultColumn(0,E),B.setDetectionResultColumn(W,D);let Z=E!=null;for(let z=1;z<=W;z++){let $=Z?z:W-z;if(B.getDetectionResultColumn($)!==void 0)continue;let Q;$===0||$===W?Q=new Wd(C,$===0):Q=new _o(C),B.setDetectionResultColumn($,Q);let ne=-1,pe=ne;for(let ve=C.getMinY();ve<=C.getMaxY();ve++){if(ne=vt.getStartColumn(B,$,ve,Z),ne<0||ne>C.getMaxX()){if(pe===-1)continue;ne=pe}let ye=vt.detectCodeword(s,C.getMinX(),C.getMaxX(),Z,ne,ve,m,y);ye!=null&&(Q.setCodeword(ve,ye),pe=ne,m=Math.min(m,ye.getWidth()),y=Math.max(y,ye.getWidth()))}}return vt.createDecoderResult(B)}static merge(s,l){if(s==null&&l==null)return null;let c=vt.getBarcodeMetadata(s,l);if(c==null)return null;let f=Vi.merge(vt.adjustBoundingBox(s),vt.adjustBoundingBox(l));return new Ao(c,f)}static adjustBoundingBox(s){if(s==null)return null;let l=s.getRowHeights();if(l==null)return null;let c=vt.getMax(l),f=0;for(let y of l)if(f+=c-y,y>0)break;let h=s.getCodewords();for(let y=0;f>0&&h[y]==null;y++)f--;let m=0;for(let y=l.length-1;y>=0&&(m+=c-l[y],!(l[y]>0));y--);for(let y=h.length-1;m>0&&h[y]==null;y--)m--;return s.getBoundingBox().addMissingRows(f,m,s.isLeft())}static getMax(s){let l=-1;for(let c of s)l=Math.max(l,c);return l}static getBarcodeMetadata(s,l){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let f;return l==null||(f=l.getBarcodeMetadata())==null?c:c.getColumnCount()!==f.getColumnCount()&&c.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&c.getRowCount()!==f.getRowCount()?null:c}static getRowIndicatorColumn(s,l,c,f,h,m){let y=new Wd(l,f);for(let C=0;C<2;C++){let E=C===0?1:-1,D=Math.trunc(Math.trunc(c.getX()));for(let B=Math.trunc(Math.trunc(c.getY()));B<=l.getMaxY()&&B>=l.getMinY();B+=E){let W=vt.detectCodeword(s,0,s.getWidth(),f,D,B,h,m);W!=null&&(y.setCodeword(B,W),f?D=W.getStartX():D=W.getEndX())}}return y}static adjustCodewordCount(s,l){let c=l[0][1],f=c.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-vt.getNumberOfECCodeWords(s.getBarcodeECLevel());if(f.length===0){if(h<1||h>ot.MAX_CODEWORDS_IN_BARCODE)throw se.getNotFoundInstance();c.setValue(h)}else f[0]!==h&&c.setValue(h)}static createDecoderResult(s){let l=vt.createBarcodeMatrix(s);vt.adjustCodewordCount(s,l);let c=new Array,f=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],m=new Array;for(let C=0;C<s.getBarcodeRowCount();C++)for(let E=0;E<s.getBarcodeColumnCount();E++){let D=l[C][E+1].getValue(),B=C*s.getBarcodeColumnCount()+E;D.length===0?c.push(B):D.length===1?f[B]=D[0]:(m.push(B),h.push(D))}let y=new Array(h.length);for(let C=0;C<y.length;C++)y[C]=h[C];return vt.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),f,ot.toIntArray(c),ot.toIntArray(m),y)}static createDecoderResultFromAmbiguousValues(s,l,c,f,h){let m=new Int32Array(f.length),y=100;for(;y-- >0;){for(let C=0;C<m.length;C++)l[f[C]]=h[C][m[C]];try{return vt.decodeCodewords(l,s,c)}catch(C){if(!(C instanceof k))throw C}if(m.length===0)throw k.getChecksumInstance();for(let C=0;C<m.length;C++)if(m[C]<h[C].length-1){m[C]++;break}else if(m[C]=0,C===m.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(s){let l=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let f=0;f<l.length;f++)for(let h=0;h<l[f].length;h++)l[f][h]=new jo;let c=0;for(let f of s.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let m=h.getRowNumber();if(m>=0){if(m>=l.length)continue;l[m][c].setValue(h.getValue())}}}c++}return l}static isValidBarcodeColumn(s,l){return l>=0&&l<=s.getBarcodeColumnCount()+1}static getStartColumn(s,l,c,f){let h=f?1:-1,m=null;if(vt.isValidBarcodeColumn(s,l-h)&&(m=s.getDetectionResultColumn(l-h).getCodeword(c)),m!=null)return f?m.getEndX():m.getStartX();if(m=s.getDetectionResultColumn(l).getCodewordNearby(c),m!=null)return f?m.getStartX():m.getEndX();if(vt.isValidBarcodeColumn(s,l-h)&&(m=s.getDetectionResultColumn(l-h).getCodewordNearby(c)),m!=null)return f?m.getEndX():m.getStartX();let y=0;for(;vt.isValidBarcodeColumn(s,l-h);){l-=h;for(let C of s.getDetectionResultColumn(l).getCodewords())if(C!=null)return(f?C.getEndX():C.getStartX())+h*y*(C.getEndX()-C.getStartX());y++}return f?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,l,c,f,h,m,y,C){h=vt.adjustCodewordStartColumn(s,l,c,f,h,m);let E=vt.getModuleBitCount(s,l,c,f,h,m);if(E==null)return null;let D,B=Qe.sum(E);if(f)D=h+B;else{for(let z=0;z<E.length/2;z++){let $=E[z];E[z]=E[E.length-1-z],E[E.length-1-z]=$}D=h,h=D-B}if(!vt.checkCodewordSkew(B,y,C))return null;let W=Sr.getDecodedValue(E),Z=ot.getCodeword(W);return Z===-1?null:new ko(h,D,vt.getCodewordBucketNumber(W),Z)}static getModuleBitCount(s,l,c,f,h,m){let y=h,C=new Int32Array(8),E=0,D=f?1:-1,B=f;for(;(f?y<c:y>=l)&&E<C.length;)s.get(y,m)===B?(C[E]++,y+=D):(E++,B=!B);return E===C.length||y===(f?c:l)&&E===C.length-1?C:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,l,c,f,h,m){let y=h,C=f?-1:1;for(let E=0;E<2;E++){for(;(f?y>=l:y<c)&&f===s.get(y,m);){if(Math.abs(h-y)>vt.CODEWORD_SKEW_SIZE)return h;y+=C}C=-C,f=!f}return y}static checkCodewordSkew(s,l,c){return l-vt.CODEWORD_SKEW_SIZE<=s&&s<=c+vt.CODEWORD_SKEW_SIZE}static decodeCodewords(s,l,c){if(s.length===0)throw R.getFormatInstance();let f=1<<l+1,h=vt.correctErrors(s,c,f);vt.verifyCodewordCount(s,f);let m=he.decode(s,""+l);return m.setErrorsCorrected(h),m.setErasures(c.length),m}static correctErrors(s,l,c){if(l!=null&&l.length>c/2+vt.MAX_ERRORS||c<0||c>vt.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return vt.errorCorrection.decode(s,c,l)}static verifyCodewordCount(s,l){if(s.length<4)throw R.getFormatInstance();let c=s[0];if(c>s.length)throw R.getFormatInstance();if(c===0)if(l<s.length)s[0]=s.length-l;else throw R.getFormatInstance()}static getBitCountForCodeword(s){let l=new Int32Array(8),c=0,f=l.length-1;for(;!((s&1)!==c&&(c=s&1,f--,f<0));)l[f]++,s>>=1;return l}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return vt.getCodewordBucketNumber(vt.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let l=new qt;for(let c=0;c<s.length;c++){l.format("Row %2d: ",c);for(let f=0;f<s[c].length;f++){let h=s[c][f];h.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}l.format("%n")}return l.toString()}}vt.CODEWORD_SKEW_SIZE=2,vt.MAX_ERRORS=3,vt.MAX_EC_CODEWORDS=512,vt.errorCorrection=new qd;class Zn{decode(s,l=null){let c=Zn.decode(s,l,!1);if(c==null||c.length===0||c[0]==null)throw se.getNotFoundInstance();return c[0]}decodeMultiple(s,l=null){try{return Zn.decode(s,l,!0)}catch(c){throw c instanceof R||c instanceof k?se.getNotFoundInstance():c}}static decode(s,l,c){const f=new Array,h=xt.detectMultiple(s,l,c);for(const m of h.getPoints()){const y=vt.decode(h.getBits(),m[4],m[5],m[6],m[7],Zn.getMinCodewordWidth(m),Zn.getMaxCodewordWidth(m)),C=new Xe(y.getText(),y.getRawBytes(),void 0,m,je.PDF_417);C.putMetadata(at.ERROR_CORRECTION_LEVEL,y.getECLevel());const E=y.getOther();E!=null&&C.putMetadata(at.PDF417_EXTRA_METADATA,E),f.push(C)}return f.map(m=>m)}static getMaxWidth(s,l){return s==null||l==null?0:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMinWidth(s,l){return s==null||l==null?I.MAX_VALUE:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Zn.getMaxWidth(s[0],s[4]),Zn.getMaxWidth(s[6],s[2])*ot.MODULES_IN_CODEWORD/ot.MODULES_IN_STOP_PATTERN),Math.max(Zn.getMaxWidth(s[1],s[5]),Zn.getMaxWidth(s[7],s[3])*ot.MODULES_IN_CODEWORD/ot.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Zn.getMinWidth(s[0],s[4]),Zn.getMinWidth(s[6],s[2])*ot.MODULES_IN_CODEWORD/ot.MODULES_IN_STOP_PATTERN),Math.min(Zn.getMinWidth(s[1],s[5]),Zn.getMinWidth(s[7],s[3])*ot.MODULES_IN_CODEWORD/ot.MODULES_IN_STOP_PATTERN)))}reset(){}}class cr extends g{}cr.kind="ReaderException";class $d{constructor(s,l){this.verbose=s===!0,l&&this.setHints(l)}decode(s,l){return l&&this.setHints(l),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const l=!r(s)&&s.get(F.TRY_HARDER)===!0,c=r(s)?null:s.get(F.POSSIBLE_FORMATS),f=new Array;if(!r(c)){const h=c.some(m=>m===je.UPC_A||m===je.UPC_E||m===je.EAN_13||m===je.EAN_8||m===je.CODABAR||m===je.CODE_39||m===je.CODE_93||m===je.CODE_128||m===je.ITF||m===je.RSS_14||m===je.RSS_EXPANDED);h&&!l&&f.push(new Hi(s,this.verbose)),c.includes(je.QR_CODE)&&f.push(new yi),c.includes(je.DATA_MATRIX)&&f.push(new us),c.includes(je.AZTEC)&&f.push(new As),c.includes(je.PDF_417)&&f.push(new Zn),h&&l&&f.push(new Hi(s,this.verbose))}f.length===0&&(l||f.push(new Hi(s,this.verbose)),f.push(new yi),f.push(new us),f.push(new As),f.push(new Zn),l&&f.push(new Hi(s,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new cr("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(s,this.hints)}catch(c){if(c instanceof cr)continue}throw new se("No MultiFormat Readers were able to detect the code.")}}class Qr extends ke{constructor(s=null,l=500){const c=new $d;c.setHints(s),super(c,l)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class _p extends ke{constructor(s=500){super(new Zn,s)}}class Gd extends ke{constructor(s=500){super(new yi,s)}}var Rs;(function(P){P[P.ERROR_CORRECTION=0]="ERROR_CORRECTION",P[P.CHARACTER_SET=1]="CHARACTER_SET",P[P.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",P[P.MIN_SIZE=3]="MIN_SIZE",P[P.MAX_SIZE=4]="MAX_SIZE",P[P.MARGIN=5]="MARGIN",P[P.PDF417_COMPACT=6]="PDF417_COMPACT",P[P.PDF417_COMPACTION=7]="PDF417_COMPACTION",P[P.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",P[P.AZTEC_LAYERS=9]="AZTEC_LAYERS",P[P.QR_VERSION=10]="QR_VERSION"})(Rs||(Rs={}));var bn=Rs;class Do{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new $t(s,Int32Array.from([1])))}buildGenerator(s){const l=this.cachedGenerators;if(s>=l.length){let c=l[l.length-1];const f=this.field;for(let h=l.length;h<=s;h++){const m=c.multiply(new $t(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));l.push(m),c=m}}return l[s]}encode(s,l){if(l===0)throw new N("No error correction bytes");const c=s.length-l;if(c<=0)throw new N("No data bytes provided");const f=this.buildGenerator(l),h=new Int32Array(c);O.arraycopy(s,0,h,0,c);let m=new $t(this.field,h);m=m.multiplyByMonomial(l,1);const C=m.divide(f)[1].getCoefficients(),E=l-C.length;for(let D=0;D<E;D++)s[c+D]=0;O.arraycopy(C,0,s,c+E,C.length)}}class ft{constructor(){}static applyMaskPenaltyRule1(s){return ft.applyMaskPenaltyRule1Internal(s,!0)+ft.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let l=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let m=0;m<h-1;m++){const y=c[m];for(let C=0;C<f-1;C++){const E=y[C];E===y[C+1]&&E===c[m+1][C]&&E===c[m+1][C+1]&&l++}}return ft.N2*l}static applyMaskPenaltyRule3(s){let l=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let m=0;m<h;m++)for(let y=0;y<f;y++){const C=c[m];y+6<f&&C[y]===1&&C[y+1]===0&&C[y+2]===1&&C[y+3]===1&&C[y+4]===1&&C[y+5]===0&&C[y+6]===1&&(ft.isWhiteHorizontal(C,y-4,y)||ft.isWhiteHorizontal(C,y+7,y+11))&&l++,m+6<h&&c[m][y]===1&&c[m+1][y]===0&&c[m+2][y]===1&&c[m+3][y]===1&&c[m+4][y]===1&&c[m+5][y]===0&&c[m+6][y]===1&&(ft.isWhiteVertical(c,y,m-4,m)||ft.isWhiteVertical(c,y,m+7,m+11))&&l++}return l*ft.N3}static isWhiteHorizontal(s,l,c){l=Math.max(l,0),c=Math.min(c,s.length);for(let f=l;f<c;f++)if(s[f]===1)return!1;return!0}static isWhiteVertical(s,l,c,f){c=Math.max(c,0),f=Math.min(f,s.length);for(let h=c;h<f;h++)if(s[h][l]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let l=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let C=0;C<h;C++){const E=c[C];for(let D=0;D<f;D++)E[D]===1&&l++}const m=s.getHeight()*s.getWidth();return Math.floor(Math.abs(l*2-m)*10/m)*ft.N4}static getDataMaskBit(s,l,c){let f,h;switch(s){case 0:f=c+l&1;break;case 1:f=c&1;break;case 2:f=l%3;break;case 3:f=(c+l)%3;break;case 4:f=Math.floor(c/2)+Math.floor(l/3)&1;break;case 5:h=c*l,f=(h&1)+h%3;break;case 6:h=c*l,f=(h&1)+h%3&1;break;case 7:h=c*l,f=h%3+(c+l&1)&1;break;default:throw new N("Invalid mask pattern: "+s)}return f===0}static applyMaskPenaltyRule1Internal(s,l){let c=0;const f=l?s.getHeight():s.getWidth(),h=l?s.getWidth():s.getHeight(),m=s.getArray();for(let y=0;y<f;y++){let C=0,E=-1;for(let D=0;D<h;D++){const B=l?m[y][D]:m[D][y];B===E?C++:(C>=5&&(c+=ft.N1+(C-5)),C=1,E=B)}C>=5&&(c+=ft.N1+(C-5))}return c}}ft.N1=3,ft.N2=3,ft.N3=40,ft.N4=10;class ds{constructor(s,l){this.width=s,this.height=l;const c=new Array(l);for(let f=0;f!==l;f++)c[f]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,l){return this.bytes[l][s]}getArray(){return this.bytes}setNumber(s,l,c){this.bytes[l][s]=c}setBoolean(s,l,c){this.bytes[l][s]=c?1:0}clear(s){for(const l of this.bytes)A.fill(l,s)}equals(s){if(!(s instanceof ds))return!1;const l=s;if(this.width!==l.width||this.height!==l.height)return!1;for(let c=0,f=this.height;c<f;++c){const h=this.bytes[c],m=l.bytes[c];for(let y=0,C=this.width;y<C;++y)if(h[y]!==m[y])return!1}return!0}toString(){const s=new ee;for(let l=0,c=this.height;l<c;++l){const f=this.bytes[l];for(let h=0,m=this.width;h<m;++h)switch(f[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Js{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new ee;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Js.NUM_MASK_PATTERNS}}Js.NUM_MASK_PATTERNS=8;class nn extends g{}nn.kind="WriterException";class st{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,l,c,f,h){st.clearMatrix(h),st.embedBasicPatterns(c,h),st.embedTypeInfo(l,f,h),st.maybeEmbedVersionInfo(c,h),st.embedDataBits(s,f,h)}static embedBasicPatterns(s,l){st.embedPositionDetectionPatternsAndSeparators(l),st.embedDarkDotAtLeftBottomCorner(l),st.maybeEmbedPositionAdjustmentPatterns(s,l),st.embedTimingPatterns(l)}static embedTypeInfo(s,l,c){const f=new q;st.makeTypeInfoBits(s,l,f);for(let h=0,m=f.getSize();h<m;++h){const y=f.get(f.getSize()-1-h),C=st.TYPE_INFO_COORDINATES[h],E=C[0],D=C[1];if(c.setBoolean(E,D,y),h<8){const B=c.getWidth()-h-1,W=8;c.setBoolean(B,W,y)}else{const W=c.getHeight()-7+(h-8);c.setBoolean(8,W,y)}}}static maybeEmbedVersionInfo(s,l){if(s.getVersionNumber()<7)return;const c=new q;st.makeVersionInfoBits(s,c);let f=6*3-1;for(let h=0;h<6;++h)for(let m=0;m<3;++m){const y=c.get(f);f--,l.setBoolean(h,l.getHeight()-11+m,y),l.setBoolean(l.getHeight()-11+m,h,y)}}static embedDataBits(s,l,c){let f=0,h=-1,m=c.getWidth()-1,y=c.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);y>=0&&y<c.getHeight();){for(let C=0;C<2;++C){const E=m-C;if(!st.isEmpty(c.get(E,y)))continue;let D;f<s.getSize()?(D=s.get(f),++f):D=!1,l!==255&&ft.getDataMaskBit(l,E,y)&&(D=!D),c.setBoolean(E,y,D)}y+=h}h=-h,y+=h,m-=2}if(f!==s.getSize())throw new nn("Not all bits consumed: "+f+"/"+s.getSize())}static findMSBSet(s){return 32-I.numberOfLeadingZeros(s)}static calculateBCHCode(s,l){if(l===0)throw new N("0 polynomial");const c=st.findMSBSet(l);for(s<<=c-1;st.findMSBSet(s)>=c;)s^=l<<st.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,l,c){if(!Js.isValidMaskPattern(l))throw new nn("Invalid mask pattern");const f=s.getBits()<<3|l;c.appendBits(f,5);const h=st.calculateBCHCode(f,st.TYPE_INFO_POLY);c.appendBits(h,10);const m=new q;if(m.appendBits(st.TYPE_INFO_MASK_PATTERN,15),c.xor(m),c.getSize()!==15)throw new nn("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,l){l.appendBits(s.getVersionNumber(),6);const c=st.calculateBCHCode(s.getVersionNumber(),st.VERSION_INFO_POLY);if(l.appendBits(c,12),l.getSize()!==18)throw new nn("should not happen but we got: "+l.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let l=8;l<s.getWidth()-8;++l){const c=(l+1)%2;st.isEmpty(s.get(l,6))&&s.setNumber(l,6,c),st.isEmpty(s.get(6,l))&&s.setNumber(6,l,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new nn;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,l,c){for(let f=0;f<8;++f){if(!st.isEmpty(c.get(s+f,l)))throw new nn;c.setNumber(s+f,l,0)}}static embedVerticalSeparationPattern(s,l,c){for(let f=0;f<7;++f){if(!st.isEmpty(c.get(s,l+f)))throw new nn;c.setNumber(s,l+f,0)}}static embedPositionAdjustmentPattern(s,l,c){for(let f=0;f<5;++f){const h=st.POSITION_ADJUSTMENT_PATTERN[f];for(let m=0;m<5;++m)c.setNumber(s+m,l+f,h[m])}}static embedPositionDetectionPattern(s,l,c){for(let f=0;f<7;++f){const h=st.POSITION_DETECTION_PATTERN[f];for(let m=0;m<7;++m)c.setNumber(s+m,l+f,h[m])}}static embedPositionDetectionPatternsAndSeparators(s){const l=st.POSITION_DETECTION_PATTERN[0].length;st.embedPositionDetectionPattern(0,0,s),st.embedPositionDetectionPattern(s.getWidth()-l,0,s),st.embedPositionDetectionPattern(0,s.getWidth()-l,s);const c=8;st.embedHorizontalSeparationPattern(0,c-1,s),st.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),st.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const f=7;st.embedVerticalSeparationPattern(f,0,s),st.embedVerticalSeparationPattern(s.getHeight()-f-1,0,s),st.embedVerticalSeparationPattern(f,s.getHeight()-f,s)}static maybeEmbedPositionAdjustmentPatterns(s,l){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,f=st.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let h=0,m=f.length;h!==m;h++){const y=f[h];if(y>=0)for(let C=0;C!==m;C++){const E=f[C];E>=0&&st.isEmpty(l.get(E,y))&&st.embedPositionAdjustmentPattern(E-2,y-2,l)}}}}st.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),st.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),st.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),st.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),st.VERSION_INFO_POLY=7973,st.TYPE_INFO_POLY=1335,st.TYPE_INFO_MASK_PATTERN=21522;class jp{constructor(s,l){this.dataBytes=s,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class dn{constructor(){}static calculateMaskPenalty(s){return ft.applyMaskPenaltyRule1(s)+ft.applyMaskPenaltyRule2(s)+ft.applyMaskPenaltyRule3(s)+ft.applyMaskPenaltyRule4(s)}static encode(s,l,c=null){let f=dn.DEFAULT_BYTE_MODE_ENCODING;const h=c!==null&&c.get(bn.CHARACTER_SET)!==void 0;h&&(f=c.get(bn.CHARACTER_SET).toString());const m=this.chooseMode(s,f),y=new q;if(m===rt.BYTE&&(h||dn.DEFAULT_BYTE_MODE_ENCODING!==f)){const ve=V.getCharacterSetECIByName(f);ve!==void 0&&this.appendECI(ve,y)}this.appendModeInfo(m,y);const C=new q;this.appendBytes(s,m,C,f);let E;if(c!==null&&c.get(bn.QR_VERSION)!==void 0){const ve=Number.parseInt(c.get(bn.QR_VERSION).toString(),10);E=Je.getVersionForNumber(ve);const ye=this.calculateBitsNeeded(m,y,C,E);if(!this.willFit(ye,E,l))throw new nn("Data too big for requested version")}else E=this.recommendVersion(l,m,y,C);const D=new q;D.appendBitArray(y);const B=m===rt.BYTE?C.getSizeInBytes():s.length;this.appendLengthInfo(B,E,m,D),D.appendBitArray(C);const W=E.getECBlocksForLevel(l),Z=E.getTotalCodewords()-W.getTotalECCodewords();this.terminateBits(Z,D);const z=this.interleaveWithECBytes(D,E.getTotalCodewords(),Z,W.getNumBlocks()),$=new Js;$.setECLevel(l),$.setMode(m),$.setVersion(E);const Q=E.getDimensionForVersion(),ne=new ds(Q,Q),pe=this.chooseMaskPattern(z,l,E,ne);return $.setMaskPattern(pe),st.buildMatrix(z,l,E,pe,ne),$.setMatrix(ne),$}static recommendVersion(s,l,c,f){const h=this.calculateBitsNeeded(l,c,f,Je.getVersionForNumber(1)),m=this.chooseVersion(h,s),y=this.calculateBitsNeeded(l,c,f,m);return this.chooseVersion(y,s)}static calculateBitsNeeded(s,l,c,f){return l.getSize()+s.getCharacterCountBits(f)+c.getSize()}static getAlphanumericCode(s){return s<dn.ALPHANUMERIC_TABLE.length?dn.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,l=null){if(V.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(s))return rt.KANJI;let c=!1,f=!1;for(let h=0,m=s.length;h<m;++h){const y=s.charAt(h);if(dn.isDigit(y))c=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)f=!0;else return rt.BYTE}return f?rt.ALPHANUMERIC:c?rt.NUMERIC:rt.BYTE}static isOnlyDoubleByteKanji(s){let l;try{l=de.encode(s,V.SJIS)}catch{return!1}const c=l.length;if(c%2!==0)return!1;for(let f=0;f<c;f+=2){const h=l[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,l,c,f){let h=Number.MAX_SAFE_INTEGER,m=-1;for(let y=0;y<Js.NUM_MASK_PATTERNS;y++){st.buildMatrix(s,l,c,y,f);let C=this.calculateMaskPenalty(f);C<h&&(h=C,m=y)}return m}static chooseVersion(s,l){for(let c=1;c<=40;c++){const f=Je.getVersionForNumber(c);if(dn.willFit(s,f,l))return f}throw new nn("Data too big")}static willFit(s,l,c){const f=l.getTotalCodewords(),m=l.getECBlocksForLevel(c).getTotalECCodewords(),y=f-m,C=(s+7)/8;return y>=C}static terminateBits(s,l){const c=s*8;if(l.getSize()>c)throw new nn("data bits cannot fit in the QR Code"+l.getSize()+" > "+c);for(let m=0;m<4&&l.getSize()<c;++m)l.appendBit(!1);const f=l.getSize()&7;if(f>0)for(let m=f;m<8;m++)l.appendBit(!1);const h=s-l.getSizeInBytes();for(let m=0;m<h;++m)l.appendBits(m&1?17:236,8);if(l.getSize()!==c)throw new nn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,l,c,f,h,m){if(f>=c)throw new nn("Block ID too large");const y=s%c,C=c-y,E=Math.floor(s/c),D=E+1,B=Math.floor(l/c),W=B+1,Z=E-B,z=D-W;if(Z!==z)throw new nn("EC bytes mismatch");if(c!==C+y)throw new nn("RS blocks mismatch");if(s!==(B+Z)*C+(W+z)*y)throw new nn("Total bytes mismatch");f<C?(h[0]=B,m[0]=Z):(h[0]=W,m[0]=z)}static interleaveWithECBytes(s,l,c,f){if(s.getSizeInBytes()!==c)throw new nn("Number of bits and data bytes does not match");let h=0,m=0,y=0;const C=new Array;for(let D=0;D<f;++D){const B=new Int32Array(1),W=new Int32Array(1);dn.getNumDataBytesAndNumECBytesForBlockID(l,c,f,D,B,W);const Z=B[0],z=new Uint8Array(Z);s.toBytes(8*h,z,0,Z);const $=dn.generateECBytes(z,W[0]);C.push(new jp(z,$)),m=Math.max(m,Z),y=Math.max(y,$.length),h+=B[0]}if(c!==h)throw new nn("Data bytes does not match offset");const E=new q;for(let D=0;D<m;++D)for(const B of C){const W=B.getDataBytes();D<W.length&&E.appendBits(W[D],8)}for(let D=0;D<y;++D)for(const B of C){const W=B.getErrorCorrectionBytes();D<W.length&&E.appendBits(W[D],8)}if(l!==E.getSizeInBytes())throw new nn("Interleaving error: "+l+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(s,l){const c=s.length,f=new Int32Array(c+l);for(let m=0;m<c;m++)f[m]=s[m]&255;new Do(Ee.QR_CODE_FIELD_256).encode(f,l);const h=new Uint8Array(l);for(let m=0;m<l;m++)h[m]=f[c+m];return h}static appendModeInfo(s,l){l.appendBits(s.getBits(),4)}static appendLengthInfo(s,l,c,f){const h=c.getCharacterCountBits(l);if(s>=1<<h)throw new nn(s+" is bigger than "+((1<<h)-1));f.appendBits(s,h)}static appendBytes(s,l,c,f){switch(l){case rt.NUMERIC:dn.appendNumericBytes(s,c);break;case rt.ALPHANUMERIC:dn.appendAlphanumericBytes(s,c);break;case rt.BYTE:dn.append8BitBytes(s,c,f);break;case rt.KANJI:dn.appendKanjiBytes(s,c);break;default:throw new nn("Invalid mode: "+l)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const l=dn.getDigit(s);return l>=0&&l<=9}static appendNumericBytes(s,l){const c=s.length;let f=0;for(;f<c;){const h=dn.getDigit(s.charAt(f));if(f+2<c){const m=dn.getDigit(s.charAt(f+1)),y=dn.getDigit(s.charAt(f+2));l.appendBits(h*100+m*10+y,10),f+=3}else if(f+1<c){const m=dn.getDigit(s.charAt(f+1));l.appendBits(h*10+m,7),f+=2}else l.appendBits(h,4),f++}}static appendAlphanumericBytes(s,l){const c=s.length;let f=0;for(;f<c;){const h=dn.getAlphanumericCode(s.charCodeAt(f));if(h===-1)throw new nn;if(f+1<c){const m=dn.getAlphanumericCode(s.charCodeAt(f+1));if(m===-1)throw new nn;l.appendBits(h*45+m,11),f+=2}else l.appendBits(h,6),f++}}static append8BitBytes(s,l,c){let f;try{f=de.encode(s,c)}catch(h){throw new nn(h)}for(let h=0,m=f.length;h!==m;h++){const y=f[h];l.appendBits(y,8)}}static appendKanjiBytes(s,l){let c;try{c=de.encode(s,V.SJIS)}catch(h){throw new nn(h)}const f=c.length;for(let h=0;h<f;h+=2){const m=c[h]&255,y=c[h+1]&255,C=m<<8&4294967295|y;let E=-1;if(C>=33088&&C<=40956?E=C-33088:C>=57408&&C<=60351&&(E=C-49472),E===-1)throw new nn("Invalid byte sequence");const D=(E>>8)*192+(E&255);l.appendBits(D,13)}}static appendECI(s,l){l.appendBits(rt.ECI.getBits(),4),l.appendBits(s.getValue(),8)}}dn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),dn.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class $i{write(s,l,c,f=null){if(s.length===0)throw new N("Found empty contents");if(l<0||c<0)throw new N("Requested dimensions are too small: "+l+"x"+c);let h=tn.L,m=$i.QUIET_ZONE_SIZE;f!==null&&(f.get(bn.ERROR_CORRECTION)!==void 0&&(h=tn.fromString(f.get(bn.ERROR_CORRECTION).toString())),f.get(bn.MARGIN)!==void 0&&(m=Number.parseInt(f.get(bn.MARGIN).toString(),10)));const y=dn.encode(s,h,f);return this.renderResult(y,l,c,m)}writeToDom(s,l,c,f,h=null){typeof s=="string"&&(s=document.querySelector(s));const m=this.write(l,c,f,h);s&&s.appendChild(m)}renderResult(s,l,c,f){const h=s.getMatrix();if(h===null)throw new Rt;const m=h.getWidth(),y=h.getHeight(),C=m+f*2,E=y+f*2,D=Math.max(l,C),B=Math.max(c,E),W=Math.min(Math.floor(D/C),Math.floor(B/E)),Z=Math.floor((D-m*W)/2),z=Math.floor((B-y*W)/2),$=this.createSVGElement(D,B);for(let Q=0,ne=z;Q<y;Q++,ne+=W)for(let pe=0,ve=Z;pe<m;pe++,ve+=W)if(h.get(pe,Q)===1){const ye=this.createSvgRectElement(ve,ne,W,W);$.appendChild(ye)}return $}createSVGElement(s,l){const c=document.createElementNS($i.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",l.toString()),c}createSvgRectElement(s,l,c,f){const h=document.createElementNS($i.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",l.toString()),h.setAttributeNS(null,"height",c.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}$i.QUIET_ZONE_SIZE=4,$i.SVG_NS="http://www.w3.org/2000/svg";class Gi{encode(s,l,c,f,h){if(s.length===0)throw new N("Found empty contents");if(l!==je.QR_CODE)throw new N("Can only encode QR_CODE, but got "+l);if(c<0||f<0)throw new N(`Requested dimensions are too small: ${c}x${f}`);let m=tn.L,y=Gi.QUIET_ZONE_SIZE;h!==null&&(h.get(bn.ERROR_CORRECTION)!==void 0&&(m=tn.fromString(h.get(bn.ERROR_CORRECTION).toString())),h.get(bn.MARGIN)!==void 0&&(y=Number.parseInt(h.get(bn.MARGIN).toString(),10)));const C=dn.encode(s,m,h);return Gi.renderResult(C,c,f,y)}static renderResult(s,l,c,f){const h=s.getMatrix();if(h===null)throw new Rt;const m=h.getWidth(),y=h.getHeight(),C=m+f*2,E=y+f*2,D=Math.max(l,C),B=Math.max(c,E),W=Math.min(Math.floor(D/C),Math.floor(B/E)),Z=Math.floor((D-m*W)/2),z=Math.floor((B-y*W)/2),$=new Ne(D,B);for(let Q=0,ne=z;Q<y;Q++,ne+=W)for(let pe=0,ve=Z;pe<m;pe++,ve+=W)h.get(pe,Q)===1&&$.setRegion(ve,ne,W,W);return $}}Gi.QUIET_ZONE_SIZE=4;class jl{encode(s,l,c,f,h){let m;switch(l){case je.QR_CODE:m=new Gi;break;default:throw new N("No encoder available for format "+l)}return m.encode(s,l,c,f,h)}}class gr extends ue{constructor(s,l,c,f,h,m,y,C){if(super(m,y),this.yuvData=s,this.dataWidth=l,this.dataHeight=c,this.left=f,this.top=h,f+m>l||h+y>c)throw new N("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(m,y)}getRow(s,l){if(s<0||s>=this.getHeight())throw new N("Requested row is outside the image: "+s);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,f,l,0,c),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.yuvData;const c=s*l,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return O.arraycopy(this.yuvData,h,f,0,c),f;for(let m=0;m<l;m++){const y=m*s;O.arraycopy(this.yuvData,h,f,y,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,l,c,f){return new gr(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+l,c,f,!1)}renderThumbnail(){const s=this.getWidth()/gr.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/gr.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*l),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let m=0;m<l;m++){const y=m*s;for(let C=0;C<s;C++){const E=f[h+C*gr.THUMBNAIL_SCALE_FACTOR]&255;c[y+C]=4278190080|E*65793}h+=this.dataWidth*gr.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/gr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/gr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,l){const c=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<l;f++,h+=this.dataWidth){const m=h+s/2;for(let y=h,C=h+s-1;y<m;y++,C--){const E=c[y];c[y]=c[C],c[C]=E}}}invert(){return new ge(this)}}gr.THUMBNAIL_SCALE_FACTOR=2;class Kc extends ue{constructor(s,l,c,f,h,m,y){if(super(l,c),this.dataWidth=f,this.dataHeight=h,this.left=m,this.top=y,s.BYTES_PER_ELEMENT===4){const C=l*c,E=new Uint8ClampedArray(C);for(let D=0;D<C;D++){const B=s[D],W=B>>16&255,Z=B>>7&510,z=B&255;E[D]=(W+Z+z)/4&255}this.luminances=E}else this.luminances=s;if(f===void 0&&(this.dataWidth=l),h===void 0&&(this.dataHeight=c),m===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+c>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(s,l){if(s<0||s>=this.getHeight())throw new N("Requested row is outside the image: "+s);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,f,l,0,c),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.luminances;const c=s*l,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return O.arraycopy(this.luminances,h,f,0,c),f;for(let m=0;m<l;m++){const y=m*s;O.arraycopy(this.luminances,h,f,y,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,l,c,f){return new Kc(this.luminances,c,f,this.dataWidth,this.dataHeight,this.left+s,this.top+l)}invert(){return new ge(this)}}class Zc extends V{static forName(s){return this.getCharacterSetECIByName(s)}}class Al{}Al.ISO_8859_1=V.ISO8859_1;class kl{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Tl{static singletonList(s){return[s]}static min(s,l){return s.sort(l)[0]}}class Xd{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Da extends Xd{constructor(s,l,c){super(s),this.value=l,this.bitCount=c}appendTo(s,l){s.appendBits(this.value,this.bitCount)}add(s,l){return new Da(this,s,l)}addBinaryShift(s,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Da(this,s,l)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+I.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Io extends Da{constructor(s,l,c){super(s,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=c}appendTo(s,l){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(l[this.binaryShiftStart+c],8)}addBinaryShift(s,l){return new Io(this,s,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Jc(P,s,l){return new Io(P,s,l)}function Ro(P,s,l){return new Da(P,s,l)}const Qd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ln=0,Ia=1,ur=2,eu=3,fs=4,Ap=new Da(null,0,0),tu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function kp(P){for(let s of P)A.fill(s,-1);return P[Ln][fs]=0,P[Ia][fs]=0,P[Ia][Ln]=28,P[eu][fs]=0,P[ur][fs]=0,P[ur][Ln]=15,P}const Kd=kp(A.createInt32Array(6,6));class Os{constructor(s,l,c,f){this.token=s,this.mode=l,this.binaryShiftByteCount=c,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,l){let c=this.bitCount,f=this.token;if(s!==this.mode){let m=tu[this.mode][s];f=Ro(f,m&65535,m>>16),c+=m>>16}let h=s===ur?4:5;return f=Ro(f,l,h),new Os(f,s,0,c+h)}shiftAndAppend(s,l){let c=this.token,f=this.mode===ur?4:5;return c=Ro(c,Kd[this.mode][s],f),c=Ro(c,l,5),new Os(c,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(s){let l=this.token,c=this.mode,f=this.bitCount;if(this.mode===fs||this.mode===ur){let y=tu[c][Ln];l=Ro(l,y&65535,y>>16),f+=y>>16,c=Ln}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new Os(l,c,this.binaryShiftByteCount+1,f+h);return m.binaryShiftByteCount===2047+31&&(m=m.endBinaryShift(s+1)),m}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=Jc(l,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Os(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let l=this.bitCount+(tu[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?l+=Os.calculateBinaryShiftCost(s)-Os.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(l+=10),l<=s.bitCount}toBitArray(s){let l=[];for(let f=this.endBinaryShift(s.length).token;f!==null;f=f.getPrevious())l.unshift(f);let c=new q;for(const f of l)f.appendTo(c,s);return c}toString(){return re.format("%s bits=%d bytes=%d",Qd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Os.INITIAL_STATE=new Os(Ap,Ln,0,0);function Ra(P){const s=re.getCharCode(" "),l=re.getCharCode("."),c=re.getCharCode(",");P[Ln][s]=1;const f=re.getCharCode("Z"),h=re.getCharCode("A");for(let W=h;W<=f;W++)P[Ln][W]=W-h+2;P[Ia][s]=1;const m=re.getCharCode("z"),y=re.getCharCode("a");for(let W=y;W<=m;W++)P[Ia][W]=W-y+2;P[ur][s]=1;const C=re.getCharCode("9"),E=re.getCharCode("0");for(let W=E;W<=C;W++)P[ur][W]=W-E+2;P[ur][c]=12,P[ur][l]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let W=0;W<D.length;W++)P[eu][re.getCharCode(D[W])]=W;const B=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let W=0;W<B.length;W++)re.getCharCode(B[W])>0&&(P[fs][re.getCharCode(B[W])]=W);return P}const nu=Ra(A.createInt32Array(5,256));class Oo{constructor(s){this.text=s}encode(){const s=re.getCharCode(" "),l=re.getCharCode(`
`);let c=Tl.singletonList(Os.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let m,y=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case re.getCharCode("\r"):m=y===l?2:0;break;case re.getCharCode("."):m=y===s?3:0;break;case re.getCharCode(","):m=y===s?4:0;break;case re.getCharCode(":"):m=y===s?5:0;break;default:m=0}m>0?(c=Oo.updateStateListForPair(c,h,m),h++):c=this.updateStateListForChar(c,h)}return Tl.min(c,(h,m)=>h.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,l){const c=[];for(let f of s)this.updateStateForChar(f,l,c);return Oo.simplifyStates(c)}updateStateForChar(s,l,c){let f=this.text[l]&255,h=nu[s.getMode()][f]>0,m=null;for(let y=0;y<=fs;y++){let C=nu[y][f];if(C>0){if(m==null&&(m=s.endBinaryShift(l)),!h||y===s.getMode()||y===ur){const E=m.latchAndAppend(y,C);c.push(E)}if(!h&&Kd[s.getMode()][y]>=0){const E=m.shiftAndAppend(y,C);c.push(E)}}}if(s.getBinaryShiftByteCount()>0||nu[s.getMode()][f]===0){let y=s.addBinaryShiftChar(l);c.push(y)}}static updateStateListForPair(s,l,c){const f=[];for(let h of s)this.updateStateForPair(h,l,c,f);return this.simplifyStates(f)}static updateStateForPair(s,l,c,f){let h=s.endBinaryShift(l);if(f.push(h.latchAndAppend(fs,c)),s.getMode()!==fs&&f.push(h.shiftAndAppend(fs,c)),c===3||c===4){let m=h.latchAndAppend(ur,16-c).latchAndAppend(ur,1);f.push(m)}if(s.getBinaryShiftByteCount()>0){let m=s.addBinaryShiftChar(l).addBinaryShiftChar(l+1);f.push(m)}}static simplifyStates(s){let l=[];for(const c of s){let f=!0;for(const h of l){if(h.isBetterThanOrEqualTo(c)){f=!1;break}c.isBetterThanOrEqualTo(h)&&(l=l.filter(m=>m!==h))}f&&l.push(c)}return l}}class _t{constructor(){}static encodeBytes(s){return _t.encode(s,_t.DEFAULT_EC_PERCENT,_t.DEFAULT_AZTEC_LAYERS)}static encode(s,l,c){let f=new Oo(s).encode(),h=I.truncDivision(f.getSize()*l,100)+11,m=f.getSize()+h,y,C,E,D,B;if(c!==_t.DEFAULT_AZTEC_LAYERS){if(y=c<0,C=Math.abs(c),C>(y?_t.MAX_NB_BITS_COMPACT:_t.MAX_NB_BITS))throw new N(re.format("Illegal value %s for layers",c));E=_t.totalBitsInLayer(C,y),D=_t.WORD_SIZE[C];let ye=E-E%D;if(B=_t.stuffBits(f,D),B.getSize()+h>ye)throw new N("Data to large for user specified layer");if(y&&B.getSize()>D*64)throw new N("Data to large for user specified layer")}else{D=0,B=null;for(let ye=0;;ye++){if(ye>_t.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(y=ye<=3,C=y?ye+1:ye,E=_t.totalBitsInLayer(C,y),m>E)continue;(B==null||D!==_t.WORD_SIZE[C])&&(D=_t.WORD_SIZE[C],B=_t.stuffBits(f,D));let Ge=E-E%D;if(!(y&&B.getSize()>D*64)&&B.getSize()+h<=Ge)break}}let W=_t.generateCheckWords(B,E,D),Z=B.getSize()/D,z=_t.generateModeMessage(y,C,Z),$=(y?11:14)+C*4,Q=new Int32Array($),ne;if(y){ne=$;for(let ye=0;ye<Q.length;ye++)Q[ye]=ye}else{ne=$+1+2*I.truncDivision(I.truncDivision($,2)-1,15);let ye=I.truncDivision($,2),Ge=I.truncDivision(ne,2);for(let mt=0;mt<ye;mt++){let _r=mt+I.truncDivision(mt,15);Q[ye-mt-1]=Ge-_r-1,Q[ye+mt]=Ge+_r+1}}let pe=new Ne(ne);for(let ye=0,Ge=0;ye<C;ye++){let mt=(C-ye)*4+(y?9:12);for(let _r=0;_r<mt;_r++){let Cn=_r*2;for(let sr=0;sr<2;sr++)W.get(Ge+Cn+sr)&&pe.set(Q[ye*2+sr],Q[ye*2+_r]),W.get(Ge+mt*2+Cn+sr)&&pe.set(Q[ye*2+_r],Q[$-1-ye*2-sr]),W.get(Ge+mt*4+Cn+sr)&&pe.set(Q[$-1-ye*2-sr],Q[$-1-ye*2-_r]),W.get(Ge+mt*6+Cn+sr)&&pe.set(Q[$-1-ye*2-_r],Q[ye*2+sr])}Ge+=mt*8}if(_t.drawModeMessage(pe,y,ne,z),y)_t.drawBullsEye(pe,I.truncDivision(ne,2),5);else{_t.drawBullsEye(pe,I.truncDivision(ne,2),7);for(let ye=0,Ge=0;ye<I.truncDivision($,2)-1;ye+=15,Ge+=16)for(let mt=I.truncDivision(ne,2)&1;mt<ne;mt+=2)pe.set(I.truncDivision(ne,2)-Ge,mt),pe.set(I.truncDivision(ne,2)+Ge,mt),pe.set(mt,I.truncDivision(ne,2)-Ge),pe.set(mt,I.truncDivision(ne,2)+Ge)}let ve=new kl;return ve.setCompact(y),ve.setSize(ne),ve.setLayers(C),ve.setCodeWords(Z),ve.setMatrix(pe),ve}static drawBullsEye(s,l,c){for(let f=0;f<c;f+=2)for(let h=l-f;h<=l+f;h++)s.set(h,l-f),s.set(h,l+f),s.set(l-f,h),s.set(l+f,h);s.set(l-c,l-c),s.set(l-c+1,l-c),s.set(l-c,l-c+1),s.set(l+c,l-c),s.set(l+c,l-c+1),s.set(l+c,l+c-1)}static generateModeMessage(s,l,c){let f=new q;return s?(f.appendBits(l-1,2),f.appendBits(c-1,6),f=_t.generateCheckWords(f,28,4)):(f.appendBits(l-1,5),f.appendBits(c-1,11),f=_t.generateCheckWords(f,40,4)),f}static drawModeMessage(s,l,c,f){let h=I.truncDivision(c,2);if(l)for(let m=0;m<7;m++){let y=h-3+m;f.get(m)&&s.set(y,h-5),f.get(m+7)&&s.set(h+5,y),f.get(20-m)&&s.set(y,h+5),f.get(27-m)&&s.set(h-5,y)}else for(let m=0;m<10;m++){let y=h-5+m+I.truncDivision(m,5);f.get(m)&&s.set(y,h-7),f.get(m+10)&&s.set(h+7,y),f.get(29-m)&&s.set(y,h+7),f.get(39-m)&&s.set(h-7,y)}}static generateCheckWords(s,l,c){let f=s.getSize()/c,h=new Do(_t.getGF(c)),m=I.truncDivision(l,c),y=_t.bitsToWords(s,c,m);h.encode(y,m-f);let C=l%c,E=new q;E.appendBits(0,C);for(const D of Array.from(y))E.appendBits(D,c);return E}static bitsToWords(s,l,c){let f=new Int32Array(c),h,m;for(h=0,m=s.getSize()/l;h<m;h++){let y=0;for(let C=0;C<l;C++)y|=s.get(h*l+C)?1<<l-C-1:0;f[h]=y}return f}static getGF(s){switch(s){case 4:return Ee.AZTEC_PARAM;case 6:return Ee.AZTEC_DATA_6;case 8:return Ee.AZTEC_DATA_8;case 10:return Ee.AZTEC_DATA_10;case 12:return Ee.AZTEC_DATA_12;default:throw new N("Unsupported word size "+s)}}static stuffBits(s,l){let c=new q,f=s.getSize(),h=(1<<l)-2;for(let m=0;m<f;m+=l){let y=0;for(let C=0;C<l;C++)(m+C>=f||s.get(m+C))&&(y|=1<<l-1-C);(y&h)===h?(c.appendBits(y&h,l),m--):y&h?c.appendBits(y,l):(c.appendBits(y|1,l),m--)}return c}static totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}_t.DEFAULT_EC_PERCENT=33,_t.DEFAULT_AZTEC_LAYERS=0,_t.MAX_NB_BITS=32,_t.MAX_NB_BITS_COMPACT=4,_t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Mo{encode(s,l,c,f){return this.encodeWithHints(s,l,c,f,null)}encodeWithHints(s,l,c,f,h){let m=Al.ISO_8859_1,y=_t.DEFAULT_EC_PERCENT,C=_t.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(bn.CHARACTER_SET)&&(m=Zc.forName(h.get(bn.CHARACTER_SET).toString())),h.has(bn.ERROR_CORRECTION)&&(y=I.parseInt(h.get(bn.ERROR_CORRECTION).toString())),h.has(bn.AZTEC_LAYERS)&&(C=I.parseInt(h.get(bn.AZTEC_LAYERS).toString()))),Mo.encodeLayers(s,l,c,f,m,y,C)}static encodeLayers(s,l,c,f,h,m,y){if(l!==je.AZTEC)throw new N("Can only encode AZTEC, but got "+l);let C=_t.encode(re.getBytes(s,h),m,y);return Mo.renderResult(C,c,f)}static renderResult(s,l,c){let f=s.getMatrix();if(f==null)throw new Rt;let h=f.getWidth(),m=f.getHeight(),y=Math.max(l,h),C=Math.max(c,m),E=Math.min(y/h,C/m),D=(y-h*E)/2,B=(C-m*E)/2,W=new Ne(y,C);for(let Z=0,z=B;Z<m;Z++,z+=E)for(let $=0,Q=D;$<h;$++,Q+=E)f.get($,Z)&&W.setRegion(Q,z,E,E);return W}}n.AbstractExpandedDecoder=Wc,n.ArgumentException=w,n.ArithmeticException=Ht,n.AztecCode=kl,n.AztecCodeReader=As,n.AztecCodeWriter=Mo,n.AztecDecoder=ze,n.AztecDetector=os,n.AztecDetectorResult=Qn,n.AztecEncoder=_t,n.AztecHighLevelEncoder=Oo,n.AztecPoint=pn,n.BarcodeFormat=je,n.Binarizer=j,n.BinaryBitmap=S,n.BitArray=q,n.BitMatrix=Ne,n.BitSource=Nl,n.BrowserAztecCodeReader=zi,n.BrowserBarcodeReader=Bd,n.BrowserCodeReader=ke,n.BrowserDatamatrixCodeReader=Ud,n.BrowserMultiFormatReader=Qr,n.BrowserPDF417Reader=_p,n.BrowserQRCodeReader=Gd,n.BrowserQRCodeSvgWriter=$i,n.CharacterSetECI=V,n.ChecksumException=k,n.Code128Reader=Me,n.Code39Reader=cn,n.DataMatrixDecodedBitStreamParser=Is,n.DataMatrixReader=us,n.DecodeHintType=F,n.DecoderResult=Yt,n.DefaultGridSampler=ln,n.DetectorResult=yn,n.EAN13Reader=vi,n.EncodeHintType=bn,n.Exception=g,n.FormatException=R,n.GenericGF=Ee,n.GenericGFPoly=$t,n.GlobalHistogramBinarizer=oe,n.GridSampler=et,n.GridSamplerInstance=Jt,n.HTMLCanvasElementLuminanceSource=Le,n.HybridBinarizer=xe,n.ITFReader=Dt,n.IllegalArgumentException=N,n.IllegalStateException=Rt,n.InvertedLuminanceSource=ge,n.LuminanceSource=ue,n.MathUtils=Qe,n.MultiFormatOneDReader=Hi,n.MultiFormatReader=$d,n.MultiFormatWriter=jl,n.NotFoundException=se,n.OneDReader=on,n.PDF417DecodedBitStreamParser=he,n.PDF417DecoderErrorCorrection=qd,n.PDF417Reader=Zn,n.PDF417ResultMetadata=Xc,n.PerspectiveTransform=Ot,n.PlanarYUVLuminanceSource=gr,n.QRCodeByteMatrix=ds,n.QRCodeDataMask=Er,n.QRCodeDecodedBitStreamParser=fn,n.QRCodeDecoderErrorCorrectionLevel=tn,n.QRCodeDecoderFormatInformation=nr,n.QRCodeEncoder=dn,n.QRCodeEncoderQRCode=Js,n.QRCodeMaskUtil=ft,n.QRCodeMatrixUtil=st,n.QRCodeMode=rt,n.QRCodeReader=yi,n.QRCodeVersion=Je,n.QRCodeWriter=Gi,n.RGBLuminanceSource=Kc,n.RSS14Reader=mn,n.RSSExpandedReader=_e,n.ReaderException=cr,n.ReedSolomonDecoder=we,n.ReedSolomonEncoder=Do,n.ReedSolomonException=Ke,n.Result=Xe,n.ResultMetadataType=at,n.ResultPoint=Te,n.StringUtils=re,n.UnsupportedOperationException=te,n.VideoInputDevice=Ve,n.WhiteRectangleDetector=Pe,n.WriterException=nn,n.ZXingArrays=A,n.ZXingCharset=Zc,n.ZXingInteger=I,n.ZXingStandardCharsets=Al,n.ZXingStringBuilder=ee,n.ZXingStringEncoding=de,n.ZXingSystem=O,n.createAbstractExpandedDecoder=Fd,Object.defineProperty(n,"__esModule",{value:!0})})})(Ox,Ox.exports);var gn=Ox.exports;const cL=kh(gn),uL=b3({__proto__:null,default:cL},[gn]);var Nb=function(){function e(t,n,r){if(this.formatMap=new Map([[He.QR_CODE,gn.BarcodeFormat.QR_CODE],[He.AZTEC,gn.BarcodeFormat.AZTEC],[He.CODABAR,gn.BarcodeFormat.CODABAR],[He.CODE_39,gn.BarcodeFormat.CODE_39],[He.CODE_93,gn.BarcodeFormat.CODE_93],[He.CODE_128,gn.BarcodeFormat.CODE_128],[He.DATA_MATRIX,gn.BarcodeFormat.DATA_MATRIX],[He.MAXICODE,gn.BarcodeFormat.MAXICODE],[He.ITF,gn.BarcodeFormat.ITF],[He.EAN_13,gn.BarcodeFormat.EAN_13],[He.EAN_8,gn.BarcodeFormat.EAN_8],[He.PDF_417,gn.BarcodeFormat.PDF_417],[He.RSS_14,gn.BarcodeFormat.RSS_14],[He.RSS_EXPANDED,gn.BarcodeFormat.RSS_EXPANDED],[He.UPC_A,gn.BarcodeFormat.UPC_A],[He.UPC_E,gn.BarcodeFormat.UPC_E],[He.UPC_EAN_EXTENSION,gn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!uL)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),o=new Map;o.set(gn.DecodeHintType.POSSIBLE_FORMATS,i),o.set(gn.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(o){i(o)}})},e.prototype.decode=function(t){var n=new gn.MultiFormatReader(this.verbose,this.hints),r=new gn.HTMLCanvasElementLuminanceSource(t),i=new gn.BinaryBitmap(new gn.HybridBinarizer(r)),o=n.decode(i);return{text:o.text,format:dE.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),dL=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function x(w){try{g(r.next(w))}catch(N){d(N)}}function v(w){try{g(r.throw(w))}catch(N){d(N)}}function g(w){w.done?o(w.value):i(w.value).then(x,v)}g((r=r.apply(e,t||[])).next())})},fL=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(g){return function(w){return v([g,w])}}function v(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(o=g[0]&2?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],i=0}finally{r=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Eb=function(){function e(t,n,r){if(this.formatMap=new Map([[He.QR_CODE,"qr_code"],[He.AZTEC,"aztec"],[He.CODABAR,"codabar"],[He.CODE_39,"code_39"],[He.CODE_93,"code_93"],[He.CODE_128,"code_128"],[He.DATA_MATRIX,"data_matrix"],[He.ITF,"itf"],[He.EAN_13,"ean_13"],[He.EAN_8,"ean_8"],[He.PDF_417,"pdf417"],[He.UPC_A,"upc_a"],[He.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return dL(this,void 0,void 0,function(){var n,r;return fL(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:dE.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,o=t;i<o.length;i++){var d=o[i],x=d.boundingBox.width*d.boundingBox.height;x>r&&(r=x,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Sb=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function x(w){try{g(r.next(w))}catch(N){d(N)}}function v(w){try{g(r.throw(w))}catch(N){d(N)}}function g(w){w.done?o(w.value):i(w.value).then(x,v)}g((r=r.apply(e,t||[])).next())})},_b=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(g){return function(w){return v([g,w])}}function v(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(o=g[0]&2?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],i=0}finally{r=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},hL=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Eb.isSupported()?(this.primaryDecoder=new Eb(t,r,i),this.secondaryDecoder=new Nb(t,r,i)):this.primaryDecoder=new Nb(t,r,i)}return e.prototype.decodeAsync=function(t){return Sb(this,void 0,void 0,function(){var n;return _b(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Sb(this,void 0,void 0,function(){var n,r;return _b(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var o=t/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),m2=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xh=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function x(w){try{g(r.next(w))}catch(N){d(N)}}function v(w){try{g(r.throw(w))}catch(N){d(N)}}function g(w){w.done?o(w.value):i(w.value).then(x,v)}g((r=r.apply(e,t||[])).next())})},gh=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(g){return function(w){return v([g,w])}}function v(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(o=g[0]&2?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],i=0}finally{r=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},hE=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),pL=function(e){m2(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(hE),mL=function(e){m2(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(pL),xL=function(e){m2(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(hE),gL=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new mL(this.track)},e.prototype.torchFeature=function(){return new xL(this.track)},e}(),vL=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return xh(this,void 0,void 0,function(){var o,d;return gh(this,function(x){switch(x.label){case 0:return o=new e(t,n,i),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:x.sent(),x.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return xh(this,void 0,void 0,function(){return gh(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),o=i.length,d=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++d,d>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new gL(this.getFirstTrackOrFail())},e}(),yL=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return xh(this,void 0,void 0,function(){return gh(this,function(i){return[2,vL.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return xh(this,void 0,void 0,function(){var n,r;return gh(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),jb=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function x(w){try{g(r.next(w))}catch(N){d(N)}}function v(w){try{g(r.throw(w))}catch(N){d(N)}}function g(w){w.done?o(w.value):i(w.value).then(x,v)}g((r=r.apply(e,t||[])).next())})},Ab=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(g){return function(w){return v([g,w])}}function v(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(o=g[0]&2?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],i=0}finally{r=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},wL=function(){function e(){}return e.failIfNotSupported=function(){return jb(this,void 0,void 0,function(){return Ab(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return jb(this,void 0,void 0,function(){return Ab(this,function(n){return[2,yL.create(t)]})})},e}(),bL=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function x(w){try{g(r.next(w))}catch(N){d(N)}}function v(w){try{g(r.throw(w))}catch(N){d(N)}}function g(w){w.done?o(w.value):i(w.value).then(x,v)}g((r=r.apply(e,t||[])).next())})},CL=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,d;return d={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function x(g){return function(w){return v([g,w])}}function v(g){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(o=g[0]&2?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],i=0}finally{r=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},NL=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=nc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=nc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return bL(this,void 0,void 0,function(){var t,n,r,i,o,d,x;return CL(this,function(v){switch(v.label){case 0:return t=function(g){for(var w=g.getVideoTracks(),N=0,S=w;N<S.length;N++){var k=S[N];k.enabled=!1,k.stop(),g.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=v.sent(),i=[],o=0,d=r;o<d.length;o++)x=d[o],x.kind==="videoinput"&&i.push({id:x.deviceId,label:x.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(o){for(var d=[],x=0,v=o;x<v.length;x++){var g=v[x];g.kind==="video"&&d.push({id:g.id,label:g.label})}t(d)},i=MediaStreamTrack;i.getSources(r)})},e}(),Fn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Fn||(Fn={}));var EL=function(){function e(){this.state=Fn.NOT_STARTED,this.onGoingTransactionNewState=Fn.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Fn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Fn.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Fn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Fn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Fn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Fn.UNKNOWN:throw"Transition from unknown is not allowed";case Fn.NOT_STARTED:this.failIfNewStateIs(t,[Fn.PAUSED]);break;case Fn.SCANNING:break;case Fn.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];if(t===o)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),SL=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Fn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Fn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Fn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Fn.PAUSED},e}(),_L=function(){function e(){}return e.create=function(){return new SL(new EL)},e}(),jL=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vs=function(e){jL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(aL),AL=function(){function e(t,n){this.logger=n,this.fps=vs.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=vs.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?fE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ia(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),kL=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new lL(this.verbose),this.qrcode=new hL(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=_L.create()}return e.prototype.start=function(t,n,r,i){var o=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;i?d=i:d=this.verbose?this.logger.log:function(){};var x=AL.create(n,this.logger);this.clearElement();var v=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=v,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:vs.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var N=this,S=this.stateManagerProxy.startTransition(Fn.SCANNING);return new Promise(function(k,j){var O=g?x.videoConstraints:N.createVideoConstraints(t);if(!O){S.cancel(),j("videoConstraints should be defined");return}var L={};(!g||x.aspectRatio)&&(L.aspectRatio=x.aspectRatio);var T={onRenderSurfaceReady:function(A,I){N.setupUi(A,I,x),N.isScanning=!0,N.foreverScan(x,r,d)}};wL.failIfNotSupported().then(function(A){A.create(O).then(function(I){return I.render(o.element,L,T).then(function(q){N.renderedCamera=q,S.execute(),k(null)}).catch(function(q){S.cancel(),j(q)})}).catch(function(I){S.cancel(),j(nc.errorGettingUserMedia(I))})}).catch(function(A){S.cancel(),j(nc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Fn.PAUSED),this.showPausedState(),(ia(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Fn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Fn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var o=document.getElementById(vs.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ia(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var x=d.width,v=d.height,g=document.getElementById(r.elementId),w=g.clientWidth?g.clientWidth:vs.DEFAULT_WIDTH,N=Math.max(g.clientHeight?g.clientHeight:v,vs.FILE_SCAN_MIN_HEIGHT),S=r.computeCanvasDrawConfig(x,v,w,N);if(n){var k=r.createCanvasElement(w,N,"qr-canvas-visible");k.style.display="inline-block",g.appendChild(k);var j=k.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=w,j.canvas.height=N,j.drawImage(d,0,0,x,v,S.x,S.y,S.width,S.height)}var O=vs.FILE_SCAN_HIDDEN_CANVAS_PADDING,L=Math.max(d.width,S.width),T=Math.max(d.height,S.height),A=L+2*O,I=T+2*O,q=r.createCanvasElement(A,I);g.appendChild(q);var X=q.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=A,X.canvas.height=I,X.drawImage(d,0,0,x,v,O,O,L,T);try{r.qrcode.decodeRobustlyAsync(q).then(function(F){i(Cb.createFromQrcodeResult(F))}).catch(o)}catch(F){o("QR code parse error, error = ".concat(F))}},d.onerror=o,d.onabort=o,d.onstalled=o,d.onsuspend=o,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return NL.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!fE.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[He.QR_CODE,He.AZTEC,He.CODABAR,He.CODE_39,He.CODE_93,He.CODE_128,He.DATA_MATRIX,He.MAXICODE,He.ITF,He.EAN_13,He.EAN_8,He.PDF_417,He.RSS_14,He.RSS_EXPANDED,He.UPC_A,He.UPC_E,He.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,o=t.formatsToSupport;i<o.length;i++){var d=o[i];iL(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ia(t))return!0;if(!ia(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ia(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ia(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,o=r.qrbox;this.validateQrboxConfig(o);var d=this.toQrdimensions(t,n,o),x=function(g){if(g<vs.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(vs.MIN_QR_BOX_SIZE,"px.")},v=function(g){return g>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};x(d.width),x(d.height),d.width=v(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=ia(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,n,i);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&o.height<=n,x={x:0,y:0,width:t,height:n},v=d?this.getShadedRegionBounds(t,n,o):x,g=this.createCanvasElement(v.width,v.height),w={willReadFrequently:!0},N=g.getContext("2d",w);N.canvas.width=v.width,N.canvas.height=v.height,this.element.append(g),d&&this.possiblyInsertShadingElement(this.element,t,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=N,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=nc.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,Cb.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var o=nc.codeParseError(i);return n(o,oL.createFrom(o)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),d=o.videoWidth/o.clientWidth,x=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*d,g=this.qrRegion.height*x,w=this.qrRegion.x*d,N=this.qrRegion.y*x;this.context.drawImage(o,w,N,v,g,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(k){!k&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){S()})):S()}).catch(function(k){i.logger.logError("Error happend while scanning context",k),S()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},o="exact",d=function(j){if(j in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var v=Object.keys(t)[0];if(v!==n&&v!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(v===n){var g=t.facingMode;if(typeof g=="string"){if(d(g))return{facingMode:g}}else if(typeof g=="object")if(o in g){if(d(g["".concat(o)]))return{facingMode:{exact:g["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var w=typeof g;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var N=t.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(o in N)return{deviceId:{exact:N["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var S=typeof N;throw"Invalid type of 'deviceId' = ".concat(S)}}}var k=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var o=(r-t)/2,d=(i-n)/2;return{x:o,y:d,width:t,height:n}}else{var x=t,v=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(v)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?vs.BORDER_SHADER_MATCH_COLOR:vs.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,o=n,d=document.createElement("canvas");return d.style.width="".concat(i,"px"),d.style.height="".concat(o,"px"),d.style.display="none",d.id=ia(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var o=document.createElement("div");o.style.position="absolute";var d=(n-i.width)/2,x=(r-i.height)/2;if(o.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(vs.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var v=5,g=40;this.insertShaderBorders(o,g,v,-v,null,0,!0),this.insertShaderBorders(o,g,v,-v,null,0,!1),this.insertShaderBorders(o,g,v,null,-v,0,!0),this.insertShaderBorders(o,g,v,null,-v,0,!1),this.insertShaderBorders(o,v,g+v,-v,null,-v,!0),this.insertShaderBorders(o,v,g+v,null,-v,-v,!0),this.insertShaderBorders(o,v,g+v,-v,null,-v,!1),this.insertShaderBorders(o,v,g+v,null,-v,-v,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,n,r,i,o,d,x){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=vs.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(n,"px"),v.style.height="".concat(r,"px"),i!==null&&(v.style.top="".concat(i,"px")),o!==null&&(v.style.bottom="".concat(o,"px")),x?v.style.left="".concat(d,"px"):v.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),t.appendChild(v)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var kb;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(kb||(kb={}));const pE=({onScan:e,onError:t=i=>console.error(i),isOpen:n,onClose:r})=>{const[i,o]=M.useState(!1),[d,x]=M.useState(""),v=M.useRef(null),g=M.useRef(null);M.useEffect(()=>(n&&!i&&w(),()=>{N()}),[n]);const w=async()=>{if(v.current)try{const k=new kL("scanner");g.current=k;const j={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[1,2,3,4,5,6,7,8,9,10,11,12]};await k.start({facingMode:"environment"},j,O=>{e(O),N(),r()},O=>{console.log(O)}),o(!0)}catch(k){console.error("Error starting scanner:",k);let j="",O="";k.name==="NotFoundError"||k.message&&k.message.includes("Requested device not found")?(j="No camera found. Please make sure your device has a camera and you have granted permission to use it.",O="No camera detected. You can manually enter the barcode value instead.",tt.error(O,{icon:"",toastId:"camera-not-found"})):k.name==="NotAllowedError"||k.message&&k.message.includes("Permission denied")?(j="Camera access denied. Please grant permission to use your camera.",O="Camera access denied. Please check your browser permissions.",tt.error(O,{icon:"",toastId:"camera-permission-denied"})):(j=k&&k.message?k.message:"Failed to start scanner",tt.error("Failed to start barcode scanner. Please try again later.",{toastId:"scanner-error"})),x(j),t(j),r()}},N=async()=>{if(g.current&&i)try{await g.current.stop(),o(!1)}catch(k){console.error("Error stopping scanner:",k)}},S=()=>{N(),r()};return n?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Scan Barcode"}),a.jsx("button",{onClick:S,className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"mb-4",children:a.jsx("div",{id:"scanner",ref:v,className:"w-full h-64 bg-gray-100 rounded flex items-center justify-center",children:d&&a.jsxs("div",{className:"text-center p-4",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-red-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("p",{className:"text-red-600 font-medium",children:d}),a.jsx("p",{className:"text-gray-600 mt-2",children:"You can manually enter the barcode value instead."})]})})}),a.jsx("div",{className:"text-sm text-gray-500 mb-4",children:d?"To use the barcode scanner, you need a device with a camera and permission to access it.":"Position the barcode within the scanner area. The scanner will automatically detect and process the code."}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:S,className:"btn btn-outline",children:"Cancel"})})]})}):null};pE.propTypes={onScan:ae.func.isRequired,onError:ae.func,isOpen:ae.bool.isRequired,onClose:ae.func.isRequired};const mE=({id:e="",onScan:t,buttonText:n="",className:r=""})=>{const[i,o]=M.useState(!1),d=()=>{o(!0)},x=()=>{o(!1)},v=g=>{console.error("Scan error:",g)};return a.jsxs(a.Fragment,{children:[a.jsxs("button",{id:e,type:"button",onClick:d,className:`flex items-center justify-center px-3 py-1.5 text-sm font-medium rounded-md
          bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
          hover:border-primary-600 hover:shadow-sm transition-all ${r}`,title:"Scan Barcode",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),n&&a.jsx("span",{className:"ml-1 font-medium",children:n})]}),a.jsx(pE,{isOpen:i,onClose:x,onScan:t,onError:v})]})};mE.propTypes={id:ae.string,onScan:ae.func.isRequired,buttonText:ae.string,className:ae.string};const xE=({id:e,name:t,type:n="text",label:r,placeholder:i,value:o,onChange:d,onBlur:x,error:v,disabled:g=!1,required:w=!1,className:N="",onScan:S,...k})=>{const T=`
    rounded-l-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${v?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${g?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 px-3 text-sm
    w-full
    ${N}
  `,A=`barcode-scan-button-${e}`;return a.jsxs("div",{className:"w-full",children:[r&&a.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${v?"text-red-600":"text-slate-700"}`,children:[r,w&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{className:"flex",style:{display:"flex",width:"100%"},children:[a.jsx("input",{id:e,name:t,type:n,value:o,onChange:d,onBlur:x,placeholder:i,disabled:g,required:w,className:T,style:{width:"calc(100% - 120px)"},...k}),a.jsxs("button",{type:"button",onClick:()=>{const I=document.getElementById(A);I&&I.click()},className:`w-[120px] bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
            hover:border-primary-600 hover:shadow-sm transition-all font-medium flex items-center
            justify-center rounded-r-md border-l-0`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Scan"]}),a.jsx("div",{style:{display:"none"},children:a.jsx(mE,{id:A,onScan:S})})]}),v&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:v})]})};xE.propTypes={id:ae.string.isRequired,name:ae.string.isRequired,type:ae.string,label:ae.string,placeholder:ae.string,value:ae.oneOfType([ae.string,ae.number]),onChange:ae.func,onBlur:ae.func,error:ae.string,disabled:ae.bool,required:ae.bool,className:ae.string,onScan:ae.func.isRequired};const Cs=({id:e,name:t,label:n,value:r,onChange:i,onBlur:o,options:d=[],error:x,disabled:v=!1,required:g=!1,placeholder:w="Select an option",className:N="",...S})=>{const L=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none
    ${x?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900"}
    ${v?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 pl-3 pr-10 text-sm
    ${N}
  `;return a.jsxs("div",{className:"w-full",children:[n&&a.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${x?"text-red-600":"text-slate-700"}`,children:[n,g&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{id:e,name:t,value:r,onChange:i,onBlur:o,disabled:v,required:g,className:L,...S,children:[a.jsx("option",{value:"",children:w}),d.map(T=>a.jsx("option",{value:T.value||T,children:T.label||T},T.value||T))]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-slate-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),x&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:x})]})};Cs.propTypes={id:ae.string.isRequired,name:ae.string.isRequired,label:ae.string,value:ae.string,onChange:ae.func,onBlur:ae.func,options:ae.arrayOf(ae.oneOfType([ae.string,ae.shape({value:ae.string.isRequired,label:ae.string.isRequired})])),error:ae.string,disabled:ae.bool,required:ae.bool,placeholder:ae.string,className:ae.string};const Re=({children:e,className:t="",...n})=>a.jsx("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden ${t}`,...n,children:e}),gE=({children:e,className:t="",...n})=>a.jsx("div",{className:`px-6 py-4 border-b border-slate-200 ${t}`,...n,children:e}),vE=({children:e,className:t="",...n})=>a.jsx("h3",{className:`text-lg font-medium text-slate-800 ${t}`,...n,children:e}),yE=({children:e,className:t="",...n})=>a.jsx("div",{className:`p-6 ${t}`,...n,children:e}),wE=({children:e,className:t="",...n})=>a.jsx("div",{className:`px-6 py-4 bg-slate-50 border-t border-slate-200 ${t}`,...n,children:e});Re.Header=gE;Re.Title=vE;Re.Body=yE;Re.Footer=wE;Re.propTypes={children:ae.node.isRequired,className:ae.string};gE.propTypes={children:ae.node.isRequired,className:ae.string};vE.propTypes={children:ae.node.isRequired,className:ae.string};yE.propTypes={children:ae.node.isRequired,className:ae.string};wE.propTypes={children:ae.node.isRequired,className:ae.string};const ws=({children:e,variant:t="primary",size:n="md",className:r="",...i})=>{const o="inline-flex items-center font-medium rounded-full",d={primary:"bg-primary-100 text-primary-800",secondary:"bg-slate-100 text-slate-800",success:"bg-green-100 text-green-800",danger:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800"},x={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"},v=`
    ${o}
    ${d[t]||d.primary}
    ${x[n]||x.md}
    ${r}
  `;return a.jsx("span",{className:v,...i,children:e})};ws.propTypes={children:ae.node.isRequired,variant:ae.oneOf(["primary","secondary","success","danger","warning","info"]),size:ae.oneOf(["sm","md","lg"]),className:ae.string};function fp(){return typeof window<"u"}function Uc(e){return bE(e)?(e.nodeName||"").toLowerCase():"#document"}function Es(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ui(e){var t;return(t=(bE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bE(e){return fp()?e instanceof Node||e instanceof Es(e).Node:!1}function Hr(e){return fp()?e instanceof Element||e instanceof Es(e).Element:!1}function Fi(e){return fp()?e instanceof HTMLElement||e instanceof Es(e).HTMLElement:!1}function Tb(e){return!fp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Es(e).ShadowRoot}function kd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Qs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function TL(e){return["table","td","th"].includes(Uc(e))}function hp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function x2(e){const t=g2(),n=Hr(e)?Qs(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function DL(e){let t=po(e);for(;Fi(t)&&!Ec(t);){if(x2(t))return t;if(hp(t))return null;t=po(t)}return null}function g2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ec(e){return["html","body","#document"].includes(Uc(e))}function Qs(e){return Es(e).getComputedStyle(e)}function pp(e){return Hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function po(e){if(Uc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tb(e)&&e.host||Ui(e);return Tb(t)?t.host:t}function CE(e){const t=po(e);return Ec(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fi(t)&&kd(t)?t:CE(t)}function vd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=CE(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),d=Es(i);if(o){const x=Mx(d);return t.concat(d,d.visualViewport||[],kd(i)?i:[],x&&n?vd(x):[])}return t.concat(i,vd(i,[],n))}function Mx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Sc=Math.min,il=Math.max,vh=Math.round,Zf=Math.floor,Pi=e=>({x:e,y:e}),IL={left:"right",right:"left",bottom:"top",top:"bottom"},RL={start:"end",end:"start"};function OL(e,t,n){return il(e,Sc(t,n))}function mp(e,t){return typeof e=="function"?e(t):e}function _c(e){return e.split("-")[0]}function Td(e){return e.split("-")[1]}function ML(e){return e==="x"?"y":"x"}function v2(e){return e==="y"?"height":"width"}function cc(e){return["top","bottom"].includes(_c(e))?"y":"x"}function y2(e){return ML(cc(e))}function LL(e,t,n){n===void 0&&(n=!1);const r=Td(e),i=y2(e),o=v2(i);let d=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(d=yh(d)),[d,yh(d)]}function PL(e){const t=yh(e);return[Lx(e),t,Lx(t)]}function Lx(e){return e.replace(/start|end/g,t=>RL[t])}function FL(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:d;default:return[]}}function BL(e,t,n,r){const i=Td(e);let o=FL(_c(e),n==="start",r);return i&&(o=o.map(d=>d+"-"+i),t&&(o=o.concat(o.map(Lx)))),o}function yh(e){return e.replace(/left|right|bottom|top/g,t=>IL[t])}function UL(e){return{top:0,right:0,bottom:0,left:0,...e}}function NE(e){return typeof e!="number"?UL(e):{top:e,right:e,bottom:e,left:e}}function wh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var bh=typeof document<"u"?M.useLayoutEffect:M.useEffect;const zL={...Kx},qL=zL.useInsertionEffect,WL=qL||(e=>e());function HL(e){const t=M.useRef(()=>{});return WL(()=>{t.current=e}),M.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function Db(e,t,n){let{reference:r,floating:i}=e;const o=cc(t),d=y2(t),x=v2(d),v=_c(t),g=o==="y",w=r.x+r.width/2-i.width/2,N=r.y+r.height/2-i.height/2,S=r[x]/2-i[x]/2;let k;switch(v){case"top":k={x:w,y:r.y-i.height};break;case"bottom":k={x:w,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:N};break;case"left":k={x:r.x-i.width,y:N};break;default:k={x:r.x,y:r.y}}switch(Td(t)){case"start":k[d]-=S*(n&&g?-1:1);break;case"end":k[d]+=S*(n&&g?-1:1);break}return k}const VL=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:d}=n,x=o.filter(Boolean),v=await(d.isRTL==null?void 0:d.isRTL(t));let g=await d.getElementRects({reference:e,floating:t,strategy:i}),{x:w,y:N}=Db(g,r,v),S=r,k={},j=0;for(let O=0;O<x.length;O++){const{name:L,fn:T}=x[O],{x:A,y:I,data:q,reset:X}=await T({x:w,y:N,initialPlacement:r,placement:S,strategy:i,middlewareData:k,rects:g,platform:d,elements:{reference:e,floating:t}});w=A??w,N=I??N,k={...k,[L]:{...k[L],...q}},X&&j<=50&&(j++,typeof X=="object"&&(X.placement&&(S=X.placement),X.rects&&(g=X.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:i}):X.rects),{x:w,y:N}=Db(g,S,v)),O=-1)}return{x:w,y:N,placement:S,strategy:i,middlewareData:k}};async function YL(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:d,elements:x,strategy:v}=e,{boundary:g="clippingAncestors",rootBoundary:w="viewport",elementContext:N="floating",altBoundary:S=!1,padding:k=0}=mp(t,e),j=NE(k),L=x[S?N==="floating"?"reference":"floating":N],T=wh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(L)))==null||n?L:L.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(x.floating)),boundary:g,rootBoundary:w,strategy:v})),A=N==="floating"?{x:r,y:i,width:d.floating.width,height:d.floating.height}:d.reference,I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(x.floating)),q=await(o.isElement==null?void 0:o.isElement(I))?await(o.getScale==null?void 0:o.getScale(I))||{x:1,y:1}:{x:1,y:1},X=wh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:x,rect:A,offsetParent:I,strategy:v}):A);return{top:(T.top-X.top+j.top)/q.y,bottom:(X.bottom-T.bottom+j.bottom)/q.y,left:(T.left-X.left+j.left)/q.x,right:(X.right-T.right+j.right)/q.x}}const $L=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:d,elements:x,middlewareData:v}=t,{element:g,padding:w=0}=mp(e,t)||{};if(g==null)return{};const N=NE(w),S={x:n,y:r},k=y2(i),j=v2(k),O=await d.getDimensions(g),L=k==="y",T=L?"top":"left",A=L?"bottom":"right",I=L?"clientHeight":"clientWidth",q=o.reference[j]+o.reference[k]-S[k]-o.floating[j],X=S[k]-o.reference[k],F=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let R=F?F[I]:0;(!R||!await(d.isElement==null?void 0:d.isElement(F)))&&(R=x.floating[I]||o.floating[j]);const H=q/2-X/2,V=R/2-O[j]/2-1,te=Sc(N[T],V),de=Sc(N[A],V),re=te,ee=R-O[j]-de,Ne=R/2-O[j]/2+H,se=OL(re,Ne,ee),oe=!v.arrow&&Td(i)!=null&&Ne!==se&&o.reference[j]/2-(Ne<re?te:de)-O[j]/2<0,xe=oe?Ne<re?Ne-re:Ne-ee:0;return{[k]:S[k]+xe,data:{[k]:se,centerOffset:Ne-se-xe,...oe&&{alignmentOffset:xe}},reset:oe}}}),GL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:d,initialPlacement:x,platform:v,elements:g}=t,{mainAxis:w=!0,crossAxis:N=!0,fallbackPlacements:S,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:O=!0,...L}=mp(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const T=_c(i),A=cc(x),I=_c(x)===x,q=await(v.isRTL==null?void 0:v.isRTL(g.floating)),X=S||(I||!O?[yh(x)]:PL(x)),F=j!=="none";!S&&F&&X.push(...BL(x,O,j,q));const R=[x,...X],H=await YL(t,L),V=[];let te=((r=o.flip)==null?void 0:r.overflows)||[];if(w&&V.push(H[T]),N){const se=LL(i,d,q);V.push(H[se[0]],H[se[1]])}if(te=[...te,{placement:i,overflows:V}],!V.every(se=>se<=0)){var de,re;const se=(((de=o.flip)==null?void 0:de.index)||0)+1,oe=R[se];if(oe){var ee;const ue=N==="alignment"?A!==cc(oe):!1,ge=((ee=te[0])==null?void 0:ee.overflows[0])>0;if(!ue||ge)return{data:{index:se,overflows:te},reset:{placement:oe}}}let xe=(re=te.filter(ue=>ue.overflows[0]<=0).sort((ue,ge)=>ue.overflows[1]-ge.overflows[1])[0])==null?void 0:re.placement;if(!xe)switch(k){case"bestFit":{var Ne;const ue=(Ne=te.filter(ge=>{if(F){const Le=cc(ge.placement);return Le===A||Le==="y"}return!0}).map(ge=>[ge.placement,ge.overflows.filter(Le=>Le>0).reduce((Le,Ve)=>Le+Ve,0)]).sort((ge,Le)=>ge[1]-Le[1])[0])==null?void 0:Ne[0];ue&&(xe=ue);break}case"initialPlacement":xe=x;break}if(i!==xe)return{reset:{placement:xe}}}return{}}}};async function XL(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),d=_c(n),x=Td(n),v=cc(n)==="y",g=["left","top"].includes(d)?-1:1,w=o&&v?-1:1,N=mp(t,e);let{mainAxis:S,crossAxis:k,alignmentAxis:j}=typeof N=="number"?{mainAxis:N,crossAxis:0,alignmentAxis:null}:{mainAxis:N.mainAxis||0,crossAxis:N.crossAxis||0,alignmentAxis:N.alignmentAxis};return x&&typeof j=="number"&&(k=x==="end"?j*-1:j),v?{x:k*w,y:S*g}:{x:S*g,y:k*w}}const QL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:d,middlewareData:x}=t,v=await XL(t,e);return d===((n=x.offset)==null?void 0:n.placement)&&(r=x.arrow)!=null&&r.alignmentOffset?{}:{x:i+v.x,y:o+v.y,data:{...v,placement:d}}}}};function EE(e){const t=Qs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Fi(e),o=i?e.offsetWidth:n,d=i?e.offsetHeight:r,x=vh(n)!==o||vh(r)!==d;return x&&(n=o,r=d),{width:n,height:r,$:x}}function w2(e){return Hr(e)?e:e.contextElement}function uc(e){const t=w2(e);if(!Fi(t))return Pi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=EE(t);let d=(o?vh(n.width):n.width)/r,x=(o?vh(n.height):n.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!x||!Number.isFinite(x))&&(x=1),{x:d,y:x}}const KL=Pi(0);function SE(e){const t=Es(e);return!g2()||!t.visualViewport?KL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ZL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Es(e)?!1:t}function ml(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=w2(e);let d=Pi(1);t&&(r?Hr(r)&&(d=uc(r)):d=uc(e));const x=ZL(o,n,r)?SE(o):Pi(0);let v=(i.left+x.x)/d.x,g=(i.top+x.y)/d.y,w=i.width/d.x,N=i.height/d.y;if(o){const S=Es(o),k=r&&Hr(r)?Es(r):r;let j=S,O=Mx(j);for(;O&&r&&k!==j;){const L=uc(O),T=O.getBoundingClientRect(),A=Qs(O),I=T.left+(O.clientLeft+parseFloat(A.paddingLeft))*L.x,q=T.top+(O.clientTop+parseFloat(A.paddingTop))*L.y;v*=L.x,g*=L.y,w*=L.x,N*=L.y,v+=I,g+=q,j=Es(O),O=Mx(j)}}return wh({width:w,height:N,x:v,y:g})}function b2(e,t){const n=pp(e).scrollLeft;return t?t.left+n:ml(Ui(e)).left+n}function _E(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:b2(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function JL(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",d=Ui(r),x=t?hp(t.floating):!1;if(r===d||x&&o)return n;let v={scrollLeft:0,scrollTop:0},g=Pi(1);const w=Pi(0),N=Fi(r);if((N||!N&&!o)&&((Uc(r)!=="body"||kd(d))&&(v=pp(r)),Fi(r))){const k=ml(r);g=uc(r),w.x=k.x+r.clientLeft,w.y=k.y+r.clientTop}const S=d&&!N&&!o?_E(d,v,!0):Pi(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-v.scrollLeft*g.x+w.x+S.x,y:n.y*g.y-v.scrollTop*g.y+w.y+S.y}}function eP(e){return Array.from(e.getClientRects())}function tP(e){const t=Ui(e),n=pp(e),r=e.ownerDocument.body,i=il(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=il(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let d=-n.scrollLeft+b2(e);const x=-n.scrollTop;return Qs(r).direction==="rtl"&&(d+=il(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:d,y:x}}function nP(e,t){const n=Es(e),r=Ui(e),i=n.visualViewport;let o=r.clientWidth,d=r.clientHeight,x=0,v=0;if(i){o=i.width,d=i.height;const g=g2();(!g||g&&t==="fixed")&&(x=i.offsetLeft,v=i.offsetTop)}return{width:o,height:d,x,y:v}}function rP(e,t){const n=ml(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Fi(e)?uc(e):Pi(1),d=e.clientWidth*o.x,x=e.clientHeight*o.y,v=i*o.x,g=r*o.y;return{width:d,height:x,x:v,y:g}}function Ib(e,t,n){let r;if(t==="viewport")r=nP(e,n);else if(t==="document")r=tP(Ui(e));else if(Hr(t))r=rP(t,n);else{const i=SE(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return wh(r)}function jE(e,t){const n=po(e);return n===t||!Hr(n)||Ec(n)?!1:Qs(n).position==="fixed"||jE(n,t)}function sP(e,t){const n=t.get(e);if(n)return n;let r=vd(e,[],!1).filter(x=>Hr(x)&&Uc(x)!=="body"),i=null;const o=Qs(e).position==="fixed";let d=o?po(e):e;for(;Hr(d)&&!Ec(d);){const x=Qs(d),v=x2(d);!v&&x.position==="fixed"&&(i=null),(o?!v&&!i:!v&&x.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||kd(d)&&!v&&jE(e,d))?r=r.filter(w=>w!==d):i=x,d=po(d)}return t.set(e,r),r}function iP(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const d=[...n==="clippingAncestors"?hp(t)?[]:sP(t,this._c):[].concat(n),r],x=d[0],v=d.reduce((g,w)=>{const N=Ib(t,w,i);return g.top=il(N.top,g.top),g.right=Sc(N.right,g.right),g.bottom=Sc(N.bottom,g.bottom),g.left=il(N.left,g.left),g},Ib(t,x,i));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function aP(e){const{width:t,height:n}=EE(e);return{width:t,height:n}}function oP(e,t,n){const r=Fi(t),i=Ui(t),o=n==="fixed",d=ml(e,!0,o,t);let x={scrollLeft:0,scrollTop:0};const v=Pi(0);function g(){v.x=b2(i)}if(r||!r&&!o)if((Uc(t)!=="body"||kd(i))&&(x=pp(t)),r){const k=ml(t,!0,o,t);v.x=k.x+t.clientLeft,v.y=k.y+t.clientTop}else i&&g();o&&!r&&i&&g();const w=i&&!r&&!o?_E(i,x):Pi(0),N=d.left+x.scrollLeft-v.x-w.x,S=d.top+x.scrollTop-v.y-w.y;return{x:N,y:S,width:d.width,height:d.height}}function rm(e){return Qs(e).position==="static"}function Rb(e,t){if(!Fi(e)||Qs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ui(e)===n&&(n=n.ownerDocument.body),n}function AE(e,t){const n=Es(e);if(hp(e))return n;if(!Fi(e)){let i=po(e);for(;i&&!Ec(i);){if(Hr(i)&&!rm(i))return i;i=po(i)}return n}let r=Rb(e,t);for(;r&&TL(r)&&rm(r);)r=Rb(r,t);return r&&Ec(r)&&rm(r)&&!x2(r)?n:r||DL(e)||n}const lP=async function(e){const t=this.getOffsetParent||AE,n=this.getDimensions,r=await n(e.floating);return{reference:oP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cP(e){return Qs(e).direction==="rtl"}const uP={convertOffsetParentRelativeRectToViewportRelativeRect:JL,getDocumentElement:Ui,getClippingRect:iP,getOffsetParent:AE,getElementRects:lP,getClientRects:eP,getDimensions:aP,getScale:uc,isElement:Hr,isRTL:cP};function kE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dP(e,t){let n=null,r;const i=Ui(e);function o(){var x;clearTimeout(r),(x=n)==null||x.disconnect(),n=null}function d(x,v){x===void 0&&(x=!1),v===void 0&&(v=1),o();const g=e.getBoundingClientRect(),{left:w,top:N,width:S,height:k}=g;if(x||t(),!S||!k)return;const j=Zf(N),O=Zf(i.clientWidth-(w+S)),L=Zf(i.clientHeight-(N+k)),T=Zf(w),I={rootMargin:-j+"px "+-O+"px "+-L+"px "+-T+"px",threshold:il(0,Sc(1,v))||1};let q=!0;function X(F){const R=F[0].intersectionRatio;if(R!==v){if(!q)return d();R?d(!1,R):r=setTimeout(()=>{d(!1,1e-7)},1e3)}R===1&&!kE(g,e.getBoundingClientRect())&&d(),q=!1}try{n=new IntersectionObserver(X,{...I,root:i.ownerDocument})}catch{n=new IntersectionObserver(X,I)}n.observe(e)}return d(!0),o}function fP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:x=typeof IntersectionObserver=="function",animationFrame:v=!1}=r,g=w2(e),w=i||o?[...g?vd(g):[],...vd(t)]:[];w.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),o&&T.addEventListener("resize",n)});const N=g&&x?dP(g,n):null;let S=-1,k=null;d&&(k=new ResizeObserver(T=>{let[A]=T;A&&A.target===g&&k&&(k.unobserve(t),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var I;(I=k)==null||I.observe(t)})),n()}),g&&!v&&k.observe(g),k.observe(t));let j,O=v?ml(e):null;v&&L();function L(){const T=ml(e);O&&!kE(O,T)&&n(),O=T,j=requestAnimationFrame(L)}return n(),()=>{var T;w.forEach(A=>{i&&A.removeEventListener("scroll",n),o&&A.removeEventListener("resize",n)}),N==null||N(),(T=k)==null||T.disconnect(),k=null,v&&cancelAnimationFrame(j)}}const hP=QL,pP=GL,Ob=$L,mP=(e,t,n)=>{const r=new Map,i={platform:uP,...n},o={...i.platform,_c:r};return VL(e,t,{...i,platform:o})};var _0=typeof document<"u"?M.useLayoutEffect:M.useEffect;function Ch(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ch(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Ch(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function TE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Mb(e,t){const n=TE(e);return Math.round(t*n)/n}function sm(e){const t=M.useRef(e);return _0(()=>{t.current=e}),t}function xP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:d}={},transform:x=!0,whileElementsMounted:v,open:g}=e,[w,N]=M.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[S,k]=M.useState(r);Ch(S,r)||k(r);const[j,O]=M.useState(null),[L,T]=M.useState(null),A=M.useCallback(ue=>{ue!==F.current&&(F.current=ue,O(ue))},[]),I=M.useCallback(ue=>{ue!==R.current&&(R.current=ue,T(ue))},[]),q=o||j,X=d||L,F=M.useRef(null),R=M.useRef(null),H=M.useRef(w),V=v!=null,te=sm(v),de=sm(i),re=sm(g),ee=M.useCallback(()=>{if(!F.current||!R.current)return;const ue={placement:t,strategy:n,middleware:S};de.current&&(ue.platform=de.current),mP(F.current,R.current,ue).then(ge=>{const Le={...ge,isPositioned:re.current!==!1};Ne.current&&!Ch(H.current,Le)&&(H.current=Le,qg.flushSync(()=>{N(Le)}))})},[S,t,n,de,re]);_0(()=>{g===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,N(ue=>({...ue,isPositioned:!1})))},[g]);const Ne=M.useRef(!1);_0(()=>(Ne.current=!0,()=>{Ne.current=!1}),[]),_0(()=>{if(q&&(F.current=q),X&&(R.current=X),q&&X){if(te.current)return te.current(q,X,ee);ee()}},[q,X,ee,te,V]);const se=M.useMemo(()=>({reference:F,floating:R,setReference:A,setFloating:I}),[A,I]),oe=M.useMemo(()=>({reference:q,floating:X}),[q,X]),xe=M.useMemo(()=>{const ue={position:n,left:0,top:0};if(!oe.floating)return ue;const ge=Mb(oe.floating,w.x),Le=Mb(oe.floating,w.y);return x?{...ue,transform:"translate("+ge+"px, "+Le+"px)",...TE(oe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ge,top:Le}},[n,x,oe.floating,w.x,w.y]);return M.useMemo(()=>({...w,update:ee,refs:se,elements:oe,floatingStyles:xe}),[w,ee,se,oe,xe])}const gP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ob({element:r.current,padding:i}).fn(n):{}:r?Ob({element:r,padding:i}).fn(n):{}}}},vP=(e,t)=>({...hP(e),options:[e,t]}),yP=(e,t)=>({...pP(e),options:[e,t]}),wP=(e,t)=>({...gP(e),options:[e,t]}),bP={...Kx};let Lb=!1,CP=0;const Pb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+CP++;function NP(){const[e,t]=M.useState(()=>Lb?Pb():void 0);return bh(()=>{e==null&&t(Pb())},[]),M.useEffect(()=>{Lb=!0},[]),e}const EP=bP.useId,DE=EP||NP,SP=M.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:d}},width:x=14,height:v=7,tipRadius:g=0,strokeWidth:w=0,staticOffset:N,stroke:S,d:k,style:{transform:j,...O}={},...L}=t,T=DE(),[A,I]=M.useState(!1);if(bh(()=>{if(!i)return;Qs(i).direction==="rtl"&&I(!0)},[i]),!i)return null;const[q,X]=r.split("-"),F=q==="top"||q==="bottom";let R=N;(F&&d!=null&&d.x||!F&&d!=null&&d.y)&&(R=null);const H=w*2,V=H/2,te=x/2*(g/-8+1),de=v/2*g/4,re=!!k,ee=R&&X==="end"?"bottom":"top";let Ne=R&&X==="end"?"right":"left";R&&A&&(Ne=X==="end"?"left":"right");const se=(o==null?void 0:o.x)!=null?R||o.x:"",oe=(o==null?void 0:o.y)!=null?R||o.y:"",xe=k||"M0,0"+(" H"+x)+(" L"+(x-te)+","+(v-de))+(" Q"+x/2+","+v+" "+te+","+(v-de))+" Z",ue={top:re?"rotate(180deg)":"",left:re?"rotate(90deg)":"rotate(-90deg)",bottom:re?"":"rotate(180deg)",right:re?"rotate(-90deg)":"rotate(90deg)"}[q];return a.jsxs("svg",{...L,"aria-hidden":!0,ref:n,width:re?x:x+H,height:x,viewBox:"0 0 "+x+" "+(v>x?v:x),style:{position:"absolute",pointerEvents:"none",[Ne]:se,[ee]:oe,[q]:F||re?"100%":"calc(100% - "+H/2+"px)",transform:[ue,j].filter(ge=>!!ge).join(" "),...O},children:[H>0&&a.jsx("path",{clipPath:"url(#"+T+")",fill:"none",stroke:S,strokeWidth:H+(k?0:1),d:xe}),a.jsx("path",{stroke:H&&!k?L.fill:"none",d:xe}),a.jsx("clipPath",{id:T,children:a.jsx("rect",{x:-V,y:V*(re?-1:1),width:x+H,height:x})})]})});function _P(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const jP=M.createContext(null),AP=M.createContext(null),kP=()=>{var e;return((e=M.useContext(jP))==null?void 0:e.id)||null},TP=()=>M.useContext(AP);function DP(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=DE(),o=M.useRef({}),[d]=M.useState(()=>_P()),x=kP()!=null,[v,g]=M.useState(r.reference),w=HL((k,j,O)=>{o.current.openEvent=k?j:void 0,d.emit("openchange",{open:k,event:j,reason:O,nested:x}),n==null||n(k,j,O)}),N=M.useMemo(()=>({setPositionReference:g}),[]),S=M.useMemo(()=>({reference:v||r.reference||null,floating:r.floating||null,domReference:r.reference}),[v,r.reference,r.floating]);return M.useMemo(()=>({dataRef:o,open:t,onOpenChange:w,elements:S,events:d,floatingId:i,refs:N}),[t,w,S,d,i,N])}function IP(e){e===void 0&&(e={});const{nodeId:t}=e,n=DP({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,d]=M.useState(null),[x,v]=M.useState(null),w=(i==null?void 0:i.domReference)||o,N=M.useRef(null),S=TP();bh(()=>{w&&(N.current=w)},[w]);const k=xP({...e,elements:{...i,...x&&{reference:x}}}),j=M.useCallback(I=>{const q=Hr(I)?{getBoundingClientRect:()=>I.getBoundingClientRect(),getClientRects:()=>I.getClientRects(),contextElement:I}:I;v(q),k.refs.setReference(q)},[k.refs]),O=M.useCallback(I=>{(Hr(I)||I===null)&&(N.current=I,d(I)),(Hr(k.refs.reference.current)||k.refs.reference.current===null||I!==null&&!Hr(I))&&k.refs.setReference(I)},[k.refs]),L=M.useMemo(()=>({...k.refs,setReference:O,setPositionReference:j,domReference:N}),[k.refs,O,j]),T=M.useMemo(()=>({...k.elements,domReference:w}),[k.elements,w]),A=M.useMemo(()=>({...k,...r,refs:L,elements:T,nodeId:t}),[k,L,T,t,r]);return bh(()=>{r.dataRef.current.floatingContext=A;const I=S==null?void 0:S.nodesRef.current.find(q=>q.id===t);I&&(I.context=A)}),M.useMemo(()=>({...k,context:A,refs:L,elements:T}),[k,L,T,A])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Px=function(t,n){return Px=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},Px(t,n)};function mr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Px(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ft=function(){return Ft=Object.assign||function(n){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(n[d]=r[d])}return n},Ft.apply(this,arguments)};function Oi(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var RP=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,o=e.className,d=e.children,x=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return fe.createElement("div",{className:o,role:"dialog","aria-label":x,"aria-modal":"true"},d)},OP=function(e,t){var n=M.useRef(null),r=M.useRef(e);r.current=e;var i=M.useCallback(function(o){var d,x=o.composed&&o.composedPath&&o.composedPath().find(function(v){return v instanceof Node})||o.target;n.current&&!n.current.contains(x)&&(t&&x instanceof HTMLElement&&x.classList.contains(t)||(d=r.current)===null||d===void 0||d.call(r,o))},[t]);return M.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},xp=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,o=e.style,d=e.ignoreClass,x=OP(n,d);return fe.createElement("div",{className:r,style:o,ref:function(v){x.current=v,i&&(i.current=v)}},t)},Ue;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Ue||(Ue={}));function IE(){var e=typeof window<"u"?window:globalThis;return e}var Dd=12;function Qt(e){if(e==null)return new Date;var t=typeof e=="string"?O9(e):$e(e);return gp(t)?t:new Date}function im(e,t,n,r,i){i===void 0&&(i=Qt());for(var o=jc(n)||jc(C2()),d=Array.isArray(t)?t:[t],x=0,v=d;x<v.length;x++){var g=v[x],w=A9(e,g,i,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(gp(w)&&(!r||e===_n(w,g,n)))return w}return null}function gp(e,t){return dh(e)&&!pl(e,new Date("1/1/1800"))}function _n(e,t,n){if(n==="en")return xd(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?jc(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||jc(C2()),xd(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function zs(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&_n(e,i,r)||""}var RE=" - ";function MP(e,t,n){if(!e)return"";var r=zs(e,n),i=t?zs(t,n):"";return"".concat(r).concat(RE).concat(i)}function LP(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?zs(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=zs(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}function am(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,o=i===void 0?0:i,d=t.second,x=d===void 0?0:d;return N0(E0(S0(e,x),o),r)}function PP(e){return d2(e)}function FP(e,t){return _n(e,"ddd",t)}function j0(e){return hl(e)}function co(e,t,n){var r=jc(t||C2());return ba(e,{locale:r,weekStartsOn:n})}function ma(e){return QN(e)}function Ou(e){return dp(e)}function Fb(e){return kx(e)}function Bb(){return hl(Qt())}function Ub(e){return l2(e)}function BP(e){return MO(e)}function UP(e){return c2(e)}function Ai(e,t){return e&&t?I9(e,t):!e&&!t}function qr(e,t){return e&&t?T9(e,t):!e&&!t}function Nh(e,t){return e&&t?D9(e,t):!e&&!t}function Pt(e,t){return e&&t?AO(e,t):!e&&!t}function Jo(e,t){return e&&t?RM(e,t):!e&&!t}function Mu(e,t,n){var r,i=hl(t),o=l2(n);try{r=gd(e,{start:i,end:o})}catch{r=!1}return r}function C2(){var e=IE();return e.__localeId__}function jc(e){if(typeof e=="string"){var t=IE();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function zP(e,t,n){return t(_n(e,"EEEE",n))}function qP(e,t){return _n(e,"EEEEEE",t)}function WP(e,t){return _n(e,"EEE",t)}function N2(e,t){return _n(qs(Qt(),e),"LLLL",t)}function OE(e,t){return _n(qs(Qt(),e),"LLL",t)}function HP(e,t){return _n(zl(Qt(),e),"QQQ",t)}function Vs(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,d=n.excludeDateIntervals,x=n.includeDates,v=n.includeDateIntervals,g=n.filterDate;return Id(e,{minDate:r,maxDate:i})||o&&o.some(function(w){return w instanceof Date?Pt(e,w):Pt(e,w.date)})||d&&d.some(function(w){var N=w.start,S=w.end;return gd(e,{start:N,end:S})})||x&&!x.some(function(w){return Pt(e,w)})||v&&!v.some(function(w){var N=w.start,S=w.end;return gd(e,{start:N,end:S})})||g&&!g(Qt(e))||!1}function E2(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var d=o.start,x=o.end;return gd(e,{start:d,end:x})}):r&&r.some(function(o){var d;return o instanceof Date?Pt(e,o):Pt(e,(d=o.date)!==null&&d!==void 0?d:new Date)})||!1}function ME(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,d=n.includeDates,x=n.filterDate;return Id(e,{minDate:r?QN(r):void 0,maxDate:i?c2(i):void 0})||(o==null?void 0:o.some(function(v){return qr(e,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return qr(e,v)})||x&&!x(Qt(e))||!1}function Jf(e,t,n,r){var i=Et(e),o=Or(e),d=Et(t),x=Or(t),v=Et(r);return i===d&&i===v?o<=n&&n<=x:i<d?v===i&&o<=n||v===d&&x>=n||v<d&&v>i:!1}function VP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,d=n.includeDates;return Id(e,{minDate:r,maxDate:i})||o&&o.some(function(x){return qr(x instanceof Date?x:x.date,e)})||d&&!d.some(function(x){return qr(x,e)})||!1}function e0(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,d=n.includeDates,x=n.filterDate;return Id(e,{minDate:r,maxDate:i})||(o==null?void 0:o.some(function(v){return Nh(e,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return Nh(e,v)})||x&&!x(Qt(e))||!1}function t0(e,t,n){if(!t||!n||!dh(t)||!dh(n))return!1;var r=Et(t),i=Et(n);return r<=e&&i>=e}function A0(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,d=n.includeDates,x=n.filterDate,v=new Date(e,0,1);return Id(v,{minDate:r?dp(r):void 0,maxDate:i?KN(i):void 0})||(o==null?void 0:o.some(function(g){return Ai(v,g instanceof Date?g:g.date)}))||d&&!d.some(function(g){return Ai(v,g)})||x&&!x(Qt(v))||!1}function n0(e,t,n,r){var i=Et(e),o=rl(e),d=Et(t),x=rl(t),v=Et(r);return i===d&&i===v?o<=n&&n<=x:i<d?v===i&&o<=n||v===d&&x>=n||v<d&&v>i:!1}function Id(e,t){var n,r=t===void 0?{}:t,i=r.minDate,o=r.maxDate;return(n=i&&Cc(e,i)<0||o&&Cc(e,o)>0)!==null&&n!==void 0?n:!1}function zb(e,t){return t.some(function(n){return ha(n)===ha(e)&&pa(n)===pa(e)&&lo(n)===lo(e)})}function qb(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,o=n.filterTime;return r&&zb(e,r)||i&&!zb(e,i)||o&&!o(e)||!1}function Wb(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Qt();i=N0(i,ha(e)),i=E0(i,pa(e)),i=S0(i,lo(e));var o=Qt();o=N0(o,ha(n)),o=E0(o,pa(n)),o=S0(o,lo(n));var d=Qt();d=N0(d,ha(r)),d=E0(d,pa(r)),d=S0(d,lo(r));var x;try{x=!gd(i,{start:o,end:d})}catch{x=!1}return x}function Hb(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=sl(e,1);return r&&md(r,o)>0||i&&i.every(function(d){return md(d,o)>0})||!1}function Vb(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=pi(e,1);return r&&md(o,r)>0||i&&i.every(function(d){return md(o,d)>0})||!1}function YP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=dp(e),d=oE(o,1);return r&&fh(r,d)>0||i&&i.every(function(x){return fh(x,d)>0})||!1}function $P(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=KN(e),d=o2(o,1);return r&&fh(d,r)>0||i&&i.every(function(x){return fh(d,x)>0})||!1}function Yb(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=Nc(e,1);return r&&hh(r,o)>0||i&&i.every(function(d){return hh(d,o)>0})||!1}function GP(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,o=i===void 0?Dd:i,d=Ou(Nc(e,o)),x=Za(d,o).endPeriod,v=r&&Et(r);return v&&v>x||!1}function $b(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=da(e,1);return r&&hh(o,r)>0||i&&i.every(function(d){return hh(o,d)>0})||!1}function XP(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,o=i===void 0?Dd:i,d=da(e,o),x=Za(d,o).startPeriod,v=r&&Et(r);return v&&v<x||!1}function LE(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return Cc(i,t)>=0});return fb(r)}else return n?fb(n):t}function PE(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return Cc(i,t)<=0});return db(r)}else return n?db(n):t}function Gb(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=e.length;i<o;i++){var d=e[i];if(fa(d)){var x=_n(d,"MM.dd.yyyy"),v=r.get(x)||[];v.includes(t)||(v.push(t),r.set(x,v))}else if(typeof d=="object"){var g=Object.keys(d),w=(n=g[0])!==null&&n!==void 0?n:"",N=d[w];if(typeof w=="string"&&Array.isArray(N))for(var S=0,k=N.length;S<k;S++){var j=N[S];if(j){var x=_n(j,"MM.dd.yyyy"),v=r.get(x)||[];v.includes(w)||(v.push(w),r.set(x,v))}}}}return r}function QP(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function KP(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var i=r.date,o=r.holidayName;if(fa(i)){var d=_n(i,"MM.dd.yyyy"),x=n.get(d)||{className:"",holidayNames:[]};if(!("className"in x&&x.className===t&&QP(x.holidayNames,[o]))){x.className=t;var v=x.holidayNames;x.holidayNames=v?Oi(Oi([],v,!0),[o],!1):[o],n.set(d,x)}}}),n}function ZP(e,t,n,r,i){for(var o=i.length,d=[],x=0;x<o;x++){var v=e,g=i[x];g&&(v=NO(v,ha(g)),v=Ax(v,pa(g)),v=_O(v,lo(g)));var w=Ax(e,(n+1)*r);ho(v,t)&&pl(v,w)&&g!=null&&d.push(g)}return d}function Xb(e){return e<10?"0".concat(e):"".concat(e)}function Za(e,t){t===void 0&&(t=Dd);var n=Math.ceil(Et(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function JP(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function Qb(e){var t=e.getSeconds(),n=e.getMilliseconds();return $e(e.getTime()-t*1e3-n)}function eF(e,t){return Qb(e).getTime()===Qb(t).getTime()}function Kb(e){if(!fa(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Zb(e,t){if(!fa(e)||!fa(t))throw new Error("Invalid date received");var n=Kb(e),r=Kb(t);return pl(n,r)}function FE(e){return e.key===Ue.Space}var tF=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=fe.createRef(),r.onTimeChange=function(i){var o,d;r.setState({time:i});var x=r.props.date,v=x instanceof Date&&!isNaN(+x),g=v?x:new Date;if(i!=null&&i.includes(":")){var w=i.split(":"),N=w[0],S=w[1];g.setHours(Number(N)),g.setMinutes(Number(S))}(d=(o=r.props).onChange)===null||d===void 0||d.call(o,g)},r.renderTimeInput=function(){var i=r.state.time,o=r.props,d=o.date,x=o.timeString,v=o.customTimeInput;return v?M.cloneElement(v,{date:d,value:i,onChange:r.onTimeChange}):fe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var g;(g=r.inputRef.current)===null||g===void 0||g.focus()},required:!0,value:i,onChange:function(g){r.onTimeChange(g.target.value||x)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return fe.createElement("div",{className:"react-datepicker__input-time-container"},fe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),fe.createElement("div",{className:"react-datepicker-time__input-container"},fe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(M.Component),nF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=M.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,o,d=r.key;d===Ue.Space&&(r.preventDefault(),r.key=Ue.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isSameDay=function(r){return Pt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(d){return n.isSameDayOrWeek(d)}):n.isSameDayOrWeek(n.props.selected),o=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!o},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Vs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return E2(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Pt(n.props.day,co(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Pt(r,co(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,o=r.highlightDates;if(!o)return!1;var d=_n(i,"MM.dd.yyyy");return o.get(d)},n.getHolidaysClass=function(){var r,i=n.props,o=i.day,d=i.holidays;if(!d)return[void 0];var x=_n(o,"MM.dd.yyyy");return d.has(x)?[(r=d.get(x))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,o=r.startDate,d=r.endDate;return!o||!d?!1:Mu(i,o,d)},n.isInSelectingRange=function(){var r,i=n.props,o=i.day,d=i.selectsStart,x=i.selectsEnd,v=i.selectsRange,g=i.selectsDisabledDaysInRange,w=i.startDate,N=i.endDate,S=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(d||x||v)||!S||!g&&n.isDisabled()?!1:d&&N&&(pl(S,N)||Jo(S,N))?Mu(o,S,N):x&&w&&(ho(S,w)||Jo(S,w))||v&&w&&!N&&(ho(S,w)||Jo(S,w))?Mu(o,w,S):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,d=i.startDate,x=i.selectsStart,v=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return x?Pt(o,v):Pt(o,d)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,d=i.endDate,x=i.selectsEnd,v=i.selectsRange,g=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return x||v?Pt(o,g):Pt(o,d)},n.isRangeStart=function(){var r=n.props,i=r.day,o=r.startDate,d=r.endDate;return!o||!d?!1:Pt(o,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,o=r.startDate,d=r.endDate;return!o||!d?!1:Pt(d,i)},n.isWeekend=function(){var r=kM(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Or(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Or(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Qt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return Sn("react-datepicker__day",i,"react-datepicker__day--"+FP(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,o=r.ariaLabelPrefixWhenEnabled,d=o===void 0?"Choose":o,x=r.ariaLabelPrefixWhenDisabled,v=x===void 0?"Not available":x,g=n.isDisabled()||n.isExcluded()?v:d;return"".concat(g," ").concat(_n(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,o=r.holidays,d=o===void 0?new Map:o,x=r.excludeDates,v=_n(i,"MM.dd.yyyy"),g=[];return d.has(v)&&g.push.apply(g,d.get(v).holidayNames),n.isExcluded()&&g.push(x==null?void 0:x.filter(function(w){return w instanceof Date?Pt(w,i):Pt(w==null?void 0:w.date,i)}).map(function(w){if(!(w instanceof Date))return w==null?void 0:w.message})),g.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,o=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Pt(i,r))?0:-1;return o},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(vb(n.props.day),n.props.day):vb(n.props.day)},n.render=function(){return fe.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&fe.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(M.Component),rF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=M.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,o,d=r.key;d===Ue.Space&&(r.preventDefault(),r.key=Ue.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Pt(n.props.date,n.props.selected)&&Pt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Pt(n.props.date,n.props.selected)&&Pt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Pt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,o=n.ariaLabelPrefix,d=o===void 0?t.defaultProps.ariaLabelPrefix:o,x=n.onClick,v={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!x&&!i,"react-datepicker__week-number--selected":!!x&&Pt(this.props.date,this.props.selected)};return fe.createElement("div",{ref:this.weekNumberEl,className:Sn(v),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(M.Component),sF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Vs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,o){for(var d,x,v,g=new Date(r),w=0;w<7;w++){var N=new Date(r);N.setDate(N.getDate()+w);var S=!n.isDisabled(N);if(S){g=N;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(g,i,o),n.props.showWeekPicker&&n.handleDayClick(g,o),((d=n.props.shouldCloseOnSelect)!==null&&d!==void 0?d:t.defaultProps.shouldCloseOnSelect)&&((v=(x=n.props).setOpen)===null||v===void 0||v.call(x,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):PP(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=fi(r,6),o=new Date(r);o<=i;){if(!n.isDisabled(o))return!1;o=fi(o,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],o=n.formatWeekNumber(r);if(n.props.showWeekNumber){var d=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,o):void 0;i.push(fe.createElement(rF,Ft({key:"W"},t.defaultProps,n.props,{weekNumber:o,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:d})))}return i.concat([0,1,2,3,4,5,6].map(function(x){var v=fi(r,x);return fe.createElement(nF,Ft({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:v.valueOf(),day:v,onClick:n.handleDayClick.bind(n,v),onMouseEnter:n.handleDayMouseEnter.bind(n,v)}))}))},n.startOfWeek=function(){return co(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Pt(n.startOfWeek(),n.props.selected)&&Pt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Pt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return fe.createElement("div",{className:Sn(n)},this.renderDays())},t}(M.Component),ku,iF=6,dc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},om=(ku={},ku[dc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ku[dc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ku[dc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ku),r0=1;function Jb(e,t){return e?dc.FOUR_COLUMNS:t?dc.TWO_COLUMNS:dc.THREE_COLUMNS}var aF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Oi([],Array(12),!0).map(function(){return M.createRef()}),n.QUARTER_REFS=Oi([],Array(4),!0).map(function(){return M.createRef()}),n.isDisabled=function(r){return Vs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return E2(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var o,d;(d=(o=n.props).onDayClick)===null||d===void 0||d.call(o,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,o;(o=(i=n.props).onDayMouseEnter)===null||o===void 0||o.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,o=i.day,d=i.startDate,x=i.endDate;return!d||!x?!1:qr(qs(o,r),d)},n.isRangeStartQuarter=function(r){var i=n.props,o=i.day,d=i.startDate,x=i.endDate;return!d||!x?!1:Nh(zl(o,r),d)},n.isRangeEndMonth=function(r){var i=n.props,o=i.day,d=i.startDate,x=i.endDate;return!d||!x?!1:qr(qs(o,r),x)},n.isRangeEndQuarter=function(r){var i=n.props,o=i.day,d=i.startDate,x=i.endDate;return!d||!x?!1:Nh(zl(o,r),x)},n.isInSelectingRangeMonth=function(r){var i,o=n.props,d=o.day,x=o.selectsStart,v=o.selectsEnd,g=o.selectsRange,w=o.startDate,N=o.endDate,S=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(x||v||g)||!S?!1:x&&N?Jf(S,N,r,d):v&&w||g&&w&&!N?Jf(w,S,r,d):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,d=o.day,x=o.startDate,v=o.selectsStart,g=qs(d,r),w=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return v?qr(g,w):qr(g,x)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,d=o.day,x=o.endDate,v=o.selectsEnd,g=o.selectsRange,w=qs(d,r),N=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return v||g?qr(w,N):qr(w,x)},n.isInSelectingRangeQuarter=function(r){var i,o=n.props,d=o.day,x=o.selectsStart,v=o.selectsEnd,g=o.selectsRange,w=o.startDate,N=o.endDate,S=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(x||v||g)||!S?!1:x&&N?n0(S,N,r,d):v&&w||g&&w&&!N?n0(w,S,r,d):!1},n.isWeekInMonth=function(r){var i=n.props.day,o=fi(r,6);return qr(r,i)||qr(o,i)},n.isCurrentMonth=function(r,i){return Et(r)===Et(Qt())&&i===Or(Qt())},n.isCurrentQuarter=function(r,i){return Et(r)===Et(Qt())&&i===rl(Qt())},n.isSelectedMonth=function(r,i,o){return Or(o)===i&&Et(r)===Et(o)},n.isSelectMonthInList=function(r,i,o){return o.some(function(d){return n.isSelectedMonth(r,i,d)})},n.isSelectedQuarter=function(r,i,o){return rl(r)===i&&Et(r)===Et(o)},n.isMonthSelected=function(){var r=n.props,i=r.day,o=r.selected,d=r.selectedDates,x=r.selectsMultiple,v=Or(i);return x?d==null?void 0:d.some(function(g){return n.isSelectedMonth(i,v,g)}):!!o&&n.isSelectedMonth(i,v,o)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,o=0,d=!1,x=co(ma(n.props.day),n.props.locale,n.props.calendarStartDay),v=function(j){return n.props.showWeekPicker?co(j,n.props.locale,n.props.calendarStartDay):n.props.preSelection},g=function(j){return n.props.showWeekPicker?co(j,n.props.locale,n.props.calendarStartDay):n.props.selected},w=n.props.selected?g(n.props.selected):void 0,N=n.props.preSelection?v(n.props.preSelection):void 0;r.push(fe.createElement(sF,Ft({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:x,month:Or(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:w,preSelection:N,showWeekNumber:n.props.showWeekNumbers}))),!d;){o++,x=uh(x,1);var S=i&&o>=iF,k=!i&&!n.isWeekInMonth(x);if(S||k)if(n.props.peekNextMonth)d=!0;else break}return r},n.onMonthClick=function(r,i){var o=n.isMonthDisabledForLabelDate(i),d=o.isDisabled,x=o.labelDate;d||n.handleDayClick(ma(x),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),o=i.isDisabled,d=i.labelDate;o||n.handleDayMouseEnter(ma(d))},n.handleMonthNavigation=function(r,i){var o,d,x,v;(d=(o=n.props).setPreSelection)===null||d===void 0||d.call(o,i),(v=(x=n.MONTH_REFS[r])===null||x===void 0?void 0:x.current)===null||v===void 0||v.focus()},n.handleKeyboardNavigation=function(r,i,o){var d,x=n.props,v=x.selected,g=x.preSelection,w=x.setPreSelection,N=x.minDate,S=x.maxDate,k=x.showFourColumnMonthYearPicker,j=x.showTwoColumnMonthYearPicker;if(g){var O=Jb(k,j),L=n.getVerticalOffset(O),T=(d=om[O])===null||d===void 0?void 0:d.grid,A=function(R,H,V){var te,de,re=H,ee=V;switch(R){case Ue.ArrowRight:re=pi(H,r0),ee=V===11?0:V+r0;break;case Ue.ArrowLeft:re=sl(H,r0),ee=V===0?11:V-r0;break;case Ue.ArrowUp:re=sl(H,L),ee=!((te=T==null?void 0:T[0])===null||te===void 0)&&te.includes(V)?V+12-L:V-L;break;case Ue.ArrowDown:re=pi(H,L),ee=!((de=T==null?void 0:T[T.length-1])===null||de===void 0)&&de.includes(V)?V-12+L:V+L;break}return{newCalculatedDate:re,newCalculatedMonth:ee}},I=function(R,H,V){for(var te=40,de=R,re=!1,ee=0,Ne=A(de,H,V),se=Ne.newCalculatedDate,oe=Ne.newCalculatedMonth;!re;){if(ee>=te){se=H,oe=V;break}if(N&&se<N){de=Ue.ArrowRight;var xe=A(de,se,oe);se=xe.newCalculatedDate,oe=xe.newCalculatedMonth}if(S&&se>S){de=Ue.ArrowLeft;var xe=A(de,se,oe);se=xe.newCalculatedDate,oe=xe.newCalculatedMonth}if(VP(se,n.props)){var xe=A(de,se,oe);se=xe.newCalculatedDate,oe=xe.newCalculatedMonth}else re=!0;ee++}return{newCalculatedDate:se,newCalculatedMonth:oe}};if(i===Ue.Enter){n.isMonthDisabled(o)||(n.onMonthClick(r,o),w==null||w(v));return}var q=I(i,g,o),X=q.newCalculatedDate,F=q.newCalculatedMonth;switch(i){case Ue.ArrowRight:case Ue.ArrowLeft:case Ue.ArrowUp:case Ue.ArrowDown:n.handleMonthNavigation(F,X);break}}},n.getVerticalOffset=function(r){var i,o;return(o=(i=om[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},n.onMonthKeyDown=function(r,i){var o=n.props,d=o.disabledKeyboardNavigation,x=o.handleOnMonthKeyDown,v=r.key;v!==Ue.Tab&&r.preventDefault(),d||n.handleKeyboardNavigation(r,v,i),x&&x(r)},n.onQuarterClick=function(r,i){var o=zl(n.props.day,i);e0(o,n.props)||n.handleDayClick(Fb(o),r)},n.onQuarterMouseEnter=function(r){var i=zl(n.props.day,r);e0(i,n.props)||n.handleDayMouseEnter(Fb(i))},n.handleQuarterNavigation=function(r,i){var o,d,x,v;n.isDisabled(i)||n.isExcluded(i)||((d=(o=n.props).setPreSelection)===null||d===void 0||d.call(o,i),(v=(x=n.QUARTER_REFS[r-1])===null||x===void 0?void 0:x.current)===null||v===void 0||v.focus())},n.onQuarterKeyDown=function(r,i){var o,d,x=r.key;if(!n.props.disabledKeyboardNavigation)switch(x){case Ue.Enter:n.onQuarterClick(r,i),(d=(o=n.props).setPreSelection)===null||d===void 0||d.call(o,n.props.selected);break;case Ue.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,o2(n.props.preSelection,1));break;case Ue.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,oE(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,o=n.props,d=o.day,x=o.minDate,v=o.maxDate,g=o.excludeDates,w=o.includeDates,N=qs(d,r);return{isDisabled:(i=(x||v||g||w)&&ME(N,n.props))!==null&&i!==void 0?i:!1,labelDate:N}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,o=i.day,d=i.startDate,x=i.endDate,v=i.preSelection,g=i.monthClassName,w=g?g(qs(o,r)):void 0,N=n.getSelection();return Sn("react-datepicker__month-text","react-datepicker__month-".concat(r),w,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":N?n.isSelectMonthInList(o,r,N):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&v&&n.isSelectedMonth(o,r,v)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":d&&x?Jf(d,x,r,o):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(o,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Or(n.props.preSelection),o=n.isMonthDisabledForLabelDate(i).isDisabled,d=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=rl(n.props.preSelection),o=e0(n.props.day,n.props),d=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getAriaLabel=function(r){var i=n.props,o=i.chooseDayAriaLabelPrefix,d=o===void 0?"Choose":o,x=i.disabledDayAriaLabelPrefix,v=x===void 0?"Not available":x,g=i.day,w=i.locale,N=qs(g,r),S=n.isDisabled(N)||n.isExcluded(N)?v:d;return"".concat(S," ").concat(_n(N,"MMMM yyyy",w))},n.getQuarterClassNames=function(r){var i=n.props,o=i.day,d=i.startDate,x=i.endDate,v=i.selected,g=i.minDate,w=i.maxDate,N=i.excludeDates,S=i.includeDates,k=i.filterDate,j=i.preSelection,O=i.disabledKeyboardNavigation,L=(g||w||N||S||k)&&e0(zl(o,r),n.props);return Sn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":L,"react-datepicker__quarter-text--selected":v?n.isSelectedQuarter(o,r,v):void 0,"react-datepicker__quarter-text--keyboard-selected":!O&&j&&n.isSelectedQuarter(o,r,j)&&!L,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":d&&x?n0(d,x,r,o):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(o,r)})},n.getMonthContent=function(r){var i=n.props,o=i.showFullMonthYearPicker,d=i.renderMonthContent,x=i.locale,v=i.day,g=OE(r,x),w=N2(r,x);return d?d(r,g,w,v):o?w:g},n.getQuarterContent=function(r){var i,o=n.props,d=o.renderQuarterContent,x=o.locale,v=HP(r,x);return(i=d==null?void 0:d(r,v))!==null&&i!==void 0?i:v},n.renderMonths=function(){var r,i=n.props,o=i.showTwoColumnMonthYearPicker,d=i.showFourColumnMonthYearPicker,x=i.day,v=i.selected,g=(r=om[Jb(d,o)])===null||r===void 0?void 0:r.grid;return g==null?void 0:g.map(function(w,N){return fe.createElement("div",{className:"react-datepicker__month-wrapper",key:N},w.map(function(S,k){return fe.createElement("div",{ref:n.MONTH_REFS[S],key:k,onClick:function(j){n.onMonthClick(j,S)},onKeyDown:function(j){FE(j)&&(j.preventDefault(),j.key=Ue.Enter),n.onMonthKeyDown(j,S)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(S)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(S)}:void 0,tabIndex:Number(n.getTabIndex(S)),className:n.getMonthClassNames(S),"aria-disabled":n.isMonthDisabled(S),role:"option","aria-label":n.getAriaLabel(S),"aria-current":n.isCurrentMonth(x,S)?"date":void 0,"aria-selected":v?n.isSelectedMonth(x,S,v):void 0},n.getMonthContent(S))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,o=r.selected,d=[1,2,3,4];return fe.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(x,v){return fe.createElement("div",{key:v,ref:n.QUARTER_REFS[v],role:"option",onClick:function(g){n.onQuarterClick(g,x)},onKeyDown:function(g){n.onQuarterKeyDown(g,x)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(x)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(x)}:void 0,className:n.getQuarterClassNames(x),"aria-selected":o?n.isSelectedQuarter(i,x,o):void 0,tabIndex:Number(n.getQuarterTabIndex(x)),"aria-current":n.isCurrentQuarter(i,x)?"date":void 0},n.getQuarterContent(x))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,o=r.selectsStart,d=r.selectsEnd,x=r.showMonthYearPicker,v=r.showQuarterYearPicker,g=r.showWeekPicker;return Sn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||d)},{"react-datepicker__monthPicker":x},{"react-datepicker__quarterPicker":v},{"react-datepicker__weekPicker":g})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,o=n.selectsMultiple;if(o)return i;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,o=n.day,d=n.ariaLabelPrefix,x=d===void 0?"Month ":d,v=x?x.trim()+" ":"";return fe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(v).concat(_n(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},t}(M.Component),oF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return fe.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?fe.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return fe.createElement(xp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(M.Component),lF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,o){return fe.createElement("option",{key:i,value:o},i)})},n.renderSelectMode=function(r){return fe.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return fe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},fe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),fe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return fe.createElement(oF,Ft({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,o=[n.renderReadView(!i,r)];return i&&o.unshift(n.renderDropdown(r)),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return OE(o,n.props.locale)}:function(o){return N2(o,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return fe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t}(M.Component);function cF(e,t){for(var n=[],r=ma(e),i=ma(t);!ho(r,i);)n.push(Qt(r)),r=pi(r,1);return n}var uF=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var o=Ix(i),d=Ai(r.props.date,i)&&qr(r.props.date,i);return fe.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":d?"true":void 0},d?fe.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",_n(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:cF(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=Sn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return fe.createElement(xp,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(M.Component),dF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=ma(n.props.minDate),i=ma(n.props.maxDate),o=[];!ho(r,i);){var d=Ix(r);o.push(fe.createElement("option",{key:d,value:d},_n(r,n.props.dateFormat,n.props.locale))),r=pi(r,1)}return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return fe.createElement("select",{value:Ix(ma(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=_n(n.props.date,n.props.dateFormat,n.props.locale);return fe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},fe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),fe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return fe.createElement(uF,Ft({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Qt(r);Ai(n.props.date,i)&&qr(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return fe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(M.Component),fF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,o;n.list&&(n.list.scrollTop=(o=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&o!==void 0?o:0)})},n.handleClick=function(r){var i,o;(n.props.minTime||n.props.maxTime)&&Wb(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&qb(r,n.props)||(o=(i=n.props).onChange)===null||o===void 0||o.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&eF(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&Wb(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&qb(r,n.props)},n.liClasses=function(r){var i,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(ha(r)*3600+pa(r)*60+lo(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(r,i){var o,d;r.key===Ue.Space&&(r.preventDefault(),r.key=Ue.Enter),(r.key===Ue.ArrowUp||r.key===Ue.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ue.ArrowDown||r.key===Ue.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ue.Enter&&n.handleClick(i),(d=(o=n.props).handleOnKeyDown)===null||d===void 0||d.call(o,r)},n.renderTimes=function(){for(var r,i=[],o=typeof n.props.format=="string"?n.props.format:"p",d=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,x=n.props.selected||n.props.openToDate||Qt(),v=j0(x),g=n.props.injectTimes&&n.props.injectTimes.sort(function(L,T){return L.getTime()-T.getTime()}),w=60*JP(x),N=w/d,S=0;S<N;S++){var k=Ax(v,S*d);if(i.push(k),g){var j=ZP(v,k,S,d,g);i=i.concat(j)}}var O=i.reduce(function(L,T){return T.getTime()<=x.getTime()?T:L},i[0]);return i.map(function(L){return fe.createElement("li",{key:L.valueOf(),onClick:n.handleClick.bind(n,L),className:n.liClasses(L),ref:function(T){L===O&&(n.centerLi=T)},onKeyDown:function(T){n.handleOnKeyDown(T,L)},tabIndex:L===O?0:-1,role:"option","aria-selected":n.isSelectedTime(L)?"true":void 0,"aria-disabled":n.isDisabledTime(L)?"true":void 0},_n(L,o,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?fe.createElement(fe.Fragment,null):fe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},fe.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,i=this.state.height;return fe.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),fe.createElement("div",{className:"react-datepicker__time"},fe.createElement("div",{className:"react-datepicker__time-box"},fe.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(M.Component),e3=3,hF=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=Oi([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(i){return Vs(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return E2(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var o=function(){var d,x;(x=(d=r.YEAR_REFS[i])===null||d===void 0?void 0:d.current)===null||x===void 0||x.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)},r.handleYearNavigation=function(i,o){var d,x,v,g,w=r.props,N=w.date,S=w.yearItemNumber;if(!(N===void 0||S===void 0)){var k=Za(N,S).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((x=(d=r.props).setPreSelection)===null||x===void 0||x.call(d,o),i-k<0?r.updateFocusOnPaginate(S-(k-i)):i-k>=S?r.updateFocusOnPaginate(Math.abs(S-(i-k))):(g=(v=r.YEAR_REFS[i-k])===null||v===void 0?void 0:v.current)===null||g===void 0||g.focus())}},r.isSameDay=function(i,o){return Pt(i,o)},r.isCurrentYear=function(i){return i===Et(Qt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Ai(ji(Qt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Ai(ji(Qt(),i),r.props.endDate)},r.isInRange=function(i){return t0(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var o=r.props,d=o.selectsStart,x=o.selectsEnd,v=o.selectsRange,g=o.startDate,w=o.endDate;return!(d||x||v)||!r.selectingDate()?!1:d&&w?t0(i,r.selectingDate(),w):x&&g||v&&g&&!w?t0(i,g,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var o;if(!r.isInSelectingRange(i))return!1;var d=r.props,x=d.startDate,v=d.selectsStart,g=ji(Qt(),i);return v?Ai(g,(o=r.selectingDate())!==null&&o!==void 0?o:null):Ai(g,x??null)},r.isSelectingRangeEnd=function(i){var o;if(!r.isInSelectingRange(i))return!1;var d=r.props,x=d.endDate,v=d.selectsEnd,g=d.selectsRange,w=ji(Qt(),i);return v||g?Ai(w,(o=r.selectingDate())!==null&&o!==void 0?o:null):Ai(w,x??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,d=o.minDate,x=o.maxDate,v=o.excludeDates,g=o.includeDates,w=o.filterDate,N=Ou(ji(r.props.date,i)),S=(d||x||v||g||w)&&A0(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Pt(N,Ou(r.props.selected))&&Pt(N,Ou(r.props.preSelection))&&!S}},r.isSelectedYear=function(i){var o=r.props,d=o.selectsMultiple,x=o.selected,v=o.selectedDates;return d?v==null?void 0:v.some(function(g){return i===Et(g)}):!!x&&i===Et(x)},r.onYearClick=function(i,o){var d=r.props.date;d!==void 0&&r.handleYearClick(Ou(ji(d,o)),i)},r.onYearKeyDown=function(i,o){var d,x,v=i.key,g=r.props,w=g.date,N=g.yearItemNumber,S=g.handleOnKeyDown;if(v!==Ue.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(v){case Ue.Enter:if(r.props.selected==null)break;r.onYearClick(i,o),(x=(d=r.props).setPreSelection)===null||x===void 0||x.call(d,r.props.selected);break;case Ue.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,da(r.props.preSelection,1));break;case Ue.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Nc(r.props.preSelection,1));break;case Ue.ArrowUp:{if(w===void 0||N===void 0||r.props.preSelection==null)break;var k=Za(w,N).startPeriod,j=e3,O=o-j;if(O<k){var L=N%j;o>=k&&o<k+L?j=L:j+=L,O=o-j}r.handleYearNavigation(O,Nc(r.props.preSelection,j));break}case Ue.ArrowDown:{if(w===void 0||N===void 0||r.props.preSelection==null)break;var T=Za(w,N).endPeriod,j=e3,O=o+j;if(O>T){var L=N%j;o<=T&&o>T-L?j=L:j+=L,O=o+j}r.handleYearNavigation(O,da(r.props.preSelection,j));break}}S&&S(i)},r.getYearClassNames=function(i){var o=r.props,d=o.date,x=o.minDate,v=o.maxDate,g=o.excludeDates,w=o.includeDates,N=o.filterDate,S=o.yearClassName;return Sn("react-datepicker__year-text","react-datepicker__year-".concat(i),d?S==null?void 0:S(ji(d,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(x||v||g||w||N)&&A0(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=Et(r.props.preSelection),d=A0(i,r.props);return i===o&&!d?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return t.prototype.render=function(){var n=this,r=[],i=this.props,o=i.date,d=i.yearItemNumber,x=i.onYearMouseEnter,v=i.onYearMouseLeave;if(o===void 0)return null;for(var g=Za(o,d),w=g.startPeriod,N=g.endPeriod,S=function(O){r.push(fe.createElement("div",{ref:k.YEAR_REFS[O-w],onClick:function(L){n.onYearClick(L,O)},onKeyDown:function(L){FE(L)&&(L.preventDefault(),L.key=Ue.Enter),n.onYearKeyDown(L,O)},tabIndex:Number(k.getYearTabIndex(O)),className:k.getYearClassNames(O),onMouseEnter:k.props.usePointerEvent?void 0:function(L){return x(L,O)},onPointerEnter:k.props.usePointerEvent?function(L){return x(L,O)}:void 0,onMouseLeave:k.props.usePointerEvent?void 0:function(L){return v(L,O)},onPointerLeave:k.props.usePointerEvent?function(L){return v(L,O)}:void 0,key:O,"aria-current":k.isCurrentYear(O)?"date":void 0},k.getYearContent(O)))},k=this,j=w;j<=N;j++)S(j);return fe.createElement("div",{className:"react-datepicker__year"},fe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(M.Component);function pF(e,t,n,r){for(var i=[],o=0;o<2*t+1;o++){var d=e+t-o,x=!0;n&&(x=Et(n)<=d),r&&x&&(x=Et(r)>=d),x&&i.push(d)}return i}var mF=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var x=r.props.year,v=r.state.yearsList.map(function(N){return fe.createElement("div",{className:x===N?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:N,onClick:r.onChange.bind(r,N),"aria-selected":x===N?"true":void 0},x===N?fe.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",N)}),g=r.props.minDate?Et(r.props.minDate):null,w=r.props.maxDate?Et(r.props.maxDate):null;return(!w||!r.state.yearsList.find(function(N){return N===w}))&&v.unshift(fe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},fe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!g||!r.state.yearsList.find(function(N){return N===g}))&&v.push(fe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},fe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),v},r.onChange=function(x){r.props.onChange(x)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(x){var v=r.state.yearsList.map(function(g){return g+x});r.setState({yearsList:v})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,d=i||(o?10:5);return r.state={yearsList:pF(r.props.year,d,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=Sn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return fe.createElement(xp,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(M.Component),xF=function(e){mr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?Et(n.props.minDate):1900,i=n.props.maxDate?Et(n.props.maxDate):2100,o=[],d=r;d<=i;d++)o.push(fe.createElement("option",{key:d,value:d},d));return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return fe.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return fe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},fe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),fe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return fe.createElement(mF,Ft({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var o;(o=n.onSelect)===null||o===void 0||o.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var o,d;(d=(o=n.props).onSelect)===null||d===void 0||d.call(o,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return fe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(M.Component),gF=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],vF=function(e){var t=(e.className||"").split(/\s+/);return gF.some(function(n){return t.indexOf(n)>=0})},yF=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var o,d;vF(i.target)&&((d=(o=r.props).onDropdownFocus)===null||d===void 0||d.call(o,i))},r.getDateInView=function(){var i=r.props,o=i.preSelection,d=i.selected,x=i.openToDate,v=LE(r.props),g=PE(r.props),w=Qt(),N=x||d||o;return N||(v&&pl(w,v)?v:g&&ho(w,g)?g:w)},r.increaseMonth=function(){r.setState(function(i){var o=i.date;return{date:pi(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var o=i.date;return{date:sl(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,o,d){r.props.onSelect(i,o,d),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,o){r.setState({selectingDate:ji(Qt(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)},r.handleYearMouseLeave=function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)},r.handleYearChange=function(i){var o,d,x,v;(d=(o=r.props).onYearChange)===null||d===void 0||d.call(o,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(v=(x=r.props).setOpen)===null||v===void 0||v.call(x,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Vs(i,r.props))return i;for(var o=ma(i),d=UP(i),x=kO(d,o),v=null,g=0;g<=x;g++){var w=fi(o,g);if(!Vs(w,r.props)){v=w;break}}return v},r.handleMonthChange=function(i){var o,d,x,v=(o=r.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;r.handleCustomMonthChange(v),r.props.adjustDateOnChange&&(r.props.onSelect(v),(x=(d=r.props).setOpen)===null||x===void 0||x.call(d,!0)),r.props.setPreSelection&&r.props.setPreSelection(v)},r.handleCustomMonthChange=function(i){var o,d;(d=(o=r.props).onMonthChange)===null||d===void 0||d.call(o,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(o){var d=o.date;return{date:ji(d,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(o){var d=o.date;return{date:qs(d,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(o){var d=o.date;return{date:ji(qs(d,Or(i)),Et(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var o=co(i,r.props.locale,r.props.calendarStartDay),d=[];return r.props.showWeekNumbers&&d.push(fe.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(x){var v=fi(o,x),g=r.formatWeekday(v,r.props.locale),w=r.props.weekDayClassName?r.props.weekDayClassName(v):void 0;return fe.createElement("div",{key:x,"aria-label":_n(v,"EEEE",r.props.locale),className:Sn("react-datepicker__day-name",w)},g)}))},r.formatWeekday=function(i,o){return r.props.formatWeekDay?zP(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?WP(i,o):qP(i,o)},r.decreaseYear=function(){r.setState(function(i){var o,d=i.date;return{date:Nc(d,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,o,d;if(!r.props.renderCustomHeader){var x=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,v=r.props.showPreviousMonths?x-1:0,g=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:v,w=sl(r.state.date,g),N;switch(!0){case r.props.showMonthYearPicker:N=Yb(r.state.date,r.props);break;case r.props.showYearPicker:N=GP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:N=YP(r.state.date,r.props);break;default:N=Hb(w,r.props);break}if(!(!((d=r.props.forceShowMonthNavigation)!==null&&d!==void 0?d:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&N||r.props.showTimeSelectOnly)){var S=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],k=["react-datepicker__navigation","react-datepicker__navigation--previous"],j=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(j=r.decreaseYear),N&&r.props.showDisabledMonthNavigation&&(k.push("react-datepicker__navigation--previous--disabled"),j=void 0);var O=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,L=r.props,T=L.previousMonthButtonLabel,A=T===void 0?t.defaultProps.previousMonthButtonLabel:T,I=L.previousYearButtonLabel,q=I===void 0?t.defaultProps.previousYearButtonLabel:I,X=r.props,F=X.previousMonthAriaLabel,R=F===void 0?typeof A=="string"?A:"Previous Month":F,H=X.previousYearAriaLabel,V=H===void 0?typeof q=="string"?q:"Previous Year":H;return fe.createElement("button",{type:"button",className:k.join(" "),onClick:j,onKeyDown:r.props.handleOnKeyDown,"aria-label":O?V:R},fe.createElement("span",{className:S.join(" ")},O?q:A))}}},r.increaseYear=function(){r.setState(function(i){var o,d=i.date;return{date:da(d,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=$b(r.state.date,r.props);break;case r.props.showYearPicker:o=XP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=$P(r.state.date,r.props);break;default:o=Vb(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var v=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(v=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),v=void 0);var g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,N=w.nextMonthButtonLabel,S=N===void 0?t.defaultProps.nextMonthButtonLabel:N,k=w.nextYearButtonLabel,j=k===void 0?t.defaultProps.nextYearButtonLabel:k,O=r.props,L=O.nextMonthAriaLabel,T=L===void 0?typeof S=="string"?S:"Next Month":L,A=O.nextYearAriaLabel,I=A===void 0?typeof j=="string"?j:"Next Year":A;return fe.createElement("button",{type:"button",className:d.join(" "),onClick:v,onKeyDown:r.props.handleOnKeyDown,"aria-label":g?I:T},fe.createElement("span",{className:x.join(" ")},g?j:S))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),fe.createElement("h2",{className:o.join(" ")},_n(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return fe.createElement(xF,Ft({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Et(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return fe.createElement(lF,Ft({},t.defaultProps,r.props,{month:Or(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return fe.createElement(dF,Ft({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(Bb(),i),r.props.setPreSelection&&r.props.setPreSelection(Bb())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return fe.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var o=i.monthDate,d=i.i;return fe.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),fe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(d!==0),r.renderMonthYearDropdown(d!==0),r.renderYearDropdown(d!==0)),fe.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(i){var o,d,x=i.monthDate,v=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var g=Hb(r.state.date,r.props),w=Vb(r.state.date,r.props),N=Yb(r.state.date,r.props),S=$b(r.state.date,r.props),k=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return fe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(d=(o=r.props).renderCustomHeader)===null||d===void 0?void 0:d.call(o,Ft(Ft({},r.state),{customHeaderCount:v,monthDate:x,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:w,prevYearButtonDisabled:N,nextYearButtonDisabled:S})),k&&fe.createElement("div",{className:"react-datepicker__day-names"},r.header(x)))},r.renderYearHeader=function(i){var o=i.monthDate,d=r.props,x=d.showYearPicker,v=d.yearItemNumber,g=v===void 0?t.defaultProps.yearItemNumber:v,w=Za(o,g),N=w.startPeriod,S=w.endPeriod;return fe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},x?"".concat(N," - ").concat(S):Et(o))},r.renderHeader=function(i){var o=i.monthDate,d=i.i,x=d===void 0?0:d,v={monthDate:o,i:x};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(v);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(v);default:return r.renderDefaultHeader(v)}},r.renderMonths=function(){var i,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var d=[],x=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,v=r.props.showPreviousMonths?x-1:0,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?da(r.state.date,v):sl(r.state.date,v),w=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:v,N=0;N<x;++N){var S=N-w+v,k=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?da(g,S):pi(g,S),j="month-".concat(N),O=N<x-1,L=N>0;d.push(fe.createElement("div",{key:j,ref:function(T){r.monthContainer=T??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:k,i:N}),fe.createElement(aF,Ft({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:k,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:N,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:O,monthShowsDuplicateDaysStart:L}))))}return d}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return fe.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),fe.createElement(hF,Ft({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return fe.createElement(fF,Ft({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,o=i&&gp(i)&&!!r.props.selected,d=o?"".concat(Xb(i.getHours()),":").concat(Xb(i.getMinutes())):"";if(r.props.showTimeInput)return fe.createElement(tF,Ft({},t.defaultProps,r.props,{date:i,timeString:d,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,o=Za(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),d=o.startPeriod,x=o.endPeriod,v;return r.props.showYearPicker?v="".concat(d," - ").concat(x):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?v=Et(r.state.date):v="".concat(N2(Or(r.state.date),r.props.locale)," ").concat(Et(r.state.date)),fe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&v)},r.renderChildren=function(){if(r.props.children)return fe.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Dd}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Pt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!qr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Pt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||RP;return fe.createElement(xp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},fe.createElement("div",{style:{display:"contents"},ref:this.containerRef},fe.createElement(n,{className:Sn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(M.Component),wF=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,i=e.onClick,o="react-datepicker__calendar-icon";if(typeof t=="string")return fe.createElement("i",{className:"".concat(o," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i});if(fe.isValidElement(t)){var d=t;return fe.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(o," ").concat(r),onClick:function(x){typeof d.props.onClick=="function"&&d.props.onClick(x),typeof i=="function"&&i(x)}})}return fe.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},fe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},BE=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return $T.createPortal(this.props.children,this.el)},t}(M.Component),bF="[tabindex], a, button, input, select, textarea",CF=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},UE=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(bF),1,-1).filter(CF)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=M.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?fe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},fe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,fe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(M.Component);function NF(e){var t=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,o=M.useRef(null),d=IP(Ft({open:!i,whileElementsMounted:fP,placement:n.popperPlacement,middleware:Oi([yP({padding:15}),vP(10),wP({element:o})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),x=Ft(Ft({},n),{hidePopper:i,popperProps:Ft(Ft({},d),{arrowRef:o})});return fe.createElement(e,Ft({},x))};return t}var EF=function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,o=n.hidePopper,d=o===void 0?t.defaultProps.hidePopper:o,x=n.popperComponent,v=n.targetComponent,g=n.enableTabLoop,w=n.popperOnKeyDown,N=n.portalId,S=n.portalHost,k=n.popperProps,j=n.showArrow,O=void 0;if(!d){var L=Sn("react-datepicker-popper",r);O=fe.createElement(UE,{enableTabLoop:g},fe.createElement("div",{ref:k.refs.setFloating,style:k.floatingStyles,className:L,"data-placement":k.placement,onKeyDown:w},x,j&&fe.createElement(SP,{ref:k.arrowRef,context:k.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(O=M.createElement(this.props.popperContainer,{},O)),N&&!d&&(O=fe.createElement(BE,{portalId:N,portalHost:S},O));var T=Sn("react-datepicker-wrapper",i);return fe.createElement(fe.Fragment,null,fe.createElement("div",{ref:k.refs.setReference,className:T},v),O)},t}(M.Component),SF=NF(EF),t3="react-datepicker-ignore-onclickoutside";function _F(e,t){return e&&t?Or(e)!==Or(t)||Et(e)!==Et(t):e!==t}var lm="Date input not valid.",zE=function(e){mr(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Qt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,d){var x=new Date(d.date);return gp(x)?Oi(Oi([],o,!0),[Ft(Ft({},d),{date:x})],!1):o},[])},r.calcInitialState=function(){var i,o=r.getPreSelection(),d=LE(r.props),x=PE(r.props),v=d&&pl(o,j0(d))?d:x&&ho(o,Ub(x))?x:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:v,highlightDates:Gb(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Ft(Ft({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Ft(Ft({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,o;(o=(i=r.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},r.setBlur=function(){var i,o;(o=(i=r.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,o){o===void 0&&(o=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:cm},function(){i||r.setState(function(d){return{focused:o?d.focused:!1}},function(){!o&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return fa(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var o,d,x=r.state.wasHidden,v=x?r.state.open:!0;x&&r.resetHiddenStatus(),r.state.preventFocus||((d=(o=r.props).onFocus)===null||d===void 0||d.call(o,i),v&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var o,d;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((d=(o=r.props).onBlur)===null||d===void 0||d.call(o,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var o,d;r.props.inline||r.setOpen(!1),(d=(o=r.props).onClickOutside)===null||d===void 0||d.call(o,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,o,d,x,v,g=[],w=0;w<arguments.length;w++)g[w]=arguments[w];var N=g[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,g),!N||typeof N.isDefaultPrevented!="function"||N.isDefaultPrevented()))){r.setState({inputValue:(N==null?void 0:N.target)instanceof HTMLInputElement?N.target.value:null,lastPreSelectChange:jF});var S=r.props,k=S.selectsRange,j=S.startDate,O=S.endDate,L=(i=r.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,T=(o=r.props.strictParsing)!==null&&o!==void 0?o:t.defaultProps.strictParsing,A=(N==null?void 0:N.target)instanceof HTMLInputElement?N.target.value:"";if(k){var I=A.split(L.includes("-")?RE:"-",2).map(function(de){return de.trim()}),q=I[0],X=I[1],F=im(q??"",L,r.props.locale,T),R=im(X??"",L,r.props.locale,T),H=(j==null?void 0:j.getTime())!==(F==null?void 0:F.getTime()),V=(O==null?void 0:O.getTime())!==(R==null?void 0:R.getTime());if(!H&&!V||F&&Vs(F,r.props)||R&&Vs(R,r.props))return;(x=(d=r.props).onChange)===null||x===void 0||x.call(d,[F,R],N)}else{var te=im(A,L,r.props.locale,T,(v=r.props.selected)!==null&&v!==void 0?v:void 0);(te||!A)&&r.setSelected(te,N,!0)}}},r.handleSelect=function(i,o,d){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,d),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var x=r.props,v=x.startDate,g=x.endDate;v&&!g&&(r.props.swapRange||!Zb(i,v))&&r.setOpen(!1)}}},r.setSelected=function(i,o,d,x){var v,g,w=i;if(r.props.showYearPicker){if(w!==null&&A0(Et(w),r.props))return}else if(r.props.showMonthYearPicker){if(w!==null&&ME(w,r.props))return}else if(w!==null&&Vs(w,r.props))return;var N=r.props,S=N.onChange,k=N.selectsRange,j=N.startDate,O=N.endDate,L=N.selectsMultiple,T=N.selectedDates,A=N.minTime,I=N.swapRange;if(!Jo(r.props.selected,w)||r.props.allowSameDay||k||L)if(w!==null&&(r.props.selected&&(!d||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(w=am(w,{hour:ha(r.props.selected),minute:pa(r.props.selected),second:lo(r.props.selected)})),!d&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&A&&(w=am(w,{hour:A.getHours(),minute:A.getMinutes(),second:A.getSeconds()})),r.props.inline||r.setState({preSelection:w}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:x})),k){var q=!j&&!O,X=j&&!O,F=j&&O;q?S==null||S([w,null],o):X&&(w===null?S==null||S([null,null],o):Zb(w,j)?I?S==null||S([w,j],o):S==null||S([w,null],o):S==null||S([j,w],o)),F&&(S==null||S([w,null],o))}else if(L){if(w!==null)if(!(T!=null&&T.length))S==null||S([w],o);else{var R=T.some(function(V){return Pt(V,w)});if(R){var H=T.filter(function(V){return!Pt(V,w)});S==null||S(H,o)}else S==null||S(Oi(Oi([],T,!0),[w],!1),o)}}else S==null||S(w,o);d||((g=(v=r.props).onSelect)===null||g===void 0||g.call(v,w,o),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var o=fa(r.props.minDate),d=fa(r.props.maxDate),x=!0;if(i){var v=j0(i);if(o&&d)x=Mu(i,r.props.minDate,r.props.maxDate);else if(o){var g=j0(r.props.minDate);x=ho(i,g)||Jo(v,g)}else if(d){var w=Ub(r.props.maxDate);x=pl(i,w)||Jo(v,w)}}x&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var o,d;if(!(r.props.selectsRange||r.props.selectsMultiple)){var x=r.props.selected?r.props.selected:r.getPreSelection(),v=r.props.selected?i:am(x,{hour:ha(i),minute:pa(i)});r.setState({preSelection:v}),(d=(o=r.props).onChange)===null||d===void 0||d.call(o,v),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(i=r.props).onInputClick)===null||o===void 0||o.call(i)},r.onInputKeyDown=function(i){var o,d,x,v,g,w;(d=(o=r.props).onKeyDown)===null||d===void 0||d.call(o,i);var N=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(N===Ue.ArrowDown||N===Ue.ArrowUp||N===Ue.Enter)&&((x=r.onInputClick)===null||x===void 0||x.call(r));return}if(r.state.open){if(N===Ue.ArrowDown||N===Ue.ArrowUp){i.preventDefault();var S=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',k=((v=r.calendar)===null||v===void 0?void 0:v.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(S);k instanceof HTMLElement&&k.focus({preventScroll:!0});return}var j=Qt(r.state.preSelection);N===Ue.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===cm?(r.handleSelect(j,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(j)):r.setOpen(!1)):N===Ue.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):N===Ue.Tab&&r.setOpen(!1),r.inputOk()||(w=(g=r.props).onInputError)===null||w===void 0||w.call(g,{code:1,msg:lm})}},r.onPortalKeyDown=function(i){var o=i.key;o===Ue.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var o,d,x,v,g,w,N=r.props,S=N.minDate,k=N.maxDate,j=N.disabledKeyboardNavigation,O=N.showWeekPicker,L=N.shouldCloseOnSelect,T=N.locale,A=N.calendarStartDay,I=N.adjustDateOnChange,q=N.inline;if((d=(o=r.props).onKeyDown)===null||d===void 0||d.call(o,i),!j){var X=i.key,F=i.shiftKey,R=Qt(r.state.preSelection),H=function(se,oe){var xe=oe;switch(se){case Ue.ArrowRight:xe=O?uh(oe,1):fi(oe,1);break;case Ue.ArrowLeft:xe=O?yb(oe,1):R9(oe,1);break;case Ue.ArrowUp:xe=yb(oe,1);break;case Ue.ArrowDown:xe=uh(oe,1);break;case Ue.PageUp:xe=F?Nc(oe,1):sl(oe,1);break;case Ue.PageDown:xe=F?da(oe,1):pi(oe,1);break;case Ue.Home:xe=co(oe,T,A);break;case Ue.End:xe=BP(oe);break}return xe},V=function(se,oe){for(var xe=40,ue=se,ge=!1,Le=0,Ve=H(se,oe);!ge;){if(Le>=xe){Ve=oe;break}S&&Ve<S&&(ue=Ue.ArrowRight,Ve=Vs(S,r.props)?H(ue,Ve):S),k&&Ve>k&&(ue=Ue.ArrowLeft,Ve=Vs(k,r.props)?H(ue,Ve):k),Vs(Ve,r.props)?((ue===Ue.PageUp||ue===Ue.Home)&&(ue=Ue.ArrowRight),(ue===Ue.PageDown||ue===Ue.End)&&(ue=Ue.ArrowLeft),Ve=H(ue,Ve)):ge=!0,Le++}return Ve};if(X===Ue.Enter){i.preventDefault(),r.handleSelect(R,i),!L&&r.setPreSelection(R);return}else if(X===Ue.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(v=(x=r.props).onInputError)===null||v===void 0||v.call(x,{code:1,msg:lm});return}var te=null;switch(X){case Ue.ArrowLeft:case Ue.ArrowRight:case Ue.ArrowUp:case Ue.ArrowDown:case Ue.PageUp:case Ue.PageDown:case Ue.Home:case Ue.End:te=V(X,R);break}if(!te){(w=(g=r.props).onInputError)===null||w===void 0||w.call(g,{code:1,msg:lm});return}if(i.preventDefault(),r.setState({lastPreSelectChange:cm}),I&&r.setSelected(te),r.setPreSelection(te),q){var de=Or(R),re=Or(te),ee=Et(R),Ne=Et(te);de!==re||ee!==Ne?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var o=i.key;o===Ue.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var o=r.props,d=o.selectsRange,x=o.onChange;d?x==null||x([null,null],i):x==null||x(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,o;return!r.props.inline&&!r.isCalendarOpen()?null:fe.createElement(yF,Ft({showMonthYearDropdown:void 0,ref:function(d){r.calendar=d}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:KP(r.modifyHolidays()),outsideClickIgnoreClass:t3,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,o=i.dateFormat,d=o===void 0?t.defaultProps.dateFormat:o,x=i.locale,v=r.props.showTimeInput||r.props.showTimeSelect,g=v?"PPPPp":"PPPP",w;return r.props.selectsRange?w="Selected start date: ".concat(zs(r.props.startDate,{dateFormat:g,locale:x}),". ").concat(r.props.endDate?"End date: "+zs(r.props.endDate,{dateFormat:g,locale:x}):""):r.props.showTimeSelectOnly?w="Selected time: ".concat(zs(r.props.selected,{dateFormat:d,locale:x})):r.props.showYearPicker?w="Selected year: ".concat(zs(r.props.selected,{dateFormat:"yyyy",locale:x})):r.props.showMonthYearPicker?w="Selected month: ".concat(zs(r.props.selected,{dateFormat:"MMMM yyyy",locale:x})):r.props.showQuarterYearPicker?w="Selected quarter: ".concat(zs(r.props.selected,{dateFormat:"yyyy, QQQ",locale:x})):w="Selected date: ".concat(zs(r.props.selected,{dateFormat:g,locale:x})),fe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},w)},r.renderDateInput=function(){var i,o,d,x=Sn(r.props.className,(i={},i[t3]=r.state.open,i)),v=r.props.customInput||fe.createElement("input",{type:"text"}),g=r.props.customInputRef||"ref",w=r.props,N=w.dateFormat,S=N===void 0?t.defaultProps.dateFormat:N,k=w.locale,j=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?MP(r.props.startDate,r.props.endDate,{dateFormat:S,locale:k}):r.props.selectsMultiple?LP((d=r.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:S,locale:k}):zs(r.props.selected,{dateFormat:S,locale:k});return M.cloneElement(v,(o={},o[g]=function(O){r.input=O},o.value=j,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=Sn(v.props.className,x),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var i=r.props,o=i.isClearable,d=i.disabled,x=i.selected,v=i.startDate,g=i.endDate,w=i.clearButtonTitle,N=i.clearButtonClassName,S=N===void 0?"":N,k=i.ariaLabelClose,j=k===void 0?"Close":k,O=i.selectedDates,L=i.readOnly;return o&&!L&&(x!=null||v!=null||g!=null||O!=null&&O.length)?fe.createElement("button",{type:"button",className:Sn("react-datepicker__close-icon",S,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":j,onClick:r.onClearClick,title:w,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Dd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var i,o,d,x;n.inline&&_F(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Gb(this.props.highlightDates)}),!r.focused&&!Jo(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),r.open===!0&&this.state.open===!1&&((x=(d=this.props).onCalendarClose)===null||x===void 0||x.call(d)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,o=n.calendarIconClassname,d=n.calendarIconClassName,x=n.toggleCalendarOnIconClick,v=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),fe.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&fe.createElement(wF,Ft({icon:i,className:Sn(d,!d&&o,v&&"react-datepicker-ignore-onclickoutside")},x?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?fe.createElement(UE,{enableTabLoop:this.props.enableTabLoop},fe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=fe.createElement(BE,Ft({portalId:this.props.portalId},this.props),r)),fe.createElement("div",null,this.renderInputContainer(),r)}return fe.createElement(SF,Ft({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(M.Component),jF="input",cm="navigate";var Eh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Eh.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",x="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",g=500,w="__lodash_placeholder__",N=1,S=2,k=4,j=1,O=2,L=1,T=2,A=4,I=8,q=16,X=32,F=64,R=128,H=256,V=512,te=30,de="...",re=800,ee=16,Ne=1,se=2,oe=3,xe=1/0,ue=9007199254740991,ge=17976931348623157e292,Le=0/0,Ve=4294967295,nt=Ve-1,ke=Ve>>>1,Xe=[["ary",R],["bind",L],["bindKey",T],["curry",I],["curryRight",q],["flip",V],["partial",X],["partialRight",F],["rearg",H]],it="[object Arguments]",je="[object Array]",Ie="[object AsyncFunction]",at="[object Boolean]",Yt="[object Date]",Zt="[object DOMException]",$t="[object Error]",Ht="[object Function]",Ee="[object GeneratorFunction]",Ke="[object Map]",Rt="[object Number]",we="[object Null]",Ae="[object Object]",ze="[object Promise]",Qe="[object Proxy]",Fe="[object RegExp]",Te="[object Set]",yn="[object String]",Qn="[object Symbol]",Pe="[object Undefined]",et="[object WeakMap]",Ot="[object WeakSet]",ln="[object ArrayBuffer]",Jt="[object DataView]",pn="[object Float32Array]",os="[object Float64Array]",As="[object Int8Array]",zi="[object Int16Array]",on="[object Int32Array]",Me="[object Uint8Array]",cn="[object Uint8ClampedArray]",Dt="[object Uint16Array]",Gt="[object Uint32Array]",Ks=/\b__p \+= '';/g,Co=/\b(__p \+=) '' \+/g,Md=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mt=/&(?:amp|lt|gt|quot|#39);/g,vi=/[&<>"']/g,Ld=RegExp(Mt.source),Pd=RegExp(vi.source),ls=/<%-([\s\S]+?)%>/g,zc=/<%([\s\S]+?)%>/g,tr=/<%=([\s\S]+?)%>/g,_a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wl=/^\w*$/,ks=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qc=/[\\^$.*+?()[\]{}|]/g,qi=RegExp(qc.source),No=/^\s+/,Cr=/\s/,Wi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xr=/\{\n\/\* \[wrapped with (.+)\] \*/,qe=/,? & /,ja=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wc=/[()=,{}\[\]\/\s]/,Nr=/\\(\\)?/g,Aa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Eo=/\w*$/,bl=/^[-+]0x[0-9a-f]+$/i,Ts=/^0b[01]+$/i,yp=/^\[object .+?Constructor\]$/,wp=/^0o[0-7]+$/i,Ds=/^(?:0|[1-9]\d*)$/,xr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,en=/($^)/,Fd=/['\n\r\u2028\u2029\\]/g,cs="\\ud800-\\udfff",Hc="\\u0300-\\u036f",_e="\\ufe20-\\ufe2f",bp="\\u20d0-\\u20ff",mn=Hc+_e+bp,Hi="\\u2700-\\u27bf",Bd="a-z\\xdf-\\xf6\\xf8-\\xff",zt="\\xac\\xb1\\xd7\\xf7",Lt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",St="\\u2000-\\u206f",Vc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cl="A-Z\\xc0-\\xd6\\xd8-\\xde",Nl="\\ufe0e\\ufe0f",On=zt+Lt+St+Vc,Is="[']",Cp="["+cs+"]",wn="["+On+"]",us="["+mn+"]",Ud="\\d+",ka="["+Hi+"]",tn="["+Bd+"]",nr="[^"+cs+On+Ud+Hi+Bd+Cl+"]",ce="\\ud83c[\\udffb-\\udfff]",K="(?:"+us+"|"+ce+")",Je="[^"+cs+"]",Mn="(?:\\ud83c[\\udde6-\\uddff]){2}",Er="[\\ud800-\\udbff][\\udc00-\\udfff]",Ta="["+Cl+"]",El="\\u200d",Lr="(?:"+tn+"|"+nr+")",rt="(?:"+Ta+"|"+nr+")",fn="(?:"+Is+"(?:d|ll|m|re|s|t|ve))?",Yc="(?:"+Is+"(?:D|LL|M|RE|S|T|VE))?",zd=K+"?",Sl="["+Nl+"]?",_l="(?:"+El+"(?:"+[Je,Mn,Er].join("|")+")"+Sl+zd+")*",$c="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Np="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wn=Sl+zd+_l,So="(?:"+[ka,Mn,Er].join("|")+")"+Wn,yi="(?:"+[Je+us+"?",us,Mn,Er,Cp].join("|")+")",ot=RegExp(Is,"g"),Ep=RegExp(us,"g"),xt=RegExp(ce+"(?="+ce+")|"+yi+Wn,"g"),rr=RegExp([Ta+"?"+tn+"+"+fn+"(?="+[wn,Ta,"$"].join("|")+")",rt+"+"+Yc+"(?="+[wn,Ta+Lr,"$"].join("|")+")",Ta+"?"+Lr+"+"+fn,Ta+"+"+Yc,Np,$c,Ud,So].join("|"),"g"),Sp=RegExp("["+El+cs+mn+Nl+"]"),Gc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vi=-1,un={};un[pn]=un[os]=un[As]=un[zi]=un[on]=un[Me]=un[cn]=un[Dt]=un[Gt]=!0,un[it]=un[je]=un[ln]=un[at]=un[Jt]=un[Yt]=un[$t]=un[Ht]=un[Ke]=un[Rt]=un[Ae]=un[Fe]=un[Te]=un[yn]=un[et]=!1;var qt={};qt[it]=qt[je]=qt[ln]=qt[Jt]=qt[at]=qt[Yt]=qt[pn]=qt[os]=qt[As]=qt[zi]=qt[on]=qt[Ke]=qt[Rt]=qt[Ae]=qt[Fe]=qt[Te]=qt[yn]=qt[Qn]=qt[Me]=qt[cn]=qt[Dt]=qt[Gt]=!0,qt[$t]=qt[Ht]=qt[et]=!1;var _o={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},jo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ao={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ko=parseFloat,Sr=parseInt,Xc=typeof ki=="object"&&ki&&ki.Object===Object&&ki,Hd=typeof self=="object"&&self&&self.Object===Object&&self,Kn=Xc||Hd||Function("return this")(),Qc=t&&!t.nodeType&&t,Yi=Qc&&!0&&e&&!e.nodeType&&e,Vd=Yi&&Yi.exports===Qc,Wt=Vd&&Xc.process,Pr=function(){try{var z=Yi&&Yi.require&&Yi.require("util").types;return z||Wt&&Wt.binding&&Wt.binding("util")}catch{}}(),To=Pr&&Pr.isArrayBuffer,Zs=Pr&&Pr.isDate,Yd=Pr&&Pr.isMap,he=Pr&&Pr.isRegExp,vt=Pr&&Pr.isSet,Zn=Pr&&Pr.isTypedArray;function cr(z,$,Q){switch(Q.length){case 0:return z.call($);case 1:return z.call($,Q[0]);case 2:return z.call($,Q[0],Q[1]);case 3:return z.call($,Q[0],Q[1],Q[2])}return z.apply($,Q)}function $d(z,$,Q,ne){for(var pe=-1,ve=z==null?0:z.length;++pe<ve;){var ye=z[pe];$(ne,ye,Q(ye),z)}return ne}function Qr(z,$){for(var Q=-1,ne=z==null?0:z.length;++Q<ne&&$(z[Q],Q,z)!==!1;);return z}function _p(z,$){for(var Q=z==null?0:z.length;Q--&&$(z[Q],Q,z)!==!1;);return z}function Gd(z,$){for(var Q=-1,ne=z==null?0:z.length;++Q<ne;)if(!$(z[Q],Q,z))return!1;return!0}function Rs(z,$){for(var Q=-1,ne=z==null?0:z.length,pe=0,ve=[];++Q<ne;){var ye=z[Q];$(ye,Q,z)&&(ve[pe++]=ye)}return ve}function bn(z,$){var Q=z==null?0:z.length;return!!Q&&gr(z,$,0)>-1}function Do(z,$,Q){for(var ne=-1,pe=z==null?0:z.length;++ne<pe;)if(Q($,z[ne]))return!0;return!1}function ft(z,$){for(var Q=-1,ne=z==null?0:z.length,pe=Array(ne);++Q<ne;)pe[Q]=$(z[Q],Q,z);return pe}function ds(z,$){for(var Q=-1,ne=$.length,pe=z.length;++Q<ne;)z[pe+Q]=$[Q];return z}function Js(z,$,Q,ne){var pe=-1,ve=z==null?0:z.length;for(ne&&ve&&(Q=z[++pe]);++pe<ve;)Q=$(Q,z[pe],pe,z);return Q}function nn(z,$,Q,ne){var pe=z==null?0:z.length;for(ne&&pe&&(Q=z[--pe]);pe--;)Q=$(Q,z[pe],pe,z);return Q}function st(z,$){for(var Q=-1,ne=z==null?0:z.length;++Q<ne;)if($(z[Q],Q,z))return!0;return!1}var jp=kl("length");function dn(z){return z.split("")}function $i(z){return z.match(ja)||[]}function Gi(z,$,Q){var ne;return Q(z,function(pe,ve,ye){if($(pe,ve,ye))return ne=ve,!1}),ne}function jl(z,$,Q,ne){for(var pe=z.length,ve=Q+(ne?1:-1);ne?ve--:++ve<pe;)if($(z[ve],ve,z))return ve;return-1}function gr(z,$,Q){return $===$?c(z,$,Q):jl(z,Zc,Q)}function Kc(z,$,Q,ne){for(var pe=Q-1,ve=z.length;++pe<ve;)if(ne(z[pe],$))return pe;return-1}function Zc(z){return z!==z}function Al(z,$){var Q=z==null?0:z.length;return Q?Io(z,$)/Q:Le}function kl(z){return function($){return $==null?n:$[z]}}function Tl(z){return function($){return z==null?n:z[$]}}function Xd(z,$,Q,ne,pe){return pe(z,function(ve,ye,Ge){Q=ne?(ne=!1,ve):$(Q,ve,ye,Ge)}),Q}function Da(z,$){var Q=z.length;for(z.sort($);Q--;)z[Q]=z[Q].value;return z}function Io(z,$){for(var Q,ne=-1,pe=z.length;++ne<pe;){var ve=$(z[ne]);ve!==n&&(Q=Q===n?ve:Q+ve)}return Q}function Jc(z,$){for(var Q=-1,ne=Array(z);++Q<z;)ne[Q]=$(Q);return ne}function Ro(z,$){return ft($,function(Q){return[Q,z[Q]]})}function Qd(z){return z&&z.slice(0,y(z)+1).replace(No,"")}function Ln(z){return function($){return z($)}}function Ia(z,$){return ft($,function(Q){return z[Q]})}function ur(z,$){return z.has($)}function eu(z,$){for(var Q=-1,ne=z.length;++Q<ne&&gr($,z[Q],0)>-1;);return Q}function fs(z,$){for(var Q=z.length;Q--&&gr($,z[Q],0)>-1;);return Q}function Ap(z,$){for(var Q=z.length,ne=0;Q--;)z[Q]===$&&++ne;return ne}var tu=Tl(_o),kp=Tl(jo);function Kd(z){return"\\"+Ao[z]}function Os(z,$){return z==null?n:z[$]}function Ra(z){return Sp.test(z)}function nu(z){return Gc.test(z)}function Oo(z){for(var $,Q=[];!($=z.next()).done;)Q.push($.value);return Q}function _t(z){var $=-1,Q=Array(z.size);return z.forEach(function(ne,pe){Q[++$]=[pe,ne]}),Q}function Mo(z,$){return function(Q){return z($(Q))}}function P(z,$){for(var Q=-1,ne=z.length,pe=0,ve=[];++Q<ne;){var ye=z[Q];(ye===$||ye===w)&&(z[Q]=w,ve[pe++]=Q)}return ve}function s(z){var $=-1,Q=Array(z.size);return z.forEach(function(ne){Q[++$]=ne}),Q}function l(z){var $=-1,Q=Array(z.size);return z.forEach(function(ne){Q[++$]=[ne,ne]}),Q}function c(z,$,Q){for(var ne=Q-1,pe=z.length;++ne<pe;)if(z[ne]===$)return ne;return-1}function f(z,$,Q){for(var ne=Q+1;ne--;)if(z[ne]===$)return ne;return ne}function h(z){return Ra(z)?E(z):jp(z)}function m(z){return Ra(z)?D(z):dn(z)}function y(z){for(var $=z.length;$--&&Cr.test(z.charAt($)););return $}var C=Tl(Wd);function E(z){for(var $=xt.lastIndex=0;xt.test(z);)++$;return $}function D(z){return z.match(xt)||[]}function B(z){return z.match(rr)||[]}var W=function z($){$=$==null?Kn:Z.defaults(Kn.Object(),$,Z.pick(Kn,qd));var Q=$.Array,ne=$.Date,pe=$.Error,ve=$.Function,ye=$.Math,Ge=$.Object,mt=$.RegExp,_r=$.String,Cn=$.TypeError,sr=Q.prototype,rn=ve.prototype,Nn=Ge.prototype,dr=$["__core-js_shared__"],ei=rn.toString,kt=Nn.hasOwnProperty,Tp=0,Zd=function(){var u=/[^.]+$/.exec(dr&&dr.keys&&dr.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Jd=Nn.toString,x5=ei.call(Ge),g5=Kn._,v5=mt("^"+ei.call(kt).replace(qc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ef=Vd?$.Buffer:n,Oa=$.Symbol,tf=$.Uint8Array,I2=ef?ef.allocUnsafe:n,nf=Mo(Ge.getPrototypeOf,Ge),R2=Ge.create,O2=Nn.propertyIsEnumerable,rf=sr.splice,M2=Oa?Oa.isConcatSpreadable:n,ru=Oa?Oa.iterator:n,Lo=Oa?Oa.toStringTag:n,sf=function(){try{var u=zo(Ge,"defineProperty");return u({},"",{}),u}catch{}}(),y5=$.clearTimeout!==Kn.clearTimeout&&$.clearTimeout,w5=ne&&ne.now!==Kn.Date.now&&ne.now,b5=$.setTimeout!==Kn.setTimeout&&$.setTimeout,af=ye.ceil,of=ye.floor,Dp=Ge.getOwnPropertySymbols,C5=ef?ef.isBuffer:n,L2=$.isFinite,N5=sr.join,E5=Mo(Ge.keys,Ge),ir=ye.max,jr=ye.min,S5=ne.now,_5=$.parseInt,P2=ye.random,j5=sr.reverse,Ip=zo($,"DataView"),su=zo($,"Map"),Rp=zo($,"Promise"),Dl=zo($,"Set"),iu=zo($,"WeakMap"),au=zo(Ge,"create"),lf=iu&&new iu,Il={},A5=qo(Ip),k5=qo(su),T5=qo(Rp),D5=qo(Dl),I5=qo(iu),cf=Oa?Oa.prototype:n,ou=cf?cf.valueOf:n,F2=cf?cf.toString:n;function Y(u){if(Pn(u)&&!gt(u)&&!(u instanceof Tt)){if(u instanceof Ms)return u;if(kt.call(u,"__wrapped__"))return Bv(u)}return new Ms(u)}var Rl=function(){function u(){}return function(p){if(!An(p))return{};if(R2)return R2(p);u.prototype=p;var b=new u;return u.prototype=n,b}}();function uf(){}function Ms(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}Y.templateSettings={escape:ls,evaluate:zc,interpolate:tr,variable:"",imports:{_:Y}},Y.prototype=uf.prototype,Y.prototype.constructor=Y,Ms.prototype=Rl(uf.prototype),Ms.prototype.constructor=Ms;function Tt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ve,this.__views__=[]}function R5(){var u=new Tt(this.__wrapped__);return u.__actions__=Kr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Kr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Kr(this.__views__),u}function O5(){if(this.__filtered__){var u=new Tt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function M5(){var u=this.__wrapped__.value(),p=this.__dir__,b=gt(u),_=p<0,U=b?u.length:0,G=$S(0,U,this.__views__),J=G.start,ie=G.end,le=ie-J,be=_?ie:J-1,Ce=this.__iteratees__,De=Ce.length,Be=0,Ze=jr(le,this.__takeCount__);if(!b||!_&&U==le&&Ze==le)return lv(u,this.__actions__);var ct=[];e:for(;le--&&Be<Ze;){be+=p;for(var bt=-1,ut=u[be];++bt<De;){var jt=Ce[bt],It=jt.iteratee,ms=jt.type,Ur=It(ut);if(ms==se)ut=Ur;else if(!Ur){if(ms==Ne)continue e;break e}}ct[Be++]=ut}return ct}Tt.prototype=Rl(uf.prototype),Tt.prototype.constructor=Tt;function Po(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var _=u[p];this.set(_[0],_[1])}}function L5(){this.__data__=au?au(null):{},this.size=0}function P5(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p}function F5(u){var p=this.__data__;if(au){var b=p[u];return b===v?n:b}return kt.call(p,u)?p[u]:n}function B5(u){var p=this.__data__;return au?p[u]!==n:kt.call(p,u)}function U5(u,p){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=au&&p===n?v:p,this}Po.prototype.clear=L5,Po.prototype.delete=P5,Po.prototype.get=F5,Po.prototype.has=B5,Po.prototype.set=U5;function Xi(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var _=u[p];this.set(_[0],_[1])}}function z5(){this.__data__=[],this.size=0}function q5(u){var p=this.__data__,b=df(p,u);if(b<0)return!1;var _=p.length-1;return b==_?p.pop():rf.call(p,b,1),--this.size,!0}function W5(u){var p=this.__data__,b=df(p,u);return b<0?n:p[b][1]}function H5(u){return df(this.__data__,u)>-1}function V5(u,p){var b=this.__data__,_=df(b,u);return _<0?(++this.size,b.push([u,p])):b[_][1]=p,this}Xi.prototype.clear=z5,Xi.prototype.delete=q5,Xi.prototype.get=W5,Xi.prototype.has=H5,Xi.prototype.set=V5;function Qi(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var _=u[p];this.set(_[0],_[1])}}function Y5(){this.size=0,this.__data__={hash:new Po,map:new(su||Xi),string:new Po}}function $5(u){var p=Nf(this,u).delete(u);return this.size-=p?1:0,p}function G5(u){return Nf(this,u).get(u)}function X5(u){return Nf(this,u).has(u)}function Q5(u,p){var b=Nf(this,u),_=b.size;return b.set(u,p),this.size+=b.size==_?0:1,this}Qi.prototype.clear=Y5,Qi.prototype.delete=$5,Qi.prototype.get=G5,Qi.prototype.has=X5,Qi.prototype.set=Q5;function Fo(u){var p=-1,b=u==null?0:u.length;for(this.__data__=new Qi;++p<b;)this.add(u[p])}function K5(u){return this.__data__.set(u,v),this}function Z5(u){return this.__data__.has(u)}Fo.prototype.add=Fo.prototype.push=K5,Fo.prototype.has=Z5;function ti(u){var p=this.__data__=new Xi(u);this.size=p.size}function J5(){this.__data__=new Xi,this.size=0}function eS(u){var p=this.__data__,b=p.delete(u);return this.size=p.size,b}function tS(u){return this.__data__.get(u)}function nS(u){return this.__data__.has(u)}function rS(u,p){var b=this.__data__;if(b instanceof Xi){var _=b.__data__;if(!su||_.length<i-1)return _.push([u,p]),this.size=++b.size,this;b=this.__data__=new Qi(_)}return b.set(u,p),this.size=b.size,this}ti.prototype.clear=J5,ti.prototype.delete=eS,ti.prototype.get=tS,ti.prototype.has=nS,ti.prototype.set=rS;function B2(u,p){var b=gt(u),_=!b&&Wo(u),U=!b&&!_&&Ba(u),G=!b&&!_&&!U&&Pl(u),J=b||_||U||G,ie=J?Jc(u.length,_r):[],le=ie.length;for(var be in u)(p||kt.call(u,be))&&!(J&&(be=="length"||U&&(be=="offset"||be=="parent")||G&&(be=="buffer"||be=="byteLength"||be=="byteOffset")||ea(be,le)))&&ie.push(be);return ie}function U2(u){var p=u.length;return p?u[Hp(0,p-1)]:n}function sS(u,p){return Ef(Kr(u),Bo(p,0,u.length))}function iS(u){return Ef(Kr(u))}function Op(u,p,b){(b!==n&&!ni(u[p],b)||b===n&&!(p in u))&&Ki(u,p,b)}function lu(u,p,b){var _=u[p];(!(kt.call(u,p)&&ni(_,b))||b===n&&!(p in u))&&Ki(u,p,b)}function df(u,p){for(var b=u.length;b--;)if(ni(u[b][0],p))return b;return-1}function aS(u,p,b,_){return Ma(u,function(U,G,J){p(_,U,b(U),J)}),_}function z2(u,p){return u&&bi(p,fr(p),u)}function oS(u,p){return u&&bi(p,Jr(p),u)}function Ki(u,p,b){p=="__proto__"&&sf?sf(u,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[p]=b}function Mp(u,p){for(var b=-1,_=p.length,U=Q(_),G=u==null;++b<_;)U[b]=G?n:m1(u,p[b]);return U}function Bo(u,p,b){return u===u&&(b!==n&&(u=u<=b?u:b),p!==n&&(u=u>=p?u:p)),u}function Ls(u,p,b,_,U,G){var J,ie=p&N,le=p&S,be=p&k;if(b&&(J=U?b(u,_,U,G):b(u)),J!==n)return J;if(!An(u))return u;var Ce=gt(u);if(Ce){if(J=XS(u),!ie)return Kr(u,J)}else{var De=Ar(u),Be=De==Ht||De==Ee;if(Ba(u))return dv(u,ie);if(De==Ae||De==it||Be&&!U){if(J=le||Be?{}:Tv(u),!ie)return le?FS(u,oS(J,u)):PS(u,z2(J,u))}else{if(!qt[De])return U?u:{};J=QS(u,De,ie)}}G||(G=new ti);var Ze=G.get(u);if(Ze)return Ze;G.set(u,J),iy(u)?u.forEach(function(ut){J.add(Ls(ut,p,b,ut,u,G))}):ry(u)&&u.forEach(function(ut,jt){J.set(jt,Ls(ut,p,b,jt,u,G))});var ct=be?le?t1:e1:le?Jr:fr,bt=Ce?n:ct(u);return Qr(bt||u,function(ut,jt){bt&&(jt=ut,ut=u[jt]),lu(J,jt,Ls(ut,p,b,jt,u,G))}),J}function lS(u){var p=fr(u);return function(b){return q2(b,u,p)}}function q2(u,p,b){var _=b.length;if(u==null)return!_;for(u=Ge(u);_--;){var U=b[_],G=p[U],J=u[U];if(J===n&&!(U in u)||!G(J))return!1}return!0}function W2(u,p,b){if(typeof u!="function")throw new Cn(d);return mu(function(){u.apply(n,b)},p)}function cu(u,p,b,_){var U=-1,G=bn,J=!0,ie=u.length,le=[],be=p.length;if(!ie)return le;b&&(p=ft(p,Ln(b))),_?(G=Do,J=!1):p.length>=i&&(G=ur,J=!1,p=new Fo(p));e:for(;++U<ie;){var Ce=u[U],De=b==null?Ce:b(Ce);if(Ce=_||Ce!==0?Ce:0,J&&De===De){for(var Be=be;Be--;)if(p[Be]===De)continue e;le.push(Ce)}else G(p,De,_)||le.push(Ce)}return le}var Ma=xv(wi),H2=xv(Pp,!0);function cS(u,p){var b=!0;return Ma(u,function(_,U,G){return b=!!p(_,U,G),b}),b}function ff(u,p,b){for(var _=-1,U=u.length;++_<U;){var G=u[_],J=p(G);if(J!=null&&(ie===n?J===J&&!ps(J):b(J,ie)))var ie=J,le=G}return le}function uS(u,p,b,_){var U=u.length;for(b=wt(b),b<0&&(b=-b>U?0:U+b),_=_===n||_>U?U:wt(_),_<0&&(_+=U),_=b>_?0:oy(_);b<_;)u[b++]=p;return u}function V2(u,p){var b=[];return Ma(u,function(_,U,G){p(_,U,G)&&b.push(_)}),b}function vr(u,p,b,_,U){var G=-1,J=u.length;for(b||(b=ZS),U||(U=[]);++G<J;){var ie=u[G];p>0&&b(ie)?p>1?vr(ie,p-1,b,_,U):ds(U,ie):_||(U[U.length]=ie)}return U}var Lp=gv(),Y2=gv(!0);function wi(u,p){return u&&Lp(u,p,fr)}function Pp(u,p){return u&&Y2(u,p,fr)}function hf(u,p){return Rs(p,function(b){return ta(u[b])})}function Uo(u,p){p=Pa(p,u);for(var b=0,_=p.length;u!=null&&b<_;)u=u[Ci(p[b++])];return b&&b==_?u:n}function $2(u,p,b){var _=p(u);return gt(u)?_:ds(_,b(u))}function Fr(u){return u==null?u===n?Pe:we:Lo&&Lo in Ge(u)?YS(u):i_(u)}function Fp(u,p){return u>p}function dS(u,p){return u!=null&&kt.call(u,p)}function fS(u,p){return u!=null&&p in Ge(u)}function hS(u,p,b){return u>=jr(p,b)&&u<ir(p,b)}function Bp(u,p,b){for(var _=b?Do:bn,U=u[0].length,G=u.length,J=G,ie=Q(G),le=1/0,be=[];J--;){var Ce=u[J];J&&p&&(Ce=ft(Ce,Ln(p))),le=jr(Ce.length,le),ie[J]=!b&&(p||U>=120&&Ce.length>=120)?new Fo(J&&Ce):n}Ce=u[0];var De=-1,Be=ie[0];e:for(;++De<U&&be.length<le;){var Ze=Ce[De],ct=p?p(Ze):Ze;if(Ze=b||Ze!==0?Ze:0,!(Be?ur(Be,ct):_(be,ct,b))){for(J=G;--J;){var bt=ie[J];if(!(bt?ur(bt,ct):_(u[J],ct,b)))continue e}Be&&Be.push(ct),be.push(Ze)}}return be}function pS(u,p,b,_){return wi(u,function(U,G,J){p(_,b(U),G,J)}),_}function uu(u,p,b){p=Pa(p,u),u=Ov(u,p);var _=u==null?u:u[Ci(Fs(p))];return _==null?n:cr(_,u,b)}function G2(u){return Pn(u)&&Fr(u)==it}function mS(u){return Pn(u)&&Fr(u)==ln}function xS(u){return Pn(u)&&Fr(u)==Yt}function du(u,p,b,_,U){return u===p?!0:u==null||p==null||!Pn(u)&&!Pn(p)?u!==u&&p!==p:gS(u,p,b,_,du,U)}function gS(u,p,b,_,U,G){var J=gt(u),ie=gt(p),le=J?je:Ar(u),be=ie?je:Ar(p);le=le==it?Ae:le,be=be==it?Ae:be;var Ce=le==Ae,De=be==Ae,Be=le==be;if(Be&&Ba(u)){if(!Ba(p))return!1;J=!0,Ce=!1}if(Be&&!Ce)return G||(G=new ti),J||Pl(u)?jv(u,p,b,_,U,G):HS(u,p,le,b,_,U,G);if(!(b&j)){var Ze=Ce&&kt.call(u,"__wrapped__"),ct=De&&kt.call(p,"__wrapped__");if(Ze||ct){var bt=Ze?u.value():u,ut=ct?p.value():p;return G||(G=new ti),U(bt,ut,b,_,G)}}return Be?(G||(G=new ti),VS(u,p,b,_,U,G)):!1}function vS(u){return Pn(u)&&Ar(u)==Ke}function Up(u,p,b,_){var U=b.length,G=U,J=!_;if(u==null)return!G;for(u=Ge(u);U--;){var ie=b[U];if(J&&ie[2]?ie[1]!==u[ie[0]]:!(ie[0]in u))return!1}for(;++U<G;){ie=b[U];var le=ie[0],be=u[le],Ce=ie[1];if(J&&ie[2]){if(be===n&&!(le in u))return!1}else{var De=new ti;if(_)var Be=_(be,Ce,le,u,p,De);if(!(Be===n?du(Ce,be,j|O,_,De):Be))return!1}}return!0}function X2(u){if(!An(u)||e_(u))return!1;var p=ta(u)?v5:yp;return p.test(qo(u))}function yS(u){return Pn(u)&&Fr(u)==Fe}function wS(u){return Pn(u)&&Ar(u)==Te}function bS(u){return Pn(u)&&Tf(u.length)&&!!un[Fr(u)]}function Q2(u){return typeof u=="function"?u:u==null?es:typeof u=="object"?gt(u)?J2(u[0],u[1]):Z2(u):vy(u)}function zp(u){if(!pu(u))return E5(u);var p=[];for(var b in Ge(u))kt.call(u,b)&&b!="constructor"&&p.push(b);return p}function CS(u){if(!An(u))return s_(u);var p=pu(u),b=[];for(var _ in u)_=="constructor"&&(p||!kt.call(u,_))||b.push(_);return b}function qp(u,p){return u<p}function K2(u,p){var b=-1,_=Zr(u)?Q(u.length):[];return Ma(u,function(U,G,J){_[++b]=p(U,G,J)}),_}function Z2(u){var p=r1(u);return p.length==1&&p[0][2]?Iv(p[0][0],p[0][1]):function(b){return b===u||Up(b,u,p)}}function J2(u,p){return i1(u)&&Dv(p)?Iv(Ci(u),p):function(b){var _=m1(b,u);return _===n&&_===p?x1(b,u):du(p,_,j|O)}}function pf(u,p,b,_,U){u!==p&&Lp(p,function(G,J){if(U||(U=new ti),An(G))NS(u,p,J,b,pf,_,U);else{var ie=_?_(o1(u,J),G,J+"",u,p,U):n;ie===n&&(ie=G),Op(u,J,ie)}},Jr)}function NS(u,p,b,_,U,G,J){var ie=o1(u,b),le=o1(p,b),be=J.get(le);if(be){Op(u,b,be);return}var Ce=G?G(ie,le,b+"",u,p,J):n,De=Ce===n;if(De){var Be=gt(le),Ze=!Be&&Ba(le),ct=!Be&&!Ze&&Pl(le);Ce=le,Be||Ze||ct?gt(ie)?Ce=ie:Hn(ie)?Ce=Kr(ie):Ze?(De=!1,Ce=dv(le,!0)):ct?(De=!1,Ce=fv(le,!0)):Ce=[]:xu(le)||Wo(le)?(Ce=ie,Wo(ie)?Ce=ly(ie):(!An(ie)||ta(ie))&&(Ce=Tv(le))):De=!1}De&&(J.set(le,Ce),U(Ce,le,_,G,J),J.delete(le)),Op(u,b,Ce)}function ev(u,p){var b=u.length;if(b)return p+=p<0?b:0,ea(p,b)?u[p]:n}function tv(u,p,b){p.length?p=ft(p,function(G){return gt(G)?function(J){return Uo(J,G.length===1?G[0]:G)}:G}):p=[es];var _=-1;p=ft(p,Ln(lt()));var U=K2(u,function(G,J,ie){var le=ft(p,function(be){return be(G)});return{criteria:le,index:++_,value:G}});return Da(U,function(G,J){return LS(G,J,b)})}function ES(u,p){return nv(u,p,function(b,_){return x1(u,_)})}function nv(u,p,b){for(var _=-1,U=p.length,G={};++_<U;){var J=p[_],ie=Uo(u,J);b(ie,J)&&fu(G,Pa(J,u),ie)}return G}function SS(u){return function(p){return Uo(p,u)}}function Wp(u,p,b,_){var U=_?Kc:gr,G=-1,J=p.length,ie=u;for(u===p&&(p=Kr(p)),b&&(ie=ft(u,Ln(b)));++G<J;)for(var le=0,be=p[G],Ce=b?b(be):be;(le=U(ie,Ce,le,_))>-1;)ie!==u&&rf.call(ie,le,1),rf.call(u,le,1);return u}function rv(u,p){for(var b=u?p.length:0,_=b-1;b--;){var U=p[b];if(b==_||U!==G){var G=U;ea(U)?rf.call(u,U,1):$p(u,U)}}return u}function Hp(u,p){return u+of(P2()*(p-u+1))}function _S(u,p,b,_){for(var U=-1,G=ir(af((p-u)/(b||1)),0),J=Q(G);G--;)J[_?G:++U]=u,u+=b;return J}function Vp(u,p){var b="";if(!u||p<1||p>ue)return b;do p%2&&(b+=u),p=of(p/2),p&&(u+=u);while(p);return b}function Ct(u,p){return l1(Rv(u,p,es),u+"")}function jS(u){return U2(Fl(u))}function AS(u,p){var b=Fl(u);return Ef(b,Bo(p,0,b.length))}function fu(u,p,b,_){if(!An(u))return u;p=Pa(p,u);for(var U=-1,G=p.length,J=G-1,ie=u;ie!=null&&++U<G;){var le=Ci(p[U]),be=b;if(le==="__proto__"||le==="constructor"||le==="prototype")return u;if(U!=J){var Ce=ie[le];be=_?_(Ce,le,ie):n,be===n&&(be=An(Ce)?Ce:ea(p[U+1])?[]:{})}lu(ie,le,be),ie=ie[le]}return u}var sv=lf?function(u,p){return lf.set(u,p),u}:es,kS=sf?function(u,p){return sf(u,"toString",{configurable:!0,enumerable:!1,value:v1(p),writable:!0})}:es;function TS(u){return Ef(Fl(u))}function Ps(u,p,b){var _=-1,U=u.length;p<0&&(p=-p>U?0:U+p),b=b>U?U:b,b<0&&(b+=U),U=p>b?0:b-p>>>0,p>>>=0;for(var G=Q(U);++_<U;)G[_]=u[_+p];return G}function DS(u,p){var b;return Ma(u,function(_,U,G){return b=p(_,U,G),!b}),!!b}function mf(u,p,b){var _=0,U=u==null?_:u.length;if(typeof p=="number"&&p===p&&U<=ke){for(;_<U;){var G=_+U>>>1,J=u[G];J!==null&&!ps(J)&&(b?J<=p:J<p)?_=G+1:U=G}return U}return Yp(u,p,es,b)}function Yp(u,p,b,_){var U=0,G=u==null?0:u.length;if(G===0)return 0;p=b(p);for(var J=p!==p,ie=p===null,le=ps(p),be=p===n;U<G;){var Ce=of((U+G)/2),De=b(u[Ce]),Be=De!==n,Ze=De===null,ct=De===De,bt=ps(De);if(J)var ut=_||ct;else be?ut=ct&&(_||Be):ie?ut=ct&&Be&&(_||!Ze):le?ut=ct&&Be&&!Ze&&(_||!bt):Ze||bt?ut=!1:ut=_?De<=p:De<p;ut?U=Ce+1:G=Ce}return jr(G,nt)}function iv(u,p){for(var b=-1,_=u.length,U=0,G=[];++b<_;){var J=u[b],ie=p?p(J):J;if(!b||!ni(ie,le)){var le=ie;G[U++]=J===0?0:J}}return G}function av(u){return typeof u=="number"?u:ps(u)?Le:+u}function hs(u){if(typeof u=="string")return u;if(gt(u))return ft(u,hs)+"";if(ps(u))return F2?F2.call(u):"";var p=u+"";return p=="0"&&1/u==-xe?"-0":p}function La(u,p,b){var _=-1,U=bn,G=u.length,J=!0,ie=[],le=ie;if(b)J=!1,U=Do;else if(G>=i){var be=p?null:qS(u);if(be)return s(be);J=!1,U=ur,le=new Fo}else le=p?[]:ie;e:for(;++_<G;){var Ce=u[_],De=p?p(Ce):Ce;if(Ce=b||Ce!==0?Ce:0,J&&De===De){for(var Be=le.length;Be--;)if(le[Be]===De)continue e;p&&le.push(De),ie.push(Ce)}else U(le,De,b)||(le!==ie&&le.push(De),ie.push(Ce))}return ie}function $p(u,p){return p=Pa(p,u),u=Ov(u,p),u==null||delete u[Ci(Fs(p))]}function ov(u,p,b,_){return fu(u,p,b(Uo(u,p)),_)}function xf(u,p,b,_){for(var U=u.length,G=_?U:-1;(_?G--:++G<U)&&p(u[G],G,u););return b?Ps(u,_?0:G,_?G+1:U):Ps(u,_?G+1:0,_?U:G)}function lv(u,p){var b=u;return b instanceof Tt&&(b=b.value()),Js(p,function(_,U){return U.func.apply(U.thisArg,ds([_],U.args))},b)}function Gp(u,p,b){var _=u.length;if(_<2)return _?La(u[0]):[];for(var U=-1,G=Q(_);++U<_;)for(var J=u[U],ie=-1;++ie<_;)ie!=U&&(G[U]=cu(G[U]||J,u[ie],p,b));return La(vr(G,1),p,b)}function cv(u,p,b){for(var _=-1,U=u.length,G=p.length,J={};++_<U;){var ie=_<G?p[_]:n;b(J,u[_],ie)}return J}function Xp(u){return Hn(u)?u:[]}function Qp(u){return typeof u=="function"?u:es}function Pa(u,p){return gt(u)?u:i1(u,p)?[u]:Fv(Xt(u))}var IS=Ct;function Fa(u,p,b){var _=u.length;return b=b===n?_:b,!p&&b>=_?u:Ps(u,p,b)}var uv=y5||function(u){return Kn.clearTimeout(u)};function dv(u,p){if(p)return u.slice();var b=u.length,_=I2?I2(b):new u.constructor(b);return u.copy(_),_}function Kp(u){var p=new u.constructor(u.byteLength);return new tf(p).set(new tf(u)),p}function RS(u,p){var b=p?Kp(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function OS(u){var p=new u.constructor(u.source,Eo.exec(u));return p.lastIndex=u.lastIndex,p}function MS(u){return ou?Ge(ou.call(u)):{}}function fv(u,p){var b=p?Kp(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function hv(u,p){if(u!==p){var b=u!==n,_=u===null,U=u===u,G=ps(u),J=p!==n,ie=p===null,le=p===p,be=ps(p);if(!ie&&!be&&!G&&u>p||G&&J&&le&&!ie&&!be||_&&J&&le||!b&&le||!U)return 1;if(!_&&!G&&!be&&u<p||be&&b&&U&&!_&&!G||ie&&b&&U||!J&&U||!le)return-1}return 0}function LS(u,p,b){for(var _=-1,U=u.criteria,G=p.criteria,J=U.length,ie=b.length;++_<J;){var le=hv(U[_],G[_]);if(le){if(_>=ie)return le;var be=b[_];return le*(be=="desc"?-1:1)}}return u.index-p.index}function pv(u,p,b,_){for(var U=-1,G=u.length,J=b.length,ie=-1,le=p.length,be=ir(G-J,0),Ce=Q(le+be),De=!_;++ie<le;)Ce[ie]=p[ie];for(;++U<J;)(De||U<G)&&(Ce[b[U]]=u[U]);for(;be--;)Ce[ie++]=u[U++];return Ce}function mv(u,p,b,_){for(var U=-1,G=u.length,J=-1,ie=b.length,le=-1,be=p.length,Ce=ir(G-ie,0),De=Q(Ce+be),Be=!_;++U<Ce;)De[U]=u[U];for(var Ze=U;++le<be;)De[Ze+le]=p[le];for(;++J<ie;)(Be||U<G)&&(De[Ze+b[J]]=u[U++]);return De}function Kr(u,p){var b=-1,_=u.length;for(p||(p=Q(_));++b<_;)p[b]=u[b];return p}function bi(u,p,b,_){var U=!b;b||(b={});for(var G=-1,J=p.length;++G<J;){var ie=p[G],le=_?_(b[ie],u[ie],ie,b,u):n;le===n&&(le=u[ie]),U?Ki(b,ie,le):lu(b,ie,le)}return b}function PS(u,p){return bi(u,s1(u),p)}function FS(u,p){return bi(u,Av(u),p)}function gf(u,p){return function(b,_){var U=gt(b)?$d:aS,G=p?p():{};return U(b,u,lt(_,2),G)}}function Ol(u){return Ct(function(p,b){var _=-1,U=b.length,G=U>1?b[U-1]:n,J=U>2?b[2]:n;for(G=u.length>3&&typeof G=="function"?(U--,G):n,J&&Br(b[0],b[1],J)&&(G=U<3?n:G,U=1),p=Ge(p);++_<U;){var ie=b[_];ie&&u(p,ie,_,G)}return p})}function xv(u,p){return function(b,_){if(b==null)return b;if(!Zr(b))return u(b,_);for(var U=b.length,G=p?U:-1,J=Ge(b);(p?G--:++G<U)&&_(J[G],G,J)!==!1;);return b}}function gv(u){return function(p,b,_){for(var U=-1,G=Ge(p),J=_(p),ie=J.length;ie--;){var le=J[u?ie:++U];if(b(G[le],le,G)===!1)break}return p}}function BS(u,p,b){var _=p&L,U=hu(u);function G(){var J=this&&this!==Kn&&this instanceof G?U:u;return J.apply(_?b:this,arguments)}return G}function vv(u){return function(p){p=Xt(p);var b=Ra(p)?m(p):n,_=b?b[0]:p.charAt(0),U=b?Fa(b,1).join(""):p.slice(1);return _[u]()+U}}function Ml(u){return function(p){return Js(xy(my(p).replace(ot,"")),u,"")}}function hu(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Rl(u.prototype),_=u.apply(b,p);return An(_)?_:b}}function US(u,p,b){var _=hu(u);function U(){for(var G=arguments.length,J=Q(G),ie=G,le=Ll(U);ie--;)J[ie]=arguments[ie];var be=G<3&&J[0]!==le&&J[G-1]!==le?[]:P(J,le);if(G-=be.length,G<b)return Nv(u,p,vf,U.placeholder,n,J,be,n,n,b-G);var Ce=this&&this!==Kn&&this instanceof U?_:u;return cr(Ce,this,J)}return U}function yv(u){return function(p,b,_){var U=Ge(p);if(!Zr(p)){var G=lt(b,3);p=fr(p),b=function(ie){return G(U[ie],ie,U)}}var J=u(p,b,_);return J>-1?U[G?p[J]:J]:n}}function wv(u){return Ji(function(p){var b=p.length,_=b,U=Ms.prototype.thru;for(u&&p.reverse();_--;){var G=p[_];if(typeof G!="function")throw new Cn(d);if(U&&!J&&Cf(G)=="wrapper")var J=new Ms([],!0)}for(_=J?_:b;++_<b;){G=p[_];var ie=Cf(G),le=ie=="wrapper"?n1(G):n;le&&a1(le[0])&&le[1]==(R|I|X|H)&&!le[4].length&&le[9]==1?J=J[Cf(le[0])].apply(J,le[3]):J=G.length==1&&a1(G)?J[ie]():J.thru(G)}return function(){var be=arguments,Ce=be[0];if(J&&be.length==1&&gt(Ce))return J.plant(Ce).value();for(var De=0,Be=b?p[De].apply(this,be):Ce;++De<b;)Be=p[De].call(this,Be);return Be}})}function vf(u,p,b,_,U,G,J,ie,le,be){var Ce=p&R,De=p&L,Be=p&T,Ze=p&(I|q),ct=p&V,bt=Be?n:hu(u);function ut(){for(var jt=arguments.length,It=Q(jt),ms=jt;ms--;)It[ms]=arguments[ms];if(Ze)var Ur=Ll(ut),xs=Ap(It,Ur);if(_&&(It=pv(It,_,U,Ze)),G&&(It=mv(It,G,J,Ze)),jt-=xs,Ze&&jt<be){var Vn=P(It,Ur);return Nv(u,p,vf,ut.placeholder,b,It,Vn,ie,le,be-jt)}var ri=De?b:this,ra=Be?ri[u]:u;return jt=It.length,ie?It=a_(It,ie):ct&&jt>1&&It.reverse(),Ce&&le<jt&&(It.length=le),this&&this!==Kn&&this instanceof ut&&(ra=bt||hu(ra)),ra.apply(ri,It)}return ut}function bv(u,p){return function(b,_){return pS(b,u,p(_),{})}}function yf(u,p){return function(b,_){var U;if(b===n&&_===n)return p;if(b!==n&&(U=b),_!==n){if(U===n)return _;typeof b=="string"||typeof _=="string"?(b=hs(b),_=hs(_)):(b=av(b),_=av(_)),U=u(b,_)}return U}}function Zp(u){return Ji(function(p){return p=ft(p,Ln(lt())),Ct(function(b){var _=this;return u(p,function(U){return cr(U,_,b)})})})}function wf(u,p){p=p===n?" ":hs(p);var b=p.length;if(b<2)return b?Vp(p,u):p;var _=Vp(p,af(u/h(p)));return Ra(p)?Fa(m(_),0,u).join(""):_.slice(0,u)}function zS(u,p,b,_){var U=p&L,G=hu(u);function J(){for(var ie=-1,le=arguments.length,be=-1,Ce=_.length,De=Q(Ce+le),Be=this&&this!==Kn&&this instanceof J?G:u;++be<Ce;)De[be]=_[be];for(;le--;)De[be++]=arguments[++ie];return cr(Be,U?b:this,De)}return J}function Cv(u){return function(p,b,_){return _&&typeof _!="number"&&Br(p,b,_)&&(b=_=n),p=na(p),b===n?(b=p,p=0):b=na(b),_=_===n?p<b?1:-1:na(_),_S(p,b,_,u)}}function bf(u){return function(p,b){return typeof p=="string"&&typeof b=="string"||(p=Bs(p),b=Bs(b)),u(p,b)}}function Nv(u,p,b,_,U,G,J,ie,le,be){var Ce=p&I,De=Ce?J:n,Be=Ce?n:J,Ze=Ce?G:n,ct=Ce?n:G;p|=Ce?X:F,p&=~(Ce?F:X),p&A||(p&=~(L|T));var bt=[u,p,U,Ze,De,ct,Be,ie,le,be],ut=b.apply(n,bt);return a1(u)&&Mv(ut,bt),ut.placeholder=_,Lv(ut,u,p)}function Jp(u){var p=ye[u];return function(b,_){if(b=Bs(b),_=_==null?0:jr(wt(_),292),_&&L2(b)){var U=(Xt(b)+"e").split("e"),G=p(U[0]+"e"+(+U[1]+_));return U=(Xt(G)+"e").split("e"),+(U[0]+"e"+(+U[1]-_))}return p(b)}}var qS=Dl&&1/s(new Dl([,-0]))[1]==xe?function(u){return new Dl(u)}:b1;function Ev(u){return function(p){var b=Ar(p);return b==Ke?_t(p):b==Te?l(p):Ro(p,u(p))}}function Zi(u,p,b,_,U,G,J,ie){var le=p&T;if(!le&&typeof u!="function")throw new Cn(d);var be=_?_.length:0;if(be||(p&=~(X|F),_=U=n),J=J===n?J:ir(wt(J),0),ie=ie===n?ie:wt(ie),be-=U?U.length:0,p&F){var Ce=_,De=U;_=U=n}var Be=le?n:n1(u),Ze=[u,p,b,_,U,Ce,De,G,J,ie];if(Be&&r_(Ze,Be),u=Ze[0],p=Ze[1],b=Ze[2],_=Ze[3],U=Ze[4],ie=Ze[9]=Ze[9]===n?le?0:u.length:ir(Ze[9]-be,0),!ie&&p&(I|q)&&(p&=~(I|q)),!p||p==L)var ct=BS(u,p,b);else p==I||p==q?ct=US(u,p,ie):(p==X||p==(L|X))&&!U.length?ct=zS(u,p,b,_):ct=vf.apply(n,Ze);var bt=Be?sv:Mv;return Lv(bt(ct,Ze),u,p)}function Sv(u,p,b,_){return u===n||ni(u,Nn[b])&&!kt.call(_,b)?p:u}function _v(u,p,b,_,U,G){return An(u)&&An(p)&&(G.set(p,u),pf(u,p,n,_v,G),G.delete(p)),u}function WS(u){return xu(u)?n:u}function jv(u,p,b,_,U,G){var J=b&j,ie=u.length,le=p.length;if(ie!=le&&!(J&&le>ie))return!1;var be=G.get(u),Ce=G.get(p);if(be&&Ce)return be==p&&Ce==u;var De=-1,Be=!0,Ze=b&O?new Fo:n;for(G.set(u,p),G.set(p,u);++De<ie;){var ct=u[De],bt=p[De];if(_)var ut=J?_(bt,ct,De,p,u,G):_(ct,bt,De,u,p,G);if(ut!==n){if(ut)continue;Be=!1;break}if(Ze){if(!st(p,function(jt,It){if(!ur(Ze,It)&&(ct===jt||U(ct,jt,b,_,G)))return Ze.push(It)})){Be=!1;break}}else if(!(ct===bt||U(ct,bt,b,_,G))){Be=!1;break}}return G.delete(u),G.delete(p),Be}function HS(u,p,b,_,U,G,J){switch(b){case Jt:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case ln:return!(u.byteLength!=p.byteLength||!G(new tf(u),new tf(p)));case at:case Yt:case Rt:return ni(+u,+p);case $t:return u.name==p.name&&u.message==p.message;case Fe:case yn:return u==p+"";case Ke:var ie=_t;case Te:var le=_&j;if(ie||(ie=s),u.size!=p.size&&!le)return!1;var be=J.get(u);if(be)return be==p;_|=O,J.set(u,p);var Ce=jv(ie(u),ie(p),_,U,G,J);return J.delete(u),Ce;case Qn:if(ou)return ou.call(u)==ou.call(p)}return!1}function VS(u,p,b,_,U,G){var J=b&j,ie=e1(u),le=ie.length,be=e1(p),Ce=be.length;if(le!=Ce&&!J)return!1;for(var De=le;De--;){var Be=ie[De];if(!(J?Be in p:kt.call(p,Be)))return!1}var Ze=G.get(u),ct=G.get(p);if(Ze&&ct)return Ze==p&&ct==u;var bt=!0;G.set(u,p),G.set(p,u);for(var ut=J;++De<le;){Be=ie[De];var jt=u[Be],It=p[Be];if(_)var ms=J?_(It,jt,Be,p,u,G):_(jt,It,Be,u,p,G);if(!(ms===n?jt===It||U(jt,It,b,_,G):ms)){bt=!1;break}ut||(ut=Be=="constructor")}if(bt&&!ut){var Ur=u.constructor,xs=p.constructor;Ur!=xs&&"constructor"in u&&"constructor"in p&&!(typeof Ur=="function"&&Ur instanceof Ur&&typeof xs=="function"&&xs instanceof xs)&&(bt=!1)}return G.delete(u),G.delete(p),bt}function Ji(u){return l1(Rv(u,n,qv),u+"")}function e1(u){return $2(u,fr,s1)}function t1(u){return $2(u,Jr,Av)}var n1=lf?function(u){return lf.get(u)}:b1;function Cf(u){for(var p=u.name+"",b=Il[p],_=kt.call(Il,p)?b.length:0;_--;){var U=b[_],G=U.func;if(G==null||G==u)return U.name}return p}function Ll(u){var p=kt.call(Y,"placeholder")?Y:u;return p.placeholder}function lt(){var u=Y.iteratee||y1;return u=u===y1?Q2:u,arguments.length?u(arguments[0],arguments[1]):u}function Nf(u,p){var b=u.__data__;return JS(p)?b[typeof p=="string"?"string":"hash"]:b.map}function r1(u){for(var p=fr(u),b=p.length;b--;){var _=p[b],U=u[_];p[b]=[_,U,Dv(U)]}return p}function zo(u,p){var b=Os(u,p);return X2(b)?b:n}function YS(u){var p=kt.call(u,Lo),b=u[Lo];try{u[Lo]=n;var _=!0}catch{}var U=Jd.call(u);return _&&(p?u[Lo]=b:delete u[Lo]),U}var s1=Dp?function(u){return u==null?[]:(u=Ge(u),Rs(Dp(u),function(p){return O2.call(u,p)}))}:C1,Av=Dp?function(u){for(var p=[];u;)ds(p,s1(u)),u=nf(u);return p}:C1,Ar=Fr;(Ip&&Ar(new Ip(new ArrayBuffer(1)))!=Jt||su&&Ar(new su)!=Ke||Rp&&Ar(Rp.resolve())!=ze||Dl&&Ar(new Dl)!=Te||iu&&Ar(new iu)!=et)&&(Ar=function(u){var p=Fr(u),b=p==Ae?u.constructor:n,_=b?qo(b):"";if(_)switch(_){case A5:return Jt;case k5:return Ke;case T5:return ze;case D5:return Te;case I5:return et}return p});function $S(u,p,b){for(var _=-1,U=b.length;++_<U;){var G=b[_],J=G.size;switch(G.type){case"drop":u+=J;break;case"dropRight":p-=J;break;case"take":p=jr(p,u+J);break;case"takeRight":u=ir(u,p-J);break}}return{start:u,end:p}}function GS(u){var p=u.match(Xr);return p?p[1].split(qe):[]}function kv(u,p,b){p=Pa(p,u);for(var _=-1,U=p.length,G=!1;++_<U;){var J=Ci(p[_]);if(!(G=u!=null&&b(u,J)))break;u=u[J]}return G||++_!=U?G:(U=u==null?0:u.length,!!U&&Tf(U)&&ea(J,U)&&(gt(u)||Wo(u)))}function XS(u){var p=u.length,b=new u.constructor(p);return p&&typeof u[0]=="string"&&kt.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function Tv(u){return typeof u.constructor=="function"&&!pu(u)?Rl(nf(u)):{}}function QS(u,p,b){var _=u.constructor;switch(p){case ln:return Kp(u);case at:case Yt:return new _(+u);case Jt:return RS(u,b);case pn:case os:case As:case zi:case on:case Me:case cn:case Dt:case Gt:return fv(u,b);case Ke:return new _;case Rt:case yn:return new _(u);case Fe:return OS(u);case Te:return new _;case Qn:return MS(u)}}function KS(u,p){var b=p.length;if(!b)return u;var _=b-1;return p[_]=(b>1?"& ":"")+p[_],p=p.join(b>2?", ":" "),u.replace(Wi,`{
/* [wrapped with `+p+`] */
`)}function ZS(u){return gt(u)||Wo(u)||!!(M2&&u&&u[M2])}function ea(u,p){var b=typeof u;return p=p??ue,!!p&&(b=="number"||b!="symbol"&&Ds.test(u))&&u>-1&&u%1==0&&u<p}function Br(u,p,b){if(!An(b))return!1;var _=typeof p;return(_=="number"?Zr(b)&&ea(p,b.length):_=="string"&&p in b)?ni(b[p],u):!1}function i1(u,p){if(gt(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||ps(u)?!0:wl.test(u)||!_a.test(u)||p!=null&&u in Ge(p)}function JS(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function a1(u){var p=Cf(u),b=Y[p];if(typeof b!="function"||!(p in Tt.prototype))return!1;if(u===b)return!0;var _=n1(b);return!!_&&u===_[0]}function e_(u){return!!Zd&&Zd in u}var t_=dr?ta:N1;function pu(u){var p=u&&u.constructor,b=typeof p=="function"&&p.prototype||Nn;return u===b}function Dv(u){return u===u&&!An(u)}function Iv(u,p){return function(b){return b==null?!1:b[u]===p&&(p!==n||u in Ge(b))}}function n_(u){var p=Af(u,function(_){return b.size===g&&b.clear(),_}),b=p.cache;return p}function r_(u,p){var b=u[1],_=p[1],U=b|_,G=U<(L|T|R),J=_==R&&b==I||_==R&&b==H&&u[7].length<=p[8]||_==(R|H)&&p[7].length<=p[8]&&b==I;if(!(G||J))return u;_&L&&(u[2]=p[2],U|=b&L?0:A);var ie=p[3];if(ie){var le=u[3];u[3]=le?pv(le,ie,p[4]):ie,u[4]=le?P(u[3],w):p[4]}return ie=p[5],ie&&(le=u[5],u[5]=le?mv(le,ie,p[6]):ie,u[6]=le?P(u[5],w):p[6]),ie=p[7],ie&&(u[7]=ie),_&R&&(u[8]=u[8]==null?p[8]:jr(u[8],p[8])),u[9]==null&&(u[9]=p[9]),u[0]=p[0],u[1]=U,u}function s_(u){var p=[];if(u!=null)for(var b in Ge(u))p.push(b);return p}function i_(u){return Jd.call(u)}function Rv(u,p,b){return p=ir(p===n?u.length-1:p,0),function(){for(var _=arguments,U=-1,G=ir(_.length-p,0),J=Q(G);++U<G;)J[U]=_[p+U];U=-1;for(var ie=Q(p+1);++U<p;)ie[U]=_[U];return ie[p]=b(J),cr(u,this,ie)}}function Ov(u,p){return p.length<2?u:Uo(u,Ps(p,0,-1))}function a_(u,p){for(var b=u.length,_=jr(p.length,b),U=Kr(u);_--;){var G=p[_];u[_]=ea(G,b)?U[G]:n}return u}function o1(u,p){if(!(p==="constructor"&&typeof u[p]=="function")&&p!="__proto__")return u[p]}var Mv=Pv(sv),mu=b5||function(u,p){return Kn.setTimeout(u,p)},l1=Pv(kS);function Lv(u,p,b){var _=p+"";return l1(u,KS(_,o_(GS(_),b)))}function Pv(u){var p=0,b=0;return function(){var _=S5(),U=ee-(_-b);if(b=_,U>0){if(++p>=re)return arguments[0]}else p=0;return u.apply(n,arguments)}}function Ef(u,p){var b=-1,_=u.length,U=_-1;for(p=p===n?_:p;++b<p;){var G=Hp(b,U),J=u[G];u[G]=u[b],u[b]=J}return u.length=p,u}var Fv=n_(function(u){var p=[];return u.charCodeAt(0)===46&&p.push(""),u.replace(ks,function(b,_,U,G){p.push(U?G.replace(Nr,"$1"):_||b)}),p});function Ci(u){if(typeof u=="string"||ps(u))return u;var p=u+"";return p=="0"&&1/u==-xe?"-0":p}function qo(u){if(u!=null){try{return ei.call(u)}catch{}try{return u+""}catch{}}return""}function o_(u,p){return Qr(Xe,function(b){var _="_."+b[0];p&b[1]&&!bn(u,_)&&u.push(_)}),u.sort()}function Bv(u){if(u instanceof Tt)return u.clone();var p=new Ms(u.__wrapped__,u.__chain__);return p.__actions__=Kr(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}function l_(u,p,b){(b?Br(u,p,b):p===n)?p=1:p=ir(wt(p),0);var _=u==null?0:u.length;if(!_||p<1)return[];for(var U=0,G=0,J=Q(af(_/p));U<_;)J[G++]=Ps(u,U,U+=p);return J}function c_(u){for(var p=-1,b=u==null?0:u.length,_=0,U=[];++p<b;){var G=u[p];G&&(U[_++]=G)}return U}function u_(){var u=arguments.length;if(!u)return[];for(var p=Q(u-1),b=arguments[0],_=u;_--;)p[_-1]=arguments[_];return ds(gt(b)?Kr(b):[b],vr(p,1))}var d_=Ct(function(u,p){return Hn(u)?cu(u,vr(p,1,Hn,!0)):[]}),f_=Ct(function(u,p){var b=Fs(p);return Hn(b)&&(b=n),Hn(u)?cu(u,vr(p,1,Hn,!0),lt(b,2)):[]}),h_=Ct(function(u,p){var b=Fs(p);return Hn(b)&&(b=n),Hn(u)?cu(u,vr(p,1,Hn,!0),n,b):[]});function p_(u,p,b){var _=u==null?0:u.length;return _?(p=b||p===n?1:wt(p),Ps(u,p<0?0:p,_)):[]}function m_(u,p,b){var _=u==null?0:u.length;return _?(p=b||p===n?1:wt(p),p=_-p,Ps(u,0,p<0?0:p)):[]}function x_(u,p){return u&&u.length?xf(u,lt(p,3),!0,!0):[]}function g_(u,p){return u&&u.length?xf(u,lt(p,3),!0):[]}function v_(u,p,b,_){var U=u==null?0:u.length;return U?(b&&typeof b!="number"&&Br(u,p,b)&&(b=0,_=U),uS(u,p,b,_)):[]}function Uv(u,p,b){var _=u==null?0:u.length;if(!_)return-1;var U=b==null?0:wt(b);return U<0&&(U=ir(_+U,0)),jl(u,lt(p,3),U)}function zv(u,p,b){var _=u==null?0:u.length;if(!_)return-1;var U=_-1;return b!==n&&(U=wt(b),U=b<0?ir(_+U,0):jr(U,_-1)),jl(u,lt(p,3),U,!0)}function qv(u){var p=u==null?0:u.length;return p?vr(u,1):[]}function y_(u){var p=u==null?0:u.length;return p?vr(u,xe):[]}function w_(u,p){var b=u==null?0:u.length;return b?(p=p===n?1:wt(p),vr(u,p)):[]}function b_(u){for(var p=-1,b=u==null?0:u.length,_={};++p<b;){var U=u[p];_[U[0]]=U[1]}return _}function Wv(u){return u&&u.length?u[0]:n}function C_(u,p,b){var _=u==null?0:u.length;if(!_)return-1;var U=b==null?0:wt(b);return U<0&&(U=ir(_+U,0)),gr(u,p,U)}function N_(u){var p=u==null?0:u.length;return p?Ps(u,0,-1):[]}var E_=Ct(function(u){var p=ft(u,Xp);return p.length&&p[0]===u[0]?Bp(p):[]}),S_=Ct(function(u){var p=Fs(u),b=ft(u,Xp);return p===Fs(b)?p=n:b.pop(),b.length&&b[0]===u[0]?Bp(b,lt(p,2)):[]}),__=Ct(function(u){var p=Fs(u),b=ft(u,Xp);return p=typeof p=="function"?p:n,p&&b.pop(),b.length&&b[0]===u[0]?Bp(b,n,p):[]});function j_(u,p){return u==null?"":N5.call(u,p)}function Fs(u){var p=u==null?0:u.length;return p?u[p-1]:n}function A_(u,p,b){var _=u==null?0:u.length;if(!_)return-1;var U=_;return b!==n&&(U=wt(b),U=U<0?ir(_+U,0):jr(U,_-1)),p===p?f(u,p,U):jl(u,Zc,U,!0)}function k_(u,p){return u&&u.length?ev(u,wt(p)):n}var T_=Ct(Hv);function Hv(u,p){return u&&u.length&&p&&p.length?Wp(u,p):u}function D_(u,p,b){return u&&u.length&&p&&p.length?Wp(u,p,lt(b,2)):u}function I_(u,p,b){return u&&u.length&&p&&p.length?Wp(u,p,n,b):u}var R_=Ji(function(u,p){var b=u==null?0:u.length,_=Mp(u,p);return rv(u,ft(p,function(U){return ea(U,b)?+U:U}).sort(hv)),_});function O_(u,p){var b=[];if(!(u&&u.length))return b;var _=-1,U=[],G=u.length;for(p=lt(p,3);++_<G;){var J=u[_];p(J,_,u)&&(b.push(J),U.push(_))}return rv(u,U),b}function c1(u){return u==null?u:j5.call(u)}function M_(u,p,b){var _=u==null?0:u.length;return _?(b&&typeof b!="number"&&Br(u,p,b)?(p=0,b=_):(p=p==null?0:wt(p),b=b===n?_:wt(b)),Ps(u,p,b)):[]}function L_(u,p){return mf(u,p)}function P_(u,p,b){return Yp(u,p,lt(b,2))}function F_(u,p){var b=u==null?0:u.length;if(b){var _=mf(u,p);if(_<b&&ni(u[_],p))return _}return-1}function B_(u,p){return mf(u,p,!0)}function U_(u,p,b){return Yp(u,p,lt(b,2),!0)}function z_(u,p){var b=u==null?0:u.length;if(b){var _=mf(u,p,!0)-1;if(ni(u[_],p))return _}return-1}function q_(u){return u&&u.length?iv(u):[]}function W_(u,p){return u&&u.length?iv(u,lt(p,2)):[]}function H_(u){var p=u==null?0:u.length;return p?Ps(u,1,p):[]}function V_(u,p,b){return u&&u.length?(p=b||p===n?1:wt(p),Ps(u,0,p<0?0:p)):[]}function Y_(u,p,b){var _=u==null?0:u.length;return _?(p=b||p===n?1:wt(p),p=_-p,Ps(u,p<0?0:p,_)):[]}function $_(u,p){return u&&u.length?xf(u,lt(p,3),!1,!0):[]}function G_(u,p){return u&&u.length?xf(u,lt(p,3)):[]}var X_=Ct(function(u){return La(vr(u,1,Hn,!0))}),Q_=Ct(function(u){var p=Fs(u);return Hn(p)&&(p=n),La(vr(u,1,Hn,!0),lt(p,2))}),K_=Ct(function(u){var p=Fs(u);return p=typeof p=="function"?p:n,La(vr(u,1,Hn,!0),n,p)});function Z_(u){return u&&u.length?La(u):[]}function J_(u,p){return u&&u.length?La(u,lt(p,2)):[]}function e8(u,p){return p=typeof p=="function"?p:n,u&&u.length?La(u,n,p):[]}function u1(u){if(!(u&&u.length))return[];var p=0;return u=Rs(u,function(b){if(Hn(b))return p=ir(b.length,p),!0}),Jc(p,function(b){return ft(u,kl(b))})}function Vv(u,p){if(!(u&&u.length))return[];var b=u1(u);return p==null?b:ft(b,function(_){return cr(p,n,_)})}var t8=Ct(function(u,p){return Hn(u)?cu(u,p):[]}),n8=Ct(function(u){return Gp(Rs(u,Hn))}),r8=Ct(function(u){var p=Fs(u);return Hn(p)&&(p=n),Gp(Rs(u,Hn),lt(p,2))}),s8=Ct(function(u){var p=Fs(u);return p=typeof p=="function"?p:n,Gp(Rs(u,Hn),n,p)}),i8=Ct(u1);function a8(u,p){return cv(u||[],p||[],lu)}function o8(u,p){return cv(u||[],p||[],fu)}var l8=Ct(function(u){var p=u.length,b=p>1?u[p-1]:n;return b=typeof b=="function"?(u.pop(),b):n,Vv(u,b)});function Yv(u){var p=Y(u);return p.__chain__=!0,p}function c8(u,p){return p(u),u}function Sf(u,p){return p(u)}var u8=Ji(function(u){var p=u.length,b=p?u[0]:0,_=this.__wrapped__,U=function(G){return Mp(G,u)};return p>1||this.__actions__.length||!(_ instanceof Tt)||!ea(b)?this.thru(U):(_=_.slice(b,+b+(p?1:0)),_.__actions__.push({func:Sf,args:[U],thisArg:n}),new Ms(_,this.__chain__).thru(function(G){return p&&!G.length&&G.push(n),G}))});function d8(){return Yv(this)}function f8(){return new Ms(this.value(),this.__chain__)}function h8(){this.__values__===n&&(this.__values__=ay(this.value()));var u=this.__index__>=this.__values__.length,p=u?n:this.__values__[this.__index__++];return{done:u,value:p}}function p8(){return this}function m8(u){for(var p,b=this;b instanceof uf;){var _=Bv(b);_.__index__=0,_.__values__=n,p?U.__wrapped__=_:p=_;var U=_;b=b.__wrapped__}return U.__wrapped__=u,p}function x8(){var u=this.__wrapped__;if(u instanceof Tt){var p=u;return this.__actions__.length&&(p=new Tt(this)),p=p.reverse(),p.__actions__.push({func:Sf,args:[c1],thisArg:n}),new Ms(p,this.__chain__)}return this.thru(c1)}function g8(){return lv(this.__wrapped__,this.__actions__)}var v8=gf(function(u,p,b){kt.call(u,b)?++u[b]:Ki(u,b,1)});function y8(u,p,b){var _=gt(u)?Gd:cS;return b&&Br(u,p,b)&&(p=n),_(u,lt(p,3))}function w8(u,p){var b=gt(u)?Rs:V2;return b(u,lt(p,3))}var b8=yv(Uv),C8=yv(zv);function N8(u,p){return vr(_f(u,p),1)}function E8(u,p){return vr(_f(u,p),xe)}function S8(u,p,b){return b=b===n?1:wt(b),vr(_f(u,p),b)}function $v(u,p){var b=gt(u)?Qr:Ma;return b(u,lt(p,3))}function Gv(u,p){var b=gt(u)?_p:H2;return b(u,lt(p,3))}var _8=gf(function(u,p,b){kt.call(u,b)?u[b].push(p):Ki(u,b,[p])});function j8(u,p,b,_){u=Zr(u)?u:Fl(u),b=b&&!_?wt(b):0;var U=u.length;return b<0&&(b=ir(U+b,0)),Df(u)?b<=U&&u.indexOf(p,b)>-1:!!U&&gr(u,p,b)>-1}var A8=Ct(function(u,p,b){var _=-1,U=typeof p=="function",G=Zr(u)?Q(u.length):[];return Ma(u,function(J){G[++_]=U?cr(p,J,b):uu(J,p,b)}),G}),k8=gf(function(u,p,b){Ki(u,b,p)});function _f(u,p){var b=gt(u)?ft:K2;return b(u,lt(p,3))}function T8(u,p,b,_){return u==null?[]:(gt(p)||(p=p==null?[]:[p]),b=_?n:b,gt(b)||(b=b==null?[]:[b]),tv(u,p,b))}var D8=gf(function(u,p,b){u[b?0:1].push(p)},function(){return[[],[]]});function I8(u,p,b){var _=gt(u)?Js:Xd,U=arguments.length<3;return _(u,lt(p,4),b,U,Ma)}function R8(u,p,b){var _=gt(u)?nn:Xd,U=arguments.length<3;return _(u,lt(p,4),b,U,H2)}function O8(u,p){var b=gt(u)?Rs:V2;return b(u,kf(lt(p,3)))}function M8(u){var p=gt(u)?U2:jS;return p(u)}function L8(u,p,b){(b?Br(u,p,b):p===n)?p=1:p=wt(p);var _=gt(u)?sS:AS;return _(u,p)}function P8(u){var p=gt(u)?iS:TS;return p(u)}function F8(u){if(u==null)return 0;if(Zr(u))return Df(u)?h(u):u.length;var p=Ar(u);return p==Ke||p==Te?u.size:zp(u).length}function B8(u,p,b){var _=gt(u)?st:DS;return b&&Br(u,p,b)&&(p=n),_(u,lt(p,3))}var U8=Ct(function(u,p){if(u==null)return[];var b=p.length;return b>1&&Br(u,p[0],p[1])?p=[]:b>2&&Br(p[0],p[1],p[2])&&(p=[p[0]]),tv(u,vr(p,1),[])}),jf=w5||function(){return Kn.Date.now()};function z8(u,p){if(typeof p!="function")throw new Cn(d);return u=wt(u),function(){if(--u<1)return p.apply(this,arguments)}}function Xv(u,p,b){return p=b?n:p,p=u&&p==null?u.length:p,Zi(u,R,n,n,n,n,p)}function Qv(u,p){var b;if(typeof p!="function")throw new Cn(d);return u=wt(u),function(){return--u>0&&(b=p.apply(this,arguments)),u<=1&&(p=n),b}}var d1=Ct(function(u,p,b){var _=L;if(b.length){var U=P(b,Ll(d1));_|=X}return Zi(u,_,p,b,U)}),Kv=Ct(function(u,p,b){var _=L|T;if(b.length){var U=P(b,Ll(Kv));_|=X}return Zi(p,_,u,b,U)});function Zv(u,p,b){p=b?n:p;var _=Zi(u,I,n,n,n,n,n,p);return _.placeholder=Zv.placeholder,_}function Jv(u,p,b){p=b?n:p;var _=Zi(u,q,n,n,n,n,n,p);return _.placeholder=Jv.placeholder,_}function ey(u,p,b){var _,U,G,J,ie,le,be=0,Ce=!1,De=!1,Be=!0;if(typeof u!="function")throw new Cn(d);p=Bs(p)||0,An(b)&&(Ce=!!b.leading,De="maxWait"in b,G=De?ir(Bs(b.maxWait)||0,p):G,Be="trailing"in b?!!b.trailing:Be);function Ze(Vn){var ri=_,ra=U;return _=U=n,be=Vn,J=u.apply(ra,ri),J}function ct(Vn){return be=Vn,ie=mu(jt,p),Ce?Ze(Vn):J}function bt(Vn){var ri=Vn-le,ra=Vn-be,yy=p-ri;return De?jr(yy,G-ra):yy}function ut(Vn){var ri=Vn-le,ra=Vn-be;return le===n||ri>=p||ri<0||De&&ra>=G}function jt(){var Vn=jf();if(ut(Vn))return It(Vn);ie=mu(jt,bt(Vn))}function It(Vn){return ie=n,Be&&_?Ze(Vn):(_=U=n,J)}function ms(){ie!==n&&uv(ie),be=0,_=le=U=ie=n}function Ur(){return ie===n?J:It(jf())}function xs(){var Vn=jf(),ri=ut(Vn);if(_=arguments,U=this,le=Vn,ri){if(ie===n)return ct(le);if(De)return uv(ie),ie=mu(jt,p),Ze(le)}return ie===n&&(ie=mu(jt,p)),J}return xs.cancel=ms,xs.flush=Ur,xs}var q8=Ct(function(u,p){return W2(u,1,p)}),W8=Ct(function(u,p,b){return W2(u,Bs(p)||0,b)});function H8(u){return Zi(u,V)}function Af(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new Cn(d);var b=function(){var _=arguments,U=p?p.apply(this,_):_[0],G=b.cache;if(G.has(U))return G.get(U);var J=u.apply(this,_);return b.cache=G.set(U,J)||G,J};return b.cache=new(Af.Cache||Qi),b}Af.Cache=Qi;function kf(u){if(typeof u!="function")throw new Cn(d);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}function V8(u){return Qv(2,u)}var Y8=IS(function(u,p){p=p.length==1&&gt(p[0])?ft(p[0],Ln(lt())):ft(vr(p,1),Ln(lt()));var b=p.length;return Ct(function(_){for(var U=-1,G=jr(_.length,b);++U<G;)_[U]=p[U].call(this,_[U]);return cr(u,this,_)})}),f1=Ct(function(u,p){var b=P(p,Ll(f1));return Zi(u,X,n,p,b)}),ty=Ct(function(u,p){var b=P(p,Ll(ty));return Zi(u,F,n,p,b)}),$8=Ji(function(u,p){return Zi(u,H,n,n,n,p)});function G8(u,p){if(typeof u!="function")throw new Cn(d);return p=p===n?p:wt(p),Ct(u,p)}function X8(u,p){if(typeof u!="function")throw new Cn(d);return p=p==null?0:ir(wt(p),0),Ct(function(b){var _=b[p],U=Fa(b,0,p);return _&&ds(U,_),cr(u,this,U)})}function Q8(u,p,b){var _=!0,U=!0;if(typeof u!="function")throw new Cn(d);return An(b)&&(_="leading"in b?!!b.leading:_,U="trailing"in b?!!b.trailing:U),ey(u,p,{leading:_,maxWait:p,trailing:U})}function K8(u){return Xv(u,1)}function Z8(u,p){return f1(Qp(p),u)}function J8(){if(!arguments.length)return[];var u=arguments[0];return gt(u)?u:[u]}function e6(u){return Ls(u,k)}function t6(u,p){return p=typeof p=="function"?p:n,Ls(u,k,p)}function n6(u){return Ls(u,N|k)}function r6(u,p){return p=typeof p=="function"?p:n,Ls(u,N|k,p)}function s6(u,p){return p==null||q2(u,p,fr(p))}function ni(u,p){return u===p||u!==u&&p!==p}var i6=bf(Fp),a6=bf(function(u,p){return u>=p}),Wo=G2(function(){return arguments}())?G2:function(u){return Pn(u)&&kt.call(u,"callee")&&!O2.call(u,"callee")},gt=Q.isArray,o6=To?Ln(To):mS;function Zr(u){return u!=null&&Tf(u.length)&&!ta(u)}function Hn(u){return Pn(u)&&Zr(u)}function l6(u){return u===!0||u===!1||Pn(u)&&Fr(u)==at}var Ba=C5||N1,c6=Zs?Ln(Zs):xS;function u6(u){return Pn(u)&&u.nodeType===1&&!xu(u)}function d6(u){if(u==null)return!0;if(Zr(u)&&(gt(u)||typeof u=="string"||typeof u.splice=="function"||Ba(u)||Pl(u)||Wo(u)))return!u.length;var p=Ar(u);if(p==Ke||p==Te)return!u.size;if(pu(u))return!zp(u).length;for(var b in u)if(kt.call(u,b))return!1;return!0}function f6(u,p){return du(u,p)}function h6(u,p,b){b=typeof b=="function"?b:n;var _=b?b(u,p):n;return _===n?du(u,p,n,b):!!_}function h1(u){if(!Pn(u))return!1;var p=Fr(u);return p==$t||p==Zt||typeof u.message=="string"&&typeof u.name=="string"&&!xu(u)}function p6(u){return typeof u=="number"&&L2(u)}function ta(u){if(!An(u))return!1;var p=Fr(u);return p==Ht||p==Ee||p==Ie||p==Qe}function ny(u){return typeof u=="number"&&u==wt(u)}function Tf(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ue}function An(u){var p=typeof u;return u!=null&&(p=="object"||p=="function")}function Pn(u){return u!=null&&typeof u=="object"}var ry=Yd?Ln(Yd):vS;function m6(u,p){return u===p||Up(u,p,r1(p))}function x6(u,p,b){return b=typeof b=="function"?b:n,Up(u,p,r1(p),b)}function g6(u){return sy(u)&&u!=+u}function v6(u){if(t_(u))throw new pe(o);return X2(u)}function y6(u){return u===null}function w6(u){return u==null}function sy(u){return typeof u=="number"||Pn(u)&&Fr(u)==Rt}function xu(u){if(!Pn(u)||Fr(u)!=Ae)return!1;var p=nf(u);if(p===null)return!0;var b=kt.call(p,"constructor")&&p.constructor;return typeof b=="function"&&b instanceof b&&ei.call(b)==x5}var p1=he?Ln(he):yS;function b6(u){return ny(u)&&u>=-ue&&u<=ue}var iy=vt?Ln(vt):wS;function Df(u){return typeof u=="string"||!gt(u)&&Pn(u)&&Fr(u)==yn}function ps(u){return typeof u=="symbol"||Pn(u)&&Fr(u)==Qn}var Pl=Zn?Ln(Zn):bS;function C6(u){return u===n}function N6(u){return Pn(u)&&Ar(u)==et}function E6(u){return Pn(u)&&Fr(u)==Ot}var S6=bf(qp),_6=bf(function(u,p){return u<=p});function ay(u){if(!u)return[];if(Zr(u))return Df(u)?m(u):Kr(u);if(ru&&u[ru])return Oo(u[ru]());var p=Ar(u),b=p==Ke?_t:p==Te?s:Fl;return b(u)}function na(u){if(!u)return u===0?u:0;if(u=Bs(u),u===xe||u===-xe){var p=u<0?-1:1;return p*ge}return u===u?u:0}function wt(u){var p=na(u),b=p%1;return p===p?b?p-b:p:0}function oy(u){return u?Bo(wt(u),0,Ve):0}function Bs(u){if(typeof u=="number")return u;if(ps(u))return Le;if(An(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=An(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=Qd(u);var b=Ts.test(u);return b||wp.test(u)?Sr(u.slice(2),b?2:8):bl.test(u)?Le:+u}function ly(u){return bi(u,Jr(u))}function j6(u){return u?Bo(wt(u),-ue,ue):u===0?u:0}function Xt(u){return u==null?"":hs(u)}var A6=Ol(function(u,p){if(pu(p)||Zr(p)){bi(p,fr(p),u);return}for(var b in p)kt.call(p,b)&&lu(u,b,p[b])}),cy=Ol(function(u,p){bi(p,Jr(p),u)}),If=Ol(function(u,p,b,_){bi(p,Jr(p),u,_)}),k6=Ol(function(u,p,b,_){bi(p,fr(p),u,_)}),T6=Ji(Mp);function D6(u,p){var b=Rl(u);return p==null?b:z2(b,p)}var I6=Ct(function(u,p){u=Ge(u);var b=-1,_=p.length,U=_>2?p[2]:n;for(U&&Br(p[0],p[1],U)&&(_=1);++b<_;)for(var G=p[b],J=Jr(G),ie=-1,le=J.length;++ie<le;){var be=J[ie],Ce=u[be];(Ce===n||ni(Ce,Nn[be])&&!kt.call(u,be))&&(u[be]=G[be])}return u}),R6=Ct(function(u){return u.push(n,_v),cr(uy,n,u)});function O6(u,p){return Gi(u,lt(p,3),wi)}function M6(u,p){return Gi(u,lt(p,3),Pp)}function L6(u,p){return u==null?u:Lp(u,lt(p,3),Jr)}function P6(u,p){return u==null?u:Y2(u,lt(p,3),Jr)}function F6(u,p){return u&&wi(u,lt(p,3))}function B6(u,p){return u&&Pp(u,lt(p,3))}function U6(u){return u==null?[]:hf(u,fr(u))}function z6(u){return u==null?[]:hf(u,Jr(u))}function m1(u,p,b){var _=u==null?n:Uo(u,p);return _===n?b:_}function q6(u,p){return u!=null&&kv(u,p,dS)}function x1(u,p){return u!=null&&kv(u,p,fS)}var W6=bv(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Jd.call(p)),u[p]=b},v1(es)),H6=bv(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Jd.call(p)),kt.call(u,p)?u[p].push(b):u[p]=[b]},lt),V6=Ct(uu);function fr(u){return Zr(u)?B2(u):zp(u)}function Jr(u){return Zr(u)?B2(u,!0):CS(u)}function Y6(u,p){var b={};return p=lt(p,3),wi(u,function(_,U,G){Ki(b,p(_,U,G),_)}),b}function $6(u,p){var b={};return p=lt(p,3),wi(u,function(_,U,G){Ki(b,U,p(_,U,G))}),b}var G6=Ol(function(u,p,b){pf(u,p,b)}),uy=Ol(function(u,p,b,_){pf(u,p,b,_)}),X6=Ji(function(u,p){var b={};if(u==null)return b;var _=!1;p=ft(p,function(G){return G=Pa(G,u),_||(_=G.length>1),G}),bi(u,t1(u),b),_&&(b=Ls(b,N|S|k,WS));for(var U=p.length;U--;)$p(b,p[U]);return b});function Q6(u,p){return dy(u,kf(lt(p)))}var K6=Ji(function(u,p){return u==null?{}:ES(u,p)});function dy(u,p){if(u==null)return{};var b=ft(t1(u),function(_){return[_]});return p=lt(p),nv(u,b,function(_,U){return p(_,U[0])})}function Z6(u,p,b){p=Pa(p,u);var _=-1,U=p.length;for(U||(U=1,u=n);++_<U;){var G=u==null?n:u[Ci(p[_])];G===n&&(_=U,G=b),u=ta(G)?G.call(u):G}return u}function J6(u,p,b){return u==null?u:fu(u,p,b)}function ej(u,p,b,_){return _=typeof _=="function"?_:n,u==null?u:fu(u,p,b,_)}var fy=Ev(fr),hy=Ev(Jr);function tj(u,p,b){var _=gt(u),U=_||Ba(u)||Pl(u);if(p=lt(p,4),b==null){var G=u&&u.constructor;U?b=_?new G:[]:An(u)?b=ta(G)?Rl(nf(u)):{}:b={}}return(U?Qr:wi)(u,function(J,ie,le){return p(b,J,ie,le)}),b}function nj(u,p){return u==null?!0:$p(u,p)}function rj(u,p,b){return u==null?u:ov(u,p,Qp(b))}function sj(u,p,b,_){return _=typeof _=="function"?_:n,u==null?u:ov(u,p,Qp(b),_)}function Fl(u){return u==null?[]:Ia(u,fr(u))}function ij(u){return u==null?[]:Ia(u,Jr(u))}function aj(u,p,b){return b===n&&(b=p,p=n),b!==n&&(b=Bs(b),b=b===b?b:0),p!==n&&(p=Bs(p),p=p===p?p:0),Bo(Bs(u),p,b)}function oj(u,p,b){return p=na(p),b===n?(b=p,p=0):b=na(b),u=Bs(u),hS(u,p,b)}function lj(u,p,b){if(b&&typeof b!="boolean"&&Br(u,p,b)&&(p=b=n),b===n&&(typeof p=="boolean"?(b=p,p=n):typeof u=="boolean"&&(b=u,u=n)),u===n&&p===n?(u=0,p=1):(u=na(u),p===n?(p=u,u=0):p=na(p)),u>p){var _=u;u=p,p=_}if(b||u%1||p%1){var U=P2();return jr(u+U*(p-u+ko("1e-"+((U+"").length-1))),p)}return Hp(u,p)}var cj=Ml(function(u,p,b){return p=p.toLowerCase(),u+(b?py(p):p)});function py(u){return g1(Xt(u).toLowerCase())}function my(u){return u=Xt(u),u&&u.replace(xr,tu).replace(Ep,"")}function uj(u,p,b){u=Xt(u),p=hs(p);var _=u.length;b=b===n?_:Bo(wt(b),0,_);var U=b;return b-=p.length,b>=0&&u.slice(b,U)==p}function dj(u){return u=Xt(u),u&&Pd.test(u)?u.replace(vi,kp):u}function fj(u){return u=Xt(u),u&&qi.test(u)?u.replace(qc,"\\$&"):u}var hj=Ml(function(u,p,b){return u+(b?"-":"")+p.toLowerCase()}),pj=Ml(function(u,p,b){return u+(b?" ":"")+p.toLowerCase()}),mj=vv("toLowerCase");function xj(u,p,b){u=Xt(u),p=wt(p);var _=p?h(u):0;if(!p||_>=p)return u;var U=(p-_)/2;return wf(of(U),b)+u+wf(af(U),b)}function gj(u,p,b){u=Xt(u),p=wt(p);var _=p?h(u):0;return p&&_<p?u+wf(p-_,b):u}function vj(u,p,b){u=Xt(u),p=wt(p);var _=p?h(u):0;return p&&_<p?wf(p-_,b)+u:u}function yj(u,p,b){return b||p==null?p=0:p&&(p=+p),_5(Xt(u).replace(No,""),p||0)}function wj(u,p,b){return(b?Br(u,p,b):p===n)?p=1:p=wt(p),Vp(Xt(u),p)}function bj(){var u=arguments,p=Xt(u[0]);return u.length<3?p:p.replace(u[1],u[2])}var Cj=Ml(function(u,p,b){return u+(b?"_":"")+p.toLowerCase()});function Nj(u,p,b){return b&&typeof b!="number"&&Br(u,p,b)&&(p=b=n),b=b===n?Ve:b>>>0,b?(u=Xt(u),u&&(typeof p=="string"||p!=null&&!p1(p))&&(p=hs(p),!p&&Ra(u))?Fa(m(u),0,b):u.split(p,b)):[]}var Ej=Ml(function(u,p,b){return u+(b?" ":"")+g1(p)});function Sj(u,p,b){return u=Xt(u),b=b==null?0:Bo(wt(b),0,u.length),p=hs(p),u.slice(b,b+p.length)==p}function _j(u,p,b){var _=Y.templateSettings;b&&Br(u,p,b)&&(p=n),u=Xt(u),p=If({},p,_,Sv);var U=If({},p.imports,_.imports,Sv),G=fr(U),J=Ia(U,G),ie,le,be=0,Ce=p.interpolate||en,De="__p += '",Be=mt((p.escape||en).source+"|"+Ce.source+"|"+(Ce===tr?Aa:en).source+"|"+(p.evaluate||en).source+"|$","g"),Ze="//# sourceURL="+(kt.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vi+"]")+`
`;u.replace(Be,function(ut,jt,It,ms,Ur,xs){return It||(It=ms),De+=u.slice(be,xs).replace(Fd,Kd),jt&&(ie=!0,De+=`' +
__e(`+jt+`) +
'`),Ur&&(le=!0,De+=`';
`+Ur+`;
__p += '`),It&&(De+=`' +
((__t = (`+It+`)) == null ? '' : __t) +
'`),be=xs+ut.length,ut}),De+=`';
`;var ct=kt.call(p,"variable")&&p.variable;if(!ct)De=`with (obj) {
`+De+`
}
`;else if(Wc.test(ct))throw new pe(x);De=(le?De.replace(Ks,""):De).replace(Co,"$1").replace(Md,"$1;"),De="function("+(ct||"obj")+`) {
`+(ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+De+`return __p
}`;var bt=gy(function(){return ve(G,Ze+"return "+De).apply(n,J)});if(bt.source=De,h1(bt))throw bt;return bt}function jj(u){return Xt(u).toLowerCase()}function Aj(u){return Xt(u).toUpperCase()}function kj(u,p,b){if(u=Xt(u),u&&(b||p===n))return Qd(u);if(!u||!(p=hs(p)))return u;var _=m(u),U=m(p),G=eu(_,U),J=fs(_,U)+1;return Fa(_,G,J).join("")}function Tj(u,p,b){if(u=Xt(u),u&&(b||p===n))return u.slice(0,y(u)+1);if(!u||!(p=hs(p)))return u;var _=m(u),U=fs(_,m(p))+1;return Fa(_,0,U).join("")}function Dj(u,p,b){if(u=Xt(u),u&&(b||p===n))return u.replace(No,"");if(!u||!(p=hs(p)))return u;var _=m(u),U=eu(_,m(p));return Fa(_,U).join("")}function Ij(u,p){var b=te,_=de;if(An(p)){var U="separator"in p?p.separator:U;b="length"in p?wt(p.length):b,_="omission"in p?hs(p.omission):_}u=Xt(u);var G=u.length;if(Ra(u)){var J=m(u);G=J.length}if(b>=G)return u;var ie=b-h(_);if(ie<1)return _;var le=J?Fa(J,0,ie).join(""):u.slice(0,ie);if(U===n)return le+_;if(J&&(ie+=le.length-ie),p1(U)){if(u.slice(ie).search(U)){var be,Ce=le;for(U.global||(U=mt(U.source,Xt(Eo.exec(U))+"g")),U.lastIndex=0;be=U.exec(Ce);)var De=be.index;le=le.slice(0,De===n?ie:De)}}else if(u.indexOf(hs(U),ie)!=ie){var Be=le.lastIndexOf(U);Be>-1&&(le=le.slice(0,Be))}return le+_}function Rj(u){return u=Xt(u),u&&Ld.test(u)?u.replace(Mt,C):u}var Oj=Ml(function(u,p,b){return u+(b?" ":"")+p.toUpperCase()}),g1=vv("toUpperCase");function xy(u,p,b){return u=Xt(u),p=b?n:p,p===n?nu(u)?B(u):$i(u):u.match(p)||[]}var gy=Ct(function(u,p){try{return cr(u,n,p)}catch(b){return h1(b)?b:new pe(b)}}),Mj=Ji(function(u,p){return Qr(p,function(b){b=Ci(b),Ki(u,b,d1(u[b],u))}),u});function Lj(u){var p=u==null?0:u.length,b=lt();return u=p?ft(u,function(_){if(typeof _[1]!="function")throw new Cn(d);return[b(_[0]),_[1]]}):[],Ct(function(_){for(var U=-1;++U<p;){var G=u[U];if(cr(G[0],this,_))return cr(G[1],this,_)}})}function Pj(u){return lS(Ls(u,N))}function v1(u){return function(){return u}}function Fj(u,p){return u==null||u!==u?p:u}var Bj=wv(),Uj=wv(!0);function es(u){return u}function y1(u){return Q2(typeof u=="function"?u:Ls(u,N))}function zj(u){return Z2(Ls(u,N))}function qj(u,p){return J2(u,Ls(p,N))}var Wj=Ct(function(u,p){return function(b){return uu(b,u,p)}}),Hj=Ct(function(u,p){return function(b){return uu(u,b,p)}});function w1(u,p,b){var _=fr(p),U=hf(p,_);b==null&&!(An(p)&&(U.length||!_.length))&&(b=p,p=u,u=this,U=hf(p,fr(p)));var G=!(An(b)&&"chain"in b)||!!b.chain,J=ta(u);return Qr(U,function(ie){var le=p[ie];u[ie]=le,J&&(u.prototype[ie]=function(){var be=this.__chain__;if(G||be){var Ce=u(this.__wrapped__),De=Ce.__actions__=Kr(this.__actions__);return De.push({func:le,args:arguments,thisArg:u}),Ce.__chain__=be,Ce}return le.apply(u,ds([this.value()],arguments))})}),u}function Vj(){return Kn._===this&&(Kn._=g5),this}function b1(){}function Yj(u){return u=wt(u),Ct(function(p){return ev(p,u)})}var $j=Zp(ft),Gj=Zp(Gd),Xj=Zp(st);function vy(u){return i1(u)?kl(Ci(u)):SS(u)}function Qj(u){return function(p){return u==null?n:Uo(u,p)}}var Kj=Cv(),Zj=Cv(!0);function C1(){return[]}function N1(){return!1}function Jj(){return{}}function eA(){return""}function tA(){return!0}function nA(u,p){if(u=wt(u),u<1||u>ue)return[];var b=Ve,_=jr(u,Ve);p=lt(p),u-=Ve;for(var U=Jc(_,p);++b<u;)p(b);return U}function rA(u){return gt(u)?ft(u,Ci):ps(u)?[u]:Kr(Fv(Xt(u)))}function sA(u){var p=++Tp;return Xt(u)+p}var iA=yf(function(u,p){return u+p},0),aA=Jp("ceil"),oA=yf(function(u,p){return u/p},1),lA=Jp("floor");function cA(u){return u&&u.length?ff(u,es,Fp):n}function uA(u,p){return u&&u.length?ff(u,lt(p,2),Fp):n}function dA(u){return Al(u,es)}function fA(u,p){return Al(u,lt(p,2))}function hA(u){return u&&u.length?ff(u,es,qp):n}function pA(u,p){return u&&u.length?ff(u,lt(p,2),qp):n}var mA=yf(function(u,p){return u*p},1),xA=Jp("round"),gA=yf(function(u,p){return u-p},0);function vA(u){return u&&u.length?Io(u,es):0}function yA(u,p){return u&&u.length?Io(u,lt(p,2)):0}return Y.after=z8,Y.ary=Xv,Y.assign=A6,Y.assignIn=cy,Y.assignInWith=If,Y.assignWith=k6,Y.at=T6,Y.before=Qv,Y.bind=d1,Y.bindAll=Mj,Y.bindKey=Kv,Y.castArray=J8,Y.chain=Yv,Y.chunk=l_,Y.compact=c_,Y.concat=u_,Y.cond=Lj,Y.conforms=Pj,Y.constant=v1,Y.countBy=v8,Y.create=D6,Y.curry=Zv,Y.curryRight=Jv,Y.debounce=ey,Y.defaults=I6,Y.defaultsDeep=R6,Y.defer=q8,Y.delay=W8,Y.difference=d_,Y.differenceBy=f_,Y.differenceWith=h_,Y.drop=p_,Y.dropRight=m_,Y.dropRightWhile=x_,Y.dropWhile=g_,Y.fill=v_,Y.filter=w8,Y.flatMap=N8,Y.flatMapDeep=E8,Y.flatMapDepth=S8,Y.flatten=qv,Y.flattenDeep=y_,Y.flattenDepth=w_,Y.flip=H8,Y.flow=Bj,Y.flowRight=Uj,Y.fromPairs=b_,Y.functions=U6,Y.functionsIn=z6,Y.groupBy=_8,Y.initial=N_,Y.intersection=E_,Y.intersectionBy=S_,Y.intersectionWith=__,Y.invert=W6,Y.invertBy=H6,Y.invokeMap=A8,Y.iteratee=y1,Y.keyBy=k8,Y.keys=fr,Y.keysIn=Jr,Y.map=_f,Y.mapKeys=Y6,Y.mapValues=$6,Y.matches=zj,Y.matchesProperty=qj,Y.memoize=Af,Y.merge=G6,Y.mergeWith=uy,Y.method=Wj,Y.methodOf=Hj,Y.mixin=w1,Y.negate=kf,Y.nthArg=Yj,Y.omit=X6,Y.omitBy=Q6,Y.once=V8,Y.orderBy=T8,Y.over=$j,Y.overArgs=Y8,Y.overEvery=Gj,Y.overSome=Xj,Y.partial=f1,Y.partialRight=ty,Y.partition=D8,Y.pick=K6,Y.pickBy=dy,Y.property=vy,Y.propertyOf=Qj,Y.pull=T_,Y.pullAll=Hv,Y.pullAllBy=D_,Y.pullAllWith=I_,Y.pullAt=R_,Y.range=Kj,Y.rangeRight=Zj,Y.rearg=$8,Y.reject=O8,Y.remove=O_,Y.rest=G8,Y.reverse=c1,Y.sampleSize=L8,Y.set=J6,Y.setWith=ej,Y.shuffle=P8,Y.slice=M_,Y.sortBy=U8,Y.sortedUniq=q_,Y.sortedUniqBy=W_,Y.split=Nj,Y.spread=X8,Y.tail=H_,Y.take=V_,Y.takeRight=Y_,Y.takeRightWhile=$_,Y.takeWhile=G_,Y.tap=c8,Y.throttle=Q8,Y.thru=Sf,Y.toArray=ay,Y.toPairs=fy,Y.toPairsIn=hy,Y.toPath=rA,Y.toPlainObject=ly,Y.transform=tj,Y.unary=K8,Y.union=X_,Y.unionBy=Q_,Y.unionWith=K_,Y.uniq=Z_,Y.uniqBy=J_,Y.uniqWith=e8,Y.unset=nj,Y.unzip=u1,Y.unzipWith=Vv,Y.update=rj,Y.updateWith=sj,Y.values=Fl,Y.valuesIn=ij,Y.without=t8,Y.words=xy,Y.wrap=Z8,Y.xor=n8,Y.xorBy=r8,Y.xorWith=s8,Y.zip=i8,Y.zipObject=a8,Y.zipObjectDeep=o8,Y.zipWith=l8,Y.entries=fy,Y.entriesIn=hy,Y.extend=cy,Y.extendWith=If,w1(Y,Y),Y.add=iA,Y.attempt=gy,Y.camelCase=cj,Y.capitalize=py,Y.ceil=aA,Y.clamp=aj,Y.clone=e6,Y.cloneDeep=n6,Y.cloneDeepWith=r6,Y.cloneWith=t6,Y.conformsTo=s6,Y.deburr=my,Y.defaultTo=Fj,Y.divide=oA,Y.endsWith=uj,Y.eq=ni,Y.escape=dj,Y.escapeRegExp=fj,Y.every=y8,Y.find=b8,Y.findIndex=Uv,Y.findKey=O6,Y.findLast=C8,Y.findLastIndex=zv,Y.findLastKey=M6,Y.floor=lA,Y.forEach=$v,Y.forEachRight=Gv,Y.forIn=L6,Y.forInRight=P6,Y.forOwn=F6,Y.forOwnRight=B6,Y.get=m1,Y.gt=i6,Y.gte=a6,Y.has=q6,Y.hasIn=x1,Y.head=Wv,Y.identity=es,Y.includes=j8,Y.indexOf=C_,Y.inRange=oj,Y.invoke=V6,Y.isArguments=Wo,Y.isArray=gt,Y.isArrayBuffer=o6,Y.isArrayLike=Zr,Y.isArrayLikeObject=Hn,Y.isBoolean=l6,Y.isBuffer=Ba,Y.isDate=c6,Y.isElement=u6,Y.isEmpty=d6,Y.isEqual=f6,Y.isEqualWith=h6,Y.isError=h1,Y.isFinite=p6,Y.isFunction=ta,Y.isInteger=ny,Y.isLength=Tf,Y.isMap=ry,Y.isMatch=m6,Y.isMatchWith=x6,Y.isNaN=g6,Y.isNative=v6,Y.isNil=w6,Y.isNull=y6,Y.isNumber=sy,Y.isObject=An,Y.isObjectLike=Pn,Y.isPlainObject=xu,Y.isRegExp=p1,Y.isSafeInteger=b6,Y.isSet=iy,Y.isString=Df,Y.isSymbol=ps,Y.isTypedArray=Pl,Y.isUndefined=C6,Y.isWeakMap=N6,Y.isWeakSet=E6,Y.join=j_,Y.kebabCase=hj,Y.last=Fs,Y.lastIndexOf=A_,Y.lowerCase=pj,Y.lowerFirst=mj,Y.lt=S6,Y.lte=_6,Y.max=cA,Y.maxBy=uA,Y.mean=dA,Y.meanBy=fA,Y.min=hA,Y.minBy=pA,Y.stubArray=C1,Y.stubFalse=N1,Y.stubObject=Jj,Y.stubString=eA,Y.stubTrue=tA,Y.multiply=mA,Y.nth=k_,Y.noConflict=Vj,Y.noop=b1,Y.now=jf,Y.pad=xj,Y.padEnd=gj,Y.padStart=vj,Y.parseInt=yj,Y.random=lj,Y.reduce=I8,Y.reduceRight=R8,Y.repeat=wj,Y.replace=bj,Y.result=Z6,Y.round=xA,Y.runInContext=z,Y.sample=M8,Y.size=F8,Y.snakeCase=Cj,Y.some=B8,Y.sortedIndex=L_,Y.sortedIndexBy=P_,Y.sortedIndexOf=F_,Y.sortedLastIndex=B_,Y.sortedLastIndexBy=U_,Y.sortedLastIndexOf=z_,Y.startCase=Ej,Y.startsWith=Sj,Y.subtract=gA,Y.sum=vA,Y.sumBy=yA,Y.template=_j,Y.times=nA,Y.toFinite=na,Y.toInteger=wt,Y.toLength=oy,Y.toLower=jj,Y.toNumber=Bs,Y.toSafeInteger=j6,Y.toString=Xt,Y.toUpper=Aj,Y.trim=kj,Y.trimEnd=Tj,Y.trimStart=Dj,Y.truncate=Ij,Y.unescape=Rj,Y.uniqueId=sA,Y.upperCase=Oj,Y.upperFirst=g1,Y.each=$v,Y.eachRight=Gv,Y.first=Wv,w1(Y,function(){var u={};return wi(Y,function(p,b){kt.call(Y.prototype,b)||(u[b]=p)}),u}(),{chain:!1}),Y.VERSION=r,Qr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Y[u].placeholder=Y}),Qr(["drop","take"],function(u,p){Tt.prototype[u]=function(b){b=b===n?1:ir(wt(b),0);var _=this.__filtered__&&!p?new Tt(this):this.clone();return _.__filtered__?_.__takeCount__=jr(b,_.__takeCount__):_.__views__.push({size:jr(b,Ve),type:u+(_.__dir__<0?"Right":"")}),_},Tt.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),Qr(["filter","map","takeWhile"],function(u,p){var b=p+1,_=b==Ne||b==oe;Tt.prototype[u]=function(U){var G=this.clone();return G.__iteratees__.push({iteratee:lt(U,3),type:b}),G.__filtered__=G.__filtered__||_,G}}),Qr(["head","last"],function(u,p){var b="take"+(p?"Right":"");Tt.prototype[u]=function(){return this[b](1).value()[0]}}),Qr(["initial","tail"],function(u,p){var b="drop"+(p?"":"Right");Tt.prototype[u]=function(){return this.__filtered__?new Tt(this):this[b](1)}}),Tt.prototype.compact=function(){return this.filter(es)},Tt.prototype.find=function(u){return this.filter(u).head()},Tt.prototype.findLast=function(u){return this.reverse().find(u)},Tt.prototype.invokeMap=Ct(function(u,p){return typeof u=="function"?new Tt(this):this.map(function(b){return uu(b,u,p)})}),Tt.prototype.reject=function(u){return this.filter(kf(lt(u)))},Tt.prototype.slice=function(u,p){u=wt(u);var b=this;return b.__filtered__&&(u>0||p<0)?new Tt(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),p!==n&&(p=wt(p),b=p<0?b.dropRight(-p):b.take(p-u)),b)},Tt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Tt.prototype.toArray=function(){return this.take(Ve)},wi(Tt.prototype,function(u,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),_=/^(?:head|last)$/.test(p),U=Y[_?"take"+(p=="last"?"Right":""):p],G=_||/^find/.test(p);U&&(Y.prototype[p]=function(){var J=this.__wrapped__,ie=_?[1]:arguments,le=J instanceof Tt,be=ie[0],Ce=le||gt(J),De=function(jt){var It=U.apply(Y,ds([jt],ie));return _&&Be?It[0]:It};Ce&&b&&typeof be=="function"&&be.length!=1&&(le=Ce=!1);var Be=this.__chain__,Ze=!!this.__actions__.length,ct=G&&!Be,bt=le&&!Ze;if(!G&&Ce){J=bt?J:new Tt(this);var ut=u.apply(J,ie);return ut.__actions__.push({func:Sf,args:[De],thisArg:n}),new Ms(ut,Be)}return ct&&bt?u.apply(this,ie):(ut=this.thru(De),ct?_?ut.value()[0]:ut.value():ut)})}),Qr(["pop","push","shift","sort","splice","unshift"],function(u){var p=sr[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",_=/^(?:pop|shift)$/.test(u);Y.prototype[u]=function(){var U=arguments;if(_&&!this.__chain__){var G=this.value();return p.apply(gt(G)?G:[],U)}return this[b](function(J){return p.apply(gt(J)?J:[],U)})}}),wi(Tt.prototype,function(u,p){var b=Y[p];if(b){var _=b.name+"";kt.call(Il,_)||(Il[_]=[]),Il[_].push({name:p,func:b})}}),Il[vf(n,T).name]=[{name:"wrapper",func:n}],Tt.prototype.clone=R5,Tt.prototype.reverse=O5,Tt.prototype.value=M5,Y.prototype.at=u8,Y.prototype.chain=d8,Y.prototype.commit=f8,Y.prototype.next=h8,Y.prototype.plant=m8,Y.prototype.reverse=x8,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=g8,Y.prototype.first=Y.prototype.head,ru&&(Y.prototype[ru]=p8),Y},Z=W();Yi?((Yi.exports=Z)._=Z,Qc._=Z):Kn._=Z}).call(ki)})(Eh,Eh.exports);var qE=Eh.exports;const AF=({search:e,onApply:t,onDelete:n})=>a.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[a.jsx("button",{onClick:()=>t(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),a.jsx("button",{onClick:()=>n(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),um=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),n3=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),kF=({equipmentData:e,onFilterChange:t,currentFilters:n,isLoading:r})=>{const o=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const v={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},g=new Date;return g.setDate(g.getDate()-7),e.forEach(w=>{w.status==="available"?v.available++:w.status==="in-use"?v.inUse++:w.status==="maintenance"&&v.maintenance++;const N=w.category||"Uncategorized";v.categories[N]=(v.categories[N]||0)+1;const S=w.type||"Unknown";v.types[S]=(v.types[S]||0)+1;const k=w.location||"No Location";v.locations[k]=(v.locations[k]||0)+1;const j=w.brand||"Unknown";v.brands[j]=(v.brands[j]||0)+1,new Date(w.created_at)>g&&v.recentlyAdded++}),v})(),d=[{title:"Total Equipment",value:o.total,icon:a.jsx(n3,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:o.available,icon:a.jsx(um,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:o.inUse,icon:a.jsx(um,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:o.maintenance,icon:a.jsx(um,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],x=(v,g=!1)=>{const w={blue:{bg:g?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:g?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:g?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:g?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return w[v]||w.blue};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(n3,{}),"Equipment Analytics"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((v,g)=>{const w=n.status===v.filter.status,N=x(v.color,w);return a.jsx("button",{onClick:()=>t(v.filter),className:`${N.bg} ${N.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${w?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${v.title.toLowerCase()}: ${v.description}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`text-sm font-medium ${N.text} mb-1`,children:v.title}),a.jsx("p",{className:`text-2xl font-bold ${N.text}`,children:r?"...":v.value.toLocaleString()}),a.jsx("p",{className:`text-xs ${N.text} opacity-75 mt-1`,children:v.description})]}),a.jsx("div",{className:`${N.icon} group-hover:scale-110 transition-transform`,children:v.icon})]})},g)})})]}),a.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(o.brands).length}),a.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(o.types).length}),a.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(o.locations).length}),a.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-green-700",children:o.recentlyAdded}),a.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},TF=()=>{var $t,Ht;const{user:e,canEditEquipment:t}=lr(),n=jn(),r=M.useRef(null),[i,o]=M.useState({search:"",type:"",brand:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[d,x]=M.useState("updated_at"),[v,g]=M.useState("desc"),[w,N]=M.useState(""),[S,k]=M.useState(!1),[j,O]=M.useState(!1),[L,T]=M.useState(!1),[A,I]=M.useState(""),[q,X]=M.useState(!1),{data:F,isLoading:R}=pt(["equipment-summary"],()=>Ri({limit:1e3}));(()=>{if(!(F!=null&&F.equipment))return{total:0,available:0,inUse:0,maintenance:0};const Ee={total:F.equipment.length,available:0,inUse:0,maintenance:0,types:{}};return F.equipment.forEach(Ke=>{Ke.status==="available"?Ee.available++:Ke.status==="in-use"?Ee.inUse++:Ke.status==="maintenance"&&Ee.maintenance++,Ee.types[Ke.type]?Ee.types[Ke.type]++:Ee.types[Ke.type]=1}),Ee})();const{data:V,fetchNextPage:te,hasNextPage:de,isFetchingNextPage:re,isLoading:ee,isError:Ne,error:se}=Qg(["equipment",i,d,v],async({pageParam:Ee=1})=>{const Ke={page:Ee,limit:20,...i,sortBy:d,sortOrder:v};return i.dateRange.startDate&&i.dateRange.endDate&&(Ke.startDate=i.dateRange.startDate.toISOString(),Ke.endDate=i.dateRange.endDate.toISOString()),Ri(Ke)},{getNextPageParam:Ee=>{if(Ee.page<Ee.totalPages)return Ee.page+1},keepPreviousData:!0}),{data:oe,isLoading:xe}=pt(["equipment-suggestions",w],()=>Ri({search:w,limit:5}),{enabled:!!w&&w.length>2,keepPreviousData:!0}),{data:ue}=pt(["saved-searches"],lE,{enabled:t()}),{data:ge}=pt({queryKey:["equipment-types"],queryFn:Bi,staleTime:3e5});pt({queryKey:["categories"],queryFn:vl});const{data:Le}=pt(["equipment-analytics"],()=>Ri({limit:1e4}),{keepPreviousData:!0}),Ve=M.useCallback(qE.debounce(Ee=>{N(Ee)},300),[]),nt=Ee=>{const Ke=Ee.target.value,Rt={...i,search:Ke};o(Rt),Ve(Ke),Ke.length>2?k(!0):k(!1);const we=Object.values(Rt).some(Ae=>Ae!==""&&Ae!==null&&(typeof Ae!="object"||Rt.dateRange.startDate||Rt.dateRange.endDate));O(we)},ke=Ee=>{const{name:Ke,value:Rt}=Ee.target,we={...i,[Ke]:Rt};o(we);const Ae=Object.values(we).some(ze=>ze!==""&&ze!==null&&(typeof ze!="object"||ze.startDate||ze.endDate));O(Ae)},Xe=Ee=>{const Ke={...i,...Ee};o(Ke),O(!0),X(!0)},it=()=>{o({search:"",status:"",type:"",brand:"",location:"",dateRange:{startDate:null,endDate:null}}),O(!1),X(!1)},je=Ee=>{const[Ke,Rt]=Ee,we={...i,dateRange:{startDate:Ke,endDate:Rt}};o(we);const Ae=Object.values(we).some(ze=>ze!==""&&ze!==null&&(typeof ze!="object"||we.dateRange.startDate||we.dateRange.endDate));O(Ae)},Ie=async()=>{if(!A.trim()){tt.error("Please enter a name for your saved search");return}try{await cE({name:A,filters:JSON.stringify(i),sortBy:d,sortOrder:v}),n.invalidateQueries(["saved-searches"]),I(""),T(!1),tt.success("Search saved successfully")}catch(Ee){tt.error("Failed to save search"),console.error("Save search error:",Ee)}},at=Ee=>{try{const Ke=JSON.parse(Ee.filters);o(Ke),x(Ee.sortBy||"updated_at"),g(Ee.sortOrder||"desc"),O(!0),tt.info(`Applied saved search: ${Ee.name}`)}catch(Ke){tt.error("Failed to apply saved search"),console.error("Apply saved search error:",Ke)}},Yt=async Ee=>{try{await uE(Ee),n.invalidateQueries(["saved-searches"]),tt.success("Search deleted successfully")}catch(Ke){tt.error("Failed to delete search"),console.error("Delete saved search error:",Ke)}};M.useEffect(()=>{const Ee=new IntersectionObserver(Ke=>{Ke[0].isIntersecting&&de&&!re&&te()},{threshold:.5});return r.current&&Ee.observe(r.current),()=>{r.current&&Ee.unobserve(r.current)}},[r,te,de,re]);const Zt=(V==null?void 0:V.pages.flatMap(Ee=>Ee.equipment))||[];return a.jsxs("div",{className:"space-y-6",children:[a.jsx(ap,{position:"top-right",autoClose:3e3}),a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Dashboard"}),a.jsx(Un,{to:"/equipment/new",className:"btn btn-primary",children:"Add New Equipment"})]}),a.jsxs("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:i.search,onChange:nt,className:"w-full px-4 py-3 pl-10 rounded-full shadow-md border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","aria-label":"Search equipment catalog"}),a.jsx(s2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),S&&(($t=oe==null?void 0:oe.equipment)==null?void 0:$t.length)>0&&a.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:oe.equipment.map(Ee=>a.jsxs(Un,{to:`/equipment/${Ee.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[a.jsxs("div",{className:"font-medium",children:[Ee.brand," ",Ee.model]}),a.jsxs("div",{className:"text-sm text-slate-500",children:[Ee.type,"  SN: ",Ee.serial_number]})]},Ee.id))})]}),a.jsx("div",{className:"flex justify-between mt-2",children:a.jsxs("button",{onClick:()=>X(!q),className:"flex items-center text-sm text-slate-600 hover:text-primary-600",children:[a.jsx(i2,{className:"w-4 h-4 mr-1"}),q?"Hide Filters":"Show Advanced Filters"]})})]}),t()&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),L?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:A,onChange:Ee=>I(Ee.target.value),className:"w-48 px-3 py-1 text-sm border border-slate-300 rounded-lg"}),a.jsx("button",{className:"px-3 py-1 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700",onClick:Ie,children:"Save"}),a.jsx("button",{className:"px-3 py-1 text-sm border border-slate-300 rounded-lg hover:bg-slate-50",onClick:()=>{T(!1),I("")},children:"Cancel"})]}):a.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 text-sm border border-slate-300 rounded-lg hover:bg-slate-50",onClick:()=>T(!0),children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),a.jsx("span",{children:"Save Current Search"})]})]}),a.jsx("div",{className:"flex flex-wrap",children:((Ht=ue==null?void 0:ue.searches)==null?void 0:Ht.length)>0?ue.searches.map(Ee=>a.jsx(AF,{search:Ee,onApply:at,onDelete:Yt},Ee.id)):a.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),a.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${q?"max-h-96 opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Equipment Type"}),a.jsxs("select",{name:"type",value:i.type,onChange:ke,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[a.jsx("option",{value:"",children:"All Types"}),ge!=null&&ge.types&&ge.types.length>0?ge.types.map(Ee=>a.jsx("option",{value:Ee.name.toLowerCase(),children:Ee.name},Ee.id)):a.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Brand"}),a.jsx("input",{type:"text",name:"brand",value:i.brand,onChange:ke,placeholder:"Filter by brand",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",value:i.status,onChange:ke,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"in-use",children:"In Use"}),a.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),a.jsx("input",{type:"text",name:"location",value:i.location,onChange:ke,placeholder:"Filter by location",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),a.jsx(zE,{selectsRange:!0,startDate:i.dateRange.startDate,endDate:i.dateRange.endDate,onChange:je,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),a.jsxs("select",{value:d,onChange:Ee=>x(Ee.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[a.jsx("option",{value:"updated_at",children:"Last Updated"}),a.jsx("option",{value:"brand",children:"Brand"}),a.jsx("option",{value:"model",children:"Model"}),a.jsx("option",{value:"type",children:"Type"}),a.jsx("option",{value:"status",children:"Status"}),a.jsx("option",{value:"location",children:"Location"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort Order"}),a.jsxs("select",{value:v,onChange:Ee=>g(Ee.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[a.jsx("option",{value:"asc",children:"Ascending"}),a.jsx("option",{value:"desc",children:"Descending"})]})]})]})]})}),j?a.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Search Results"}),a.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[Zt.length," items found"]})]}),a.jsxs("button",{onClick:it,className:"px-3 py-2 text-sm bg-white border border-slate-300 rounded-lg hover:bg-slate-50 flex items-center",title:"Clear all filters and return to dashboard",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear Filters"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-left",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Brand"}),a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Model"}),a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Serial Number"}),a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:ee?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-slate-500",children:a.jsxs("div",{className:"flex justify-center items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mr-2"}),"Loading..."]})})}):Ne?a.jsx("tr",{children:a.jsxs("td",{colSpan:"7",className:"px-6 py-4 text-center text-red-500",children:["Error loading equipment: ",se.message]})}):Zt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-slate-500",children:"No equipment found matching your search criteria"})}):Zt.map(Ee=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.brand}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.model}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.serial_number}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ee.status==="available"?"bg-green-100 text-green-800":Ee.status==="in-use"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:Ee.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ee.location||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Un,{to:`/equipment/${Ee.id}`,className:"text-primary-600 hover:text-primary-900",title:"View details",children:a.jsx(tc,{className:"w-5 h-5"})}),t()&&a.jsx(a.Fragment,{children:a.jsx(Un,{to:`/equipment/${Ee.id}/edit`,className:"text-slate-600 hover:text-slate-900",title:"Edit equipment",children:a.jsx(nl,{className:"w-5 h-5"})})})]})})]},Ee.id))})]})}),a.jsx("div",{ref:r,className:"py-4 text-center",children:re?a.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),a.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):de?a.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):a.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]}):a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsx(kF,{equipmentData:(Le==null?void 0:Le.equipment)||[],onFilterChange:Xe,currentFilters:i,isLoading:R})})]})},DF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),IF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),RF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),OF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),MF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),LF=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),PF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),dm=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),Vu=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),FF=({equipmentData:e,onFilterChange:t,currentFilters:n,isLoading:r})=>{const o=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const v={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},g=new Date;return g.setDate(g.getDate()-7),e.forEach(w=>{w.status==="available"?v.available++:w.status==="in-use"?v.inUse++:w.status==="maintenance"&&v.maintenance++;const N=w.category||"Uncategorized";v.categories[N]=(v.categories[N]||0)+1;const S=w.type||"Unknown";v.types[S]=(v.types[S]||0)+1;const k=w.location||"No Location";v.locations[k]=(v.locations[k]||0)+1;const j=w.brand||"Unknown";v.brands[j]=(v.brands[j]||0)+1,new Date(w.created_at)>g&&v.recentlyAdded++}),v})(),d=[{title:"Total Equipment",value:o.total,icon:a.jsx(Vu,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:o.available,icon:a.jsx(dm,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:o.inUse,icon:a.jsx(dm,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:o.maintenance,icon:a.jsx(dm,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],x=(v,g=!1)=>{const w={blue:{bg:g?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:g?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:g?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:g?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return w[v]||w.blue};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(Vu,{}),"Equipment Analytics"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((v,g)=>{const w=n.status===v.filter.status,N=x(v.color,w);return a.jsx("button",{onClick:()=>t(v.filter),className:`${N.bg} ${N.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${w?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${v.title.toLowerCase()}: ${v.description}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`text-sm font-medium ${N.text} mb-1`,children:v.title}),a.jsx("p",{className:`text-2xl font-bold ${N.text}`,children:r?"...":v.value.toLocaleString()}),a.jsx("p",{className:`text-xs ${N.text} opacity-75 mt-1`,children:v.description})]}),a.jsx("div",{className:`${N.icon} group-hover:scale-110 transition-transform`,children:v.icon})]})},g)})})]}),a.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(o.brands).length}),a.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(o.types).length}),a.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(o.locations).length}),a.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-green-700",children:o.recentlyAdded}),a.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},BF=({equipment:e,canEdit:t,searchTerm:n})=>{const[r,i]=M.useState(!1);let o=null;if(e.reference_image_id)o=ch(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const v=e.files.find(g=>g.file_type==="image");v&&(o=ch(v.id,!0))}const d=v=>{switch(v){case"available":return a.jsx(ws,{variant:"success",children:v});case"in-use":return a.jsx(ws,{variant:"info",children:v});case"maintenance":return a.jsx(ws,{variant:"warning",children:v});case"unavailable":return a.jsx(ws,{variant:"secondary",children:v});case"broken":return a.jsx(ws,{variant:"danger",children:v});default:return a.jsx(ws,{children:v})}},x=(v,g)=>{if(!g||!v)return v;const w=new RegExp(`(${g})`,"gi");return v.split(w).map((S,k)=>w.test(S)?a.jsx("span",{className:"bg-yellow-200 font-medium",children:S},k):S)};return a.jsxs(Re,{className:"h-full transition-all duration-300 hover:shadow-lg hover:scale-[1.02] relative",children:[a.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[o?a.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:o,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):a.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:a.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})}),r&&a.jsxs("div",{className:"absolute inset-0 bg-slate-900 bg-opacity-80 p-4 text-white overflow-y-auto",children:[a.jsxs("h4",{className:"font-medium",children:[e.brand," ",e.model]}),a.jsx("p",{className:"text-sm mt-1",children:e.description||"No description available"}),a.jsxs("p",{className:"text-sm mt-2",children:["Serial: ",e.serial_number]}),a.jsxs("p",{className:"text-sm",children:["Location: ",e.location||"Not specified"]})]})]}),a.jsxs(Re.Body,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&a.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),d(e.status)]}),a.jsx("h2",{className:"text-lg font-semibold mb-1",children:n?a.jsxs(a.Fragment,{children:[x(e.brand,n)," ",x(e.model,n)]}):`${e.brand} ${e.model}`}),a.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",n?x(e.serial_number,n):e.serial_number]}),a.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[a.jsxs(Un,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[a.jsx(LF,{})," View"]}),t&&a.jsxs(Un,{to:`/equipment/${e.id}/edit`,className:"text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[a.jsx(MF,{})," Edit"]})]})]})]})},UF=({equipment:e,canEdit:t,navigate:n})=>{const r=(i,o)=>{o.target.closest("button")||o.target.closest("a")||n(`/equipment/${i}`)};return a.jsxs("tr",{className:"table-row hover:bg-slate-50 cursor-pointer",onClick:i=>r(e.id,i),children:[a.jsx("td",{className:"table-cell",children:a.jsxs("span",{className:"font-medium text-slate-800",children:[e.brand," ",e.model]})}),a.jsx("td",{className:"table-cell",children:e.type}),a.jsx("td",{className:"table-cell",children:e.category||"-"}),a.jsx("td",{className:"table-cell",children:e.serial_number}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`badge ${e.status==="available"?"badge-success":e.status==="in-use"?"badge-info":e.status==="maintenance"?"badge-warning":e.status==="unavailable"?"badge-secondary":e.status==="broken"?"badge-danger":"badge-secondary"}`,children:e.status})}),a.jsx("td",{className:"table-cell",children:e.location||"-"}),a.jsx("td",{className:"table-cell",children:e.quantity||1}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Un,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",onClick:i=>i.stopPropagation(),children:"View"}),t?a.jsx(Un,{to:`/equipment/${e.id}/edit`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium underline",onClick:i=>{i.stopPropagation(),console.log("Edit link clicked for equipment:",e.id)},children:"Edit"}):a.jsx("span",{className:"text-gray-400 text-sm",children:"Edit"})]})})]})},zF=()=>a.jsxs("div",{className:"bg-white rounded-lg shadow-soft overflow-hidden h-full animate-pulse",children:[a.jsx("div",{className:"h-40 bg-slate-200"}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"})]}),a.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2 mb-4"}),a.jsxs("div",{className:"border-t border-slate-100 pt-2 flex justify-between",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]})]}),qF=({search:e,onApply:t,onDelete:n})=>a.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[a.jsx("button",{onClick:()=>t(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),a.jsx("button",{onClick:()=>n(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:a.jsx(OF,{className:"w-4 h-4"})})]}),r3=()=>{var Ke,Rt;const{user:e,canEditEquipment:t}=lr(),n=jn(),r=Gr(),i=M.useRef(null),[o,d]=M.useState({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[x,v]=M.useState(""),[g,w]=M.useState(!1),[N,S]=M.useState(!1),[k,j]=M.useState("updated_at"),[O,L]=M.useState("desc"),[T,A]=M.useState(""),[I,q]=M.useState(!1),[X,F]=M.useState("list"),{data:R,fetchNextPage:H,hasNextPage:V,isFetchingNextPage:te,isLoading:de,isError:re,error:ee}=Qg(["equipment",o,k,O],async({pageParam:we=1})=>{const Ae={page:we,limit:20,...o,sortBy:k,sortOrder:O};return o.dateRange.startDate&&o.dateRange.endDate&&(Ae.startDate=o.dateRange.startDate.toISOString(),Ae.endDate=o.dateRange.endDate.toISOString()),Ri(Ae)},{getNextPageParam:we=>{if(we.page<we.totalPages)return we.page+1},keepPreviousData:!0}),{data:Ne,isLoading:se}=pt(["equipment-suggestions",x],()=>Ri({search:x,limit:5}),{enabled:!!x&&x.length>2,keepPreviousData:!0}),{data:oe}=pt(["saved-searches"],lE,{enabled:t()}),{data:xe=[]}=pt({queryKey:["equipmentTypes"],queryFn:Bi}),ue=Array.isArray(xe)?xe:xe.types||[],{data:ge={categories:[]}}=pt({queryKey:["categories"],queryFn:vl}),Le=ge.categories||[],Ve=M.useCallback(qE.debounce(we=>{v(we)},300),[]),nt=we=>{const Ae=we.target.value;d(ze=>({...ze,search:Ae})),Ve(Ae),Ae.length>2?w(!0):w(!1)},ke=we=>{const{name:Ae,value:ze}=we.target;d(Qe=>({...Qe,[Ae]:ze}))},Xe=we=>{const[Ae,ze]=we;d(Qe=>({...Qe,dateRange:{startDate:Ae,endDate:ze}}))},it=()=>{d({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),v(""),w(!1)},je=async()=>{if(!T.trim()){tt.error("Please enter a name for your saved search");return}try{await cE({name:T,filters:JSON.stringify(o),sortBy:k,sortOrder:O}),n.invalidateQueries(["saved-searches"]),A(""),q(!1),tt.success("Search saved successfully")}catch(we){tt.error("Failed to save search"),console.error("Save search error:",we)}},Ie=we=>{try{const Ae=JSON.parse(we.filters);d(Ae),j(we.sortBy||"updated_at"),L(we.sortOrder||"desc"),tt.info(`Applied saved search: ${we.name}`)}catch(Ae){tt.error("Failed to apply saved search"),console.error("Apply saved search error:",Ae)}},at=async we=>{try{await uE(we),n.invalidateQueries(["saved-searches"]),tt.success("Search deleted successfully")}catch(Ae){tt.error("Failed to delete search"),console.error("Delete saved search error:",Ae)}};M.useEffect(()=>{const we=new IntersectionObserver(ze=>{ze[0].isIntersecting&&V&&!te&&H()},{threshold:.5}),Ae=i.current;return Ae&&we.observe(Ae),()=>{Ae&&we.unobserve(Ae)}},[i,H,V,te]);const Yt=(R==null?void 0:R.pages.flatMap(we=>we.equipment))||[],{data:Zt}=pt(["equipment-analytics"],()=>Ri({limit:1e4}),{keepPreviousData:!0}),Ht=(()=>{const we=(Zt==null?void 0:Zt.equipment)||[];if(!we||we.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const Ae={total:we.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},ze=new Date;return ze.setDate(ze.getDate()-7),we.forEach(Qe=>{Qe.status==="available"?Ae.available++:Qe.status==="in-use"?Ae.inUse++:Qe.status==="maintenance"&&Ae.maintenance++;const Fe=Qe.category||"Uncategorized";Ae.categories[Fe]=(Ae.categories[Fe]||0)+1;const Te=Qe.type||"Unknown";Ae.types[Te]=(Ae.types[Te]||0)+1;const yn=Qe.location||"No Location";Ae.locations[yn]=(Ae.locations[yn]||0)+1;const Qn=Qe.brand||"Unknown";Ae.brands[Qn]=(Ae.brands[Qn]||0)+1,new Date(Qe.created_at)>ze&&Ae.recentlyAdded++}),Ae})(),Ee=we=>{d(Ae=>({...Ae,...we}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(ap,{position:"top-right",autoClose:3e3}),a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Dashboard"})}),a.jsx(FF,{equipmentData:(Zt==null?void 0:Zt.equipment)||[],onFilterChange:Ee,currentFilters:o,isLoading:de}),a.jsx("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:a.jsxs("div",{className:"relative",children:[a.jsx(dt,{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:o.search,onChange:nt,icon:a.jsx(DF,{}),className:"rounded-full shadow-md","aria-label":"Search equipment catalog"}),g&&((Ke=Ne==null?void 0:Ne.equipment)==null?void 0:Ke.length)>0&&a.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:Ne.equipment.map(we=>a.jsxs(Un,{to:`/equipment/${we.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[a.jsxs("div",{className:"font-medium",children:[we.brand," ",we.model]}),a.jsxs("div",{className:"text-sm text-slate-500",children:[we.type,"  SN: ",we.serial_number]})]},we.id))}),a.jsxs("div",{className:"flex mt-2 gap-2",children:[a.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>S(!N),className:"flex items-center gap-1","aria-expanded":N,"aria-controls":"filter-panel",children:[a.jsx(IF,{}),a.jsx("span",{children:N?"Hide Filters":"Show Filters"})]}),Object.values(o).some(we=>we&&(typeof we=="string"?we.trim()!=="":!0))&&a.jsxs(Se,{variant:"outline",size:"sm",onClick:it,className:"flex items-center gap-1 text-slate-600",children:[a.jsx(PF,{}),a.jsx("span",{children:"Clear Filters"})]}),a.jsx("div",{className:"ml-auto",children:a.jsx(Cs,{id:"sort",name:"sort",value:`${k}-${O}`,onChange:we=>{const[Ae,ze]=we.target.value.split("-");j(Ae),L(ze)},options:[{value:"updated_at-desc",label:"Newest First"},{value:"updated_at-asc",label:"Oldest First"},{value:"brand-asc",label:"Brand (A-Z)"},{value:"brand-desc",label:"Brand (Z-A)"},{value:"model-asc",label:"Model (A-Z)"},{value:"model-desc",label:"Model (Z-A)"}],className:"w-40"})})]})]})}),t()&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),I?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dt,{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:T,onChange:we=>A(we.target.value),className:"w-48"}),a.jsx(Se,{variant:"primary",size:"sm",onClick:je,children:"Save"}),a.jsx(Se,{variant:"outline",size:"sm",onClick:()=>{q(!1),A("")},children:"Cancel"})]}):a.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>q(!0),className:"flex items-center gap-1",children:[a.jsx(RF,{}),a.jsx("span",{children:"Save Current Search"})]})]}),a.jsx("div",{className:"flex flex-wrap",children:((Rt=oe==null?void 0:oe.searches)==null?void 0:Rt.length)>0?oe.searches.map(we=>a.jsx(qF,{search:we,onApply:Ie,onDelete:at},we.id)):a.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),a.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${N?"max-h-[800px] opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[a.jsxs(Re,{className:"h-fit",children:[a.jsx(Re.Header,{children:a.jsxs(Re.Title,{className:"flex items-center gap-2",children:[a.jsx(Vu,{}),"Equipment Types"]})}),a.jsx(Re.Body,{className:"p-4",children:de?a.jsx("div",{className:"space-y-2",children:[...Array(3)].map((we,Ae)=>a.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},Ae))}):Object.keys(Ht.types).length>0?a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(Ht.types).sort(([,we],[,Ae])=>Ae-we).slice(0,10).map(([we,Ae])=>{const ze=o.type===we;return a.jsxs("button",{onClick:()=>d(Qe=>({...Qe,type:ze?"":we})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${ze?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${we} equipment`,children:[a.jsx("span",{className:"capitalize font-medium",children:we}),a.jsx(ws,{variant:ze?"primary":"secondary",size:"sm",children:Ae})]},we)})}):a.jsx("p",{className:"text-slate-500 text-sm",children:"No equipment types available"})})]}),a.jsxs(Re,{className:"h-fit",children:[a.jsx(Re.Header,{children:a.jsxs(Re.Title,{className:"flex items-center gap-2",children:[a.jsx(Vu,{}),"Categories"]})}),a.jsx(Re.Body,{className:"p-4",children:de?a.jsx("div",{className:"space-y-2",children:[...Array(3)].map((we,Ae)=>a.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},Ae))}):Object.keys(Ht.categories).length>0?a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(Ht.categories).sort(([,we],[,Ae])=>Ae-we).slice(0,10).map(([we,Ae])=>{const ze=o.category===we;return a.jsxs("button",{onClick:()=>d(Qe=>({...Qe,category:ze?"":we})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${ze?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${we} category`,children:[a.jsx("span",{className:"font-medium",children:we}),a.jsx(ws,{variant:ze?"primary":"secondary",size:"sm",children:Ae})]},we)})}):a.jsx("p",{className:"text-slate-500 text-sm",children:"No categories available"})})]}),a.jsxs(Re,{className:"h-fit",children:[a.jsx(Re.Header,{children:a.jsxs(Re.Title,{className:"flex items-center gap-2",children:[a.jsx(Vu,{}),"Top Locations"]})}),a.jsx(Re.Body,{className:"p-4",children:de?a.jsx("div",{className:"space-y-2",children:[...Array(3)].map((we,Ae)=>a.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},Ae))}):Object.keys(Ht.locations).length>0?a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(Ht.locations).sort(([,we],[,Ae])=>Ae-we).slice(0,10).map(([we,Ae])=>{const ze=o.location===we;return a.jsxs("button",{onClick:()=>d(Qe=>({...Qe,location:ze?"":we})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${ze?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${we} location`,children:[a.jsx("span",{className:"font-medium truncate",children:we}),a.jsx(ws,{variant:ze?"primary":"secondary",size:"sm",children:Ae})]},we)})}):a.jsx("p",{className:"text-slate-500 text-sm",children:"No locations available"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Cs,{id:"category",name:"category",label:"Category",value:o.category,onChange:ke,options:[{value:"",label:"All Categories"},...(Le||[]).map(we=>({value:we.name,label:we.name}))]}),a.jsx(Cs,{id:"type",name:"type",label:"Equipment Type",value:o.type,onChange:ke,options:[{value:"",label:"All Types"},...(ue||[]).map(we=>({value:we.name,label:we.name}))]}),a.jsx(Cs,{id:"status",name:"status",label:"Status",value:o.status,onChange:ke,options:[{value:"",label:"All Statuses"},{value:"available",label:"Available"},{value:"in-use",label:"In Use"},{value:"maintenance",label:"Maintenance"},{value:"unavailable",label:"Unavailable"},{value:"broken",label:"Broken"}]}),a.jsx(dt,{id:"location",name:"location",label:"Location",placeholder:"Filter by location",value:o.location,onChange:ke}),a.jsxs("div",{className:"md:col-span-3",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),a.jsx(zE,{selectsRange:!0,startDate:o.dateRange.startDate,endDate:o.dateRange.endDate,onChange:Xe,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]})]})]})}),a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-slate-800",children:["Equipment Results (",Yt.length," items)"]}),a.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden bg-white shadow-sm",children:[a.jsxs("button",{onClick:()=>F("list"),className:`px-4 py-2 text-sm font-medium transition-all flex items-center gap-2 ${X==="list"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"List view",children:[a.jsx(Fc,{className:"h-4 w-4"}),a.jsx("span",{children:"List"})]}),a.jsxs("button",{onClick:()=>F("card"),className:`px-4 py-2 text-sm font-medium transition-all flex items-center gap-2 ${X==="card"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:[a.jsx(Bc,{className:"h-4 w-4"}),a.jsx("span",{children:"Cards"})]})]})]}),a.jsx("div",{children:de?a.jsxs(a.Fragment,{children:[X==="card"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((we,Ae)=>a.jsx(zF,{},Ae))}),X==="list"&&a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell",children:"Equipment"}),a.jsx("th",{className:"table-header-cell",children:"Type"}),a.jsx("th",{className:"table-header-cell",children:"Category"}),a.jsx("th",{className:"table-header-cell",children:"Serial Number"}),a.jsx("th",{className:"table-header-cell",children:"Status"}),a.jsx("th",{className:"table-header-cell",children:"Location"}),a.jsx("th",{className:"table-header-cell",children:"Quantity"}),a.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),a.jsx("tbody",{className:"table-body",children:Array.from({length:6}).map((we,Ae)=>a.jsxs("tr",{className:"table-row animate-pulse",children:[a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-slate-200 rounded w-2/3"})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-6 bg-slate-200 rounded-full w-16"})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"h-4 bg-slate-200 rounded w-8"})}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-12"}),a.jsx("div",{className:"h-4 bg-slate-200 rounded w-8"})]})})]},Ae))})]})})})]}):re?a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:(ee==null?void 0:ee.message)||"Failed to load equipment data. Please try again."})})]})]})}):Yt.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No equipment found"}),a.jsx("p",{className:"mt-2 text-slate-500",children:"Try adjusting your search or filter criteria to find what you're looking for."}),a.jsx(Se,{variant:"outline",className:"mt-4",onClick:it,children:"Clear All Filters"})]}):a.jsxs(a.Fragment,{children:[X==="card"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Yt.map(we=>a.jsx(BF,{equipment:we,canEdit:t(),searchTerm:o.search},we.id))}),X==="list"&&a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell",children:"Equipment"}),a.jsx("th",{className:"table-header-cell",children:"Type"}),a.jsx("th",{className:"table-header-cell",children:"Category"}),a.jsx("th",{className:"table-header-cell",children:"Serial Number"}),a.jsx("th",{className:"table-header-cell",children:"Status"}),a.jsx("th",{className:"table-header-cell",children:"Location"}),a.jsx("th",{className:"table-header-cell",children:"Quantity"}),a.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),a.jsx("tbody",{className:"table-body",children:Yt.map(we=>a.jsx(UF,{equipment:we,canEdit:t(),navigate:r},we.id))})]})})}),a.jsx("div",{ref:i,className:"py-4 text-center",children:te?a.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),a.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):V?a.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):a.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})})]})},WF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),HF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),VF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),YF=()=>{const{isAdmin:e}=lr(),t=jn(),[n,r]=M.useState(""),[i,o]=M.useState(null),[d,x]=M.useState(""),[v,g]=M.useState(""),{data:w,isLoading:N,isError:S}=pt({queryKey:["equipmentTypes"],queryFn:Bi}),k=(w==null?void 0:w.types)||[],j=Ut({mutationFn:oO,onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),r(""),g("")},onError:F=>{var R,H;g(((H=(R=F.response)==null?void 0:R.data)==null?void 0:H.message)||"Failed to create equipment type")}}),O=Ut({mutationFn:({id:F,name:R})=>lO(F,R),onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),o(null),x(""),g("")},onError:F=>{var R,H;g(((H=(R=F.response)==null?void 0:R.data)==null?void 0:H.message)||"Failed to update equipment type")}}),L=Ut({mutationFn:cO,onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),g("")},onError:F=>{var R,H;g(((H=(R=F.response)==null?void 0:R.data)==null?void 0:H.message)||"Failed to delete equipment type")}}),T=F=>{if(F.preventDefault(),!n.trim()){g("Type name is required");return}j.mutate(n),document.getElementById("addTypeModal").style.display="none"},A=F=>{o(F),x(F.name)},I=()=>{if(!d.trim()){g("Type name is required");return}O.mutate({id:i.id,name:d})},q=()=>{o(null),x("")},X=F=>{window.confirm("Are you sure you want to delete this equipment type?")&&L.mutate(F)};return e()?a.jsxs("div",{className:"space-y-6",children:[v&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:a.jsx("span",{children:v})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Types"}),a.jsxs(Se,{variant:"primary",onClick:()=>{r(""),document.getElementById("addTypeModal").style.display="block"},className:"flex items-center gap-2",children:[a.jsx(VF,{}),"Add Type"]})]}),a.jsx(Re,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell",children:"Name"}),a.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"table-body",children:N?a.jsx("tr",{children:a.jsx("td",{colSpan:"2",className:"table-cell text-center py-4",children:a.jsx("div",{className:"flex justify-center items-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):S?a.jsx("tr",{children:a.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-red-600",children:"Error loading equipment types. Please try again."})}):k&&k.length>0?k.map(F=>a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"table-cell",children:F.name}),a.jsx("td",{className:"table-cell text-right",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsxs(Se,{onClick:()=>A(F),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[a.jsx(WF,{}),"Edit"]}),a.jsxs(Se,{onClick:()=>X(F.id),variant:"danger",size:"sm",disabled:L.isLoading&&L.variables===F.id,className:"flex items-center gap-1",children:[a.jsx(HF,{}),L.isLoading&&L.variables===F.id?"Deleting...":"Delete"]})]})})]},F.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-slate-500",children:"No equipment types found"})})})]})})}),a.jsx("div",{className:"modal-backdrop",id:"addTypeModal",style:{display:"none"},children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Add Equipment Type"}),a.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:""})]}),a.jsxs("form",{onSubmit:T,children:[a.jsx("div",{className:"modal-body",children:a.jsx("div",{className:"space-y-4",children:a.jsx(dt,{id:"newTypeName",name:"newTypeName",type:"text",label:"Type Name",value:n,onChange:F=>r(F.target.value),placeholder:"Enter equipment type name",required:!0})})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Se,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"Cancel"}),a.jsx(Se,{type:"submit",variant:"primary",disabled:j.isLoading,className:"flex items-center gap-2",children:j.isLoading?"Adding...":"Add Type"})]})]})]})}),i&&a.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Edit Equipment Type"}),a.jsx("button",{className:"modal-close",onClick:q,children:""})]}),a.jsxs("form",{onSubmit:F=>{F.preventDefault(),I()},children:[a.jsx("div",{className:"modal-body",children:a.jsx("div",{className:"space-y-4",children:a.jsx(dt,{id:"editTypeName",name:"editTypeName",type:"text",label:"Type Name",value:d,onChange:F=>x(F.target.value),required:!0})})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Se,{type:"button",variant:"secondary",onClick:q,children:"Cancel"}),a.jsx(Se,{type:"submit",variant:"primary",disabled:O.isLoading,className:"flex items-center gap-2",children:O.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4 rounded",children:a.jsx("p",{children:"Only administrators can manage equipment types."})})},$F=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),GF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),XF=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),QF=()=>{const{isAdmin:e}=lr(),t=jn(),[n,r]=M.useState(""),[i,o]=M.useState(""),[d,x]=M.useState(null),[v,g]=M.useState(""),[w,N]=M.useState(""),[S,k]=M.useState(""),{data:j,isLoading:O,isError:L}=pt({queryKey:["categories"],queryFn:vl}),T=(j==null?void 0:j.categories)||[],A=Ut({mutationFn:({name:te,description:de})=>nL(te,de),onSuccess:()=>{t.invalidateQueries(["categories"]),r(""),o(""),k("")},onError:te=>{var de,re;k(((re=(de=te.response)==null?void 0:de.data)==null?void 0:re.message)||"Failed to create category")}}),I=Ut({mutationFn:({id:te,name:de,description:re})=>rL(te,de,re),onSuccess:()=>{t.invalidateQueries(["categories"]),x(null),g(""),N(""),k("")},onError:te=>{var de,re;k(((re=(de=te.response)==null?void 0:de.data)==null?void 0:re.message)||"Failed to update category")}}),q=Ut({mutationFn:sL,onSuccess:()=>{t.invalidateQueries(["categories"]),k("")},onError:te=>{var de,re;k(((re=(de=te.response)==null?void 0:de.data)==null?void 0:re.message)||"Failed to delete category")}}),X=te=>{if(te.preventDefault(),!n.trim()){k("Category name is required");return}A.mutate({name:n,description:i}),document.getElementById("addCategoryModal").style.display="none"},F=te=>{x(te),g(te.name),N(te.description||"")},R=()=>{if(!v.trim()){k("Category name is required");return}I.mutate({id:d.id,name:v,description:w})},H=()=>{x(null),g(""),N("")},V=te=>{window.confirm("Are you sure you want to delete this category?")&&q.mutate(te)};return e()?a.jsxs("div",{className:"space-y-6",children:[S&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:a.jsx("p",{children:S})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Categories"}),a.jsxs(Se,{variant:"primary",onClick:()=>{r(""),o(""),document.getElementById("addCategoryModal").style.display="block"},className:"flex items-center gap-2",children:[a.jsx(XF,{}),"Add Category"]})]}),a.jsx(Re,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell",children:"Name"}),a.jsx("th",{className:"table-header-cell",children:"Description"}),a.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"table-body",children:O?a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"table-cell text-center py-4",children:a.jsx("div",{className:"flex justify-center items-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):L?a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-red-600",children:"Error loading categories. Please try again."})}):T&&T.length>0?T.map(te=>a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"table-cell",children:te.name}),a.jsx("td",{className:"table-cell",children:te.description||"-"}),a.jsx("td",{className:"table-cell text-right",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsxs(Se,{onClick:()=>F(te),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[a.jsx($F,{}),"Edit"]}),a.jsxs(Se,{onClick:()=>V(te.id),variant:"danger",size:"sm",disabled:q.isLoading&&q.variables===te.id,className:"flex items-center gap-1",children:[a.jsx(GF,{}),q.isLoading&&q.variables===te.id?"Deleting...":"Delete"]})]})})]},te.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-slate-500",children:"No categories found"})})})]})})}),a.jsx("div",{className:"modal-backdrop",id:"addCategoryModal",style:{display:"none"},children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Add Category"}),a.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:""})]}),a.jsxs("form",{onSubmit:X,children:[a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(dt,{id:"newCategoryName",name:"newCategoryName",type:"text",label:"Category Name",value:n,onChange:te=>r(te.target.value),placeholder:"Enter category name",required:!0}),a.jsx(dt,{id:"newCategoryDescription",name:"newCategoryDescription",type:"text",label:"Description (optional)",value:i,onChange:te=>o(te.target.value),placeholder:"Enter category description"})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Se,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"Cancel"}),a.jsx(Se,{type:"submit",variant:"primary",disabled:A.isLoading,className:"flex items-center gap-2",children:A.isLoading?"Adding...":"Add Category"})]})]})]})}),d&&a.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Edit Category"}),a.jsx("button",{className:"modal-close",onClick:H,children:""})]}),a.jsxs("form",{onSubmit:te=>{te.preventDefault(),R()},children:[a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(dt,{id:"editCategoryName",name:"editCategoryName",type:"text",label:"Category Name",value:v,onChange:te=>g(te.target.value),required:!0}),a.jsx(dt,{id:"editCategoryDescription",name:"editCategoryDescription",type:"text",label:"Description (optional)",value:w,onChange:te=>N(te.target.value),placeholder:"Enter category description"})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Se,{type:"button",variant:"secondary",onClick:H,children:"Cancel"}),a.jsx(Se,{type:"submit",variant:"primary",disabled:I.isLoading,className:"flex items-center gap-2",children:I.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):a.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:a.jsx("p",{children:"Only administrators can manage equipment categories."})})},wo=async()=>(await ht.get("/api/locations")).data,KF=async e=>(await ht.post("/api/locations",e)).data,ZF=async(e,t)=>(await ht.put(`/api/locations/${e}`,t)).data,JF=async e=>(await ht.delete(`/api/locations/${e}`)).data,eB=()=>{var H;const{isAdmin:e}=lr(),t=jn(),[n,r]=M.useState(!1),[i,o]=M.useState(!1),[d,x]=M.useState(!1),[v,g]=M.useState(null),[w,N]=M.useState({name:"",street:"",postal_code:"",city:"",region:"",country:""}),{data:S,isLoading:k,isError:j}=pt(["locations"],wo),O=Ut(KF,{onSuccess:()=>{t.invalidateQueries(["locations"]),r(!1),N({name:"",street:"",postal_code:"",city:"",region:"",country:""}),alert("Location created successfully")},onError:V=>{var te,de;alert(`Error creating location: ${((de=(te=V.response)==null?void 0:te.data)==null?void 0:de.message)||V.message}`)}}),L=Ut(V=>ZF(V.id,V.locationData),{onSuccess:()=>{t.invalidateQueries(["locations"]),o(!1),g(null),alert("Location updated successfully")},onError:V=>{var te,de;alert(`Error updating location: ${((de=(te=V.response)==null?void 0:te.data)==null?void 0:de.message)||V.message}`)}}),T=Ut(JF,{onSuccess:()=>{t.invalidateQueries(["locations"]),x(!1),g(null),alert("Location deleted successfully")},onError:V=>{var te,de;alert(`Error deleting location: ${((de=(te=V.response)==null?void 0:te.data)==null?void 0:de.message)||V.message}`)}}),A=V=>{const{name:te,value:de}=V.target;N(re=>({...re,[te]:de}))},I=V=>{V.preventDefault(),O.mutate(w)},q=V=>{V.preventDefault(),L.mutate({id:v.id,locationData:w})},X=()=>{T.mutate(v.id)},F=V=>{g(V),N({name:V.name,street:V.street||"",postal_code:V.postal_code||"",city:V.city||"",region:V.region||"",country:V.country||""}),o(!0)},R=V=>{g(V),x(!0)};return k?a.jsx("div",{className:"text-center py-4",children:"Loading locations..."}):j?a.jsx("div",{className:"text-center py-4 text-red-600",children:"Error loading locations"}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Locations"}),e()&&a.jsx(Se,{variant:"primary",onClick:()=>{N({name:"",street:"",postal_code:"",city:"",region:"",country:""}),r(!0)},children:"Add Location"})]}),a.jsx(Re,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell",children:"Name"}),a.jsx("th",{className:"table-header-cell",children:"Street"}),a.jsx("th",{className:"table-header-cell",children:"Postal Code"}),a.jsx("th",{className:"table-header-cell",children:"City"}),a.jsx("th",{className:"table-header-cell",children:"Region"}),a.jsx("th",{className:"table-header-cell",children:"Country"}),e()&&a.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),a.jsx("tbody",{className:"table-body",children:((H=S==null?void 0:S.locations)==null?void 0:H.length)>0?S.locations.map(V=>a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"table-cell",children:V.name}),a.jsx("td",{className:"table-cell",children:V.street||"-"}),a.jsx("td",{className:"table-cell",children:V.postal_code||"-"}),a.jsx("td",{className:"table-cell",children:V.city||"-"}),a.jsx("td",{className:"table-cell",children:V.region||"-"}),a.jsx("td",{className:"table-cell",children:V.country||"-"}),e()&&a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Se,{variant:"outline",size:"sm",onClick:()=>F(V),children:"Edit"}),a.jsx(Se,{variant:"danger",size:"sm",onClick:()=>R(V),children:"Delete"})]})})]},V.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:e()?7:6,className:"table-cell text-center py-4 text-slate-500",children:"No locations found"})})})]})})}),n&&a.jsx("div",{className:"modal-backdrop",children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Add Location"}),a.jsx("button",{className:"modal-close",onClick:()=>r(!1),children:""})]}),a.jsxs("form",{onSubmit:I,children:[a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(dt,{id:"name",name:"name",label:"Location Name",value:w.name,onChange:A,placeholder:"Enter location name",required:!0}),a.jsx(dt,{id:"street",name:"street",label:"Street",value:w.street,onChange:A,placeholder:"Enter street (optional)"}),a.jsx(dt,{id:"postal_code",name:"postal_code",label:"Postal Code",value:w.postal_code,onChange:A,placeholder:"Enter postal code (optional)"}),a.jsx(dt,{id:"city",name:"city",label:"City",value:w.city,onChange:A,placeholder:"Enter city (optional)"}),a.jsx(dt,{id:"region",name:"region",label:"Region/State",value:w.region,onChange:A,placeholder:"Enter region or state (optional)"}),a.jsx(dt,{id:"country",name:"country",label:"Country",value:w.country,onChange:A,placeholder:"Enter country (optional)"})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Se,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),a.jsx(Se,{type:"submit",variant:"primary",disabled:O.isLoading,children:O.isLoading?"Adding...":"Add Location"})]})]})]})}),i&&v&&a.jsx("div",{className:"modal-backdrop",children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Edit Location"}),a.jsx("button",{className:"modal-close",onClick:()=>o(!1),children:""})]}),a.jsxs("form",{onSubmit:q,children:[a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(dt,{id:"edit-name",name:"name",label:"Location Name",value:w.name,onChange:A,placeholder:"Enter location name",required:!0}),a.jsx(dt,{id:"edit-street",name:"street",label:"Street",value:w.street,onChange:A,placeholder:"Enter street (optional)"}),a.jsx(dt,{id:"edit-postal_code",name:"postal_code",label:"Postal Code",value:w.postal_code,onChange:A,placeholder:"Enter postal code (optional)"}),a.jsx(dt,{id:"edit-city",name:"city",label:"City",value:w.city,onChange:A,placeholder:"Enter city (optional)"}),a.jsx(dt,{id:"edit-region",name:"region",label:"Region/State",value:w.region,onChange:A,placeholder:"Enter region or state (optional)"}),a.jsx(dt,{id:"edit-country",name:"country",label:"Country",value:w.country,onChange:A,placeholder:"Enter country (optional)"})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Se,{type:"button",variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),a.jsx(Se,{type:"submit",variant:"primary",disabled:L.isLoading,children:L.isLoading?"Saving...":"Save Changes"})]})]})]})}),d&&v&&a.jsx("div",{className:"modal-backdrop",children:a.jsxs("div",{className:"modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Delete Location"}),a.jsx("button",{className:"modal-close",onClick:()=>x(!1),children:""})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("p",{children:['Are you sure you want to delete the location "',v.name,'"? This action cannot be undone.']}),a.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Note: You cannot delete a location that is currently assigned to equipment."})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx(Se,{type:"button",variant:"secondary",onClick:()=>x(!1),children:"Cancel"}),a.jsx(Se,{type:"button",variant:"danger",onClick:X,disabled:T.isLoading,children:T.isLoading?"Deleting...":"Delete Location"})]})]})})]})},Ca="https://tonlager.kinsta.app",tB=async()=>{try{console.log("[DATABASE SERVICE] Testing connection to:",`${Ca}/api/database/test`);const e=await fetch(`${Ca}/api/database/test`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log("[DATABASE SERVICE] Test response status:",e.status),!e.ok){const n=await e.text();throw console.error("[DATABASE SERVICE] Test error response:",n),new Error(`HTTP error! status: ${e.status} - ${n}`)}const t=await e.json();return console.log("[DATABASE SERVICE] Test data:",t),t}catch(e){throw console.error("Error testing database connection:",e),e}},nB=async()=>{try{console.log("[DATABASE SERVICE] Fetching tables from:",`${Ca}/api/database/tables`),console.log("[DATABASE SERVICE] Token:",localStorage.getItem("token")?"Present":"Missing");const e=await fetch(`${Ca}/api/database/tables`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log("[DATABASE SERVICE] Response status:",e.status),!e.ok){const n=await e.text();throw console.error("[DATABASE SERVICE] Error response:",n),new Error(`HTTP error! status: ${e.status} - ${n}`)}const t=await e.json();return console.log("[DATABASE SERVICE] Tables data:",t),t}catch(e){throw console.error("Error fetching database tables:",e),e}},rB=async e=>{try{const t=await fetch(`${Ca}/api/database/tables/${e}/structure`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching table structure:",t),t}},sB=async(e,t=1,n=50)=>{try{const r=await fetch(`${Ca}/api/database/tables/${e}/data?page=${t}&limit=${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Error fetching table data:",r),r}},iB=async e=>{try{const t=await fetch(`${Ca}/api/database/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({query:e})});if(!t.ok){const n=await t.json();throw new Error(n.message||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error("Error executing query:",t),t}},aB=async(e,t,n)=>{try{const r=await fetch(`${Ca}/api/database/tables/${e}/rows/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(n)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Error updating table row:",r),r}},oB=async()=>{try{const e=await fetch(`${Ca}/api/database/info`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching database info:",e),e}},lB=({onClose:e})=>{var oe,xe,ue,ge,Le,Ve,nt,ke,Xe,it,je;const[t,n]=M.useState("tables"),[r,i]=M.useState(null),[o,d]=M.useState(1),[x,v]=M.useState(""),[g,w]=M.useState(null),[N,S]=M.useState(null),[k,j]=M.useState({}),O=jn(),{data:L}=pt({queryKey:["database-info"],queryFn:oB}),{data:T,isLoading:A,error:I}=pt({queryKey:["database-tables"],queryFn:nB,retry:1,onError:Ie=>{console.error("[DATABASE MANAGER] Tables query error:",Ie),tt.error(`Failed to load tables: ${Ie.message}`)}}),{data:q}=pt({queryKey:["table-structure",r],queryFn:()=>rB(r),enabled:!!r}),{data:X,isLoading:F}=pt({queryKey:["table-data",r,o],queryFn:()=>sB(r,o,50),enabled:!!r}),R=Ut({mutationFn:iB,onSuccess:Ie=>{w(Ie),tt.success("Query executed successfully")},onError:Ie=>{tt.error(`Query failed: ${Ie.message}`)}}),H=Ut({mutationFn:({tableName:Ie,id:at,data:Yt})=>aB(Ie,at,Yt),onSuccess:()=>{tt.success("Row updated successfully"),S(null),j({}),O.invalidateQueries(["table-data",r])},onError:Ie=>{tt.error(`Update failed: ${Ie.message}`)}}),V=()=>{if(!x.trim()){tt.error("Please enter a SQL query");return}R.mutate(x)},te=Ie=>{S(Ie.id),j({...Ie})},de=()=>{H.mutate({tableName:r,id:N,data:k})},re=()=>{S(null),j({})},ee=async()=>{try{const Ie=await tB();tt.success(`Database connection successful! Database: ${Ie.database}`),console.log("[DATABASE MANAGER] Connection test result:",Ie)}catch(Ie){tt.error(`Database connection failed: ${Ie.message}`),console.error("[DATABASE MANAGER] Connection test failed:",Ie)}},Ne=Ie=>Ie===null?"NULL":typeof Ie=="boolean"?Ie?"TRUE":"FALSE":typeof Ie=="object"?JSON.stringify(Ie):String(Ie),se=[{id:"tables",label:"Tables",icon:""},{id:"query",label:"Query",icon:""},{id:"info",label:"Database Info",icon:""}];return a.jsxs("div",{className:"fixed inset-0 bg-slate-50 z-50 flex flex-col",children:[a.jsx("div",{className:"bg-white border-b border-slate-200 px-6 py-4 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Database Manager"}),a.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Connected to: ",a.jsx("span",{className:"font-mono text-primary-600",children:"ton-lager1-cv8k6-mysql"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Connected"})]}),a.jsx(Se,{size:"sm",variant:"outline",onClick:ee,children:"Test Connection"}),a.jsx(Se,{size:"sm",variant:"outline",onClick:e||(()=>window.history.back()),children:" Back to Settings"})]})]})}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("div",{className:"px-6 py-6",children:[a.jsx("div",{className:"border-b border-slate-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:se.map(Ie=>a.jsxs("button",{onClick:()=>n(Ie.id),className:`py-3 px-4 border-b-2 font-medium text-base flex items-center space-x-3 transition-colors ${t===Ie.id?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 hover:bg-slate-50"}`,children:[a.jsx("span",{className:"text-lg",children:Ie.icon}),a.jsx("span",{children:Ie.label})]},Ie.id))})}),t==="tables"&&a.jsxs("div",{className:"flex gap-6 min-h-0",children:[a.jsx("div",{className:"w-80 flex-shrink-0",children:a.jsxs(Re,{className:"h-fit max-h-screen overflow-hidden flex flex-col",children:[a.jsx(Re.Header,{className:"flex-shrink-0",children:a.jsx("h3",{className:"text-lg font-semibold",children:"Database Tables"})}),a.jsx(Re.Body,{className:"p-0 flex-1 overflow-auto",children:A?a.jsx("div",{className:"p-4 text-center text-slate-500",children:"Loading tables..."}):I?a.jsxs("div",{className:"p-4 text-center",children:[a.jsx("div",{className:"text-red-600 mb-2",children:" Error loading tables"}),a.jsx("div",{className:"text-sm text-slate-600",children:I.message}),a.jsx(Se,{size:"sm",variant:"outline",className:"mt-2",onClick:()=>O.invalidateQueries(["database-tables"]),children:"Retry"})]}):(oe=T==null?void 0:T.tables)!=null&&oe.length?a.jsx("div",{className:"divide-y divide-slate-100",children:T.tables.map(Ie=>a.jsxs("button",{onClick:()=>{i(Ie.TABLE_NAME),d(1)},className:`w-full text-left p-4 hover:bg-slate-50 transition-colors ${r===Ie.TABLE_NAME?"bg-primary-50 border-r-2 border-primary-500":""}`,children:[a.jsx("div",{className:"font-medium text-slate-800",children:Ie.TABLE_NAME}),a.jsxs("div",{className:"text-sm text-slate-500",children:[Ie.TABLE_ROWS||0," rows"]})]},Ie.TABLE_NAME))}):a.jsx("div",{className:"p-4 text-center text-slate-500",children:"No tables found in database"})})]})}),a.jsxs("div",{className:"flex-1 flex flex-col gap-6 min-w-0 overflow-auto",children:[r&&a.jsxs(Re,{className:"flex-shrink-0",children:[a.jsx(Re.Header,{children:a.jsxs("h3",{className:"text-lg font-semibold",children:["Table Structure: ",r]})}),a.jsx(Re.Body,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Column"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Type"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Null"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Key"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:(xe=q==null?void 0:q.columns)==null?void 0:xe.map(Ie=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-4 py-2 text-sm font-medium text-slate-800",children:Ie.COLUMN_NAME}),a.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:Ie.DATA_TYPE}),a.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:Ie.IS_NULLABLE}),a.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:Ie.COLUMN_KEY})]},Ie.COLUMN_NAME))})]})})})]}),r&&a.jsxs(Re,{className:"flex-1 flex flex-col min-h-0",children:[a.jsx(Re.Header,{className:"flex-shrink-0",children:a.jsxs("h3",{className:"text-lg font-semibold",children:["Table Data: ",r]})}),a.jsx(Re.Body,{className:"p-0 flex-1 flex flex-col min-h-0",children:F?a.jsx("div",{className:"p-4 text-center text-slate-500",children:"Loading data..."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50 sticky top-0",children:a.jsxs("tr",{children:[((ue=X==null?void 0:X.data)==null?void 0:ue[0])&&Object.keys(X.data[0]).map(Ie=>a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:Ie},Ie)),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:(ge=X==null?void 0:X.data)==null?void 0:ge.map(Ie=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[Object.entries(Ie).map(([at,Yt])=>a.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:N===Ie.id?a.jsx(dt,{value:k[at]||"",onChange:Zt=>j({...k,[at]:Zt.target.value}),className:"text-xs"}):a.jsx("span",{className:"font-mono text-xs",children:Ne(Yt)})},at)),a.jsx("td",{className:"px-4 py-2 text-sm",children:N===Ie.id?a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(Se,{size:"sm",onClick:de,children:"Save"}),a.jsx(Se,{size:"sm",variant:"outline",onClick:re,children:"Cancel"})]}):a.jsx(Se,{size:"sm",variant:"outline",onClick:()=>te(Ie),children:"Edit"})})]},Ie.id))})]})}),(X==null?void 0:X.pagination)&&a.jsxs("div",{className:"p-4 border-t border-slate-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",X.pagination.page," of ",X.pagination.totalPages,"(",X.pagination.total," total rows)"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Se,{size:"sm",variant:"outline",onClick:()=>d(Math.max(1,o-1)),disabled:o===1,children:"Previous"}),a.jsx(Se,{size:"sm",variant:"outline",onClick:()=>d(o+1),disabled:o>=X.pagination.totalPages,children:"Next"})]})]})]})})]})]})]}),t==="query"&&a.jsxs("div",{className:"flex flex-col gap-6 min-h-0",children:[a.jsxs(Re,{className:"flex-shrink-0",children:[a.jsxs(Re.Header,{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"SQL Query Editor"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Execute SELECT queries to view data. Dangerous operations are restricted."})]}),a.jsx(Re.Body,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"SQL Query"}),a.jsx("textarea",{value:x,onChange:Ie=>v(Ie.target.value),placeholder:"SELECT * FROM equipment WHERE status = 'available';",className:"w-full h-48 p-4 border border-slate-300 rounded-md font-mono text-base focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-y"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-sm text-slate-500",children:" Tip: Only SELECT queries are allowed for security"}),a.jsx(Se,{onClick:V,disabled:R.isPending,children:R.isPending?"Executing...":"Execute Query"})]})]})})]}),g&&a.jsxs(Re,{className:"flex-1 flex flex-col min-h-0",children:[a.jsxs(Re.Header,{className:"flex-shrink-0",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Query Results"}),a.jsxs("p",{className:"text-sm text-slate-600",children:[(Le=g.metadata)==null?void 0:Le.rowCount," rows returned"]})]}),a.jsx(Re.Body,{className:"p-0 flex-1 flex flex-col min-h-0",children:a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50 sticky top-0",children:a.jsx("tr",{children:((Ve=g.results)==null?void 0:Ve[0])&&Object.keys(g.results[0]).map(Ie=>a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:Ie},Ie))})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:(nt=g.results)==null?void 0:nt.map((Ie,at)=>a.jsx("tr",{className:"hover:bg-slate-50",children:Object.entries(Ie).map(([Yt,Zt])=>a.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:a.jsx("span",{className:"font-mono text-xs",children:Ne(Zt)})},Yt))},at))})]})})})]})]}),t==="info"&&a.jsxs(Re,{className:"max-w-4xl",children:[a.jsx(Re.Header,{children:a.jsx("h3",{className:"text-lg font-semibold",children:"Database Information"})}),a.jsx(Re.Body,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Connection Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Host:"}),a.jsx("span",{className:"font-mono",children:"ton-lager1-cv8k6-mysql.ton-lager1-cv8k6.svc.cluster.local"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Port:"}),a.jsx("span",{className:"font-mono",children:"3306"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Database:"}),a.jsx("span",{className:"font-mono",children:((ke=L==null?void 0:L.database)==null?void 0:ke.database_name)||"substantial-gray-unicorn"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"User:"}),a.jsx("span",{className:"font-mono",children:"canid"})]})]})]}),L&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Server Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"MySQL Version:"}),a.jsx("span",{className:"font-mono",children:(Xe=L.server)==null?void 0:Xe.version})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Character Set:"}),a.jsx("span",{className:"font-mono",children:(it=L.database)==null?void 0:it.charset})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Collation:"}),a.jsx("span",{className:"font-mono",children:(je=L.database)==null?void 0:je.collation})]})]})]})]})})]})]})})]})},cB=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),uB=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s3=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),i3=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),a.jsx("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),a.jsx("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"})]}),dB=()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),fB=()=>{const{user:e}=lr(),[t,n]=M.useState("profile"),[r,i]=M.useState(""),[o,d]=M.useState(""),[x,v]=M.useState(""),[g,w]=M.useState(""),[N,S]=M.useState(""),[k,j]=M.useState(!1),O=[{id:"profile",label:"Profile",icon:a.jsx(cB,{})},{id:"security",label:"Security",icon:a.jsx(uB,{})}];(e==null?void 0:e.role)==="admin"&&(O.push({id:"equipmentTypes",label:"Equipment Types",icon:a.jsx(s3,{})}),O.push({id:"categories",label:"Categories",icon:a.jsx(s3,{})}),O.push({id:"locations",label:"Locations",icon:a.jsx(dB,{})}),O.push({id:"database",label:"Database",icon:a.jsx(i3,{})}));const L=T=>{if(T.preventDefault(),w(""),S(""),!r){w("Current password is required");return}if(!o){w("New password is required");return}if(o!==x){w("New passwords do not match");return}if(o.length<8){w("New password must be at least 8 characters");return}S("Password changed successfully"),i(""),d(""),v("")};return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-8",children:"User Settings"}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsx("div",{className:"w-full md:w-64",children:a.jsx(Re,{children:a.jsx(Re.Body,{className:"p-0",children:a.jsx("nav",{children:a.jsx("ul",{className:"divide-y divide-slate-100",children:O.map(T=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>n(T.id),className:`w-full text-left px-4 py-3 flex items-center transition-colors ${t===T.id?"bg-primary-50 text-primary-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,"aria-current":t===T.id?"page":void 0,children:[a.jsx("span",{className:"mr-3 text-slate-500",children:T.icon}),T.label]})},T.id))})})})})}),a.jsx("div",{className:"flex-1",children:a.jsx(Re,{children:a.jsxs(Re.Body,{children:[t==="profile"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Profile Settings"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),a.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200",children:e==null?void 0:e.username})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),a.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200 capitalize",children:e==null?void 0:e.role})]})]})]}),t==="security"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Security Settings"}),g&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:g}),N&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:N}),a.jsxs("form",{onSubmit:L,className:"space-y-4",children:[a.jsx(dt,{type:"password",id:"current-password",label:"Current Password",value:r,onChange:T=>i(T.target.value),placeholder:"Enter your current password"}),a.jsx(dt,{type:"password",id:"new-password",label:"New Password",value:o,onChange:T=>d(T.target.value),placeholder:"Enter your new password"}),a.jsx(dt,{type:"password",id:"confirm-password",label:"Confirm New Password",value:x,onChange:T=>v(T.target.value),placeholder:"Confirm your new password"}),a.jsx("div",{children:a.jsx(Se,{type:"submit",variant:"primary",children:"Change Password"})})]})]}),t==="equipmentTypes"&&(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Types"}),a.jsx(YF,{})]}),t==="categories"&&(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Categories"}),a.jsx(QF,{})]}),t==="locations"&&(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Locations"}),a.jsx(eB,{})]}),t==="database"&&(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Database Management"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Database Manager"}),a.jsx("p",{className:"text-slate-600 mb-4",children:"Access the full-featured database management interface to view tables, execute queries, and manage your MySQL database directly."}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-500",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"Connected to ton-lager1-cv8k6-mysql"})]}),a.jsx("span",{children:""}),a.jsx("span",{children:"MySQL 9.0"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Database: substantial-gray-unicorn"})]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(Se,{onClick:()=>j(!0),variant:"primary",className:"flex items-center space-x-2",children:[a.jsx(i3,{}),a.jsx("span",{children:"Open Database Manager"})]}),a.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Opens in full-screen mode"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:" Browse Tables"}),a.jsx("p",{className:"text-sm text-slate-600",children:"View all database tables, their structure, and data with inline editing capabilities."})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:" Execute Queries"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Run SELECT queries to analyze data and generate custom reports."})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:" Database Info"}),a.jsx("p",{className:"text-sm text-slate-600",children:"View connection details, server information, and database statistics."})]})]})]})]})]})})})]}),k&&a.jsx(lB,{onClose:()=>j(!1)})]})},hB=({isOpen:e,onClose:t,equipmentId:n})=>{const r=jn(),[i,o]=M.useState(""),[d,x]=M.useState(null),[v,g]=M.useState(!1),[w,N]=M.useState(null);M.useEffect(()=>{e&&n&&(g(!0),op(n).then(j=>{x(j),o(`${j.serial_number}-COPY`),g(!1)}).catch(j=>{console.error("Error fetching equipment details:",j),N("Failed to load equipment details"),g(!1)}))},[e,n]);const S=Ut({mutationFn:async()=>{if(!d)return null;console.log("Original equipment data:",d);const j={type_id:d.type_id||1,brand:d.brand,model:d.model,serial_number:i,status:d.status||"available",location:d.location||"",description:d.description||""};return console.log("Duplicate data being sent:",j),r2(j)},onSuccess:j=>{console.log("Successfully duplicated equipment:",j),r.invalidateQueries(["equipment"]),t()},onError:j=>{var O,L;console.error("Error duplicating equipment:",j),(L=(O=j.response)==null?void 0:O.data)!=null&&L.message?N(j.response.data.message):N("Failed to duplicate equipment. Please check all required fields.")}}),k=j=>{if(j.preventDefault(),!i.trim()){N("Serial number is required");return}S.mutate()};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Duplicate Equipment"}),v?a.jsx("div",{className:"text-center py-4",children:"Loading..."}):w?a.jsx("div",{className:"text-red-600 mb-4",children:w}):a.jsxs("form",{onSubmit:k,children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-gray-600 mb-2",children:["You are about to duplicate: ",a.jsxs("span",{className:"font-medium",children:[d==null?void 0:d.brand," ",d==null?void 0:d.model]})]}),a.jsx("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),a.jsx("input",{type:"text",id:"serialNumber",value:i,onChange:j=>o(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,autoFocus:!0}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please provide a unique serial number for the duplicated equipment."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                  hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                  hover:shadow-sm transition-all`,children:"Cancel"}),a.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                  hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                  hover:shadow-sm transition-all focus:outline-none focus:ring-1 focus:ring-primary-500`,disabled:S.isLoading,children:S.isLoading?"Duplicating...":"Duplicate"})]})]})]})}):null},pB=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{var V,te,de;const i=r.length>0?r:n?[n]:[],o=jn(),[d,x]=M.useState(2),[v,g]=M.useState(""),[w,N]=M.useState([]),[S,k]=M.useState([]),[j,O]=M.useState(!1),[L,T]=M.useState(null),[A,I]=M.useState(0),[q,X]=M.useState(!1);M.useEffect(()=>{if(e&&i.length>0){O(!0),k([]);const re=i.map(ee=>op(ee));Promise.all(re).then(ee=>{if(k(ee),ee.length===1){const Ne=`${ee[0].serial_number}-{n}`;g(Ne)}else g("BATCH-{n}");O(!1)}).catch(ee=>{console.error("Error fetching equipment details:",ee),T("Failed to load equipment details"),O(!1)})}},[e,i]),M.useEffect(()=>{if(v&&d>0){const re=[];for(let ee=1;ee<=Math.min(d,5);ee++)re.push(F(v,ee));d>5&&(re.push("..."),re.push(F(v,d))),N(re)}},[v,d]);const F=(re,ee)=>re.replace("{n}",ee),R=Ut({mutationFn:async({equipmentData:re,serialNumber:ee})=>{if(!re)return null;const Ne={type:re.type,type_id:re.type_id||1,category:re.category||"",...re.category_id?{category_id:re.category_id}:{},brand:re.brand,model:re.model,serial_number:ee,status:re.status||"available",location:re.location||"",...re.location_id?{location_id:re.location_id}:{},description:re.description||"",...re.reference_image_id?{reference_image_id:re.reference_image_id}:{}};return r2(Ne)}}),H=async()=>{var re,ee;if(S.length!==0){X(!0),I(0);try{const Ne=S.length*d;let se=0;for(const oe of S)for(let xe=1;xe<=d;xe++){let ue;S.length===1?ue=F(v,xe):ue=F(v.replace("{n}",`${oe.id}-{n}`),xe),console.log(`Creating duplicate ${xe} for equipment ID ${oe.id} with serial number ${ue}`),console.log("Original equipment data:",JSON.stringify(oe,null,2));try{await R.mutateAsync({equipmentData:oe,serialNumber:ue}),console.log(`Successfully created duplicate ${xe} for equipment ID ${oe.id}`)}catch(ge){throw console.error(`Error creating duplicate ${xe} for equipment ID ${oe.id}:`,ge),ge}se++,I(Math.floor(se/Ne*100))}o.invalidateQueries(["equipment"]),t()}catch(Ne){console.error("Error in batch duplication:",Ne);let se="Failed to duplicate equipment";(ee=(re=Ne.response)==null?void 0:re.data)!=null&&ee.message?se=Ne.response.data.message:Ne.message&&(se=Ne.message),T(se)}finally{X(!1)}}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Batch Duplicate Equipment"}),j?a.jsx("div",{className:"text-center py-4",children:"Loading..."}):L?a.jsx("div",{className:"text-red-600 mb-4",children:L}):a.jsxs("div",{children:[a.jsxs("div",{className:"text-gray-600 mb-4",children:[a.jsxs("p",{children:["You are about to duplicate ",S.length," item",S.length!==1?"s":"",":"]}),S.length===1?a.jsxs("p",{className:"font-medium mt-1",children:[(V=S[0])==null?void 0:V.brand," ",(te=S[0])==null?void 0:te.model," (SN: ",(de=S[0])==null?void 0:de.serial_number,")"]}):a.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border border-gray-200 rounded-md p-2",children:a.jsx("ul",{className:"text-sm",children:S.map((re,ee)=>a.jsxs("li",{className:"mb-1",children:[re.brand," ",re.model," (SN: ",re.serial_number,")"]},ee))})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"count",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Copies"}),a.jsx("input",{type:"number",id:"count",min:"1",max:"50",value:d,onChange:re=>x(Math.min(50,Math.max(1,parseInt(re.target.value)||1))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"serialNumberPattern",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Pattern"}),a.jsx("input",{type:"text",id:"serialNumberPattern",value:v,onChange:re=>g(re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Use {n} for the copy number"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Use ","{n}"," as a placeholder for the copy number."]})]}),w.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Preview"}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200",children:a.jsx("ul",{className:"text-sm text-gray-600",children:w.map((re,ee)=>a.jsx("li",{children:re},ee))})})]}),q&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${A}%`}})}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1 text-center",children:[A,"% Complete"]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(Se,{variant:"outline",onClick:t,disabled:q,children:"Cancel"}),a.jsx(Se,{variant:"primary",onClick:H,disabled:q||!v.includes("{n}"),children:q?"Processing...":"Create Copies"})]})]})]})}):null},WE=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{const i=r.length>0?r:n?[n]:[],[o,d]=M.useState("available");M.useState(1);const[x,v]=M.useState(!1),[g,w]=M.useState(""),[N,S]=M.useState(""),k=jn(),j=["available","in-use","maintenance","unavailable","broken"],O=Ut({mutationFn:async T=>{const A=T.equipmentIds.map(I=>nO(I,T.status));return Promise.all(A)},onSuccess:()=>{k.invalidateQueries(["equipment"]),S(`Status successfully updated to ${o} for ${i.length} item${i.length!==1?"s":""}`),v(!1),setTimeout(()=>{t(),S("")},2e3)},onError:T=>{var A,I;console.error("Error updating status:",T),w(((I=(A=T.response)==null?void 0:A.data)==null?void 0:I.message)||"Failed to update status"),v(!1)}}),L=T=>{if(T.preventDefault(),i.length===0){w("No equipment items selected");return}v(!0),w(""),S(""),O.mutate({equipmentIds:i,status:o})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Status"}),a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-gray-600",children:["You are updating the status of ",i.length," item",i.length!==1?"s":"","."]})}),g&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:g}),N&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:N}),a.jsxs("form",{onSubmit:L,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Status"}),a.jsx("select",{id:"status",value:o,onChange:T=>d(T.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:j.map(T=>a.jsx("option",{value:T,children:T.charAt(0).toUpperCase()+T.slice(1)},T))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:x,children:"Cancel"}),a.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:x,children:x?"Updating...":"Update Status"})]})]})]})}):null};WE.propTypes={isOpen:ae.bool.isRequired,onClose:ae.func.isRequired,equipmentId:ae.oneOfType([ae.string,ae.number]),selectedItems:ae.array};const HE=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{var F;const i=r.length>0?r:n?[n]:[],[o,d]=M.useState(""),[x,v]=M.useState(""),[g,w]=M.useState(!1),[N,S]=M.useState(!1),[k,j]=M.useState(""),[O,L]=M.useState(""),T=jn(),{data:A}=pt({queryKey:["locations"],queryFn:wo,staleTime:3e5}),I=Ut({mutationFn:async R=>{const H=R.equipmentIds.map(V=>rO(V,R.locationData));return Promise.all(H)},onSuccess:()=>{var H;T.invalidateQueries(["equipment"]);const R=g?x:((H=A==null?void 0:A.locations.find(V=>V.id.toString()===o))==null?void 0:H.name)||"selected location";L(`Location successfully updated to ${R} for ${i.length} item${i.length!==1?"s":""}`),S(!1),setTimeout(()=>{t(),L("")},2e3)},onError:R=>{var H,V;console.error("Error updating location:",R),j(((V=(H=R.response)==null?void 0:H.data)==null?void 0:V.message)||"Failed to update location"),S(!1)}}),q=R=>{if(R.preventDefault(),i.length===0){j("No equipment items selected");return}S(!0),j(""),L("");const H=g?{location:x}:{location_id:o};I.mutate({equipmentIds:i,locationData:H})},X=()=>{w(!g),d(""),v("")};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Location"}),a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-gray-600",children:["You are updating the location of ",i.length," item",i.length!==1?"s":"","."]})}),k&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),O&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:O}),a.jsxs("form",{onSubmit:q,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"flex items-center mb-3",children:a.jsx("button",{type:"button",onClick:X,className:"text-sm text-primary-600 hover:text-primary-800",children:g?"Select from existing locations":"Enter custom location"})}),g?a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customLocation",className:"block text-sm font-medium text-slate-700 mb-1",children:"Custom Location"}),a.jsx("input",{type:"text",id:"customLocation",value:x,onChange:R=>v(R.target.value),className:"w-full p-2 border border-slate-300 rounded-md",placeholder:"Enter location name",required:!0})]}):a.jsxs("div",{children:[a.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),a.jsxs("select",{id:"locationId",value:o,onChange:R=>d(R.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[a.jsx("option",{value:"",children:"Select a location"}),(F=A==null?void 0:A.locations)==null?void 0:F.map(R=>a.jsx("option",{value:R.id.toString(),children:R.name},R.id))]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:N,children:"Cancel"}),a.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:N||!o&&!x,children:N?"Updating...":"Update Location"})]})]})]})}):null};HE.propTypes={isOpen:ae.bool.isRequired,onClose:ae.func.isRequired,equipmentId:ae.oneOfType([ae.string,ae.number]),selectedItems:ae.array};const VE=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=M.useState(""),[o,d]=M.useState(!1),[x,v]=M.useState(""),[g,w]=M.useState(""),N=jn(),{data:S,isLoading:k}=pt({queryKey:["equipment-types"],queryFn:Bi,staleTime:3e5});M.useEffect(()=>{S!=null&&S.types&&S.types.length>0&&!r&&i(S.types[0].id.toString())},[S,r]);const j=Ut({mutationFn:async L=>{const T=L.equipmentIds.map(A=>sO(A,L.typeId));return Promise.all(T)},onSuccess:()=>{var T;N.invalidateQueries(["equipment"]);const L=((T=S==null?void 0:S.types.find(A=>A.id.toString()===r))==null?void 0:T.name)||"selected type";w(`Type successfully updated to ${L} for ${n.length} item${n.length!==1?"s":""}`),d(!1),setTimeout(()=>{t(),w("")},2e3)},onError:L=>{var T,A;console.error("Error updating type:",L),v(((A=(T=L.response)==null?void 0:T.data)==null?void 0:A.message)||"Failed to update type"),d(!1)}}),O=L=>{if(L.preventDefault(),n.length===0){v("No equipment items selected");return}if(!r){v("Please select a type");return}d(!0),v(""),w(""),j.mutate({equipmentIds:n,typeId:r})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Type"}),a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-gray-600",children:["You are updating the type of ",n.length," item",n.length!==1?"s":"","."]})}),x&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),g&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:g}),a.jsxs("form",{onSubmit:O,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Type"}),a.jsxs("select",{id:"type",value:r,onChange:L=>i(L.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[a.jsx("option",{value:"",children:"Select a type"}),S!=null&&S.types&&S.types.length>0?S.types.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id)):a.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(Se,{variant:"outline",onClick:t,disabled:o,children:"Cancel"}),a.jsx(Se,{variant:"primary",type:"submit",disabled:o||!r,children:o?"Updating...":"Update Type"})]})]})]})}):null};VE.propTypes={isOpen:ae.bool.isRequired,onClose:ae.func.isRequired,selectedItems:ae.array};const YE=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=M.useState(""),[o,d]=M.useState(!1),[x,v]=M.useState(""),[g,w]=M.useState(""),N=jn(),{data:S,isLoading:k}=pt({queryKey:["categories"],queryFn:vl,staleTime:3e5});M.useEffect(()=>{S!=null&&S.categories&&S.categories.length>0&&!r&&i(S.categories[0].id.toString())},[S,r]);const j=Ut({mutationFn:async L=>{const T=L.equipmentIds.map(A=>iO(A,L.categoryId));return Promise.all(T)},onSuccess:()=>{var T;N.invalidateQueries(["equipment"]);const L=((T=S==null?void 0:S.categories.find(A=>A.id.toString()===r))==null?void 0:T.name)||"selected category";w(`Category successfully updated to ${L} for ${n.length} item${n.length!==1?"s":""}`),d(!1),setTimeout(()=>{t(),w("")},2e3)},onError:L=>{var T,A;console.error("Error updating category:",L),v(((A=(T=L.response)==null?void 0:T.data)==null?void 0:A.message)||"Failed to update category"),d(!1)}}),O=L=>{if(L.preventDefault(),n.length===0){v("No equipment items selected");return}d(!0),v(""),w(""),j.mutate({equipmentIds:n,categoryId:r||null})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Category"}),a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-gray-600",children:["You are updating the category of ",n.length," item",n.length!==1?"s":"","."]})}),x&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),g&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:g}),a.jsxs("form",{onSubmit:O,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Category"}),a.jsxs("select",{id:"category",value:r,onChange:L=>i(L.target.value),className:"w-full p-2 border border-slate-300 rounded-md",children:[a.jsx("option",{value:"",children:"None (Remove Category)"}),S!=null&&S.categories&&S.categories.length>0?S.categories.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id)):a.jsx("option",{value:"",disabled:!0,children:"Loading categories..."})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(Se,{variant:"outline",onClick:t,disabled:o,children:"Cancel"}),a.jsx(Se,{variant:"primary",type:"submit",disabled:o,children:o?"Updating...":"Update Category"})]})]})]})}):null};YE.propTypes={isOpen:ae.bool.isRequired,onClose:ae.func.isRequired,selectedItems:ae.array};const $E=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=M.useState(""),[o,d]=M.useState(""),[x,v]=M.useState(!0),[g,w]=M.useState(!0),[N,S]=M.useState(!1),[k,j]=M.useState(""),[O,L]=M.useState(""),T=jn(),A=Ut({mutationFn:async q=>{const X=q.equipmentIds.map(F=>aO(F,q.updateData));return Promise.all(X)},onSuccess:()=>{T.invalidateQueries(["equipment"]);let q="Successfully updated ";x&&g?q+=`brand to "${r}" and model to "${o}"`:x?q+=`brand to "${r}"`:g&&(q+=`model to "${o}"`),L(`${q} for ${n.length} item${n.length!==1?"s":""}`),S(!1),setTimeout(()=>{t(),L("")},2e3)},onError:q=>{var X,F;console.error("Error updating brand/model:",q),j(((F=(X=q.response)==null?void 0:X.data)==null?void 0:F.message)||"Failed to update brand/model"),S(!1)}}),I=q=>{if(q.preventDefault(),n.length===0){j("No equipment items selected");return}if(!x&&!g){j("Please select at least one field to update");return}if(x&&!r||g&&!o){j("Please fill in all selected fields");return}S(!0),j(""),L("");const X={};x&&(X.brand=r),g&&(X.model=o),A.mutate({equipmentIds:n,updateData:X})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Brand & Model"}),a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-gray-600",children:["You are updating ",n.length," item",n.length!==1?"s":"","."]})}),k&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),O&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:O}),a.jsxs("form",{onSubmit:I,children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("input",{type:"checkbox",id:"updateBrand",checked:x,onChange:q=>v(q.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"updateBrand",className:"text-sm font-medium text-slate-700",children:"Update Brand"})]}),a.jsx("input",{type:"text",id:"brand",value:r,onChange:q=>i(q.target.value),disabled:!x,className:`w-full p-2 border border-slate-300 rounded-md ${x?"":"bg-slate-100"}`,placeholder:"Enter new brand"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("input",{type:"checkbox",id:"updateModel",checked:g,onChange:q=>w(q.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"updateModel",className:"text-sm font-medium text-slate-700",children:"Update Model"})]}),a.jsx("input",{type:"text",id:"model",value:o,onChange:q=>d(q.target.value),disabled:!g,className:`w-full p-2 border border-slate-300 rounded-md ${g?"":"bg-slate-100"}`,placeholder:"Enter new model"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(Se,{variant:"outline",onClick:t,disabled:N,children:"Cancel"}),a.jsx(Se,{variant:"primary",type:"submit",disabled:N||!x&&!g||x&&!r||g&&!o,children:N?"Updating...":"Update"})]})]})]})}):null};$E.propTypes={isOpen:ae.bool.isRequired,onClose:ae.func.isRequired,selectedItems:ae.array};const S2=({onBatchDuplicate:e,onBatchStatusUpdate:t,onBatchLocationChange:n,equipmentId:r})=>{const[i,o]=M.useState(!1),d=M.useRef(null),x=Gr();M.useEffect(()=>{const j=O=>{d.current&&!d.current.contains(O.target)&&o(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const v=()=>{o(!i)},g=()=>{o(!1),x(`/equipment/${r}`)},w=()=>{o(!1),x(`/equipment/${r}/edit`)},N=()=>{o(!1),e(r)},S=()=>{o(!1),t&&t(r)},k=()=>{o(!1),n&&n(r)};return a.jsxs("div",{className:"relative",ref:d,children:[a.jsx("button",{onClick:v,className:"p-1 rounded-md hover:bg-slate-100 border border-slate-200",title:"Actions","aria-label":"Actions menu",children:a.jsx(YN,{className:"w-4 h-4 text-slate-600"})}),i&&a.jsx("div",{className:"dropdown-menu",children:a.jsxs("div",{className:"py-0.5",children:[a.jsxs("button",{onClick:g,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx(tc,{className:"w-3.5 h-3.5 mr-1.5"}),"View Details"]}),a.jsxs("button",{onClick:w,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx(nl,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit"]}),a.jsxs("button",{onClick:N,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx(a2,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),a.jsxs("button",{onClick:S,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Update Status"]}),a.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Location"]})]})})]})};S2.propTypes={onBatchDuplicate:ae.func.isRequired,onBatchStatusUpdate:ae.func,onBatchLocationChange:ae.func,equipmentId:ae.oneOfType([ae.string,ae.number]).isRequired};const GE=({selectedItems:e,onBatchDuplicate:t,onBatchStatusUpdate:n,onBatchLocationChange:r,onBatchTypeChange:i,onBatchCategoryChange:o,onBatchBrandModelChange:d,onClearSelection:x})=>{const[v,g]=M.useState(!1),w=M.useRef(null);pt({queryKey:["equipment-types"],queryFn:Bi,staleTime:3e5}),pt({queryKey:["locations"],queryFn:wo,staleTime:3e5}),pt({queryKey:["categories"],queryFn:vl,staleTime:3e5}),M.useEffect(()=>{const A=I=>{w.current&&!w.current.contains(I.target)&&g(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]);const N=()=>{g(!v)},S=()=>{g(!1),t()},k=()=>{g(!1),n()},j=()=>{g(!1),r()},O=()=>{g(!1),i()},L=()=>{g(!1),o()},T=()=>{g(!1),d()};return a.jsxs("div",{className:"relative",ref:w,children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-2 py-1 rounded-md border border-blue-100",children:[a.jsxs("span",{className:"text-xs font-medium text-blue-700",children:[e.length," item",e.length!==1?"s":""," selected"]}),a.jsx(Se,{variant:"outline",size:"sm",onClick:x,className:"text-xs py-0.5 px-2 bg-white",children:"Clear"}),a.jsxs(Se,{variant:"outline",size:"sm",onClick:N,className:"flex items-center text-xs py-0.5 px-2 bg-white",children:["Actions ",a.jsx(YN,{className:"w-3 h-3 ml-1"})]})]}),v&&a.jsx("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white rounded-md shadow-lg border border-slate-200 w-48",children:a.jsxs("div",{className:"py-0.5",children:[a.jsxs("button",{onClick:S,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx(a2,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),a.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Update Status"]}),a.jsxs("button",{onClick:j,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Location"]}),a.jsxs("button",{onClick:O,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Type"]}),a.jsxs("button",{onClick:L,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Category"]}),a.jsxs("button",{onClick:T,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[a.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Update Brand/Model"]})]})})]})};GE.propTypes={selectedItems:ae.array.isRequired,onBatchDuplicate:ae.func.isRequired,onBatchStatusUpdate:ae.func.isRequired,onBatchLocationChange:ae.func.isRequired,onBatchTypeChange:ae.func,onBatchCategoryChange:ae.func,onBatchBrandModelChange:ae.func,onClearSelection:ae.func.isRequired};const XE=({equipment:e,onDuplicate:t,onSelect:n,isSelected:r})=>{const i=Gr();lr();const[o,d]=M.useState(!1);let x=null;if(e.reference_image_id)x=ch(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const w=e.files.find(N=>N.file_type==="image");w&&(x=ch(w.id,!0))}const v=w=>{switch(w){case"available":return"badge-success";case"in-use":return"badge-info";case"maintenance":return"badge-warning";case"unavailable":return"badge-secondary";case"broken":return"badge-danger";default:return"badge-secondary"}},g=w=>{w.target.type==="checkbox"||w.target.closest("button")||w.target.closest("a")||w.target.closest(".btn-icon")||i(`/equipment/${e.id}`)};return a.jsxs("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden h-full ${r?"bg-blue-50 border-2 border-blue-300":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:g,children:[a.jsx("div",{className:"absolute top-2 left-2 z-10",children:a.jsx("input",{type:"checkbox",checked:r,onChange:()=>n&&n(e.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})}),a.jsx("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:x?a.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:x,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):a.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:a.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})})}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&a.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),a.jsx("span",{className:`badge ${v(e.status)}`,children:e.status})]}),a.jsxs("h2",{className:"text-lg font-semibold mb-1",children:[e.brand," ",e.model]}),a.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",e.serial_number]}),e.location&&a.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Location: ",e.location]}),a.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[a.jsx(Un,{to:`/equipment/${e.id}/edit`,className:"btn-icon text-slate-600 hover:text-slate-800 hover:bg-slate-50",title:"Edit equipment",children:a.jsx(nl,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>t(e.id),className:"btn-icon text-green-600 hover:text-green-800 hover:bg-green-50",title:"Duplicate equipment",children:a.jsx(a2,{className:"w-5 h-5"})}),a.jsx(S2,{equipmentId:e.id,onBatchDuplicate:()=>{const w=new CustomEvent("batchDuplicate",{detail:{id:e.id}});document.dispatchEvent(w)},onBatchStatusUpdate:()=>{const w=new CustomEvent("batchStatusUpdate",{detail:{id:e.id}});document.dispatchEvent(w)},onBatchLocationChange:()=>{const w=new CustomEvent("batchLocationChange",{detail:{id:e.id}});document.dispatchEvent(w)}})]})]})]})};XE.propTypes={equipment:ae.object.isRequired,onDuplicate:ae.func.isRequired,onSelect:ae.func,isSelected:ae.bool};const qa=({field:e,label:t,currentSortField:n,currentSortOrder:r,onSort:i,className:o=""})=>{const d=n===e;return a.jsx("th",{className:`table-header-cell cursor-pointer select-none ${o}`,onClick:()=>i(e),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:t}),a.jsx("div",{className:"flex flex-col h-4 justify-center",children:d?r==="asc"?a.jsx(lb,{className:"w-3 h-3 text-primary-600"}):a.jsx(gO,{className:"w-3 h-3 text-primary-600"}):a.jsx("div",{className:"w-3 h-3 opacity-60",children:a.jsx(lb,{className:"w-3 h-3 text-gray-500"})})})]})})};qa.propTypes={field:ae.string.isRequired,label:ae.string.isRequired,currentSortField:ae.string.isRequired,currentSortOrder:ae.string.isRequired,onSort:ae.func.isRequired,className:ae.string};function yl(e,t,n,r){function i(o){return o instanceof n?o:new n(function(d){d(o)})}return new(n||(n=Promise))(function(o,d){function x(w){try{g(r.next(w))}catch(N){d(N)}}function v(w){try{g(r.throw(w))}catch(N){d(N)}}function g(w){w.done?o(w.value):i(w.value).then(x,v)}g((r=r.apply(e,t||[])).next())})}const mB=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ac(e,t,n){const r=xB(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&a3(r,"path",o),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),a3(r,"relativePath",o),r}function xB(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=mB.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function a3(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const gB=[".DS_Store","Thumbs.db"];function vB(e){return yl(this,void 0,void 0,function*(){return Sh(e)&&yB(e.dataTransfer)?NB(e.dataTransfer,e.type):wB(e)?bB(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?CB(e):[]})}function yB(e){return Sh(e)}function wB(e){return Sh(e)&&Sh(e.target)}function Sh(e){return typeof e=="object"&&e!==null}function bB(e){return Fx(e.target.files).map(t=>Ac(t))}function CB(e){return yl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Ac(n))})}function NB(e,t){return yl(this,void 0,void 0,function*(){if(e.items){const n=Fx(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(EB));return o3(QE(r))}return o3(Fx(e.files).map(n=>Ac(n)))})}function o3(e){return e.filter(t=>gB.indexOf(t.name)===-1)}function Fx(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function EB(e){if(typeof e.webkitGetAsEntry!="function")return l3(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?KE(t):l3(e,t)}function QE(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?QE(n):[n]],[])}function l3(e,t){return yl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const d=yield o.getFile();return d.handle=o,Ac(d)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Ac(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function SB(e){return yl(this,void 0,void 0,function*(){return e.isDirectory?KE(e):_B(e)})}function KE(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function o(){t.readEntries(d=>yl(this,void 0,void 0,function*(){if(d.length){const x=Promise.all(d.map(SB));i.push(x),o()}else try{const x=yield Promise.all(i);n(x)}catch(x){r(x)}}),d=>{r(d)})}o()})}function _B(e){return yl(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=Ac(r,e.fullPath);t(i)},r=>{n(r)})})})}var fm=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(d){var x=d.trim().toLowerCase();return x.charAt(0)==="."?r.toLowerCase().endsWith(x):x.endsWith("/*")?o===x.replace(/\/.*$/,""):i===x})}return!0};function c3(e){return kB(e)||AB(e)||JE(e)||jB()}function jB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kB(e){if(Array.isArray(e))return Bx(e)}function u3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(n),!0).forEach(function(r){ZE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yd(e,t){return IB(e)||DB(e,t)||JE(e,t)||TB()}function TB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JE(e,t){if(e){if(typeof e=="string")return Bx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bx(e,t)}}function Bx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,d,x;try{for(n=n.call(e);!(i=(d=n.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(v){o=!0,x=v}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw x}}return r}}function IB(e){if(Array.isArray(e))return e}var RB=typeof fm=="function"?fm:fm.default,OB="file-invalid-type",MB="file-too-large",LB="file-too-small",PB="too-many-files",FB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:OB,message:"File type must be ".concat(r)}},f3=function(t){return{code:MB,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},h3=function(t){return{code:LB,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},BB={code:PB,message:"Too many files"};function e5(e,t){var n=e.type==="application/x-moz-file"||RB(e,t);return[n,n?null:FB(t)]}function t5(e,t,n){if($o(e.size))if($o(t)&&$o(n)){if(e.size>n)return[!1,f3(n)];if(e.size<t)return[!1,h3(t)]}else{if($o(t)&&e.size<t)return[!1,h3(t)];if($o(n)&&e.size>n)return[!1,f3(n)]}return[!0,null]}function $o(e){return e!=null}function UB(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,d=e.maxFiles,x=e.validator;return!o&&t.length>1||o&&d>=1&&t.length>d?!1:t.every(function(v){var g=e5(v,n),w=yd(g,1),N=w[0],S=t5(v,r,i),k=yd(S,1),j=k[0],O=x?x(v):null;return N&&j&&!O})}function _h(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function s0(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function p3(e){e.preventDefault()}function zB(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function qB(e){return e.indexOf("Edge/")!==-1}function WB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return zB(e)||qB(e)}function Si(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),d=1;d<i;d++)o[d-1]=arguments[d];return t.some(function(x){return!_h(r)&&x&&x.apply(void 0,[r].concat(o)),_h(r)})}}function HB(){return"showOpenFilePicker"in window}function VB(e){if($o(e)){var t=Object.entries(e).filter(function(n){var r=yd(n,2),i=r[0],o=r[1],d=!0;return n5(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(o)||!o.every(r5))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(n,r){var i=yd(r,2),o=i[0],d=i[1];return d3(d3({},n),{},ZE({},o,d))},{});return[{description:"Files",accept:t}]}return e}function YB(e){if($o(e))return Object.entries(e).reduce(function(t,n){var r=yd(n,2),i=r[0],o=r[1];return[].concat(c3(t),[i],c3(o))},[]).filter(function(t){return n5(t)||r5(t)}).join(",")}function $B(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function GB(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function n5(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function r5(e){return/^.*\.[\w]+$/.test(e)}var XB=["children"],QB=["open"],KB=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ZB=["refKey","onChange","onClick"];function JB(e){return nU(e)||tU(e)||s5(e)||eU()}function eU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nU(e){if(Array.isArray(e))return Ux(e)}function hm(e,t){return iU(e)||sU(e,t)||s5(e,t)||rU()}function rU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s5(e,t){if(e){if(typeof e=="string")return Ux(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ux(e,t)}}function Ux(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,d,x;try{for(n=n.call(e);!(i=(d=n.next()).done)&&(r.push(d.value),!(t&&r.length===t));i=!0);}catch(v){o=!0,x=v}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw x}}return r}}function iU(e){if(Array.isArray(e))return e}function m3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(n),!0).forEach(function(r){zx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jh(e,t){if(e==null)return{};var n=aU(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var _2=M.forwardRef(function(e,t){var n=e.children,r=jh(e,XB),i=Rd(r),o=i.open,d=jh(i,QB);return M.useImperativeHandle(t,function(){return{open:o}},[o]),fe.createElement(M.Fragment,null,n(kn(kn({},d),{},{open:o})))});_2.displayName="Dropzone";var i5={disabled:!1,getFilesFromEvent:vB,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};_2.defaultProps=i5;_2.propTypes={children:ae.func,accept:ae.objectOf(ae.arrayOf(ae.string)),multiple:ae.bool,preventDropOnDocument:ae.bool,noClick:ae.bool,noKeyboard:ae.bool,noDrag:ae.bool,noDragEventsBubbling:ae.bool,minSize:ae.number,maxSize:ae.number,maxFiles:ae.number,disabled:ae.bool,getFilesFromEvent:ae.func,onFileDialogCancel:ae.func,onFileDialogOpen:ae.func,useFsAccessApi:ae.bool,autoFocus:ae.bool,onDragEnter:ae.func,onDragLeave:ae.func,onDragOver:ae.func,onDrop:ae.func,onDropAccepted:ae.func,onDropRejected:ae.func,onError:ae.func,validator:ae.func};var qx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Rd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=kn(kn({},i5),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,d=t.minSize,x=t.multiple,v=t.maxFiles,g=t.onDragEnter,w=t.onDragLeave,N=t.onDragOver,S=t.onDrop,k=t.onDropAccepted,j=t.onDropRejected,O=t.onFileDialogCancel,L=t.onFileDialogOpen,T=t.useFsAccessApi,A=t.autoFocus,I=t.preventDropOnDocument,q=t.noClick,X=t.noKeyboard,F=t.noDrag,R=t.noDragEventsBubbling,H=t.onError,V=t.validator,te=M.useMemo(function(){return YB(n)},[n]),de=M.useMemo(function(){return VB(n)},[n]),re=M.useMemo(function(){return typeof L=="function"?L:x3},[L]),ee=M.useMemo(function(){return typeof O=="function"?O:x3},[O]),Ne=M.useRef(null),se=M.useRef(null),oe=M.useReducer(oU,qx),xe=hm(oe,2),ue=xe[0],ge=xe[1],Le=ue.isFocused,Ve=ue.isFileDialogActive,nt=M.useRef(typeof window<"u"&&window.isSecureContext&&T&&HB()),ke=function(){!nt.current&&Ve&&setTimeout(function(){if(se.current){var et=se.current.files;et.length||(ge({type:"closeDialog"}),ee())}},300)};M.useEffect(function(){return window.addEventListener("focus",ke,!1),function(){window.removeEventListener("focus",ke,!1)}},[se,Ve,ee,nt]);var Xe=M.useRef([]),it=function(et){Ne.current&&Ne.current.contains(et.target)||(et.preventDefault(),Xe.current=[])};M.useEffect(function(){return I&&(document.addEventListener("dragover",p3,!1),document.addEventListener("drop",it,!1)),function(){I&&(document.removeEventListener("dragover",p3),document.removeEventListener("drop",it))}},[Ne,I]),M.useEffect(function(){return!r&&A&&Ne.current&&Ne.current.focus(),function(){}},[Ne,A,r]);var je=M.useCallback(function(Pe){H?H(Pe):console.error(Pe)},[H]),Ie=M.useCallback(function(Pe){Pe.preventDefault(),Pe.persist(),Fe(Pe),Xe.current=[].concat(JB(Xe.current),[Pe.target]),s0(Pe)&&Promise.resolve(i(Pe)).then(function(et){if(!(_h(Pe)&&!R)){var Ot=et.length,ln=Ot>0&&UB({files:et,accept:te,minSize:d,maxSize:o,multiple:x,maxFiles:v,validator:V}),Jt=Ot>0&&!ln;ge({isDragAccept:ln,isDragReject:Jt,isDragActive:!0,type:"setDraggedFiles"}),g&&g(Pe)}}).catch(function(et){return je(et)})},[i,g,je,R,te,d,o,x,v,V]),at=M.useCallback(function(Pe){Pe.preventDefault(),Pe.persist(),Fe(Pe);var et=s0(Pe);if(et&&Pe.dataTransfer)try{Pe.dataTransfer.dropEffect="copy"}catch{}return et&&N&&N(Pe),!1},[N,R]),Yt=M.useCallback(function(Pe){Pe.preventDefault(),Pe.persist(),Fe(Pe);var et=Xe.current.filter(function(ln){return Ne.current&&Ne.current.contains(ln)}),Ot=et.indexOf(Pe.target);Ot!==-1&&et.splice(Ot,1),Xe.current=et,!(et.length>0)&&(ge({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),s0(Pe)&&w&&w(Pe))},[Ne,w,R]),Zt=M.useCallback(function(Pe,et){var Ot=[],ln=[];Pe.forEach(function(Jt){var pn=e5(Jt,te),os=hm(pn,2),As=os[0],zi=os[1],on=t5(Jt,d,o),Me=hm(on,2),cn=Me[0],Dt=Me[1],Gt=V?V(Jt):null;if(As&&cn&&!Gt)Ot.push(Jt);else{var Ks=[zi,Dt];Gt&&(Ks=Ks.concat(Gt)),ln.push({file:Jt,errors:Ks.filter(function(Co){return Co})})}}),(!x&&Ot.length>1||x&&v>=1&&Ot.length>v)&&(Ot.forEach(function(Jt){ln.push({file:Jt,errors:[BB]})}),Ot.splice(0)),ge({acceptedFiles:Ot,fileRejections:ln,isDragReject:ln.length>0,type:"setFiles"}),S&&S(Ot,ln,et),ln.length>0&&j&&j(ln,et),Ot.length>0&&k&&k(Ot,et)},[ge,x,te,d,o,v,S,k,j,V]),$t=M.useCallback(function(Pe){Pe.preventDefault(),Pe.persist(),Fe(Pe),Xe.current=[],s0(Pe)&&Promise.resolve(i(Pe)).then(function(et){_h(Pe)&&!R||Zt(et,Pe)}).catch(function(et){return je(et)}),ge({type:"reset"})},[i,Zt,je,R]),Ht=M.useCallback(function(){if(nt.current){ge({type:"openDialog"}),re();var Pe={multiple:x,types:de};window.showOpenFilePicker(Pe).then(function(et){return i(et)}).then(function(et){Zt(et,null),ge({type:"closeDialog"})}).catch(function(et){$B(et)?(ee(et),ge({type:"closeDialog"})):GB(et)?(nt.current=!1,se.current?(se.current.value=null,se.current.click()):je(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):je(et)});return}se.current&&(ge({type:"openDialog"}),re(),se.current.value=null,se.current.click())},[ge,re,ee,T,Zt,je,de,x]),Ee=M.useCallback(function(Pe){!Ne.current||!Ne.current.isEqualNode(Pe.target)||(Pe.key===" "||Pe.key==="Enter"||Pe.keyCode===32||Pe.keyCode===13)&&(Pe.preventDefault(),Ht())},[Ne,Ht]),Ke=M.useCallback(function(){ge({type:"focus"})},[]),Rt=M.useCallback(function(){ge({type:"blur"})},[]),we=M.useCallback(function(){q||(WB()?setTimeout(Ht,0):Ht())},[q,Ht]),Ae=function(et){return r?null:et},ze=function(et){return X?null:Ae(et)},Qe=function(et){return F?null:Ae(et)},Fe=function(et){R&&et.stopPropagation()},Te=M.useMemo(function(){return function(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=Pe.refKey,Ot=et===void 0?"ref":et,ln=Pe.role,Jt=Pe.onKeyDown,pn=Pe.onFocus,os=Pe.onBlur,As=Pe.onClick,zi=Pe.onDragEnter,on=Pe.onDragOver,Me=Pe.onDragLeave,cn=Pe.onDrop,Dt=jh(Pe,KB);return kn(kn(zx({onKeyDown:ze(Si(Jt,Ee)),onFocus:ze(Si(pn,Ke)),onBlur:ze(Si(os,Rt)),onClick:Ae(Si(As,we)),onDragEnter:Qe(Si(zi,Ie)),onDragOver:Qe(Si(on,at)),onDragLeave:Qe(Si(Me,Yt)),onDrop:Qe(Si(cn,$t)),role:typeof ln=="string"&&ln!==""?ln:"presentation"},Ot,Ne),!r&&!X?{tabIndex:0}:{}),Dt)}},[Ne,Ee,Ke,Rt,we,Ie,at,Yt,$t,X,F,r]),yn=M.useCallback(function(Pe){Pe.stopPropagation()},[]),Qn=M.useMemo(function(){return function(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=Pe.refKey,Ot=et===void 0?"ref":et,ln=Pe.onChange,Jt=Pe.onClick,pn=jh(Pe,ZB),os=zx({accept:te,multiple:x,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ae(Si(ln,$t)),onClick:Ae(Si(Jt,yn)),tabIndex:-1},Ot,se);return kn(kn({},os),pn)}},[se,n,x,$t,r]);return kn(kn({},ue),{},{isFocused:Le&&!r,getRootProps:Te,getInputProps:Qn,rootRef:Ne,inputRef:se,open:Ae(Ht)})}function oU(e,t){switch(t.type){case"focus":return kn(kn({},e),{},{isFocused:!0});case"blur":return kn(kn({},e),{},{isFocused:!1});case"openDialog":return kn(kn({},qx),{},{isFileDialogActive:!0});case"closeDialog":return kn(kn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return kn(kn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return kn(kn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return kn({},qx);default:return e}}function x3(){}const lU=async(e="csv",t={})=>{try{const n={format:e};return Object.entries(t).forEach(([i,o])=>{i==="selectedIds"&&Array.isArray(o)&&o.length>0?n.selectedIds=JSON.stringify(o):n[i]=o}),console.log("Export params:",n),(await ht.get("/api/import-export/export",{params:n,responseType:"blob"})).data}catch(n){throw console.error("Error exporting equipment:",n),n}},cU=async(e,t={})=>{try{const n=new FormData;return n.append("file",e),Object.entries(t).forEach(([i,o])=>{n.append(i,o)}),(await ht.post("/api/import-export/import",n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error importing equipment:",n),n}},uU=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)},dU=({isOpen:e,onClose:t,filters:n={},selectedItems:r=[]})=>{const[i,o]=M.useState("export"),[d,x]=M.useState("csv"),[v,g]=M.useState(!1),[w,N]=M.useState(!1),[S,k]=M.useState(null),[j,O]=M.useState(!0),[L,T]=M.useState(null),[A,I]=M.useState(""),{user:q}=lr(),X=jn(),F=q&&(q.role==="admin"||q.role==="advanced"),{getRootProps:R,getInputProps:H,isDragActive:V}=Rd({onDrop:re=>{re.length>0&&(k(re[0]),I(""))},accept:{"text/csv":[".csv"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/json":[".json"]},maxFiles:1}),te=async()=>{try{N(!0),I("");const re=new Date().toISOString().split("T")[0],ee={...n};v&&r.length>0&&(ee.selectedIds=r);const Ne=await lU(d,ee);let se;const oe=v&&r.length>0?`equipment_selected_${r.length}_items_${re}`:`equipment_export_${re}`;switch(d){case"csv":se=`${oe}.csv`;break;case"xlsx":se=`${oe}.xlsx`;break;case"json":se=`${oe}.json`;break;default:se=oe}uU(Ne,se),N(!1)}catch(re){console.error("Export error:",re),I("Failed to export data. Please try again."),N(!1)}},de=async()=>{if(!S){I("Please select a file to import");return}try{N(!0),I(""),T(null);const re=await cU(S,{updateExisting:j});T(re.results),X.invalidateQueries(["equipment"]),N(!1),k(null),re.results.errors.length===0&&setTimeout(()=>{t()},3e3)}catch(re){console.error("Import error:",re),I("Failed to import data. Please check your file and try again."),N(!1)}};return!e||!F?null:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Import/Export Equipment"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"flex border-b",children:[a.jsx("button",{className:`px-4 py-2 ${i==="export"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>o("export"),children:"Export"}),a.jsx("button",{className:`px-4 py-2 ${i==="import"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>o("import"),children:"Import"})]}),a.jsx("div",{className:"p-4",children:i==="export"?a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Format"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"csv",checked:d==="csv",onChange:()=>x("csv")}),a.jsx("span",{className:"ml-2",children:"CSV"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"xlsx",checked:d==="xlsx",onChange:()=>x("xlsx")}),a.jsx("span",{className:"ml-2",children:"Excel (XLSX)"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"json",checked:d==="json",onChange:()=>x("json")}),a.jsx("span",{className:"ml-2",children:"JSON"})]})]})]}),r.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Scope"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:!v,onChange:()=>g(!1)}),a.jsx("span",{className:"ml-2",children:"All equipment (with filters)"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:v,onChange:()=>g(!0)}),a.jsxs("span",{className:"ml-2",children:["Selected items only (",r.length,")"]})]})]})]}),a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-sm text-gray-600",children:v&&r.length>0?`This will export ${r.length} selected equipment items.`:"This will export all equipment data based on your current filters."})}),A&&a.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:A}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:t,disabled:w,className:"btn btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:te,disabled:w,className:`btn ${w?"bg-blue-400":"btn-primary"}`,children:w?a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):"Export"})]})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload File"}),a.jsxs("div",{...R(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${V?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[a.jsx("input",{...H()}),S?a.jsxs("div",{children:[a.jsxs("p",{className:"text-green-600",children:["File selected: ",S.name]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[(S.size/1024).toFixed(2)," KB"]})]}):V?a.jsx("p",{className:"text-blue-500",children:"Drop the file here..."}):a.jsxs("div",{children:[a.jsx("p",{className:"mb-2",children:"Drag & drop a file here, or click to select a file"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Accepted file types: CSV, XLSX, JSON"})]})]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox",checked:j,onChange:re=>O(re.target.checked)}),a.jsx("span",{className:"ml-2",children:"Update existing equipment if found"})]})}),A&&a.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:A}),L&&a.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded",children:[a.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Import Results"}),a.jsxs("ul",{className:"text-sm text-green-700",children:[a.jsxs("li",{children:["Total records processed: ",L.total]}),a.jsxs("li",{children:["New records created: ",L.created]}),a.jsxs("li",{children:["Existing records updated: ",L.updated]}),a.jsxs("li",{children:["Errors: ",L.errors.length]})]}),L.errors.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("h4",{className:"font-medium text-red-800",children:"Errors:"}),a.jsx("ul",{className:"text-sm text-red-700 mt-1 max-h-32 overflow-y-auto",children:L.errors.map((re,ee)=>a.jsxs("li",{children:[re.record.serial_number||re.record.id||`Row ${ee+1}`,": ",re.error]},ee))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:t,disabled:w,className:"btn btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:de,disabled:w||!S,className:`btn ${w?"bg-blue-400":"btn-primary"}`,children:w?a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):"Import"})]})]})})]})})},fU=()=>{var Qe;const e=Gr(),t=M.useRef(null),[n]=M.useState(20),[r,i]=M.useState({type:"",brand:"",status:"",location_id:"",search:""}),[o,d]=M.useState([]),[x,v]=M.useState(!1),[g,w]=M.useState("updated_at"),[N,S]=M.useState("desc"),[k,j]=M.useState("list"),[O,L]=M.useState(!1);M.useEffect(()=>{const Fe=localStorage.getItem("equipmentViewMode");Fe&&j(Fe);const Te=localStorage.getItem("equipmentShowThumbnails");Te!==null&&L(Te==="true")},[]),M.useEffect(()=>{localStorage.setItem("equipmentViewMode",k)},[k]),M.useEffect(()=>{localStorage.setItem("equipmentShowThumbnails",O.toString())},[O]);const[T,A]=M.useState(!1),[I,q]=M.useState(!1),[X,F]=M.useState(!1),[R,H]=M.useState(!1),[V,te]=M.useState(!1),[de,re]=M.useState(!1),[ee,Ne]=M.useState(!1),[se,oe]=M.useState(!1),[xe,ue]=M.useState(null);M.useEffect(()=>{const Fe=Qn=>{const{id:Pe}=Qn.detail;ue(Pe),q(!0)},Te=Qn=>{const{id:Pe}=Qn.detail;ue(Pe),F(!0)},yn=Qn=>{const{id:Pe}=Qn.detail;ue(Pe),H(!0)};return document.addEventListener("batchDuplicate",Fe),document.addEventListener("batchStatusUpdate",Te),document.addEventListener("batchLocationChange",yn),()=>{document.removeEventListener("batchDuplicate",Fe),document.removeEventListener("batchStatusUpdate",Te),document.removeEventListener("batchLocationChange",yn)}},[]);const{data:ge,fetchNextPage:Le,hasNextPage:Ve,isFetchingNextPage:nt,isLoading:ke,isError:Xe,error:it}=Qg(["equipment",r,g,N],async({pageParam:Fe=1})=>{const Te={page:Fe,limit:n,...r,sortBy:g,sortOrder:N};return Ri(Te)},{getNextPageParam:Fe=>{if(Fe.page<Fe.totalPages)return Fe.page+1},keepPreviousData:!0}),{data:je}=pt({queryKey:["equipment-types"],queryFn:Bi,staleTime:3e5}),{data:Ie}=pt(["locations"],wo),at=(ge==null?void 0:ge.pages.flatMap(Fe=>Fe.equipment))||[];M.useEffect(()=>{const Fe=new IntersectionObserver(Te=>{Te[0].isIntersecting&&Ve&&!nt&&Le()},{threshold:.5});return t.current&&Fe.observe(t.current),()=>{t.current&&Fe.unobserve(t.current)}},[t,Le,Ve,nt]);const Yt=Fe=>{ue(Fe),A(!0)},Zt=()=>{A(!1),ue(null)},$t=()=>{q(!1),ue(null)},Ht=Fe=>{const{name:Te,value:yn}=Fe.target;i(Qn=>({...Qn,[Te]:yn}))},Ee=Fe=>{Fe.preventDefault()},Ke=Fe=>{g===Fe?S(Te=>Te==="asc"?"desc":"asc"):(w(Fe),S("desc"))},Rt=Fe=>{d(Te=>Te.includes(Fe)?Te.filter(yn=>yn!==Fe):[...Te,Fe])},we=()=>{if(x)d([]);else{const Fe=at.map(Te=>Te.id);d(Fe)}v(!x)},Ae=()=>{d([]),v(!1)},ze=(Fe,Te)=>{Te.target.type==="checkbox"||Te.target.closest("button")||Te.target.closest("a")||Te.target.closest(".btn-icon")||e(`/equipment/${Fe}`)};return ke?a.jsx("div",{className:"text-center py-10",children:"Loading..."}):Xe?a.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",it.message||"Failed to load equipment"]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(hB,{isOpen:T,onClose:Zt,equipmentId:xe}),a.jsx(pB,{isOpen:I,onClose:$t,equipmentId:xe,selectedItems:o}),a.jsx(WE,{isOpen:X,onClose:()=>F(!1),equipmentId:xe,selectedItems:o}),a.jsx(HE,{isOpen:R,onClose:()=>H(!1),equipmentId:xe,selectedItems:o}),a.jsx(VE,{isOpen:V,onClose:()=>te(!1),selectedItems:o}),a.jsx(YE,{isOpen:de,onClose:()=>re(!1),selectedItems:o}),a.jsx($E,{isOpen:ee,onClose:()=>Ne(!1),selectedItems:o}),a.jsx(dU,{isOpen:se,onClose:()=>oe(!1),filters:r,selectedItems:o}),a.jsx("div",{className:"card",children:a.jsxs("form",{onSubmit:Ee,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),a.jsxs("div",{className:"input-group",children:[a.jsx(s2,{className:"input-icon w-4 h-4"}),a.jsx("input",{type:"text",id:"search",name:"search",value:r.search,onChange:Ht,placeholder:"Search equipment...",className:"input input-with-icon"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"label",children:"Type"}),a.jsxs("select",{id:"type",name:"type",value:r.type,onChange:Ht,className:"input",children:[a.jsx("option",{value:"",children:"All Types"}),je!=null&&je.types&&je.types.length>0?je.types.map(Fe=>a.jsx("option",{value:Fe.name.toLowerCase(),children:Fe.name},Fe.id)):a.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"label",children:"Status"}),a.jsxs("select",{id:"status",name:"status",value:r.status,onChange:Ht,className:"input",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"in-use",children:"In Use"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"unavailable",children:"Unavailable"}),a.jsx("option",{value:"broken",children:"Broken"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),a.jsxs("select",{id:"location_id",name:"location_id",value:r.location_id,onChange:Ht,className:"input",children:[a.jsx("option",{value:"",children:"All Locations"}),(Qe=Ie==null?void 0:Ie.locations)==null?void 0:Qe.map(Fe=>a.jsx("option",{value:Fe.id.toString(),children:Fe.name},Fe.id))]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>{i({type:"",brand:"",status:"",location_id:"",search:""})},className:"btn btn-outline w-full",children:"Clear All Filters"})}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[a.jsx(i2,{className:"w-4 h-4"}),a.jsx("span",{children:"Apply Filters"})]})})]})}),a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"flex flex-col space-y-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mr-4",children:"Equipment List"}),a.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden mr-2",children:[a.jsx("button",{onClick:()=>j("list"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="list"?"bg-white text-primary-600 border-r border-slate-200 hover:bg-primary-50":"bg-white text-slate-600 border-r border-slate-200 hover:bg-slate-50"}`,title:"List view",children:a.jsx(Fc,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>j("card"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="card"?"bg-white text-primary-600 hover:bg-primary-50":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:a.jsx(Bc,{className:"h-4 w-4"})})]}),o.length>0&&a.jsx("div",{className:"ml-2",children:a.jsx(GE,{selectedItems:o,onBatchDuplicate:()=>q(!0),onBatchStatusUpdate:()=>F(!0),onBatchLocationChange:()=>H(!0),onBatchTypeChange:()=>te(!0),onBatchCategoryChange:()=>re(!0),onBatchBrandModelChange:()=>Ne(!0),onClearSelection:Ae})})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>oe(!0),className:"btn btn-secondary btn-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(yO,{className:"w-4 h-4 mr-1"}),a.jsx(wO,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:"Import/Export"})]})}),a.jsxs(Un,{to:"/equipment/new",className:"btn btn-primary btn-sm",children:[a.jsx(lp,{className:"w-4 h-4"}),a.jsx("span",{children:"Add New Equipment"})]})]})]})}),k==="card"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:at.length>0?at.map(Fe=>a.jsx(XE,{equipment:Fe,onDuplicate:Yt,onSelect:Rt,isSelected:o.includes(Fe.id)},Fe.id)):a.jsx("div",{className:"col-span-3 py-8 text-center text-gray-500",children:"No equipment found"})}),k==="list"&&a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell w-10",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("input",{type:"checkbox",checked:x,onChange:we,className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),a.jsx(qa,{field:"type",label:"Type",currentSortField:g,currentSortOrder:N,onSort:Ke}),a.jsx(qa,{field:"category",label:"Category",currentSortField:g,currentSortOrder:N,onSort:Ke}),a.jsx(qa,{field:"brand",label:"Brand",currentSortField:g,currentSortOrder:N,onSort:Ke}),a.jsx(qa,{field:"model",label:"Model",currentSortField:g,currentSortOrder:N,onSort:Ke}),a.jsx(qa,{field:"serial_number",label:"Serial Number",currentSortField:g,currentSortOrder:N,onSort:Ke}),a.jsx(qa,{field:"status",label:"Status",currentSortField:g,currentSortOrder:N,onSort:Ke}),a.jsx(qa,{field:"location",label:"Location",currentSortField:g,currentSortOrder:N,onSort:Ke}),a.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),a.jsx("tbody",{className:"table-body",children:at.length>0?at.map(Fe=>{var Te;return a.jsxs("tr",{className:`table-row ${o.includes(Fe.id)?"bg-blue-50":""} cursor-pointer hover:bg-slate-50`,onClick:yn=>ze(Fe.id,yn),children:[a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("input",{type:"checkbox",checked:o.includes(Fe.id),onChange:()=>Rt(Fe.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),a.jsx("td",{className:"table-cell",children:Fe.type}),a.jsx("td",{className:"table-cell",children:Fe.category||"-"}),a.jsx("td",{className:"table-cell",children:Fe.brand}),a.jsx("td",{className:"table-cell",children:Fe.model}),a.jsx("td",{className:"table-cell",children:Fe.serial_number}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`badge ${Fe.status==="available"?"badge-success":Fe.status==="in-use"?"badge-info":Fe.status==="maintenance"?"badge-warning":Fe.status==="unavailable"?"badge-secondary":Fe.status==="broken"?"badge-danger":"badge-secondary"}`,children:Fe.status})}),a.jsx("td",{className:"table-cell",children:((Te=Fe.locationDetails)==null?void 0:Te.name)||Fe.location||"-"}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"flex items-center justify-end",children:a.jsx(S2,{equipmentId:Fe.id,onBatchDuplicate:()=>{ue(Fe.id),q(!0)},onBatchStatusUpdate:()=>{ue(Fe.id),F(!0)},onBatchLocationChange:()=>{ue(Fe.id),H(!0)}})})})]},Fe.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-gray-500",children:"No equipment found"})})})]})}),a.jsx("div",{ref:t,className:"py-4 text-center",children:nt?a.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),a.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):Ve?a.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):a.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})]})},hU=async({page:e=1,limit:t=20,equipmentId:n,userId:r,actionType:i,search:o,type:d,status:x,location_id:v,sortBy:g="created_at",sortOrder:w="desc"})=>{const N={page:e,limit:t};return n&&(N.equipmentId=n),r&&(N.userId=r),i&&(N.actionType=i),o&&(N.search=o),d&&(N.type=d),x&&(N.status=x),v&&(N.location_id=v),g&&(N.sortBy=g),w&&(N.sortOrder=w),(await ht.get("/api/equipment-logs",{params:N})).data},pU=async(e,{page:t=1,limit:n=20}={})=>{const r={page:t,limit:n};return(await ht.get(`/api/equipment-logs/equipment/${e}`,{params:r})).data},a5=({equipmentId:e})=>{var w;const[t,n]=M.useState(1),[r]=M.useState(10),{data:i,isLoading:o,isError:d,error:x}=pt(["equipmentLogs",e,t,r],()=>pU(e,{page:t,limit:r}),{keepPreviousData:!0,enabled:!!e}),v=N=>N.split("_").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" "),g=N=>{n(N)};return o?a.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[a.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"text-slate-600",children:"Loading movement history..."})]}):d?a.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[a.jsx("div",{className:"bg-red-100 p-3 rounded-full mb-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("p",{className:"text-red-600 font-medium mb-1",children:"Error Loading Movement History"}),a.jsx("p",{className:"text-slate-500 text-sm",children:x.message||"Failed to load equipment logs"})]}):(w=i==null?void 0:i.logs)!=null&&w.length?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Date"]})}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"User"]})}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Action"]})}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Details"]})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:i.logs.map((N,S)=>{var k,j,O;return a.jsxs("tr",{className:`hover:bg-slate-50 ${S%2===0?"bg-white":"bg-slate-50/50"}`,children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium",children:xd(new Date(N.created_at),"MMM d, yyyy")}),a.jsx("span",{className:"ml-2 text-slate-500",children:xd(new Date(N.created_at),"h:mm a")})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 font-medium",children:(k=N.user)!=null&&k.username?N.user.username.charAt(0).toUpperCase():"?"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"text-sm font-medium text-slate-800",children:((j=N.user)==null?void 0:j.username)||"Unknown"}),a.jsx("div",{className:"text-xs text-slate-500 capitalize",children:((O=N.user)==null?void 0:O.role)||""})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`px-2.5 py-1.5 inline-flex text-xs leading-5 font-semibold rounded-full
                    ${N.action_type==="created"?"bg-green-100 text-green-800":N.action_type==="updated"?"bg-blue-100 text-blue-800":N.action_type==="deleted"?"bg-red-100 text-red-800":N.action_type==="status_change"?"bg-yellow-100 text-yellow-800":N.action_type==="location_change"?"bg-indigo-100 text-indigo-800":"bg-slate-100 text-slate-800"}`,children:[N.action_type==="created"&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),N.action_type==="updated"&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),N.action_type==="deleted"&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),N.action_type==="status_change"&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),N.action_type==="location_change"&&a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),v(N.action_type)]})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[N.action_type==="status_change"&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium text-slate-700",children:"Status:"}),a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:N.previous_status}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:N.new_status})]}),N.action_type==="location_change"&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium text-slate-700",children:"Location:"}),a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:N.previous_location||"None"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:N.new_location||"None"})]}),N.details&&a.jsx("div",{className:"mt-2 text-slate-600",children:N.details})]})]},N.id)})})]})}),i.totalPages>1&&a.jsxs("div",{className:"flex justify-between items-center mt-4 px-2",children:[a.jsxs("div",{className:"text-sm text-slate-600 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Showing ",a.jsx("span",{className:"font-medium text-slate-800 mx-1",children:(t-1)*r+1})," to"," ",a.jsx("span",{className:"font-medium text-slate-800 mx-1",children:Math.min(t*r,i.total)})," of"," ",a.jsx("span",{className:"font-medium text-slate-800 mx-1",children:i.total})," logs"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>g(t-1),disabled:t===1,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${t===1?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-1 ${t===1?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),a.jsxs("button",{onClick:()=>g(t+1),disabled:t===i.totalPages,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${t===i.totalPages?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:["Next",a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ml-1 ${t===i.totalPages?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}):a.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[a.jsx("div",{className:"bg-slate-100 p-3 rounded-full mb-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("p",{className:"text-slate-600 font-medium",children:"No movement history found"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"This equipment has no recorded movements or status changes"})]})},o5=({isOpen:e,title:t="Confirm Action",message:n="Are you sure you want to proceed?",confirmText:r="Confirm",cancelText:i="Cancel",onConfirm:o,onCancel:d,isDestructive:x=!1})=>e?a.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-soft max-w-md w-full p-6 animate-fade-in",children:[a.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:t}),a.jsx("p",{className:"text-slate-600 mb-6",children:n}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(Se,{variant:"secondary",onClick:d,children:i}),a.jsx(Se,{variant:x?"danger":"primary",onClick:o,children:r})]})]})}):null;o5.propTypes={isOpen:ae.bool.isRequired,title:ae.string,message:ae.string,confirmText:ae.string,cancelText:ae.string,onConfirm:ae.func.isRequired,onCancel:ae.func.isRequired,isDestructive:ae.bool};const j2=({onImageSelect:e,existingImage:t=null,onImageDelete:n})=>{const[r,i]=M.useState(null),[o,d]=M.useState(null);M.useEffect(()=>{d(t?`/api/files/${t.id}?thumbnail=true`:null)},[t]),M.useEffect(()=>()=>{o&&!o.startsWith("/api/files/")&&URL.revokeObjectURL(o)},[o]);const x=M.useCallback(k=>{if(k.length>0){const j=k[0];if(j.size>10*1024*1024){alert("Image is too large. Maximum size is 10MB.");return}i(j),d(URL.createObjectURL(j)),e(j)}},[e]),v=()=>{i(null),o&&!o.startsWith("/api/files/")&&URL.revokeObjectURL(o),d(null),e(null)},g=()=>{n&&t&&(n(t.id),d(null))},{getRootProps:w,getInputProps:N,isDragActive:S}=Rd({onDrop:x,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxFiles:1,multiple:!1});return a.jsx("div",{children:o?a.jsx("div",{className:"mt-4",children:a.jsxs("div",{className:"bg-slate-50 p-4 rounded-md border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),a.jsx("span",{className:"text-sm font-medium",children:t?t.file_name:(r==null?void 0:r.name)||"Reference Image"})]}),a.jsx("button",{type:"button",onClick:t?g:v,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a.jsx("div",{className:"mt-2 flex justify-center",style:{height:"200px"},children:a.jsx("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden bg-slate-100 rounded-md",children:a.jsx("img",{src:o,alt:"Reference Image Preview",className:"rounded-md max-h-full max-w-full",style:{objectFit:"contain",objectPosition:"center"},onError:k=>{console.error("Error loading image:",k),k.target.src="/placeholder-image.png",k.target.onerror=null}})})})]})}):a.jsxs("div",{...w(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${S?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[a.jsx("input",{...N()}),S?a.jsx("p",{className:"text-primary-500",children:"Drop the image here..."}):a.jsxs("div",{children:[a.jsx("p",{className:"mb-2",children:"Drag & drop a reference image here, or click to select"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Accepted file types: JPEG, PNG (Max: 10MB)"})]})]})})};j2.propTypes={onImageSelect:ae.func.isRequired,existingImage:ae.object,onImageDelete:ae.func};const A2=({isOpen:e,onClose:t,equipmentId:n,existingImage:r=null})=>{const[i,o]=M.useState(null),[d,x]=M.useState(!1),[v,g]=M.useState(""),w=jn(),N=O=>{o(O)},S=Ut({mutationFn:async O=>qN(n,{},[],[],O.referenceImageFile,O.removeReferenceImage),onSuccess:()=>{w.invalidateQueries(["equipment",n]),t()},onError:O=>{var L,T;console.error("Error updating reference image:",O),g(((T=(L=O.response)==null?void 0:L.data)==null?void 0:T.message)||"Failed to update reference image"),x(!1)}}),k=O=>{if(O.preventDefault(),!i){g("Please select an image file");return}x(!0),g(""),S.mutate({referenceImageFile:i})},j=()=>{x(!0),g(""),S.mutate({referenceImageFile:null,removeReferenceImage:!0})};return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:a.jsx("div",{className:"absolute inset-0 bg-slate-500 opacity-75"})}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),a.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:a.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:a.jsx("div",{className:"sm:flex sm:items-start",children:a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-slate-900 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Change Reference Image"]}),a.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"This image will be displayed prominently on the equipment details page and in search results."}),a.jsxs("div",{className:"mt-4",children:[v&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:a.jsx("p",{className:"text-red-700",children:v})}),a.jsxs("form",{onSubmit:k,children:[a.jsx("div",{className:"mb-4",children:a.jsx(j2,{onImageSelect:N,existingImage:r})}),a.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[a.jsx(Se,{type:"submit",variant:"primary",disabled:d||!i,className:"w-full sm:ml-3 sm:w-auto",children:d?"Saving...":"Save Changes"}),a.jsx(Se,{type:"button",variant:"secondary",onClick:t,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"}),r&&a.jsx(Se,{type:"button",variant:"danger",onClick:j,className:"mt-3 w-full sm:mt-0 sm:mr-auto sm:w-auto",children:"Remove Image"})]})]})]})]})})})})]})}):null};A2.propTypes={isOpen:ae.bool.isRequired,onClose:ae.func.isRequired,equipmentId:ae.string.isRequired,existingImage:ae.object};const Wx=({fileType:e,fileUrl:t,fileName:n,className:r="",style:i={},showFileName:o=!0,size:d="medium",interactive:x=!0,useThumbnail:v=!0})=>{const[g,w]=M.useState(!0),[N,S]=M.useState(null),[k,j]=M.useState(!1),O=()=>{switch(d){case"small":return"h-24";case"large":return"h-48";case"medium":default:return"h-32"}},L=()=>{console.log("Image loaded successfully"),w(!1)},T=()=>{console.error("Image failed to load completely"),w(!1),S("Failed to load image")};M.useEffect(()=>{if(g&&e==="image"){const X=setTimeout(()=>{console.log("Loading timeout reached, resetting loading state"),w(!1)},5e3);return()=>clearTimeout(X)}},[g,e]),M.useEffect(()=>{!t&&e==="image"&&(console.log("No file URL provided, showing error state"),w(!1),S("No image available"))},[t,e]);const A=()=>{x&&e==="image"&&j(!k)},I=()=>{switch(e){case"image":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"pdf":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},q=()=>{if(g&&e==="image")return a.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{className:"text-slate-400 text-xs",children:"Loading..."})]})});if(N)return a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-red-50",children:a.jsxs("div",{className:"flex flex-col items-center p-2",children:[a.jsx("svg",{className:"w-8 h-8 text-red-500 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("span",{className:"text-red-500 text-xs text-center",children:N})]})});switch(e){case"image":if(!t)return console.error("No file URL provided for image"),a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-100",children:a.jsxs("div",{className:"flex flex-col items-center p-2",children:[a.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("span",{className:"text-slate-400 text-xs text-center",children:"No image"})]})});const X=new Date().getTime();let F=t;return F.includes("t=")||(F+=(F.includes("?")?"&":"?")+`t=${X}`),a.jsx("div",{className:`w-full h-full flex items-center justify-center overflow-hidden ${x?"cursor-pointer":""}`,onClick:A,children:a.jsx("img",{src:F,alt:n||"Image preview",className:`max-h-full max-w-full object-contain transition-transform duration-300 ${k?"scale-150":""}`,onLoad:R=>{console.log("Image loaded successfully:",F),L()},onError:R=>{console.error("Image failed to load:",F);const H=R.target;if(t.includes("thumbnail=true")){console.log("Thumbnail failed to load, trying original image");const te=`${t.split("?")[0]}?t=${new Date().getTime()}`;console.log("Trying with URL:",te),H.src=te}else{console.log("Original image failed to load, trying with new cache busting");const V=t.includes("?")?`${t.split("?")[0]}?t=${new Date().getTime()}`:`${t}?t=${new Date().getTime()}`;console.log("Trying with URL:",V),H.src=V,H.dataset.retried?(console.error("Multiple load attempts failed, showing error"),T()):H.dataset.retried="true"}}},`img-${F}`)});case"audio":return a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:[a.jsx("div",{className:"mb-2",children:I()}),x?a.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[a.jsx("source",{src:t,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):a.jsx("div",{className:"text-sm text-slate-500",children:"Audio file"})]});case"pdf":return a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[a.jsx("div",{className:"mb-2",children:I()}),x?a.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 text-sm underline",children:"View PDF"}):a.jsx("div",{className:"text-sm text-slate-500",children:"PDF document"})]});default:return a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:I()})}};return a.jsxs("div",{className:`bg-slate-100 rounded-md overflow-hidden ${O()} ${r}`,style:i,children:[q(),o&&n&&a.jsx("div",{className:"bg-slate-800 bg-opacity-70 text-white text-xs py-1 px-2 absolute bottom-0 left-0 right-0 truncate",children:n})]})};Wx.propTypes={fileType:ae.oneOf(["image","audio","pdf"]).isRequired,fileUrl:ae.string.isRequired,fileName:ae.string,className:ae.string,style:ae.object,showFileName:ae.bool,size:ae.oneOf(["small","medium","large"]),interactive:ae.bool,useThumbnail:ae.bool};const k2=({files:e=[],onFileDelete:t,canDelete:n=!1,showDownload:r=!0,layout:i="grid",size:o="medium"})=>{const[d,x]=M.useState(null),v=j=>{x(j)},g=()=>{x(null)},w=(j,O=!1,L=!1)=>{let T=`/api/files/${j}`;const A=[];return O&&A.push("download=true"),L&&A.push("thumbnail=true"),A.length>0&&(T+=`?${A.join("&")}`),T},N=()=>d?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:g,children:a.jsxs("div",{className:"bg-white rounded-lg overflow-hidden max-w-3xl w-full max-h-[90vh] flex flex-col",onClick:j=>j.stopPropagation(),children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900",children:d.file_name}),a.jsx("button",{type:"button",onClick:g,className:"text-slate-400 hover:text-slate-500",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center",children:d.file_type==="image"?a.jsx("img",{src:w(d.id),alt:d.file_name,className:"max-w-full max-h-[70vh] object-contain",onError:j=>{console.error("Error loading image in modal:",j),j.target.src=`${w(d.id)}?t=${new Date().getTime()}`}}):d.file_type==="audio"?a.jsxs("div",{className:"w-full max-w-md p-4",children:[a.jsx("div",{className:"mb-4 text-center",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})})}),a.jsxs("audio",{controls:!0,className:"w-full",children:[a.jsx("source",{src:w(d.id),type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):d.file_type==="pdf"?a.jsx("div",{className:"w-full h-[70vh]",children:a.jsx("iframe",{src:`${w(d.id)}#view=FitH`,title:d.file_name,className:"w-full h-full"})}):a.jsx("div",{className:"text-center p-4",children:a.jsx("p",{children:"This file type cannot be previewed."})})}),a.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end space-x-2",children:[a.jsx("a",{href:w(d.id,!0),download:!0,className:"btn btn-secondary",children:"Download"}),n&&a.jsx("button",{type:"button",onClick:()=>{t(d.id),g()},className:"btn btn-danger",children:"Delete"})]})]})}):null,S=()=>a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(j=>a.jsxs("div",{className:"relative group",children:[a.jsxs("div",{className:"cursor-pointer rounded-lg overflow-hidden border border-slate-200 bg-white shadow-sm hover:shadow-md transition-shadow",onClick:()=>v(j),children:[a.jsx(Wx,{fileType:j.file_type,fileUrl:w(j.id,!1,j.file_type==="image"),fileName:j.file_name,size:o,interactive:!1,useThumbnail:j.file_type==="image"}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-sm font-medium truncate",title:j.file_name,children:j.file_name}),a.jsx("p",{className:"text-xs text-slate-500 capitalize",children:j.file_type})]})]}),a.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[r&&a.jsx("a",{href:w(j.id,!0),download:!0,onClick:O=>O.stopPropagation(),className:"bg-white p-1.5 rounded-full shadow-md text-primary-600 hover:text-primary-800",title:"Download file",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n&&a.jsx("button",{type:"button",onClick:O=>{O.stopPropagation(),t(j.id)},className:"bg-white p-1.5 rounded-full shadow-md text-red-600 hover:text-red-800",title:"Delete file",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},j.id))}),k=()=>a.jsx("div",{className:"divide-y divide-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:e.map(j=>a.jsxs("div",{className:"flex items-center p-3 hover:bg-slate-50 cursor-pointer",onClick:()=>v(j),children:[a.jsx("div",{className:"flex-shrink-0 mr-3 w-12 h-12 relative",children:a.jsx(Wx,{fileType:j.file_type,fileUrl:w(j.id,!1,j.file_type==="image"),fileName:j.file_name,size:"small",showFileName:!1,interactive:!1,useThumbnail:j.file_type==="image"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",title:j.file_name,children:j.file_name}),a.jsx("p",{className:"text-xs text-slate-500 capitalize",children:j.file_type})]}),a.jsxs("div",{className:"flex space-x-2 ml-2",children:[r&&a.jsx("a",{href:w(j.id,!0),download:!0,onClick:O=>O.stopPropagation(),className:"text-primary-600 hover:text-primary-800 p-1.5",title:"Download file",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n&&a.jsx("button",{type:"button",onClick:O=>{O.stopPropagation(),t(j.id)},className:"text-red-600 hover:text-red-800 p-1.5",title:"Delete file",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},j.id))});return e.length===0?a.jsx("p",{className:"text-slate-500 italic",children:"No files available"}):a.jsxs("div",{children:[i==="grid"?S():k(),N()]})};k2.propTypes={files:ae.arrayOf(ae.shape({id:ae.number.isRequired,file_type:ae.string.isRequired,file_name:ae.string.isRequired})).isRequired,onFileDelete:ae.func,canDelete:ae.bool,showDownload:ae.bool,layout:ae.oneOf(["grid","list"]),size:ae.oneOf(["small","medium","large"])};const mU=async(e,t,n)=>{try{const r=new FormData;for(const o of t)r.append("files",o);return(await ht.post(`/api/files/upload/${e}`,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n?o=>{const d=Math.round(o.loaded*100/o.total);n(d)}:void 0})).data}catch(r){throw console.error("Error uploading files:",r),r}};let xU={data:""},gU=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||xU,vU=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yU=/\/\*[^]*?\*\/|  +/g,g3=/\n+/g,Ga=(e,t)=>{let n="",r="",i="";for(let o in e){let d=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+d+";":r+=o[1]=="f"?Ga(d,o):o+"{"+Ga(d,o[1]=="k"?"":t)+"}":typeof d=="object"?r+=Ga(d,t?t.replace(/([^,])+/g,x=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,v=>/&/.test(v)?v.replace(/&/g,x):x?x+" "+v:v)):o):d!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ga.p?Ga.p(o,d):o+":"+d+";")}return n+(t&&i?t+"{"+i+"}":i)+r},sa={},l5=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+l5(e[n]);return t}return e},wU=(e,t,n,r,i)=>{let o=l5(e),d=sa[o]||(sa[o]=(v=>{let g=0,w=11;for(;g<v.length;)w=101*w+v.charCodeAt(g++)>>>0;return"go"+w})(o));if(!sa[d]){let v=o!==e?e:(g=>{let w,N,S=[{}];for(;w=vU.exec(g.replace(yU,""));)w[4]?S.shift():w[3]?(N=w[3].replace(g3," ").trim(),S.unshift(S[0][N]=S[0][N]||{})):S[0][w[1]]=w[2].replace(g3," ").trim();return S[0]})(e);sa[d]=Ga(i?{["@keyframes "+d]:v}:v,n?"":"."+d)}let x=n&&sa.g?sa.g:null;return n&&(sa.g=sa[d]),((v,g,w,N)=>{N?g.data=g.data.replace(N,v):g.data.indexOf(v)===-1&&(g.data=w?v+g.data:g.data+v)})(sa[d],t,r,x),d},bU=(e,t,n)=>e.reduce((r,i,o)=>{let d=t[o];if(d&&d.call){let x=d(n),v=x&&x.props&&x.props.className||/^go/.test(x)&&x;d=v?"."+v:x&&typeof x=="object"?x.props?"":Ga(x,""):x===!1?"":x}return r+i+(d??"")},"");function vp(e){let t=this||{},n=e.call?e(t.p):e;return wU(n.unshift?n.raw?bU(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,gU(t.target),t.g,t.o,t.k)}let c5,Hx,Vx;vp.bind({g:1});let Na=vp.bind({k:1});function CU(e,t,n,r){Ga.p=t,c5=e,Hx=n,Vx=r}function bo(e,t){let n=this||{};return function(){let r=arguments;function i(o,d){let x=Object.assign({},o),v=x.className||i.className;n.p=Object.assign({theme:Hx&&Hx()},x),n.o=/ *go\d+/.test(v),x.className=vp.apply(n,r)+(v?" "+v:""),t&&(x.ref=d);let g=e;return e[0]&&(g=x.as||e,delete x.as),Vx&&g[0]&&Vx(x),c5(g,x)}return t?t(i):i}}var NU=e=>typeof e=="function",Yx=(e,t)=>NU(e)?e(t):e,EU=(()=>{let e=0;return()=>(++e).toString()})(),SU=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),_U=20,u5=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,_U)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return u5(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},jU=[],pm={toasts:[],pausedAt:void 0},T2=e=>{pm=u5(pm,e),jU.forEach(t=>{t(pm)})},AU=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||EU()}),Od=e=>(t,n)=>{let r=AU(t,e,n);return T2({type:2,toast:r}),r.id},Nt=(e,t)=>Od("blank")(e,t);Nt.error=Od("error");Nt.success=Od("success");Nt.loading=Od("loading");Nt.custom=Od("custom");Nt.dismiss=e=>{T2({type:3,toastId:e})};Nt.remove=e=>T2({type:4,toastId:e});Nt.promise=(e,t,n)=>{let r=Nt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?Yx(t.success,i):void 0;return o?Nt.success(o,{id:r,...n,...n==null?void 0:n.success}):Nt.dismiss(r),i}).catch(i=>{let o=t.error?Yx(t.error,i):void 0;o?Nt.error(o,{id:r,...n,...n==null?void 0:n.error}):Nt.dismiss(r)}),e};var kU=Na`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,TU=Na`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DU=Na`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,IU=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${TU} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${DU} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,RU=Na`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,OU=bo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${RU} 1s linear infinite;
`,MU=Na`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,LU=Na`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,PU=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${LU} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,FU=bo("div")`
  position: absolute;
`,BU=bo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,UU=Na`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zU=bo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${UU} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qU=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?M.createElement(zU,null,t):t:n==="blank"?null:M.createElement(BU,null,M.createElement(OU,{...r}),n!=="loading"&&M.createElement(FU,null,n==="error"?M.createElement(IU,{...r}):M.createElement(PU,{...r})))},WU=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,HU=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,VU="0%{opacity:0;} 100%{opacity:1;}",YU="0%{opacity:1;} 100%{opacity:0;}",$U=bo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,GU=bo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,XU=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=SU()?[VU,YU]:[WU(n),HU(n)];return{animation:t?`${Na(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Na(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};M.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?XU(e.position||t||"top-center",e.visible):{opacity:0},o=M.createElement(qU,{toast:e}),d=M.createElement(GU,{...e.ariaProps},Yx(e.message,e));return M.createElement($U,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:o,message:d}):M.createElement(M.Fragment,null,o,d))});CU(M.createElement);vp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const D2=({equipmentId:e,isOpen:t,onClose:n,onSuccess:r})=>{const[i,o]=M.useState([]),[d,x]=M.useState(!1),[v,g]=M.useState(0),[w,N]=M.useState([]),S=50*1024*1024,k=5,j=M.useCallback((F,R)=>{o(V=>[...V,...F]);const H=R.map(V=>V.file.size>S?`${V.file.name} is too large. Maximum file size is 50MB.`:`${V.file.name} is not a supported file type.`);H.length>0&&N(V=>[...V,...H])},[]),{getRootProps:O,getInputProps:L,isDragActive:T}=Rd({onDrop:j,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:k,maxSize:S}),A=F=>{o(R=>R.filter((H,V)=>V!==F))},I=()=>{o([]),N([])},q=F=>{switch(F){case"image/jpeg":case"image/png":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},X=async()=>{if(i.length===0){Nt.error("Please select at least one file to upload");return}x(!0),g(0);try{const F=await mU(e,i,R=>g(R));Nt.success(`Successfully uploaded ${F.files.length} files`),o([]),N([]),r&&r(F.files),n()}catch(F){console.error("Error uploading files:",F),Nt.error("Failed to upload files. Please try again.")}finally{x(!1)}};return t?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:a.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:a.jsx("div",{className:"sm:flex sm:items-start",children:a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Upload Documents"}),a.jsxs("div",{...O(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer mb-4 ${T?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[a.jsx("input",{...L()}),T?a.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):a.jsxs("div",{children:[a.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",k," files, ",Math.round(S/(1024*1024)),"MB each)"]})]})]}),w.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-red-500 mb-1",children:"Errors:"}),a.jsx("ul",{className:"text-sm text-red-500 list-disc pl-5",children:w.map((F,R)=>a.jsx("li",{children:F},R))})]}),i.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Selected Files:"}),a.jsx("button",{type:"button",onClick:I,className:"text-sm text-red-500 hover:text-red-700",children:"Clear All"})]}),a.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md overflow-hidden",children:i.map((F,R)=>a.jsxs("li",{className:"flex items-center justify-between p-3 hover:bg-slate-50",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-2",children:q(F.type)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium truncate max-w-xs",title:F.name,children:F.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:[(F.size/1024).toFixed(1)," KB"]})]})]}),a.jsx("button",{type:"button",onClick:()=>A(R),className:"text-red-500 hover:text-red-700",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},R))})]}),d&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${v}%`}})}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",v,"%"]})]})]})})}),a.jsxs("div",{className:"bg-slate-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a.jsx(Se,{variant:"primary",size:"sm",onClick:X,disabled:d||i.length===0,className:"w-full sm:w-auto sm:ml-3",children:d?"Uploading...":"Upload"}),a.jsx(Se,{variant:"outline",size:"sm",onClick:n,disabled:d,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})}):null};D2.propTypes={equipmentId:ae.number.isRequired,isOpen:ae.bool.isRequired,onClose:ae.func.isRequired,onSuccess:ae.func};const v3=(e,t=!1)=>`/api/files/${e}${t?"?thumbnail=true":""}`,QU=()=>{var re;const{id:e}=$h(),t=Gr(),n=jn(),{user:r}=lr(),[i,o]=M.useState(!1),[d,x]=M.useState(!1),[v,g]=M.useState(!1),[w,N]=M.useState("details"),[S,k]=M.useState("grid"),{data:j,isLoading:O,isError:L,error:T}=pt({queryKey:["equipment",e],queryFn:()=>op(e)}),A=Ut({mutationFn:()=>tO(e),onSuccess:()=>{n.invalidateQueries(["equipment"]),t("/equipment")}}),I=()=>{t(`/equipment/${e}/edit`)},q=ee=>{n.invalidateQueries(["equipment",e]),tt.success(`Successfully uploaded ${ee.length} file(s)`)},X=()=>{o(!0)},F=()=>{A.mutate(),o(!1)},R=()=>{o(!1)},H=()=>{t("/equipment")};if(O)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(L)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:(T==null?void 0:T.message)||"Failed to load equipment details"})}),a.jsx("div",{className:"mt-4",children:a.jsx(Se,{variant:"outline",size:"sm",onClick:H,children:"Back to Equipment List"})})]})]})})]});const V=ee=>{switch(ee){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";case"unavailable":return"secondary";case"broken":return"danger";default:return"secondary"}},te=j.reference_image_id?parseInt(j.reference_image_id):null,de=(re=j.files)==null?void 0:re.find(ee=>ee.id===te);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"}),a.jsxs("p",{className:"text-slate-500 text-sm",children:[j.brand," ",j.model,"  ",j.serial_number]})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(Se,{variant:"outline",onClick:H,className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to List"]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&a.jsxs(Se,{variant:"primary",onClick:I,className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(r==null?void 0:r.role)==="admin"&&a.jsxs(Se,{variant:"danger",onClick:X,className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex -mb-px",children:[a.jsxs("button",{type:"button",onClick:()=>N("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),a.jsxs("button",{type:"button",onClick:()=>N("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),a.jsxs("button",{type:"button",onClick:()=>N("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),a.jsxs("div",{className:"p-6",children:[w==="details"&&a.jsx("div",{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:a.jsx("div",{className:"md:col-span-1",children:a.jsxs(Re,{className:"h-full",children:[a.jsx(Re.Header,{className:"bg-slate-50",children:a.jsxs(Re.Title,{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),a.jsxs(Re.Body,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Category"}),a.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:j.category||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Type"}),a.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:j.type})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Brand"}),a.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:j.brand})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Model"}),a.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:j.model})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Serial Number"}),a.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:j.serial_number})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Status"}),a.jsx("div",{className:"mt-1",children:j.status&&a.jsx(ws,{variant:V(j.status),size:"md",children:j.status.charAt(0).toUpperCase()+j.status.slice(1).replace("-"," ")})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Quantity"}),a.jsxs("p",{className:"mt-1 text-base font-medium text-slate-900",children:[j.quantity||1," item",(j.quantity||1)!==1?"s":""]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Location"}),a.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:j.location||"Not specified"})]})]}),j.description&&a.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),a.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"})]}),a.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:a.jsx("p",{className:"text-base text-slate-800 whitespace-pre-line",children:j.description})})]})]})]})})})}),w==="documents"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&a.jsxs(Se,{variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>g(!0),children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),j.files&&j.files.filter(ee=>!de||ee.id!==de.id).length>0?a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[j.files.filter(ee=>!de||ee.id!==de.id).length,j.files.filter(ee=>!de||ee.id!==de.id).length===1?" file":" files"," attached"]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${S==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("grid"),children:a.jsx(Bc,{className:"h-4 w-4"})}),a.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${S==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("list"),children:a.jsx(Fc,{className:"h-4 w-4"})})]})]}),a.jsx(k2,{files:j.files.filter(ee=>!de||ee.id!==de.id),layout:S,size:"medium",showDownload:!0,canDelete:!1})]}):a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&a.jsx("div",{className:"mt-4",children:a.jsxs(Se,{variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>g(!0),children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),w==="history"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),a.jsx(a5,{equipmentId:e})]})]})]})]})}),a.jsx("div",{className:"md:col-span-1",children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),a.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:de?a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"relative pb-4",children:[a.jsx("img",{src:v3(de.id,!0),alt:`${j.brand} ${j.model}`,className:"w-full h-auto object-contain rounded-md",onError:ee=>{console.error("Error loading thumbnail, falling back to original image"),ee.target.src=v3(de.id),ee.target.onerror=null}}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&a.jsx("button",{onClick:()=>x(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),a.jsx("div",{className:"text-sm text-gray-500 text-center",children:de.file_name})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&a.jsxs("button",{onClick:()=>x(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[a.jsx("div",{className:"p-4 border-b border-slate-200",children:a.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info"]})}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:j.category||"Not specified"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:j.type})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),a.jsx("div",{children:j.status&&a.jsx(ws,{variant:V(j.status),size:"md",children:j.status.charAt(0).toUpperCase()+j.status.slice(1).replace("-"," ")})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Quantity"})]}),a.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[j.quantity||1," item",(j.quantity||1)!==1?"s":""]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:j.location||"Not specified"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:j.serial_number})]})]})]})}),a.jsx("div",{className:"md:col-span-1",children:a.jsxs(Re,{className:"h-full",children:[a.jsx(Re.Header,{className:"bg-slate-50",children:a.jsxs(Re.Title,{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),a.jsx(Re.Body,{children:a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:j.created_by||"Unknown"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:j.created_at?new Date(j.created_at).toLocaleString():"Unknown"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:j.updated_at?new Date(j.updated_at).toLocaleString():"Never"})]})]}),j.locationDetails&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[a.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-3 flex items-center",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Location Details"]}),a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-sm",children:[a.jsx("p",{className:"font-medium text-slate-800",children:j.locationDetails.name}),j.locationDetails.street&&a.jsx("p",{className:"text-slate-600 mt-1",children:j.locationDetails.street}),(j.locationDetails.postal_code||j.locationDetails.city)&&a.jsxs("p",{className:"text-slate-600",children:[j.locationDetails.postal_code&&`${j.locationDetails.postal_code} `,j.locationDetails.city]}),(j.locationDetails.region||j.locationDetails.country)&&a.jsxs("p",{className:"text-slate-600",children:[j.locationDetails.region&&`${j.locationDetails.region}, `,j.locationDetails.country]})]})]})]})})]})})]}),i&&a.jsx(o5,{isOpen:i,title:"Delete Equipment",message:"Are you sure you want to delete this equipment? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:F,onCancel:R,isDestructive:!0}),a.jsx(A2,{isOpen:d,onClose:()=>x(!1),equipmentId:e,existingImage:de}),a.jsx(D2,{equipmentId:parseInt(e),isOpen:v,onClose:()=>g(!1),onSuccess:q})]})},y3=(e,t=!1)=>`/api/files/${e}${t?"?thumbnail=true":""}`,KU=()=>{var Le,Ve,nt;const{id:e}=$h(),t=Gr(),n=jn();lr();const[r,i]=M.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:"",quantity:1}),[o,d]=M.useState([]),[x,v]=M.useState([]);M.useState(0);const[g,w]=M.useState(""),[N,S]=M.useState(!1),[k,j]=M.useState(!1),[O,L]=M.useState("details"),[T,A]=M.useState("grid"),{data:I}=pt({queryKey:["equipment-types"],queryFn:Bi,staleTime:3e5}),{data:q}=pt({queryKey:["categories"],queryFn:vl,staleTime:3e5}),{data:X}=pt({queryKey:["locations"],queryFn:wo,staleTime:3e5}),F=["available","in-use","maintenance","unavailable","broken"],{data:R,isLoading:H,isError:V,error:te}=pt({queryKey:["equipment",e],queryFn:()=>op(e),onSuccess:ke=>{console.log("Equipment data loaded:",ke),console.log("Location ID:",ke.location_id,typeof ke.location_id),i({type_id:ke.type_id?ke.type_id.toString():"",category_id:ke.category_id?ke.category_id.toString():"",category:ke.category||"",brand:ke.brand||"",model:ke.model||"",serial_number:ke.serial_number||"",status:ke.status||"available",location:ke.location||"",location_id:ke.location_id?ke.location_id.toString():"",description:ke.description||"",reference_image_id:ke.reference_image_id?ke.reference_image_id.toString():"",quantity:ke.quantity||1}),ke.locationDetails&&console.log("Location details:",ke.locationDetails)}}),de=Ut({mutationFn:async ke=>{const Xe=Object.fromEntries(Object.entries(ke.equipment).filter(([it,je])=>je!=null));return qN(e,Xe,ke.filesToUpload,ke.filesToDelete)},onSuccess:()=>{n.invalidateQueries(["equipment"]),t(`/equipment/${e}`)},onError:ke=>{var Xe,it;console.error("Error updating equipment:",ke),w(((it=(Xe=ke.response)==null?void 0:Xe.data)==null?void 0:it.message)||"Failed to update equipment")}}),re=ke=>{const{name:Xe,value:it}=ke.target;let je={...r,[Xe]:it};if(Xe==="category_id"&&it&&(q!=null&&q.categories)){const Ie=q.categories.find(at=>at.id.toString()===it);Ie&&(console.log("Selected category:",Ie),je={...je,category_id:it,category:Ie.name})}if(Xe==="location_id"&&it){const Ie=X==null?void 0:X.locations.find(at=>at.id.toString()===it);Ie&&(console.log("Selected location:",Ie),je={...je,location_id:it,location:Ie.name},Ie.name.toLowerCase()==="lager"?(je.status="available",console.log('Setting status to "available" because location is Lager')):je.status==="available"&&(je.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${Ie.name})`)))}else Xe==="location"&&it&&(je={...je,location:it,location_id:""},it.toLowerCase()==="lager"?(je.status="available",console.log('Setting status to "available" because custom location is Lager')):je.status==="available"&&(je.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${it})`)));if(Xe==="quantity"){const Ie=parseInt(it)||1;je.quantity=Math.max(1,Ie),console.log(`Setting quantity to: ${je.quantity}`)}else Xe==="status"&&(console.log(`User manually changed status to: ${it}`),(r.location||"").toLowerCase()==="lager"&&it!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),je.status="available"));i(je)},ee=ke=>{r.reference_image_id===ke.toString()&&i({...r,reference_image_id:""}),v(Xe=>[...Xe,ke])},Ne=ke=>{if(ke.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){w("Type, brand, model, and serial number are required");return}const Xe=o.find((at,Yt)=>r.reference_image_id==="new"),it=Xe?o.filter(at=>at!==Xe):o,je=r.reference_image_id==="",Ie={...r,quantity:parseInt(r.quantity)||1,type_id:r.type_id?parseInt(r.type_id):null,category_id:r.category_id?parseInt(r.category_id):null,location_id:r.location_id?parseInt(r.location_id):null,reference_image_id:r.reference_image_id==="new"?"new":r.reference_image_id};console.log("Submitting equipment data:",Ie),de.mutate({equipment:Ie,filesToUpload:it,filesToDelete:x,referenceImageFile:Xe||null,removeReferenceImage:je})},se=()=>{t(`/equipment/${e}`)},oe=ke=>{switch(ke){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";case"unavailable":return"secondary";case"broken":return"danger";default:return"secondary"}},xe=ke=>{n.invalidateQueries(["equipment",e]),tt.success(`Successfully uploaded ${ke.length} file(s)`)};if(H)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(V)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:(te==null?void 0:te.message)||"Failed to load equipment details"})}),a.jsx("div",{className:"mt-4",children:a.jsx(Se,{variant:"outline",size:"sm",onClick:se,children:"Back to Details"})})]})]})})]});const ue=R!=null&&R.reference_image_id?parseInt(R.reference_image_id):null,ge=(Le=R==null?void 0:R.files)==null?void 0:Le.find(ke=>ke.id===ue);return a.jsxs("form",{onSubmit:Ne,className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"}),a.jsxs("p",{className:"text-slate-500 text-sm",children:[r.brand," ",r.model,"  ",r.serial_number]})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(Se,{type:"button",variant:"outline",onClick:se,className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Details"]}),a.jsxs(Se,{type:"submit",variant:"primary",disabled:de.isLoading,className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),de.isLoading?"Saving...":"Save Changes"]})]})]}),g&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:g})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex -mb-px",children:[a.jsxs("button",{type:"button",onClick:()=>L("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${O==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${O==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),a.jsxs("button",{type:"button",onClick:()=>L("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${O==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${O==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),a.jsxs("button",{type:"button",onClick:()=>L("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${O==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${O==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),a.jsxs("div",{className:"p-6",children:[O==="details"&&a.jsx("div",{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:a.jsx("div",{className:"md:col-span-1",children:a.jsxs(Re,{className:"h-full",children:[a.jsx(Re.Header,{className:"bg-slate-50",children:a.jsxs(Re.Title,{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),a.jsxs(Re.Body,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsx(Cs,{id:"category_id",name:"category_id",label:"Category",value:r.category_id||"",onChange:re,options:[{value:"",label:"Select Category"},...((q==null?void 0:q.categories)||[]).map(ke=>({value:ke.id.toString(),label:ke.name}))]})}),a.jsx("div",{children:a.jsx(Cs,{id:"type_id",name:"type_id",label:"Type",value:r.type_id||"",onChange:re,options:[{value:"",label:"Select Type"},...((I==null?void 0:I.types)||[]).map(ke=>({value:ke.id.toString(),label:ke.name}))],required:!0})}),a.jsx("div",{children:a.jsx(dt,{id:"brand",name:"brand",label:"Brand",value:r.brand,onChange:re,placeholder:"Enter brand",required:!0})}),a.jsx("div",{children:a.jsx(dt,{id:"model",name:"model",label:"Model",value:r.model,onChange:re,placeholder:"Enter model",required:!0})}),a.jsx("div",{children:a.jsx(dt,{id:"serial_number",name:"serial_number",label:"Serial Number",value:r.serial_number,onChange:re,placeholder:"Enter serial number",required:!0})}),a.jsx("div",{children:a.jsx(Cs,{id:"status",name:"status",label:"Status",value:r.status,onChange:re,options:F.map(ke=>({value:ke,label:ke.charAt(0).toUpperCase()+ke.slice(1).replace("-"," ")})),required:!0})}),a.jsx("div",{children:a.jsx(dt,{id:"quantity",name:"quantity",label:"Quantity",type:"number",min:"1",value:r.quantity||1,onChange:re,placeholder:"Enter quantity",required:!0,helpText:"Number of items (minimum: 1)"})}),a.jsxs("div",{children:[a.jsx(Cs,{id:"location_id",name:"location_id",label:"Location",value:r.location_id?r.location_id.toString():"",onChange:re,options:[{value:"",label:"Select Location"},...((X==null?void 0:X.locations)||[]).map(ke=>{let Xe=ke.name;const it=[];return ke.city&&it.push(ke.city),ke.region&&it.push(ke.region),ke.country&&it.push(ke.country),it.length>0&&(Xe+=` (${it.join(", ")})`),{value:ke.id.toString(),label:Xe}})]}),a.jsx("div",{className:"mt-2",children:a.jsx(dt,{id:"location",name:"location",label:"Custom Location (if not in list)",value:r.location||"",onChange:re,placeholder:"Enter custom location"})})]})]}),a.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),a.jsx("label",{htmlFor:"description",className:"text-sm font-medium text-slate-700",children:"Description"})]}),a.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:re,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]})]})]})})})}),O==="documents"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),a.jsxs(Se,{type:"button",variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>j(!0),children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),R!=null&&R.files&&R.files.filter(ke=>!ge||ke.id!==ge.id).length>0?a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[R.files.filter(ke=>!ge||ke.id!==ge.id).length,R.files.filter(ke=>!ge||ke.id!==ge.id).length===1?" file":" files"," attached"]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${T==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>A("grid"),children:a.jsx(Bc,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${T==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>A("list"),children:a.jsx(Fc,{className:"h-4 w-4"})})]})]}),a.jsx(k2,{files:R.files.filter(ke=>!ge||ke.id!==ge.id),layout:T,size:"medium",showDownload:!0,canDelete:!0,onDelete:ee})]}):a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),a.jsx("div",{className:"mt-4",children:a.jsxs(Se,{type:"button",variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>j(!0),children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),O==="history"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[a.jsxs("div",{className:"mb-4 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),a.jsx(a5,{equipmentId:e})]})]})]})]})}),a.jsx("div",{className:"md:col-span-1",children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),a.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:ge?a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"relative pb-4",children:[a.jsx("img",{src:y3(ge.id,!0),alt:`${r.brand} ${r.model}`,className:"w-full h-auto object-contain rounded-md",onError:ke=>{console.error("Error loading thumbnail, falling back to original image"),ke.target.src=y3(ge.id),ke.target.onerror=null}}),a.jsx("button",{type:"button",onClick:()=>S(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),a.jsx("div",{className:"text-sm text-gray-500 text-center",children:ge.file_name})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),a.jsxs("button",{type:"button",onClick:()=>S(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[a.jsx("div",{className:"p-4 border-b border-slate-200",children:a.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info Preview"]})}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.category||"Not specified"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:((nt=(Ve=I==null?void 0:I.types)==null?void 0:Ve.find(ke=>ke.id.toString()===r.type_id))==null?void 0:nt.name)||"Not specified"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),a.jsx("div",{children:r.status&&a.jsx(ws,{variant:oe(r.status),size:"md",children:r.status.charAt(0).toUpperCase()+r.status.slice(1).replace("-"," ")})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Quantity"})]}),a.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[r.quantity||1," item",(r.quantity||1)!==1?"s":""]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.location||"Not specified"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.serial_number})]})]})]})}),a.jsx("div",{className:"md:col-span-1",children:a.jsxs(Re,{className:"h-full",children:[a.jsx(Re.Header,{className:"bg-slate-50",children:a.jsxs(Re.Title,{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),a.jsx(Re.Body,{children:a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:(R==null?void 0:R.created_by)||"Unknown"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:R!=null&&R.created_at?new Date(R.created_at).toLocaleString():"Unknown"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:R!=null&&R.updated_at?new Date(R.updated_at).toLocaleString():"Never"})]})]})]})})]})})]}),a.jsx(A2,{isOpen:N,onClose:()=>S(!1),equipmentId:e,existingImage:ge}),a.jsx(D2,{equipmentId:parseInt(e),isOpen:k,onClose:()=>j(!1),onSuccess:xe})]})},ZU=({onFileSelect:e,uploadProgress:t=0,existingFiles:n=[],onFileDelete:r,multiple:i=!1,maxFiles:o=5,maxFileSize:d=50*1024*1024})=>{const[x,v]=M.useState([]),[g,w]=M.useState({}),[N,S]=M.useState([]);M.useEffect(()=>{Object.values(g).forEach(R=>{R&&R.startsWith("blob:")&&URL.revokeObjectURL(R)});const F={};return x.forEach((R,H)=>{R.type.startsWith("image/")&&(F[`new-${H}`]=URL.createObjectURL(R))}),n.forEach(R=>{R.file_type==="image"&&(F[`existing-${R.id}`]=`/api/files/${R.id}`)}),w(F),()=>{Object.values(F).forEach(R=>{R&&R.startsWith("blob:")&&URL.revokeObjectURL(R)})}},[x,n]);const k=F=>{const R=[],H=[];return F.forEach(V=>{if(V.size>d){R.push(`${V.name} exceeds the maximum file size of ${Math.round(d/(1024*1024))}MB`);return}if(!["image/jpeg","image/png","audio/mpeg","application/pdf"].includes(V.type)){R.push(`${V.name} has an unsupported file type. Only JPEG, PNG, MP3, and PDF files are allowed.`);return}H.push(V)}),{validFiles:H,errors:R}},j=M.useCallback((F,R)=>{if(R&&R.length>0){const te=R.map(de=>`${de.file.name}: ${de.errors.map(re=>re.message).join(", ")}`);S(te)}else S([]);const{validFiles:H,errors:V}=k(F);if(V.length>0&&S(te=>[...te,...V]),i&&x.length+H.length>o){S(de=>[...de,`You can only upload a maximum of ${o} files.`]);const te=o-x.length;if(te>0){const de=H.slice(0,te);v(re=>[...re,...de]),e(de)}}else v(i?te=>[...te,...H]:H),e(H)},[e,x,i,o,d]),O=F=>{const R=[...x];R.splice(F,1),v(R),e(i?R:R.length>0?[R[0]]:[]),S([])},L=F=>{if(r){console.log(`FileUpload: Deleting file with ID ${F}`);try{r(F)}catch(R){console.error(`Error deleting file with ID ${F}:`,R)}}else console.warn(`FileUpload: No onFileDelete handler provided for file ID ${F}`)},{getRootProps:T,getInputProps:A,isDragActive:I,fileRejections:q}=Rd({onDrop:j,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:i?o:1,multiple:i,maxSize:d}),X=F=>{switch(F){case"image/jpeg":case"image/png":case"image":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":case"audio":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":case"pdf":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}};return a.jsxs("div",{children:[a.jsxs("div",{...T(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${I?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[a.jsx("input",{...A()}),I?a.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):a.jsxs("div",{children:[a.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",o," files, ",Math.round(d/(1024*1024)),"MB each)"]})]})]}),N.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"File validation errors:"}),a.jsx("ul",{className:"list-disc pl-5 text-xs text-red-700",children:N.map((F,R)=>a.jsx("li",{children:F},R))})]}),x.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Files to upload:"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:x.map((F,R)=>a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[F.type.startsWith("image/")?a.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:g[`new-${R}`]?a.jsx("img",{src:g[`new-${R}`],alt:F.name,className:"max-h-full max-w-full object-contain"}):a.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):a.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:a.jsx("div",{className:"text-4xl",children:X(F.type)})}),a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",title:F.name,children:F.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:[(F.size/(1024*1024)).toFixed(2)," MB"]})]}),a.jsx("button",{type:"button",onClick:()=>O(R),className:"ml-2 text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Remove ${F.name}`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]},R))})]}),n.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Existing files:"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:n.map(F=>a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[F.file_type==="image"?a.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:g[`existing-${F.id}`]?a.jsx("img",{src:g[`existing-${F.id}`],alt:F.file_name,className:"max-h-full max-w-full object-contain"}):a.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):F.file_type==="audio"?a.jsxs("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex flex-col items-center justify-center p-2",children:[a.jsx("div",{className:"text-4xl mb-2",children:X(F.file_type)}),a.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[a.jsx("source",{src:`/api/files/${F.id}`,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):a.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:a.jsx("div",{className:"text-4xl",children:X(F.file_type)})}),a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",title:F.file_name,children:F.file_name}),a.jsx("p",{className:"text-xs text-slate-500 capitalize",children:F.file_type})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("a",{href:`/api/files/${F.id}?download=true`,download:!0,className:"text-primary-600 hover:text-primary-800 p-1 rounded-full hover:bg-primary-50","aria-label":`Download ${F.file_name}`,onClick:R=>{R.stopPropagation(),console.log(`Downloading file: ${F.id}`)},children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),r&&a.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),console.log(`Deleting file: ${F.id}`),L(F.id)},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Delete ${F.file_name}`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})]},F.id))})]}),t>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${t}%`}})}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",t,"%"]})]})]})},d5=({formData:e,equipmentTypes:t,categoriesData:n,statusOptions:r,handleInputChange:i,handleFileChange:o,handleSubmit:d,handleCancel:x,isLoading:v,error:g,isEditing:w=!1,files:N=[],uploadProgress:S=0,existingFiles:k=[],handleFileDelete:j,handleSetReferenceImage:O})=>{const[L,T]=M.useState(null),[A,I]=M.useState(null),{data:q}=pt(["locations"],wo,{staleTime:3e5});M.useEffect(()=>{if(k&&k.length>0&&e.reference_image_id){const R=k.find(H=>H.id.toString()===e.reference_image_id);if(R){T(R);return}}T(null)},[k,e.reference_image_id]);const X=R=>{I(R),i(R?{target:{name:"reference_image_id",value:"new"}}:{target:{name:"reference_image_id",value:""}})},F=R=>{T(null),i({target:{name:"reference_image_id",value:""}}),j&&j(R)};return a.jsxs(Re,{children:[g&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 m-6 mt-0",children:a.jsx("p",{className:"text-red-700",children:g})}),a.jsxs("form",{onSubmit:d,children:[a.jsxs(Re.Body,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(Cs,{id:"category_id",name:"category_id",label:"Category",value:e.category_id||"",onChange:i,options:[{value:"",label:"Select Category"},...(n||[]).map(R=>({value:R.id.toString(),label:R.name}))]}),a.jsx(Cs,{id:"type_id",name:"type_id",label:"Type",value:e.type_id||"",onChange:i,options:[{value:"",label:"Select Type"},...t.map(R=>({value:R.id.toString(),label:R.name}))],required:!0}),a.jsx(dt,{id:"brand",name:"brand",label:"Brand",value:e.brand,onChange:i,placeholder:"Enter brand",required:!0}),a.jsx(dt,{id:"model",name:"model",label:"Model",value:e.model,onChange:i,placeholder:"Enter model",required:!0}),a.jsx(xE,{id:"serial_number",name:"serial_number",label:"Serial Number",value:e.serial_number,onChange:i,placeholder:"Enter serial number",required:!0,onScan:R=>{i({target:{name:"serial_number",value:R}})}}),a.jsx(Cs,{id:"status",name:"status",label:"Status",value:e.status,onChange:i,options:r.map(R=>({value:R,label:R.charAt(0).toUpperCase()+R.slice(1).replace("-"," ")})),required:!0}),a.jsx(dt,{id:"quantity",name:"quantity",label:"Quantity",type:"number",min:"1",value:e.quantity||1,onChange:i,placeholder:"Enter quantity",required:!0,helpText:"Number of items (minimum: 1)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Cs,{id:"location_id",name:"location_id",label:"Location",value:e.location_id?e.location_id.toString():"",onChange:i,options:[{value:"",label:"Select Location"},...((q==null?void 0:q.locations)||[]).map(R=>{let H=R.name;const V=[];return R.city&&V.push(R.city),R.region&&V.push(R.region),R.country&&V.push(R.country),V.length>0&&(H+=` (${V.join(", ")})`),{value:R.id.toString(),label:H}})]}),a.jsx(dt,{id:"location",name:"location",label:"Custom Location (if not in list)",value:e.location||"",onChange:i,placeholder:"Enter custom location"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:i,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-100 rounded-lg",children:[a.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]}),a.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Upload a ",a.jsx("strong",{children:"single reference image"})," that best represents this equipment. This image will be displayed prominently on the equipment details page and in search results."]}),a.jsx(j2,{onImageSelect:X,existingImage:L,onImageDelete:F})]}),a.jsxs("div",{className:"mt-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[a.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Documents & Attachments"]}),a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Upload additional documents and images related to this equipment (manuals, invoices, additional photos, etc.). These will be shown in the Documents tab."}),a.jsx(ZU,{onFileSelect:o,uploadProgress:S,existingFiles:k,onFileDelete:j,multiple:!0,maxFiles:5})]})]}),a.jsxs(Re.Footer,{className:"flex justify-end space-x-3",children:[a.jsx(Se,{type:"button",variant:"secondary",onClick:x,children:"Cancel"}),a.jsx(Se,{type:"submit",variant:"primary",disabled:v,children:v?"Saving...":w?"Save Changes":"Create Equipment"})]})]})]})};d5.propTypes={formData:ae.object.isRequired,equipmentTypes:ae.array.isRequired,categoriesData:ae.array,statusOptions:ae.array.isRequired,locationsData:ae.object,handleInputChange:ae.func.isRequired,handleFileChange:ae.func.isRequired,handleSubmit:ae.func.isRequired,handleCancel:ae.func.isRequired,isLoading:ae.bool,error:ae.string,isEditing:ae.bool,files:ae.array,uploadProgress:ae.number,existingFiles:ae.array,handleFileDelete:ae.func,handleSetReferenceImage:ae.func};const JU=()=>{const e=Gr(),t=jn(),{user:n}=lr(),[r,i]=M.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:"",quantity:1}),[o,d]=M.useState([]),[x,v]=M.useState(""),[g,w]=M.useState(0),{data:N}=pt({queryKey:["equipment-types"],queryFn:Bi,staleTime:3e5}),{data:S}=pt({queryKey:["categories"],queryFn:vl,staleTime:3e5}),{data:k}=pt({queryKey:["locations"],queryFn:wo,staleTime:3e5}),j=["available","in-use","maintenance","unavailable","broken"],O=Ut({mutationFn:async F=>r2(F.equipment,F.files),onSuccess:()=>{t.invalidateQueries(["equipment"]),e("/equipment")},onError:F=>{var R,H;console.error("Error creating equipment:",F),v(((H=(R=F.response)==null?void 0:R.data)==null?void 0:H.message)||"Failed to create equipment")}}),L=F=>{const{name:R,value:H}=F.target;let V={...r,[R]:H};if(R==="category_id"&&H&&(S!=null&&S.categories)){const te=S.categories.find(de=>de.id.toString()===H);te&&(console.log("Selected category:",te),V={...V,category_id:H,category:te.name})}else if(R==="location_id"&&H){const te=k==null?void 0:k.locations.find(de=>de.id.toString()===H);te&&(console.log("Selected location:",te),V={...V,location_id:H,location:te.name},te.name.toLowerCase()==="lager"?(V.status="available",console.log('Setting status to "available" because location is Lager')):V.status==="available"&&(V.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${te.name})`)))}else if(R==="location"&&H)V={...V,location:H,location_id:""},H.toLowerCase()==="lager"?(V.status="available",console.log('Setting status to "available" because custom location is Lager')):V.status==="available"&&(V.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${H})`));else if(R==="quantity"){const te=parseInt(H)||1;V.quantity=Math.max(1,te),console.log(`Setting quantity to: ${V.quantity}`)}else R==="status"&&(console.log(`User manually changed status to: ${H}`),(r.location||"").toLowerCase()==="lager"&&H!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),V.status="available"));i(V)},T=F=>{d(F)},A=F=>{i({...r,reference_image_id:F.toString()})},I=F=>{const R=[...o];r.reference_image_id===F.toString()&&i({...r,reference_image_id:""}),R.splice(F,1),d(R)},q=F=>{if(F.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){v("Type, brand, model, and serial number are required");return}const R=r.reference_image_id==="new"&&o.length>0?o.find((V,te)=>te===0):null,H=R?o.filter(V=>V!==R):o;O.mutate({equipment:{...r,reference_image_id:r.reference_image_id==="new"?"new":r.reference_image_id},files:H,referenceImageFile:R})},X=()=>{e("/equipment")};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Add New Equipment"})}),a.jsx(d5,{formData:r,equipmentTypes:(N==null?void 0:N.types)||[],categoriesData:(S==null?void 0:S.categories)||[],statusOptions:j,locationsData:k,handleInputChange:L,handleFileChange:T,handleSubmit:q,handleCancel:X,isLoading:O.isLoading,error:x,files:o,uploadProgress:g,handleSetReferenceImage:A,handleFileDelete:I}),(n==null?void 0:n.role)==="admin"&&a.jsx(Re,{className:"mt-6",children:a.jsxs(Re.Body,{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 text-primary-500",children:a.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-800",children:"Equipment Type Management"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"You can manage equipment types in the Settings page."}),a.jsx("div",{className:"mt-3",children:a.jsx(Se,{variant:"outline",size:"sm",onClick:()=>e("/settings"),children:"Go to Settings"})})]})]})})]})},ez=()=>{const{isAdmin:e,getUsers:t,impersonateUser:n,register:r,user:i}=lr(),o=Gr(),d=jn(),[x,v]=M.useState(null),[g,w]=M.useState(!1),[N,S]=M.useState(!1),[k,j]=M.useState({username:"",password:"",role:"basic"}),[O,L]=M.useState({});M.useEffect(()=>{e()||o("/")},[e,o]);const{data:T,isLoading:A,isError:I,error:q,refetch:X}=pt({queryKey:["users"],queryFn:t,enabled:e()}),F=Ut({mutationFn:r,onSuccess:()=>{d.invalidateQueries(["users"]),S(!1),j({username:"",password:"",role:"basic"}),tt.success("User created successfully")},onError:ee=>{var Ne,se;tt.error(((se=(Ne=ee.response)==null?void 0:Ne.data)==null?void 0:se.message)||"Failed to create user")}}),R=ee=>{const{name:Ne,value:se}=ee.target;j(oe=>({...oe,[Ne]:se})),O[Ne]&&L(oe=>({...oe,[Ne]:""}))},H=()=>{const ee={};return k.username.trim()||(ee.username="Username is required"),k.password.trim()?k.password.length<6&&(ee.password="Password must be at least 6 characters"):ee.password="Password is required",L(ee),Object.keys(ee).length===0},V=ee=>{ee.preventDefault(),H()&&F.mutate(k)},te=async()=>{if(x)try{await n(x.id),w(!1),tt.info(`You are now impersonating ${x.username}`),o("/")}catch(ee){tt.error("Failed to impersonate user"),console.error("Failed to impersonate user:",ee)}},de=ee=>new Date(ee).toLocaleString(),re=ee=>{switch(ee){case"admin":return"bg-red-100 text-red-800";case"advanced":return"bg-blue-100 text-blue-800";case"basic":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e()?A?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):I?a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative my-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",(q==null?void 0:q.message)||"Failed to load users."]}),a.jsx("button",{onClick:X,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Retry"})]}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx(ap,{position:"top-right",autoClose:3e3}),a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"User Management"}),a.jsxs("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create User"]})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Username"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created At"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:T==null?void 0:T.map(ee=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:[ee.username,ee.id===i.id&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"You"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${re(ee.role)}`,children:ee.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:de(ee.created_at)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:ee.id!==i.id&&a.jsx("button",{onClick:()=>{v(ee),w(!0)},className:"text-indigo-600 hover:text-indigo-900","aria-label":`Impersonate ${ee.username}`,children:"Impersonate"})})]},ee.id))})]})})})]}),N&&a.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Create New User"}),a.jsxs("form",{onSubmit:V,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),a.jsx("input",{type:"text",id:"username",name:"username",value:k.username,onChange:R,className:`w-full px-3 py-2 border ${O.username?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),O.username&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.username})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",value:k.password,onChange:R,className:`w-full px-3 py-2 border ${O.password?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),O.password&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.password})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),a.jsxs("select",{id:"role",name:"role",value:k.role,onChange:R,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"basic",children:"Basic"}),a.jsx("option",{value:"advanced",children:"Advanced"}),a.jsx("option",{value:"admin",children:"Admin"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:F.isLoading,children:F.isLoading?"Creating...":"Create User"})]})]})]})}),g&&x&&a.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Confirm Impersonation"}),a.jsxs("p",{className:"text-slate-500 mb-4",children:["You are about to impersonate ",a.jsx("strong",{children:x.username})," with role ",a.jsx("strong",{children:x.role}),". You will have the same permissions as this user until you end the impersonation."]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),a.jsx("button",{onClick:te,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Impersonate"})]})]})})]}):a.jsx("div",{className:"text-center py-10",children:"Access denied. Admin privileges required."})},tz=()=>{var q,X;const[e,t]=M.useState(1),[n]=M.useState(20),[r,i]=M.useState("created_at"),[o,d]=M.useState("desc"),[x,v]=M.useState({equipmentId:"",actionType:"",search:"",type:"",status:"",location_id:""}),{data:g}=pt({queryKey:["equipment-types"],queryFn:Bi,staleTime:3e5}),{data:w}=pt(["locations"],wo),{data:N,isLoading:S,isError:k,error:j}=pt(["allEquipmentLogs",e,n,x,r,o],()=>hU({page:e,limit:n,equipmentId:x.equipmentId||void 0,actionType:x.actionType||void 0,search:x.search||void 0,type:x.type||void 0,status:x.status||void 0,location_id:x.location_id||void 0,sortBy:r,sortOrder:o}),{keepPreviousData:!0}),O=F=>{switch(F){case"created":return"badge-success";case"updated":return"badge-info";case"deleted":return"badge-danger";case"status_change":return"badge-warning";case"location_change":return"badge-primary";default:return"badge-secondary"}},L=F=>F.split("_").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" "),T=F=>{const{name:R,value:H}=F.target;v(V=>({...V,[R]:H})),t(1)},A=F=>{F.preventDefault()},I=F=>{t(F)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Movement Logs"})}),a.jsx("div",{className:"card",children:a.jsxs("form",{onSubmit:A,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),a.jsxs("div",{className:"input-group",children:[a.jsx(s2,{className:"input-icon w-4 h-4"}),a.jsx("input",{type:"text",id:"search",name:"search",value:x.search,onChange:T,placeholder:"Search logs...",className:"input input-with-icon"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"label",children:"Equipment Type"}),a.jsxs("select",{id:"type",name:"type",value:x.type,onChange:T,className:"input",children:[a.jsx("option",{value:"",children:"All Types"}),g!=null&&g.types&&g.types.length>0?g.types.map(F=>a.jsx("option",{value:F.name.toLowerCase(),children:F.name},F.id)):a.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"label",children:"Equipment Status"}),a.jsxs("select",{id:"status",name:"status",value:x.status,onChange:T,className:"input",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"in-use",children:"In Use"}),a.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),a.jsxs("select",{id:"location_id",name:"location_id",value:x.location_id,onChange:T,className:"input",children:[a.jsx("option",{value:"",children:"All Locations"}),(q=w==null?void 0:w.locations)==null?void 0:q.map(F=>a.jsx("option",{value:F.id.toString(),children:F.name},F.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"actionType",className:"label",children:"Action Type"}),a.jsxs("select",{id:"actionType",name:"actionType",value:x.actionType,onChange:T,className:"input",children:[a.jsx("option",{value:"",children:"All Actions"}),a.jsx("option",{value:"created",children:"Created"}),a.jsx("option",{value:"updated",children:"Updated"}),a.jsx("option",{value:"deleted",children:"Deleted"}),a.jsx("option",{value:"status_change",children:"Status Change"}),a.jsx("option",{value:"location_change",children:"Location Change"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[a.jsx(i2,{className:"w-4 h-4"}),a.jsx("span",{children:"Apply Filters"})]})})]})}),a.jsxs("div",{className:"card",children:[S?a.jsx("div",{className:"text-center py-10",children:"Loading..."}):k?a.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",j.message||"Failed to load equipment logs"]}):(X=N==null?void 0:N.logs)!=null&&X.length?a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"table",children:[a.jsx("thead",{className:"table-header",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header-cell",children:"Date"}),a.jsx("th",{className:"table-header-cell",children:"Equipment"}),a.jsx("th",{className:"table-header-cell",children:"User"}),a.jsx("th",{className:"table-header-cell",children:"Action"}),a.jsx("th",{className:"table-header-cell",children:"Details"})]})}),a.jsx("tbody",{className:"table-body",children:N.logs.map(F=>{var R,H;return a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"table-cell whitespace-nowrap",children:xd(new Date(F.created_at),"MMM d, yyyy h:mm a")}),a.jsx("td",{className:"table-cell",children:F.equipment?a.jsxs(Un,{to:`/equipment/${F.equipment.id}`,className:"text-primary-600 hover:text-primary-800",children:[F.equipment.brand," ",F.equipment.model,a.jsxs("span",{className:"text-xs text-slate-500 block",children:["SN: ",F.equipment.serial_number]})]}):a.jsx("span",{className:"text-slate-400",children:"Deleted equipment"})}),a.jsxs("td",{className:"table-cell",children:[((R=F.user)==null?void 0:R.username)||"Unknown",a.jsx("span",{className:"text-xs text-slate-500 block",children:((H=F.user)==null?void 0:H.role)||""})]}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`badge ${O(F.action_type)}`,children:L(F.action_type)})}),a.jsxs("td",{className:"table-cell",children:[F.action_type==="status_change"&&a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",a.jsx("span",{className:"badge badge-outline-secondary",children:F.previous_status})," ",a.jsx("span",{className:"text-slate-400",children:""})," ",a.jsx("span",{className:"badge badge-outline-primary",children:F.new_status})]}),F.action_type==="location_change"&&a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Location:"})," ",a.jsx("span",{className:"badge badge-outline-secondary",children:F.previous_location||"None"})," ",a.jsx("span",{className:"text-slate-400",children:""})," ",a.jsx("span",{className:"badge badge-outline-primary",children:F.new_location||"None"})]}),F.details&&a.jsx("div",{className:"text-sm mt-1",children:F.details})]})]},F.id)})})]})}):a.jsx("div",{className:"text-center py-10 text-slate-500",children:x.search||x.equipmentId||x.actionType?"No logs found matching your search criteria.":"No logs found."}),(N==null?void 0:N.totalPages)>1&&a.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-slate-200",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("span",{className:"font-medium text-slate-800",children:(e-1)*n+1})," to"," ",a.jsx("span",{className:"font-medium text-slate-800",children:Math.min(e*n,N.total)})," of"," ",a.jsx("span",{className:"font-medium text-slate-800",children:N.total})," logs"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>I(e-1),disabled:e===1,className:`btn ${e===1?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Previous"}),a.jsx("button",{onClick:()=>I(e+1),disabled:e===N.totalPages,className:`btn ${e===N.totalPages?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Next"})]})]})]})]})},gi="https://tonlager.kinsta.app",nz=async(e={})=>{try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.search&&t.append("search",e.search),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset);const n=await fetch(`${gi}/api/shows?${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(t){throw console.error("Error fetching shows:",t),t}},f5=async e=>{try{const t=await fetch(`${gi}/api/shows/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching show:",t),t}},rz=async e=>{try{const t=await fetch(`${gi}/api/shows`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.message||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error("Error creating show:",t),t}},h5=async(e,t)=>{try{const n=await fetch(`${gi}/api/shows/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)});if(!n.ok){const r=await n.json();throw new Error(r.message||`HTTP error! status: ${n.status}`)}return await n.json()}catch(n){throw console.error("Error updating show:",n),n}},p5=async e=>{try{const t=await fetch(`${gi}/api/shows/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok){const n=await t.json();throw new Error(n.message||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error("Error deleting show:",t),t}},sz=async e=>{try{const t=await fetch(`${gi}/api/show-equipment/show/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching show equipment:",t),t}},iz=async(e,t)=>{try{const n=await fetch(`${gi}/api/show-equipment/show/${e}/equipment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)});if(!n.ok){const r=await n.json();throw new Error(r.message||`HTTP error! status: ${n.status}`)}return await n.json()}catch(n){throw console.error("Error adding equipment to show:",n),n}},az=async(e,t)=>{try{const n=await fetch(`${gi}/api/show-equipment/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)});if(!n.ok){const r=await n.json();throw new Error(r.message||`HTTP error! status: ${n.status}`)}return await n.json()}catch(n){throw console.error("Error updating show equipment:",n),n}},oz=async e=>{try{const t=await fetch(`${gi}/api/show-equipment/${e}/checkout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok){const n=await t.json();throw new Error(n.message||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error("Error checking out equipment:",t),t}},lz=async e=>{try{const t=await fetch(`${gi}/api/show-equipment/${e}/return`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok){const n=await t.json();throw new Error(n.message||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error("Error returning equipment:",t),t}},cz=async e=>{try{const t=await fetch(`${gi}/api/show-equipment/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok){const n=await t.json();throw new Error(n.message||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error("Error removing equipment from show:",t),t}},uz=()=>{const e=Gr(),t=jn(),{data:n,isLoading:r,error:i}=pt({queryKey:["shows"],queryFn:()=>nz(),onError:ee=>{Nt.error(`Failed to load shows: ${ee.message}`)}}),o=(n==null?void 0:n.shows)||[],d=Ut({mutationFn:rz,onSuccess:()=>{t.invalidateQueries(["shows"]),Nt.success("Show created successfully"),S(!1),F({name:"",date:"",venue:"",director:"",description:""})},onError:ee=>{Nt.error(`Failed to create show: ${ee.message}`)}}),x=Ut({mutationFn:({id:ee,...Ne})=>h5(ee,Ne),onSuccess:()=>{t.invalidateQueries(["shows"]),Nt.success("Show updated successfully"),A(!1),q(null)},onError:ee=>{Nt.error(`Failed to update show: ${ee.message}`)}}),v=Ut({mutationFn:p5,onSuccess:()=>{t.invalidateQueries(["shows"]),Nt.success("Show deleted successfully")},onError:ee=>{Nt.error(`Failed to delete show: ${ee.message}`)}}),[g,w]=M.useState("list"),[N,S]=M.useState(!1),[k,j]=M.useState(null),[O,L]=M.useState(!1),[T,A]=M.useState(!1),[I,q]=M.useState(null),[X,F]=M.useState({name:"",date:"",venue:"",director:"",description:""}),R=ee=>{switch(ee){case"planning":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},H=()=>{X.name&&X.date&&d.mutate(X)},V=ee=>{e(`/show/${ee.id}`)},te=ee=>{q({...ee}),A(!0)},de=()=>{I.name&&I.date&&x.mutate(I)},re=ee=>{window.confirm("Are you sure you want to delete this show?")&&v.mutate(ee)};return r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"Loading shows..."})]})}):i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:" Error loading shows"}),a.jsx("p",{className:"text-slate-600 mb-4",children:i.message}),a.jsx(Se,{onClick:()=>t.invalidateQueries(["shows"]),children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center space-x-3",children:[a.jsx(jx,{className:"w-8 h-8 text-primary-600"}),a.jsx("span",{children:"Show List"})]}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Manage theater shows and their equipment allocations"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>w("list"),className:`p-2 rounded-md transition-colors ${g==="list"?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,title:"List View",children:a.jsx(Fc,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>w("card"),className:`p-2 rounded-md transition-colors ${g==="card"?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,title:"Card View",children:a.jsx(Bc,{className:"w-4 h-4"})})]}),a.jsxs(Se,{onClick:()=>S(!0),className:"flex items-center space-x-2",children:[a.jsx(lp,{className:"w-4 h-4"}),a.jsx("span",{children:"Create New Show"})]})]})]}),o.length===0?a.jsx(Re,{className:"text-center py-12",children:a.jsxs(Re.Body,{children:[a.jsx(jx,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:"No shows yet"}),a.jsx("p",{className:"text-slate-600 mb-4",children:"Create your first show to start managing equipment allocations"}),a.jsx(Se,{onClick:()=>S(!0),children:"Create New Show"})]})}):g==="list"?a.jsx(Re,{children:a.jsx(Re.Body,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Show"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Venue"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Director"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Equipment"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:o.map(ee=>a.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>V(ee),children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-800",children:ee.name}),ee.description&&a.jsx("div",{className:"text-sm text-slate-500 truncate max-w-xs",children:ee.description})]})}),a.jsx("td",{className:"py-3 px-4 text-slate-600",children:new Date(ee.date).toLocaleDateString()}),a.jsx("td",{className:"py-3 px-4 text-slate-600",children:ee.venue}),a.jsx("td",{className:"py-3 px-4 text-slate-600",children:ee.director}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R(ee.status)}`,children:ee.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"font-medium text-primary-600",children:ee.equipmentCount})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex space-x-1",onClick:Ne=>Ne.stopPropagation(),children:[a.jsx(Se,{size:"sm",variant:"outline",onClick:()=>V(ee),className:"p-1",title:"View",children:a.jsx(tc,{className:"w-4 h-4"})}),a.jsx(Se,{size:"sm",variant:"outline",onClick:()=>te(ee),className:"p-1",title:"Edit",children:a.jsx(nl,{className:"w-4 h-4"})}),a.jsx(Se,{size:"sm",onClick:()=>e(`/show/${ee.id}`),className:"p-1",title:"View Details",children:a.jsx(tc,{className:"w-4 h-4"})}),a.jsx(Se,{size:"sm",variant:"outline",onClick:()=>re(ee.id),className:"p-1 text-red-600 hover:text-red-700",title:"Delete",children:a.jsx(pd,{className:"w-4 h-4"})})]})})]},ee.id))})]})})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(ee=>a.jsxs(Re,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Re.Header,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:ee.name}),a.jsx("p",{className:"text-sm text-slate-600",children:ee.venue})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R(ee.status)}`,children:ee.status})]})}),a.jsx(Re.Body,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Date:"}),a.jsx("span",{className:"font-medium",children:new Date(ee.date).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Director:"}),a.jsx("span",{className:"font-medium",children:ee.director})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Equipment Items:"}),a.jsx("span",{className:"font-medium text-primary-600",children:ee.equipmentCount})]})]})}),a.jsx(Re.Footer,{children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Se,{size:"sm",variant:"outline",onClick:()=>V(ee),className:"flex-1 flex items-center justify-center space-x-1",children:[a.jsx(tc,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]}),a.jsxs(Se,{size:"sm",variant:"outline",onClick:()=>te(ee),className:"flex-1 flex items-center justify-center space-x-1",children:[a.jsx(nl,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}),a.jsxs(Se,{size:"sm",onClick:()=>e(`/show/${ee.id}`),className:"flex-1 flex items-center justify-center space-x-1",children:[a.jsx(tc,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsx(Se,{size:"sm",variant:"outline",onClick:()=>re(ee.id),className:"flex items-center justify-center px-3 text-red-600 hover:text-red-700",children:a.jsx(pd,{className:"w-4 h-4"})})]})})]},ee.id))}),N&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Create New Show"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Show Name *"}),a.jsx(dt,{value:X.name,onChange:ee=>F({...X,name:ee.target.value}),placeholder:"Enter show name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date *"}),a.jsx(dt,{type:"date",value:X.date,onChange:ee=>F({...X,date:ee.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Venue"}),a.jsx(dt,{value:X.venue,onChange:ee=>F({...X,venue:ee.target.value}),placeholder:"Enter venue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Director"}),a.jsx(dt,{value:X.director,onChange:ee=>F({...X,director:ee.target.value}),placeholder:"Enter director name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:X.description,onChange:ee=>F({...X,description:ee.target.value}),placeholder:"Enter show description",className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:"3"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx(Se,{variant:"outline",onClick:()=>S(!1),className:"flex-1",children:"Cancel"}),a.jsx(Se,{onClick:H,className:"flex-1",disabled:!X.name||!X.date||d.isLoading,children:d.isLoading?"Creating...":"Create Show"})]})]})}),O&&k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:k.name}),a.jsx("p",{className:"text-slate-600 mt-1",children:k.venue})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${R(k.status)}`,children:k.status}),a.jsx(Se,{variant:"outline",onClick:()=>L(!1),className:"text-slate-500",children:""})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Re,{children:[a.jsx(Re.Header,{children:a.jsx("h3",{className:"text-lg font-semibold",children:"Show Information"})}),a.jsx(Re.Body,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),a.jsx("p",{className:"text-slate-900",children:new Date(k.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Director"}),a.jsx("p",{className:"text-slate-900",children:k.director||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("p",{className:"text-slate-900",children:k.description||"No description provided"})]})]})})]}),a.jsxs(Re,{children:[a.jsx(Re.Header,{children:a.jsx("h3",{className:"text-lg font-semibold",children:"Equipment Summary"})}),a.jsx(Re.Body,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:k.equipmentCount}),a.jsx("p",{className:"text-slate-600",children:"Equipment Items Allocated"})]}),a.jsx(Se,{className:"w-full",onClick:()=>e(`/show/${k.id}`),children:"View Full Details"})]})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-slate-200",children:[a.jsx(Se,{variant:"outline",onClick:()=>L(!1),children:"Close"}),a.jsxs(Se,{onClick:()=>{L(!1),te(k)},className:"flex items-center space-x-2",children:[a.jsx(nl,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit Show"})]})]})]})})}),T&&I&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Edit Show"}),a.jsx(Se,{variant:"outline",onClick:()=>A(!1),className:"text-slate-500",children:""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Re,{children:[a.jsx(Re.Header,{children:a.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"})}),a.jsx(Re.Body,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Show Name *"}),a.jsx(dt,{value:I.name,onChange:ee=>q({...I,name:ee.target.value}),placeholder:"Enter show name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date *"}),a.jsx(dt,{type:"date",value:I.date,onChange:ee=>q({...I,date:ee.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Venue"}),a.jsx(dt,{value:I.venue,onChange:ee=>q({...I,venue:ee.target.value}),placeholder:"Enter venue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Director"}),a.jsx(dt,{value:I.director,onChange:ee=>q({...I,director:ee.target.value}),placeholder:"Enter director name"})]})]})})]}),a.jsxs(Re,{children:[a.jsx(Re.Header,{children:a.jsx("h3",{className:"text-lg font-semibold",children:"Additional Details"})}),a.jsx(Re.Body,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),a.jsxs("select",{value:I.status,onChange:ee=>q({...I,status:ee.target.value}),className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"planning",children:"Planning"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"archived",children:"Archived"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:I.description,onChange:ee=>q({...I,description:ee.target.value}),placeholder:"Enter show description",className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:"6"})]})]})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-slate-200",children:[a.jsx(Se,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),a.jsx(Se,{onClick:de,disabled:!I.name||!I.date||x.isLoading,className:"flex items-center space-x-2",children:a.jsx("span",{children:x.isLoading?"Saving...":"Save Changes"})})]})]})})})]})},m5=()=>{const{showId:e}=$h(),t=Gr(),n=jn(),[r,i]=M.useState("list"),[o,d]=M.useState(!1),[x,v]=M.useState(null),[g,w]=M.useState(1),[N,S]=M.useState(""),[k,j]=M.useState(""),{data:O,isLoading:L}=pt({queryKey:["show",e],queryFn:()=>f5(e),onError:oe=>{Nt.error(`Failed to load show: ${oe.message}`)}}),{data:T,isLoading:A}=pt({queryKey:["showEquipment",e],queryFn:()=>sz(e),onError:oe=>{Nt.error(`Failed to load show equipment: ${oe.message}`)}}),{data:I}=pt({queryKey:["equipment"],queryFn:()=>Ri({status:"available"}),enabled:o}),q=(T==null?void 0:T.equipment)||[],X=(I==null?void 0:I.equipment)||[],F=Ut({mutationFn:oe=>iz(e,oe),onSuccess:()=>{n.invalidateQueries(["showEquipment",e]),n.invalidateQueries(["show",e]),Nt.success("Equipment added to show"),d(!1),v(null),w(1),S("")},onError:oe=>{Nt.error(`Failed to add equipment: ${oe.message}`)}});Ut({mutationFn:({id:oe,...xe})=>az(oe,xe),onSuccess:()=>{n.invalidateQueries(["showEquipment",e]),Nt.success("Equipment updated")},onError:oe=>{Nt.error(`Failed to update equipment: ${oe.message}`)}});const R=Ut({mutationFn:cz,onSuccess:()=>{n.invalidateQueries(["showEquipment",e]),n.invalidateQueries(["show",e]),Nt.success("Equipment removed from show")},onError:oe=>{Nt.error(`Failed to remove equipment: ${oe.message}`)}}),H=Ut({mutationFn:oz,onSuccess:()=>{n.invalidateQueries(["showEquipment",e]),Nt.success("Equipment checked out")},onError:oe=>{Nt.error(`Failed to checkout equipment: ${oe.message}`)}}),V=Ut({mutationFn:lz,onSuccess:()=>{n.invalidateQueries(["showEquipment",e]),Nt.success("Equipment returned")},onError:oe=>{Nt.error(`Failed to return equipment: ${oe.message}`)}}),te=()=>{x&&g>0&&F.mutate({equipmentId:x.id,quantityNeeded:g,notes:N})},de=oe=>{window.confirm("Are you sure you want to remove this equipment from the show?")&&R.mutate(oe)},re=oe=>{H.mutate(oe)},ee=oe=>{V.mutate(oe)},Ne=oe=>{const xe={requested:"bg-yellow-100 text-yellow-800",allocated:"bg-blue-100 text-blue-800","checked-out":"bg-orange-100 text-orange-800","in-use":"bg-green-100 text-green-800",returned:"bg-gray-100 text-gray-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${xe[oe]||"bg-gray-100 text-gray-800"}`,children:oe.charAt(0).toUpperCase()+oe.slice(1).replace("-"," ")})},se=X.filter(oe=>{var xe,ue,ge;return((xe=oe.name)==null?void 0:xe.toLowerCase().includes(k.toLowerCase()))||((ue=oe.brand)==null?void 0:ue.toLowerCase().includes(k.toLowerCase()))||((ge=oe.model)==null?void 0:ge.toLowerCase().includes(k.toLowerCase()))});return L||A?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"Loading equipment management..."})]})}):O?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Equipment Management"}),a.jsx("p",{className:"text-slate-600",children:"Manage equipment allocation for this show"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>i("list"),className:`p-2 rounded-md transition-colors ${r==="list"?"bg-white text-primary-600 shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:a.jsx(Fc,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>i("card"),className:`p-2 rounded-md transition-colors ${r==="card"?"bg-white text-primary-600 shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:a.jsx(Bc,{className:"w-4 h-4"})})]}),a.jsxs(Se,{onClick:()=>d(!0),className:"flex items-center space-x-2",children:[a.jsx(lp,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Equipment"})]})]})]}),q.length===0?a.jsx(Re,{className:"text-center py-12",children:a.jsxs(Re.Body,{children:[a.jsx("div",{className:"text-slate-300 mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:"No equipment allocated"}),a.jsx("p",{className:"text-slate-600 mb-4",children:"Start by adding equipment to this show"}),a.jsx(Se,{onClick:()=>d(!0),children:"Add Equipment"})]})}):r==="list"?a.jsx(Re,{children:a.jsx(Re.Body,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Equipment"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Quantity"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Notes"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:q.map(oe=>{var xe,ue,ge;return a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-800",children:(xe=oe.equipment)==null?void 0:xe.name}),a.jsxs("div",{className:"text-sm text-slate-600",children:[(ue=oe.equipment)==null?void 0:ue.brand," ",(ge=oe.equipment)==null?void 0:ge.model]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:["Needed: ",oe.quantity_needed]}),a.jsxs("div",{children:["Allocated: ",oe.quantity_allocated]})]})}),a.jsx("td",{className:"py-3 px-4",children:Ne(oe.status)}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("div",{className:"text-sm text-slate-600 max-w-xs truncate",children:oe.notes||"No notes"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[oe.status==="requested"&&a.jsx(Se,{size:"sm",onClick:()=>re(oe.id),disabled:H.isLoading,children:""}),(oe.status==="checked-out"||oe.status==="in-use")&&a.jsx(Se,{size:"sm",variant:"outline",onClick:()=>ee(oe.id),disabled:V.isLoading,children:"Return"}),a.jsx(Se,{size:"sm",variant:"outline",onClick:()=>de(oe.id),disabled:R.isLoading,className:"text-red-600 hover:text-red-700",children:a.jsx(pd,{className:"w-3 h-3"})})]})})]},oe.id)})})]})})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(oe=>{var xe,ue,ge;return a.jsx(Re,{children:a.jsxs(Re.Body,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-slate-800",children:(xe=oe.equipment)==null?void 0:xe.name}),a.jsxs("p",{className:"text-sm text-slate-600",children:[(ue=oe.equipment)==null?void 0:ue.brand," ",(ge=oe.equipment)==null?void 0:ge.model]})]}),Ne(oe.status)]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Needed:"}),a.jsx("span",{className:"font-medium",children:oe.quantity_needed})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Allocated:"}),a.jsx("span",{className:"font-medium",children:oe.quantity_allocated})]}),oe.notes&&a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Notes:"}),a.jsx("p",{className:"text-slate-800 mt-1",children:oe.notes})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[oe.status==="requested"&&a.jsx(Se,{size:"sm",onClick:()=>re(oe.id),disabled:H.isLoading,className:"flex-1",children:"Check Out"}),(oe.status==="checked-out"||oe.status==="in-use")&&a.jsx(Se,{size:"sm",variant:"outline",onClick:()=>ee(oe.id),disabled:V.isLoading,className:"flex-1",children:"Return"}),a.jsx(Se,{size:"sm",variant:"outline",onClick:()=>de(oe.id),disabled:R.isLoading,className:"text-red-600 hover:text-red-700",children:a.jsx(pd,{className:"w-4 h-4"})})]})]})},oe.id)})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Add Equipment to Show"}),a.jsx("div",{className:"mb-4",children:a.jsx(dt,{placeholder:"Search equipment...",value:k,onChange:oe=>j(oe.target.value)})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Select Equipment"}),a.jsx("div",{className:"max-h-60 overflow-y-auto border border-slate-200 rounded-lg",children:se.map(oe=>a.jsxs("div",{onClick:()=>v(oe),className:`p-3 cursor-pointer border-b border-slate-100 hover:bg-slate-50 ${(x==null?void 0:x.id)===oe.id?"bg-primary-50 border-primary-200":""}`,children:[a.jsx("div",{className:"font-medium text-slate-800",children:oe.name}),a.jsxs("div",{className:"text-sm text-slate-600",children:[oe.brand," ",oe.model," - Qty: ",oe.quantity]})]},oe.id))})]}),x&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Quantity Needed"}),a.jsx(dt,{type:"number",min:"1",max:x.quantity,value:g,onChange:oe=>w(parseInt(oe.target.value)||1)})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notes (Optional)"}),a.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:"3",value:N,onChange:oe=>S(oe.target.value),placeholder:"Add any notes about this equipment allocation..."})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(Se,{variant:"outline",onClick:()=>{d(!1),v(null),w(1),S(""),j("")},children:"Cancel"}),a.jsx(Se,{onClick:te,disabled:!x||g<=0||F.isLoading,children:F.isLoading?"Adding...":"Add Equipment"})]})]})})]}):a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:" Show not found"}),a.jsx(Se,{onClick:()=>t("/show-list"),children:"Back to Show List"})]})})},dz=()=>{const{showId:e}=$h(),t=Gr(),n=jn(),[r,i]=M.useState("details"),[o,d]=M.useState(!1),[x,v]=M.useState({name:"",date:"",venue:"",director:"",description:"",status:"planning"}),{data:g,isLoading:w,error:N}=pt({queryKey:["show",e],queryFn:()=>f5(e),onSuccess:A=>{v({name:A.name||"",date:A.date?A.date.split("T")[0]:"",venue:A.venue||"",director:A.director||"",description:A.description||"",status:A.status||"planning"})},onError:A=>{Nt.error(`Failed to load show: ${A.message}`)}}),S=Ut({mutationFn:A=>h5(e,A),onSuccess:()=>{n.invalidateQueries(["show",e]),n.invalidateQueries(["shows"]),Nt.success("Show updated successfully"),d(!1)},onError:A=>{Nt.error(`Failed to update show: ${A.message}`)}}),k=Ut({mutationFn:()=>p5(e),onSuccess:()=>{n.invalidateQueries(["shows"]),Nt.success("Show deleted successfully"),t("/show-list")},onError:A=>{Nt.error(`Failed to delete show: ${A.message}`)}}),j=()=>{g&&(v({name:g.name||"",date:g.date?g.date.split("T")[0]:"",venue:g.venue||"",director:g.director||"",description:g.description||"",status:g.status||"planning"}),d(!0))},O=()=>{x.name&&x.date&&S.mutate(x)},L=()=>{window.confirm("Are you sure you want to delete this show?")&&k.mutate()},T=A=>{const I={planning:"bg-blue-100 text-blue-800","in-progress":"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",archived:"bg-gray-100 text-gray-800"};return a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${I[A]||"bg-gray-100 text-gray-800"}`,children:A.charAt(0).toUpperCase()+A.slice(1).replace("-"," ")})};return w?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"Loading show details..."})]})}):N||!g?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:" Show not found"}),a.jsx("p",{className:"text-slate-600 mb-4",children:(N==null?void 0:N.message)||"Show not found"}),a.jsx(Se,{onClick:()=>t("/show-list"),children:"Back to Show List"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(Se,{variant:"outline",onClick:()=>t("/show-list"),className:"flex items-center space-x-2",children:[a.jsx(VN,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Shows"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:g.name}),a.jsx("p",{className:"text-slate-600",children:new Date(g.date).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[T(g.status),!o&&a.jsxs(a.Fragment,{children:[a.jsxs(Se,{variant:"outline",onClick:j,className:"flex items-center space-x-2",children:[a.jsx(nl,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}),a.jsxs(Se,{variant:"outline",onClick:L,disabled:k.isLoading,className:"flex items-center space-x-2 text-red-600 hover:text-red-700",children:[a.jsx(pd,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete"})]})]})]})]}),a.jsx("div",{className:"border-b border-slate-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{onClick:()=>i("details"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="details"?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Show Details"}),a.jsxs("button",{onClick:()=>i("equipment"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="equipment"?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:["Equipment Management",g.equipmentCount>0&&a.jsx("span",{className:"ml-2 bg-primary-100 text-primary-600 py-0.5 px-2 rounded-full text-xs",children:g.equipmentCount})]})]})}),r==="details"&&a.jsxs(Re,{children:[a.jsx(Re.Header,{children:a.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Show Information"})}),a.jsx(Re.Body,{children:o?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Show Name *"}),a.jsx(dt,{value:x.name,onChange:A=>v({...x,name:A.target.value}),placeholder:"Enter show name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date *"}),a.jsx(dt,{type:"date",value:x.date,onChange:A=>v({...x,date:A.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Venue"}),a.jsx(dt,{value:x.venue,onChange:A=>v({...x,venue:A.target.value}),placeholder:"Enter venue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Director"}),a.jsx(dt,{value:x.director,onChange:A=>v({...x,director:A.target.value}),placeholder:"Enter director name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),a.jsxs("select",{value:x.status,onChange:A=>v({...x,status:A.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"planning",children:"Planning"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"archived",children:"Archived"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),a.jsx("textarea",{value:x.description,onChange:A=>v({...x,description:A.target.value}),rows:"4",className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter show description"})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(Se,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),a.jsx(Se,{onClick:O,disabled:!x.name||!x.date||S.isLoading,children:S.isLoading?"Saving...":"Save Changes"})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Show Name"}),a.jsx("p",{className:"mt-1 text-lg text-slate-900",children:g.name})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Date"}),a.jsx("p",{className:"mt-1 text-lg text-slate-900",children:new Date(g.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Venue"}),a.jsx("p",{className:"mt-1 text-lg text-slate-900",children:g.venue||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Director"}),a.jsx("p",{className:"mt-1 text-lg text-slate-900",children:g.director||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Status"}),a.jsx("div",{className:"mt-1",children:T(g.status)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Equipment Count"}),a.jsxs("p",{className:"mt-1 text-lg text-slate-900",children:[g.equipmentCount||0," items"]})]})]}),g.description&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Description"}),a.jsx("p",{className:"mt-1 text-slate-900",children:g.description})]}),g.creator&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Created By"}),a.jsx("p",{className:"mt-1 text-slate-900",children:g.creator.username})]})]})})]}),r==="equipment"&&a.jsx(m5,{})]})},fz=new l7({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),ii=({children:e})=>{const{user:t,loading:n}=lr();return n?a.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?e:a.jsx(th,{to:"/login"})},w3=({children:e})=>{const{user:t,loading:n,isAdmin:r}=lr();return n?a.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?r()?e:a.jsx(th,{to:"/dashboard"}):a.jsx(th,{to:"/login"})},gs=({children:e})=>{const[t,n]=M.useState(!0),[r,i]=M.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx(eL,{}),a.jsx(K9,{}),a.jsx(J9,{isOpen:t,isCollapsed:r,toggleSidebar:n,toggleCollapse:i}),a.jsx("main",{className:`main-content pt-16 ${t?r?"main-content-with-sidebar-collapsed":"main-content-with-sidebar":""}`,children:a.jsx("div",{className:"container-app",children:a.jsx("div",{className:"space-y-6",children:e})})})]})},hz=()=>a.jsx(HD,{children:a.jsxs(PD,{children:[a.jsx(Dr,{path:"/login",element:a.jsx(tL,{})}),a.jsx(Dr,{path:"/",element:a.jsx(ii,{children:a.jsx(gs,{children:a.jsx(r3,{})})})}),a.jsx(Dr,{path:"/dashboard",element:a.jsx(ii,{children:a.jsx(gs,{children:a.jsx(r3,{})})})}),a.jsx(Dr,{path:"/simple-dashboard",element:a.jsx(ii,{children:a.jsx(gs,{children:a.jsx(TF,{})})})}),a.jsx(Dr,{path:"/equipment/new",element:a.jsx(ii,{children:a.jsx(gs,{children:a.jsx(JU,{})})})}),a.jsx(Dr,{path:"/equipment/:id/edit",element:a.jsx(ii,{children:a.jsx(gs,{children:a.jsx(KU,{})})})}),a.jsx(Dr,{path:"/equipment/:id",element:a.jsx(ii,{children:a.jsx(gs,{children:a.jsx(QU,{})})})}),a.jsx(Dr,{path:"/equipment",element:a.jsx(ii,{children:a.jsx(gs,{children:a.jsx(fU,{})})})}),a.jsx(Dr,{path:"/show-list",element:a.jsx(ii,{children:a.jsx(gs,{children:a.jsx(uz,{})})})}),a.jsx(Dr,{path:"/show/:showId",element:a.jsx(ii,{children:a.jsx(gs,{children:a.jsx(dz,{})})})}),a.jsx(Dr,{path:"/show/:showId/manage-equipment",element:a.jsx(ii,{children:a.jsx(gs,{children:a.jsx(m5,{})})})}),a.jsx(Dr,{path:"/admin",element:a.jsx(w3,{children:a.jsx(gs,{children:a.jsx(ez,{})})})}),a.jsx(Dr,{path:"/equipment-logs",element:a.jsx(w3,{children:a.jsx(gs,{children:a.jsx(tz,{})})})}),a.jsx(Dr,{path:"/settings",element:a.jsx(ii,{children:a.jsx(gs,{children:a.jsx(fB,{})})})}),a.jsx(Dr,{path:"*",element:a.jsx(th,{to:"/"})})]})}),pz=()=>a.jsx(N7,{client:fz,children:a.jsx(mR,{children:a.jsxs(HN,{children:[a.jsx(ap,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),a.jsx(hz,{})]})})});const mz=async()=>{try{return(await ht.get("/api/csrf-token",{withCredentials:!0})).data.csrfToken}catch(e){return console.error("Failed to fetch CSRF token:",e),null}},xz=async()=>{ht.defaults.withCredentials=!0;const e=localStorage.getItem("token");e&&(ht.defaults.headers.common.Authorization=`Bearer ${e}`),ht.interceptors.response.use(t=>t,async t=>{var r;const n=t.config;if(n&&(n.url.includes("/files/")||n.url.includes("/public-files/")))return console.log("File access error:",t),Promise.reject(t);if(((r=t.response)==null?void 0:r.status)===401&&!n._retry){n._retry=!0;try{return window.location.pathname!=="/login"&&(localStorage.removeItem("token"),delete ht.defaults.headers.common.Authorization,alert("Your session has expired. Please log in again."),window.location.href="/login"),Promise.reject(t)}catch(i){return Promise.reject(i)}}return Promise.reject(t)});{const t=await mz();t&&ht.interceptors.request.use(async n=>(n.method!=="get"&&(n.headers["CSRF-Token"]=t),n),n=>Promise.reject(n))}return ht};console.log("API URL:","https://tonlager.kinsta.app");console.log("Environment PROD:",!0);console.log("Environment MODE:","production");console.log(" Theater Equipment Catalog - Kinsta Deployment v3");let Ah;window.location.hostname==="tonlager.kinsta.app"?(Ah="",console.log(" Kinsta detected - using relative URL")):(Ah="",console.log(" Production mode - using relative URL"));ht.defaults.baseURL=Ah;console.log("Setting axios baseURL to:",Ah);const gz=async()=>{await xz(),mm.createRoot(document.getElementById("root")).render(a.jsx(fe.StrictMode,{children:a.jsx(pz,{})}))};gz();
//# sourceMappingURL=index-5aeb12b3.js.map
