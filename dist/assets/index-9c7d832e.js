var NR=Object.defineProperty;var _R=(e,t,n)=>t in e?NR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fn=(e,t,n)=>(_R(e,typeof t!="symbol"?t+"":t,n),n);function wC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var no=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yC={exports:{}},Lg={},bC={exports:{}},br={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp=Symbol.for("react.element"),SR=Symbol.for("react.portal"),CR=Symbol.for("react.fragment"),ER=Symbol.for("react.strict_mode"),AR=Symbol.for("react.profiler"),jR=Symbol.for("react.provider"),kR=Symbol.for("react.context"),TR=Symbol.for("react.forward_ref"),LR=Symbol.for("react.suspense"),IR=Symbol.for("react.memo"),DR=Symbol.for("react.lazy"),ZN=Symbol.iterator;function OR(e){return e===null||typeof e!="object"?null:(e=ZN&&e[ZN]||e["@@iterator"],typeof e=="function"?e:null)}var NC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_C=Object.assign,SC={};function Qh(e,t,n){this.props=e,this.context=t,this.refs=SC,this.updater=n||NC}Qh.prototype.isReactComponent={};Qh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function CC(){}CC.prototype=Qh.prototype;function Ob(e,t,n){this.props=e,this.context=t,this.refs=SC,this.updater=n||NC}var Rb=Ob.prototype=new CC;Rb.constructor=Ob;_C(Rb,Qh.prototype);Rb.isPureReactComponent=!0;var JN=Array.isArray,EC=Object.prototype.hasOwnProperty,Mb={current:null},AC={key:!0,ref:!0,__self:!0,__source:!0};function jC(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)EC.call(t,r)&&!AC.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),f=0;f<c;f++)u[f]=arguments[f+2];i.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Zp,type:e,key:a,ref:o,props:i,_owner:Mb.current}}function RR(e,t){return{$$typeof:Zp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zp}function MR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var e6=/\/+/g;function Nw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MR(""+e.key):t.toString(36)}function Bx(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Zp:case SR:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Nw(o,0):r,JN(i)?(n="",e!=null&&(n=e.replace(e6,"$&/")+"/"),Bx(i,t,n,"",function(f){return f})):i!=null&&(Pb(i)&&(i=RR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(e6,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",JN(e))for(var c=0;c<e.length;c++){a=e[c];var u=r+Nw(a,c);o+=Bx(a,t,n,u,i)}else if(u=OR(e),typeof u=="function")for(e=u.call(e),c=0;!(a=e.next()).done;)a=a.value,u=r+Nw(a,c++),o+=Bx(a,t,n,u,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Jm(e,t,n){if(e==null)return e;var r=[],i=0;return Bx(e,r,"","",function(a){return t.call(n,a,i++)}),r}function PR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var oo={current:null},Ux={transition:null},FR={ReactCurrentDispatcher:oo,ReactCurrentBatchConfig:Ux,ReactCurrentOwner:Mb};function kC(){throw Error("act(...) is not supported in production builds of React.")}br.Children={map:Jm,forEach:function(e,t,n){Jm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jm(e,function(){t++}),t},toArray:function(e){return Jm(e,function(t){return t})||[]},only:function(e){if(!Pb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};br.Component=Qh;br.Fragment=CR;br.Profiler=AR;br.PureComponent=Ob;br.StrictMode=ER;br.Suspense=LR;br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FR;br.act=kC;br.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_C({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Mb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)EC.call(t,u)&&!AC.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var f=0;f<u;f++)c[f]=arguments[f+2];r.children=c}return{$$typeof:Zp,type:e.type,key:i,ref:a,props:r,_owner:o}};br.createContext=function(e){return e={$$typeof:kR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jR,_context:e},e.Consumer=e};br.createElement=jC;br.createFactory=function(e){var t=jC.bind(null,e);return t.type=e,t};br.createRef=function(){return{current:null}};br.forwardRef=function(e){return{$$typeof:TR,render:e}};br.isValidElement=Pb;br.lazy=function(e){return{$$typeof:DR,_payload:{_status:-1,_result:e},_init:PR}};br.memo=function(e,t){return{$$typeof:IR,type:e,compare:t===void 0?null:t}};br.startTransition=function(e){var t=Ux.transition;Ux.transition={};try{e()}finally{Ux.transition=t}};br.unstable_act=kC;br.useCallback=function(e,t){return oo.current.useCallback(e,t)};br.useContext=function(e){return oo.current.useContext(e)};br.useDebugValue=function(){};br.useDeferredValue=function(e){return oo.current.useDeferredValue(e)};br.useEffect=function(e,t){return oo.current.useEffect(e,t)};br.useId=function(){return oo.current.useId()};br.useImperativeHandle=function(e,t,n){return oo.current.useImperativeHandle(e,t,n)};br.useInsertionEffect=function(e,t){return oo.current.useInsertionEffect(e,t)};br.useLayoutEffect=function(e,t){return oo.current.useLayoutEffect(e,t)};br.useMemo=function(e,t){return oo.current.useMemo(e,t)};br.useReducer=function(e,t,n){return oo.current.useReducer(e,t,n)};br.useRef=function(e){return oo.current.useRef(e)};br.useState=function(e){return oo.current.useState(e)};br.useSyncExternalStore=function(e,t,n){return oo.current.useSyncExternalStore(e,t,n)};br.useTransition=function(){return oo.current.useTransition()};br.version="18.3.1";bC.exports=br;var K=bC.exports;const ht=Tg(K),Fb=wC({__proto__:null,default:ht},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BR=K,UR=Symbol.for("react.element"),zR=Symbol.for("react.fragment"),WR=Object.prototype.hasOwnProperty,qR=BR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HR={key:!0,ref:!0,__self:!0,__source:!0};function TC(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)WR.call(t,r)&&!HR.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:UR,type:e,key:a,ref:o,props:i,_owner:qR.current}}Lg.Fragment=zR;Lg.jsx=TC;Lg.jsxs=TC;yC.exports=Lg;var s=yC.exports,My={},LC={exports:{}},nl={},IC={exports:{}},DC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ge,Be){var _e=ge.length;ge.push(Be);e:for(;0<_e;){var ct=_e-1>>>1,U=ge[ct];if(0<i(U,Be))ge[ct]=Be,ge[_e]=U,_e=ct;else break e}}function n(ge){return ge.length===0?null:ge[0]}function r(ge){if(ge.length===0)return null;var Be=ge[0],_e=ge.pop();if(_e!==Be){ge[0]=_e;e:for(var ct=0,U=ge.length,Z=U>>>1;ct<Z;){var Q=2*(ct+1)-1,ne=ge[Q],ce=Q+1,be=ge[ce];if(0>i(ne,_e))ce<U&&0>i(be,ne)?(ge[ct]=be,ge[ce]=_e,ct=ce):(ge[ct]=ne,ge[Q]=_e,ct=Q);else if(ce<U&&0>i(be,_e))ge[ct]=be,ge[ce]=_e,ct=ce;else break e}}return Be}function i(ge,Be){var _e=ge.sortIndex-Be.sortIndex;return _e!==0?_e:ge.id-Be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],f=[],p=1,g=null,w=3,y=!1,E=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(ge){for(var Be=n(f);Be!==null;){if(Be.callback===null)r(f);else if(Be.startTime<=ge)r(f),Be.sortIndex=Be.expirationTime,t(u,Be);else break;Be=n(f)}}function P(ge){if(S=!1,D(ge),!E)if(n(u)!==null)E=!0,ee(Y);else{var Be=n(f);Be!==null&&Ae(P,Be.startTime-ge)}}function Y(ge,Be){E=!1,S&&(S=!1,j(B),B=-1),y=!0;var _e=w;try{for(D(Be),g=n(u);g!==null&&(!(g.expirationTime>Be)||ge&&!H());){var ct=g.callback;if(typeof ct=="function"){g.callback=null,w=g.priorityLevel;var U=ct(g.expirationTime<=Be);Be=e.unstable_now(),typeof U=="function"?g.callback=U:g===n(u)&&r(u),D(Be)}else r(u);g=n(u)}if(g!==null)var Z=!0;else{var Q=n(f);Q!==null&&Ae(P,Q.startTime-Be),Z=!1}return Z}finally{g=null,w=_e,y=!1}}var z=!1,R=null,B=-1,q=5,te=-1;function H(){return!(e.unstable_now()-te<q)}function W(){if(R!==null){var ge=e.unstable_now();te=ge;var Be=!0;try{Be=R(!0,ge)}finally{Be?J():(z=!1,R=null)}}else z=!1}var J;if(typeof k=="function")J=function(){k(W)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,se=ue.port2;ue.port1.onmessage=W,J=function(){se.postMessage(null)}}else J=function(){A(W,0)};function ee(ge){R=ge,z||(z=!0,J())}function Ae(ge,Be){B=A(function(){ge(e.unstable_now())},Be)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ge){ge.callback=null},e.unstable_continueExecution=function(){E||y||(E=!0,ee(Y))},e.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<ge?Math.floor(1e3/ge):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ge){switch(w){case 1:case 2:case 3:var Be=3;break;default:Be=w}var _e=w;w=Be;try{return ge()}finally{w=_e}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ge,Be){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var _e=w;w=ge;try{return Be()}finally{w=_e}},e.unstable_scheduleCallback=function(ge,Be,_e){var ct=e.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?ct+_e:ct):_e=ct,ge){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=_e+U,ge={id:p++,callback:Be,priorityLevel:ge,startTime:_e,expirationTime:U,sortIndex:-1},_e>ct?(ge.sortIndex=_e,t(f,ge),n(u)===null&&ge===n(f)&&(S?(j(B),B=-1):S=!0,Ae(P,_e-ct))):(ge.sortIndex=U,t(u,ge),E||y||(E=!0,ee(Y))),ge},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(ge){var Be=w;return function(){var _e=w;w=Be;try{return ge.apply(this,arguments)}finally{w=_e}}}})(DC);IC.exports=DC;var VR=IC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $R=K,el=VR;function Gt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OC=new Set,gp={};function df(e,t){Ih(e,t),Ih(e+"Capture",t)}function Ih(e,t){for(gp[e]=t,e=0;e<t.length;e++)OC.add(t[e])}var Fu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Py=Object.prototype.hasOwnProperty,YR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,t6={},n6={};function GR(e){return Py.call(n6,e)?!0:Py.call(t6,e)?!1:YR.test(e)?n6[e]=!0:(t6[e]=!0,!1)}function XR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KR(e,t,n,r){if(t===null||typeof t>"u"||XR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lo(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var bs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bs[e]=new lo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bs[t]=new lo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bs[e]=new lo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bs[e]=new lo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bs[e]=new lo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bs[e]=new lo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bs[e]=new lo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bs[e]=new lo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bs[e]=new lo(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bb=/[\-:]([a-z])/g;function Ub(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bb,Ub);bs[t]=new lo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bb,Ub);bs[t]=new lo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bb,Ub);bs[t]=new lo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bs[e]=new lo(e,1,!1,e.toLowerCase(),null,!1,!1)});bs.xlinkHref=new lo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bs[e]=new lo(e,1,!1,e.toLowerCase(),null,!0,!0)});function zb(e,t,n,r){var i=bs.hasOwnProperty(t)?bs[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KR(t,n,i,r)&&(n=null),r||i===null?GR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xu=$R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ex=Symbol.for("react.element"),Zf=Symbol.for("react.portal"),Jf=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Fy=Symbol.for("react.profiler"),RC=Symbol.for("react.provider"),MC=Symbol.for("react.context"),qb=Symbol.for("react.forward_ref"),By=Symbol.for("react.suspense"),Uy=Symbol.for("react.suspense_list"),Hb=Symbol.for("react.memo"),jd=Symbol.for("react.lazy"),PC=Symbol.for("react.offscreen"),r6=Symbol.iterator;function T1(e){return e===null||typeof e!="object"?null:(e=r6&&e[r6]||e["@@iterator"],typeof e=="function"?e:null)}var Ji=Object.assign,_w;function $1(e){if(_w===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_w=t&&t[1]||""}return`
`+_w+e}var Sw=!1;function Cw(e,t){if(!e||Sw)return"";Sw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,c=a.length-1;1<=o&&0<=c&&i[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==a[c]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=c);break}}}finally{Sw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$1(e):""}function QR(e){switch(e.tag){case 5:return $1(e.type);case 16:return $1("Lazy");case 13:return $1("Suspense");case 19:return $1("SuspenseList");case 0:case 2:case 15:return e=Cw(e.type,!1),e;case 11:return e=Cw(e.type.render,!1),e;case 1:return e=Cw(e.type,!0),e;default:return""}}function zy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jf:return"Fragment";case Zf:return"Portal";case Fy:return"Profiler";case Wb:return"StrictMode";case By:return"Suspense";case Uy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case MC:return(e.displayName||"Context")+".Consumer";case RC:return(e._context.displayName||"Context")+".Provider";case qb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hb:return t=e.displayName||null,t!==null?t:zy(e.type)||"Memo";case jd:t=e._payload,e=e._init;try{return zy(e(t))}catch{}}return null}function ZR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zy(t);case 8:return t===Wb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function FC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JR(e){var t=FC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tx(e){e._valueTracker||(e._valueTracker=JR(e))}function BC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=FC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function h2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wy(e,t){var n=t.checked;return Ji({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function i6(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jd(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function UC(e,t){t=t.checked,t!=null&&zb(e,"checked",t,!1)}function qy(e,t){UC(e,t);var n=Jd(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hy(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hy(e,t.type,Jd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function a6(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hy(e,t,n){(t!=="number"||h2(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Y1=Array.isArray;function mh(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jd(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Vy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Gt(91));return Ji({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function s6(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Gt(92));if(Y1(n)){if(1<n.length)throw Error(Gt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jd(n)}}function zC(e,t){var n=Jd(t.value),r=Jd(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function o6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function WC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $y(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?WC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nx,qC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nx=nx||document.createElement("div"),nx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var J1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eM=["Webkit","ms","Moz","O"];Object.keys(J1).forEach(function(e){eM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),J1[t]=J1[e]})});function HC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||J1.hasOwnProperty(e)&&J1[e]?(""+t).trim():t+"px"}function VC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var tM=Ji({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yy(e,t){if(t){if(tM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Gt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Gt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Gt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Gt(62))}}function Gy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xy=null;function Vb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ky=null,xh=null,gh=null;function l6(e){if(e=tm(e)){if(typeof Ky!="function")throw Error(Gt(280));var t=e.stateNode;t&&(t=Mg(t),Ky(e.stateNode,e.type,t))}}function $C(e){xh?gh?gh.push(e):gh=[e]:xh=e}function YC(){if(xh){var e=xh,t=gh;if(gh=xh=null,l6(e),t)for(e=0;e<t.length;e++)l6(t[e])}}function GC(e,t){return e(t)}function XC(){}var Ew=!1;function KC(e,t,n){if(Ew)return e(t,n);Ew=!0;try{return GC(e,t,n)}finally{Ew=!1,(xh!==null||gh!==null)&&(XC(),YC())}}function wp(e,t){var n=e.stateNode;if(n===null)return null;var r=Mg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Gt(231,t,typeof n));return n}var Qy=!1;if(Fu)try{var L1={};Object.defineProperty(L1,"passive",{get:function(){Qy=!0}}),window.addEventListener("test",L1,L1),window.removeEventListener("test",L1,L1)}catch{Qy=!1}function nM(e,t,n,r,i,a,o,c,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var ep=!1,p2=null,m2=!1,Zy=null,rM={onError:function(e){ep=!0,p2=e}};function iM(e,t,n,r,i,a,o,c,u){ep=!1,p2=null,nM.apply(rM,arguments)}function aM(e,t,n,r,i,a,o,c,u){if(iM.apply(this,arguments),ep){if(ep){var f=p2;ep=!1,p2=null}else throw Error(Gt(198));m2||(m2=!0,Zy=f)}}function ff(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function QC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c6(e){if(ff(e)!==e)throw Error(Gt(188))}function sM(e){var t=e.alternate;if(!t){if(t=ff(e),t===null)throw Error(Gt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return c6(i),e;if(a===r)return c6(i),t;a=a.sibling}throw Error(Gt(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(Gt(189))}}if(n.alternate!==r)throw Error(Gt(190))}if(n.tag!==3)throw Error(Gt(188));return n.stateNode.current===n?e:t}function ZC(e){return e=sM(e),e!==null?JC(e):null}function JC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=JC(e);if(t!==null)return t;e=e.sibling}return null}var eE=el.unstable_scheduleCallback,u6=el.unstable_cancelCallback,oM=el.unstable_shouldYield,lM=el.unstable_requestPaint,ba=el.unstable_now,cM=el.unstable_getCurrentPriorityLevel,$b=el.unstable_ImmediatePriority,tE=el.unstable_UserBlockingPriority,x2=el.unstable_NormalPriority,uM=el.unstable_LowPriority,nE=el.unstable_IdlePriority,Ig=null,$c=null;function dM(e){if($c&&typeof $c.onCommitFiberRoot=="function")try{$c.onCommitFiberRoot(Ig,e,void 0,(e.current.flags&128)===128)}catch{}}var rc=Math.clz32?Math.clz32:pM,fM=Math.log,hM=Math.LN2;function pM(e){return e>>>=0,e===0?32:31-(fM(e)/hM|0)|0}var rx=64,ix=4194304;function G1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function g2(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?r=G1(c):(a&=o,a!==0&&(r=G1(a)))}else o=n&~i,o!==0?r=G1(o):a!==0&&(r=G1(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rc(t),i=1<<n,r|=e[n],t&=~i;return r}function mM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-rc(a),c=1<<o,u=i[o];u===-1?(!(c&n)||c&r)&&(i[o]=mM(c,t)):u<=t&&(e.expiredLanes|=c),a&=~c}}function Jy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rE(){var e=rx;return rx<<=1,!(rx&4194240)&&(rx=64),e}function Aw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rc(t),e[t]=n}function gM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rc(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Yb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rc(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ri=0;function iE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aE,Gb,sE,oE,lE,e5=!1,ax=[],zd=null,Wd=null,qd=null,yp=new Map,bp=new Map,Ld=[],vM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d6(e,t){switch(e){case"focusin":case"focusout":zd=null;break;case"dragenter":case"dragleave":Wd=null;break;case"mouseover":case"mouseout":qd=null;break;case"pointerover":case"pointerout":yp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bp.delete(t.pointerId)}}function I1(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=tm(t),t!==null&&Gb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wM(e,t,n,r,i){switch(t){case"focusin":return zd=I1(zd,e,t,n,r,i),!0;case"dragenter":return Wd=I1(Wd,e,t,n,r,i),!0;case"mouseover":return qd=I1(qd,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return yp.set(a,I1(yp.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,bp.set(a,I1(bp.get(a)||null,e,t,n,r,i)),!0}return!1}function cE(e){var t=P0(e.target);if(t!==null){var n=ff(t);if(n!==null){if(t=n.tag,t===13){if(t=QC(n),t!==null){e.blockedOn=t,lE(e.priority,function(){sE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=t5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xy=r,n.target.dispatchEvent(r),Xy=null}else return t=tm(n),t!==null&&Gb(t),e.blockedOn=n,!1;t.shift()}return!0}function f6(e,t,n){zx(e)&&n.delete(t)}function yM(){e5=!1,zd!==null&&zx(zd)&&(zd=null),Wd!==null&&zx(Wd)&&(Wd=null),qd!==null&&zx(qd)&&(qd=null),yp.forEach(f6),bp.forEach(f6)}function D1(e,t){e.blockedOn===t&&(e.blockedOn=null,e5||(e5=!0,el.unstable_scheduleCallback(el.unstable_NormalPriority,yM)))}function Np(e){function t(i){return D1(i,e)}if(0<ax.length){D1(ax[0],e);for(var n=1;n<ax.length;n++){var r=ax[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zd!==null&&D1(zd,e),Wd!==null&&D1(Wd,e),qd!==null&&D1(qd,e),yp.forEach(t),bp.forEach(t),n=0;n<Ld.length;n++)r=Ld[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ld.length&&(n=Ld[0],n.blockedOn===null);)cE(n),n.blockedOn===null&&Ld.shift()}var vh=Xu.ReactCurrentBatchConfig,v2=!0;function bM(e,t,n,r){var i=ri,a=vh.transition;vh.transition=null;try{ri=1,Xb(e,t,n,r)}finally{ri=i,vh.transition=a}}function NM(e,t,n,r){var i=ri,a=vh.transition;vh.transition=null;try{ri=4,Xb(e,t,n,r)}finally{ri=i,vh.transition=a}}function Xb(e,t,n,r){if(v2){var i=t5(e,t,n,r);if(i===null)Pw(e,t,r,w2,n),d6(e,r);else if(wM(i,e,t,n,r))r.stopPropagation();else if(d6(e,r),t&4&&-1<vM.indexOf(e)){for(;i!==null;){var a=tm(i);if(a!==null&&aE(a),a=t5(e,t,n,r),a===null&&Pw(e,t,r,w2,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Pw(e,t,r,null,n)}}var w2=null;function t5(e,t,n,r){if(w2=null,e=Vb(r),e=P0(e),e!==null)if(t=ff(e),t===null)e=null;else if(n=t.tag,n===13){if(e=QC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return w2=e,null}function uE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cM()){case $b:return 1;case tE:return 4;case x2:case uM:return 16;case nE:return 536870912;default:return 16}default:return 16}}var Od=null,Kb=null,Wx=null;function dE(){if(Wx)return Wx;var e,t=Kb,n=t.length,r,i="value"in Od?Od.value:Od.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Wx=i.slice(e,1<r?1-r:void 0)}function qx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sx(){return!0}function h6(){return!1}function rl(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?sx:h6,this.isPropagationStopped=h6,this}return Ji(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sx)},persist:function(){},isPersistent:sx}),t}var Zh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qb=rl(Zh),em=Ji({},Zh,{view:0,detail:0}),_M=rl(em),jw,kw,O1,Dg=Ji({},em,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==O1&&(O1&&e.type==="mousemove"?(jw=e.screenX-O1.screenX,kw=e.screenY-O1.screenY):kw=jw=0,O1=e),jw)},movementY:function(e){return"movementY"in e?e.movementY:kw}}),p6=rl(Dg),SM=Ji({},Dg,{dataTransfer:0}),CM=rl(SM),EM=Ji({},em,{relatedTarget:0}),Tw=rl(EM),AM=Ji({},Zh,{animationName:0,elapsedTime:0,pseudoElement:0}),jM=rl(AM),kM=Ji({},Zh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TM=rl(kM),LM=Ji({},Zh,{data:0}),m6=rl(LM),IM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OM[e])?!!t[e]:!1}function Zb(){return RM}var MM=Ji({},em,{key:function(e){if(e.key){var t=IM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zb,charCode:function(e){return e.type==="keypress"?qx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PM=rl(MM),FM=Ji({},Dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x6=rl(FM),BM=Ji({},em,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zb}),UM=rl(BM),zM=Ji({},Zh,{propertyName:0,elapsedTime:0,pseudoElement:0}),WM=rl(zM),qM=Ji({},Dg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HM=rl(qM),VM=[9,13,27,32],Jb=Fu&&"CompositionEvent"in window,tp=null;Fu&&"documentMode"in document&&(tp=document.documentMode);var $M=Fu&&"TextEvent"in window&&!tp,fE=Fu&&(!Jb||tp&&8<tp&&11>=tp),g6=String.fromCharCode(32),v6=!1;function hE(e,t){switch(e){case"keyup":return VM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eh=!1;function YM(e,t){switch(e){case"compositionend":return pE(t);case"keypress":return t.which!==32?null:(v6=!0,g6);case"textInput":return e=t.data,e===g6&&v6?null:e;default:return null}}function GM(e,t){if(eh)return e==="compositionend"||!Jb&&hE(e,t)?(e=dE(),Wx=Kb=Od=null,eh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fE&&t.locale!=="ko"?null:t.data;default:return null}}var XM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XM[e.type]:t==="textarea"}function mE(e,t,n,r){$C(r),t=y2(t,"onChange"),0<t.length&&(n=new Qb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var np=null,_p=null;function KM(e){EE(e,0)}function Og(e){var t=rh(e);if(BC(t))return e}function QM(e,t){if(e==="change")return t}var xE=!1;if(Fu){var Lw;if(Fu){var Iw="oninput"in document;if(!Iw){var y6=document.createElement("div");y6.setAttribute("oninput","return;"),Iw=typeof y6.oninput=="function"}Lw=Iw}else Lw=!1;xE=Lw&&(!document.documentMode||9<document.documentMode)}function b6(){np&&(np.detachEvent("onpropertychange",gE),_p=np=null)}function gE(e){if(e.propertyName==="value"&&Og(_p)){var t=[];mE(t,_p,e,Vb(e)),KC(KM,t)}}function ZM(e,t,n){e==="focusin"?(b6(),np=t,_p=n,np.attachEvent("onpropertychange",gE)):e==="focusout"&&b6()}function JM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Og(_p)}function eP(e,t){if(e==="click")return Og(t)}function tP(e,t){if(e==="input"||e==="change")return Og(t)}function nP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cc=typeof Object.is=="function"?Object.is:nP;function Sp(e,t){if(cc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Py.call(t,i)||!cc(e[i],t[i]))return!1}return!0}function N6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _6(e,t){var n=N6(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=N6(n)}}function vE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wE(){for(var e=window,t=h2();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=h2(e.document)}return t}function e4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rP(e){var t=wE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vE(n.ownerDocument.documentElement,n)){if(r!==null&&e4(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=_6(n,a);var o=_6(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iP=Fu&&"documentMode"in document&&11>=document.documentMode,th=null,n5=null,rp=null,r5=!1;function S6(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;r5||th==null||th!==h2(r)||(r=th,"selectionStart"in r&&e4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rp&&Sp(rp,r)||(rp=r,r=y2(n5,"onSelect"),0<r.length&&(t=new Qb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=th)))}function ox(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nh={animationend:ox("Animation","AnimationEnd"),animationiteration:ox("Animation","AnimationIteration"),animationstart:ox("Animation","AnimationStart"),transitionend:ox("Transition","TransitionEnd")},Dw={},yE={};Fu&&(yE=document.createElement("div").style,"AnimationEvent"in window||(delete nh.animationend.animation,delete nh.animationiteration.animation,delete nh.animationstart.animation),"TransitionEvent"in window||delete nh.transitionend.transition);function Rg(e){if(Dw[e])return Dw[e];if(!nh[e])return e;var t=nh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yE)return Dw[e]=t[n];return e}var bE=Rg("animationend"),NE=Rg("animationiteration"),_E=Rg("animationstart"),SE=Rg("transitionend"),CE=new Map,C6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function l0(e,t){CE.set(e,t),df(t,[e])}for(var Ow=0;Ow<C6.length;Ow++){var Rw=C6[Ow],aP=Rw.toLowerCase(),sP=Rw[0].toUpperCase()+Rw.slice(1);l0(aP,"on"+sP)}l0(bE,"onAnimationEnd");l0(NE,"onAnimationIteration");l0(_E,"onAnimationStart");l0("dblclick","onDoubleClick");l0("focusin","onFocus");l0("focusout","onBlur");l0(SE,"onTransitionEnd");Ih("onMouseEnter",["mouseout","mouseover"]);Ih("onMouseLeave",["mouseout","mouseover"]);Ih("onPointerEnter",["pointerout","pointerover"]);Ih("onPointerLeave",["pointerout","pointerover"]);df("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));df("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));df("onBeforeInput",["compositionend","keypress","textInput","paste"]);df("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));df("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));df("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var X1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oP=new Set("cancel close invalid load scroll toggle".split(" ").concat(X1));function E6(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,aM(r,t,void 0,e),e.currentTarget=null}function EE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,f=c.currentTarget;if(c=c.listener,u!==a&&i.isPropagationStopped())break e;E6(i,c,f),a=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,f=c.currentTarget,c=c.listener,u!==a&&i.isPropagationStopped())break e;E6(i,c,f),a=u}}}if(m2)throw e=Zy,m2=!1,Zy=null,e}function ki(e,t){var n=t[l5];n===void 0&&(n=t[l5]=new Set);var r=e+"__bubble";n.has(r)||(AE(t,e,2,!1),n.add(r))}function Mw(e,t,n){var r=0;t&&(r|=4),AE(n,e,r,t)}var lx="_reactListening"+Math.random().toString(36).slice(2);function Cp(e){if(!e[lx]){e[lx]=!0,OC.forEach(function(n){n!=="selectionchange"&&(oP.has(n)||Mw(n,!1,e),Mw(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lx]||(t[lx]=!0,Mw("selectionchange",!1,t))}}function AE(e,t,n,r){switch(uE(t)){case 1:var i=bM;break;case 4:i=NM;break;default:i=Xb}n=i.bind(null,t,n,e),i=void 0,!Qy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pw(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;c!==null;){if(o=P0(c),o===null)return;if(u=o.tag,u===5||u===6){r=a=o;continue e}c=c.parentNode}}r=r.return}KC(function(){var f=a,p=Vb(n),g=[];e:{var w=CE.get(e);if(w!==void 0){var y=Qb,E=e;switch(e){case"keypress":if(qx(n)===0)break e;case"keydown":case"keyup":y=PM;break;case"focusin":E="focus",y=Tw;break;case"focusout":E="blur",y=Tw;break;case"beforeblur":case"afterblur":y=Tw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=p6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=CM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=UM;break;case bE:case NE:case _E:y=jM;break;case SE:y=WM;break;case"scroll":y=_M;break;case"wheel":y=HM;break;case"copy":case"cut":case"paste":y=TM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=x6}var S=(t&4)!==0,A=!S&&e==="scroll",j=S?w!==null?w+"Capture":null:w;S=[];for(var k=f,D;k!==null;){D=k;var P=D.stateNode;if(D.tag===5&&P!==null&&(D=P,j!==null&&(P=wp(k,j),P!=null&&S.push(Ep(k,P,D)))),A)break;k=k.return}0<S.length&&(w=new y(w,E,null,n,p),g.push({event:w,listeners:S}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",w&&n!==Xy&&(E=n.relatedTarget||n.fromElement)&&(P0(E)||E[Bu]))break e;if((y||w)&&(w=p.window===p?p:(w=p.ownerDocument)?w.defaultView||w.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=f,E=E?P0(E):null,E!==null&&(A=ff(E),E!==A||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=f),y!==E)){if(S=p6,P="onMouseLeave",j="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(S=x6,P="onPointerLeave",j="onPointerEnter",k="pointer"),A=y==null?w:rh(y),D=E==null?w:rh(E),w=new S(P,k+"leave",y,n,p),w.target=A,w.relatedTarget=D,P=null,P0(p)===f&&(S=new S(j,k+"enter",E,n,p),S.target=D,S.relatedTarget=A,P=S),A=P,y&&E)t:{for(S=y,j=E,k=0,D=S;D;D=Uf(D))k++;for(D=0,P=j;P;P=Uf(P))D++;for(;0<k-D;)S=Uf(S),k--;for(;0<D-k;)j=Uf(j),D--;for(;k--;){if(S===j||j!==null&&S===j.alternate)break t;S=Uf(S),j=Uf(j)}S=null}else S=null;y!==null&&A6(g,w,y,S,!1),E!==null&&A!==null&&A6(g,A,E,S,!0)}}e:{if(w=f?rh(f):window,y=w.nodeName&&w.nodeName.toLowerCase(),y==="select"||y==="input"&&w.type==="file")var Y=QM;else if(w6(w))if(xE)Y=tP;else{Y=JM;var z=ZM}else(y=w.nodeName)&&y.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(Y=eP);if(Y&&(Y=Y(e,f))){mE(g,Y,n,p);break e}z&&z(e,w,f),e==="focusout"&&(z=w._wrapperState)&&z.controlled&&w.type==="number"&&Hy(w,"number",w.value)}switch(z=f?rh(f):window,e){case"focusin":(w6(z)||z.contentEditable==="true")&&(th=z,n5=f,rp=null);break;case"focusout":rp=n5=th=null;break;case"mousedown":r5=!0;break;case"contextmenu":case"mouseup":case"dragend":r5=!1,S6(g,n,p);break;case"selectionchange":if(iP)break;case"keydown":case"keyup":S6(g,n,p)}var R;if(Jb)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else eh?hE(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(fE&&n.locale!=="ko"&&(eh||B!=="onCompositionStart"?B==="onCompositionEnd"&&eh&&(R=dE()):(Od=p,Kb="value"in Od?Od.value:Od.textContent,eh=!0)),z=y2(f,B),0<z.length&&(B=new m6(B,e,null,n,p),g.push({event:B,listeners:z}),R?B.data=R:(R=pE(n),R!==null&&(B.data=R)))),(R=$M?YM(e,n):GM(e,n))&&(f=y2(f,"onBeforeInput"),0<f.length&&(p=new m6("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:f}),p.data=R))}EE(g,t)})}function Ep(e,t,n){return{instance:e,listener:t,currentTarget:n}}function y2(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=wp(e,n),a!=null&&r.unshift(Ep(e,a,i)),a=wp(e,t),a!=null&&r.push(Ep(e,a,i))),e=e.return}return r}function Uf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function A6(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var c=n,u=c.alternate,f=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&f!==null&&(c=f,i?(u=wp(n,a),u!=null&&o.unshift(Ep(n,u,c))):i||(u=wp(n,a),u!=null&&o.push(Ep(n,u,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var lP=/\r\n?/g,cP=/\u0000|\uFFFD/g;function j6(e){return(typeof e=="string"?e:""+e).replace(lP,`
`).replace(cP,"")}function cx(e,t,n){if(t=j6(t),j6(e)!==t&&n)throw Error(Gt(425))}function b2(){}var i5=null,a5=null;function s5(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var o5=typeof setTimeout=="function"?setTimeout:void 0,uP=typeof clearTimeout=="function"?clearTimeout:void 0,k6=typeof Promise=="function"?Promise:void 0,dP=typeof queueMicrotask=="function"?queueMicrotask:typeof k6<"u"?function(e){return k6.resolve(null).then(e).catch(fP)}:o5;function fP(e){setTimeout(function(){throw e})}function Fw(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Np(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Np(t)}function Hd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function T6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jh=Math.random().toString(36).slice(2),Uc="__reactFiber$"+Jh,Ap="__reactProps$"+Jh,Bu="__reactContainer$"+Jh,l5="__reactEvents$"+Jh,hP="__reactListeners$"+Jh,pP="__reactHandles$"+Jh;function P0(e){var t=e[Uc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bu]||n[Uc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=T6(e);e!==null;){if(n=e[Uc])return n;e=T6(e)}return t}e=n,n=e.parentNode}return null}function tm(e){return e=e[Uc]||e[Bu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Gt(33))}function Mg(e){return e[Ap]||null}var c5=[],ih=-1;function c0(e){return{current:e}}function Ii(e){0>ih||(e.current=c5[ih],c5[ih]=null,ih--)}function Ci(e,t){ih++,c5[ih]=e.current,e.current=t}var e0={},Ws=c0(e0),Eo=c0(!1),Q0=e0;function Dh(e,t){var n=e.type.contextTypes;if(!n)return e0;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ao(e){return e=e.childContextTypes,e!=null}function N2(){Ii(Eo),Ii(Ws)}function L6(e,t,n){if(Ws.current!==e0)throw Error(Gt(168));Ci(Ws,t),Ci(Eo,n)}function jE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Gt(108,ZR(e)||"Unknown",i));return Ji({},n,r)}function _2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||e0,Q0=Ws.current,Ci(Ws,e),Ci(Eo,Eo.current),!0}function I6(e,t,n){var r=e.stateNode;if(!r)throw Error(Gt(169));n?(e=jE(e,t,Q0),r.__reactInternalMemoizedMergedChildContext=e,Ii(Eo),Ii(Ws),Ci(Ws,e)):Ii(Eo),Ci(Eo,n)}var Su=null,Pg=!1,Bw=!1;function kE(e){Su===null?Su=[e]:Su.push(e)}function mP(e){Pg=!0,kE(e)}function u0(){if(!Bw&&Su!==null){Bw=!0;var e=0,t=ri;try{var n=Su;for(ri=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Su=null,Pg=!1}catch(i){throw Su!==null&&(Su=Su.slice(e+1)),eE($b,u0),i}finally{ri=t,Bw=!1}}return null}var ah=[],sh=0,S2=null,C2=0,vl=[],wl=0,Z0=null,Cu=1,Eu="";function k0(e,t){ah[sh++]=C2,ah[sh++]=S2,S2=e,C2=t}function TE(e,t,n){vl[wl++]=Cu,vl[wl++]=Eu,vl[wl++]=Z0,Z0=e;var r=Cu;e=Eu;var i=32-rc(r)-1;r&=~(1<<i),n+=1;var a=32-rc(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cu=1<<32-rc(t)+i|n<<i|r,Eu=a+e}else Cu=1<<a|n<<i|r,Eu=e}function t4(e){e.return!==null&&(k0(e,1),TE(e,1,0))}function n4(e){for(;e===S2;)S2=ah[--sh],ah[sh]=null,C2=ah[--sh],ah[sh]=null;for(;e===Z0;)Z0=vl[--wl],vl[wl]=null,Eu=vl[--wl],vl[wl]=null,Cu=vl[--wl],vl[wl]=null}var Zo=null,Ko=null,Ui=!1,ec=null;function LE(e,t){var n=bl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function D6(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zo=e,Ko=Hd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zo=e,Ko=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Z0!==null?{id:Cu,overflow:Eu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bl(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Zo=e,Ko=null,!0):!1;default:return!1}}function u5(e){return(e.mode&1)!==0&&(e.flags&128)===0}function d5(e){if(Ui){var t=Ko;if(t){var n=t;if(!D6(e,t)){if(u5(e))throw Error(Gt(418));t=Hd(n.nextSibling);var r=Zo;t&&D6(e,t)?LE(r,n):(e.flags=e.flags&-4097|2,Ui=!1,Zo=e)}}else{if(u5(e))throw Error(Gt(418));e.flags=e.flags&-4097|2,Ui=!1,Zo=e}}}function O6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zo=e}function ux(e){if(e!==Zo)return!1;if(!Ui)return O6(e),Ui=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!s5(e.type,e.memoizedProps)),t&&(t=Ko)){if(u5(e))throw IE(),Error(Gt(418));for(;t;)LE(e,t),t=Hd(t.nextSibling)}if(O6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Gt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ko=Hd(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ko=null}}else Ko=Zo?Hd(e.stateNode.nextSibling):null;return!0}function IE(){for(var e=Ko;e;)e=Hd(e.nextSibling)}function Oh(){Ko=Zo=null,Ui=!1}function r4(e){ec===null?ec=[e]:ec.push(e)}var xP=Xu.ReactCurrentBatchConfig;function R1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Gt(309));var r=n.stateNode}if(!r)throw Error(Gt(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var c=i.refs;o===null?delete c[a]:c[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Gt(284));if(!n._owner)throw Error(Gt(290,e))}return e}function dx(e,t){throw e=Object.prototype.toString.call(t),Error(Gt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function R6(e){var t=e._init;return t(e._payload)}function DE(e){function t(j,k){if(e){var D=j.deletions;D===null?(j.deletions=[k],j.flags|=16):D.push(k)}}function n(j,k){if(!e)return null;for(;k!==null;)t(j,k),k=k.sibling;return null}function r(j,k){for(j=new Map;k!==null;)k.key!==null?j.set(k.key,k):j.set(k.index,k),k=k.sibling;return j}function i(j,k){return j=Gd(j,k),j.index=0,j.sibling=null,j}function a(j,k,D){return j.index=D,e?(D=j.alternate,D!==null?(D=D.index,D<k?(j.flags|=2,k):D):(j.flags|=2,k)):(j.flags|=1048576,k)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function c(j,k,D,P){return k===null||k.tag!==6?(k=$w(D,j.mode,P),k.return=j,k):(k=i(k,D),k.return=j,k)}function u(j,k,D,P){var Y=D.type;return Y===Jf?p(j,k,D.props.children,P,D.key):k!==null&&(k.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===jd&&R6(Y)===k.type)?(P=i(k,D.props),P.ref=R1(j,k,D),P.return=j,P):(P=Kx(D.type,D.key,D.props,null,j.mode,P),P.ref=R1(j,k,D),P.return=j,P)}function f(j,k,D,P){return k===null||k.tag!==4||k.stateNode.containerInfo!==D.containerInfo||k.stateNode.implementation!==D.implementation?(k=Yw(D,j.mode,P),k.return=j,k):(k=i(k,D.children||[]),k.return=j,k)}function p(j,k,D,P,Y){return k===null||k.tag!==7?(k=V0(D,j.mode,P,Y),k.return=j,k):(k=i(k,D),k.return=j,k)}function g(j,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return k=$w(""+k,j.mode,D),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ex:return D=Kx(k.type,k.key,k.props,null,j.mode,D),D.ref=R1(j,null,k),D.return=j,D;case Zf:return k=Yw(k,j.mode,D),k.return=j,k;case jd:var P=k._init;return g(j,P(k._payload),D)}if(Y1(k)||T1(k))return k=V0(k,j.mode,D,null),k.return=j,k;dx(j,k)}return null}function w(j,k,D,P){var Y=k!==null?k.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return Y!==null?null:c(j,k,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ex:return D.key===Y?u(j,k,D,P):null;case Zf:return D.key===Y?f(j,k,D,P):null;case jd:return Y=D._init,w(j,k,Y(D._payload),P)}if(Y1(D)||T1(D))return Y!==null?null:p(j,k,D,P,null);dx(j,D)}return null}function y(j,k,D,P,Y){if(typeof P=="string"&&P!==""||typeof P=="number")return j=j.get(D)||null,c(k,j,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ex:return j=j.get(P.key===null?D:P.key)||null,u(k,j,P,Y);case Zf:return j=j.get(P.key===null?D:P.key)||null,f(k,j,P,Y);case jd:var z=P._init;return y(j,k,D,z(P._payload),Y)}if(Y1(P)||T1(P))return j=j.get(D)||null,p(k,j,P,Y,null);dx(k,P)}return null}function E(j,k,D,P){for(var Y=null,z=null,R=k,B=k=0,q=null;R!==null&&B<D.length;B++){R.index>B?(q=R,R=null):q=R.sibling;var te=w(j,R,D[B],P);if(te===null){R===null&&(R=q);break}e&&R&&te.alternate===null&&t(j,R),k=a(te,k,B),z===null?Y=te:z.sibling=te,z=te,R=q}if(B===D.length)return n(j,R),Ui&&k0(j,B),Y;if(R===null){for(;B<D.length;B++)R=g(j,D[B],P),R!==null&&(k=a(R,k,B),z===null?Y=R:z.sibling=R,z=R);return Ui&&k0(j,B),Y}for(R=r(j,R);B<D.length;B++)q=y(R,j,B,D[B],P),q!==null&&(e&&q.alternate!==null&&R.delete(q.key===null?B:q.key),k=a(q,k,B),z===null?Y=q:z.sibling=q,z=q);return e&&R.forEach(function(H){return t(j,H)}),Ui&&k0(j,B),Y}function S(j,k,D,P){var Y=T1(D);if(typeof Y!="function")throw Error(Gt(150));if(D=Y.call(D),D==null)throw Error(Gt(151));for(var z=Y=null,R=k,B=k=0,q=null,te=D.next();R!==null&&!te.done;B++,te=D.next()){R.index>B?(q=R,R=null):q=R.sibling;var H=w(j,R,te.value,P);if(H===null){R===null&&(R=q);break}e&&R&&H.alternate===null&&t(j,R),k=a(H,k,B),z===null?Y=H:z.sibling=H,z=H,R=q}if(te.done)return n(j,R),Ui&&k0(j,B),Y;if(R===null){for(;!te.done;B++,te=D.next())te=g(j,te.value,P),te!==null&&(k=a(te,k,B),z===null?Y=te:z.sibling=te,z=te);return Ui&&k0(j,B),Y}for(R=r(j,R);!te.done;B++,te=D.next())te=y(R,j,B,te.value,P),te!==null&&(e&&te.alternate!==null&&R.delete(te.key===null?B:te.key),k=a(te,k,B),z===null?Y=te:z.sibling=te,z=te);return e&&R.forEach(function(W){return t(j,W)}),Ui&&k0(j,B),Y}function A(j,k,D,P){if(typeof D=="object"&&D!==null&&D.type===Jf&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case ex:e:{for(var Y=D.key,z=k;z!==null;){if(z.key===Y){if(Y=D.type,Y===Jf){if(z.tag===7){n(j,z.sibling),k=i(z,D.props.children),k.return=j,j=k;break e}}else if(z.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===jd&&R6(Y)===z.type){n(j,z.sibling),k=i(z,D.props),k.ref=R1(j,z,D),k.return=j,j=k;break e}n(j,z);break}else t(j,z);z=z.sibling}D.type===Jf?(k=V0(D.props.children,j.mode,P,D.key),k.return=j,j=k):(P=Kx(D.type,D.key,D.props,null,j.mode,P),P.ref=R1(j,k,D),P.return=j,j=P)}return o(j);case Zf:e:{for(z=D.key;k!==null;){if(k.key===z)if(k.tag===4&&k.stateNode.containerInfo===D.containerInfo&&k.stateNode.implementation===D.implementation){n(j,k.sibling),k=i(k,D.children||[]),k.return=j,j=k;break e}else{n(j,k);break}else t(j,k);k=k.sibling}k=Yw(D,j.mode,P),k.return=j,j=k}return o(j);case jd:return z=D._init,A(j,k,z(D._payload),P)}if(Y1(D))return E(j,k,D,P);if(T1(D))return S(j,k,D,P);dx(j,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,k!==null&&k.tag===6?(n(j,k.sibling),k=i(k,D),k.return=j,j=k):(n(j,k),k=$w(D,j.mode,P),k.return=j,j=k),o(j)):n(j,k)}return A}var Rh=DE(!0),OE=DE(!1),E2=c0(null),A2=null,oh=null,i4=null;function a4(){i4=oh=A2=null}function s4(e){var t=E2.current;Ii(E2),e._currentValue=t}function f5(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wh(e,t){A2=e,i4=oh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Co=!0),e.firstContext=null)}function _l(e){var t=e._currentValue;if(i4!==e)if(e={context:e,memoizedValue:t,next:null},oh===null){if(A2===null)throw Error(Gt(308));oh=e,A2.dependencies={lanes:0,firstContext:e}}else oh=oh.next=e;return t}var F0=null;function o4(e){F0===null?F0=[e]:F0.push(e)}function RE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,o4(t)):(n.next=i.next,i.next=n),t.interleaved=n,Uu(e,r)}function Uu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kd=!1;function l4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ME(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ku(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vd(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ir&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Uu(e,n)}return i=r.interleaved,i===null?(t.next=t,o4(r)):(t.next=i.next,i.next=t),r.interleaved=t,Uu(e,n)}function Hx(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yb(e,n)}}function M6(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function j2(e,t,n,r){var i=e.updateQueue;kd=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,f=u.next;u.next=null,o===null?a=f:o.next=f,o=u;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==o&&(c===null?p.firstBaseUpdate=f:c.next=f,p.lastBaseUpdate=u))}if(a!==null){var g=i.baseState;o=0,p=f=u=null,c=a;do{var w=c.lane,y=c.eventTime;if((r&w)===w){p!==null&&(p=p.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var E=e,S=c;switch(w=t,y=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){g=E.call(y,g,w);break e}g=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,w=typeof E=="function"?E.call(y,g,w):E,w==null)break e;g=Ji({},g,w);break e;case 2:kd=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,w=i.effects,w===null?i.effects=[c]:w.push(c))}else y={eventTime:y,lane:w,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(f=p=y,u=g):p=p.next=y,o|=w;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;w=c,c=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(1);if(p===null&&(u=g),i.baseState=u,i.firstBaseUpdate=f,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ef|=o,e.lanes=o,e.memoizedState=g}}function P6(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Gt(191,i));i.call(r)}}}var nm={},Yc=c0(nm),jp=c0(nm),kp=c0(nm);function B0(e){if(e===nm)throw Error(Gt(174));return e}function c4(e,t){switch(Ci(kp,t),Ci(jp,e),Ci(Yc,nm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$y(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$y(t,e)}Ii(Yc),Ci(Yc,t)}function Mh(){Ii(Yc),Ii(jp),Ii(kp)}function PE(e){B0(kp.current);var t=B0(Yc.current),n=$y(t,e.type);t!==n&&(Ci(jp,e),Ci(Yc,n))}function u4(e){jp.current===e&&(Ii(Yc),Ii(jp))}var Ki=c0(0);function k2(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uw=[];function d4(){for(var e=0;e<Uw.length;e++)Uw[e]._workInProgressVersionPrimary=null;Uw.length=0}var Vx=Xu.ReactCurrentDispatcher,zw=Xu.ReactCurrentBatchConfig,J0=0,Zi=null,Ya=null,es=null,T2=!1,ip=!1,Tp=0,gP=0;function ks(){throw Error(Gt(321))}function f4(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cc(e[n],t[n]))return!1;return!0}function h4(e,t,n,r,i,a){if(J0=a,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vx.current=e===null||e.memoizedState===null?bP:NP,e=n(r,i),ip){a=0;do{if(ip=!1,Tp=0,25<=a)throw Error(Gt(301));a+=1,es=Ya=null,t.updateQueue=null,Vx.current=_P,e=n(r,i)}while(ip)}if(Vx.current=L2,t=Ya!==null&&Ya.next!==null,J0=0,es=Ya=Zi=null,T2=!1,t)throw Error(Gt(300));return e}function p4(){var e=Tp!==0;return Tp=0,e}function Pc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return es===null?Zi.memoizedState=es=e:es=es.next=e,es}function Sl(){if(Ya===null){var e=Zi.alternate;e=e!==null?e.memoizedState:null}else e=Ya.next;var t=es===null?Zi.memoizedState:es.next;if(t!==null)es=t,Ya=e;else{if(e===null)throw Error(Gt(310));Ya=e,e={memoizedState:Ya.memoizedState,baseState:Ya.baseState,baseQueue:Ya.baseQueue,queue:Ya.queue,next:null},es===null?Zi.memoizedState=es=e:es=es.next=e}return es}function Lp(e,t){return typeof t=="function"?t(e):t}function Ww(e){var t=Sl(),n=t.queue;if(n===null)throw Error(Gt(311));n.lastRenderedReducer=e;var r=Ya,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var c=o=null,u=null,f=a;do{var p=f.lane;if((J0&p)===p)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var g={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(c=u=g,o=r):u=u.next=g,Zi.lanes|=p,ef|=p}f=f.next}while(f!==null&&f!==a);u===null?o=r:u.next=c,cc(r,t.memoizedState)||(Co=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Zi.lanes|=a,ef|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qw(e){var t=Sl(),n=t.queue;if(n===null)throw Error(Gt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);cc(a,t.memoizedState)||(Co=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function FE(){}function BE(e,t){var n=Zi,r=Sl(),i=t(),a=!cc(r.memoizedState,i);if(a&&(r.memoizedState=i,Co=!0),r=r.queue,m4(WE.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||es!==null&&es.memoizedState.tag&1){if(n.flags|=2048,Ip(9,zE.bind(null,n,r,i,t),void 0,null),as===null)throw Error(Gt(349));J0&30||UE(n,t,i)}return i}function UE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Zi.updateQueue,t===null?(t={lastEffect:null,stores:null},Zi.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zE(e,t,n,r){t.value=n,t.getSnapshot=r,qE(t)&&HE(e)}function WE(e,t,n){return n(function(){qE(t)&&HE(e)})}function qE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cc(e,n)}catch{return!0}}function HE(e){var t=Uu(e,1);t!==null&&ic(t,e,1,-1)}function F6(e){var t=Pc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:e},t.queue=e,e=e.dispatch=yP.bind(null,Zi,e),[t.memoizedState,e]}function Ip(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Zi.updateQueue,t===null?(t={lastEffect:null,stores:null},Zi.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function VE(){return Sl().memoizedState}function $x(e,t,n,r){var i=Pc();Zi.flags|=e,i.memoizedState=Ip(1|t,n,void 0,r===void 0?null:r)}function Fg(e,t,n,r){var i=Sl();r=r===void 0?null:r;var a=void 0;if(Ya!==null){var o=Ya.memoizedState;if(a=o.destroy,r!==null&&f4(r,o.deps)){i.memoizedState=Ip(t,n,a,r);return}}Zi.flags|=e,i.memoizedState=Ip(1|t,n,a,r)}function B6(e,t){return $x(8390656,8,e,t)}function m4(e,t){return Fg(2048,8,e,t)}function $E(e,t){return Fg(4,2,e,t)}function YE(e,t){return Fg(4,4,e,t)}function GE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function XE(e,t,n){return n=n!=null?n.concat([e]):null,Fg(4,4,GE.bind(null,t,e),n)}function x4(){}function KE(e,t){var n=Sl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&f4(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function QE(e,t){var n=Sl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&f4(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ZE(e,t,n){return J0&21?(cc(n,t)||(n=rE(),Zi.lanes|=n,ef|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Co=!0),e.memoizedState=n)}function vP(e,t){var n=ri;ri=n!==0&&4>n?n:4,e(!0);var r=zw.transition;zw.transition={};try{e(!1),t()}finally{ri=n,zw.transition=r}}function JE(){return Sl().memoizedState}function wP(e,t,n){var r=Yd(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eA(e))tA(t,n);else if(n=RE(e,t,n,r),n!==null){var i=ao();ic(n,e,r,i),nA(n,t,r)}}function yP(e,t,n){var r=Yd(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eA(e))tA(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,c=a(o,n);if(i.hasEagerState=!0,i.eagerState=c,cc(c,o)){var u=t.interleaved;u===null?(i.next=i,o4(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=RE(e,t,i,r),n!==null&&(i=ao(),ic(n,e,r,i),nA(n,t,r))}}function eA(e){var t=e.alternate;return e===Zi||t!==null&&t===Zi}function tA(e,t){ip=T2=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nA(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yb(e,n)}}var L2={readContext:_l,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},bP={readContext:_l,useCallback:function(e,t){return Pc().memoizedState=[e,t===void 0?null:t],e},useContext:_l,useEffect:B6,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$x(4194308,4,GE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $x(4194308,4,e,t)},useInsertionEffect:function(e,t){return $x(4,2,e,t)},useMemo:function(e,t){var n=Pc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wP.bind(null,Zi,e),[r.memoizedState,e]},useRef:function(e){var t=Pc();return e={current:e},t.memoizedState=e},useState:F6,useDebugValue:x4,useDeferredValue:function(e){return Pc().memoizedState=e},useTransition:function(){var e=F6(!1),t=e[0];return e=vP.bind(null,e[1]),Pc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Zi,i=Pc();if(Ui){if(n===void 0)throw Error(Gt(407));n=n()}else{if(n=t(),as===null)throw Error(Gt(349));J0&30||UE(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,B6(WE.bind(null,r,a,e),[e]),r.flags|=2048,Ip(9,zE.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Pc(),t=as.identifierPrefix;if(Ui){var n=Eu,r=Cu;n=(r&~(1<<32-rc(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Tp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gP++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NP={readContext:_l,useCallback:KE,useContext:_l,useEffect:m4,useImperativeHandle:XE,useInsertionEffect:$E,useLayoutEffect:YE,useMemo:QE,useReducer:Ww,useRef:VE,useState:function(){return Ww(Lp)},useDebugValue:x4,useDeferredValue:function(e){var t=Sl();return ZE(t,Ya.memoizedState,e)},useTransition:function(){var e=Ww(Lp)[0],t=Sl().memoizedState;return[e,t]},useMutableSource:FE,useSyncExternalStore:BE,useId:JE,unstable_isNewReconciler:!1},_P={readContext:_l,useCallback:KE,useContext:_l,useEffect:m4,useImperativeHandle:XE,useInsertionEffect:$E,useLayoutEffect:YE,useMemo:QE,useReducer:qw,useRef:VE,useState:function(){return qw(Lp)},useDebugValue:x4,useDeferredValue:function(e){var t=Sl();return Ya===null?t.memoizedState=e:ZE(t,Ya.memoizedState,e)},useTransition:function(){var e=qw(Lp)[0],t=Sl().memoizedState;return[e,t]},useMutableSource:FE,useSyncExternalStore:BE,useId:JE,unstable_isNewReconciler:!1};function Ql(e,t){if(e&&e.defaultProps){t=Ji({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function h5(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ji({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bg={isMounted:function(e){return(e=e._reactInternals)?ff(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ao(),i=Yd(e),a=ku(r,i);a.payload=t,n!=null&&(a.callback=n),t=Vd(e,a,i),t!==null&&(ic(t,e,i,r),Hx(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ao(),i=Yd(e),a=ku(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Vd(e,a,i),t!==null&&(ic(t,e,i,r),Hx(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ao(),r=Yd(e),i=ku(n,r);i.tag=2,t!=null&&(i.callback=t),t=Vd(e,i,r),t!==null&&(ic(t,e,r,n),Hx(t,e,r))}};function U6(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Sp(n,r)||!Sp(i,a):!0}function rA(e,t,n){var r=!1,i=e0,a=t.contextType;return typeof a=="object"&&a!==null?a=_l(a):(i=Ao(t)?Q0:Ws.current,r=t.contextTypes,a=(r=r!=null)?Dh(e,i):e0),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function z6(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bg.enqueueReplaceState(t,t.state,null)}function p5(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},l4(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=_l(a):(a=Ao(t)?Q0:Ws.current,i.context=Dh(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(h5(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Bg.enqueueReplaceState(i,i.state,null),j2(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ph(e,t){try{var n="",r=t;do n+=QR(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Hw(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function m5(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var SP=typeof WeakMap=="function"?WeakMap:Map;function iA(e,t,n){n=ku(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){D2||(D2=!0,C5=r),m5(e,t)},n}function aA(e,t,n){n=ku(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){m5(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){m5(e,t),typeof r!="function"&&($d===null?$d=new Set([this]):$d.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function W6(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new SP;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=FP.bind(null,e,t,n),t.then(e,e))}function q6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function H6(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ku(-1,1),t.tag=2,Vd(n,t,1))),n.lanes|=1),e)}var CP=Xu.ReactCurrentOwner,Co=!1;function Zs(e,t,n,r){t.child=e===null?OE(t,null,n,r):Rh(t,e.child,n,r)}function V6(e,t,n,r,i){n=n.render;var a=t.ref;return wh(t,i),r=h4(e,t,n,r,a,i),n=p4(),e!==null&&!Co?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zu(e,t,i)):(Ui&&n&&t4(t),t.flags|=1,Zs(e,t,r,i),t.child)}function $6(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!S4(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,sA(e,t,a,r,i)):(e=Kx(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Sp,n(o,r)&&e.ref===t.ref)return zu(e,t,i)}return t.flags|=1,e=Gd(a,r),e.ref=t.ref,e.return=t,t.child=e}function sA(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Sp(a,r)&&e.ref===t.ref)if(Co=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Co=!0);else return t.lanes=e.lanes,zu(e,t,i)}return x5(e,t,n,r,i)}function oA(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(ch,Vo),Vo|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(ch,Vo),Vo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ci(ch,Vo),Vo|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(ch,Vo),Vo|=r;return Zs(e,t,i,n),t.child}function lA(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function x5(e,t,n,r,i){var a=Ao(n)?Q0:Ws.current;return a=Dh(t,a),wh(t,i),n=h4(e,t,n,r,a,i),r=p4(),e!==null&&!Co?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zu(e,t,i)):(Ui&&r&&t4(t),t.flags|=1,Zs(e,t,n,i),t.child)}function Y6(e,t,n,r,i){if(Ao(n)){var a=!0;_2(t)}else a=!1;if(wh(t,i),t.stateNode===null)Yx(e,t),rA(t,n,r),p5(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var u=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=_l(f):(f=Ao(n)?Q0:Ws.current,f=Dh(t,f));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==f)&&z6(t,o,r,f),kd=!1;var w=t.memoizedState;o.state=w,j2(t,r,o,i),u=t.memoizedState,c!==r||w!==u||Eo.current||kd?(typeof p=="function"&&(h5(t,n,p,r),u=t.memoizedState),(c=kd||U6(t,n,c,r,w,u,f))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=f,r=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ME(e,t),c=t.memoizedProps,f=t.type===t.elementType?c:Ql(t.type,c),o.props=f,g=t.pendingProps,w=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=_l(u):(u=Ao(n)?Q0:Ws.current,u=Dh(t,u));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==g||w!==u)&&z6(t,o,r,u),kd=!1,w=t.memoizedState,o.state=w,j2(t,r,o,i);var E=t.memoizedState;c!==g||w!==E||Eo.current||kd?(typeof y=="function"&&(h5(t,n,y,r),E=t.memoizedState),(f=kd||U6(t,n,f,r,w,E,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),o.props=r,o.state=E,o.context=u,r=f):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),r=!1)}return g5(e,t,n,r,a,i)}function g5(e,t,n,r,i,a){lA(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&I6(t,n,!1),zu(e,t,a);r=t.stateNode,CP.current=t;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Rh(t,e.child,null,a),t.child=Rh(t,null,c,a)):Zs(e,t,c,a),t.memoizedState=r.state,i&&I6(t,n,!0),t.child}function cA(e){var t=e.stateNode;t.pendingContext?L6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&L6(e,t.context,!1),c4(e,t.containerInfo)}function G6(e,t,n,r,i){return Oh(),r4(i),t.flags|=256,Zs(e,t,n,r),t.child}var v5={dehydrated:null,treeContext:null,retryLane:0};function w5(e){return{baseLanes:e,cachePool:null,transitions:null}}function uA(e,t,n){var r=t.pendingProps,i=Ki.current,a=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ci(Ki,i&1),e===null)return d5(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Wg(o,r,0,null),e=V0(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=w5(n),t.memoizedState=v5,e):g4(t,o));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return EP(e,t,o,r,c,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Gd(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=Gd(c,a):(a=V0(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?w5(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=v5,r}return a=e.child,e=a.sibling,r=Gd(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function g4(e,t){return t=Wg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fx(e,t,n,r){return r!==null&&r4(r),Rh(t,e.child,null,n),e=g4(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EP(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Hw(Error(Gt(422))),fx(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Wg({mode:"visible",children:r.children},i,0,null),a=V0(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Rh(t,e.child,null,o),t.child.memoizedState=w5(o),t.memoizedState=v5,a);if(!(t.mode&1))return fx(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(Gt(419)),r=Hw(a,r,void 0),fx(e,t,o,r)}if(c=(o&e.childLanes)!==0,Co||c){if(r=as,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Uu(e,i),ic(r,e,i,-1))}return _4(),r=Hw(Error(Gt(421))),fx(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=BP.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ko=Hd(i.nextSibling),Zo=t,Ui=!0,ec=null,e!==null&&(vl[wl++]=Cu,vl[wl++]=Eu,vl[wl++]=Z0,Cu=e.id,Eu=e.overflow,Z0=t),t=g4(t,r.children),t.flags|=4096,t)}function X6(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),f5(e.return,t,n)}function Vw(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function dA(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Zs(e,t,r.children,n),r=Ki.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&X6(e,n,t);else if(e.tag===19)X6(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Ki,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&k2(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vw(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&k2(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vw(t,!0,n,null,a);break;case"together":Vw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ef|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Gt(153));if(t.child!==null){for(e=t.child,n=Gd(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gd(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function AP(e,t,n){switch(t.tag){case 3:cA(t),Oh();break;case 5:PE(t);break;case 1:Ao(t.type)&&_2(t);break;case 4:c4(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(E2,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ci(Ki,Ki.current&1),t.flags|=128,null):n&t.child.childLanes?uA(e,t,n):(Ci(Ki,Ki.current&1),e=zu(e,t,n),e!==null?e.sibling:null);Ci(Ki,Ki.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return dA(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Ki,Ki.current),r)break;return null;case 22:case 23:return t.lanes=0,oA(e,t,n)}return zu(e,t,n)}var fA,y5,hA,pA;fA=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y5=function(){};hA=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,B0(Yc.current);var a=null;switch(n){case"input":i=Wy(e,i),r=Wy(e,r),a=[];break;case"select":i=Ji({},i,{value:void 0}),r=Ji({},r,{value:void 0}),a=[];break;case"textarea":i=Vy(e,i),r=Vy(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=b2)}Yy(n,r);var o;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var c=i[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(gp.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in r){var u=r[f];if(c=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&u!==c&&(u!=null||c!=null))if(f==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(a=a||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(gp.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&ki("scroll",e),a||c===u||(a=[])):(a=a||[]).push(f,u))}n&&(a=a||[]).push("style",n);var f=a;(t.updateQueue=f)&&(t.flags|=4)}};pA=function(e,t,n,r){n!==r&&(t.flags|=4)};function M1(e,t){if(!Ui)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ts(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jP(e,t,n){var r=t.pendingProps;switch(n4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(t),null;case 1:return Ao(t.type)&&N2(),Ts(t),null;case 3:return r=t.stateNode,Mh(),Ii(Eo),Ii(Ws),d4(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ux(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ec!==null&&(j5(ec),ec=null))),y5(e,t),Ts(t),null;case 5:u4(t);var i=B0(kp.current);if(n=t.type,e!==null&&t.stateNode!=null)hA(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Gt(166));return Ts(t),null}if(e=B0(Yc.current),ux(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Uc]=t,r[Ap]=a,e=(t.mode&1)!==0,n){case"dialog":ki("cancel",r),ki("close",r);break;case"iframe":case"object":case"embed":ki("load",r);break;case"video":case"audio":for(i=0;i<X1.length;i++)ki(X1[i],r);break;case"source":ki("error",r);break;case"img":case"image":case"link":ki("error",r),ki("load",r);break;case"details":ki("toggle",r);break;case"input":i6(r,a),ki("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ki("invalid",r);break;case"textarea":s6(r,a),ki("invalid",r)}Yy(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&cx(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&cx(r.textContent,c,e),i=["children",""+c]):gp.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&ki("scroll",r)}switch(n){case"input":tx(r),a6(r,a,!0);break;case"textarea":tx(r),o6(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=b2)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=WC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Uc]=t,e[Ap]=r,fA(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gy(n,r),n){case"dialog":ki("cancel",e),ki("close",e),i=r;break;case"iframe":case"object":case"embed":ki("load",e),i=r;break;case"video":case"audio":for(i=0;i<X1.length;i++)ki(X1[i],e);i=r;break;case"source":ki("error",e),i=r;break;case"img":case"image":case"link":ki("error",e),ki("load",e),i=r;break;case"details":ki("toggle",e),i=r;break;case"input":i6(e,r),i=Wy(e,r),ki("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ji({},r,{value:void 0}),ki("invalid",e);break;case"textarea":s6(e,r),i=Vy(e,r),ki("invalid",e);break;default:i=r}Yy(n,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var u=c[a];a==="style"?VC(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&qC(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&vp(e,u):typeof u=="number"&&vp(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(gp.hasOwnProperty(a)?u!=null&&a==="onScroll"&&ki("scroll",e):u!=null&&zb(e,a,u,o))}switch(n){case"input":tx(e),a6(e,r,!1);break;case"textarea":tx(e),o6(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jd(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?mh(e,!!r.multiple,a,!1):r.defaultValue!=null&&mh(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=b2)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ts(t),null;case 6:if(e&&t.stateNode!=null)pA(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Gt(166));if(n=B0(kp.current),B0(Yc.current),ux(t)){if(r=t.stateNode,n=t.memoizedProps,r[Uc]=t,(a=r.nodeValue!==n)&&(e=Zo,e!==null))switch(e.tag){case 3:cx(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cx(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Uc]=t,t.stateNode=r}return Ts(t),null;case 13:if(Ii(Ki),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ui&&Ko!==null&&t.mode&1&&!(t.flags&128))IE(),Oh(),t.flags|=98560,a=!1;else if(a=ux(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Gt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Gt(317));a[Uc]=t}else Oh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ts(t),a=!1}else ec!==null&&(j5(ec),ec=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ki.current&1?Xa===0&&(Xa=3):_4())),t.updateQueue!==null&&(t.flags|=4),Ts(t),null);case 4:return Mh(),y5(e,t),e===null&&Cp(t.stateNode.containerInfo),Ts(t),null;case 10:return s4(t.type._context),Ts(t),null;case 17:return Ao(t.type)&&N2(),Ts(t),null;case 19:if(Ii(Ki),a=t.memoizedState,a===null)return Ts(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)M1(a,!1);else{if(Xa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=k2(e),o!==null){for(t.flags|=128,M1(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Ki,Ki.current&1|2),t.child}e=e.sibling}a.tail!==null&&ba()>Fh&&(t.flags|=128,r=!0,M1(a,!1),t.lanes=4194304)}else{if(!r)if(e=k2(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),M1(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ui)return Ts(t),null}else 2*ba()-a.renderingStartTime>Fh&&n!==1073741824&&(t.flags|=128,r=!0,M1(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ba(),t.sibling=null,n=Ki.current,Ci(Ki,r?n&1|2:n&1),t):(Ts(t),null);case 22:case 23:return N4(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vo&1073741824&&(Ts(t),t.subtreeFlags&6&&(t.flags|=8192)):Ts(t),null;case 24:return null;case 25:return null}throw Error(Gt(156,t.tag))}function kP(e,t){switch(n4(t),t.tag){case 1:return Ao(t.type)&&N2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mh(),Ii(Eo),Ii(Ws),d4(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return u4(t),null;case 13:if(Ii(Ki),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Gt(340));Oh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ii(Ki),null;case 4:return Mh(),null;case 10:return s4(t.type._context),null;case 22:case 23:return N4(),null;case 24:return null;default:return null}}var hx=!1,Ms=!1,TP=typeof WeakSet=="function"?WeakSet:Set,xn=null;function lh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){oa(e,t,r)}else n.current=null}function b5(e,t,n){try{n()}catch(r){oa(e,t,r)}}var K6=!1;function LP(e,t){if(i5=v2,e=wE(),e4(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,f=0,p=0,g=e,w=null;t:for(;;){for(var y;g!==n||i!==0&&g.nodeType!==3||(c=o+i),g!==a||r!==0&&g.nodeType!==3||(u=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(y=g.firstChild)!==null;)w=g,g=y;for(;;){if(g===e)break t;if(w===n&&++f===i&&(c=o),w===a&&++p===r&&(u=o),(y=g.nextSibling)!==null)break;g=w,w=g.parentNode}g=y}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(a5={focusedElem:e,selectionRange:n},v2=!1,xn=t;xn!==null;)if(t=xn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xn=e;else for(;xn!==null;){t=xn;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,A=E.memoizedState,j=t.stateNode,k=j.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ql(t.type,S),A);j.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var D=t.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Gt(163))}}catch(P){oa(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,xn=e;break}xn=t.return}return E=K6,K6=!1,E}function ap(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&b5(t,n,a)}i=i.next}while(i!==r)}}function Ug(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function N5(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function mA(e){var t=e.alternate;t!==null&&(e.alternate=null,mA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Uc],delete t[Ap],delete t[l5],delete t[hP],delete t[pP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xA(e){return e.tag===5||e.tag===3||e.tag===4}function Q6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _5(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=b2));else if(r!==4&&(e=e.child,e!==null))for(_5(e,t,n),e=e.sibling;e!==null;)_5(e,t,n),e=e.sibling}function S5(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(S5(e,t,n),e=e.sibling;e!==null;)S5(e,t,n),e=e.sibling}var ms=null,Jl=!1;function _d(e,t,n){for(n=n.child;n!==null;)gA(e,t,n),n=n.sibling}function gA(e,t,n){if($c&&typeof $c.onCommitFiberUnmount=="function")try{$c.onCommitFiberUnmount(Ig,n)}catch{}switch(n.tag){case 5:Ms||lh(n,t);case 6:var r=ms,i=Jl;ms=null,_d(e,t,n),ms=r,Jl=i,ms!==null&&(Jl?(e=ms,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ms.removeChild(n.stateNode));break;case 18:ms!==null&&(Jl?(e=ms,n=n.stateNode,e.nodeType===8?Fw(e.parentNode,n):e.nodeType===1&&Fw(e,n),Np(e)):Fw(ms,n.stateNode));break;case 4:r=ms,i=Jl,ms=n.stateNode.containerInfo,Jl=!0,_d(e,t,n),ms=r,Jl=i;break;case 0:case 11:case 14:case 15:if(!Ms&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&b5(n,t,o),i=i.next}while(i!==r)}_d(e,t,n);break;case 1:if(!Ms&&(lh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){oa(n,t,c)}_d(e,t,n);break;case 21:_d(e,t,n);break;case 22:n.mode&1?(Ms=(r=Ms)||n.memoizedState!==null,_d(e,t,n),Ms=r):_d(e,t,n);break;default:_d(e,t,n)}}function Z6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new TP),t.forEach(function(r){var i=UP.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:ms=c.stateNode,Jl=!1;break e;case 3:ms=c.stateNode.containerInfo,Jl=!0;break e;case 4:ms=c.stateNode.containerInfo,Jl=!0;break e}c=c.return}if(ms===null)throw Error(Gt(160));gA(a,o,i),ms=null,Jl=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(f){oa(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vA(t,e),t=t.sibling}function vA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vl(t,e),Lc(e),r&4){try{ap(3,e,e.return),Ug(3,e)}catch(S){oa(e,e.return,S)}try{ap(5,e,e.return)}catch(S){oa(e,e.return,S)}}break;case 1:Vl(t,e),Lc(e),r&512&&n!==null&&lh(n,n.return);break;case 5:if(Vl(t,e),Lc(e),r&512&&n!==null&&lh(n,n.return),e.flags&32){var i=e.stateNode;try{vp(i,"")}catch(S){oa(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&UC(i,a),Gy(c,o);var f=Gy(c,a);for(o=0;o<u.length;o+=2){var p=u[o],g=u[o+1];p==="style"?VC(i,g):p==="dangerouslySetInnerHTML"?qC(i,g):p==="children"?vp(i,g):zb(i,p,g,f)}switch(c){case"input":qy(i,a);break;case"textarea":zC(i,a);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?mh(i,!!a.multiple,y,!1):w!==!!a.multiple&&(a.defaultValue!=null?mh(i,!!a.multiple,a.defaultValue,!0):mh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ap]=a}catch(S){oa(e,e.return,S)}}break;case 6:if(Vl(t,e),Lc(e),r&4){if(e.stateNode===null)throw Error(Gt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(S){oa(e,e.return,S)}}break;case 3:if(Vl(t,e),Lc(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Np(t.containerInfo)}catch(S){oa(e,e.return,S)}break;case 4:Vl(t,e),Lc(e);break;case 13:Vl(t,e),Lc(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(y4=ba())),r&4&&Z6(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ms=(f=Ms)||p,Vl(t,e),Ms=f):Vl(t,e),Lc(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(xn=e,p=e.child;p!==null;){for(g=xn=p;xn!==null;){switch(w=xn,y=w.child,w.tag){case 0:case 11:case 14:case 15:ap(4,w,w.return);break;case 1:lh(w,w.return);var E=w.stateNode;if(typeof E.componentWillUnmount=="function"){r=w,n=w.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(S){oa(r,n,S)}}break;case 5:lh(w,w.return);break;case 22:if(w.memoizedState!==null){e_(g);continue}}y!==null?(y.return=w,xn=y):e_(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,f?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=g.stateNode,u=g.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=HC("display",o))}catch(S){oa(e,e.return,S)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(S){oa(e,e.return,S)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Vl(t,e),Lc(e),r&4&&Z6(e);break;case 21:break;default:Vl(t,e),Lc(e)}}function Lc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xA(n)){var r=n;break e}n=n.return}throw Error(Gt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vp(i,""),r.flags&=-33);var a=Q6(e);S5(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=Q6(e);_5(e,c,o);break;default:throw Error(Gt(161))}}catch(u){oa(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IP(e,t,n){xn=e,wA(e)}function wA(e,t,n){for(var r=(e.mode&1)!==0;xn!==null;){var i=xn,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hx;if(!o){var c=i.alternate,u=c!==null&&c.memoizedState!==null||Ms;c=hx;var f=Ms;if(hx=o,(Ms=u)&&!f)for(xn=i;xn!==null;)o=xn,u=o.child,o.tag===22&&o.memoizedState!==null?t_(i):u!==null?(u.return=o,xn=u):t_(i);for(;a!==null;)xn=a,wA(a),a=a.sibling;xn=i,hx=c,Ms=f}J6(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,xn=a):J6(e)}}function J6(e){for(;xn!==null;){var t=xn;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ms||Ug(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ms)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ql(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&P6(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}P6(t,o,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Np(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Gt(163))}Ms||t.flags&512&&N5(t)}catch(w){oa(t,t.return,w)}}if(t===e){xn=null;break}if(n=t.sibling,n!==null){n.return=t.return,xn=n;break}xn=t.return}}function e_(e){for(;xn!==null;){var t=xn;if(t===e){xn=null;break}var n=t.sibling;if(n!==null){n.return=t.return,xn=n;break}xn=t.return}}function t_(e){for(;xn!==null;){var t=xn;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ug(4,t)}catch(u){oa(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){oa(t,i,u)}}var a=t.return;try{N5(t)}catch(u){oa(t,a,u)}break;case 5:var o=t.return;try{N5(t)}catch(u){oa(t,o,u)}}}catch(u){oa(t,t.return,u)}if(t===e){xn=null;break}var c=t.sibling;if(c!==null){c.return=t.return,xn=c;break}xn=t.return}}var DP=Math.ceil,I2=Xu.ReactCurrentDispatcher,v4=Xu.ReactCurrentOwner,Nl=Xu.ReactCurrentBatchConfig,Ir=0,as=null,Da=null,ws=0,Vo=0,ch=c0(0),Xa=0,Dp=null,ef=0,zg=0,w4=0,sp=null,So=null,y4=0,Fh=1/0,_u=null,D2=!1,C5=null,$d=null,px=!1,Rd=null,O2=0,op=0,E5=null,Gx=-1,Xx=0;function ao(){return Ir&6?ba():Gx!==-1?Gx:Gx=ba()}function Yd(e){return e.mode&1?Ir&2&&ws!==0?ws&-ws:xP.transition!==null?(Xx===0&&(Xx=rE()),Xx):(e=ri,e!==0||(e=window.event,e=e===void 0?16:uE(e.type)),e):1}function ic(e,t,n,r){if(50<op)throw op=0,E5=null,Error(Gt(185));Jp(e,n,r),(!(Ir&2)||e!==as)&&(e===as&&(!(Ir&2)&&(zg|=n),Xa===4&&Id(e,ws)),jo(e,r),n===1&&Ir===0&&!(t.mode&1)&&(Fh=ba()+500,Pg&&u0()))}function jo(e,t){var n=e.callbackNode;xM(e,t);var r=g2(e,e===as?ws:0);if(r===0)n!==null&&u6(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&u6(n),t===1)e.tag===0?mP(n_.bind(null,e)):kE(n_.bind(null,e)),dP(function(){!(Ir&6)&&u0()}),n=null;else{switch(iE(r)){case 1:n=$b;break;case 4:n=tE;break;case 16:n=x2;break;case 536870912:n=nE;break;default:n=x2}n=AA(n,yA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yA(e,t){if(Gx=-1,Xx=0,Ir&6)throw Error(Gt(327));var n=e.callbackNode;if(yh()&&e.callbackNode!==n)return null;var r=g2(e,e===as?ws:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=R2(e,r);else{t=r;var i=Ir;Ir|=2;var a=NA();(as!==e||ws!==t)&&(_u=null,Fh=ba()+500,H0(e,t));do try{MP();break}catch(c){bA(e,c)}while(1);a4(),I2.current=a,Ir=i,Da!==null?t=0:(as=null,ws=0,t=Xa)}if(t!==0){if(t===2&&(i=Jy(e),i!==0&&(r=i,t=A5(e,i))),t===1)throw n=Dp,H0(e,0),Id(e,r),jo(e,ba()),n;if(t===6)Id(e,r);else{if(i=e.current.alternate,!(r&30)&&!OP(i)&&(t=R2(e,r),t===2&&(a=Jy(e),a!==0&&(r=a,t=A5(e,a))),t===1))throw n=Dp,H0(e,0),Id(e,r),jo(e,ba()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Gt(345));case 2:T0(e,So,_u);break;case 3:if(Id(e,r),(r&130023424)===r&&(t=y4+500-ba(),10<t)){if(g2(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ao(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=o5(T0.bind(null,e,So,_u),t);break}T0(e,So,_u);break;case 4:if(Id(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-rc(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=ba()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DP(r/1960))-r,10<r){e.timeoutHandle=o5(T0.bind(null,e,So,_u),r);break}T0(e,So,_u);break;case 5:T0(e,So,_u);break;default:throw Error(Gt(329))}}}return jo(e,ba()),e.callbackNode===n?yA.bind(null,e):null}function A5(e,t){var n=sp;return e.current.memoizedState.isDehydrated&&(H0(e,t).flags|=256),e=R2(e,t),e!==2&&(t=So,So=n,t!==null&&j5(t)),e}function j5(e){So===null?So=e:So.push.apply(So,e)}function OP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!cc(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Id(e,t){for(t&=~w4,t&=~zg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rc(t),r=1<<n;e[n]=-1,t&=~r}}function n_(e){if(Ir&6)throw Error(Gt(327));yh();var t=g2(e,0);if(!(t&1))return jo(e,ba()),null;var n=R2(e,t);if(e.tag!==0&&n===2){var r=Jy(e);r!==0&&(t=r,n=A5(e,r))}if(n===1)throw n=Dp,H0(e,0),Id(e,t),jo(e,ba()),n;if(n===6)throw Error(Gt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,T0(e,So,_u),jo(e,ba()),null}function b4(e,t){var n=Ir;Ir|=1;try{return e(t)}finally{Ir=n,Ir===0&&(Fh=ba()+500,Pg&&u0())}}function tf(e){Rd!==null&&Rd.tag===0&&!(Ir&6)&&yh();var t=Ir;Ir|=1;var n=Nl.transition,r=ri;try{if(Nl.transition=null,ri=1,e)return e()}finally{ri=r,Nl.transition=n,Ir=t,!(Ir&6)&&u0()}}function N4(){Vo=ch.current,Ii(ch)}function H0(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uP(n)),Da!==null)for(n=Da.return;n!==null;){var r=n;switch(n4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&N2();break;case 3:Mh(),Ii(Eo),Ii(Ws),d4();break;case 5:u4(r);break;case 4:Mh();break;case 13:Ii(Ki);break;case 19:Ii(Ki);break;case 10:s4(r.type._context);break;case 22:case 23:N4()}n=n.return}if(as=e,Da=e=Gd(e.current,null),ws=Vo=t,Xa=0,Dp=null,w4=zg=ef=0,So=sp=null,F0!==null){for(t=0;t<F0.length;t++)if(n=F0[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}F0=null}return e}function bA(e,t){do{var n=Da;try{if(a4(),Vx.current=L2,T2){for(var r=Zi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}T2=!1}if(J0=0,es=Ya=Zi=null,ip=!1,Tp=0,v4.current=null,n===null||n.return===null){Xa=1,Dp=t,Da=null;break}e:{var a=e,o=n.return,c=n,u=t;if(t=ws,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,p=c,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var w=p.alternate;w?(p.updateQueue=w.updateQueue,p.memoizedState=w.memoizedState,p.lanes=w.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=q6(o);if(y!==null){y.flags&=-257,H6(y,o,c,a,t),y.mode&1&&W6(a,f,t),t=y,u=f;var E=t.updateQueue;if(E===null){var S=new Set;S.add(u),t.updateQueue=S}else E.add(u);break e}else{if(!(t&1)){W6(a,f,t),_4();break e}u=Error(Gt(426))}}else if(Ui&&c.mode&1){var A=q6(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),H6(A,o,c,a,t),r4(Ph(u,c));break e}}a=u=Ph(u,c),Xa!==4&&(Xa=2),sp===null?sp=[a]:sp.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var j=iA(a,u,t);M6(a,j);break e;case 1:c=u;var k=a.type,D=a.stateNode;if(!(a.flags&128)&&(typeof k.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&($d===null||!$d.has(D)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=aA(a,c,t);M6(a,P);break e}}a=a.return}while(a!==null)}SA(n)}catch(Y){t=Y,Da===n&&n!==null&&(Da=n=n.return);continue}break}while(1)}function NA(){var e=I2.current;return I2.current=L2,e===null?L2:e}function _4(){(Xa===0||Xa===3||Xa===2)&&(Xa=4),as===null||!(ef&268435455)&&!(zg&268435455)||Id(as,ws)}function R2(e,t){var n=Ir;Ir|=2;var r=NA();(as!==e||ws!==t)&&(_u=null,H0(e,t));do try{RP();break}catch(i){bA(e,i)}while(1);if(a4(),Ir=n,I2.current=r,Da!==null)throw Error(Gt(261));return as=null,ws=0,Xa}function RP(){for(;Da!==null;)_A(Da)}function MP(){for(;Da!==null&&!oM();)_A(Da)}function _A(e){var t=EA(e.alternate,e,Vo);e.memoizedProps=e.pendingProps,t===null?SA(e):Da=t,v4.current=null}function SA(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kP(n,t),n!==null){n.flags&=32767,Da=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xa=6,Da=null;return}}else if(n=jP(n,t,Vo),n!==null){Da=n;return}if(t=t.sibling,t!==null){Da=t;return}Da=t=e}while(t!==null);Xa===0&&(Xa=5)}function T0(e,t,n){var r=ri,i=Nl.transition;try{Nl.transition=null,ri=1,PP(e,t,n,r)}finally{Nl.transition=i,ri=r}return null}function PP(e,t,n,r){do yh();while(Rd!==null);if(Ir&6)throw Error(Gt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Gt(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(gM(e,a),e===as&&(Da=as=null,ws=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||px||(px=!0,AA(x2,function(){return yh(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Nl.transition,Nl.transition=null;var o=ri;ri=1;var c=Ir;Ir|=4,v4.current=null,LP(e,n),vA(n,e),rP(a5),v2=!!i5,a5=i5=null,e.current=n,IP(n),lM(),Ir=c,ri=o,Nl.transition=a}else e.current=n;if(px&&(px=!1,Rd=e,O2=i),a=e.pendingLanes,a===0&&($d=null),dM(n.stateNode),jo(e,ba()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(D2)throw D2=!1,e=C5,C5=null,e;return O2&1&&e.tag!==0&&yh(),a=e.pendingLanes,a&1?e===E5?op++:(op=0,E5=e):op=0,u0(),null}function yh(){if(Rd!==null){var e=iE(O2),t=Nl.transition,n=ri;try{if(Nl.transition=null,ri=16>e?16:e,Rd===null)var r=!1;else{if(e=Rd,Rd=null,O2=0,Ir&6)throw Error(Gt(331));var i=Ir;for(Ir|=4,xn=e.current;xn!==null;){var a=xn,o=a.child;if(xn.flags&16){var c=a.deletions;if(c!==null){for(var u=0;u<c.length;u++){var f=c[u];for(xn=f;xn!==null;){var p=xn;switch(p.tag){case 0:case 11:case 15:ap(8,p,a)}var g=p.child;if(g!==null)g.return=p,xn=g;else for(;xn!==null;){p=xn;var w=p.sibling,y=p.return;if(mA(p),p===f){xn=null;break}if(w!==null){w.return=y,xn=w;break}xn=y}}}var E=a.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}xn=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,xn=o;else e:for(;xn!==null;){if(a=xn,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ap(9,a,a.return)}var j=a.sibling;if(j!==null){j.return=a.return,xn=j;break e}xn=a.return}}var k=e.current;for(xn=k;xn!==null;){o=xn;var D=o.child;if(o.subtreeFlags&2064&&D!==null)D.return=o,xn=D;else e:for(o=k;xn!==null;){if(c=xn,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ug(9,c)}}catch(Y){oa(c,c.return,Y)}if(c===o){xn=null;break e}var P=c.sibling;if(P!==null){P.return=c.return,xn=P;break e}xn=c.return}}if(Ir=i,u0(),$c&&typeof $c.onPostCommitFiberRoot=="function")try{$c.onPostCommitFiberRoot(Ig,e)}catch{}r=!0}return r}finally{ri=n,Nl.transition=t}}return!1}function r_(e,t,n){t=Ph(n,t),t=iA(e,t,1),e=Vd(e,t,1),t=ao(),e!==null&&(Jp(e,1,t),jo(e,t))}function oa(e,t,n){if(e.tag===3)r_(e,e,n);else for(;t!==null;){if(t.tag===3){r_(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($d===null||!$d.has(r))){e=Ph(n,e),e=aA(t,e,1),t=Vd(t,e,1),e=ao(),t!==null&&(Jp(t,1,e),jo(t,e));break}}t=t.return}}function FP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ao(),e.pingedLanes|=e.suspendedLanes&n,as===e&&(ws&n)===n&&(Xa===4||Xa===3&&(ws&130023424)===ws&&500>ba()-y4?H0(e,0):w4|=n),jo(e,t)}function CA(e,t){t===0&&(e.mode&1?(t=ix,ix<<=1,!(ix&130023424)&&(ix=4194304)):t=1);var n=ao();e=Uu(e,t),e!==null&&(Jp(e,t,n),jo(e,n))}function BP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),CA(e,n)}function UP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Gt(314))}r!==null&&r.delete(t),CA(e,n)}var EA;EA=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Eo.current)Co=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Co=!1,AP(e,t,n);Co=!!(e.flags&131072)}else Co=!1,Ui&&t.flags&1048576&&TE(t,C2,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yx(e,t),e=t.pendingProps;var i=Dh(t,Ws.current);wh(t,n),i=h4(null,t,r,e,i,n);var a=p4();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ao(r)?(a=!0,_2(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,l4(t),i.updater=Bg,t.stateNode=i,i._reactInternals=t,p5(t,r,e,n),t=g5(null,t,r,!0,a,n)):(t.tag=0,Ui&&a&&t4(t),Zs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yx(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=WP(r),e=Ql(r,e),i){case 0:t=x5(null,t,r,e,n);break e;case 1:t=Y6(null,t,r,e,n);break e;case 11:t=V6(null,t,r,e,n);break e;case 14:t=$6(null,t,r,Ql(r.type,e),n);break e}throw Error(Gt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ql(r,i),x5(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ql(r,i),Y6(e,t,r,i,n);case 3:e:{if(cA(t),e===null)throw Error(Gt(387));r=t.pendingProps,a=t.memoizedState,i=a.element,ME(e,t),j2(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ph(Error(Gt(423)),t),t=G6(e,t,r,n,i);break e}else if(r!==i){i=Ph(Error(Gt(424)),t),t=G6(e,t,r,n,i);break e}else for(Ko=Hd(t.stateNode.containerInfo.firstChild),Zo=t,Ui=!0,ec=null,n=OE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oh(),r===i){t=zu(e,t,n);break e}Zs(e,t,r,n)}t=t.child}return t;case 5:return PE(t),e===null&&d5(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,s5(r,i)?o=null:a!==null&&s5(r,a)&&(t.flags|=32),lA(e,t),Zs(e,t,o,n),t.child;case 6:return e===null&&d5(t),null;case 13:return uA(e,t,n);case 4:return c4(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rh(t,null,r,n):Zs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ql(r,i),V6(e,t,r,i,n);case 7:return Zs(e,t,t.pendingProps,n),t.child;case 8:return Zs(e,t,t.pendingProps.children,n),t.child;case 12:return Zs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(E2,r._currentValue),r._currentValue=o,a!==null)if(cc(a.value,o)){if(a.children===i.children&&!Eo.current){t=zu(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(a.tag===1){u=ku(-1,n&-n),u.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?u.next=u:(u.next=p.next,p.next=u),f.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),f5(a.return,n,t),c.lanes|=n;break}u=u.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Gt(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),f5(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Zs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,wh(t,n),i=_l(i),r=r(i),t.flags|=1,Zs(e,t,r,n),t.child;case 14:return r=t.type,i=Ql(r,t.pendingProps),i=Ql(r.type,i),$6(e,t,r,i,n);case 15:return sA(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ql(r,i),Yx(e,t),t.tag=1,Ao(r)?(e=!0,_2(t)):e=!1,wh(t,n),rA(t,r,i),p5(t,r,i,n),g5(null,t,r,!0,e,n);case 19:return dA(e,t,n);case 22:return oA(e,t,n)}throw Error(Gt(156,t.tag))};function AA(e,t){return eE(e,t)}function zP(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bl(e,t,n,r){return new zP(e,t,n,r)}function S4(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WP(e){if(typeof e=="function")return S4(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qb)return 11;if(e===Hb)return 14}return 2}function Gd(e,t){var n=e.alternate;return n===null?(n=bl(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kx(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")S4(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jf:return V0(n.children,i,a,t);case Wb:o=8,i|=8;break;case Fy:return e=bl(12,n,t,i|2),e.elementType=Fy,e.lanes=a,e;case By:return e=bl(13,n,t,i),e.elementType=By,e.lanes=a,e;case Uy:return e=bl(19,n,t,i),e.elementType=Uy,e.lanes=a,e;case PC:return Wg(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case RC:o=10;break e;case MC:o=9;break e;case qb:o=11;break e;case Hb:o=14;break e;case jd:o=16,r=null;break e}throw Error(Gt(130,e==null?e:typeof e,""))}return t=bl(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function V0(e,t,n,r){return e=bl(7,e,r,t),e.lanes=n,e}function Wg(e,t,n,r){return e=bl(22,e,r,t),e.elementType=PC,e.lanes=n,e.stateNode={isHidden:!1},e}function $w(e,t,n){return e=bl(6,e,null,t),e.lanes=n,e}function Yw(e,t,n){return t=bl(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qP(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aw(0),this.expirationTimes=Aw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function C4(e,t,n,r,i,a,o,c,u){return e=new qP(e,t,n,c,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=bl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},l4(a),e}function HP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zf,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function jA(e){if(!e)return e0;e=e._reactInternals;e:{if(ff(e)!==e||e.tag!==1)throw Error(Gt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ao(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Gt(171))}if(e.tag===1){var n=e.type;if(Ao(n))return jE(e,n,t)}return t}function kA(e,t,n,r,i,a,o,c,u){return e=C4(n,r,!0,e,i,a,o,c,u),e.context=jA(null),n=e.current,r=ao(),i=Yd(n),a=ku(r,i),a.callback=t??null,Vd(n,a,i),e.current.lanes=i,Jp(e,i,r),jo(e,r),e}function qg(e,t,n,r){var i=t.current,a=ao(),o=Yd(i);return n=jA(n),t.context===null?t.context=n:t.pendingContext=n,t=ku(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vd(i,t,o),e!==null&&(ic(e,i,o,a),Hx(e,i,o)),o}function M2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function i_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function E4(e,t){i_(e,t),(e=e.alternate)&&i_(e,t)}function VP(){return null}var TA=typeof reportError=="function"?reportError:function(e){console.error(e)};function A4(e){this._internalRoot=e}Hg.prototype.render=A4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Gt(409));qg(e,t,null,null)};Hg.prototype.unmount=A4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tf(function(){qg(null,e,null,null)}),t[Bu]=null}};function Hg(e){this._internalRoot=e}Hg.prototype.unstable_scheduleHydration=function(e){if(e){var t=oE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ld.length&&t!==0&&t<Ld[n].priority;n++);Ld.splice(n,0,e),n===0&&cE(e)}};function j4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function a_(){}function $P(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var f=M2(o);a.call(f)}}var o=kA(t,r,e,0,null,!1,!1,"",a_);return e._reactRootContainer=o,e[Bu]=o.current,Cp(e.nodeType===8?e.parentNode:e),tf(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var f=M2(u);c.call(f)}}var u=C4(e,0,!1,null,null,!1,!1,"",a_);return e._reactRootContainer=u,e[Bu]=u.current,Cp(e.nodeType===8?e.parentNode:e),tf(function(){qg(t,u,n,r)}),u}function $g(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var c=i;i=function(){var u=M2(o);c.call(u)}}qg(t,o,e,i)}else o=$P(n,t,e,i,r);return M2(o)}aE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=G1(t.pendingLanes);n!==0&&(Yb(t,n|1),jo(t,ba()),!(Ir&6)&&(Fh=ba()+500,u0()))}break;case 13:tf(function(){var r=Uu(e,1);if(r!==null){var i=ao();ic(r,e,1,i)}}),E4(e,1)}};Gb=function(e){if(e.tag===13){var t=Uu(e,134217728);if(t!==null){var n=ao();ic(t,e,134217728,n)}E4(e,134217728)}};sE=function(e){if(e.tag===13){var t=Yd(e),n=Uu(e,t);if(n!==null){var r=ao();ic(n,e,t,r)}E4(e,t)}};oE=function(){return ri};lE=function(e,t){var n=ri;try{return ri=e,t()}finally{ri=n}};Ky=function(e,t,n){switch(t){case"input":if(qy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mg(r);if(!i)throw Error(Gt(90));BC(r),qy(r,i)}}}break;case"textarea":zC(e,n);break;case"select":t=n.value,t!=null&&mh(e,!!n.multiple,t,!1)}};GC=b4;XC=tf;var YP={usingClientEntryPoint:!1,Events:[tm,rh,Mg,$C,YC,b4]},P1={findFiberByHostInstance:P0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GP={bundleType:P1.bundleType,version:P1.version,rendererPackageName:P1.rendererPackageName,rendererConfig:P1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ZC(e),e===null?null:e.stateNode},findFiberByHostInstance:P1.findFiberByHostInstance||VP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mx.isDisabled&&mx.supportsFiber)try{Ig=mx.inject(GP),$c=mx}catch{}}nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YP;nl.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j4(t))throw Error(Gt(200));return HP(e,t,null,n)};nl.createRoot=function(e,t){if(!j4(e))throw Error(Gt(299));var n=!1,r="",i=TA;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=C4(e,1,!1,null,null,n,!1,r,i),e[Bu]=t.current,Cp(e.nodeType===8?e.parentNode:e),new A4(t)};nl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Gt(188)):(e=Object.keys(e).join(","),Error(Gt(268,e)));return e=ZC(t),e=e===null?null:e.stateNode,e};nl.flushSync=function(e){return tf(e)};nl.hydrate=function(e,t,n){if(!Vg(t))throw Error(Gt(200));return $g(null,e,t,!0,n)};nl.hydrateRoot=function(e,t,n){if(!j4(e))throw Error(Gt(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=TA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=kA(t,null,e,1,n??null,i,!1,a,o),e[Bu]=t.current,Cp(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Hg(t)};nl.render=function(e,t,n){if(!Vg(t))throw Error(Gt(200));return $g(null,e,t,!1,n)};nl.unmountComponentAtNode=function(e){if(!Vg(e))throw Error(Gt(40));return e._reactRootContainer?(tf(function(){$g(null,null,e,!1,function(){e._reactRootContainer=null,e[Bu]=null})}),!0):!1};nl.unstable_batchedUpdates=b4;nl.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vg(n))throw Error(Gt(200));if(e==null||e._reactInternals===void 0)throw Error(Gt(38));return $g(e,t,n,!1,r)};nl.version="18.3.1-next-f1338f8080-20240426";function LA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LA)}catch(e){console.error(e)}}LA(),LC.exports=nl;var k4=LC.exports;const XP=Tg(k4);var s_=k4;My.createRoot=s_.createRoot,My.hydrateRoot=s_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Op.apply(this,arguments)}var Md;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Md||(Md={}));const o_="popstate";function KP(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:c}=r.location;return k5("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:P2(i)}return ZP(t,n,null,e)}function Aa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function IA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QP(){return Math.random().toString(36).substr(2,8)}function l_(e,t){return{usr:e.state,key:e.key,idx:t}}function k5(e,t,n,r){return n===void 0&&(n=null),Op({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?e1(t):t,{state:n,key:t&&t.key||r||QP()})}function P2(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function e1(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ZP(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c=Md.Pop,u=null,f=p();f==null&&(f=0,o.replaceState(Op({},o.state,{idx:f}),""));function p(){return(o.state||{idx:null}).idx}function g(){c=Md.Pop;let A=p(),j=A==null?null:A-f;f=A,u&&u({action:c,location:S.location,delta:j})}function w(A,j){c=Md.Push;let k=k5(S.location,A,j);n&&n(k,A),f=p()+1;let D=l_(k,f),P=S.createHref(k);try{o.pushState(D,"",P)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(P)}a&&u&&u({action:c,location:S.location,delta:1})}function y(A,j){c=Md.Replace;let k=k5(S.location,A,j);n&&n(k,A),f=p();let D=l_(k,f),P=S.createHref(k);o.replaceState(D,"",P),a&&u&&u({action:c,location:S.location,delta:0})}function E(A){let j=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof A=="string"?A:P2(A);return k=k.replace(/ $/,"%20"),Aa(j,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,j)}let S={get action(){return c},get location(){return e(i,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(o_,g),u=A,()=>{i.removeEventListener(o_,g),u=null}},createHref(A){return t(i,A)},createURL:E,encodeLocation(A){let j=E(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:y,go(A){return o.go(A)}};return S}var c_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(c_||(c_={}));function JP(e,t,n){return n===void 0&&(n="/"),eF(e,t,n,!1)}function eF(e,t,n,r){let i=typeof t=="string"?e1(t):t,a=T4(i.pathname||"/",n);if(a==null)return null;let o=DA(e);tF(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=fF(a);c=uF(o[u],f,r)}return c}function DA(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(Aa(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=Xd([r,u.relativePath]),p=n.concat(u);a.children&&a.children.length>0&&(Aa(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),DA(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:lF(f,a.index),routesMeta:p})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let u of OA(a.path))i(a,o,u)}),t}function OA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=OA(r.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function tF(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:cF(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nF=/^:[\w-]+$/,rF=3,iF=2,aF=1,sF=10,oF=-2,u_=e=>e==="*";function lF(e,t){let n=e.split("/"),r=n.length;return n.some(u_)&&(r+=oF),t&&(r+=iF),n.filter(i=>!u_(i)).reduce((i,a)=>i+(nF.test(a)?rF:a===""?aF:sF),r)}function cF(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function uF(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",g=d_({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),w=u.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=d_({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:Xd([a,g.pathname]),pathnameBase:xF(Xd([a,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(a=Xd([a,g.pathnameBase]))}return o}function d_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=dF(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,p,g)=>{let{paramName:w,isOptional:y}=p;if(w==="*"){let S=c[g]||"";o=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const E=c[g];return y&&!E?f[w]=void 0:f[w]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function dF(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),IA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function fF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return IA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function T4(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function hF(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?e1(e):e;return{pathname:n?n.startsWith("/")?n:pF(n,t):t,search:gF(r),hash:vF(i)}}function pF(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gw(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mF(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function L4(e,t){let n=mF(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function I4(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=e1(e):(i=Op({},e),Aa(!i.pathname||!i.pathname.includes("?"),Gw("?","pathname","search",i)),Aa(!i.pathname||!i.pathname.includes("#"),Gw("#","pathname","hash",i)),Aa(!i.search||!i.search.includes("#"),Gw("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let g=t.length-1;if(!r&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),g-=1;i.pathname=w.join("/")}c=g>=0?t[g]:"/"}let u=hF(i,c),f=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}const Xd=e=>e.join("/").replace(/\/\/+/g,"/"),xF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const RA=["post","put","patch","delete"];new Set(RA);const yF=["get",...RA];new Set(yF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rp.apply(this,arguments)}const D4=K.createContext(null),bF=K.createContext(null),d0=K.createContext(null),Yg=K.createContext(null),Ku=K.createContext({outlet:null,matches:[],isDataRoute:!1}),MA=K.createContext(null);function NF(e,t){let{relative:n}=t===void 0?{}:t;t1()||Aa(!1);let{basename:r,navigator:i}=K.useContext(d0),{hash:a,pathname:o,search:c}=FA(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Xd([r,o])),i.createHref({pathname:u,search:c,hash:a})}function t1(){return K.useContext(Yg)!=null}function n1(){return t1()||Aa(!1),K.useContext(Yg).location}function PA(e){K.useContext(d0).static||K.useLayoutEffect(e)}function Do(){let{isDataRoute:e}=K.useContext(Ku);return e?RF():_F()}function _F(){t1()||Aa(!1);let e=K.useContext(D4),{basename:t,future:n,navigator:r}=K.useContext(d0),{matches:i}=K.useContext(Ku),{pathname:a}=n1(),o=JSON.stringify(L4(i,n.v7_relativeSplatPath)),c=K.useRef(!1);return PA(()=>{c.current=!0}),K.useCallback(function(f,p){if(p===void 0&&(p={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let g=I4(f,JSON.parse(o),a,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Xd([t,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[t,r,o,a,e])}function Gg(){let{matches:e}=K.useContext(Ku),t=e[e.length-1];return t?t.params:{}}function FA(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=K.useContext(d0),{matches:i}=K.useContext(Ku),{pathname:a}=n1(),o=JSON.stringify(L4(i,r.v7_relativeSplatPath));return K.useMemo(()=>I4(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function SF(e,t){return CF(e,t)}function CF(e,t,n,r){t1()||Aa(!1);let{navigator:i}=K.useContext(d0),{matches:a}=K.useContext(Ku),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let f=n1(),p;if(t){var g;let A=typeof t=="string"?e1(t):t;u==="/"||(g=A.pathname)!=null&&g.startsWith(u)||Aa(!1),p=A}else p=f;let w=p.pathname||"/",y=w;if(u!=="/"){let A=u.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=JP(e,{pathname:y}),S=TF(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:Xd([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:Xd([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,n,r);return t&&S?K.createElement(Yg.Provider,{value:{location:Rp({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Md.Pop}},S):S}function EF(){let e=OF(),t=wF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:i},n):null,a)}const AF=K.createElement(EF,null);class jF extends K.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?K.createElement(Ku.Provider,{value:this.props.routeContext},K.createElement(MA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kF(e){let{routeContext:t,match:n,children:r}=e,i=K.useContext(D4);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(Ku.Provider,{value:t},r)}function TF(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=(i=n)==null?void 0:i.errors;if(c!=null){let p=o.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);p>=0||Aa(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:w,errors:y}=n,E=g.route.loader&&w[g.route.id]===void 0&&(!y||y[g.route.id]===void 0);if(g.route.lazy||E){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,g,w)=>{let y,E=!1,S=null,A=null;n&&(y=c&&g.route.id?c[g.route.id]:void 0,S=g.route.errorElement||AF,u&&(f<0&&w===0?(MF("route-fallback",!1),E=!0,A=null):f===w&&(E=!0,A=g.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,w+1)),k=()=>{let D;return y?D=S:E?D=A:g.route.Component?D=K.createElement(g.route.Component,null):g.route.element?D=g.route.element:D=p,K.createElement(kF,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:n!=null},children:D})};return n&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?K.createElement(jF,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:k(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):k()},null)}var BA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(BA||{}),F2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(F2||{});function LF(e){let t=K.useContext(D4);return t||Aa(!1),t}function IF(e){let t=K.useContext(bF);return t||Aa(!1),t}function DF(e){let t=K.useContext(Ku);return t||Aa(!1),t}function UA(e){let t=DF(),n=t.matches[t.matches.length-1];return n.route.id||Aa(!1),n.route.id}function OF(){var e;let t=K.useContext(MA),n=IF(F2.UseRouteError),r=UA(F2.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function RF(){let{router:e}=LF(BA.UseNavigateStable),t=UA(F2.UseNavigateStable),n=K.useRef(!1);return PA(()=>{n.current=!0}),K.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Rp({fromRouteId:t},a)))},[e,t])}const f_={};function MF(e,t,n){!t&&!f_[e]&&(f_[e]=!0)}function PF(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function B2(e){let{to:t,replace:n,state:r,relative:i}=e;t1()||Aa(!1);let{future:a,static:o}=K.useContext(d0),{matches:c}=K.useContext(Ku),{pathname:u}=n1(),f=Do(),p=I4(t,L4(c,a.v7_relativeSplatPath),u,i==="path"),g=JSON.stringify(p);return K.useEffect(()=>f(JSON.parse(g),{replace:n,state:r,relative:i}),[f,g,i,n,r]),null}function Rs(e){Aa(!1)}function FF(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Md.Pop,navigator:a,static:o=!1,future:c}=e;t1()&&Aa(!1);let u=t.replace(/^\/*/,"/"),f=K.useMemo(()=>({basename:u,navigator:a,static:o,future:Rp({v7_relativeSplatPath:!1},c)}),[u,c,a,o]);typeof r=="string"&&(r=e1(r));let{pathname:p="/",search:g="",hash:w="",state:y=null,key:E="default"}=r,S=K.useMemo(()=>{let A=T4(p,u);return A==null?null:{location:{pathname:A,search:g,hash:w,state:y,key:E},navigationType:i}},[u,p,g,w,y,E,i]);return S==null?null:K.createElement(d0.Provider,{value:f},K.createElement(Yg.Provider,{children:n,value:S}))}function BF(e){let{children:t,location:n}=e;return SF(T5(t),n)}new Promise(()=>{});function T5(e,t){t===void 0&&(t=[]);let n=[];return K.Children.forEach(e,(r,i)=>{if(!K.isValidElement(r))return;let a=[...t,i];if(r.type===K.Fragment){n.push.apply(n,T5(r.props.children,a));return}r.type!==Rs&&Aa(!1),!r.props.index||!r.props.children||Aa(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=T5(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L5(){return L5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L5.apply(this,arguments)}function UF(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function zF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WF(e,t){return e.button===0&&(!t||t==="_self")&&!zF(e)}const qF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HF="6";try{window.__reactRouterVersion=HF}catch{}const VF="startTransition",h_=Fb[VF];function $F(e){let{basename:t,children:n,future:r,window:i}=e,a=K.useRef();a.current==null&&(a.current=KP({window:i,v5Compat:!0}));let o=a.current,[c,u]=K.useState({action:o.action,location:o.location}),{v7_startTransition:f}=r||{},p=K.useCallback(g=>{f&&h_?h_(()=>u(g)):u(g)},[u,f]);return K.useLayoutEffect(()=>o.listen(p),[o,p]),K.useEffect(()=>PF(r),[r]),K.createElement(FF,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}const YF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ca=K.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:c,target:u,to:f,preventScrollReset:p,viewTransition:g}=t,w=UF(t,qF),{basename:y}=K.useContext(d0),E,S=!1;if(typeof f=="string"&&GF.test(f)&&(E=f,YF))try{let D=new URL(window.location.href),P=f.startsWith("//")?new URL(D.protocol+f):new URL(f),Y=T4(P.pathname,y);P.origin===D.origin&&Y!=null?f=Y+P.search+P.hash:S=!0}catch{}let A=NF(f,{relative:i}),j=XF(f,{replace:o,state:c,target:u,preventScrollReset:p,relative:i,viewTransition:g});function k(D){r&&r(D),D.defaultPrevented||j(D)}return K.createElement("a",L5({},w,{href:E||A,onClick:S||a?r:k,ref:n,target:u}))});var p_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(p_||(p_={}));var m_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(m_||(m_={}));function XF(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:c}=t===void 0?{}:t,u=Do(),f=n1(),p=FA(e,{relative:o});return K.useCallback(g=>{if(WF(g,n)){g.preventDefault();let w=r!==void 0?r:P2(f)===P2(p);u(e,{replace:w,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[f,u,p,r,i,n,e,a,o,c])}class r1{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Mp=typeof window>"u"||"Deno"in window;function pl(){}function KF(e,t){return typeof e=="function"?e(t):e}function I5(e){return typeof e=="number"&&e>=0&&e!==1/0}function zA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function uh(e,t,n){return rm(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function QF(e,t,n){return rm(e)?typeof t=="function"?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function Td(e,t,n){return rm(e)?[{...t,queryKey:e},n]:[e||{},t]}function x_(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:c}=e;if(rm(o)){if(r){if(t.queryHash!==O4(o,t.options))return!1}else if(!U2(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||typeof i<"u"&&i!==t.state.fetchStatus||a&&!a(t))}function g_(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:a}=e;if(rm(a)){if(!t.options.mutationKey)return!1;if(n){if(U0(t.options.mutationKey)!==U0(a))return!1}else if(!U2(t.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function O4(e,t){return((t==null?void 0:t.queryKeyHashFn)||U0)(e)}function U0(e){return JSON.stringify(e,(t,n)=>D5(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function U2(e,t){return WA(e,t)}function WA(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!WA(e[n],t[n])):!1}function qA(e,t){if(e===t)return e;const n=v_(e)&&v_(t);if(n||D5(e)&&D5(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{};let c=0;for(let u=0;u<a;u++){const f=n?u:i[u];o[f]=qA(e[f],t[f]),o[f]===e[f]&&c++}return r===a&&c===r?e:o}return t}function z2(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function v_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function D5(e){if(!w_(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!w_(n)||!n.hasOwnProperty("isPrototypeOf"))}function w_(e){return Object.prototype.toString.call(e)==="[object Object]"}function rm(e){return Array.isArray(e)}function HA(e){return new Promise(t=>{setTimeout(t,e)})}function y_(e){HA(0).then(e)}function ZF(){if(typeof AbortController=="function")return new AbortController}function O5(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?qA(e,t):t}class JF extends r1{constructor(){super(),this.setup=t=>{if(!Mp&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const W2=new JF,b_=["online","offline"];class eB extends r1{constructor(){super(),this.setup=t=>{if(!Mp&&window.addEventListener){const n=()=>t();return b_.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{b_.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const q2=new eB;function tB(e){return Math.min(1e3*2**e,3e4)}function Xg(e){return(e??"online")==="online"?q2.isOnline():!0}class VA{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function Qx(e){return e instanceof VA}function $A(e){let t=!1,n=0,r=!1,i,a,o;const c=new Promise((A,j)=>{a=A,o=j}),u=A=>{r||(y(new VA(A)),e.abort==null||e.abort())},f=()=>{t=!0},p=()=>{t=!1},g=()=>!W2.isFocused()||e.networkMode!=="always"&&!q2.isOnline(),w=A=>{r||(r=!0,e.onSuccess==null||e.onSuccess(A),i==null||i(),a(A))},y=A=>{r||(r=!0,e.onError==null||e.onError(A),i==null||i(),o(A))},E=()=>new Promise(A=>{i=j=>{const k=r||!g();return k&&A(j),k},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),S=()=>{if(r)return;let A;try{A=e.fn()}catch(j){A=Promise.reject(j)}Promise.resolve(A).then(w).catch(j=>{var k,D;if(r)return;const P=(k=e.retry)!=null?k:3,Y=(D=e.retryDelay)!=null?D:tB,z=typeof Y=="function"?Y(n,j):Y,R=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,j);if(t||!R){y(j);return}n++,e.onFail==null||e.onFail(n,j),HA(z).then(()=>{if(g())return E()}).then(()=>{t?y(j):S()})})};return Xg(e.networkMode)?S():E().then(S),{promise:c,cancel:u,continue:()=>(i==null?void 0:i())?c:Promise.resolve(),cancelRetry:f,continueRetry:p}}const R4=console;function nB(){let e=[],t=0,n=p=>{p()},r=p=>{p()};const i=p=>{let g;t++;try{g=p()}finally{t--,t||c()}return g},a=p=>{t?e.push(p):y_(()=>{n(p)})},o=p=>(...g)=>{a(()=>{p(...g)})},c=()=>{const p=e;e=[],p.length&&y_(()=>{r(()=>{p.forEach(g=>{n(g)})})})};return{batch:i,batchCalls:o,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p}}}const ua=nB();class YA{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I5(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(Mp?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class rB extends YA{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||R4,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||iB(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=O5(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(pl).catch(pl):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!zA(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(E=>E.options.queryFn);y&&this.setOptions(y.options)}const o=ZF(),c={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},u=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};u(c);const f=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(c)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),p={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:f};if(u(p),(r=this.options.behavior)==null||r.onFetch(p),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=p.fetchOptions)==null?void 0:i.meta)){var g;this.dispatch({type:"fetch",meta:(g=p.fetchOptions)==null?void 0:g.meta})}const w=y=>{if(Qx(y)&&y.silent||this.dispatch({type:"error",error:y}),!Qx(y)){var E,S,A,j;(E=(S=this.cache.config).onError)==null||E.call(S,y,this),(A=(j=this.cache.config).onSettled)==null||A.call(j,this.state.data,y,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=$A({fn:p.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:y=>{var E,S,A,j;if(typeof y>"u"){w(new Error(this.queryHash+" data is undefined"));return}this.setData(y),(E=(S=this.cache.config).onSuccess)==null||E.call(S,y,this),(A=(j=this.cache.config).onSettled)==null||A.call(j,y,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:w,onFail:(y,E)=>{this.dispatch({type:"failed",failureCount:y,error:E})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var i,a;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:Xg(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=t.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Qx(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ua.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function iB(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class aB extends r1{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var i;const a=n.queryKey,o=(i=n.queryHash)!=null?i:O4(a,n);let c=this.get(o);return c||(c=new rB({cache:this,logger:t.getLogger(),queryKey:a,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(c)),c}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){ua.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=Td(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>x_(r,i))}findAll(t,n){const[r]=Td(t,n);return Object.keys(r).length>0?this.queries.filter(i=>x_(r,i)):this.queries}notify(t){ua.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}onFocus(){ua.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){ua.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class sB extends YA{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||R4,this.observers=[],this.state=t.state||GA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var R;return this.retryer=$A({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(B,q)=>{this.dispatch({type:"failed",failureCount:B,error:q})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(R=this.options.retry)!=null?R:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,a,o,c,u,f,p;if(!n){var g,w,y,E;this.dispatch({type:"loading",variables:this.options.variables}),await((g=(w=this.mutationCache.config).onMutate)==null?void 0:g.call(w,this.state.variables,this));const B=await((y=(E=this.options).onMutate)==null?void 0:y.call(E,this.state.variables));B!==this.state.context&&this.dispatch({type:"loading",context:B,variables:this.state.variables})}const R=await t();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,R,this.state.variables,this.state.context,this)),await((a=(o=this.options).onSuccess)==null?void 0:a.call(o,R,this.state.variables,this.state.context)),await((c=(u=this.mutationCache.config).onSettled)==null?void 0:c.call(u,R,null,this.state.variables,this.state.context,this)),await((f=(p=this.options).onSettled)==null?void 0:f.call(p,R,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:R}),R}catch(R){try{var S,A,j,k,D,P,Y,z;throw await((S=(A=this.mutationCache.config).onError)==null?void 0:S.call(A,R,this.state.variables,this.state.context,this)),await((j=(k=this.options).onError)==null?void 0:j.call(k,R,this.state.variables,this.state.context)),await((D=(P=this.mutationCache.config).onSettled)==null?void 0:D.call(P,void 0,R,this.state.variables,this.state.context,this)),await((Y=(z=this.options).onSettled)==null?void 0:Y.call(z,void 0,R,this.state.variables,this.state.context)),R}finally{this.dispatch({type:"error",error:R})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Xg(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),ua.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function GA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class oB extends r1{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const i=new sB({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){ua.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>g_(t,n))}findAll(t){return this.mutations.filter(n=>g_(t,n))}notify(t){ua.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return ua.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(pl)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function R5(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,i,a,o;const c=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,u=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,f=u==null?void 0:u.pageParam,p=(u==null?void 0:u.direction)==="forward",g=(u==null?void 0:u.direction)==="backward",w=((a=e.state.data)==null?void 0:a.pages)||[],y=((o=e.state.data)==null?void 0:o.pageParams)||[];let E=y,S=!1;const A=z=>{Object.defineProperty(z,"signal",{enumerable:!0,get:()=>{var R;if((R=e.signal)!=null&&R.aborted)S=!0;else{var B;(B=e.signal)==null||B.addEventListener("abort",()=>{S=!0})}return e.signal}})},j=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),k=(z,R,B,q)=>(E=q?[R,...E]:[...E,R],q?[B,...z]:[...z,B]),D=(z,R,B,q)=>{if(S)return Promise.reject("Cancelled");if(typeof B>"u"&&!R&&z.length)return Promise.resolve(z);const te={queryKey:e.queryKey,pageParam:B,meta:e.options.meta};A(te);const H=j(te);return Promise.resolve(H).then(J=>k(z,B,J,q))};let P;if(!w.length)P=D([]);else if(p){const z=typeof f<"u",R=z?f:M5(e.options,w);P=D(w,z,R)}else if(g){const z=typeof f<"u",R=z?f:XA(e.options,w);P=D(w,z,R,!0)}else{E=[];const z=typeof e.options.getNextPageParam>"u";P=(c&&w[0]?c(w[0],0,w):!0)?D([],z,y[0]):Promise.resolve(k([],y[0],w[0]));for(let B=1;B<w.length;B++)P=P.then(q=>{if(c&&w[B]?c(w[B],B,w):!0){const H=z?y[B]:M5(e.options,q);return D(q,z,H)}return Promise.resolve(k(q,y[B],w[B]))})}return P.then(z=>({pages:z,pageParams:E}))}}}}function M5(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function XA(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}function lB(e,t){if(e.getNextPageParam&&Array.isArray(t)){const n=M5(e,t);return typeof n<"u"&&n!==null&&n!==!1}}function cB(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){const n=XA(e,t);return typeof n<"u"&&n!==null&&n!==!1}}class uB{constructor(t={}){this.queryCache=t.queryCache||new aB,this.mutationCache=t.mutationCache||new oB,this.logger=t.logger||R4,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=W2.subscribe(()=>{W2.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=q2.subscribe(()=>{q2.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=Td(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const i=uh(t,n,r),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.queryCache.find(t),a=i==null?void 0:i.state.data,o=KF(n,a);if(typeof o>"u")return;const c=uh(t),u=this.defaultQueryOptions(c);return this.queryCache.build(this,u).setData(o,{...r,manual:!0})}setQueriesData(t,n,r){return ua.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=Td(t,n),i=this.queryCache;ua.batch(()=>{i.findAll(r).forEach(a=>{i.remove(a)})})}resetQueries(t,n,r){const[i,a]=Td(t,n,r),o=this.queryCache,c={type:"active",...i};return ua.batch(()=>(o.findAll(i).forEach(u=>{u.reset()}),this.refetchQueries(c,a)))}cancelQueries(t,n,r){const[i,a={}]=Td(t,n,r);typeof a.revert>"u"&&(a.revert=!0);const o=ua.batch(()=>this.queryCache.findAll(i).map(c=>c.cancel(a)));return Promise.all(o).then(pl).catch(pl)}invalidateQueries(t,n,r){const[i,a]=Td(t,n,r);return ua.batch(()=>{var o,c;if(this.queryCache.findAll(i).forEach(f=>{f.invalidate()}),i.refetchType==="none")return Promise.resolve();const u={...i,type:(o=(c=i.refetchType)!=null?c:i.type)!=null?o:"active"};return this.refetchQueries(u,a)})}refetchQueries(t,n,r){const[i,a]=Td(t,n,r),o=ua.batch(()=>this.queryCache.findAll(i).filter(u=>!u.isDisabled()).map(u=>{var f;return u.fetch(void 0,{...a,cancelRefetch:(f=a==null?void 0:a.cancelRefetch)!=null?f:!0,meta:{refetchPage:i.refetchPage}})}));let c=Promise.all(o).then(pl);return a!=null&&a.throwOnError||(c=c.catch(pl)),c}fetchQuery(t,n,r){const i=uh(t,n,r),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(pl).catch(pl)}fetchInfiniteQuery(t,n,r){const i=uh(t,n,r);return i.behavior=R5(),this.fetchQuery(i)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(pl).catch(pl)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(i=>U0(t)===U0(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>U2(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(i=>U0(t)===U0(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>U2(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=O4(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class KA extends r1{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),N_(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return P5(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return P5(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),z2(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&__(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t),r=this.createResult(n,t);return fB(this,r,t)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(pl)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Mp||this.currentResult.isStale||!I5(this.options.staleTime))return;const n=zA(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(Mp||this.options.enabled===!1||!I5(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||W2.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,i=this.options,a=this.currentResult,o=this.currentResultState,c=this.currentResultOptions,u=t!==r,f=u?t.state:this.currentQueryInitialState,p=u?this.currentResult:this.previousQueryResult,{state:g}=t;let{dataUpdatedAt:w,error:y,errorUpdatedAt:E,fetchStatus:S,status:A}=g,j=!1,k=!1,D;if(n._optimisticResults){const B=this.hasListeners(),q=!B&&N_(t,n),te=B&&__(t,r,n,i);(q||te)&&(S=Xg(t.options.networkMode)?"fetching":"paused",w||(A="loading")),n._optimisticResults==="isRestoring"&&(S="idle")}if(n.keepPreviousData&&!g.dataUpdatedAt&&p!=null&&p.isSuccess&&A!=="error")D=p.data,w=p.dataUpdatedAt,A=p.status,j=!0;else if(n.select&&typeof g.data<"u")if(a&&g.data===(o==null?void 0:o.data)&&n.select===this.selectFn)D=this.selectResult;else try{this.selectFn=n.select,D=n.select(g.data),D=O5(a==null?void 0:a.data,D,n),this.selectResult=D,this.selectError=null}catch(B){this.selectError=B}else D=g.data;if(typeof n.placeholderData<"u"&&typeof D>"u"&&A==="loading"){let B;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData))B=a.data;else if(B=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof B<"u")try{B=n.select(B),this.selectError=null}catch(q){this.selectError=q}typeof B<"u"&&(A="success",D=O5(a==null?void 0:a.data,B,n),k=!0)}this.selectError&&(y=this.selectError,D=this.selectResult,E=Date.now(),A="error");const P=S==="fetching",Y=A==="loading",z=A==="error";return{status:A,fetchStatus:S,isLoading:Y,isSuccess:A==="success",isError:z,isInitialLoading:Y&&P,data:D,dataUpdatedAt:w,error:y,errorUpdatedAt:E,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:P,isRefetching:P&&!Y,isLoadingError:z&&g.dataUpdatedAt===0,isPaused:S==="paused",isPlaceholderData:k,isPreviousData:j,isRefetchError:z&&g.dataUpdatedAt!==0,isStale:M4(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,z2(r,n))return;this.currentResult=r;const i={cache:!0},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,c=typeof o=="function"?o():o;if(c==="all"||!c&&!this.trackedProps.size)return!0;const u=new Set(c??this.trackedProps);return this.options.useErrorBoundary&&u.add("error"),Object.keys(this.currentResult).some(f=>{const p=f;return this.currentResult[p]!==n[p]&&u.has(p)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!Qx(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){ua.batch(()=>{if(t.onSuccess){var n,r,i,a;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(t.onError){var o,c,u,f;(o=(c=this.options).onError)==null||o.call(c,this.currentResult.error),(u=(f=this.options).onSettled)==null||u.call(f,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:p})=>{p(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function dB(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function N_(e,t){return dB(e,t)||e.state.dataUpdatedAt>0&&P5(e,t,t.refetchOnMount)}function P5(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&M4(e,t)}return!1}function __(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&M4(e,n)}function M4(e,t){return e.isStaleByTime(t.staleTime)}function fB(e,t,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?t.isPlaceholderData:!z2(e.getCurrentResult(),t)}class hB extends KA{constructor(t,n){super(t,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,n){super.setOptions({...t,behavior:R5()},n)}getOptimisticResult(t){return t.behavior=R5(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,n){var r,i,a,o,c,u;const{state:f}=t,p=super.createResult(t,n),{isFetching:g,isRefetching:w}=p,y=g&&((r=f.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",E=g&&((a=f.fetchMeta)==null||(o=a.fetchMore)==null?void 0:o.direction)==="backward";return{...p,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:lB(n,(c=f.data)==null?void 0:c.pages),hasPreviousPage:cB(n,(u=f.data)==null?void 0:u.pages),isFetchingNextPage:y,isFetchingPreviousPage:E,isRefetching:w&&!y&&!E}}}let pB=class extends r1{constructor(t,n){super(),this.client=t,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=this.client.defaultMutationOptions(t),z2(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const n={listeners:!0};t.type==="success"?n.onSuccess=!0:t.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:GA(),n=t.status==="loading",r={...t,isLoading:n,isPending:n,isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(t){ua.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var n,r,i,a;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var o,c,u,f;(o=(c=this.mutateOptions).onError)==null||o.call(c,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(u=(f=this.mutateOptions).onSettled)==null||u.call(f,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:p})=>{p(this.currentResult)})})}};var QA={exports:{}},ZA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh=K;function mB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xB=typeof Object.is=="function"?Object.is:mB,gB=Bh.useState,vB=Bh.useEffect,wB=Bh.useLayoutEffect,yB=Bh.useDebugValue;function bB(e,t){var n=t(),r=gB({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return wB(function(){i.value=n,i.getSnapshot=t,Xw(i)&&a({inst:i})},[e,n,t]),vB(function(){return Xw(i)&&a({inst:i}),e(function(){Xw(i)&&a({inst:i})})},[e]),yB(n),n}function Xw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xB(e,n)}catch{return!0}}function NB(e,t){return t()}var _B=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?NB:bB;ZA.useSyncExternalStore=Bh.useSyncExternalStore!==void 0?Bh.useSyncExternalStore:_B;QA.exports=ZA;var SB=QA.exports;const JA=SB.useSyncExternalStore,S_=K.createContext(void 0),e7=K.createContext(!1);function t7(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=S_),window.ReactQueryClientContext):S_)}const ai=({context:e}={})=>{const t=K.useContext(t7(e,K.useContext(e7)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},CB=({client:e,children:t,context:n,contextSharing:r=!1})=>{K.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=t7(n,r);return K.createElement(e7.Provider,{value:!n&&r},K.createElement(i.Provider,{value:e},t))},n7=K.createContext(!1),EB=()=>K.useContext(n7);n7.Provider;function AB(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const jB=K.createContext(AB()),kB=()=>K.useContext(jB);function r7(e,t){return typeof e=="function"?e(...t):!!e}const TB=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},LB=e=>{K.useEffect(()=>{e.clearReset()},[e])},IB=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r7(n,[e.error,r]),DB=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},OB=(e,t)=>e.isLoading&&e.isFetching&&!t,RB=(e,t,n)=>(e==null?void 0:e.suspense)&&OB(t,n),MB=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function i7(e,t){const n=ai({context:e.context}),r=EB(),i=kB(),a=n.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=ua.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=ua.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=ua.batchCalls(a.onSettled)),DB(a),TB(a,i),LB(i);const[o]=K.useState(()=>new t(n,a)),c=o.getOptimisticResult(a);if(JA(K.useCallback(u=>{const f=r?()=>{}:o.subscribe(ua.batchCalls(u));return o.updateResult(),f},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),K.useEffect(()=>{o.setOptions(a,{listeners:!1})},[a,o]),RB(a,c,r))throw MB(a,o,i);if(IB({result:c,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:o.getCurrentQuery()}))throw c.error;return a.notifyOnChangeProps?c:o.trackResult(c)}function Ln(e,t,n){const r=uh(e,t,n);return i7(r,KA)}function cr(e,t,n){const r=QF(e,t,n),i=ai({context:r.context}),[a]=K.useState(()=>new pB(i,r));K.useEffect(()=>{a.setOptions(r)},[a,r]);const o=JA(K.useCallback(u=>a.subscribe(ua.batchCalls(u)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),c=K.useCallback((u,f)=>{a.mutate(u,f).catch(PB)},[a]);if(o.error&&r7(a.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}function PB(){}function P4(e,t,n){const r=uh(e,t,n);return i7(r,hB)}function a7(e,t){return function(){return e.apply(t,arguments)}}const{toString:FB}=Object.prototype,{getPrototypeOf:F4}=Object,{iterator:Kg,toStringTag:s7}=Symbol,Qg=(e=>t=>{const n=FB.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dc=e=>(e=e.toLowerCase(),t=>Qg(t)===e),Zg=e=>t=>typeof t===e,{isArray:i1}=Array,Pp=Zg("undefined");function BB(e){return e!==null&&!Pp(e)&&e.constructor!==null&&!Pp(e.constructor)&&ko(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const o7=dc("ArrayBuffer");function UB(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&o7(e.buffer),t}const zB=Zg("string"),ko=Zg("function"),l7=Zg("number"),Jg=e=>e!==null&&typeof e=="object",WB=e=>e===!0||e===!1,Zx=e=>{if(Qg(e)!=="object")return!1;const t=F4(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(s7 in e)&&!(Kg in e)},qB=dc("Date"),HB=dc("File"),VB=dc("Blob"),$B=dc("FileList"),YB=e=>Jg(e)&&ko(e.pipe),GB=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ko(e.append)&&((t=Qg(e))==="formdata"||t==="object"&&ko(e.toString)&&e.toString()==="[object FormData]"))},XB=dc("URLSearchParams"),[KB,QB,ZB,JB]=["ReadableStream","Request","Response","Headers"].map(dc),eU=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function im(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),i1(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let c;for(r=0;r<o;r++)c=a[r],t.call(null,e[c],c,e)}}function c7(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const z0=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),u7=e=>!Pp(e)&&e!==z0;function F5(){const{caseless:e}=u7(this)&&this||{},t={},n=(r,i)=>{const a=e&&c7(t,i)||i;Zx(t[a])&&Zx(r)?t[a]=F5(t[a],r):Zx(r)?t[a]=F5({},r):i1(r)?t[a]=r.slice():t[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&im(arguments[r],n);return t}const tU=(e,t,n,{allOwnKeys:r}={})=>(im(t,(i,a)=>{n&&ko(i)?e[a]=a7(i,n):e[a]=i},{allOwnKeys:r}),e),nU=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),rU=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},iU=(e,t,n,r)=>{let i,a,o;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!r||r(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=n!==!1&&F4(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},aU=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},sU=e=>{if(!e)return null;if(i1(e))return e;let t=e.length;if(!l7(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},oU=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&F4(Uint8Array)),lU=(e,t)=>{const r=(e&&e[Kg]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},cU=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},uU=dc("HTMLFormElement"),dU=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),C_=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),fU=dc("RegExp"),d7=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};im(n,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(r[a]=o||i)}),Object.defineProperties(e,r)},hU=e=>{d7(e,(t,n)=>{if(ko(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ko(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},pU=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return i1(e)?r(e):r(String(e).split(t)),n},mU=()=>{},xU=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function gU(e){return!!(e&&ko(e.append)&&e[s7]==="FormData"&&e[Kg])}const vU=e=>{const t=new Array(10),n=(r,i)=>{if(Jg(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const a=i1(r)?[]:{};return im(r,(o,c)=>{const u=n(o,i+1);!Pp(u)&&(a[c]=u)}),t[i]=void 0,a}}return r};return n(e,0)},wU=dc("AsyncFunction"),yU=e=>e&&(Jg(e)||ko(e))&&ko(e.then)&&ko(e.catch),f7=((e,t)=>e?setImmediate:t?((n,r)=>(z0.addEventListener("message",({source:i,data:a})=>{i===z0&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),z0.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ko(z0.postMessage)),bU=typeof queueMicrotask<"u"?queueMicrotask.bind(z0):typeof process<"u"&&process.nextTick||f7,NU=e=>e!=null&&ko(e[Kg]),At={isArray:i1,isArrayBuffer:o7,isBuffer:BB,isFormData:GB,isArrayBufferView:UB,isString:zB,isNumber:l7,isBoolean:WB,isObject:Jg,isPlainObject:Zx,isReadableStream:KB,isRequest:QB,isResponse:ZB,isHeaders:JB,isUndefined:Pp,isDate:qB,isFile:HB,isBlob:VB,isRegExp:fU,isFunction:ko,isStream:YB,isURLSearchParams:XB,isTypedArray:oU,isFileList:$B,forEach:im,merge:F5,extend:tU,trim:eU,stripBOM:nU,inherits:rU,toFlatObject:iU,kindOf:Qg,kindOfTest:dc,endsWith:aU,toArray:sU,forEachEntry:lU,matchAll:cU,isHTMLForm:uU,hasOwnProperty:C_,hasOwnProp:C_,reduceDescriptors:d7,freezeMethods:hU,toObjectSet:pU,toCamelCase:dU,noop:mU,toFiniteNumber:xU,findKey:c7,global:z0,isContextDefined:u7,isSpecCompliantForm:gU,toJSONObject:vU,isAsyncFn:wU,isThenable:yU,setImmediate:f7,asap:bU,isIterable:NU};function ar(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}At.inherits(ar,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:At.toJSONObject(this.config),code:this.code,status:this.status}}});const h7=ar.prototype,p7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{p7[e]={value:e}});Object.defineProperties(ar,p7);Object.defineProperty(h7,"isAxiosError",{value:!0});ar.from=(e,t,n,r,i,a)=>{const o=Object.create(h7);return At.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),ar.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const _U=null;function B5(e){return At.isPlainObject(e)||At.isArray(e)}function m7(e){return At.endsWith(e,"[]")?e.slice(0,-2):e}function E_(e,t,n){return e?e.concat(t).map(function(i,a){return i=m7(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function SU(e){return At.isArray(e)&&!e.some(B5)}const CU=At.toFlatObject(At,{},null,function(t){return/^is[A-Z]/.test(t)});function ev(e,t,n){if(!At.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=At.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,A){return!At.isUndefined(A[S])});const r=n.metaTokens,i=n.visitor||p,a=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&At.isSpecCompliantForm(t);if(!At.isFunction(i))throw new TypeError("visitor must be a function");function f(E){if(E===null)return"";if(At.isDate(E))return E.toISOString();if(!u&&At.isBlob(E))throw new ar("Blob is not supported. Use a Buffer instead.");return At.isArrayBuffer(E)||At.isTypedArray(E)?u&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function p(E,S,A){let j=E;if(E&&!A&&typeof E=="object"){if(At.endsWith(S,"{}"))S=r?S:S.slice(0,-2),E=JSON.stringify(E);else if(At.isArray(E)&&SU(E)||(At.isFileList(E)||At.endsWith(S,"[]"))&&(j=At.toArray(E)))return S=m7(S),j.forEach(function(D,P){!(At.isUndefined(D)||D===null)&&t.append(o===!0?E_([S],P,a):o===null?S:S+"[]",f(D))}),!1}return B5(E)?!0:(t.append(E_(A,S,a),f(E)),!1)}const g=[],w=Object.assign(CU,{defaultVisitor:p,convertValue:f,isVisitable:B5});function y(E,S){if(!At.isUndefined(E)){if(g.indexOf(E)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(E),At.forEach(E,function(j,k){(!(At.isUndefined(j)||j===null)&&i.call(t,j,At.isString(k)?k.trim():k,S,w))===!0&&y(j,S?S.concat(k):[k])}),g.pop()}}if(!At.isObject(e))throw new TypeError("data must be an object");return y(e),t}function A_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function B4(e,t){this._pairs=[],e&&ev(e,this,t)}const x7=B4.prototype;x7.append=function(t,n){this._pairs.push([t,n])};x7.toString=function(t){const n=t?function(r){return t.call(this,r,A_)}:A_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function EU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function g7(e,t,n){if(!t)return e;const r=n&&n.encode||EU;At.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=At.isURLSearchParams(t)?t.toString():new B4(t,n).toString(r),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class AU{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){At.forEach(this.handlers,function(r){r!==null&&t(r)})}}const j_=AU,v7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jU=typeof URLSearchParams<"u"?URLSearchParams:B4,kU=typeof FormData<"u"?FormData:null,TU=typeof Blob<"u"?Blob:null,LU={isBrowser:!0,classes:{URLSearchParams:jU,FormData:kU,Blob:TU},protocols:["http","https","file","blob","url","data"]},U4=typeof window<"u"&&typeof document<"u",U5=typeof navigator=="object"&&navigator||void 0,IU=U4&&(!U5||["ReactNative","NativeScript","NS"].indexOf(U5.product)<0),DU=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),OU=U4&&window.location.href||"http://localhost",RU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:U4,hasStandardBrowserEnv:IU,hasStandardBrowserWebWorkerEnv:DU,navigator:U5,origin:OU},Symbol.toStringTag,{value:"Module"})),Ps={...RU,...LU};function MU(e,t){return ev(e,new Ps.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return Ps.isNode&&At.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function PU(e){return At.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function FU(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function w7(e){function t(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=a>=n.length;return o=!o&&At.isArray(i)?i.length:o,u?(At.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!c):((!i[o]||!At.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],a)&&At.isArray(i[o])&&(i[o]=FU(i[o])),!c)}if(At.isFormData(e)&&At.isFunction(e.entries)){const n={};return At.forEachEntry(e,(r,i)=>{t(PU(r),i,n,0)}),n}return null}function BU(e,t,n){if(At.isString(e))try{return(t||JSON.parse)(e),At.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const z4={transitional:v7,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=At.isObject(t);if(a&&At.isHTMLForm(t)&&(t=new FormData(t)),At.isFormData(t))return i?JSON.stringify(w7(t)):t;if(At.isArrayBuffer(t)||At.isBuffer(t)||At.isStream(t)||At.isFile(t)||At.isBlob(t)||At.isReadableStream(t))return t;if(At.isArrayBufferView(t))return t.buffer;if(At.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return MU(t,this.formSerializer).toString();if((c=At.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ev(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),BU(t)):t}],transformResponse:[function(t){const n=this.transitional||z4.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(At.isResponse(t)||At.isReadableStream(t))return t;if(t&&At.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?ar.from(c,ar.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ps.classes.FormData,Blob:Ps.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};At.forEach(["delete","get","head","post","put","patch"],e=>{z4.headers[e]={}});const W4=z4,UU=At.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zU=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&UU[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},k_=Symbol("internals");function F1(e){return e&&String(e).trim().toLowerCase()}function Jx(e){return e===!1||e==null?e:At.isArray(e)?e.map(Jx):String(e)}function WU(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const qU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Kw(e,t,n,r,i){if(At.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!At.isString(t)){if(At.isString(r))return t.indexOf(r)!==-1;if(At.isRegExp(r))return r.test(t)}}function HU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function VU(e,t){const n=At.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,o){return this[r].call(this,t,i,a,o)},configurable:!0})})}class tv{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(c,u,f){const p=F1(u);if(!p)throw new Error("header name must be a non-empty string");const g=At.findKey(i,p);(!g||i[g]===void 0||f===!0||f===void 0&&i[g]!==!1)&&(i[g||u]=Jx(c))}const o=(c,u)=>At.forEach(c,(f,p)=>a(f,p,u));if(At.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(At.isString(t)&&(t=t.trim())&&!qU(t))o(zU(t),n);else if(At.isObject(t)&&At.isIterable(t)){let c={},u,f;for(const p of t){if(!At.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[f=p[0]]=(u=c[f])?At.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}o(c,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=F1(t),t){const r=At.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return WU(i);if(At.isFunction(n))return n.call(this,i,r);if(At.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=F1(t),t){const r=At.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Kw(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(o){if(o=F1(o),o){const c=At.findKey(r,o);c&&(!n||Kw(r,r[c],c,n))&&(delete r[c],i=!0)}}return At.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||Kw(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return At.forEach(this,(i,a)=>{const o=At.findKey(r,a);if(o){n[o]=Jx(i),delete n[a];return}const c=t?HU(a):String(a).trim();c!==a&&delete n[a],n[c]=Jx(i),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return At.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&At.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[k_]=this[k_]={accessors:{}}).accessors,i=this.prototype;function a(o){const c=F1(o);r[c]||(VU(i,o),r[c]=!0)}return At.isArray(t)?t.forEach(a):a(t),this}}tv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);At.reduceDescriptors(tv.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});At.freezeMethods(tv);const ac=tv;function Qw(e,t){const n=this||W4,r=t||n,i=ac.from(r.headers);let a=r.data;return At.forEach(e,function(c){a=c.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function y7(e){return!!(e&&e.__CANCEL__)}function a1(e,t,n){ar.call(this,e??"canceled",ar.ERR_CANCELED,t,n),this.name="CanceledError"}At.inherits(a1,ar,{__CANCEL__:!0});function b7(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ar("Request failed with status code "+n.status,[ar.ERR_BAD_REQUEST,ar.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function $U(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function YU(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),p=r[a];o||(o=f),n[i]=u,r[i]=f;let g=a,w=0;for(;g!==i;)w+=n[g++],g=g%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),f-o<t)return;const y=p&&f-p;return y?Math.round(w*1e3/y):void 0}}function GU(e,t){let n=0,r=1e3/t,i,a;const o=(f,p=Date.now())=>{n=p,i=null,a&&(clearTimeout(a),a=null),e.apply(null,f)};return[(...f)=>{const p=Date.now(),g=p-n;g>=r?o(f,p):(i=f,a||(a=setTimeout(()=>{a=null,o(i)},r-g)))},()=>i&&o(i)]}const H2=(e,t,n=3)=>{let r=0;const i=YU(50,250);return GU(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,u=o-r,f=i(u),p=o<=c;r=o;const g={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:f||void 0,estimated:f&&c&&p?(c-o)/f:void 0,event:a,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(g)},n)},T_=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},L_=e=>(...t)=>At.asap(()=>e(...t)),XU=Ps.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ps.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ps.origin),Ps.navigator&&/(msie|trident)/i.test(Ps.navigator.userAgent)):()=>!0,KU=Ps.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const o=[e+"="+encodeURIComponent(t)];At.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),At.isString(r)&&o.push("path="+r),At.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ZU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function N7(e,t,n){let r=!QU(t);return e&&(r||n==!1)?ZU(e,t):t}const I_=e=>e instanceof ac?{...e}:e;function nf(e,t){t=t||{};const n={};function r(f,p,g,w){return At.isPlainObject(f)&&At.isPlainObject(p)?At.merge.call({caseless:w},f,p):At.isPlainObject(p)?At.merge({},p):At.isArray(p)?p.slice():p}function i(f,p,g,w){if(At.isUndefined(p)){if(!At.isUndefined(f))return r(void 0,f,g,w)}else return r(f,p,g,w)}function a(f,p){if(!At.isUndefined(p))return r(void 0,p)}function o(f,p){if(At.isUndefined(p)){if(!At.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function c(f,p,g){if(g in t)return r(f,p);if(g in e)return r(void 0,f)}const u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(f,p,g)=>i(I_(f),I_(p),g,!0)};return At.forEach(Object.keys(Object.assign({},e,t)),function(p){const g=u[p]||i,w=g(e[p],t[p],p);At.isUndefined(w)&&g!==c||(n[p]=w)}),n}const _7=e=>{const t=nf({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:c}=t;t.headers=o=ac.from(o),t.url=g7(N7(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(At.isFormData(n)){if(Ps.hasStandardBrowserEnv||Ps.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[f,...p]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...p].join("; "))}}if(Ps.hasStandardBrowserEnv&&(r&&At.isFunction(r)&&(r=r(t)),r||r!==!1&&XU(t.url))){const f=i&&a&&KU.read(a);f&&o.set(i,f)}return t},JU=typeof XMLHttpRequest<"u",ez=JU&&function(e){return new Promise(function(n,r){const i=_7(e);let a=i.data;const o=ac.from(i.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:f}=i,p,g,w,y,E;function S(){y&&y(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function j(){if(!A)return;const D=ac.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),Y={data:!c||c==="text"||c==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:D,config:e,request:A};b7(function(R){n(R),S()},function(R){r(R),S()},Y),A=null}"onloadend"in A?A.onloadend=j:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(j)},A.onabort=function(){A&&(r(new ar("Request aborted",ar.ECONNABORTED,e,A)),A=null)},A.onerror=function(){r(new ar("Network Error",ar.ERR_NETWORK,e,A)),A=null},A.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Y=i.transitional||v7;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new ar(P,Y.clarifyTimeoutError?ar.ETIMEDOUT:ar.ECONNABORTED,e,A)),A=null},a===void 0&&o.setContentType(null),"setRequestHeader"in A&&At.forEach(o.toJSON(),function(P,Y){A.setRequestHeader(Y,P)}),At.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),c&&c!=="json"&&(A.responseType=i.responseType),f&&([w,E]=H2(f,!0),A.addEventListener("progress",w)),u&&A.upload&&([g,y]=H2(u),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(p=D=>{A&&(r(!D||D.type?new a1(null,e,A):D),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const k=$U(i.url);if(k&&Ps.protocols.indexOf(k)===-1){r(new ar("Unsupported protocol "+k+":",ar.ERR_BAD_REQUEST,e));return}A.send(a||null)})},tz=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(f){if(!i){i=!0,c();const p=f instanceof Error?f:this.reason;r.abort(p instanceof ar?p:new a1(p instanceof Error?p.message:p))}};let o=t&&setTimeout(()=>{o=null,a(new ar(`timeout ${t} of ms exceeded`,ar.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>At.asap(c),u}},nz=tz,rz=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},iz=async function*(e,t){for await(const n of az(e))yield*rz(n,t)},az=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},D_=(e,t,n,r)=>{const i=iz(e,t);let a=0,o,c=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:f,value:p}=await i.next();if(f){c(),u.close();return}let g=p.byteLength;if(n){let w=a+=g;n(w)}u.enqueue(new Uint8Array(p))}catch(f){throw c(f),f}},cancel(u){return c(u),i.return()}},{highWaterMark:2})},nv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",S7=nv&&typeof ReadableStream=="function",sz=nv&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),C7=(e,...t)=>{try{return!!e(...t)}catch{return!1}},oz=S7&&C7(()=>{let e=!1;const t=new Request(Ps.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),O_=64*1024,z5=S7&&C7(()=>At.isReadableStream(new Response("").body)),V2={stream:z5&&(e=>e.body)};nv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!V2[t]&&(V2[t]=At.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ar(`Response type '${t}' is not supported`,ar.ERR_NOT_SUPPORT,r)})})})(new Response);const lz=async e=>{if(e==null)return 0;if(At.isBlob(e))return e.size;if(At.isSpecCompliantForm(e))return(await new Request(Ps.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(At.isArrayBufferView(e)||At.isArrayBuffer(e))return e.byteLength;if(At.isURLSearchParams(e)&&(e=e+""),At.isString(e))return(await sz(e)).byteLength},cz=async(e,t)=>{const n=At.toFiniteNumber(e.getContentLength());return n??lz(t)},uz=nv&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:a,timeout:o,onDownloadProgress:c,onUploadProgress:u,responseType:f,headers:p,withCredentials:g="same-origin",fetchOptions:w}=_7(e);f=f?(f+"").toLowerCase():"text";let y=nz([i,a&&a.toAbortSignal()],o),E;const S=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let A;try{if(u&&oz&&n!=="get"&&n!=="head"&&(A=await cz(p,r))!==0){let Y=new Request(t,{method:"POST",body:r,duplex:"half"}),z;if(At.isFormData(r)&&(z=Y.headers.get("content-type"))&&p.setContentType(z),Y.body){const[R,B]=T_(A,H2(L_(u)));r=D_(Y.body,O_,R,B)}}At.isString(g)||(g=g?"include":"omit");const j="credentials"in Request.prototype;E=new Request(t,{...w,signal:y,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:j?g:void 0});let k=await fetch(E);const D=z5&&(f==="stream"||f==="response");if(z5&&(c||D&&S)){const Y={};["status","statusText","headers"].forEach(q=>{Y[q]=k[q]});const z=At.toFiniteNumber(k.headers.get("content-length")),[R,B]=c&&T_(z,H2(L_(c),!0))||[];k=new Response(D_(k.body,O_,R,()=>{B&&B(),S&&S()}),Y)}f=f||"text";let P=await V2[At.findKey(V2,f)||"text"](k,e);return!D&&S&&S(),await new Promise((Y,z)=>{b7(Y,z,{data:P,headers:ac.from(k.headers),status:k.status,statusText:k.statusText,config:e,request:E})})}catch(j){throw S&&S(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new ar("Network Error",ar.ERR_NETWORK,e,E),{cause:j.cause||j}):ar.from(j,j&&j.code,e,E)}}),W5={http:_U,xhr:ez,fetch:uz};At.forEach(W5,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const R_=e=>`- ${e}`,dz=e=>At.isFunction(e)||e===null||e===!1,E7={getAdapter:e=>{e=At.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){n=e[a];let o;if(r=n,!dz(n)&&(r=W5[(o=String(n)).toLowerCase()],r===void 0))throw new ar(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+a]=r}if(!r){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(R_).join(`
`):" "+R_(a[0]):"as no adapter specified";throw new ar("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:W5};function Zw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a1(null,e)}function M_(e){return Zw(e),e.headers=ac.from(e.headers),e.data=Qw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),E7.getAdapter(e.adapter||W4.adapter)(e).then(function(r){return Zw(e),r.data=Qw.call(e,e.transformResponse,r),r.headers=ac.from(r.headers),r},function(r){return y7(r)||(Zw(e),r&&r.response&&(r.response.data=Qw.call(e,e.transformResponse,r.response),r.response.headers=ac.from(r.response.headers))),Promise.reject(r)})}const A7="1.9.0",rv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rv[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const P_={};rv.transitional=function(t,n,r){function i(a,o){return"[Axios v"+A7+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,c)=>{if(t===!1)throw new ar(i(o," has been removed"+(n?" in "+n:"")),ar.ERR_DEPRECATED);return n&&!P_[o]&&(P_[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,c):!0}};rv.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function fz(e,t,n){if(typeof e!="object")throw new ar("options must be an object",ar.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const c=e[a],u=c===void 0||o(c,a,e);if(u!==!0)throw new ar("option "+a+" must be "+u,ar.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ar("Unknown option "+a,ar.ERR_BAD_OPTION)}}const e2={assertOptions:fz,validators:rv},Ic=e2.validators;class $2{constructor(t){this.defaults=t||{},this.interceptors={request:new j_,response:new j_}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=nf(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&e2.assertOptions(r,{silentJSONParsing:Ic.transitional(Ic.boolean),forcedJSONParsing:Ic.transitional(Ic.boolean),clarifyTimeoutError:Ic.transitional(Ic.boolean)},!1),i!=null&&(At.isFunction(i)?n.paramsSerializer={serialize:i}:e2.assertOptions(i,{encode:Ic.function,serialize:Ic.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),e2.assertOptions(n,{baseUrl:Ic.spelling("baseURL"),withXsrfToken:Ic.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&At.merge(a.common,a[n.method]);a&&At.forEach(["delete","get","head","post","put","patch","common"],E=>{delete a[E]}),n.headers=ac.concat(o,a);const c=[];let u=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(u=u&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let p,g=0,w;if(!u){const E=[M_.bind(this),void 0];for(E.unshift.apply(E,c),E.push.apply(E,f),w=E.length,p=Promise.resolve(n);g<w;)p=p.then(E[g++],E[g++]);return p}w=c.length;let y=n;for(g=0;g<w;){const E=c[g++],S=c[g++];try{y=E(y)}catch(A){S.call(this,A);break}}try{p=M_.call(this,y)}catch(E){return Promise.reject(E)}for(g=0,w=f.length;g<w;)p=p.then(f[g++],f[g++]);return p}getUri(t){t=nf(this.defaults,t);const n=N7(t.baseURL,t.url,t.allowAbsoluteUrls);return g7(n,t.params,t.paramsSerializer)}}At.forEach(["delete","get","head","options"],function(t){$2.prototype[t]=function(n,r){return this.request(nf(r||{},{method:t,url:n,data:(r||{}).data}))}});At.forEach(["post","put","patch"],function(t){function n(r){return function(a,o,c){return this.request(nf(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}$2.prototype[t]=n(),$2.prototype[t+"Form"]=n(!0)});const t2=$2;class q4{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(c=>{r.subscribe(c),a=c}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a,o,c){r.reason||(r.reason=new a1(a,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new q4(function(i){t=i}),cancel:t}}}const hz=q4;function pz(e){return function(n){return e.apply(null,n)}}function mz(e){return At.isObject(e)&&e.isAxiosError===!0}const q5={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(q5).forEach(([e,t])=>{q5[t]=e});const xz=q5;function j7(e){const t=new t2(e),n=a7(t2.prototype.request,t);return At.extend(n,t2.prototype,t,{allOwnKeys:!0}),At.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return j7(nf(e,i))},n}const Ra=j7(W4);Ra.Axios=t2;Ra.CanceledError=a1;Ra.CancelToken=hz;Ra.isCancel=y7;Ra.VERSION=A7;Ra.toFormData=ev;Ra.AxiosError=ar;Ra.Cancel=Ra.CanceledError;Ra.all=function(t){return Promise.all(t)};Ra.spread=pz;Ra.isAxiosError=mz;Ra.mergeConfig=nf;Ra.AxiosHeaders=ac;Ra.formToJSON=e=>w7(At.isHTMLForm(e)?new FormData(e):e);Ra.getAdapter=E7.getAdapter;Ra.HttpStatusCode=xz;Ra.default=Ra;const Xt=Ra,k7=K.createContext(),ss=()=>K.useContext(k7),gz=({children:e})=>{const[t,n]=K.useState(null),[r,i]=K.useState(localStorage.getItem("token")),[a,o]=K.useState(!0),[c,u]=K.useState(null);K.useEffect(()=>{r?Xt.defaults.headers.common.Authorization=`Bearer ${r}`:delete Xt.defaults.headers.common.Authorization},[r]),K.useEffect(()=>{const P=async()=>{if(!r){o(!1);return}try{const z=await Xt.get("/api/auth/me");n(z.data.user),u(null)}catch(z){console.error("Token verification failed:",z),z.response&&z.response.status===401?(p(),u("Session expired. Please log in again.")):u("Error verifying session. Please try again.")}finally{o(!1)}};P();const Y=setInterval(()=>{r&&P()},60*60*1e3);return()=>{clearInterval(Y)}},[r]);const f=async(P,Y)=>{var z,R;try{o(!0);const B=await Xt.post("/api/auth/login",{username:P,password:Y}),{token:q,user:te}=B.data;return localStorage.setItem("token",q),Xt.defaults.headers.common.Authorization=`Bearer ${q}`,i(q),n(te),u(null),te}catch(B){throw console.error("Login error:",B),u(((R=(z=B.response)==null?void 0:z.data)==null?void 0:R.message)||"Login failed"),B}finally{o(!1)}},p=()=>{localStorage.removeItem("token"),i(null),n(null),delete Xt.defaults.headers.common.Authorization},D={user:t,token:r,loading:a,error:c,login:f,logout:p,register:async P=>{var Y,z;try{return o(!0),(await Xt.post("/api/auth/register",P)).data}catch(R){throw console.error("Register error:",R),u(((z=(Y=R.response)==null?void 0:Y.data)==null?void 0:z.message)||"Registration failed"),R}finally{o(!1)}},isAdmin:()=>(t==null?void 0:t.role)==="admin",isAdvanced:()=>(t==null?void 0:t.role)==="advanced",isBasic:()=>(t==null?void 0:t.role)==="basic",canEditEquipment:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="advanced",isImpersonating:()=>!!(t!=null&&t.impersonated),impersonateUser:async P=>{var Y,z;try{o(!0);const R=await Xt.post(`/api/auth/impersonate/${P}`),{token:B,user:q}=R.data;return localStorage.setItem("token",B),i(B),n(q),u(null),q}catch(R){throw console.error("Impersonation error:",R),u(((z=(Y=R.response)==null?void 0:Y.data)==null?void 0:z.message)||"Impersonation failed"),R}finally{o(!1)}},getUsers:async()=>{var P,Y;try{return(await Xt.get("/api/auth/users")).data.users}catch(z){throw console.error("Get users error:",z),u(((Y=(P=z.response)==null?void 0:P.data)==null?void 0:Y.message)||"Failed to get users"),z}}};return s.jsx(k7.Provider,{value:D,children:e})};function T7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=T7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function zi(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=T7(e))&&(r&&(r+=" "),r+=t);return r}function vz(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}vz(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var am=e=>typeof e=="number"&&!isNaN(e),rf=e=>typeof e=="string",Wu=e=>typeof e=="function",wz=e=>rf(e)||am(e),H5=e=>rf(e)||Wu(e)?e:null,yz=(e,t)=>e===!1||am(e)&&e>0?e:t,V5=e=>K.isValidElement(e)||rf(e)||Wu(e)||am(e);function bz(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Nz({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:a,position:o,preventExitTransition:c,done:u,nodeRef:f,isIn:p,playToast:g}){let w=n?`${e}--${o}`:e,y=n?`${t}--${o}`:t,E=K.useRef(0);return K.useLayoutEffect(()=>{let S=f.current,A=w.split(" "),j=k=>{k.target===f.current&&(g(),S.removeEventListener("animationend",j),S.removeEventListener("animationcancel",j),E.current===0&&k.type!=="animationcancel"&&S.classList.remove(...A))};S.classList.add(...A),S.addEventListener("animationend",j),S.addEventListener("animationcancel",j)},[]),K.useEffect(()=>{let S=f.current,A=()=>{S.removeEventListener("animationend",A),r?bz(S,u,i):u()};p||(c?A():(E.current=1,S.className+=` ${y}`,S.addEventListener("animationend",A)))},[p]),ht.createElement(ht.Fragment,null,a)}}function F_(e,t){return{content:L7(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function L7(e,t,n=!1){return K.isValidElement(e)&&!rf(e.type)?K.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Wu(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function _z({closeToast:e,theme:t,ariaLabel:n="close"}){return ht.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},ht.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ht.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Sz({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:a,controlledProgress:o,progress:c,rtl:u,isIn:f,theme:p}){let g=i||o&&c===0,w={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(w.transform=`scaleX(${c})`);let y=zi("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":u}),E=Wu(a)?a({rtl:u,type:r,defaultClassName:y}):zi(y,a),S={[o&&c>=1?"onTransitionEnd":"onAnimationEnd"]:o&&c<1?null:()=>{f&&n()}};return ht.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},ht.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),ht.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:E,style:w,...S}))}var Cz=1,I7=()=>`${Cz++}`;function Ez(e,t,n){let r=1,i=0,a=[],o=[],c=t,u=new Map,f=new Set,p=k=>(f.add(k),()=>f.delete(k)),g=()=>{o=Array.from(u.values()),f.forEach(k=>k())},w=({containerId:k,toastId:D,updateId:P})=>{let Y=k?k!==e:e!==1,z=u.has(D)&&P==null;return Y||z},y=(k,D)=>{u.forEach(P=>{var Y;(D==null||D===P.props.toastId)&&((Y=P.toggle)==null||Y.call(P,k))})},E=k=>{var D,P;(P=(D=k.props)==null?void 0:D.onClose)==null||P.call(D,k.removalReason),k.isActive=!1},S=k=>{if(k==null)u.forEach(E);else{let D=u.get(k);D&&E(D)}g()},A=()=>{i-=a.length,a=[]},j=k=>{var D,P;let{toastId:Y,updateId:z}=k.props,R=z==null;k.staleId&&u.delete(k.staleId),k.isActive=!0,u.set(Y,k),g(),n(F_(k,R?"added":"updated")),R&&((P=(D=k.props).onOpen)==null||P.call(D))};return{id:e,props:c,observe:p,toggle:y,removeToast:S,toasts:u,clearQueue:A,buildToast:(k,D)=>{if(w(D))return;let{toastId:P,updateId:Y,data:z,staleId:R,delay:B}=D,q=Y==null;q&&i++;let te={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(D).filter(([W,J])=>J!=null)),toastId:P,updateId:Y,data:z,isIn:!1,className:H5(D.className||c.toastClassName),progressClassName:H5(D.progressClassName||c.progressClassName),autoClose:D.isLoading?!1:yz(D.autoClose,c.autoClose),closeToast(W){u.get(P).removalReason=W,S(P)},deleteToast(){let W=u.get(P);if(W!=null){if(n(F_(W,"removed")),u.delete(P),i--,i<0&&(i=0),a.length>0){j(a.shift());return}g()}}};te.closeButton=c.closeButton,D.closeButton===!1||V5(D.closeButton)?te.closeButton=D.closeButton:D.closeButton===!0&&(te.closeButton=V5(c.closeButton)?c.closeButton:!0);let H={content:k,props:te,staleId:R};c.limit&&c.limit>0&&i>c.limit&&q?a.push(H):am(B)?setTimeout(()=>{j(H)},B):j(H)},setProps(k){c=k},setToggle:(k,D)=>{let P=u.get(k);P&&(P.toggle=D)},isToastActive:k=>{var D;return(D=u.get(k))==null?void 0:D.isActive},getSnapshot:()=>o}}var ro=new Map,Fp=[],$5=new Set,Az=e=>$5.forEach(t=>t(e)),D7=()=>ro.size>0;function jz(){Fp.forEach(e=>R7(e.content,e.options)),Fp=[]}var kz=(e,{containerId:t})=>{var n;return(n=ro.get(t||1))==null?void 0:n.toasts.get(e)};function O7(e,t){var n;if(t)return!!((n=ro.get(t))!=null&&n.isToastActive(e));let r=!1;return ro.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function Tz(e){if(!D7()){Fp=Fp.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||wz(e))ro.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ro.get(e.containerId);t?t.removeToast(e.id):ro.forEach(n=>{n.removeToast(e.id)})}}var Lz=(e={})=>{ro.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function R7(e,t){V5(e)&&(D7()||Fp.push({content:e,options:t}),ro.forEach(n=>{n.buildToast(e,t)}))}function Iz(e){var t;(t=ro.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function M7(e,t){ro.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function Dz(e){let t=e.containerId||1;return{subscribe(n){let r=Ez(t,e,Az);ro.set(t,r);let i=r.observe(n);return jz(),()=>{i(),ro.delete(t)}},setProps(n){var r;(r=ro.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=ro.get(t))==null?void 0:n.getSnapshot()}}}function Oz(e){return $5.add(e),()=>{$5.delete(e)}}function Rz(e){return e&&(rf(e.toastId)||am(e.toastId))?e.toastId:I7()}function sm(e,t){return R7(e,t),t.toastId}function iv(e,t){return{...t,type:t&&t.type||e,toastId:Rz(t)}}function av(e){return(t,n)=>sm(t,iv(e,n))}function gn(e,t){return sm(e,iv("default",t))}gn.loading=(e,t)=>sm(e,iv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Mz(e,{pending:t,error:n,success:r},i){let a;t&&(a=rf(t)?gn.loading(t,i):gn.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,p,g)=>{if(p==null){gn.dismiss(a);return}let w={type:f,...o,...i,data:g},y=rf(p)?{render:p}:p;return a?gn.update(a,{...w,...y}):gn(y.render,{...w,...y}),g},u=Wu(e)?e():e;return u.then(f=>c("success",r,f)).catch(f=>c("error",n,f)),u}gn.promise=Mz;gn.success=av("success");gn.info=av("info");gn.error=av("error");gn.warning=av("warning");gn.warn=gn.warning;gn.dark=(e,t)=>sm(e,iv("default",{theme:"dark",...t}));function Pz(e){Tz(e)}gn.dismiss=Pz;gn.clearWaitingQueue=Lz;gn.isActive=O7;gn.update=(e,t={})=>{let n=kz(e,t);if(n){let{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:I7()};a.toastId!==e&&(a.staleId=e);let o=a.render||i;delete a.render,sm(o,a)}};gn.done=e=>{gn.update(e,{progress:1})};gn.onChange=Oz;gn.play=e=>M7(!0,e);gn.pause=e=>M7(!1,e);function Fz(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=K.useRef(Dz(e)).current;i(e);let a=(t=K.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(c){if(!a)return[];let u=new Map;return e.newestOnTop&&a.reverse(),a.forEach(f=>{let{position:p}=f.props;u.has(p)||u.set(p,[]),u.get(p).push(f)}),Array.from(u,f=>c(f[0],f[1]))}return{getToastToRender:o,isToastActive:O7,count:a==null?void 0:a.length}}function Bz(e){let[t,n]=K.useState(!1),[r,i]=K.useState(!1),a=K.useRef(null),o=K.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:u,closeToast:f,onClick:p,closeOnClick:g}=e;Iz({id:e.toastId,containerId:e.containerId,fn:n}),K.useEffect(()=>{if(e.pauseOnFocusLoss)return w(),()=>{y()}},[e.pauseOnFocusLoss]);function w(){document.hasFocus()||j(),window.addEventListener("focus",A),window.addEventListener("blur",j)}function y(){window.removeEventListener("focus",A),window.removeEventListener("blur",j)}function E(R){if(e.draggable===!0||e.draggable===R.pointerType){k();let B=a.current;o.canCloseOnClick=!0,o.canDrag=!0,B.style.transition="none",e.draggableDirection==="x"?(o.start=R.clientX,o.removalDistance=B.offsetWidth*(e.draggablePercent/100)):(o.start=R.clientY,o.removalDistance=B.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function S(R){let{top:B,bottom:q,left:te,right:H}=a.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&e.pauseOnHover&&R.clientX>=te&&R.clientX<=H&&R.clientY>=B&&R.clientY<=q?j():A()}function A(){n(!0)}function j(){n(!1)}function k(){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",Y)}function D(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",Y)}function P(R){let B=a.current;if(o.canDrag&&B){o.didMove=!0,t&&j(),e.draggableDirection==="x"?o.delta=R.clientX-o.start:o.delta=R.clientY-o.start,o.start!==R.clientX&&(o.canCloseOnClick=!1);let q=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;B.style.transform=`translate3d(${q},0)`,B.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function Y(){D();let R=a.current;if(o.canDrag&&o.didMove&&R){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let z={onPointerDown:E,onPointerUp:S};return c&&u&&(z.onMouseEnter=j,e.stacked||(z.onMouseLeave=A)),g&&(z.onClick=R=>{p&&p(R),o.canCloseOnClick&&f(!0)}),{playToast:A,pauseToast:j,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:z}}var Uz=typeof window<"u"?K.useLayoutEffect:K.useEffect,sv=({theme:e,type:t,isLoading:n,...r})=>ht.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function zz(e){return ht.createElement(sv,{...e},ht.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Wz(e){return ht.createElement(sv,{...e},ht.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function qz(e){return ht.createElement(sv,{...e},ht.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Hz(e){return ht.createElement(sv,{...e},ht.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Vz(){return ht.createElement("div",{className:"Toastify__spinner"})}var Y5={info:Wz,warning:zz,success:qz,error:Hz,spinner:Vz},$z=e=>e in Y5;function Yz({theme:e,type:t,isLoading:n,icon:r}){let i=null,a={theme:e,type:t};return r===!1||(Wu(r)?i=r({...a,isLoading:n}):K.isValidElement(r)?i=K.cloneElement(r,a):n?i=Y5.spinner():$z(t)&&(i=Y5[t](a))),i}var Gz=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=Bz(e),{closeButton:o,children:c,autoClose:u,onClick:f,type:p,hideProgressBar:g,closeToast:w,transition:y,position:E,className:S,style:A,progressClassName:j,updateId:k,role:D,progress:P,rtl:Y,toastId:z,deleteToast:R,isIn:B,isLoading:q,closeOnClick:te,theme:H,ariaLabel:W}=e,J=zi("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":Y},{"Toastify__toast--close-on-click":te}),ue=Wu(S)?S({rtl:Y,position:E,type:p,defaultClassName:J}):zi(J,S),se=Yz(e),ee=!!P||!u,Ae={closeToast:w,type:p,theme:H},ge=null;return o===!1||(Wu(o)?ge=o(Ae):K.isValidElement(o)?ge=K.cloneElement(o,Ae):ge=_z(Ae)),ht.createElement(y,{isIn:B,done:R,position:E,preventExitTransition:n,nodeRef:r,playToast:a},ht.createElement("div",{id:z,tabIndex:0,onClick:f,"data-in":B,className:ue,...i,style:A,ref:r,...B&&{role:D,"aria-label":W}},se!=null&&ht.createElement("div",{className:zi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!q})},se),L7(c,e,!t),ge,!e.customProgressBar&&ht.createElement(Sz,{...k&&!ee?{key:`p-${k}`}:{},rtl:Y,theme:H,delay:u,isRunning:t,isIn:B,closeToast:w,hide:g,type:p,className:j,controlledProgress:ee,progress:P||0})))},Xz=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),Kz=Nz(Xz("bounce",!0)),Qz={position:"top-right",transition:Kz,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function ov(e){let t={...Qz,...e},n=e.stacked,[r,i]=K.useState(!0),a=K.useRef(null),{getToastToRender:o,isToastActive:c,count:u}=Fz(t),{className:f,style:p,rtl:g,containerId:w,hotKeys:y}=t;function E(A){let j=zi("Toastify__toast-container",`Toastify__toast-container--${A}`,{"Toastify__toast-container--rtl":g});return Wu(f)?f({position:A,rtl:g,defaultClassName:j}):zi(j,H5(f))}function S(){n&&(i(!0),gn.play())}return Uz(()=>{var A;if(n){let j=a.current.querySelectorAll('[data-in="true"]'),k=12,D=(A=t.position)==null?void 0:A.includes("top"),P=0,Y=0;Array.from(j).reverse().forEach((z,R)=>{let B=z;B.classList.add("Toastify__toast--stacked"),R>0&&(B.dataset.collapsed=`${r}`),B.dataset.pos||(B.dataset.pos=D?"top":"bot");let q=P*(r?.2:1)+(r?0:k*R);B.style.setProperty("--y",`${D?q:q*-1}px`),B.style.setProperty("--g",`${k}`),B.style.setProperty("--s",`${1-(r?Y:0)}`),P+=B.offsetHeight,Y+=.025})}},[r,u,n]),K.useEffect(()=>{function A(j){var k;let D=a.current;y(j)&&((k=D.querySelector('[tabIndex="0"]'))==null||k.focus(),i(!1),gn.pause()),j.key==="Escape"&&(document.activeElement===D||D!=null&&D.contains(document.activeElement))&&(i(!0),gn.play())}return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[y]),ht.createElement("section",{ref:a,className:"Toastify",id:w,onMouseEnter:()=>{n&&(i(!1),gn.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((A,j)=>{let k=j.length?{...p}:{...p,pointerEvents:"none"};return ht.createElement("div",{tabIndex:-1,className:E(A),"data-stacked":n,style:k,key:`c-${A}`},j.map(({content:D,props:P})=>ht.createElement(Gz,{...P,stacked:n,collapseAll:S,isIn:c(P.toastId,P.containerId),key:`t-${P.key}`},D)))}))}var P7={exports:{}},Zz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Jz=Zz,eW=Jz;function F7(){}function B7(){}B7.resetWarningCache=F7;var tW=function(){function e(r,i,a,o,c,u){if(u!==eW){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:B7,resetWarningCache:F7};return n.PropTypes=n,n};P7.exports=tW();var nW=P7.exports;const Ge=Tg(nW),qc=async({page:e=1,limit:t=10,type:n,brand:r,status:i,location_id:a,search:o,sortBy:c="updated_at",sortOrder:u="desc",startDate:f,endDate:p})=>{const g={page:e,limit:t};return n&&(g.type=n),r&&(g.brand=r),i&&(g.status=i),a&&(g.location_id=a),o&&(g.search=o),c&&(g.sortBy=c),u&&(g.sortOrder=u),f&&(g.startDate=f),p&&(g.endDate=p),(await Xt.get("/api/equipment",{params:g})).data},lv=async e=>(await Xt.get(`/api/equipment/${e}`)).data,rW=async(e,t=[],n=null)=>{const r=new FormData;if(!e.type_id)throw console.error("Missing required field: type_id"),new Error("Equipment type is required");if(!e.brand)throw console.error("Missing required field: brand"),new Error("Brand is required");if(!e.model)throw console.error("Missing required field: model"),new Error("Model is required");if(!e.serial_number)throw console.error("Missing required field: serial_number"),new Error("Serial number is required");const i=Object.fromEntries(Object.entries(e).filter(([a,o])=>o!==void 0));console.log("Creating equipment with data:",i),Object.keys(i).forEach(a=>{a==="type_id"&&typeof i[a]=="string"?r.append(a,parseInt(i[a],10)):r.append(a,i[a])}),n&&r.append("referenceImage",n),t&&t.length>0&&t.forEach(a=>{r.append("files",a)});try{return(await Xt.post("/api/equipment",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error in createEquipment:",a),a}},U7=async(e,t,n=[],r=[],i=null,a=!1)=>{try{const o=new FormData,c=Object.fromEntries(Object.entries(t).filter(([p,g])=>g!==void 0)),u=["location_id","type_id"];return Object.keys(c).forEach(p=>{p!=="reference_image_id"&&(u.includes(p)&&(c[p]===""||c[p]==="0")?(o.append(p,""),o.append(`${p}_is_null`,"true")):o.append(p,c[p]))}),i&&o.append("referenceImage",i),a&&o.append("removeReferenceImage","true"),n&&n.length>0&&n.forEach(p=>{o.append("files",p)}),r&&r.length>0&&o.append("filesToDelete",JSON.stringify(r)),(await Xt.put(`/api/equipment/${e}`,o,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(o){throw console.error("Error in updateEquipment:",o),o}},iW=async e=>(await Xt.delete(`/api/equipment/${e}`)).data,aW=async(e,t=null)=>{try{console.log(`Returning equipment ${e} from installation${t?` (quantity: ${t})`:""}`);const n=await Xt.delete(`/api/equipment/${e}/installation`,{data:t?{quantity:t}:{}});return console.log("Return from installation response:",n.data),n.data}catch(n){throw console.error(`Error returning equipment ${e} from installation:`,n),n}},Y2=(e,t=!1,n=!0)=>{if(!e)return null;const r=`/api/files/${e}`;let i=t?`${r}?thumbnail=true`:r;return n&&(i+=(i.includes("?")?"&":"?")+`t=${new Date().getTime()}`),i},sW=async(e,t)=>{try{return(await Xt.patch(`/api/equipment/${e}/status`,{status:t})).data}catch(n){throw console.error("Error updating equipment status:",n),n}},oW=async(e,t)=>{try{return(await Xt.patch(`/api/equipment/${e}/location`,t)).data}catch(n){throw console.error("Error updating equipment location:",n),n}},lW=async(e,t)=>{try{return(await Xt.patch(`/api/equipment/${e}/type`,{type_id:t})).data}catch(n){throw console.error("Error updating equipment type:",n),n}},cW=async(e,t)=>{try{return console.log(`Updating equipment ${e} category to ${t}`),(await Xt.patch(`/api/equipment/${e}/category`,{category_id:t})).data}catch(n){throw console.error("Error updating equipment category:",n),n}},uW=async(e,t)=>{try{return console.log(`Updating equipment ${e} brand/model:`,t),(await Xt.patch(`/api/equipment/${e}/brand-model`,t)).data}catch(n){throw console.error("Error updating equipment brand/model:",n),n}},Qu=async()=>{try{return(await Xt.get("/api/equipment-types")).data}catch(e){throw console.error("Error fetching equipment types:",e),e}},dW=async e=>(await Xt.post("/api/equipment-types",{name:e})).data,fW=async(e,t)=>(await Xt.put(`/api/equipment-types/${e}`,{name:t})).data,hW=async e=>(await Xt.delete(`/api/equipment-types/${e}`)).data,z7=K.createContext(),pW=3,W7=({children:e})=>{const[t,n]=K.useState([]),{user:r}=ss(),i=(r==null?void 0:r.role)==="admin",{data:a}=Ln(["equipment",{limit:1e3}],()=>qc({limit:1e3}),{enabled:i,refetchInterval:5*60*1e3,staleTime:4*60*1e3}),{data:o}=Ln({queryKey:["equipment-types"],queryFn:Qu,staleTime:3e5,enabled:i});K.useEffect(()=>{if(!i||!(a!=null&&a.equipment)||!(o!=null&&o.types))return;const E=a.equipment,S=o.types,A={};E.forEach(k=>{k.type&&(A[k.type]||(A[k.type]=[]),A[k.type].push(k))});const j=[];Object.entries(A).forEach(([k,D])=>{const P=D.filter(Y=>Y.status==="available");if(P.length<=pW){const Y=S.find(z=>z.name.toLowerCase()===k.toLowerCase());j.push({id:`low-stock-${k}`,type:"warning",title:"Low Stock Alert",message:`Only ${P.length} ${k} ${P.length===1?"item is":"items are"} available.`,timestamp:new Date,read:!1,typeId:Y==null?void 0:Y.id})}}),j.length>0&&n(k=>[...k.filter(P=>!P.id.startsWith("low-stock-")),...j])},[a,o,i]);const c=E=>{n(S=>[...S,{id:E.id||`notification-${Date.now()}`,timestamp:new Date,read:!1,...E}])},u=E=>{n(S=>S.map(A=>A.id===E?{...A,read:!0}:A))},f=()=>{n(E=>E.map(S=>({...S,read:!0})))},p=E=>{n(S=>S.filter(A=>A.id!==E))},g=()=>{n([])},w=t.filter(E=>!E.read).length,y={notifications:t,unreadCount:w,addNotification:c,markAsRead:u,markAllAsRead:f,removeNotification:p,clearNotifications:g};return s.jsx(z7.Provider,{value:y,children:e})};W7.propTypes={children:Ge.node.isRequired};const mW=()=>{const e=K.useContext(z7);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},xW=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),gW=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),vW=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),cv=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),wW=({className:e="w-5 h-5"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),B_=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),dh=({className:e="w-5 h-5"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),sc=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125"})}),H4=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),V4=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})}),yW=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),q7=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),s1=({className:e="w-4 h-4"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),o1=({className:e="w-4 h-4"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),$4=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),U_=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),bW=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})}),NW=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75a2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),Uh=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),H7=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),_W=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),SW=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),G5=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),CW=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})}),Y4=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),z_=({className:e="w-4 h-4"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})}),V7=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),X5=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),EW=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),AW=({className:e="w-5 h-5"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})}),$7=6048e5,jW=864e5,uv=6e4,dv=36e5,kW=1e3,xx=43200,W_=1440,q_=Symbol.for("constructDateFrom");function Qr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&q_ in e?e[q_](t):e instanceof Date?new e.constructor(t):new Date(t)}function yn(e,t){return Qr(t||e,e)}function oc(e,t,n){const r=yn(e,n==null?void 0:n.in);return isNaN(t)?Qr((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function uc(e,t,n){const r=yn(e,n==null?void 0:n.in);if(isNaN(t))return Qr((n==null?void 0:n.in)||e,NaN);if(!t)return r;const i=r.getDate(),a=Qr((n==null?void 0:n.in)||e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function Y7(e,t,n){return Qr((n==null?void 0:n.in)||e,+yn(e)+t)}function TW(e,t,n){return Y7(e,t*dv,n)}let LW={};function f0(){return LW}function qu(e,t){var c,u,f,p;const n=f0(),r=(t==null?void 0:t.weekStartsOn)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=yn(e,t==null?void 0:t.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function zh(e,t){return qu(e,{...t,weekStartsOn:1})}function G7(e,t){const n=yn(e,t==null?void 0:t.in),r=n.getFullYear(),i=Qr(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=zh(i),o=Qr(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const c=zh(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Wh(e){const t=yn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function fc(e,...t){const n=Qr.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function af(e,t){const n=yn(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function qh(e,t,n){const[r,i]=fc(n==null?void 0:n.in,e,t),a=af(r),o=af(i),c=+a-Wh(a),u=+o-Wh(o);return Math.round((c-u)/jW)}function IW(e,t){const n=G7(e,t),r=Qr((t==null?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),zh(r)}function K5(e,t,n){const r=yn(e,n==null?void 0:n.in);return r.setTime(r.getTime()+t*uv),r}function G4(e,t,n){return uc(e,t*3,n)}function DW(e,t,n){return Y7(e,t*1e3,n)}function G2(e,t,n){return oc(e,t*7,n)}function Tu(e,t,n){return uc(e,t*12,n)}function H_(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Qr.bind(null,i));const a=yn(i,r);(!n||n<a||isNaN(+a))&&(n=a)}),Qr(r,n||NaN)}function V_(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Qr.bind(null,i));const a=yn(i,r);(!n||n>a||isNaN(+a))&&(n=a)}),Qr(r,n||NaN)}function n2(e,t){const n=+yn(e)-+yn(t);return n<0?-1:n>0?1:n}function OW(e){return Qr(e,Date.now())}function RW(e,t,n){const[r,i]=fc(n==null?void 0:n.in,e,t);return+af(r)==+af(i)}function Lu(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function X2(e){return!(!Lu(e)&&typeof e!="number"||isNaN(+yn(e)))}function Bp(e,t,n){const[r,i]=fc(n==null?void 0:n.in,e,t),a=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return a*12+o}function $0(e,t){const n=yn(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function K2(e,t,n){const[r,i]=fc(n==null?void 0:n.in,e,t),a=r.getFullYear()-i.getFullYear(),o=$0(r)-$0(i);return a*4+o}function Q2(e,t,n){const[r,i]=fc(n==null?void 0:n.in,e,t);return r.getFullYear()-i.getFullYear()}function MW(e,t,n){const[r,i]=fc(n==null?void 0:n.in,e,t),a=$_(r,i),o=Math.abs(qh(r,i));r.setDate(r.getDate()-a*o);const c=+($_(r,i)===-a),u=a*(o-c);return u===0?0:u}function $_(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function PW(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function FW(e,t){return+yn(e)-+yn(t)}function X4(e,t){const n=yn(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function K4(e,t){const n=yn(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function BW(e,t){const n=yn(e,t==null?void 0:t.in);return+X4(n,t)==+K4(n,t)}function UW(e,t,n){const[r,i,a]=fc(n==null?void 0:n.in,e,e,t),o=n2(i,a),c=Math.abs(Bp(i,a));if(c<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*c);let u=n2(i,a)===-o;BW(r)&&c===1&&n2(r,a)===1&&(u=!1);const f=o*(c-+u);return f===0?0:f}function zW(e,t,n){const r=FW(e,t)/1e3;return PW(n==null?void 0:n.roundingMethod)(r)}function Q5(e,t){const n=yn(e,t==null?void 0:t.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function X7(e,t){const n=yn(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function K7(e,t){const n=yn(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function fv(e,t){const n=yn(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function WW(e,t){var c,u,f,p;const n=f0(),r=(t==null?void 0:t.weekStartsOn)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=yn(e,t==null?void 0:t.in),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const qW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},HW=(e,t,n)=>{let r;const i=qW[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Jw(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const VW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$W={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GW={date:Jw({formats:VW,defaultWidth:"full"}),time:Jw({formats:$W,defaultWidth:"full"}),dateTime:Jw({formats:YW,defaultWidth:"full"})},XW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KW=(e,t,n,r)=>XW[e];function B1(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):o;i=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const QW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rq=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},iq={ordinalNumber:rq,era:B1({values:QW,defaultWidth:"wide"}),quarter:B1({values:ZW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:B1({values:JW,defaultWidth:"wide"}),day:B1({values:eq,defaultWidth:"wide"}),dayPeriod:B1({values:tq,defaultWidth:"wide",formattingValues:nq,defaultFormattingWidth:"wide"})};function U1(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?sq(c,g=>g.test(o)):aq(c,g=>g.test(o));let f;f=e.valueCallback?e.valueCallback(u):u,f=n.valueCallback?n.valueCallback(f):f;const p=t.slice(o.length);return{value:f,rest:p}}}function aq(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function sq(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function oq(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const c=t.slice(i.length);return{value:o,rest:c}}}const lq=/^(\d+)(th|st|nd|rd)?/i,cq=/\d+/i,uq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dq={any:[/^b/i,/^(a|c)/i]},fq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hq={any:[/1/i,/2/i,/3/i,/4/i]},pq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yq={ordinalNumber:oq({matchPattern:lq,parsePattern:cq,valueCallback:e=>parseInt(e,10)}),era:U1({matchPatterns:uq,defaultMatchWidth:"wide",parsePatterns:dq,defaultParseWidth:"any"}),quarter:U1({matchPatterns:fq,defaultMatchWidth:"wide",parsePatterns:hq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:U1({matchPatterns:pq,defaultMatchWidth:"wide",parsePatterns:mq,defaultParseWidth:"any"}),day:U1({matchPatterns:xq,defaultMatchWidth:"wide",parsePatterns:gq,defaultParseWidth:"any"}),dayPeriod:U1({matchPatterns:vq,defaultMatchWidth:"any",parsePatterns:wq,defaultParseWidth:"any"})},Q4={code:"en-US",formatDistance:HW,formatLong:GW,formatRelative:KW,localize:iq,match:yq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bq(e,t){const n=yn(e,t==null?void 0:t.in);return qh(n,fv(n))+1}function Z4(e,t){const n=yn(e,t==null?void 0:t.in),r=+zh(n)-+IW(n);return Math.round(r/$7)+1}function J4(e,t){var p,g,w,y;const n=yn(e,t==null?void 0:t.in),r=n.getFullYear(),i=f0(),a=(t==null?void 0:t.firstWeekContainsDate)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(w=i.locale)==null?void 0:w.options)==null?void 0:y.firstWeekContainsDate)??1,o=Qr((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const c=qu(o,t),u=Qr((t==null?void 0:t.in)||e,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);const f=qu(u,t);return+n>=+c?r+1:+n>=+f?r:r-1}function Nq(e,t){var c,u,f,p;const n=f0(),r=(t==null?void 0:t.firstWeekContainsDate)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=J4(e,t),a=Qr((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),qu(a,t)}function Q7(e,t){const n=yn(e,t==null?void 0:t.in),r=+qu(n,t)-+Nq(n,t);return Math.round(r/$7)+1}function Jr(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Sd={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Jr(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Jr(n+1,2)},d(e,t){return Jr(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Jr(e.getHours()%12||12,t.length)},H(e,t){return Jr(e.getHours(),t.length)},m(e,t){return Jr(e.getMinutes(),t.length)},s(e,t){return Jr(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Jr(i,t.length)}},zf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Y_={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Sd.y(e,t)},Y:function(e,t,n,r){const i=J4(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Jr(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Jr(a,t.length)},R:function(e,t){const n=G7(e);return Jr(n,t.length)},u:function(e,t){const n=e.getFullYear();return Jr(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Jr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Jr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Sd.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Jr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Q7(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Jr(i,t.length)},I:function(e,t,n){const r=Z4(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Jr(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Sd.d(e,t)},D:function(e,t,n){const r=bq(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Jr(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Jr(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Jr(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Jr(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=zf.noon:r===0?i=zf.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=zf.evening:r>=12?i=zf.afternoon:r>=4?i=zf.morning:i=zf.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Sd.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Sd.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Jr(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Jr(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Sd.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Sd.s(e,t)},S:function(e,t){return Sd.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return X_(r);case"XXXX":case"XX":return L0(r);case"XXXXX":case"XXX":default:return L0(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return X_(r);case"xxxx":case"xx":return L0(r);case"xxxxx":case"xxx":default:return L0(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+G_(r,":");case"OOOO":default:return"GMT"+L0(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+G_(r,":");case"zzzz":default:return"GMT"+L0(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Jr(r,t.length)},T:function(e,t,n){return Jr(+e,t.length)}};function G_(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Jr(a,2)}function X_(e,t){return e%60===0?(e>0?"-":"+")+Jr(Math.abs(e)/60,2):L0(e,t)}function L0(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Jr(Math.trunc(r/60),2),a=Jr(r%60,2);return n+i+t+a}const K_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Z7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_q=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return K_(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",K_(r,t)).replace("{{time}}",Z7(i,t))},Z5={p:Z7,P:_q},Sq=/^D+$/,Cq=/^Y+$/,Eq=["D","DD","YY","YYYY"];function J7(e){return Sq.test(e)}function ej(e){return Cq.test(e)}function J5(e,t,n){const r=Aq(e,t,n);if(console.warn(r),Eq.includes(e))throw new RangeError(r)}function Aq(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tq=/^'([^]*?)'?$/,Lq=/''/g,Iq=/[a-zA-Z]/;function Up(e,t,n){var p,g,w,y,E,S,A,j;const r=f0(),i=(n==null?void 0:n.locale)??r.locale??Q4,a=(n==null?void 0:n.firstWeekContainsDate)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(w=r.locale)==null?void 0:w.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((S=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((j=(A=r.locale)==null?void 0:A.options)==null?void 0:j.weekStartsOn)??0,c=yn(e,n==null?void 0:n.in);if(!X2(c))throw new RangeError("Invalid time value");let u=t.match(kq).map(k=>{const D=k[0];if(D==="p"||D==="P"){const P=Z5[D];return P(k,i.formatLong)}return k}).join("").match(jq).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const D=k[0];if(D==="'")return{isToken:!1,value:Dq(k)};if(Y_[D])return{isToken:!0,value:k};if(D.match(Iq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return{isToken:!1,value:k}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const f={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return u.map(k=>{if(!k.isToken)return k.value;const D=k.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ej(D)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&J7(D))&&J5(D,t,String(e));const P=Y_[D[0]];return P(c,D,i.localize,f)}).join("")}function Dq(e){const t=e.match(Tq);return t?t[1].replace(Lq,"'"):e}function Oq(e,t,n){const r=f0(),i=(n==null?void 0:n.locale)??r.locale??Q4,a=2520,o=n2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o}),[u,f]=fc(n==null?void 0:n.in,...o>0?[t,e]:[e,t]),p=zW(f,u),g=(Wh(f)-Wh(u))/1e3,w=Math.round((p-g)/60);let y;if(w<2)return n!=null&&n.includeSeconds?p<5?i.formatDistance("lessThanXSeconds",5,c):p<10?i.formatDistance("lessThanXSeconds",10,c):p<20?i.formatDistance("lessThanXSeconds",20,c):p<40?i.formatDistance("halfAMinute",0,c):p<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):w===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",w,c);if(w<45)return i.formatDistance("xMinutes",w,c);if(w<90)return i.formatDistance("aboutXHours",1,c);if(w<W_){const E=Math.round(w/60);return i.formatDistance("aboutXHours",E,c)}else{if(w<a)return i.formatDistance("xDays",1,c);if(w<xx){const E=Math.round(w/W_);return i.formatDistance("xDays",E,c)}else if(w<xx*2)return y=Math.round(w/xx),i.formatDistance("aboutXMonths",y,c)}if(y=UW(f,u),y<12){const E=Math.round(w/xx);return i.formatDistance("xMonths",E,c)}else{const E=y%12,S=Math.trunc(y/12);return E<3?i.formatDistance("aboutXYears",S,c):E<9?i.formatDistance("overXYears",S,c):i.formatDistance("almostXYears",S+1,c)}}function Rq(e,t){return Oq(e,OW(e),t)}function Q_(e,t){return yn(e,t==null?void 0:t.in).getDate()}function Mq(e,t){return yn(e,t==null?void 0:t.in).getDay()}function Pq(e,t){const n=yn(e,t==null?void 0:t.in),r=n.getFullYear(),i=n.getMonth(),a=Qr(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function Fq(){return Object.assign({},f0())}function Iu(e,t){return yn(e,t==null?void 0:t.in).getHours()}function Bq(e,t){const n=yn(e,t==null?void 0:t.in).getDay();return n===0?7:n}function Du(e,t){return yn(e,t==null?void 0:t.in).getMinutes()}function Fs(e,t){return yn(e,t==null?void 0:t.in).getMonth()}function Kd(e){return yn(e).getSeconds()}function eb(e){return+yn(e)}function xr(e,t){return yn(e,t==null?void 0:t.in).getFullYear()}function t0(e,t){return+yn(e)>+yn(t)}function sf(e,t){return+yn(e)<+yn(t)}function Uq(e,t){return+yn(e)==+yn(t)}function zq(e,t){const n=Wq(t)?new t(0):Qr(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function Wq(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const qq=10;class tj{constructor(){fn(this,"subPriority",0)}validate(t,n){return!0}}class Hq extends tj{constructor(t,n,r,i,a){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class Vq extends tj{constructor(n,r){super();fn(this,"priority",qq);fn(this,"subPriority",-1);this.context=n||(i=>Qr(r,i))}set(n,r){return r.timestampIsSet?n:Qr(n,zq(n,this.context))}}class Vr{run(t,n,r,i){const a=this.parse(t,n,r,i);return a?{setter:new Hq(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,n,r){return!0}}class $q extends Vr{constructor(){super(...arguments);fn(this,"priority",140);fn(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Ca={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},zc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ea(e,t){return e&&{value:t(e.value),rest:e.rest}}function Qi(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Wc(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*dv+a*uv+o*kW),rest:t.slice(n[0].length)}}function nj(e){return Qi(Ca.anyDigitsSigned,e)}function fa(e,t){switch(e){case 1:return Qi(Ca.singleDigit,t);case 2:return Qi(Ca.twoDigits,t);case 3:return Qi(Ca.threeDigits,t);case 4:return Qi(Ca.fourDigits,t);default:return Qi(new RegExp("^\\d{1,"+e+"}"),t)}}function Z2(e,t){switch(e){case 1:return Qi(Ca.singleDigitSigned,t);case 2:return Qi(Ca.twoDigitsSigned,t);case 3:return Qi(Ca.threeDigitsSigned,t);case 4:return Qi(Ca.fourDigitsSigned,t);default:return Qi(new RegExp("^-?\\d{1,"+e+"}"),t)}}function e3(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function rj(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const a=r+50,o=Math.trunc(a/100)*100,c=e>=a%100;i=e+o-(c?100:0)}return n?i:1-i}function ij(e){return e%400===0||e%4===0&&e%100!==0}class Yq extends Vr{constructor(){super(...arguments);fn(this,"priority",130);fn(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const a=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ea(fa(4,n),a);case"yo":return Ea(i.ordinalNumber(n,{unit:"year"}),a);default:return Ea(fa(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const a=n.getFullYear();if(i.isTwoDigitYear){const c=rj(i.year,a);return n.setFullYear(c,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class Gq extends Vr{constructor(){super(...arguments);fn(this,"priority",130);fn(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const a=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ea(fa(4,n),a);case"Yo":return Ea(i.ordinalNumber(n,{unit:"year"}),a);default:return Ea(fa(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,a){const o=J4(n,a);if(i.isTwoDigitYear){const u=rj(i.year,o);return n.setFullYear(u,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),qu(n,a)}const c=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(c,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),qu(n,a)}}class Xq extends Vr{constructor(){super(...arguments);fn(this,"priority",130);fn(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Z2(r==="R"?4:r.length,n)}set(n,r,i){const a=Qr(n,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),zh(a)}}class Kq extends Vr{constructor(){super(...arguments);fn(this,"priority",130);fn(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Z2(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class Qq extends Vr{constructor(){super(...arguments);fn(this,"priority",120);fn(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return fa(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class Zq extends Vr{constructor(){super(...arguments);fn(this,"priority",120);fn(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return fa(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class Jq extends Vr{constructor(){super(...arguments);fn(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);fn(this,"priority",110)}parse(n,r,i){const a=o=>o-1;switch(r){case"M":return Ea(Qi(Ca.month,n),a);case"MM":return Ea(fa(2,n),a);case"Mo":return Ea(i.ordinalNumber(n,{unit:"month"}),a);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class eH extends Vr{constructor(){super(...arguments);fn(this,"priority",110);fn(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const a=o=>o-1;switch(r){case"L":return Ea(Qi(Ca.month,n),a);case"LL":return Ea(fa(2,n),a);case"Lo":return Ea(i.ordinalNumber(n,{unit:"month"}),a);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function tH(e,t,n){const r=yn(e,n==null?void 0:n.in),i=Q7(r,n)-t;return r.setDate(r.getDate()-i*7),yn(r,n==null?void 0:n.in)}class nH extends Vr{constructor(){super(...arguments);fn(this,"priority",100);fn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Qi(Ca.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return fa(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,a){return qu(tH(n,i,a),a)}}function rH(e,t,n){const r=yn(e,n==null?void 0:n.in),i=Z4(r,n)-t;return r.setDate(r.getDate()-i*7),r}class iH extends Vr{constructor(){super(...arguments);fn(this,"priority",100);fn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Qi(Ca.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return fa(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return zh(rH(n,i))}}const aH=[31,28,31,30,31,30,31,31,30,31,30,31],sH=[31,29,31,30,31,30,31,31,30,31,30,31];class oH extends Vr{constructor(){super(...arguments);fn(this,"priority",90);fn(this,"subPriority",1);fn(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Qi(Ca.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return fa(r.length,n)}}validate(n,r){const i=n.getFullYear(),a=ij(i),o=n.getMonth();return a?r>=1&&r<=sH[o]:r>=1&&r<=aH[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class lH extends Vr{constructor(){super(...arguments);fn(this,"priority",90);fn(this,"subpriority",1);fn(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Qi(Ca.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return fa(r.length,n)}}validate(n,r){const i=n.getFullYear();return ij(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function t3(e,t,n){var g,w,y,E;const r=f0(),i=(n==null?void 0:n.weekStartsOn)??((w=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((E=(y=r.locale)==null?void 0:y.options)==null?void 0:E.weekStartsOn)??0,a=yn(e,n==null?void 0:n.in),o=a.getDay(),u=(t%7+7)%7,f=7-i,p=t<0||t>6?t-(o+f)%7:(u+f)%7-(o+f)%7;return oc(a,p,n)}class cH extends Vr{constructor(){super(...arguments);fn(this,"priority",90);fn(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,a){return n=t3(n,i,a),n.setHours(0,0,0,0),n}}class uH extends Vr{constructor(){super(...arguments);fn(this,"priority",90);fn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,a){const o=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return Ea(fa(r.length,n),o);case"eo":return Ea(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,a){return n=t3(n,i,a),n.setHours(0,0,0,0),n}}class dH extends Vr{constructor(){super(...arguments);fn(this,"priority",90);fn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,a){const o=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return Ea(fa(r.length,n),o);case"co":return Ea(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,a){return n=t3(n,i,a),n.setHours(0,0,0,0),n}}function fH(e,t,n){const r=yn(e,n==null?void 0:n.in),i=Bq(r,n),a=t-i;return oc(r,a,n)}class hH extends Vr{constructor(){super(...arguments);fn(this,"priority",90);fn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const a=o=>o===0?7:o;switch(r){case"i":case"ii":return fa(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Ea(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),a);case"iiiii":return Ea(i.day(n,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Ea(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Ea(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),a)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=fH(n,i),n.setHours(0,0,0,0),n}}class pH extends Vr{constructor(){super(...arguments);fn(this,"priority",80);fn(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(e3(i),0,0,0),n}}class mH extends Vr{constructor(){super(...arguments);fn(this,"priority",80);fn(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(e3(i),0,0,0),n}}class xH extends Vr{constructor(){super(...arguments);fn(this,"priority",80);fn(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(e3(i),0,0,0),n}}class gH extends Vr{constructor(){super(...arguments);fn(this,"priority",70);fn(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Qi(Ca.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return fa(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const a=n.getHours()>=12;return a&&i<12?n.setHours(i+12,0,0,0):!a&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class vH extends Vr{constructor(){super(...arguments);fn(this,"priority",70);fn(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Qi(Ca.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return fa(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class wH extends Vr{constructor(){super(...arguments);fn(this,"priority",70);fn(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Qi(Ca.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return fa(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class yH extends Vr{constructor(){super(...arguments);fn(this,"priority",70);fn(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Qi(Ca.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return fa(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const a=i<=24?i%24:i;return n.setHours(a,0,0,0),n}}class bH extends Vr{constructor(){super(...arguments);fn(this,"priority",60);fn(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Qi(Ca.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return fa(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class NH extends Vr{constructor(){super(...arguments);fn(this,"priority",50);fn(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Qi(Ca.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return fa(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class _H extends Vr{constructor(){super(...arguments);fn(this,"priority",30);fn(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return Ea(fa(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class SH extends Vr{constructor(){super(...arguments);fn(this,"priority",10);fn(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Wc(zc.basicOptionalMinutes,n);case"XX":return Wc(zc.basic,n);case"XXXX":return Wc(zc.basicOptionalSeconds,n);case"XXXXX":return Wc(zc.extendedOptionalSeconds,n);case"XXX":default:return Wc(zc.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Qr(n,n.getTime()-Wh(n)-i)}}class CH extends Vr{constructor(){super(...arguments);fn(this,"priority",10);fn(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Wc(zc.basicOptionalMinutes,n);case"xx":return Wc(zc.basic,n);case"xxxx":return Wc(zc.basicOptionalSeconds,n);case"xxxxx":return Wc(zc.extendedOptionalSeconds,n);case"xxx":default:return Wc(zc.extended,n)}}set(n,r,i){return r.timestampIsSet?n:Qr(n,n.getTime()-Wh(n)-i)}}class EH extends Vr{constructor(){super(...arguments);fn(this,"priority",40);fn(this,"incompatibleTokens","*")}parse(n){return nj(n)}set(n,r,i){return[Qr(n,i*1e3),{timestampIsSet:!0}]}}class AH extends Vr{constructor(){super(...arguments);fn(this,"priority",20);fn(this,"incompatibleTokens","*")}parse(n){return nj(n)}set(n,r,i){return[Qr(n,i),{timestampIsSet:!0}]}}const jH={G:new $q,y:new Yq,Y:new Gq,R:new Xq,u:new Kq,Q:new Qq,q:new Zq,M:new Jq,L:new eH,w:new nH,I:new iH,d:new oH,D:new lH,E:new cH,e:new uH,c:new dH,i:new hH,a:new pH,b:new mH,B:new xH,h:new gH,H:new vH,K:new wH,k:new yH,m:new bH,s:new NH,S:new _H,X:new SH,x:new CH,t:new EH,T:new AH},kH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LH=/^'([^]*?)'?$/,IH=/''/g,DH=/\S/,OH=/[a-zA-Z]/;function RH(e,t,n,r){var A,j,k,D,P,Y,z,R;const i=()=>Qr((r==null?void 0:r.in)||n,NaN),a=Fq(),o=(r==null?void 0:r.locale)??a.locale??Q4,c=(r==null?void 0:r.firstWeekContainsDate)??((j=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:j.firstWeekContainsDate)??a.firstWeekContainsDate??((D=(k=a.locale)==null?void 0:k.options)==null?void 0:D.firstWeekContainsDate)??1,u=(r==null?void 0:r.weekStartsOn)??((Y=(P=r==null?void 0:r.locale)==null?void 0:P.options)==null?void 0:Y.weekStartsOn)??a.weekStartsOn??((R=(z=a.locale)==null?void 0:z.options)==null?void 0:R.weekStartsOn)??0;if(!t)return e?i():yn(n,r==null?void 0:r.in);const f={firstWeekContainsDate:c,weekStartsOn:u,locale:o},p=[new Vq(r==null?void 0:r.in,n)],g=t.match(TH).map(B=>{const q=B[0];if(q in Z5){const te=Z5[q];return te(B,o.formatLong)}return B}).join("").match(kH),w=[];for(let B of g){!(r!=null&&r.useAdditionalWeekYearTokens)&&ej(B)&&J5(B,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&J7(B)&&J5(B,t,e);const q=B[0],te=jH[q];if(te){const{incompatibleTokens:H}=te;if(Array.isArray(H)){const J=w.find(ue=>H.includes(ue.token)||ue.token===q);if(J)throw new RangeError(`The format string mustn't contain \`${J.fullToken}\` and \`${B}\` at the same time`)}else if(te.incompatibleTokens==="*"&&w.length>0)throw new RangeError(`The format string mustn't contain \`${B}\` and any other token at the same time`);w.push({token:q,fullToken:B});const W=te.run(e,B,o.match,f);if(!W)return i();p.push(W.setter),e=W.rest}else{if(q.match(OH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");if(B==="''"?B="'":q==="'"&&(B=MH(B)),e.indexOf(B)===0)e=e.slice(B.length);else return i()}}if(e.length>0&&DH.test(e))return i();const y=p.map(B=>B.priority).sort((B,q)=>q-B).filter((B,q,te)=>te.indexOf(B)===q).map(B=>p.filter(q=>q.priority===B).sort((q,te)=>te.subPriority-q.subPriority)).map(B=>B[0]);let E=yn(n,r==null?void 0:r.in);if(isNaN(+E))return i();const S={};for(const B of y){if(!B.validate(E,f))return i();const q=B.set(E,S,f);Array.isArray(q)?(E=q[0],Object.assign(S,q[1])):E=q}return E}function MH(e){return e.match(LH)[1].replace(IH,"'")}function PH(e,t,n){const[r,i]=fc(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function FH(e,t,n){const[r,i]=fc(n==null?void 0:n.in,e,t);return+Q5(r)==+Q5(i)}function BH(e,t,n){const[r,i]=fc(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()}function zp(e,t,n){const r=+yn(e,n==null?void 0:n.in),[i,a]=[+yn(t.start,n==null?void 0:n.in),+yn(t.end,n==null?void 0:n.in)].sort((o,c)=>o-c);return r>=i&&r<=a}function UH(e,t,n){return oc(e,-t,n)}function zH(e,t){const n=()=>Qr(t==null?void 0:t.in,NaN),r=(t==null?void 0:t.additionalDigits)??2,i=VH(e);let a;if(i.date){const f=$H(i.date,r);a=YH(f.restDateString,f.year)}if(!a||isNaN(+a))return n();const o=+a;let c=0,u;if(i.time&&(c=GH(i.time),isNaN(c)))return n();if(i.timezone){if(u=XH(i.timezone),isNaN(u))return n()}else{const f=new Date(o+c),p=yn(0,t==null?void 0:t.in);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return yn(o+c+u,t==null?void 0:t.in)}const gx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},WH=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,qH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,HH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function VH(e){const t={},n=e.split(gx.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],gx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(gx.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=gx.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function $H(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function YH(e,t){if(t===null)return new Date(NaN);const n=e.match(WH);if(!n)return new Date(NaN);const r=!!n[4],i=z1(n[1]),a=z1(n[2])-1,o=z1(n[3]),c=z1(n[4]),u=z1(n[5])-1;if(r)return eV(t,c,u)?KH(t,c,u):new Date(NaN);{const f=new Date(0);return!ZH(t,a,o)||!JH(t,i)?new Date(NaN):(f.setUTCFullYear(t,a,Math.max(i,o)),f)}}function z1(e){return e?parseInt(e):1}function GH(e){const t=e.match(qH);if(!t)return NaN;const n=ey(t[1]),r=ey(t[2]),i=ey(t[3]);return tV(n,r,i)?n*dv+r*uv+i*1e3:NaN}function ey(e){return e&&parseFloat(e.replace(",","."))||0}function XH(e){if(e==="Z")return 0;const t=e.match(HH);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return nV(r,i)?n*(r*dv+i*uv):NaN}function KH(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const QH=[31,null,31,30,31,30,31,31,30,31,30,31];function aj(e){return e%400===0||e%4===0&&e%100!==0}function ZH(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(QH[t]||(aj(e)?29:28))}function JH(e,t){return t>=1&&t<=(aj(e)?366:365)}function eV(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function tV(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function nV(e,t){return t>=0&&t<=59}function gl(e,t,n){const r=yn(e,n==null?void 0:n.in),i=r.getFullYear(),a=r.getDate(),o=Qr((n==null?void 0:n.in)||e,0);o.setFullYear(i,t,15),o.setHours(0,0,0,0);const c=Pq(o);return r.setMonth(t,Math.min(a,c)),r}function r2(e,t,n){const r=yn(e,n==null?void 0:n.in);return r.setHours(t),r}function i2(e,t,n){const r=yn(e,n==null?void 0:n.in);return r.setMinutes(t),r}function Gf(e,t,n){const r=yn(e,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,a=t-i;return gl(r,r.getMonth()+a*3)}function a2(e,t,n){const r=yn(e,n==null?void 0:n.in);return r.setSeconds(t),r}function Fc(e,t,n){const r=yn(e,n==null?void 0:n.in);return isNaN(+r)?Qr((n==null?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function Y0(e,t,n){return uc(e,-t,n)}function sj(e,t,n){return G4(e,-t,n)}function Z_(e,t,n){return G2(e,-t,n)}function Hh(e,t,n){return Tu(e,-t,n)}const rV=()=>{const[e,t]=K.useState(!1),n=K.useRef(null),{notifications:r,unreadCount:i,markAsRead:a,markAllAsRead:o,clearNotifications:c}=mW();K.useEffect(()=>{const g=w=>{n.current&&!n.current.contains(w.target)&&t(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const u=()=>{t(!e)},f=g=>{a(g.id),t(!1)},p=g=>{switch(g){case"warning":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"success":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});default:return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}};return s.jsxs("div",{className:"relative",ref:n,children:[s.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-800 focus:outline-none",onClick:u,"aria-label":`Notifications ${i>0?`(${i} unread)`:""}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),i>0&&s.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:i})]}),e&&s.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsxs("div",{className:"px-4 py-2 bg-gray-100 flex justify-between items-center",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Notifications"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:o,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"}),s.jsx("button",{onClick:c,className:"text-xs text-red-600 hover:text-red-800",children:"Clear all"})]})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.length===0?s.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No notifications"}):r.map(g=>s.jsx("div",{className:`px-4 py-3 border-b border-gray-100 ${g.read?"":"bg-blue-50"}`,onClick:()=>f(g),children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:p(g.type)}),s.jsxs("div",{className:"ml-3 w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.title}),s.jsx("p",{className:"text-sm text-gray-600",children:g.message}),g.typeId&&s.jsx(ca,{to:`/equipment?type=${g.typeId}`,className:"text-xs text-blue-600 hover:text-blue-800 mt-1 inline-block",onClick:w=>w.stopPropagation(),children:"View equipment"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:Rq(new Date(g.timestamp),{addSuffix:!0})})]})]})},g.id))})]})})]})},oj=({toggleSidebar:e})=>{const{user:t,logout:n,isImpersonating:r}=ss(),i=Do(),a=()=>{n(),i("/login")};return s.jsx("nav",{className:"bg-white text-slate-800 shadow-soft sticky top-0 z-30 border-b border-slate-200 h-16",children:s.jsx("div",{className:"container-app py-0",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs(ca,{to:"/",className:"flex-shrink-0 flex items-center gap-2",children:[s.jsx("img",{src:"/bird-logo.svg",alt:"Theater Equipment Logo",className:"w-8 h-8"}),s.jsx("span",{className:"text-xl font-bold text-slate-800",children:"Theater Equipment Catalog"})]})}),t?s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"flex items-center gap-3",children:[t.role==="admin"&&s.jsx(rV,{}),s.jsxs("div",{className:"px-3 py-1 rounded-full bg-slate-100 text-slate-700 text-sm flex items-center",children:[s.jsx("span",{className:"font-medium",children:t.username}),s.jsx("span",{className:"ml-1 text-xs px-1.5 py-0.5 bg-primary-100 text-primary-700 rounded-full",children:t.role}),r()&&s.jsx("span",{className:"ml-1 text-xs bg-yellow-100 text-yellow-700 px-1.5 py-0.5 rounded-full border border-yellow-200",children:"Impersonating"})]}),s.jsxs("button",{onClick:a,className:"nav-link text-slate-600 hover:text-red-600","aria-label":"Logout",children:[s.jsx(B_,{}),s.jsx("span",{className:"hidden md:inline",children:r()?"End Impersonation":"Logout"})]})]})}):s.jsx("div",{className:"flex items-center",children:s.jsxs(ca,{to:"/login",className:"btn btn-primary",children:[s.jsx(B_,{className:"rotate-180"}),s.jsx("span",{children:"Login"})]})})]})})})},iV=({className:e})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:s.jsx("polyline",{points:"9 18 15 12 9 6"})}),lj=({isOpen:e,isCollapsed:t,toggleSidebar:n,toggleCollapse:r})=>{const{isAdmin:i,isAdvanced:a}=ss(),o=n1();K.useEffect(()=>{const u=()=>{window.innerWidth<768&&e&&n(!1)};return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[e,n]);const c=u=>o.pathname===u;return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"sidebar-overlay",onClick:()=>n(!1),style:{opacity:e?1:0}}),s.jsxs("aside",{className:`sidebar ${e?"":"sidebar-hidden"} ${t?"sidebar-collapsed":"sidebar-expanded"}`,children:[s.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[!t&&s.jsx("span",{className:"text-lg font-semibold text-slate-800",children:"Navigation"}),s.jsxs("div",{className:"flex",children:[s.jsx("button",{onClick:()=>r(!t),className:"sidebar-collapse-btn","aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?s.jsx(iV,{className:"w-4 h-4"}):s.jsx(q7,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>n(!e),className:"sidebar-toggle-btn md:hidden","aria-label":e?"Hide sidebar":"Show sidebar",children:s.jsx(yW,{className:"w-4 h-4"})})]})]}),s.jsxs("nav",{className:"sidebar-nav",children:[s.jsxs(ca,{to:"/dashboard",className:`sidebar-nav-item ${c("/dashboard")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Dashboard",children:[s.jsx(xW,{className:"sidebar-nav-icon"}),s.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Dashboard"})]}),s.jsxs(ca,{to:"/equipment",className:`sidebar-nav-item ${c("/equipment")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Equipment",children:[s.jsx(gW,{className:"sidebar-nav-icon"}),s.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Equipment"})]}),s.jsxs(ca,{to:"/show-list",className:`sidebar-nav-item ${c("/show-list")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Show List",children:[s.jsx(G5,{className:"sidebar-nav-icon"}),s.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Show List"})]}),(i()||a())&&s.jsxs(ca,{to:"/equipment/new",className:`sidebar-nav-item ${c("/equipment/new")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Add Equipment",children:[s.jsx(cv,{className:"sidebar-nav-icon"}),s.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Add Equipment"})]}),i()&&s.jsxs(ca,{to:"/equipment-logs",className:`sidebar-nav-item ${c("/equipment-logs")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Equipment Logs",children:[s.jsx(NW,{className:"sidebar-nav-icon"}),s.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Equipment Logs"})]}),i()&&s.jsxs(ca,{to:"/admin",className:`sidebar-nav-item ${c("/admin")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Admin",children:[s.jsx(vW,{className:"sidebar-nav-icon"}),s.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Admin"})]}),s.jsxs(ca,{to:"/settings",className:`sidebar-nav-item ${c("/settings")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&n(!1),title:"Settings",children:[s.jsx(wW,{className:"sidebar-nav-icon"}),s.jsx("span",{className:`sidebar-nav-text ${t?"hidden":"block"}`,children:"Settings"})]})]})]})]})},cj=()=>{const{user:e,isImpersonating:t,logout:n}=ss();return t()?s.jsx("div",{className:"bg-yellow-500 text-white py-2",children:s.jsxs("div",{className:"container-app py-0 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-bold",children:"Impersonation Mode:"})," You are currently viewing the application as ",e.username," (",e.role,")"]}),s.jsx("button",{onClick:n,className:"bg-white text-yellow-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-yellow-100",children:"End Impersonation"})]})}):null},aV=()=>{const[e,t]=K.useState(""),[n,r]=K.useState(""),[i,a]=K.useState(""),[o,c]=K.useState(!1),{login:u}=ss(),f=Do(),p=async g=>{var w,y;if(g.preventDefault(),!e||!n){a("Username and password are required");return}try{c(!0),a(""),await u(e,n),f("/dashboard")}catch(E){a(((y=(w=E.response)==null?void 0:w.data)==null?void 0:y.message)||"Login failed")}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Theater Equipment Catalog"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[i&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:s.jsx("p",{className:"text-red-700",children:i})}),s.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),s.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:g=>t(g.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),s.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:g=>r(g.target.value)})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:o,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${o?"opacity-70 cursor-not-allowed":""}`,children:o?"Signing in...":"Sign in"})}),s.jsx("div",{className:"text-sm text-center",children:s.jsx("p",{className:"text-gray-600",children:"Insert the credentials the admin provided to you"})})]})]})})},l1=async()=>{try{return{categories:(await Xt.get("/api/categories")).data}}catch(e){return console.error("Error fetching categories:",e),{categories:[]}}},sV=async(e,t="")=>(await Xt.post("/api/categories",{name:e,description:t})).data,oV=async(e,t,n="")=>(await Xt.put(`/api/categories/${e}`,{name:t,description:n})).data,lV=async e=>(await Xt.delete(`/api/categories/${e}`)).data,uj=async()=>{try{return{searches:(await Xt.get("/api/saved-searches")).data||[]}}catch(e){return console.error("Error fetching saved searches:",e),{searches:[]}}},dj=async e=>{try{return(await Xt.post("/api/saved-searches",e)).data}catch(t){throw console.error("Error saving search:",t),t}},fj=async e=>{try{return(await Xt.delete(`/api/saved-searches/${e}`)).data}catch(t){throw console.error("Error deleting saved search:",t),t}},kt=({children:e,variant:t="primary",size:n="md",type:r="button",fullWidth:i=!1,disabled:a=!1,onClick:o,className:c="",as:u="button",...f})=>{const p="inline-flex items-center justify-center font-medium transition-all duration-200 rounded-md focus:outline-none focus:ring-1 focus:ring-offset-1",g={primary:"bg-white text-primary-600 hover:bg-primary-50 focus:ring-primary-500 border border-primary-500 hover:border-primary-600 hover:shadow-sm transition-all",secondary:"bg-white text-slate-600 hover:bg-slate-50 focus:ring-slate-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",outline:"bg-white hover:bg-slate-50 text-slate-700 focus:ring-primary-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",danger:"bg-white text-red-600 hover:bg-red-50 focus:ring-red-500 border border-red-500 hover:border-red-600 hover:shadow-sm transition-all",success:"bg-white text-green-600 hover:bg-green-50 focus:ring-green-500 border border-green-500 hover:border-green-600 hover:shadow-sm transition-all",ghost:"bg-transparent hover:bg-slate-100 text-slate-700 focus:ring-slate-500 border border-transparent hover:shadow-sm transition-all"},w={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-sm"},y=a?"opacity-60 cursor-not-allowed":"cursor-pointer",E=i?"w-full":"",S=`
    ${p}
    ${g[t]||g.primary}
    ${w[n]||w.md}
    ${y}
    ${E}
    ${c}
  `,A=u==="button"?{type:r,...f}:f;return s.jsx(u,{className:S,disabled:a,onClick:o,...A,children:e})};kt.propTypes={children:Ge.node.isRequired,variant:Ge.oneOf(["primary","secondary","outline","danger","success","ghost"]),size:Ge.oneOf(["sm","md","lg"]),type:Ge.oneOf(["button","submit","reset"]),fullWidth:Ge.bool,disabled:Ge.bool,onClick:Ge.func,className:Ge.string,as:Ge.elementType};const kn=({id:e,name:t,type:n="text",label:r,placeholder:i,value:a,onChange:o,onBlur:c,error:u,helpText:f,icon:p,disabled:g=!1,required:w=!1,className:y="",...E})=>{const{helpText:S,...A}={helpText:f,...E},Y=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${u?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${g?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    ${p?"pl-10":"pl-3"}
    py-2 pr-3 text-sm
    ${y}
  `;return s.jsxs("div",{className:"w-full",children:[r&&s.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${u?"text-red-600":"text-slate-700"}`,children:[r,w&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[p&&s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:p}),s.jsx("input",{id:e,name:t,type:n,value:a,onChange:o,onBlur:c,placeholder:i,disabled:g,required:w,className:Y,...A})]}),u&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u}),f&&!u&&s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:f})]})};kn.propTypes={id:Ge.string.isRequired,name:Ge.string.isRequired,type:Ge.string,label:Ge.string,placeholder:Ge.string,value:Ge.oneOfType([Ge.string,Ge.number]),onChange:Ge.func,onBlur:Ge.func,error:Ge.string,helpText:Ge.string,icon:Ge.node,disabled:Ge.bool,required:Ge.bool,className:Ge.string};var mn;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(mn||(mn={}));var J_=new Map([[mn.QR_CODE,"QR_CODE"],[mn.AZTEC,"AZTEC"],[mn.CODABAR,"CODABAR"],[mn.CODE_39,"CODE_39"],[mn.CODE_93,"CODE_93"],[mn.CODE_128,"CODE_128"],[mn.DATA_MATRIX,"DATA_MATRIX"],[mn.MAXICODE,"MAXICODE"],[mn.ITF,"ITF"],[mn.EAN_13,"EAN_13"],[mn.EAN_8,"EAN_8"],[mn.PDF_417,"PDF_417"],[mn.RSS_14,"RSS_14"],[mn.RSS_EXPANDED,"RSS_EXPANDED"],[mn.UPC_A,"UPC_A"],[mn.UPC_E,"UPC_E"],[mn.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),e8;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(e8||(e8={}));function cV(e){return Object.values(mn).includes(e)}var J2;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(J2||(J2={}));var uV=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[J2.SCAN_TYPE_CAMERA,J2.SCAN_TYPE_FILE],e}(),hj=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!J_.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,J_.get(t))},e}(),t8=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),tb;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(tb||(tb={}));var dV=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:tb.UNKWOWN_ERROR}},e}(),fV=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function bu(e){return typeof e>"u"||e===null}var fh=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),pj=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),o=Object.keys(t),c=0,u=o;c<u.length;c++){var f=u[c];if(a.has(f))return n.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},e}(),nb={exports:{}};(function(e,t){(function(n,r){r(t)})(no,function(n){function r(re){return re==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,l){re.__proto__=l}||function(re,l){for(var d in l)l.hasOwnProperty(d)&&(re[d]=l[d])};function a(re,l){i(re,l);function d(){this.constructor=re}re.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}function o(re,l){var d=Object.setPrototypeOf;d?d(re,l):re.__proto__=l}function c(re,l){l===void 0&&(l=re.constructor);var d=Error.captureStackTrace;d&&d(re,l)}var u=function(re){a(l,re);function l(d){var h=this.constructor,x=re.call(this,d)||this;return Object.defineProperty(x,"name",{value:h.name,enumerable:!1}),o(x,h.prototype),c(x),x}return l}(Error);class f extends u{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}f.kind="Exception";class p extends f{}p.kind="ArgumentException";class g extends f{}g.kind="IllegalArgumentException";class w{constructor(l){if(this.binarizer=l,l===null)throw new g("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,d){return this.binarizer.getBlackRow(l,d)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,d,h,x){const v=this.binarizer.getLuminanceSource().crop(l,d,h,x);return new w(this.binarizer.createBinarizer(v))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class y extends f{static getChecksumInstance(){return new y}}y.kind="ChecksumException";class E{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class S{static arraycopy(l,d,h,x,v){for(;v--;)h[x++]=l[d++]}static currentTimeMillis(){return Date.now()}}class A extends f{}A.kind="IndexOutOfBoundsException";class j extends A{constructor(l=void 0,d=void 0){super(d),this.index=l,this.message=d}}j.kind="ArrayIndexOutOfBoundsException";class k{static fill(l,d){for(let h=0,x=l.length;h<x;h++)l[h]=d}static fillWithin(l,d,h,x){k.rangeCheck(l.length,d,h);for(let v=d;v<h;v++)l[v]=x}static rangeCheck(l,d,h){if(d>h)throw new g("fromIndex("+d+") > toIndex("+h+")");if(d<0)throw new j(d);if(h>l)throw new j(h)}static asList(...l){return l}static create(l,d,h){return Array.from({length:l}).map(v=>Array.from({length:d}).fill(h))}static createInt32Array(l,d,h){return Array.from({length:l}).map(v=>Int32Array.from({length:d}).fill(h))}static equals(l,d){if(!l||!d||!l.length||!d.length||l.length!==d.length)return!1;for(let h=0,x=l.length;h<x;h++)if(l[h]!==d[h])return!1;return!0}static hashCode(l){if(l===null)return 0;let d=1;for(const h of l)d=31*d+h;return d}static fillUint8Array(l,d){for(let h=0;h!==l.length;h++)l[h]=d}static copyOf(l,d){return l.slice(0,d)}static copyOfUint8Array(l,d){if(l.length<=d){const h=new Uint8Array(d);return h.set(l),h}return l.slice(0,d)}static copyOfRange(l,d,h){const x=h-d,v=new Int32Array(x);return S.arraycopy(l,d,v,0,x),v}static binarySearch(l,d,h){h===void 0&&(h=k.numberComparator);let x=0,v=l.length-1;for(;x<=v;){const N=v+x>>1,C=h(d,l[N]);if(C>0)x=N+1;else if(C<0)v=N-1;else return N}return-x-1}static numberComparator(l,d){return l-d}}class D{static numberOfTrailingZeros(l){let d;if(l===0)return 32;let h=31;return d=l<<16,d!==0&&(h-=16,l=d),d=l<<8,d!==0&&(h-=8,l=d),d=l<<4,d!==0&&(h-=4,l=d),d=l<<2,d!==0&&(h-=2,l=d),h-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let d=1;return l>>>16||(d+=16,l<<=16),l>>>24||(d+=8,l<<=8),l>>>28||(d+=4,l<<=4),l>>>30||(d+=2,l<<=2),d-=l>>>31,d}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,d){return Math.trunc(l/d)}static parseInt(l,d=void 0){return parseInt(l,d)}}D.MIN_VALUE_32_BITS=-2147483648,D.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(l,d){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,d==null?this.bits=P.makeArray(l):this.bits=d)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const d=P.makeArray(l);S.arraycopy(this.bits,0,d,0,this.bits.length),this.bits=d}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const d=this.size;if(l>=d)return d;const h=this.bits;let x=Math.floor(l/32),v=h[x];v&=~((1<<(l&31))-1);const N=h.length;for(;v===0;){if(++x===N)return d;v=h[x]}const C=x*32+D.numberOfTrailingZeros(v);return C>d?d:C}getNextUnset(l){const d=this.size;if(l>=d)return d;const h=this.bits;let x=Math.floor(l/32),v=~h[x];v&=~((1<<(l&31))-1);const N=h.length;for(;v===0;){if(++x===N)return d;v=~h[x]}const C=x*32+D.numberOfTrailingZeros(v);return C>d?d:C}setBulk(l,d){this.bits[Math.floor(l/32)]=d}setRange(l,d){if(d<l||l<0||d>this.size)throw new g;if(d===l)return;d--;const h=Math.floor(l/32),x=Math.floor(d/32),v=this.bits;for(let N=h;N<=x;N++){const C=N>h?0:l&31,M=(2<<(N<x?31:d&31))-(1<<C);v[N]|=M}}clear(){const l=this.bits.length,d=this.bits;for(let h=0;h<l;h++)d[h]=0}isRange(l,d,h){if(d<l||l<0||d>this.size)throw new g;if(d===l)return!0;d--;const x=Math.floor(l/32),v=Math.floor(d/32),N=this.bits;for(let C=x;C<=v;C++){const I=C>x?0:l&31,X=(2<<(C<v?31:d&31))-(1<<I)&4294967295;if((N[C]&X)!==(h?X:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,d){if(d<0||d>32)throw new g("Num bits must be between 0 and 32");this.ensureCapacity(this.size+d);for(let h=d;h>0;h--)this.appendBit((l>>h-1&1)===1)}appendBitArray(l){const d=l.size;this.ensureCapacity(this.size+d);for(let h=0;h<d;h++)this.appendBit(l.get(h))}xor(l){if(this.size!==l.size)throw new g("Sizes don't match");const d=this.bits;for(let h=0,x=d.length;h<x;h++)d[h]^=l.bits[h]}toBytes(l,d,h,x){for(let v=0;v<x;v++){let N=0;for(let C=0;C<8;C++)this.get(l)&&(N|=1<<7-C),l++;d[h+v]=N}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),d=Math.floor((this.size-1)/32),h=d+1,x=this.bits;for(let v=0;v<h;v++){let N=x[v];N=N>>1&1431655765|(N&1431655765)<<1,N=N>>2&858993459|(N&858993459)<<2,N=N>>4&252645135|(N&252645135)<<4,N=N>>8&16711935|(N&16711935)<<8,N=N>>16&65535|(N&65535)<<16,l[d-v]=N}if(this.size!==h*32){const v=h*32-this.size;let N=l[0]>>>v;for(let C=1;C<h;C++){const I=l[C];N|=I<<32-v,l[C-1]=N,N=I>>>v}l[h-1]=N}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof P))return!1;const d=l;return this.size===d.size&&k.equals(this.bits,d.bits)}hashCode(){return 31*this.size+k.hashCode(this.bits)}toString(){let l="";for(let d=0,h=this.size;d<h;d++)d&7||(l+=" "),l+=this.get(d)?"X":".";return l}clone(){return new P(this.size,this.bits.slice())}}var Y;(function(re){re[re.OTHER=0]="OTHER",re[re.PURE_BARCODE=1]="PURE_BARCODE",re[re.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",re[re.TRY_HARDER=3]="TRY_HARDER",re[re.CHARACTER_SET=4]="CHARACTER_SET",re[re.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",re[re.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",re[re.ASSUME_GS1=7]="ASSUME_GS1",re[re.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",re[re.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",re[re.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Y||(Y={}));var z=Y;class R extends f{static getFormatInstance(){return new R}}R.kind="FormatException";var B;(function(re){re[re.Cp437=0]="Cp437",re[re.ISO8859_1=1]="ISO8859_1",re[re.ISO8859_2=2]="ISO8859_2",re[re.ISO8859_3=3]="ISO8859_3",re[re.ISO8859_4=4]="ISO8859_4",re[re.ISO8859_5=5]="ISO8859_5",re[re.ISO8859_6=6]="ISO8859_6",re[re.ISO8859_7=7]="ISO8859_7",re[re.ISO8859_8=8]="ISO8859_8",re[re.ISO8859_9=9]="ISO8859_9",re[re.ISO8859_10=10]="ISO8859_10",re[re.ISO8859_11=11]="ISO8859_11",re[re.ISO8859_13=12]="ISO8859_13",re[re.ISO8859_14=13]="ISO8859_14",re[re.ISO8859_15=14]="ISO8859_15",re[re.ISO8859_16=15]="ISO8859_16",re[re.SJIS=16]="SJIS",re[re.Cp1250=17]="Cp1250",re[re.Cp1251=18]="Cp1251",re[re.Cp1252=19]="Cp1252",re[re.Cp1256=20]="Cp1256",re[re.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",re[re.UTF8=22]="UTF8",re[re.ASCII=23]="ASCII",re[re.Big5=24]="Big5",re[re.GB18030=25]="GB18030",re[re.EUC_KR=26]="EUC_KR"})(B||(B={}));class q{constructor(l,d,h,...x){this.valueIdentifier=l,this.name=h,typeof d=="number"?this.values=Int32Array.from([d]):this.values=d,this.otherEncodingNames=x,q.VALUE_IDENTIFIER_TO_ECI.set(l,this),q.NAME_TO_ECI.set(h,this);const v=this.values;for(let N=0,C=v.length;N!==C;N++){const I=v[N];q.VALUES_TO_ECI.set(I,this)}for(const N of x)q.NAME_TO_ECI.set(N,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new R("incorect value");const d=q.VALUES_TO_ECI.get(l);if(d===void 0)throw new R("incorect value");return d}static getCharacterSetECIByName(l){const d=q.NAME_TO_ECI.get(l);if(d===void 0)throw new R("incorect value");return d}equals(l){if(!(l instanceof q))return!1;const d=l;return this.getName()===d.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(B.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(B.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(B.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(B.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(B.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(B.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(B.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(B.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(B.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(B.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(B.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(B.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(B.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(B.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(B.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(B.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(B.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(B.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(B.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(B.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(B.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(B.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(B.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(B.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(B.Big5,28,"Big5"),q.GB18030=new q(B.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(B.EUC_KR,30,"EUC_KR","EUC-KR");class te extends f{}te.kind="UnsupportedOperationException";class H{static decode(l,d){const h=this.encodingName(d);return this.customDecoder?this.customDecoder(l,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(l,h):new TextDecoder(h).decode(l)}static shouldDecodeOnFallback(l){return!H.isBrowser()&&l==="ISO-8859-1"}static encode(l,d){const h=this.encodingName(d);return this.customEncoder?this.customEncoder(l,h):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof q?l:q.getCharacterSetECIByName(l)}static decodeFallback(l,d){const h=this.encodingCharacterSet(d);if(H.isDecodeFallbackSupported(h)){let x="";for(let v=0,N=l.length;v<N;v++){let C=l[v].toString(16);C.length<2&&(C="0"+C),x+="%"+C}return decodeURIComponent(x)}if(h.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new te(`Encoding ${this.encodingName(d)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(q.UTF8)||l.equals(q.ISO8859_1)||l.equals(q.ASCII)}static encodeFallback(l){const h=btoa(unescape(encodeURIComponent(l))).split(""),x=[];for(let v=0;v<h.length;v++)x.push(h[v].charCodeAt(0));return new Uint8Array(x)}}class W{static castAsNonUtf8Char(l,d=null){const h=d?d.getName():this.ISO88591;return H.decode(new Uint8Array([l]),h)}static guessEncoding(l,d){if(d!=null&&d.get(z.CHARACTER_SET)!==void 0)return d.get(z.CHARACTER_SET).toString();const h=l.length;let x=!0,v=!0,N=!0,C=0,I=0,M=0,X=0,ie=0,me=0,De=0,de=0,Ne=0,Ce=0,$e=0;const vt=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let jt=0;jt<h&&(x||v||N);jt++){const Lt=l[jt]&255;N&&(C>0?Lt&128?C--:N=!1:Lt&128&&(Lt&64?(C++,Lt&32?(C++,Lt&16?(C++,Lt&8?N=!1:X++):M++):I++):N=!1)),x&&(Lt>127&&Lt<160?x=!1:Lt>159&&(Lt<192||Lt===215||Lt===247)&&$e++),v&&(ie>0?Lt<64||Lt===127||Lt>252?v=!1:ie--:Lt===128||Lt===160||Lt>239?v=!1:Lt>160&&Lt<224?(me++,de=0,De++,De>Ne&&(Ne=De)):Lt>127?(ie++,De=0,de++,de>Ce&&(Ce=de)):(De=0,de=0))}return N&&C>0&&(N=!1),v&&ie>0&&(v=!1),N&&(vt||I+M+X>0)?W.UTF8:v&&(W.ASSUME_SHIFT_JIS||Ne>=3||Ce>=3)?W.SHIFT_JIS:x&&v?Ne===2&&me===2||$e*10>=h?W.SHIFT_JIS:W.ISO88591:x?W.ISO88591:v?W.SHIFT_JIS:N?W.UTF8:W.PLATFORM_DEFAULT_ENCODING}static format(l,...d){let h=-1;function x(N,C,I,M,X,ie){if(N==="%%")return"%";if(d[++h]===void 0)return;N=M?parseInt(M.substr(1)):void 0;let me=X?parseInt(X.substr(1)):void 0,De;switch(ie){case"s":De=d[h];break;case"c":De=d[h][0];break;case"f":De=parseFloat(d[h]).toFixed(N);break;case"p":De=parseFloat(d[h]).toPrecision(N);break;case"e":De=parseFloat(d[h]).toExponential(N);break;case"x":De=parseInt(d[h]).toString(me||16);break;case"d":De=parseFloat(parseInt(d[h],me||10).toPrecision(N)).toFixed(0);break}De=typeof De=="object"?JSON.stringify(De):(+De).toString(me);let de=parseInt(I),Ne=I&&I[0]+""=="0"?"0":" ";for(;De.length<de;)De=C!==void 0?De+Ne:Ne+De;return De}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(v,x)}static getBytes(l,d){return H.encode(l,d)}static getCharCode(l,d=0){return l.charCodeAt(d)}static getCharAt(l){return String.fromCharCode(l)}}W.SHIFT_JIS=q.SJIS.getName(),W.GB2312="GB2312",W.ISO88591=q.ISO8859_1.getName(),W.EUC_JP="EUC_JP",W.UTF8=q.UTF8.getName(),W.PLATFORM_DEFAULT_ENCODING=W.UTF8,W.ASSUME_SHIFT_JIS=!1;class J{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=W.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,d,h){for(let x=d;d<d+h;x++)this.append(l[x]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,d){this.value=this.value.substr(0,l)+d+this.value.substr(l+1)}substring(l,d){return this.value.substring(l,d)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,d){this.value=this.value.substr(0,l)+d+this.value.substr(l+d.length)}}class ue{constructor(l,d,h,x){if(this.width=l,this.height=d,this.rowSize=h,this.bits=x,d==null&&(d=l),this.height=d,l<1||d<1)throw new g("Both dimensions must be greater than 0");h==null&&(h=Math.floor((l+31)/32)),this.rowSize=h,x==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const d=l.length,h=l[0].length,x=new ue(h,d);for(let v=0;v<d;v++){const N=l[v];for(let C=0;C<h;C++)N[C]&&x.set(C,v)}return x}static parseFromString(l,d,h){if(l===null)throw new g("stringRepresentation cannot be null");const x=new Array(l.length);let v=0,N=0,C=-1,I=0,M=0;for(;M<l.length;)if(l.charAt(M)===`
`||l.charAt(M)==="\r"){if(v>N){if(C===-1)C=v-N;else if(v-N!==C)throw new g("row lengths do not match");N=v,I++}M++}else if(l.substring(M,M+d.length)===d)M+=d.length,x[v]=!0,v++;else if(l.substring(M,M+h.length)===h)M+=h.length,x[v]=!1,v++;else throw new g("illegal character encountered: "+l.substring(M));if(v>N){if(C===-1)C=v-N;else if(v-N!==C)throw new g("row lengths do not match");I++}const X=new ue(C,I);for(let ie=0;ie<v;ie++)x[ie]&&X.set(Math.floor(ie%C),Math.floor(ie/C));return X}get(l,d){const h=d*this.rowSize+Math.floor(l/32);return(this.bits[h]>>>(l&31)&1)!==0}set(l,d){const h=d*this.rowSize+Math.floor(l/32);this.bits[h]|=1<<(l&31)&4294967295}unset(l,d){const h=d*this.rowSize+Math.floor(l/32);this.bits[h]&=~(1<<(l&31)&4294967295)}flip(l,d){const h=d*this.rowSize+Math.floor(l/32);this.bits[h]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new g("input matrix dimensions do not match");const d=new P(Math.floor(this.width/32)+1),h=this.rowSize,x=this.bits;for(let v=0,N=this.height;v<N;v++){const C=v*h,I=l.getRow(v,d).getBitArray();for(let M=0;M<h;M++)x[C+M]^=I[M]}}clear(){const l=this.bits,d=l.length;for(let h=0;h<d;h++)l[h]=0}setRegion(l,d,h,x){if(d<0||l<0)throw new g("Left and top must be nonnegative");if(x<1||h<1)throw new g("Height and width must be at least 1");const v=l+h,N=d+x;if(N>this.height||v>this.width)throw new g("The region must fit inside the matrix");const C=this.rowSize,I=this.bits;for(let M=d;M<N;M++){const X=M*C;for(let ie=l;ie<v;ie++)I[X+Math.floor(ie/32)]|=1<<(ie&31)&4294967295}}getRow(l,d){d==null||d.getSize()<this.width?d=new P(this.width):d.clear();const h=this.rowSize,x=this.bits,v=l*h;for(let N=0;N<h;N++)d.setBulk(N*32,x[v+N]);return d}setRow(l,d){S.arraycopy(d.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),d=this.getHeight();let h=new P(l),x=new P(l);for(let v=0,N=Math.floor((d+1)/2);v<N;v++)h=this.getRow(v,h),x=this.getRow(d-1-v,x),h.reverse(),x.reverse(),this.setRow(v,x),this.setRow(d-1-v,h)}getEnclosingRectangle(){const l=this.width,d=this.height,h=this.rowSize,x=this.bits;let v=l,N=d,C=-1,I=-1;for(let M=0;M<d;M++)for(let X=0;X<h;X++){const ie=x[M*h+X];if(ie!==0){if(M<N&&(N=M),M>I&&(I=M),X*32<v){let me=0;for(;!(ie<<31-me&4294967295);)me++;X*32+me<v&&(v=X*32+me)}if(X*32+31>C){let me=31;for(;!(ie>>>me);)me--;X*32+me>C&&(C=X*32+me)}}}return C<v||I<N?null:Int32Array.from([v,N,C-v+1,I-N+1])}getTopLeftOnBit(){const l=this.rowSize,d=this.bits;let h=0;for(;h<d.length&&d[h]===0;)h++;if(h===d.length)return null;const x=h/l;let v=h%l*32;const N=d[h];let C=0;for(;!(N<<31-C&4294967295);)C++;return v+=C,Int32Array.from([v,x])}getBottomRightOnBit(){const l=this.rowSize,d=this.bits;let h=d.length-1;for(;h>=0&&d[h]===0;)h--;if(h<0)return null;const x=Math.floor(h/l);let v=Math.floor(h%l)*32;const N=d[h];let C=31;for(;!(N>>>C);)C--;return v+=C,Int32Array.from([v,x])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof ue))return!1;const d=l;return this.width===d.width&&this.height===d.height&&this.rowSize===d.rowSize&&k.equals(this.bits,d.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+k.hashCode(this.bits),l}toString(l="X ",d="  ",h=`
`){return this.buildToString(l,d,h)}buildToString(l,d,h){let x=new J;for(let v=0,N=this.height;v<N;v++){for(let C=0,I=this.width;C<I;C++)x.append(this.get(C,v)?l:d);x.append(h)}return x.toString()}clone(){return new ue(this.width,this.height,this.rowSize,this.bits.slice())}}class se extends f{static getNotFoundInstance(){return new se}}se.kind="NotFoundException";class ee extends E{constructor(l){super(l),this.luminances=ee.EMPTY,this.buckets=new Int32Array(ee.LUMINANCE_BUCKETS)}getBlackRow(l,d){const h=this.getLuminanceSource(),x=h.getWidth();d==null||d.getSize()<x?d=new P(x):d.clear(),this.initArrays(x);const v=h.getRow(l,this.luminances),N=this.buckets;for(let I=0;I<x;I++)N[(v[I]&255)>>ee.LUMINANCE_SHIFT]++;const C=ee.estimateBlackPoint(N);if(x<3)for(let I=0;I<x;I++)(v[I]&255)<C&&d.set(I);else{let I=v[0]&255,M=v[1]&255;for(let X=1;X<x-1;X++){const ie=v[X+1]&255;(M*4-I-ie)/2<C&&d.set(X),I=M,M=ie}}return d}getBlackMatrix(){const l=this.getLuminanceSource(),d=l.getWidth(),h=l.getHeight(),x=new ue(d,h);this.initArrays(d);const v=this.buckets;for(let I=1;I<5;I++){const M=Math.floor(h*I/5),X=l.getRow(M,this.luminances),ie=Math.floor(d*4/5);for(let me=Math.floor(d/5);me<ie;me++){const De=X[me]&255;v[De>>ee.LUMINANCE_SHIFT]++}}const N=ee.estimateBlackPoint(v),C=l.getMatrix();for(let I=0;I<h;I++){const M=I*d;for(let X=0;X<d;X++)(C[M+X]&255)<N&&x.set(X,I)}return x}createBinarizer(l){return new ee(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const d=this.buckets;for(let h=0;h<ee.LUMINANCE_BUCKETS;h++)d[h]=0}static estimateBlackPoint(l){const d=l.length;let h=0,x=0,v=0;for(let X=0;X<d;X++)l[X]>v&&(x=X,v=l[X]),l[X]>h&&(h=l[X]);let N=0,C=0;for(let X=0;X<d;X++){const ie=X-x,me=l[X]*ie*ie;me>C&&(N=X,C=me)}if(x>N){const X=x;x=N,N=X}if(N-x<=d/16)throw new se;let I=N-1,M=-1;for(let X=N-1;X>x;X--){const ie=X-x,me=ie*ie*(N-X)*(h-l[X]);me>M&&(I=X,M=me)}return I<<ee.LUMINANCE_SHIFT}}ee.LUMINANCE_BITS=5,ee.LUMINANCE_SHIFT=8-ee.LUMINANCE_BITS,ee.LUMINANCE_BUCKETS=1<<ee.LUMINANCE_BITS,ee.EMPTY=Uint8ClampedArray.from([0]);class Ae extends ee{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),d=l.getWidth(),h=l.getHeight();if(d>=Ae.MINIMUM_DIMENSION&&h>=Ae.MINIMUM_DIMENSION){const x=l.getMatrix();let v=d>>Ae.BLOCK_SIZE_POWER;d&Ae.BLOCK_SIZE_MASK&&v++;let N=h>>Ae.BLOCK_SIZE_POWER;h&Ae.BLOCK_SIZE_MASK&&N++;const C=Ae.calculateBlackPoints(x,v,N,d,h),I=new ue(d,h);Ae.calculateThresholdForBlock(x,v,N,d,h,C,I),this.matrix=I}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new Ae(l)}static calculateThresholdForBlock(l,d,h,x,v,N,C){const I=v-Ae.BLOCK_SIZE,M=x-Ae.BLOCK_SIZE;for(let X=0;X<h;X++){let ie=X<<Ae.BLOCK_SIZE_POWER;ie>I&&(ie=I);const me=Ae.cap(X,2,h-3);for(let De=0;De<d;De++){let de=De<<Ae.BLOCK_SIZE_POWER;de>M&&(de=M);const Ne=Ae.cap(De,2,d-3);let Ce=0;for(let vt=-2;vt<=2;vt++){const jt=N[me+vt];Ce+=jt[Ne-2]+jt[Ne-1]+jt[Ne]+jt[Ne+1]+jt[Ne+2]}const $e=Ce/25;Ae.thresholdBlock(l,de,ie,$e,x,C)}}}static cap(l,d,h){return l<d?d:l>h?h:l}static thresholdBlock(l,d,h,x,v,N){for(let C=0,I=h*v+d;C<Ae.BLOCK_SIZE;C++,I+=v)for(let M=0;M<Ae.BLOCK_SIZE;M++)(l[I+M]&255)<=x&&N.set(d+M,h+C)}static calculateBlackPoints(l,d,h,x,v){const N=v-Ae.BLOCK_SIZE,C=x-Ae.BLOCK_SIZE,I=new Array(h);for(let M=0;M<h;M++){I[M]=new Int32Array(d);let X=M<<Ae.BLOCK_SIZE_POWER;X>N&&(X=N);for(let ie=0;ie<d;ie++){let me=ie<<Ae.BLOCK_SIZE_POWER;me>C&&(me=C);let De=0,de=255,Ne=0;for(let $e=0,vt=X*x+me;$e<Ae.BLOCK_SIZE;$e++,vt+=x){for(let jt=0;jt<Ae.BLOCK_SIZE;jt++){const Lt=l[vt+jt]&255;De+=Lt,Lt<de&&(de=Lt),Lt>Ne&&(Ne=Lt)}if(Ne-de>Ae.MIN_DYNAMIC_RANGE)for($e++,vt+=x;$e<Ae.BLOCK_SIZE;$e++,vt+=x)for(let jt=0;jt<Ae.BLOCK_SIZE;jt++)De+=l[vt+jt]&255}let Ce=De>>Ae.BLOCK_SIZE_POWER*2;if(Ne-de<=Ae.MIN_DYNAMIC_RANGE&&(Ce=de/2,M>0&&ie>0)){const $e=(I[M-1][ie]+2*I[M][ie-1]+I[M-1][ie-1])/4;de<$e&&(Ce=$e)}I[M][ie]=Ce}}return I}}Ae.BLOCK_SIZE_POWER=3,Ae.BLOCK_SIZE=1<<Ae.BLOCK_SIZE_POWER,Ae.BLOCK_SIZE_MASK=Ae.BLOCK_SIZE-1,Ae.MINIMUM_DIMENSION=Ae.BLOCK_SIZE*5,Ae.MIN_DYNAMIC_RANGE=24;class ge{constructor(l,d){this.width=l,this.height=d}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,d,h,x){throw new te("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new te("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new te("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let d=new J;for(let h=0;h<this.height;h++){const x=this.getRow(h,l);for(let v=0;v<this.width;v++){const N=x[v]&255;let C;N<64?C="#":N<128?C="+":N<192?C=".":C=" ",d.append(C)}d.append(`
`)}return d.toString()}}class Be extends ge{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,d){const h=this.delegate.getRow(l,d),x=this.getWidth();for(let v=0;v<x;v++)h[v]=255-(h[v]&255);return h}getMatrix(){const l=this.delegate.getMatrix(),d=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(d);for(let x=0;x<d;x++)h[x]=255-(l[x]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(l,d,h,x){return new Be(this.delegate.crop(l,d,h,x))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Be(this.delegate.rotateCounterClockwise45())}}class _e extends ge{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=_e.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const d=l.getContext("2d").getImageData(0,0,l.width,l.height);return _e.toGrayscaleBuffer(d.data,l.width,l.height)}static toGrayscaleBuffer(l,d,h){const x=new Uint8ClampedArray(d*h);for(let v=0,N=0,C=l.length;v<C;v+=4,N++){let I;if(l[v+3]===0)I=255;else{const X=l[v],ie=l[v+1],me=l[v+2];I=306*X+601*ie+117*me+512>>10}x[N]=I}return x}getRow(l,d){if(l<0||l>=this.getHeight())throw new g("Requested row is outside the image: "+l);const h=this.getWidth(),x=l*h;return d===null?d=this.buffer.slice(x,x+h):(d.length<h&&(d=new Uint8ClampedArray(h)),d.set(this.buffer.slice(x,x+h))),d}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,d,h,x){return super.crop(l,d,h,x),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const d=this.getTempCanvasElement(),h=d.getContext("2d"),x=l*_e.DEGREE_TO_RADIANS,v=this.canvas.width,N=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(x))*v+Math.abs(Math.sin(x))*N),I=Math.ceil(Math.abs(Math.sin(x))*v+Math.abs(Math.cos(x))*N);return d.width=C,d.height=I,h.translate(C/2,I/2),h.rotate(x),h.drawImage(this.canvas,v/-2,N/-2),this.buffer=_e.makeBufferFromCanvasImageData(d),this}invert(){return new Be(this)}}_e.DEGREE_TO_RADIANS=Math.PI/180;class ct{constructor(l,d,h){this.deviceId=l,this.label=d,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var U=(globalThis||no||self||window||void 0)&&(globalThis||no||self||window||void 0).__awaiter||function(re,l,d,h){function x(v){return v instanceof d?v:new d(function(N){N(v)})}return new(d||(d=Promise))(function(v,N){function C(X){try{M(h.next(X))}catch(ie){N(ie)}}function I(X){try{M(h.throw(X))}catch(ie){N(ie)}}function M(X){X.done?v(X.value):x(X.value).then(C,I)}M((h=h.apply(re,l||[])).next())})};class Z{constructor(l,d=500,h){this.reader=l,this.timeBetweenScansMillis=d,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return U(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),d=[];for(const h of l){const x=h.kind==="video"?"videoinput":h.kind;if(x!=="videoinput")continue;const v=h.deviceId||h.id,N=h.label||`Video device ${d.length+1}`,C=h.groupId,I={deviceId:v,label:N,kind:x,groupId:C};d.push(I)}return d})}getVideoInputDevices(){return U(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(d=>new ct(d.deviceId,d.label))})}findDeviceById(l){return U(this,void 0,void 0,function*(){const d=yield this.listVideoInputDevices();return d?d.find(h=>h.deviceId===l):null})}decodeFromInputVideoDevice(l,d){return U(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,d)})}decodeOnceFromVideoDevice(l,d){return U(this,void 0,void 0,function*(){this.reset();let h;l?h={deviceId:{exact:l}}:h={facingMode:"environment"};const x={video:h};return yield this.decodeOnceFromConstraints(x,d)})}decodeOnceFromConstraints(l,d){return U(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(h,d)})}decodeOnceFromStream(l,d){return U(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(l,d);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(l,d,h){return U(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,d,h)})}decodeFromVideoDevice(l,d,h){return U(this,void 0,void 0,function*(){let x;l?x={deviceId:{exact:l}}:x={facingMode:"environment"};const v={video:x};return yield this.decodeFromConstraints(v,d,h)})}decodeFromConstraints(l,d,h){return U(this,void 0,void 0,function*(){const x=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(x,d,h)})}decodeFromStream(l,d,h){return U(this,void 0,void 0,function*(){this.reset();const x=yield this.attachStreamToVideo(l,d);return yield this.decodeContinuously(x,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,d){return U(this,void 0,void 0,function*(){const h=this.prepareVideoElement(d);return this.addVideoSource(h,l),this.videoElement=h,this.stream=l,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(l){return new Promise((d,h)=>this.playVideoOnLoad(l,()=>d()))}playVideoOnLoad(l,d){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",d),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return U(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,d){const h=document.getElementById(l);if(!h)throw new p(`element with id '${l}' not found`);if(h.nodeName.toLowerCase()!==d.toLowerCase())throw new p(`element with id '${l}' must be an ${d} element`);return h}decodeFromImage(l,d){if(!l&&!d)throw new p("either imageElement with a src set or an url must be provided");return d&&!l?this.decodeFromImageUrl(d):this.decodeFromImageElement(l)}decodeFromVideo(l,d){if(!l&&!d)throw new p("Either an element with a src set or an URL must be provided");return d&&!l?this.decodeFromVideoUrl(d):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,d,h){if(l===void 0&&d===void 0)throw new p("Either an element with a src set or an URL must be provided");return d&&!l?this.decodeFromVideoUrlContinuously(d,h):this.decodeFromVideoElementContinuously(l,h)}decodeFromImageElement(l){if(!l)throw new p("An image element must be provided.");this.reset();const d=this.prepareImageElement(l);this.imageElement=d;let h;return this.isImageLoaded(d)?h=this.decodeOnce(d,!1,!0):h=this._decodeOnLoadImage(d),h}decodeFromVideoElement(l){const d=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(d)}decodeFromVideoElementContinuously(l,d){const h=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(h,d)}_decodeFromVideoElementSetup(l){if(!l)throw new p("A video element must be provided.");this.reset();const d=this.prepareVideoElement(l);return this.videoElement=d,d}decodeFromImageUrl(l){if(!l)throw new p("An URL must be provided.");this.reset();const d=this.prepareImageElement();this.imageElement=d;const h=this._decodeOnLoadImage(d);return d.src=l,h}decodeFromVideoUrl(l){if(!l)throw new p("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),h=this.decodeFromVideoElement(d);return d.src=l,h}decodeFromVideoUrlContinuously(l,d){if(!l)throw new p("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),x=this.decodeFromVideoElementContinuously(h,d);return h.src=l,x}_decodeOnLoadImage(l){return new Promise((d,h)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(d,h),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return U(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,d){return U(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,d)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let d;return typeof l>"u"&&(d=document.createElement("img"),d.width=200,d.height=200),typeof l=="string"&&(d=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(d=l),d}prepareVideoElement(l){let d;return!l&&typeof document<"u"&&(d=document.createElement("video"),d.width=200,d.height=200),typeof l=="string"&&(d=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(d=l),d.setAttribute("autoplay","true"),d.setAttribute("muted","true"),d.setAttribute("playsinline","true"),d}decodeOnce(l,d=!0,h=!0){this._stopAsyncDecode=!1;const x=(v,N)=>{if(this._stopAsyncDecode){N(new se("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const C=this.decode(l);v(C)}catch(C){const I=d&&C instanceof se,X=(C instanceof y||C instanceof R)&&h;if(I||X)return setTimeout(x,this._timeBetweenDecodingAttempts,v,N);N(C)}};return new Promise((v,N)=>x(v,N))}decodeContinuously(l,d){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const x=this.decode(l);d(x,null),setTimeout(h,this.timeBetweenScansMillis)}catch(x){d(null,x);const v=x instanceof y||x instanceof R,N=x instanceof se;(v||N)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(l){const d=this.createBinaryBitmap(l);return this.decodeBitmap(d)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,d,h){d||(d={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(l,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}drawImageOnCanvas(l,d,h=this.captureCanvasContext){d||(d={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(l,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const d=this.getCaptureCanvas(l),h=new _e(d),x=new Ae(h);return new w(x)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const d=this.createCaptureCanvas(l);this.captureCanvas=d}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const d=document.createElement("canvas");let h,x;return typeof l<"u"&&(l instanceof HTMLVideoElement?(h=l.videoWidth,x=l.videoHeight):l instanceof HTMLImageElement&&(h=l.naturalWidth||l.width,x=l.naturalHeight||l.height)),d.style.width=h+"px",d.style.height=x+"px",d.width=h,d.height=x,d}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,d){try{l.srcObject=d}catch{l.src=URL.createObjectURL(d)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class Q{constructor(l,d,h=d==null?0:8*d.length,x,v,N=S.currentTimeMillis()){this.text=l,this.rawBytes=d,this.numBits=h,this.resultPoints=x,this.format=v,this.timestamp=N,this.text=l,this.rawBytes=d,h==null?this.numBits=d==null?0:8*d.length:this.numBits=h,this.resultPoints=x,this.format=v,this.resultMetadata=null,N==null?this.timestamp=S.currentTimeMillis():this.timestamp=N}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,d){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,d)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const d=this.resultPoints;if(d===null)this.resultPoints=l;else if(l!==null&&l.length>0){const h=new Array(d.length+l.length);S.arraycopy(d,0,h,0,d.length),S.arraycopy(l,0,h,d.length,l.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ne;(function(re){re[re.AZTEC=0]="AZTEC",re[re.CODABAR=1]="CODABAR",re[re.CODE_39=2]="CODE_39",re[re.CODE_93=3]="CODE_93",re[re.CODE_128=4]="CODE_128",re[re.DATA_MATRIX=5]="DATA_MATRIX",re[re.EAN_8=6]="EAN_8",re[re.EAN_13=7]="EAN_13",re[re.ITF=8]="ITF",re[re.MAXICODE=9]="MAXICODE",re[re.PDF_417=10]="PDF_417",re[re.QR_CODE=11]="QR_CODE",re[re.RSS_14=12]="RSS_14",re[re.RSS_EXPANDED=13]="RSS_EXPANDED",re[re.UPC_A=14]="UPC_A",re[re.UPC_E=15]="UPC_E",re[re.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ne||(ne={}));var ce=ne,be;(function(re){re[re.OTHER=0]="OTHER",re[re.ORIENTATION=1]="ORIENTATION",re[re.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",re[re.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",re[re.ISSUE_NUMBER=4]="ISSUE_NUMBER",re[re.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",re[re.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",re[re.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",re[re.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",re[re.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",re[re.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(be||(be={}));var Fe=be;class ze{constructor(l,d,h,x,v=-1,N=-1){this.rawBytes=l,this.text=d,this.byteSegments=h,this.ecLevel=x,this.structuredAppendSequenceNumber=v,this.structuredAppendParity=N,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ze{exp(l){return this.expTable[l]}log(l){if(l===0)throw new g;return this.logTable[l]}static addOrSubtract(l,d){return l^d}}class pt{constructor(l,d){if(d.length===0)throw new g;this.field=l;const h=d.length;if(h>1&&d[0]===0){let x=1;for(;x<h&&d[x]===0;)x++;x===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-x),S.arraycopy(d,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const d=this.coefficients;let h;if(l===1){h=0;for(let N=0,C=d.length;N!==C;N++){const I=d[N];h=Ze.addOrSubtract(h,I)}return h}h=d[0];const x=d.length,v=this.field;for(let N=1;N<x;N++)h=Ze.addOrSubtract(v.multiply(l,h),d[N]);return h}addOrSubtract(l){if(!this.field.equals(l.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let d=this.coefficients,h=l.coefficients;if(d.length>h.length){const N=d;d=h,h=N}let x=new Int32Array(h.length);const v=h.length-d.length;S.arraycopy(h,0,x,0,v);for(let N=v;N<h.length;N++)x[N]=Ze.addOrSubtract(d[N-v],h[N]);return new pt(this.field,x)}multiply(l){if(!this.field.equals(l.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const d=this.coefficients,h=d.length,x=l.coefficients,v=x.length,N=new Int32Array(h+v-1),C=this.field;for(let I=0;I<h;I++){const M=d[I];for(let X=0;X<v;X++)N[I+X]=Ze.addOrSubtract(N[I+X],C.multiply(M,x[X]))}return new pt(C,N)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const d=this.coefficients.length,h=this.field,x=new Int32Array(d),v=this.coefficients;for(let N=0;N<d;N++)x[N]=h.multiply(v[N],l);return new pt(h,x)}multiplyByMonomial(l,d){if(l<0)throw new g;if(d===0)return this.field.getZero();const h=this.coefficients,x=h.length,v=new Int32Array(x+l),N=this.field;for(let C=0;C<x;C++)v[C]=N.multiply(h[C],d);return new pt(N,v)}divide(l){if(!this.field.equals(l.field))throw new g("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new g("Divide by 0");const d=this.field;let h=d.getZero(),x=this;const v=l.getCoefficient(l.getDegree()),N=d.inverse(v);for(;x.getDegree()>=l.getDegree()&&!x.isZero();){const C=x.getDegree()-l.getDegree(),I=d.multiply(x.getCoefficient(x.getDegree()),N),M=l.multiplyByMonomial(C,I),X=d.buildMonomial(C,I);h=h.addOrSubtract(X),x=x.addOrSubtract(M)}return[h,x]}toString(){let l="";for(let d=this.getDegree();d>=0;d--){let h=this.getCoefficient(d);if(h!==0){if(h<0?(l+=" - ",h=-h):l.length>0&&(l+=" + "),d===0||h!==1){const x=this.field.log(h);x===0?l+="1":x===1?l+="a":(l+="a^",l+=x)}d!==0&&(d===1?l+="x":(l+="x^",l+=d))}}return l}}class bt extends f{}bt.kind="ArithmeticException";class Ye extends Ze{constructor(l,d,h){super(),this.primitive=l,this.size=d,this.generatorBase=h;const x=new Int32Array(d);let v=1;for(let C=0;C<d;C++)x[C]=v,v*=2,v>=d&&(v^=l,v&=d-1);this.expTable=x;const N=new Int32Array(d);for(let C=0;C<d-1;C++)N[x[C]]=C;this.logTable=N,this.zero=new pt(this,Int32Array.from([0])),this.one=new pt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,d){if(l<0)throw new g;if(d===0)return this.zero;const h=new Int32Array(l+1);return h[0]=d,new pt(this,h)}inverse(l){if(l===0)throw new bt;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,d){return l===0||d===0?0:this.expTable[(this.logTable[l]+this.logTable[d])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+D.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}Ye.AZTEC_DATA_12=new Ye(4201,4096,1),Ye.AZTEC_DATA_10=new Ye(1033,1024,1),Ye.AZTEC_DATA_6=new Ye(67,64,1),Ye.AZTEC_PARAM=new Ye(19,16,1),Ye.QR_CODE_FIELD_256=new Ye(285,256,0),Ye.DATA_MATRIX_FIELD_256=new Ye(301,256,1),Ye.AZTEC_DATA_8=Ye.DATA_MATRIX_FIELD_256,Ye.MAXICODE_FIELD_64=Ye.AZTEC_DATA_6;class yt extends f{}yt.kind="ReedSolomonException";class it extends f{}it.kind="IllegalStateException";class fe{constructor(l){this.field=l}decode(l,d){const h=this.field,x=new pt(h,l),v=new Int32Array(d);let N=!0;for(let De=0;De<d;De++){const de=x.evaluateAt(h.exp(De+h.getGeneratorBase()));v[v.length-1-De]=de,de!==0&&(N=!1)}if(N)return;const C=new pt(h,v),I=this.runEuclideanAlgorithm(h.buildMonomial(d,1),C,d),M=I[0],X=I[1],ie=this.findErrorLocations(M),me=this.findErrorMagnitudes(X,ie);for(let De=0;De<ie.length;De++){const de=l.length-1-h.log(ie[De]);if(de<0)throw new yt("Bad error location");l[de]=Ye.addOrSubtract(l[de],me[De])}}runEuclideanAlgorithm(l,d,h){if(l.getDegree()<d.getDegree()){const De=l;l=d,d=De}const x=this.field;let v=l,N=d,C=x.getZero(),I=x.getOne();for(;N.getDegree()>=(h/2|0);){let De=v,de=C;if(v=N,C=I,v.isZero())throw new yt("r_{i-1} was zero");N=De;let Ne=x.getZero();const Ce=v.getCoefficient(v.getDegree()),$e=x.inverse(Ce);for(;N.getDegree()>=v.getDegree()&&!N.isZero();){const vt=N.getDegree()-v.getDegree(),jt=x.multiply(N.getCoefficient(N.getDegree()),$e);Ne=Ne.addOrSubtract(x.buildMonomial(vt,jt)),N=N.addOrSubtract(v.multiplyByMonomial(vt,jt))}if(I=Ne.multiply(C).addOrSubtract(de),N.getDegree()>=v.getDegree())throw new it("Division algorithm failed to reduce polynomial?")}const M=I.getCoefficient(0);if(M===0)throw new yt("sigmaTilde(0) was zero");const X=x.inverse(M),ie=I.multiplyScalar(X),me=N.multiplyScalar(X);return[ie,me]}findErrorLocations(l){const d=l.getDegree();if(d===1)return Int32Array.from([l.getCoefficient(1)]);const h=new Int32Array(d);let x=0;const v=this.field;for(let N=1;N<v.getSize()&&x<d;N++)l.evaluateAt(N)===0&&(h[x]=v.inverse(N),x++);if(x!==d)throw new yt("Error locator degree does not match number of roots");return h}findErrorMagnitudes(l,d){const h=d.length,x=new Int32Array(h),v=this.field;for(let N=0;N<h;N++){const C=v.inverse(d[N]);let I=1;for(let M=0;M<h;M++)if(N!==M){const X=v.multiply(d[M],C),ie=X&1?X&-2:X|1;I=v.multiply(I,ie)}x[N]=v.multiply(l.evaluateAt(C),v.inverse(I)),v.getGeneratorBase()!==0&&(x[N]=v.multiply(x[N],C))}return x}}var He;(function(re){re[re.UPPER=0]="UPPER",re[re.LOWER=1]="LOWER",re[re.MIXED=2]="MIXED",re[re.DIGIT=3]="DIGIT",re[re.PUNCT=4]="PUNCT",re[re.BINARY=5]="BINARY"})(He||(He={}));class mt{decode(l){this.ddata=l;let d=l.getBits(),h=this.extractBits(d),x=this.correctBits(h),v=mt.convertBoolArrayToByteArray(x),N=mt.getEncodedData(x),C=new ze(v,N,null,null);return C.setNumBits(x.length),C}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let d=l.length,h=He.UPPER,x=He.UPPER,v="",N=0;for(;N<d;)if(x===He.BINARY){if(d-N<5)break;let C=mt.readCode(l,N,5);if(N+=5,C===0){if(d-N<11)break;C=mt.readCode(l,N,11)+31,N+=11}for(let I=0;I<C;I++){if(d-N<8){N=d;break}const M=mt.readCode(l,N,8);v+=W.castAsNonUtf8Char(M),N+=8}x=h}else{let C=x===He.DIGIT?4:5;if(d-N<C)break;let I=mt.readCode(l,N,C);N+=C;let M=mt.getCharacter(x,I);M.startsWith("CTRL_")?(h=x,x=mt.getTable(M.charAt(5)),M.charAt(6)==="L"&&(h=x)):(v+=M,x=h)}return v}static getTable(l){switch(l){case"L":return He.LOWER;case"P":return He.PUNCT;case"M":return He.MIXED;case"D":return He.DIGIT;case"B":return He.BINARY;case"U":default:return He.UPPER}}static getCharacter(l,d){switch(l){case He.UPPER:return mt.UPPER_TABLE[d];case He.LOWER:return mt.LOWER_TABLE[d];case He.MIXED:return mt.MIXED_TABLE[d];case He.PUNCT:return mt.PUNCT_TABLE[d];case He.DIGIT:return mt.DIGIT_TABLE[d];default:throw new it("Bad table")}}correctBits(l){let d,h;this.ddata.getNbLayers()<=2?(h=6,d=Ye.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,d=Ye.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,d=Ye.AZTEC_DATA_10):(h=12,d=Ye.AZTEC_DATA_12);let x=this.ddata.getNbDatablocks(),v=l.length/h;if(v<x)throw new R;let N=l.length%h,C=new Int32Array(v);for(let me=0;me<v;me++,N+=h)C[me]=mt.readCode(l,N,h);try{new fe(d).decode(C,v-x)}catch(me){throw new R(me)}let I=(1<<h)-1,M=0;for(let me=0;me<x;me++){let De=C[me];if(De===0||De===I)throw new R;(De===1||De===I-1)&&M++}let X=new Array(x*h-M),ie=0;for(let me=0;me<x;me++){let De=C[me];if(De===1||De===I-1)X.fill(De>1,ie,ie+h-1),ie+=h-1;else for(let de=h-1;de>=0;--de)X[ie++]=(De&1<<de)!==0}return X}extractBits(l){let d=this.ddata.isCompact(),h=this.ddata.getNbLayers(),x=(d?11:14)+h*4,v=new Int32Array(x),N=new Array(this.totalBitsInLayer(h,d));if(d)for(let C=0;C<v.length;C++)v[C]=C;else{let C=x+1+2*D.truncDivision(D.truncDivision(x,2)-1,15),I=x/2,M=D.truncDivision(C,2);for(let X=0;X<I;X++){let ie=X+D.truncDivision(X,15);v[I-X-1]=M-ie-1,v[I+X]=M+ie+1}}for(let C=0,I=0;C<h;C++){let M=(h-C)*4+(d?9:12),X=C*2,ie=x-1-X;for(let me=0;me<M;me++){let De=me*2;for(let de=0;de<2;de++)N[I+De+de]=l.get(v[X+de],v[X+me]),N[I+2*M+De+de]=l.get(v[X+me],v[ie-de]),N[I+4*M+De+de]=l.get(v[ie-de],v[ie-me]),N[I+6*M+De+de]=l.get(v[ie-me],v[X+de])}I+=M*8}return N}static readCode(l,d,h){let x=0;for(let v=d;v<d+h;v++)x<<=1,l[v]&&(x|=1);return x}static readByte(l,d){let h=l.length-d;return h>=8?mt.readCode(l,d,8):mt.readCode(l,d,h)<<8-h}static convertBoolArrayToByteArray(l){let d=new Uint8Array((l.length+7)/8);for(let h=0;h<d.length;h++)d[h]=mt.readByte(l,8*h);return d}totalBitsInLayer(l,d){return((d?88:112)+16*l)*l}}mt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],mt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],mt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],mt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],mt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,d,h,x){const v=l-h,N=d-x;return Math.sqrt(v*v+N*N)}static sum(l){let d=0;for(let h=0,x=l.length;h!==x;h++){const v=l[h];d+=v}return d}}class Ee{static floatToIntBits(l){return l}}Ee.MAX_VALUE=Number.MAX_SAFE_INTEGER;class qe{constructor(l,d){this.x=l,this.y=d}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof qe){const d=l;return this.x===d.x&&this.y===d.y}return!1}hashCode(){return 31*Ee.floatToIntBits(this.x)+Ee.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const d=this.distance(l[0],l[1]),h=this.distance(l[1],l[2]),x=this.distance(l[0],l[2]);let v,N,C;if(h>=d&&h>=x?(N=l[0],v=l[1],C=l[2]):x>=h&&x>=d?(N=l[1],v=l[0],C=l[2]):(N=l[2],v=l[0],C=l[1]),this.crossProductZ(v,N,C)<0){const I=v;v=C,C=I}l[0]=v,l[1]=N,l[2]=C}static distance(l,d){return rt.distance(l.x,l.y,d.x,d.y)}static crossProductZ(l,d,h){const x=d.x,v=d.y;return(h.x-x)*(l.y-v)-(h.y-v)*(l.x-x)}}class Le{constructor(l,d){this.bits=l,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class Nt extends Le{constructor(l,d,h,x,v){super(l,d),this.compact=h,this.nbDatablocks=x,this.nbLayers=v}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class et{constructor(l,d,h,x){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),d==null&&(d=et.INIT_SIZE),h==null&&(h=l.getWidth()/2|0),x==null&&(x=l.getHeight()/2|0);const v=d/2|0;if(this.leftInit=h-v,this.rightInit=h+v,this.upInit=x-v,this.downInit=x+v,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new se}detect(){let l=this.leftInit,d=this.rightInit,h=this.upInit,x=this.downInit,v=!1,N=!0,C=!1,I=!1,M=!1,X=!1,ie=!1;const me=this.width,De=this.height;for(;N;){N=!1;let de=!0;for(;(de||!I)&&d<me;)de=this.containsBlackPoint(h,x,d,!1),de?(d++,N=!0,I=!0):I||d++;if(d>=me){v=!0;break}let Ne=!0;for(;(Ne||!M)&&x<De;)Ne=this.containsBlackPoint(l,d,x,!0),Ne?(x++,N=!0,M=!0):M||x++;if(x>=De){v=!0;break}let Ce=!0;for(;(Ce||!X)&&l>=0;)Ce=this.containsBlackPoint(h,x,l,!1),Ce?(l--,N=!0,X=!0):X||l--;if(l<0){v=!0;break}let $e=!0;for(;($e||!ie)&&h>=0;)$e=this.containsBlackPoint(l,d,h,!0),$e?(h--,N=!0,ie=!0):ie||h--;if(h<0){v=!0;break}N&&(C=!0)}if(!v&&C){const de=d-l;let Ne=null;for(let jt=1;Ne===null&&jt<de;jt++)Ne=this.getBlackPointOnSegment(l,x-jt,l+jt,x);if(Ne==null)throw new se;let Ce=null;for(let jt=1;Ce===null&&jt<de;jt++)Ce=this.getBlackPointOnSegment(l,h+jt,l+jt,h);if(Ce==null)throw new se;let $e=null;for(let jt=1;$e===null&&jt<de;jt++)$e=this.getBlackPointOnSegment(d,h+jt,d-jt,h);if($e==null)throw new se;let vt=null;for(let jt=1;vt===null&&jt<de;jt++)vt=this.getBlackPointOnSegment(d,x-jt,d-jt,x);if(vt==null)throw new se;return this.centerEdges(vt,Ne,$e,Ce)}else throw new se}getBlackPointOnSegment(l,d,h,x){const v=rt.round(rt.distance(l,d,h,x)),N=(h-l)/v,C=(x-d)/v,I=this.image;for(let M=0;M<v;M++){const X=rt.round(l+M*N),ie=rt.round(d+M*C);if(I.get(X,ie))return new qe(X,ie)}return null}centerEdges(l,d,h,x){const v=l.getX(),N=l.getY(),C=d.getX(),I=d.getY(),M=h.getX(),X=h.getY(),ie=x.getX(),me=x.getY(),De=et.CORR;return v<this.width/2?[new qe(ie-De,me+De),new qe(C+De,I+De),new qe(M-De,X-De),new qe(v+De,N-De)]:[new qe(ie+De,me+De),new qe(C+De,I-De),new qe(M-De,X+De),new qe(v-De,N-De)]}containsBlackPoint(l,d,h,x){const v=this.image;if(x){for(let N=l;N<=d;N++)if(v.get(N,h))return!0}else for(let N=l;N<=d;N++)if(v.get(h,N))return!0;return!1}}et.INIT_SIZE=10,et.CORR=1;class wt{static checkAndNudgePoints(l,d){const h=l.getWidth(),x=l.getHeight();let v=!0;for(let N=0;N<d.length&&v;N+=2){const C=Math.floor(d[N]),I=Math.floor(d[N+1]);if(C<-1||C>h||I<-1||I>x)throw new se;v=!1,C===-1?(d[N]=0,v=!0):C===h&&(d[N]=h-1,v=!0),I===-1?(d[N+1]=0,v=!0):I===x&&(d[N+1]=x-1,v=!0)}v=!0;for(let N=d.length-2;N>=0&&v;N-=2){const C=Math.floor(d[N]),I=Math.floor(d[N+1]);if(C<-1||C>h||I<-1||I>x)throw new se;v=!1,C===-1?(d[N]=0,v=!0):C===h&&(d[N]=h-1,v=!0),I===-1?(d[N+1]=0,v=!0):I===x&&(d[N+1]=x-1,v=!0)}}}class Vt{constructor(l,d,h,x,v,N,C,I,M){this.a11=l,this.a21=d,this.a31=h,this.a12=x,this.a22=v,this.a32=N,this.a13=C,this.a23=I,this.a33=M}static quadrilateralToQuadrilateral(l,d,h,x,v,N,C,I,M,X,ie,me,De,de,Ne,Ce){const $e=Vt.quadrilateralToSquare(l,d,h,x,v,N,C,I);return Vt.squareToQuadrilateral(M,X,ie,me,De,de,Ne,Ce).times($e)}transformPoints(l){const d=l.length,h=this.a11,x=this.a12,v=this.a13,N=this.a21,C=this.a22,I=this.a23,M=this.a31,X=this.a32,ie=this.a33;for(let me=0;me<d;me+=2){const De=l[me],de=l[me+1],Ne=v*De+I*de+ie;l[me]=(h*De+N*de+M)/Ne,l[me+1]=(x*De+C*de+X)/Ne}}transformPointsWithValues(l,d){const h=this.a11,x=this.a12,v=this.a13,N=this.a21,C=this.a22,I=this.a23,M=this.a31,X=this.a32,ie=this.a33,me=l.length;for(let De=0;De<me;De++){const de=l[De],Ne=d[De],Ce=v*de+I*Ne+ie;l[De]=(h*de+N*Ne+M)/Ce,d[De]=(x*de+C*Ne+X)/Ce}}static squareToQuadrilateral(l,d,h,x,v,N,C,I){const M=l-h+v-C,X=d-x+N-I;if(M===0&&X===0)return new Vt(h-l,v-h,l,x-d,N-x,d,0,0,1);{const ie=h-v,me=C-v,De=x-N,de=I-N,Ne=ie*de-me*De,Ce=(M*de-me*X)/Ne,$e=(ie*X-M*De)/Ne;return new Vt(h-l+Ce*h,C-l+$e*C,l,x-d+Ce*x,I-d+$e*I,d,Ce,$e,1)}}static quadrilateralToSquare(l,d,h,x,v,N,C,I){return Vt.squareToQuadrilateral(l,d,h,x,v,N,C,I).buildAdjoint()}buildAdjoint(){return new Vt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new Vt(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class rn extends wt{sampleGrid(l,d,h,x,v,N,C,I,M,X,ie,me,De,de,Ne,Ce,$e,vt,jt){const Lt=Vt.quadrilateralToQuadrilateral(x,v,N,C,I,M,X,ie,me,De,de,Ne,Ce,$e,vt,jt);return this.sampleGridWithTransform(l,d,h,Lt)}sampleGridWithTransform(l,d,h,x){if(d<=0||h<=0)throw new se;const v=new ue(d,h),N=new Float32Array(2*d);for(let C=0;C<h;C++){const I=N.length,M=C+.5;for(let X=0;X<I;X+=2)N[X]=X/2+.5,N[X+1]=M;x.transformPoints(N),wt.checkAndNudgePoints(l,N);try{for(let X=0;X<I;X+=2)l.get(Math.floor(N[X]),Math.floor(N[X+1]))&&v.set(X/2,C)}catch{throw new se}}return v}}class dn{static setGridSampler(l){dn.gridSampler=l}static getInstance(){return dn.gridSampler}}dn.gridSampler=new rn;class Qt{constructor(l,d){this.x=l,this.y=d}toResultPoint(){return new qe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Tn{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let d=this.getMatrixCenter(),h=this.getBullsEyeCorners(d);if(l){let N=h[0];h[0]=h[2],h[2]=N}this.extractParameters(h);let x=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),v=this.getMatrixCornerPoints(h);return new Nt(x,v,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new se;let d=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(l[0],l[1],d),this.sampleLine(l[1],l[2],d),this.sampleLine(l[2],l[3],d),this.sampleLine(l[3],l[0],d)]);this.shift=this.getRotation(h,d);let x=0;for(let N=0;N<4;N++){let C=h[(this.shift+N)%4];this.compact?(x<<=7,x+=C>>1&127):(x<<=10,x+=(C>>2&992)+(C>>1&31))}let v=this.getCorrectedParameterData(x,this.compact);this.compact?(this.nbLayers=(v>>6)+1,this.nbDataBlocks=(v&63)+1):(this.nbLayers=(v>>11)+1,this.nbDataBlocks=(v&2047)+1)}getRotation(l,d){let h=0;l.forEach((x,v,N)=>{let C=(x>>d-2<<1)+(x&1);h=(h<<3)+C}),h=((h&1)<<11)+(h>>1);for(let x=0;x<4;x++)if(D.bitCount(h^this.EXPECTED_CORNER_BITS[x])<=2)return x;throw new se}getCorrectedParameterData(l,d){let h,x;d?(h=7,x=2):(h=10,x=4);let v=h-x,N=new Int32Array(h);for(let I=h-1;I>=0;--I)N[I]=l&15,l>>=4;try{new fe(Ye.AZTEC_PARAM).decode(N,v)}catch{throw new se}let C=0;for(let I=0;I<x;I++)C=(C<<4)+N[I];return C}getBullsEyeCorners(l){let d=l,h=l,x=l,v=l,N=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ie=this.getFirstDifferent(d,N,1,-1),me=this.getFirstDifferent(h,N,1,1),De=this.getFirstDifferent(x,N,-1,1),de=this.getFirstDifferent(v,N,-1,-1);if(this.nbCenterLayers>2){let Ne=this.distancePoint(de,ie)*this.nbCenterLayers/(this.distancePoint(v,d)*(this.nbCenterLayers+2));if(Ne<.75||Ne>1.25||!this.isWhiteOrBlackRectangle(ie,me,De,de))break}d=ie,h=me,x=De,v=de,N=!N}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new se;this.compact=this.nbCenterLayers===5;let C=new qe(d.getX()+.5,d.getY()-.5),I=new qe(h.getX()+.5,h.getY()+.5),M=new qe(x.getX()-.5,x.getY()+.5),X=new qe(v.getX()-.5,v.getY()-.5);return this.expandSquare([C,I,M,X],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,d,h,x;try{let C=new et(this.image).detect();l=C[0],d=C[1],h=C[2],x=C[3]}catch{let I=this.image.getWidth()/2,M=this.image.getHeight()/2;l=this.getFirstDifferent(new Qt(I+7,M-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new Qt(I+7,M+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Qt(I-7,M+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new Qt(I-7,M-7),!1,-1,-1).toResultPoint()}let v=rt.round((l.getX()+x.getX()+d.getX()+h.getX())/4),N=rt.round((l.getY()+x.getY()+d.getY()+h.getY())/4);try{let C=new et(this.image,15,v,N).detect();l=C[0],d=C[1],h=C[2],x=C[3]}catch{l=this.getFirstDifferent(new Qt(v+7,N-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new Qt(v+7,N+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Qt(v-7,N+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new Qt(v-7,N-7),!1,-1,-1).toResultPoint()}return v=rt.round((l.getX()+x.getX()+d.getX()+h.getX())/4),N=rt.round((l.getY()+x.getY()+d.getY()+h.getY())/4),new Qt(v,N)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,d,h,x,v){let N=dn.getInstance(),C=this.getDimension(),I=C/2-this.nbCenterLayers,M=C/2+this.nbCenterLayers;return N.sampleGrid(l,C,C,I,I,M,I,M,M,I,M,d.getX(),d.getY(),h.getX(),h.getY(),x.getX(),x.getY(),v.getX(),v.getY())}sampleLine(l,d,h){let x=0,v=this.distanceResultPoint(l,d),N=v/h,C=l.getX(),I=l.getY(),M=N*(d.getX()-l.getX())/v,X=N*(d.getY()-l.getY())/v;for(let ie=0;ie<h;ie++)this.image.get(rt.round(C+ie*M),rt.round(I+ie*X))&&(x|=1<<h-ie-1);return x}isWhiteOrBlackRectangle(l,d,h,x){let v=3;l=new Qt(l.getX()-v,l.getY()+v),d=new Qt(d.getX()-v,d.getY()-v),h=new Qt(h.getX()+v,h.getY()-v),x=new Qt(x.getX()+v,x.getY()+v);let N=this.getColor(x,l);if(N===0)return!1;let C=this.getColor(l,d);return C!==N||(C=this.getColor(d,h),C!==N)?!1:(C=this.getColor(h,x),C===N)}getColor(l,d){let h=this.distancePoint(l,d),x=(d.getX()-l.getX())/h,v=(d.getY()-l.getY())/h,N=0,C=l.getX(),I=l.getY(),M=this.image.get(l.getX(),l.getY()),X=Math.ceil(h);for(let me=0;me<X;me++)C+=x,I+=v,this.image.get(rt.round(C),rt.round(I))!==M&&N++;let ie=N/h;return ie>.1&&ie<.9?0:ie<=.1===M?1:-1}getFirstDifferent(l,d,h,x){let v=l.getX()+h,N=l.getY()+x;for(;this.isValid(v,N)&&this.image.get(v,N)===d;)v+=h,N+=x;for(v-=h,N-=x;this.isValid(v,N)&&this.image.get(v,N)===d;)v+=h;for(v-=h;this.isValid(v,N)&&this.image.get(v,N)===d;)N+=x;return N-=x,new Qt(v,N)}expandSquare(l,d,h){let x=h/(2*d),v=l[0].getX()-l[2].getX(),N=l[0].getY()-l[2].getY(),C=(l[0].getX()+l[2].getX())/2,I=(l[0].getY()+l[2].getY())/2,M=new qe(C+x*v,I+x*N),X=new qe(C-x*v,I-x*N);v=l[1].getX()-l[3].getX(),N=l[1].getY()-l[3].getY(),C=(l[1].getX()+l[3].getX())/2,I=(l[1].getY()+l[3].getY())/2;let ie=new qe(C+x*v,I+x*N),me=new qe(C-x*v,I-x*N);return[M,ie,X,me]}isValid(l,d){return l>=0&&l<this.image.getWidth()&&d>0&&d<this.image.getHeight()}isValidPoint(l){let d=rt.round(l.getX()),h=rt.round(l.getY());return this.isValid(d,h)}distancePoint(l,d){return rt.distance(l.getX(),l.getY(),d.getX(),d.getY())}distanceResultPoint(l,d){return rt.distance(l.getX(),l.getY(),d.getX(),d.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(D.truncDivision(this.nbLayers-4,8)+1)+15}}class Kt{decode(l,d=null){let h=null,x=new Tn(l.getBlackMatrix()),v=null,N=null;try{let X=x.detectMirror(!1);v=X.getPoints(),this.reportFoundResultPoints(d,v),N=new mt().decode(X)}catch(X){h=X}if(N==null)try{let X=x.detectMirror(!0);v=X.getPoints(),this.reportFoundResultPoints(d,v),N=new mt().decode(X)}catch(X){throw h??X}let C=new Q(N.getText(),N.getRawBytes(),N.getNumBits(),v,ce.AZTEC,S.currentTimeMillis()),I=N.getByteSegments();I!=null&&C.putMetadata(Fe.BYTE_SEGMENTS,I);let M=N.getECLevel();return M!=null&&C.putMetadata(Fe.ERROR_CORRECTION_LEVEL,M),C}reportFoundResultPoints(l,d){if(l!=null){let h=l.get(z.NEED_RESULT_POINT_CALLBACK);h!=null&&d.forEach((x,v,N)=>{h.foundPossibleResultPoint(x)})}}reset(){}}class Dr extends Z{constructor(l=500){super(new Kt,l)}}class hn{decode(l,d){try{return this.doDecode(l,d)}catch{if(d&&d.get(z.TRY_HARDER)===!0&&l.isRotateSupported()){const v=l.rotateCounterClockwise(),N=this.doDecode(v,d),C=N.getResultMetadata();let I=270;C!==null&&C.get(Fe.ORIENTATION)===!0&&(I=I+C.get(Fe.ORIENTATION)%360),N.putMetadata(Fe.ORIENTATION,I);const M=N.getResultPoints();if(M!==null){const X=v.getHeight();for(let ie=0;ie<M.length;ie++)M[ie]=new qe(X-M[ie].getY()-1,M[ie].getX())}return N}else throw new se}}reset(){}doDecode(l,d){const h=l.getWidth(),x=l.getHeight();let v=new P(h);const N=d&&d.get(z.TRY_HARDER)===!0,C=Math.max(1,x>>(N?8:5));let I;N?I=x:I=15;const M=Math.trunc(x/2);for(let X=0;X<I;X++){const ie=Math.trunc((X+1)/2),me=(X&1)===0,De=M+C*(me?ie:-ie);if(De<0||De>=x)break;try{v=l.getBlackRow(De,v)}catch{continue}for(let de=0;de<2;de++){if(de===1&&(v.reverse(),d&&d.get(z.NEED_RESULT_POINT_CALLBACK)===!0)){const Ne=new Map;d.forEach((Ce,$e)=>Ne.set($e,Ce)),Ne.delete(z.NEED_RESULT_POINT_CALLBACK),d=Ne}try{const Ne=this.decodeRow(De,v,d);if(de===1){Ne.putMetadata(Fe.ORIENTATION,180);const Ce=Ne.getResultPoints();Ce!==null&&(Ce[0]=new qe(h-Ce[0].getX()-1,Ce[0].getY()),Ce[1]=new qe(h-Ce[1].getX()-1,Ce[1].getY()))}return Ne}catch{}}}throw new se}static recordPattern(l,d,h){const x=h.length;for(let M=0;M<x;M++)h[M]=0;const v=l.getSize();if(d>=v)throw new se;let N=!l.get(d),C=0,I=d;for(;I<v;){if(l.get(I)!==N)h[C]++;else{if(++C===x)break;h[C]=1,N=!N}I++}if(!(C===x||C===x-1&&I===v))throw new se}static recordPatternInReverse(l,d,h){let x=h.length,v=l.get(d);for(;d>0&&x>=0;)l.get(--d)!==v&&(x--,v=!v);if(x>=0)throw new se;hn.recordPattern(l,d+1,h)}static patternMatchVariance(l,d,h){const x=l.length;let v=0,N=0;for(let M=0;M<x;M++)v+=l[M],N+=d[M];if(v<N)return Number.POSITIVE_INFINITY;const C=v/N;h*=C;let I=0;for(let M=0;M<x;M++){const X=l[M],ie=d[M]*C,me=X>ie?X-ie:ie-X;if(me>h)return Number.POSITIVE_INFINITY;I+=me}return I/v}}class Ue extends hn{static findStartPattern(l){const d=l.getSize(),h=l.getNextSet(0);let x=0,v=Int32Array.from([0,0,0,0,0,0]),N=h,C=!1;const I=6;for(let M=h;M<d;M++)if(l.get(M)!==C)v[x]++;else{if(x===I-1){let X=Ue.MAX_AVG_VARIANCE,ie=-1;for(let me=Ue.CODE_START_A;me<=Ue.CODE_START_C;me++){const De=hn.patternMatchVariance(v,Ue.CODE_PATTERNS[me],Ue.MAX_INDIVIDUAL_VARIANCE);De<X&&(X=De,ie=me)}if(ie>=0&&l.isRange(Math.max(0,N-(M-N)/2),N,!1))return Int32Array.from([N,M,ie]);N+=v[0]+v[1],v=v.slice(2,v.length-1),v[x-1]=0,v[x]=0,x--}else x++;v[x]=1,C=!C}throw new se}static decodeCode(l,d,h){hn.recordPattern(l,h,d);let x=Ue.MAX_AVG_VARIANCE,v=-1;for(let N=0;N<Ue.CODE_PATTERNS.length;N++){const C=Ue.CODE_PATTERNS[N],I=this.patternMatchVariance(d,C,Ue.MAX_INDIVIDUAL_VARIANCE);I<x&&(x=I,v=N)}if(v>=0)return v;throw new se}decodeRow(l,d,h){const x=h&&h.get(z.ASSUME_GS1)===!0,v=Ue.findStartPattern(d),N=v[2];let C=0;const I=new Uint8Array(20);I[C++]=N;let M;switch(N){case Ue.CODE_START_A:M=Ue.CODE_CODE_A;break;case Ue.CODE_START_B:M=Ue.CODE_CODE_B;break;case Ue.CODE_START_C:M=Ue.CODE_CODE_C;break;default:throw new R}let X=!1,ie=!1,me="",De=v[0],de=v[1];const Ne=Int32Array.from([0,0,0,0,0,0]);let Ce=0,$e=0,vt=N,jt=0,Lt=!0,un=!1,Rn=!1;for(;!X;){const rr=ie;switch(ie=!1,Ce=$e,$e=Ue.decodeCode(d,Ne,de),I[C++]=$e,$e!==Ue.CODE_STOP&&(Lt=!0),$e!==Ue.CODE_STOP&&(jt++,vt+=jt*$e),De=de,de+=Ne.reduce((Es,us)=>Es+us,0),$e){case Ue.CODE_START_A:case Ue.CODE_START_B:case Ue.CODE_START_C:throw new R}switch(M){case Ue.CODE_CODE_A:if($e<64)Rn===un?me+=String.fromCharCode(" ".charCodeAt(0)+$e):me+=String.fromCharCode(" ".charCodeAt(0)+$e+128),Rn=!1;else if($e<96)Rn===un?me+=String.fromCharCode($e-64):me+=String.fromCharCode($e+64),Rn=!1;else switch($e!==Ue.CODE_STOP&&(Lt=!1),$e){case Ue.CODE_FNC_1:x&&(me.length===0?me+="]C1":me+=String.fromCharCode(29));break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_A:!un&&Rn?(un=!0,Rn=!1):un&&Rn?(un=!1,Rn=!1):Rn=!0;break;case Ue.CODE_SHIFT:ie=!0,M=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_B:M=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_C:M=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:X=!0;break}break;case Ue.CODE_CODE_B:if($e<96)Rn===un?me+=String.fromCharCode(" ".charCodeAt(0)+$e):me+=String.fromCharCode(" ".charCodeAt(0)+$e+128),Rn=!1;else switch($e!==Ue.CODE_STOP&&(Lt=!1),$e){case Ue.CODE_FNC_1:x&&(me.length===0?me+="]C1":me+=String.fromCharCode(29));break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_B:!un&&Rn?(un=!0,Rn=!1):un&&Rn?(un=!1,Rn=!1):Rn=!0;break;case Ue.CODE_SHIFT:ie=!0,M=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_A:M=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_C:M=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:X=!0;break}break;case Ue.CODE_CODE_C:if($e<100)$e<10&&(me+="0"),me+=$e;else switch($e!==Ue.CODE_STOP&&(Lt=!1),$e){case Ue.CODE_FNC_1:x&&(me.length===0?me+="]C1":me+=String.fromCharCode(29));break;case Ue.CODE_CODE_A:M=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_B:M=Ue.CODE_CODE_B;break;case Ue.CODE_STOP:X=!0;break}break}rr&&(M=M===Ue.CODE_CODE_A?Ue.CODE_CODE_B:Ue.CODE_CODE_A)}const Fi=de-De;if(de=d.getNextUnset(de),!d.isRange(de,Math.min(d.getSize(),de+(de-De)/2),!1))throw new se;if(vt-=jt*Ce,vt%103!==Ce)throw new y;const Pr=me.length;if(Pr===0)throw new se;Pr>0&&Lt&&(M===Ue.CODE_CODE_C?me=me.substring(0,Pr-2):me=me.substring(0,Pr-1));const di=(v[1]+v[0])/2,wr=De+Fi/2,Wr=I.length,Si=new Uint8Array(Wr);for(let rr=0;rr<Wr;rr++)Si[rr]=I[rr];const Ta=[new qe(di,l),new qe(wr,l)];return new Q(me,Si,0,Ta,ce.CODE_128,new Date().getTime())}}Ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ue.MAX_AVG_VARIANCE=.25,Ue.MAX_INDIVIDUAL_VARIANCE=.7,Ue.CODE_SHIFT=98,Ue.CODE_CODE_C=99,Ue.CODE_CODE_B=100,Ue.CODE_CODE_A=101,Ue.CODE_FNC_1=102,Ue.CODE_FNC_2=97,Ue.CODE_FNC_3=96,Ue.CODE_FNC_4_A=101,Ue.CODE_FNC_4_B=100,Ue.CODE_START_A=103,Ue.CODE_START_B=104,Ue.CODE_START_C=105,Ue.CODE_STOP=106;class $t extends hn{constructor(l=!1,d=!1){super(),this.usingCheckDigit=l,this.extendedMode=d,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,d,h){let x=this.counters;x.fill(0),this.decodeRowResult="";let v=$t.findAsteriskPattern(d,x),N=d.getNextSet(v[1]),C=d.getSize(),I,M;do{$t.recordPattern(d,N,x);let Ne=$t.toNarrowWidePattern(x);if(Ne<0)throw new se;I=$t.patternToChar(Ne),this.decodeRowResult+=I,M=N;for(let Ce of x)N+=Ce;N=d.getNextSet(N)}while(I!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let X=0;for(let Ne of x)X+=Ne;let ie=N-M-X;if(N!==C&&ie*2<X)throw new se;if(this.usingCheckDigit){let Ne=this.decodeRowResult.length-1,Ce=0;for(let $e=0;$e<Ne;$e++)Ce+=$t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($e));if(this.decodeRowResult.charAt(Ne)!==$t.ALPHABET_STRING.charAt(Ce%43))throw new y;this.decodeRowResult=this.decodeRowResult.substring(0,Ne)}if(this.decodeRowResult.length===0)throw new se;let me;this.extendedMode?me=$t.decodeExtended(this.decodeRowResult):me=this.decodeRowResult;let De=(v[1]+v[0])/2,de=M+X/2;return new Q(me,null,0,[new qe(De,l),new qe(de,l)],ce.CODE_39,new Date().getTime())}static findAsteriskPattern(l,d){let h=l.getSize(),x=l.getNextSet(0),v=0,N=x,C=!1,I=d.length;for(let M=x;M<h;M++)if(l.get(M)!==C)d[v]++;else{if(v===I-1){if(this.toNarrowWidePattern(d)===$t.ASTERISK_ENCODING&&l.isRange(Math.max(0,N-Math.floor((M-N)/2)),N,!1))return[N,M];N+=d[0]+d[1],d.copyWithin(0,2,2+v-1),d[v-1]=0,d[v]=0,v--}else v++;d[v]=1,C=!C}throw new se}static toNarrowWidePattern(l){let d=l.length,h=0,x;do{let v=2147483647;for(let I of l)I<v&&I>h&&(v=I);h=v,x=0;let N=0,C=0;for(let I=0;I<d;I++){let M=l[I];M>h&&(C|=1<<d-1-I,x++,N+=M)}if(x===3){for(let I=0;I<d&&x>0;I++){let M=l[I];if(M>h&&(x--,M*2>=N))return-1}return C}}while(x>3);return-1}static patternToChar(l){for(let d=0;d<$t.CHARACTER_ENCODINGS.length;d++)if($t.CHARACTER_ENCODINGS[d]===l)return $t.ALPHABET_STRING.charAt(d);if(l===$t.ASTERISK_ENCODING)return"*";throw new se}static decodeExtended(l){let d=l.length,h="";for(let x=0;x<d;x++){let v=l.charAt(x);if(v==="+"||v==="$"||v==="%"||v==="/"){let N=l.charAt(x+1),C="\0";switch(v){case"+":if(N>="A"&&N<="Z")C=String.fromCharCode(N.charCodeAt(0)+32);else throw new R;break;case"$":if(N>="A"&&N<="Z")C=String.fromCharCode(N.charCodeAt(0)-64);else throw new R;break;case"%":if(N>="A"&&N<="E")C=String.fromCharCode(N.charCodeAt(0)-38);else if(N>="F"&&N<="J")C=String.fromCharCode(N.charCodeAt(0)-11);else if(N>="K"&&N<="O")C=String.fromCharCode(N.charCodeAt(0)+16);else if(N>="P"&&N<="T")C=String.fromCharCode(N.charCodeAt(0)+43);else if(N==="U")C="\0";else if(N==="V")C="@";else if(N==="W")C="`";else if(N==="X"||N==="Y"||N==="Z")C="";else throw new R;break;case"/":if(N>="A"&&N<="O")C=String.fromCharCode(N.charCodeAt(0)-32);else if(N==="Z")C=":";else throw new R;break}h+=C,x++}else h+=v}return h}}$t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",$t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],$t.ASTERISK_ENCODING=148;class nn extends hn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,d,h){let x=this.decodeStart(d),v=this.decodeEnd(d),N=new J;nn.decodeMiddle(d,x[1],v[0],N);let C=N.toString(),I=null;h!=null&&(I=h.get(z.ALLOWED_LENGTHS)),I==null&&(I=nn.DEFAULT_ALLOWED_LENGTHS);let M=C.length,X=!1,ie=0;for(let de of I){if(M===de){X=!0;break}de>ie&&(ie=de)}if(!X&&M>ie&&(X=!0),!X)throw new R;const me=[new qe(x[1],l),new qe(v[0],l)];return new Q(C,null,0,me,ce.ITF,new Date().getTime())}static decodeMiddle(l,d,h,x){let v=new Int32Array(10),N=new Int32Array(5),C=new Int32Array(5);for(v.fill(0),N.fill(0),C.fill(0);d<h;){hn.recordPattern(l,d,v);for(let M=0;M<5;M++){let X=2*M;N[M]=v[X],C[M]=v[X+1]}let I=nn.decodeDigit(N);x.append(I.toString()),I=this.decodeDigit(C),x.append(I.toString()),v.forEach(function(M){d+=M})}}decodeStart(l){let d=nn.skipWhiteSpace(l),h=nn.findGuardPattern(l,d,nn.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(l,h[0]),h}validateQuietZone(l,d){let h=this.narrowLineWidth*10;h=h<d?h:d;for(let x=d-1;h>0&&x>=0&&!l.get(x);x--)h--;if(h!==0)throw new se}static skipWhiteSpace(l){const d=l.getSize(),h=l.getNextSet(0);if(h===d)throw new se;return h}decodeEnd(l){l.reverse();try{let d=nn.skipWhiteSpace(l),h;try{h=nn.findGuardPattern(l,d,nn.END_PATTERN_REVERSED[0])}catch(v){v instanceof se&&(h=nn.findGuardPattern(l,d,nn.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,h[0]);let x=h[0];return h[0]=l.getSize()-h[1],h[1]=l.getSize()-x,h}finally{l.reverse()}}static findGuardPattern(l,d,h){let x=h.length,v=new Int32Array(x),N=l.getSize(),C=!1,I=0,M=d;v.fill(0);for(let X=d;X<N;X++)if(l.get(X)!==C)v[I]++;else{if(I===x-1){if(hn.patternMatchVariance(v,h,nn.MAX_INDIVIDUAL_VARIANCE)<nn.MAX_AVG_VARIANCE)return[M,X];M+=v[0]+v[1],S.arraycopy(v,2,v,0,I-1),v[I-1]=0,v[I]=0,I--}else I++;v[I]=1,C=!C}throw new se}static decodeDigit(l){let d=nn.MAX_AVG_VARIANCE,h=-1,x=nn.PATTERNS.length;for(let v=0;v<x;v++){let N=nn.PATTERNS[v],C=hn.patternMatchVariance(l,N,nn.MAX_INDIVIDUAL_VARIANCE);C<d?(d=C,h=v):C===d&&(h=-1)}if(h>=0)return h%10;throw new se}}nn.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nn.MAX_AVG_VARIANCE=.38,nn.MAX_INDIVIDUAL_VARIANCE=.5,nn.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nn.START_PATTERN=Int32Array.from([1,1,1,1]),nn.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Dn extends hn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let d=!1,h,x=0,v=Int32Array.from([0,0,0]);for(;!d;){v=Int32Array.from([0,0,0]),h=Dn.findGuardPattern(l,x,!1,this.START_END_PATTERN,v);let N=h[0];x=h[1];let C=N-(x-N);C>=0&&(d=l.isRange(C,N,!1))}return h}static checkChecksum(l){return Dn.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let d=l.length;if(d===0)return!1;let h=parseInt(l.charAt(d-1),10);return Dn.getStandardUPCEANChecksum(l.substring(0,d-1))===h}static getStandardUPCEANChecksum(l){let d=l.length,h=0;for(let x=d-1;x>=0;x-=2){let v=l.charAt(x).charCodeAt(0)-"0".charCodeAt(0);if(v<0||v>9)throw new R;h+=v}h*=3;for(let x=d-2;x>=0;x-=2){let v=l.charAt(x).charCodeAt(0)-"0".charCodeAt(0);if(v<0||v>9)throw new R;h+=v}return(1e3-h)%10}static decodeEnd(l,d){return Dn.findGuardPattern(l,d,!1,Dn.START_END_PATTERN,new Int32Array(Dn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,d,h,x){return this.findGuardPattern(l,d,h,x,new Int32Array(x.length))}static findGuardPattern(l,d,h,x,v){let N=l.getSize();d=h?l.getNextUnset(d):l.getNextSet(d);let C=0,I=d,M=x.length,X=h;for(let ie=d;ie<N;ie++)if(l.get(ie)!==X)v[C]++;else{if(C===M-1){if(hn.patternMatchVariance(v,x,Dn.MAX_INDIVIDUAL_VARIANCE)<Dn.MAX_AVG_VARIANCE)return Int32Array.from([I,ie]);I+=v[0]+v[1];let me=v.slice(2,v.length-1);for(let De=0;De<C-1;De++)v[De]=me[De];v[C-1]=0,v[C]=0,C--}else C++;v[C]=1,X=!X}throw new se}static decodeDigit(l,d,h,x){this.recordPattern(l,h,d);let v=this.MAX_AVG_VARIANCE,N=-1,C=x.length;for(let I=0;I<C;I++){let M=x[I],X=hn.patternMatchVariance(d,M,Dn.MAX_INDIVIDUAL_VARIANCE);X<v&&(v=X,N=I)}if(N>=0)return N;throw new se}}Dn.MAX_AVG_VARIANCE=.48,Dn.MAX_INDIVIDUAL_VARIANCE=.7,Dn.START_END_PATTERN=Int32Array.from([1,1,1]),Dn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Dn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Nn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,d,h){let x=this.decodeRowStringBuffer,v=this.decodeMiddle(d,h,x),N=x.toString(),C=Nn.parseExtensionString(N),I=[new qe((h[0]+h[1])/2,l),new qe(v,l)],M=new Q(N,null,0,I,ce.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&M.putAllMetadata(C),M}decodeMiddle(l,d,h){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let v=l.getSize(),N=d[1],C=0;for(let M=0;M<5&&N<v;M++){let X=Dn.decodeDigit(l,x,N,Dn.L_AND_G_PATTERNS);h+=String.fromCharCode("0".charCodeAt(0)+X%10);for(let ie of x)N+=ie;X>=10&&(C|=1<<4-M),M!==4&&(N=l.getNextSet(N),N=l.getNextUnset(N))}if(h.length!==5)throw new se;let I=this.determineCheckDigit(C);if(Nn.extensionChecksum(h.toString())!==I)throw new se;return N}static extensionChecksum(l){let d=l.length,h=0;for(let x=d-2;x>=0;x-=2)h+=l.charAt(x).charCodeAt(0)-"0".charCodeAt(0);h*=3;for(let x=d-1;x>=0;x-=2)h+=l.charAt(x).charCodeAt(0)-"0".charCodeAt(0);return h*=3,h%10}determineCheckDigit(l){for(let d=0;d<10;d++)if(l===this.CHECK_DIGIT_ENCODINGS[d])return d;throw new se}static parseExtensionString(l){if(l.length!==5)return null;let d=Nn.parseExtension5String(l);return d==null?null:new Map([[Fe.SUGGESTED_PRICE,d]])}static parseExtension5String(l){let d;switch(l.charAt(0)){case"0":d="";break;case"5":d="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}d="";break;default:d="";break}let h=parseInt(l.substring(1)),x=(h/100).toString(),v=h%100,N=v<10?"0"+v:v.toString();return d+x+"."+N}}class yi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,d,h){let x=this.decodeRowStringBuffer,v=this.decodeMiddle(d,h,x),N=x.toString(),C=yi.parseExtensionString(N),I=[new qe((h[0]+h[1])/2,l),new qe(v,l)],M=new Q(N,null,0,I,ce.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&M.putAllMetadata(C),M}decodeMiddle(l,d,h){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let v=l.getSize(),N=d[1],C=0;for(let I=0;I<2&&N<v;I++){let M=Dn.decodeDigit(l,x,N,Dn.L_AND_G_PATTERNS);h+=String.fromCharCode("0".charCodeAt(0)+M%10);for(let X of x)N+=X;M>=10&&(C|=1<<1-I),I!==1&&(N=l.getNextSet(N),N=l.getNextUnset(N))}if(h.length!==2)throw new se;if(parseInt(h.toString())%4!==C)throw new se;return N}static parseExtensionString(l){return l.length!==2?null:new Map([[Fe.ISSUE_NUMBER,parseInt(l)]])}}class jr{static decodeRow(l,d,h){let x=Dn.findGuardPattern(d,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Nn().decodeRow(l,d,x)}catch{return new yi().decodeRow(l,d,x)}}}jr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Bn extends Dn{constructor(){super(),this.decodeRowStringBuffer="",Bn.L_AND_G_PATTERNS=Bn.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let d=Bn.L_PATTERNS[l-10],h=new Int32Array(d.length);for(let x=0;x<d.length;x++)h[x]=d[d.length-x-1];Bn.L_AND_G_PATTERNS[l]=h}}decodeRow(l,d,h){let x=Bn.findStartGuardPattern(d),v=h==null?null:h.get(z.NEED_RESULT_POINT_CALLBACK);if(v!=null){const Lt=new qe((x[0]+x[1])/2,l);v.foundPossibleResultPoint(Lt)}let N=this.decodeMiddle(d,x,this.decodeRowStringBuffer),C=N.rowOffset,I=N.resultString;if(v!=null){const Lt=new qe(C,l);v.foundPossibleResultPoint(Lt)}let M=this.decodeEnd(d,C);if(v!=null){const Lt=new qe((M[0]+M[1])/2,l);v.foundPossibleResultPoint(Lt)}let X=M[1],ie=X+(X-M[0]);if(ie>=d.getSize()||!d.isRange(X,ie,!1))throw new se;let me=I.toString();if(me.length<8)throw new R;if(!Bn.checkChecksum(me))throw new y;let De=(x[1]+x[0])/2,de=(M[1]+M[0])/2,Ne=this.getBarcodeFormat(),Ce=[new qe(De,l),new qe(de,l)],$e=new Q(me,null,0,Ce,Ne,new Date().getTime()),vt=0;try{let Lt=jr.decodeRow(l,d,M[1]);$e.putMetadata(Fe.UPC_EAN_EXTENSION,Lt.getText()),$e.putAllMetadata(Lt.getResultMetadata()),$e.addResultPoints(Lt.getResultPoints()),vt=Lt.getText().length}catch{}let jt=h==null?null:h.get(z.ALLOWED_EAN_EXTENSIONS);if(jt!=null){let Lt=!1;for(let un in jt)if(vt.toString()===un){Lt=!0;break}if(!Lt)throw new se}return $e}decodeEnd(l,d){return Bn.findGuardPattern(l,d,!1,Bn.START_END_PATTERN,new Int32Array(Bn.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return Bn.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let d=l.length;if(d===0)return!1;let h=parseInt(l.charAt(d-1),10);return Bn.getStandardUPCEANChecksum(l.substring(0,d-1))===h}static getStandardUPCEANChecksum(l){let d=l.length,h=0;for(let x=d-1;x>=0;x-=2){let v=l.charAt(x).charCodeAt(0)-"0".charCodeAt(0);if(v<0||v>9)throw new R;h+=v}h*=3;for(let x=d-2;x>=0;x-=2){let v=l.charAt(x).charCodeAt(0)-"0".charCodeAt(0);if(v<0||v>9)throw new R;h+=v}return(1e3-h)%10}}class ea extends Bn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,d,h){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let v=l.getSize(),N=d[1],C=0;for(let M=0;M<6&&N<v;M++){let X=Bn.decodeDigit(l,x,N,Bn.L_AND_G_PATTERNS);h+=String.fromCharCode("0".charCodeAt(0)+X%10);for(let ie of x)N+=ie;X>=10&&(C|=1<<5-M)}h=ea.determineFirstDigit(h,C),N=Bn.findGuardPattern(l,N,!0,Bn.MIDDLE_PATTERN,new Int32Array(Bn.MIDDLE_PATTERN.length).fill(0))[1];for(let M=0;M<6&&N<v;M++){let X=Bn.decodeDigit(l,x,N,Bn.L_PATTERNS);h+=String.fromCharCode("0".charCodeAt(0)+X);for(let ie of x)N+=ie}return{rowOffset:N,resultString:h}}getBarcodeFormat(){return ce.EAN_13}static determineFirstDigit(l,d){for(let h=0;h<10;h++)if(d===this.FIRST_DIGIT_ENCODINGS[h])return l=String.fromCharCode("0".charCodeAt(0)+h)+l,l;throw new se}}ea.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Or extends Bn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,d,h){const x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let v=l.getSize(),N=d[1];for(let I=0;I<4&&N<v;I++){let M=Bn.decodeDigit(l,x,N,Bn.L_PATTERNS);h+=String.fromCharCode("0".charCodeAt(0)+M);for(let X of x)N+=X}N=Bn.findGuardPattern(l,N,!0,Bn.MIDDLE_PATTERN,new Int32Array(Bn.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<4&&N<v;I++){let M=Bn.decodeDigit(l,x,N,Bn.L_PATTERNS);h+=String.fromCharCode("0".charCodeAt(0)+M);for(let X of x)N+=X}return{rowOffset:N,resultString:h}}getBarcodeFormat(){return ce.EAN_8}}class Mn extends Bn{constructor(){super(...arguments),this.ean13Reader=new ea}getBarcodeFormat(){return ce.UPC_A}decode(l,d){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,d,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,d,h))}decodeMiddle(l,d,h){return this.ean13Reader.decodeMiddle(l,d,h)}maybeReturnResult(l){let d=l.getText();if(d.charAt(0)==="0"){let h=new Q(d.substring(1),null,null,l.getResultPoints(),ce.UPC_A);return l.getResultMetadata()!=null&&h.putAllMetadata(l.getResultMetadata()),h}else throw new se}reset(){this.ean13Reader.reset()}}class Gn extends Bn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,d,h){const x=this.decodeMiddleCounters.map(M=>M);x[0]=0,x[1]=0,x[2]=0,x[3]=0;const v=l.getSize();let N=d[1],C=0;for(let M=0;M<6&&N<v;M++){const X=Gn.decodeDigit(l,x,N,Gn.L_AND_G_PATTERNS);h+=String.fromCharCode("0".charCodeAt(0)+X%10);for(let ie of x)N+=ie;X>=10&&(C|=1<<5-M)}let I=Gn.determineNumSysAndCheckDigit(h,C);return{rowOffset:N,resultString:I}}decodeEnd(l,d){return Gn.findGuardPatternWithoutCounters(l,d,!0,Gn.MIDDLE_END_PATTERN)}checkChecksum(l){return Bn.checkChecksum(Gn.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,d){for(let h=0;h<=1;h++)for(let x=0;x<10;x++)if(d===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][x]){let v=String.fromCharCode("0".charCodeAt(0)+h),N=String.fromCharCode("0".charCodeAt(0)+x);return v+l+N}throw se.getNotFoundInstance()}getBarcodeFormat(){return ce.UPC_E}static convertUPCEtoUPCA(l){const d=l.slice(1,7).split("").map(v=>v.charCodeAt(0)),h=new J;h.append(l.charAt(0));let x=d[5];switch(x){case 0:case 1:case 2:h.appendChars(d,0,2),h.append(x),h.append("0000"),h.appendChars(d,2,3);break;case 3:h.appendChars(d,0,3),h.append("00000"),h.appendChars(d,3,2);break;case 4:h.appendChars(d,0,4),h.append("00000"),h.append(d[4]);break;default:h.appendChars(d,0,5),h.append("0000"),h.append(x);break}return l.length>=8&&h.append(l.charAt(7)),h.toString()}}Gn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class qs extends hn{constructor(l){super();let d=l==null?null:l.get(z.POSSIBLE_FORMATS),h=[];r(d)?(h.push(new ea),h.push(new Mn),h.push(new Or),h.push(new Gn)):(d.indexOf(ce.EAN_13)>-1&&h.push(new ea),d.indexOf(ce.UPC_A)>-1&&h.push(new Mn),d.indexOf(ce.EAN_8)>-1&&h.push(new Or),d.indexOf(ce.UPC_E)>-1&&h.push(new Gn)),this.readers=h}decodeRow(l,d,h){for(let x of this.readers)try{const v=x.decodeRow(l,d,h),N=v.getBarcodeFormat()===ce.EAN_13&&v.getText().charAt(0)==="0",C=h==null?null:h.get(z.POSSIBLE_FORMATS),I=C==null||C.includes(ce.UPC_A);if(N&&I){const M=v.getRawBytes(),X=new Q(v.getText().substring(1),M,M?M.length:null,v.getResultPoints(),ce.UPC_A);return X.putAllMetadata(v.getResultMetadata()),X}return v}catch{}throw new se}reset(){for(let l of this.readers)l.reset()}}class hr extends hn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,d){for(let h=0;h<d.length;h++)if(hn.patternMatchVariance(l,d[h],hr.MAX_INDIVIDUAL_VARIANCE)<hr.MAX_AVG_VARIANCE)return h;throw new se}static count(l){return rt.sum(new Int32Array(l))}static increment(l,d){let h=0,x=d[0];for(let v=1;v<l.length;v++)d[v]>x&&(x=d[v],h=v);l[h]++}static decrement(l,d){let h=0,x=d[0];for(let v=1;v<l.length;v++)d[v]<x&&(x=d[v],h=v);l[h]--}static isFinderPattern(l){let d=l[0]+l[1],h=d+l[2]+l[3],x=d/h;if(x>=hr.MIN_FINDER_PATTERN_RATIO&&x<=hr.MAX_FINDER_PATTERN_RATIO){let v=Number.MAX_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER;for(let C of l)C>N&&(N=C),C<v&&(v=C);return N<10*v}return!1}}hr.MAX_AVG_VARIANCE=.2,hr.MAX_INDIVIDUAL_VARIANCE=.45,hr.MIN_FINDER_PATTERN_RATIO=9.5/12,hr.MAX_FINDER_PATTERN_RATIO=12.5/14;class ha{constructor(l,d){this.value=l,this.checksumPortion=d}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof ha))return!1;const d=l;return this.value===d.value&&this.checksumPortion===d.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Pa{constructor(l,d,h,x,v){this.value=l,this.startEnd=d,this.value=l,this.startEnd=d,this.resultPoints=new Array,this.resultPoints.push(new qe(h,v)),this.resultPoints.push(new qe(x,v))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Pa))return!1;const d=l;return this.value===d.value}hashCode(){return this.value}}class vn{constructor(){}static getRSSvalue(l,d,h){let x=0;for(let I of l)x+=I;let v=0,N=0,C=l.length;for(let I=0;I<C-1;I++){let M;for(M=1,N|=1<<I;M<l[I];M++,N&=~(1<<I)){let X=vn.combins(x-M-1,C-I-2);if(h&&N===0&&x-M-(C-I-1)>=C-I-1&&(X-=vn.combins(x-M-(C-I),C-I-2)),C-I-1>1){let ie=0;for(let me=x-M-(C-I-2);me>d;me--)ie+=vn.combins(x-M-me-1,C-I-3);X-=ie*(C-1-I)}else x-M>d&&X--;v+=X}x-=M}return v}static combins(l,d){let h,x;l-d>d?(x=d,h=l-d):(x=l-d,h=d);let v=1,N=1;for(let C=l;C>h;C--)v*=C,N<=x&&(v/=N,N++);for(;N<=x;)v/=N,N++;return v}}class Fa{static buildBitArray(l){let d=l.length*2-1;l[l.length-1].getRightChar()==null&&(d-=1);let h=12*d,x=new P(h),v=0,C=l[0].getRightChar().getValue();for(let I=11;I>=0;--I)C&1<<I&&x.set(v),v++;for(let I=1;I<l.length;++I){let M=l[I],X=M.getLeftChar().getValue();for(let ie=11;ie>=0;--ie)X&1<<ie&&x.set(v),v++;if(M.getRightChar()!=null){let ie=M.getRightChar().getValue();for(let me=11;me>=0;--me)ie&1<<me&&x.set(v),v++}}return x}}class Oi{constructor(l,d){d?this.decodedInformation=null:(this.finished=l,this.decodedInformation=d)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ri{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class gr extends Ri{constructor(l,d){super(l),this.value=d}getValue(){return this.value}isFNC1(){return this.value===gr.FNC1}}gr.FNC1="$";class Rr extends Ri{constructor(l,d,h){super(l),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=d}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class he extends Ri{constructor(l,d,h){if(super(l),d<0||d>10||h<0||h>10)throw new R;this.firstDigit=d,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===he.FNC1}isSecondDigitFNC1(){return this.secondDigit===he.FNC1}isAnyFNC1(){return this.firstDigit===he.FNC1||this.secondDigit===he.FNC1}}he.FNC1=10;class ye{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new se;let d=l.substring(0,2);for(let v of ye.TWO_DIGIT_DATA_LENGTH)if(v[0]===d)return v[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(2,v[2],l):ye.processFixedAI(2,v[1],l);if(l.length<3)throw new se;let h=l.substring(0,3);for(let v of ye.THREE_DIGIT_DATA_LENGTH)if(v[0]===h)return v[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(3,v[2],l):ye.processFixedAI(3,v[1],l);for(let v of ye.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(v[0]===h)return v[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(4,v[2],l):ye.processFixedAI(4,v[1],l);if(l.length<4)throw new se;let x=l.substring(0,4);for(let v of ye.FOUR_DIGIT_DATA_LENGTH)if(v[0]===x)return v[1]===ye.VARIABLE_LENGTH?ye.processVariableAI(4,v[2],l):ye.processFixedAI(4,v[1],l);throw new se}static processFixedAI(l,d,h){if(h.length<l)throw new se;let x=h.substring(0,l);if(h.length<l+d)throw new se;let v=h.substring(l,l+d),N=h.substring(l+d),C="("+x+")"+v,I=ye.parseFieldsInGeneralPurpose(N);return I==null?C:C+I}static processVariableAI(l,d,h){let x=h.substring(0,l),v;h.length<l+d?v=h.length:v=l+d;let N=h.substring(l,v),C=h.substring(v),I="("+x+")"+N,M=ye.parseFieldsInGeneralPurpose(C);return M==null?I:I+M}}ye.VARIABLE_LENGTH=[],ye.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ye.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ye.VARIABLE_LENGTH,20],["22",ye.VARIABLE_LENGTH,29],["30",ye.VARIABLE_LENGTH,8],["37",ye.VARIABLE_LENGTH,8],["90",ye.VARIABLE_LENGTH,30],["91",ye.VARIABLE_LENGTH,30],["92",ye.VARIABLE_LENGTH,30],["93",ye.VARIABLE_LENGTH,30],["94",ye.VARIABLE_LENGTH,30],["95",ye.VARIABLE_LENGTH,30],["96",ye.VARIABLE_LENGTH,30],["97",ye.VARIABLE_LENGTH,3],["98",ye.VARIABLE_LENGTH,30],["99",ye.VARIABLE_LENGTH,30]],ye.THREE_DIGIT_DATA_LENGTH=[["240",ye.VARIABLE_LENGTH,30],["241",ye.VARIABLE_LENGTH,30],["242",ye.VARIABLE_LENGTH,6],["250",ye.VARIABLE_LENGTH,30],["251",ye.VARIABLE_LENGTH,30],["253",ye.VARIABLE_LENGTH,17],["254",ye.VARIABLE_LENGTH,20],["400",ye.VARIABLE_LENGTH,30],["401",ye.VARIABLE_LENGTH,30],["402",17],["403",ye.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ye.VARIABLE_LENGTH,20],["421",ye.VARIABLE_LENGTH,15],["422",3],["423",ye.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ye.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ye.VARIABLE_LENGTH,15],["391",ye.VARIABLE_LENGTH,18],["392",ye.VARIABLE_LENGTH,15],["393",ye.VARIABLE_LENGTH,18],["703",ye.VARIABLE_LENGTH,30]],ye.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ye.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ye.VARIABLE_LENGTH,20],["8003",ye.VARIABLE_LENGTH,30],["8004",ye.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ye.VARIABLE_LENGTH,30],["8008",ye.VARIABLE_LENGTH,12],["8018",18],["8020",ye.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ye.VARIABLE_LENGTH,70],["8200",ye.VARIABLE_LENGTH,70]];class je{constructor(l){this.buffer=new J,this.information=l}decodeAllCodes(l,d){let h=d,x=null;do{let v=this.decodeGeneralPurposeField(h,x),N=ye.parseFieldsInGeneralPurpose(v.getNewString());if(N!=null&&l.append(N),v.isRemaining()?x=""+v.getRemainingValue():x=null,h===v.getNewPosition())break;h=v.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let d=l;d<l+3;++d)if(this.information.get(d))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let v=this.extractNumericValueFromBitArray(l,4);return v===0?new he(this.information.getSize(),he.FNC1,he.FNC1):new he(this.information.getSize(),v-1,he.FNC1)}let d=this.extractNumericValueFromBitArray(l,7),h=(d-8)/11,x=(d-8)%11;return new he(l+7,h,x)}extractNumericValueFromBitArray(l,d){return je.extractNumericValueFromBitArray(this.information,l,d)}static extractNumericValueFromBitArray(l,d,h){let x=0;for(let v=0;v<h;++v)l.get(d+v)&&(x|=1<<h-v-1);return x}decodeGeneralPurposeField(l,d){this.buffer.setLengthToZero(),d!=null&&this.buffer.append(d),this.current.setPosition(l);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new Rr(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new Rr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,d;do{let h=this.current.getPosition();if(this.current.isAlpha()?(d=this.parseAlphaBlock(),l=d.isFinished()):this.current.isIsoIec646()?(d=this.parseIsoIec646Block(),l=d.isFinished()):(d=this.parseNumericBlock(),l=d.isFinished()),!(h!==this.current.getPosition())&&!l)break}while(!l);return d.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let d;return l.isSecondDigitFNC1()?d=new Rr(this.current.getPosition(),this.buffer.toString()):d=new Rr(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new Oi(!0,d)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let d=new Rr(this.current.getPosition(),this.buffer.toString());return new Oi(!0,d)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Oi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let d=new Rr(this.current.getPosition(),this.buffer.toString());return new Oi(!0,d)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Oi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let d=new Rr(this.current.getPosition(),this.buffer.toString());return new Oi(!0,d)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Oi(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,5);if(d>=5&&d<16)return!0;if(l+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,7);if(h>=64&&h<116)return!0;if(l+8>this.information.getSize())return!1;let x=this.extractNumericValueFromBitArray(l,8);return x>=232&&x<253}decodeIsoIec646(l){let d=this.extractNumericValueFromBitArray(l,5);if(d===15)return new gr(l+5,gr.FNC1);if(d>=5&&d<15)return new gr(l+5,"0"+(d-5));let h=this.extractNumericValueFromBitArray(l,7);if(h>=64&&h<90)return new gr(l+7,""+(h+1));if(h>=90&&h<116)return new gr(l+7,""+(h+7));let x=this.extractNumericValueFromBitArray(l,8),v;switch(x){case 232:v="!";break;case 233:v='"';break;case 234:v="%";break;case 235:v="&";break;case 236:v="'";break;case 237:v="(";break;case 238:v=")";break;case 239:v="*";break;case 240:v="+";break;case 241:v=",";break;case 242:v="-";break;case 243:v=".";break;case 244:v="/";break;case 245:v=":";break;case 246:v=";";break;case 247:v="<";break;case 248:v="=";break;case 249:v=">";break;case 250:v="?";break;case 251:v="_";break;case 252:v=" ";break;default:throw new R}return new gr(l+8,v)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,5);if(d>=5&&d<16)return!0;if(l+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,6);return h>=16&&h<63}decodeAlphanumeric(l){let d=this.extractNumericValueFromBitArray(l,5);if(d===15)return new gr(l+5,gr.FNC1);if(d>=5&&d<15)return new gr(l+5,"0"+(d-5));let h=this.extractNumericValueFromBitArray(l,6);if(h>=32&&h<58)return new gr(l+6,""+(h+33));let x;switch(h){case 58:x="*";break;case 59:x=",";break;case 60:x="-";break;case 61:x=".";break;case 62:x="/";break;default:throw new it("Decoding invalid alphanumeric value: "+h)}return new gr(l+6,x)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let d=0;d<5&&d+l<this.information.getSize();++d)if(d===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+d))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let d=l;d<l+3;++d)if(this.information.get(d))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let d=0;d<4&&d+l<this.information.getSize();++d)if(this.information.get(l+d))return!1;return!0}}class Te{constructor(l){this.information=l,this.generalDecoder=new je(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Oe extends Te{constructor(l){super(l)}encodeCompressedGtin(l,d){l.append("(01)");let h=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,d,h)}encodeCompressedGtinWithoutAI(l,d,h){for(let x=0;x<4;++x){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(d+10*x,10);v/100===0&&l.append("0"),v/10===0&&l.append("0"),l.append(v)}Oe.appendCheckDigit(l,h)}static appendCheckDigit(l,d){let h=0;for(let x=0;x<13;x++){let v=l.charAt(x+d).charCodeAt(0)-"0".charCodeAt(0);h+=x&1?v:3*v}h=10-h%10,h===10&&(h=0),l.append(h)}}Oe.GTIN_SIZE=40;class Pe extends Oe{constructor(l){super(l)}parseInformation(){let l=new J;l.append("(01)");let d=l.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(Pe.HEADER_SIZE,4);return l.append(h),this.encodeCompressedGtinWithoutAI(l,Pe.HEADER_SIZE+4,d),this.getGeneralDecoder().decodeAllCodes(l,Pe.HEADER_SIZE+44)}}Pe.HEADER_SIZE=1+1+2;class ot extends Te{constructor(l){super(l)}parseInformation(){let l=new J;return this.getGeneralDecoder().decodeAllCodes(l,ot.HEADER_SIZE)}}ot.HEADER_SIZE=2+1+2;class _t extends Oe{constructor(l){super(l)}encodeCompressedWeight(l,d,h){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(d,h);this.addWeightCode(l,x);let v=this.checkWeight(x),N=1e5;for(let C=0;C<5;++C)v/N===0&&l.append("0"),N/=10;l.append(v)}}class at extends _t{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=at.HEADER_SIZE+_t.GTIN_SIZE+at.WEIGHT_SIZE)throw new se;let l=new J;return this.encodeCompressedGtin(l,at.HEADER_SIZE),this.encodeCompressedWeight(l,at.HEADER_SIZE+_t.GTIN_SIZE,at.WEIGHT_SIZE),l.toString()}}at.HEADER_SIZE=4+1,at.WEIGHT_SIZE=15;class ft extends at{constructor(l){super(l)}addWeightCode(l,d){l.append("(3103)")}checkWeight(l){return l}}class xt extends at{constructor(l){super(l)}addWeightCode(l,d){d<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class Ft extends Oe{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Ft.HEADER_SIZE+Oe.GTIN_SIZE)throw new se;let l=new J;this.encodeCompressedGtin(l,Ft.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(Ft.HEADER_SIZE+Oe.GTIN_SIZE,Ft.LAST_DIGIT_SIZE);l.append("(392"),l.append(d),l.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(Ft.HEADER_SIZE+Oe.GTIN_SIZE+Ft.LAST_DIGIT_SIZE,null);return l.append(h.getNewString()),l.toString()}}Ft.HEADER_SIZE=5+1+2,Ft.LAST_DIGIT_SIZE=2;class Wt extends Oe{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Wt.HEADER_SIZE+Oe.GTIN_SIZE)throw new se;let l=new J;this.encodeCompressedGtin(l,Wt.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(Wt.HEADER_SIZE+Oe.GTIN_SIZE,Wt.LAST_DIGIT_SIZE);l.append("(393"),l.append(d),l.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Wt.HEADER_SIZE+Oe.GTIN_SIZE+Wt.LAST_DIGIT_SIZE,Wt.FIRST_THREE_DIGITS_SIZE);h/100==0&&l.append("0"),h/10==0&&l.append("0"),l.append(h);let x=this.getGeneralDecoder().decodeGeneralPurposeField(Wt.HEADER_SIZE+Oe.GTIN_SIZE+Wt.LAST_DIGIT_SIZE+Wt.FIRST_THREE_DIGITS_SIZE,null);return l.append(x.getNewString()),l.toString()}}Wt.HEADER_SIZE=5+1+2,Wt.LAST_DIGIT_SIZE=2,Wt.FIRST_THREE_DIGITS_SIZE=10;class zt extends _t{constructor(l,d,h){super(l),this.dateCode=h,this.firstAIdigits=d}parseInformation(){if(this.getInformation().getSize()!=zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE+zt.DATE_SIZE)throw new se;let l=new J;return this.encodeCompressedGtin(l,zt.HEADER_SIZE),this.encodeCompressedWeight(l,zt.HEADER_SIZE+zt.GTIN_SIZE,zt.WEIGHT_SIZE),this.encodeCompressedDate(l,zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,d){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(d,zt.DATE_SIZE);if(h==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let x=h%32;h/=32;let v=h%12+1;h/=12;let N=h;N/10==0&&l.append("0"),l.append(N),v/10==0&&l.append("0"),l.append(v),x/10==0&&l.append("0"),l.append(x)}addWeightCode(l,d){l.append("("),l.append(this.firstAIdigits),l.append(d/1e5),l.append(")")}checkWeight(l){return l%1e5}}zt.HEADER_SIZE=7+1,zt.WEIGHT_SIZE=20,zt.DATE_SIZE=16;function Yt(re){try{if(re.get(1))return new Pe(re);if(!re.get(2))return new ot(re);switch(je.extractNumericValueFromBitArray(re,1,4)){case 4:return new ft(re);case 5:return new xt(re)}switch(je.extractNumericValueFromBitArray(re,1,5)){case 12:return new Ft(re);case 13:return new Wt(re)}switch(je.extractNumericValueFromBitArray(re,1,7)){case 56:return new zt(re,"310","11");case 57:return new zt(re,"320","11");case 58:return new zt(re,"310","13");case 59:return new zt(re,"320","13");case 60:return new zt(re,"310","15");case 61:return new zt(re,"320","15");case 62:return new zt(re,"310","17");case 63:return new zt(re,"320","17")}}catch(l){throw console.log(l),new it("unknown decoder: "+re)}}class Zt{constructor(l,d,h,x){this.leftchar=l,this.rightchar=d,this.finderpattern=h,this.maybeLast=x}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,d){return l instanceof Zt?Zt.equalsOrNull(l.leftchar,d.leftchar)&&Zt.equalsOrNull(l.rightchar,d.rightchar)&&Zt.equalsOrNull(l.finderpattern,d.finderpattern):!1}static equalsOrNull(l,d){return l===null?d===null:Zt.equals(l,d)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class On{constructor(l,d,h){this.pairs=l,this.rowNumber=d,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,d){return l instanceof On?this.checkEqualitity(l,d)&&l.wasReversed===d.wasReversed:!1}checkEqualitity(l,d){if(!l||!d)return;let h;return l.forEach((x,v)=>{d.forEach(N=>{x.getLeftChar().getValue()===N.getLeftChar().getValue()&&x.getRightChar().getValue()===N.getRightChar().getValue()&&x.getFinderPatter().getValue()===N.getFinderPatter().getValue()&&(h=!0)})}),h}}class Ct extends hr{constructor(l){super(...arguments),this.pairs=new Array(Ct.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,d,h){this.pairs.length=0,this.startFromEven=!1;try{return Ct.constructResult(this.decodeRow2pairs(l,d))}catch(x){this.verbose&&console.log(x)}return this.pairs.length=0,this.startFromEven=!0,Ct.constructResult(this.decodeRow2pairs(l,d))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,d){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(d,this.pairs,l))}catch(v){if(v instanceof se){if(!this.pairs.length)throw new se;h=!0}}if(this.checkChecksum())return this.pairs;let x;if(this.rows.length?x=!0:x=!1,this.storeRow(l,!1),x){let v=this.checkRowsBoolean(!1);if(v!=null||(v=this.checkRowsBoolean(!0),v!=null))return v}throw new se}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let d=null;try{d=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return l&&(this.rows=this.rows.reverse()),d}checkRows(l,d){for(let h=d;h<this.rows.length;h++){let x=this.rows[h];this.pairs.length=0;for(let N of l)this.pairs.push(N.getPairs());if(this.pairs.push(x.getPairs()),!Ct.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let v=new Array(l);v.push(x);try{return this.checkRows(v,h+1)}catch(N){this.verbose&&console.log(N)}}throw new se}static isValidSequence(l){for(let d of Ct.FINDER_PATTERN_SEQUENCES){if(l.length>d.length)continue;let h=!0;for(let x=0;x<l.length;x++)if(l[x].getFinderPattern().getValue()!=d[x]){h=!1;break}if(h)return!0}return!1}storeRow(l,d){let h=0,x=!1,v=!1;for(;h<this.rows.length;){let N=this.rows[h];if(N.getRowNumber()>l){v=N.isEquivalent(this.pairs);break}x=N.isEquivalent(this.pairs),h++}v||x||Ct.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new On(this.pairs,l,d)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,d){for(let h of d)if(h.getPairs().length!==l.length){for(let x of h.getPairs())for(let v of l)if(Zt.equals(x,v))break}}static isPartialRow(l,d){for(let h of d){let x=!0;for(let v of l){let N=!1;for(let C of h.getPairs())if(v.equals(C)){N=!0;break}if(!N){x=!1;break}}if(x)return!0}return!1}getRows(){return this.rows}static constructResult(l){let d=Fa.buildBitArray(l),x=Yt(d).parseInformation(),v=l[0].getFinderPattern().getResultPoints(),N=l[l.length-1].getFinderPattern().getResultPoints(),C=[v[0],v[1],N[0],N[1]];return new Q(x,null,null,C,ce.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),d=l.getLeftChar(),h=l.getRightChar();if(h==null)return!1;let x=h.getChecksumPortion(),v=2;for(let C=1;C<this.pairs.size();++C){let I=this.pairs.get(C);x+=I.getLeftChar().getChecksumPortion(),v++;let M=I.getRightChar();M!=null&&(x+=M.getChecksumPortion(),v++)}return x%=211,211*(v-4)+x==d.getValue()}static getNextSecondBar(l,d){let h;return l.get(d)?(h=l.getNextUnset(d),h=l.getNextSet(h)):(h=l.getNextSet(d),h=l.getNextUnset(h)),h}retrieveNextPair(l,d,h){let x=d.length%2==0;this.startFromEven&&(x=!x);let v,N=!0,C=-1;do this.findNextPair(l,d,C),v=this.parseFoundFinderPattern(l,h,x),v==null?C=Ct.getNextSecondBar(l,this.startEnd[0]):N=!1;while(N);let I=this.decodeDataCharacter(l,v,x,!0);if(!this.isEmptyPair(d)&&d[d.length-1].mustBeLast())throw new se;let M;try{M=this.decodeDataCharacter(l,v,x,!1)}catch(X){M=null,this.verbose&&console.log(X)}return new Zt(I,M,v,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,d,h){let x=this.getDecodeFinderCounters();x[0]=0,x[1]=0,x[2]=0,x[3]=0;let v=l.getSize(),N;h>=0?N=h:this.isEmptyPair(d)?N=0:N=d[d.length-1].getFinderPattern().getStartEnd()[1];let C=d.length%2!=0;this.startFromEven&&(C=!C);let I=!1;for(;N<v&&(I=!l.get(N),!!I);)N++;let M=0,X=N;for(let ie=N;ie<v;ie++)if(l.get(ie)!=I)x[M]++;else{if(M==3){if(C&&Ct.reverseCounters(x),Ct.isFinderPattern(x)){this.startEnd[0]=X,this.startEnd[1]=ie;return}C&&Ct.reverseCounters(x),X+=x[0]+x[1],x[0]=x[2],x[1]=x[3],x[2]=0,x[3]=0,M--}else M++;x[M]=1,I=!I}throw new se}static reverseCounters(l){let d=l.length;for(let h=0;h<d/2;++h){let x=l[h];l[h]=l[d-h-1],l[d-h-1]=x}}parseFoundFinderPattern(l,d,h){let x,v,N;if(h){let M=this.startEnd[0]-1;for(;M>=0&&!l.get(M);)M--;M++,x=this.startEnd[0]-M,v=M,N=this.startEnd[1]}else v=this.startEnd[0],N=l.getNextUnset(this.startEnd[1]+1),x=N-this.startEnd[1];let C=this.getDecodeFinderCounters();S.arraycopy(C,0,C,1,C.length-1),C[0]=x;let I;try{I=this.parseFinderValue(C,Ct.FINDER_PATTERNS)}catch{return null}return new Pa(I,[v,N],v,N,d)}decodeDataCharacter(l,d,h,x){let v=this.getDataCharacterCounters();for(let wr=0;wr<v.length;wr++)v[wr]=0;if(x)Ct.recordPatternInReverse(l,d.getStartEnd()[0],v);else{Ct.recordPattern(l,d.getStartEnd()[1],v);for(let wr=0,Wr=v.length-1;wr<Wr;wr++,Wr--){let Si=v[wr];v[wr]=v[Wr],v[Wr]=Si}}let N=17,C=rt.sum(new Int32Array(v))/N,I=(d.getStartEnd()[1]-d.getStartEnd()[0])/15;if(Math.abs(C-I)/I>.3)throw new se;let M=this.getOddCounts(),X=this.getEvenCounts(),ie=this.getOddRoundingErrors(),me=this.getEvenRoundingErrors();for(let wr=0;wr<v.length;wr++){let Wr=1*v[wr]/C,Si=Wr+.5;if(Si<1){if(Wr<.3)throw new se;Si=1}else if(Si>8){if(Wr>8.7)throw new se;Si=8}let Ta=wr/2;wr&1?(X[Ta]=Si,me[Ta]=Wr-Si):(M[Ta]=Si,ie[Ta]=Wr-Si)}this.adjustOddEvenCounts(N);let De=4*d.getValue()+(h?0:2)+(x?0:1)-1,de=0,Ne=0;for(let wr=M.length-1;wr>=0;wr--){if(Ct.isNotA1left(d,h,x)){let Wr=Ct.WEIGHTS[De][2*wr];Ne+=M[wr]*Wr}de+=M[wr]}let Ce=0;for(let wr=X.length-1;wr>=0;wr--)if(Ct.isNotA1left(d,h,x)){let Wr=Ct.WEIGHTS[De][2*wr+1];Ce+=X[wr]*Wr}let $e=Ne+Ce;if(de&1||de>13||de<4)throw new se;let vt=(13-de)/2,jt=Ct.SYMBOL_WIDEST[vt],Lt=9-jt,un=vn.getRSSvalue(M,jt,!0),Rn=vn.getRSSvalue(X,Lt,!1),Fi=Ct.EVEN_TOTAL_SUBSET[vt],Pr=Ct.GSUM[vt],di=un*Fi+Rn+Pr;return new ha(di,$e)}static isNotA1left(l,d,h){return!(l.getValue()==0&&d&&h)}adjustOddEvenCounts(l){let d=rt.sum(new Int32Array(this.getOddCounts())),h=rt.sum(new Int32Array(this.getEvenCounts())),x=!1,v=!1;d>13?v=!0:d<4&&(x=!0);let N=!1,C=!1;h>13?C=!0:h<4&&(N=!0);let I=d+h-l,M=(d&1)==1,X=(h&1)==0;if(I==1)if(M){if(X)throw new se;v=!0}else{if(!X)throw new se;C=!0}else if(I==-1)if(M){if(X)throw new se;x=!0}else{if(!X)throw new se;N=!0}else if(I==0){if(M){if(!X)throw new se;d<h?(x=!0,C=!0):(v=!0,N=!0)}else if(X)throw new se}else throw new se;if(x){if(v)throw new se;Ct.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&Ct.decrement(this.getOddCounts(),this.getOddRoundingErrors()),N){if(C)throw new se;Ct.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Ct.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ct.SYMBOL_WIDEST=[7,5,4,3,1],Ct.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ct.GSUM=[0,348,1388,2948,3988],Ct.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ct.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ct.FINDER_PAT_A=0,Ct.FINDER_PAT_B=1,Ct.FINDER_PAT_C=2,Ct.FINDER_PAT_D=3,Ct.FINDER_PAT_E=4,Ct.FINDER_PAT_F=5,Ct.FINDER_PATTERN_SEQUENCES=[[Ct.FINDER_PAT_A,Ct.FINDER_PAT_A],[Ct.FINDER_PAT_A,Ct.FINDER_PAT_B,Ct.FINDER_PAT_B],[Ct.FINDER_PAT_A,Ct.FINDER_PAT_C,Ct.FINDER_PAT_B,Ct.FINDER_PAT_D],[Ct.FINDER_PAT_A,Ct.FINDER_PAT_E,Ct.FINDER_PAT_B,Ct.FINDER_PAT_D,Ct.FINDER_PAT_C],[Ct.FINDER_PAT_A,Ct.FINDER_PAT_E,Ct.FINDER_PAT_B,Ct.FINDER_PAT_D,Ct.FINDER_PAT_D,Ct.FINDER_PAT_F],[Ct.FINDER_PAT_A,Ct.FINDER_PAT_E,Ct.FINDER_PAT_B,Ct.FINDER_PAT_D,Ct.FINDER_PAT_E,Ct.FINDER_PAT_F,Ct.FINDER_PAT_F],[Ct.FINDER_PAT_A,Ct.FINDER_PAT_A,Ct.FINDER_PAT_B,Ct.FINDER_PAT_B,Ct.FINDER_PAT_C,Ct.FINDER_PAT_C,Ct.FINDER_PAT_D,Ct.FINDER_PAT_D],[Ct.FINDER_PAT_A,Ct.FINDER_PAT_A,Ct.FINDER_PAT_B,Ct.FINDER_PAT_B,Ct.FINDER_PAT_C,Ct.FINDER_PAT_C,Ct.FINDER_PAT_D,Ct.FINDER_PAT_E,Ct.FINDER_PAT_E],[Ct.FINDER_PAT_A,Ct.FINDER_PAT_A,Ct.FINDER_PAT_B,Ct.FINDER_PAT_B,Ct.FINDER_PAT_C,Ct.FINDER_PAT_C,Ct.FINDER_PAT_D,Ct.FINDER_PAT_E,Ct.FINDER_PAT_F,Ct.FINDER_PAT_F],[Ct.FINDER_PAT_A,Ct.FINDER_PAT_A,Ct.FINDER_PAT_B,Ct.FINDER_PAT_B,Ct.FINDER_PAT_C,Ct.FINDER_PAT_D,Ct.FINDER_PAT_D,Ct.FINDER_PAT_E,Ct.FINDER_PAT_E,Ct.FINDER_PAT_F,Ct.FINDER_PAT_F]],Ct.MAX_PAIRS=11;class Mr extends ha{constructor(l,d,h){super(l,d),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Xn extends hr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,d,h){const x=this.decodePair(d,!1,l,h);Xn.addOrTally(this.possibleLeftPairs,x),d.reverse();let v=this.decodePair(d,!0,l,h);Xn.addOrTally(this.possibleRightPairs,v),d.reverse();for(let N of this.possibleLeftPairs)if(N.getCount()>1){for(let C of this.possibleRightPairs)if(C.getCount()>1&&Xn.checkChecksum(N,C))return Xn.constructResult(N,C)}throw new se}static addOrTally(l,d){if(d==null)return;let h=!1;for(let x of l)if(x.getValue()===d.getValue()){x.incrementCount(),h=!0;break}h||l.push(d)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,d){let h=4537077*l.getValue()+d.getValue(),x=new String(h).toString(),v=new J;for(let M=13-x.length;M>0;M--)v.append("0");v.append(x);let N=0;for(let M=0;M<13;M++){let X=v.charAt(M).charCodeAt(0)-"0".charCodeAt(0);N+=M&1?X:3*X}N=10-N%10,N===10&&(N=0),v.append(N.toString());let C=l.getFinderPattern().getResultPoints(),I=d.getFinderPattern().getResultPoints();return new Q(v.toString(),null,0,[C[0],C[1],I[0],I[1]],ce.RSS_14,new Date().getTime())}static checkChecksum(l,d){let h=(l.getChecksumPortion()+16*d.getChecksumPortion())%79,x=9*l.getFinderPattern().getValue()+d.getFinderPattern().getValue();return x>72&&x--,x>8&&x--,h===x}decodePair(l,d,h,x){try{let v=this.findFinderPattern(l,d),N=this.parseFoundFinderPattern(l,h,d,v),C=x==null?null:x.get(z.NEED_RESULT_POINT_CALLBACK);if(C!=null){let X=(v[0]+v[1])/2;d&&(X=l.getSize()-1-X),C.foundPossibleResultPoint(new qe(X,h))}let I=this.decodeDataCharacter(l,N,!0),M=this.decodeDataCharacter(l,N,!1);return new Mr(1597*I.getValue()+M.getValue(),I.getChecksumPortion()+4*M.getChecksumPortion(),N)}catch{return null}}decodeDataCharacter(l,d,h){let x=this.getDataCharacterCounters();for(let Ce=0;Ce<x.length;Ce++)x[Ce]=0;if(h)hn.recordPatternInReverse(l,d.getStartEnd()[0],x);else{hn.recordPattern(l,d.getStartEnd()[1]+1,x);for(let Ce=0,$e=x.length-1;Ce<$e;Ce++,$e--){let vt=x[Ce];x[Ce]=x[$e],x[$e]=vt}}let v=h?16:15,N=rt.sum(new Int32Array(x))/v,C=this.getOddCounts(),I=this.getEvenCounts(),M=this.getOddRoundingErrors(),X=this.getEvenRoundingErrors();for(let Ce=0;Ce<x.length;Ce++){let $e=x[Ce]/N,vt=Math.floor($e+.5);vt<1?vt=1:vt>8&&(vt=8);let jt=Math.floor(Ce/2);Ce&1?(I[jt]=vt,X[jt]=$e-vt):(C[jt]=vt,M[jt]=$e-vt)}this.adjustOddEvenCounts(h,v);let ie=0,me=0;for(let Ce=C.length-1;Ce>=0;Ce--)me*=9,me+=C[Ce],ie+=C[Ce];let De=0,de=0;for(let Ce=I.length-1;Ce>=0;Ce--)De*=9,De+=I[Ce],de+=I[Ce];let Ne=me+3*De;if(h){if(ie&1||ie>12||ie<4)throw new se;let Ce=(12-ie)/2,$e=Xn.OUTSIDE_ODD_WIDEST[Ce],vt=9-$e,jt=vn.getRSSvalue(C,$e,!1),Lt=vn.getRSSvalue(I,vt,!0),un=Xn.OUTSIDE_EVEN_TOTAL_SUBSET[Ce],Rn=Xn.OUTSIDE_GSUM[Ce];return new ha(jt*un+Lt+Rn,Ne)}else{if(de&1||de>10||de<4)throw new se;let Ce=(10-de)/2,$e=Xn.INSIDE_ODD_WIDEST[Ce],vt=9-$e,jt=vn.getRSSvalue(C,$e,!0),Lt=vn.getRSSvalue(I,vt,!1),un=Xn.INSIDE_ODD_TOTAL_SUBSET[Ce],Rn=Xn.INSIDE_GSUM[Ce];return new ha(Lt*un+jt+Rn,Ne)}}findFinderPattern(l,d){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let x=l.getSize(),v=!1,N=0;for(;N<x&&(v=!l.get(N),d!==v);)N++;let C=0,I=N;for(let M=N;M<x;M++)if(l.get(M)!==v)h[C]++;else{if(C===3){if(hr.isFinderPattern(h))return[I,M];I+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,v=!v}throw new se}parseFoundFinderPattern(l,d,h,x){let v=l.get(x[0]),N=x[0]-1;for(;N>=0&&v!==l.get(N);)N--;N++;const C=x[0]-N,I=this.getDecodeFinderCounters(),M=new Int32Array(I.length);S.arraycopy(I,0,M,1,I.length-1),M[0]=C;const X=this.parseFinderValue(M,Xn.FINDER_PATTERNS);let ie=N,me=x[1];return h&&(ie=l.getSize()-1-ie,me=l.getSize()-1-me),new Pa(X,[N,x[1]],ie,me,d)}adjustOddEvenCounts(l,d){let h=rt.sum(new Int32Array(this.getOddCounts())),x=rt.sum(new Int32Array(this.getEvenCounts())),v=!1,N=!1,C=!1,I=!1;l?(h>12?N=!0:h<4&&(v=!0),x>12?I=!0:x<4&&(C=!0)):(h>11?N=!0:h<5&&(v=!0),x>10?I=!0:x<4&&(C=!0));let M=h+x-d,X=(h&1)===(l?1:0),ie=(x&1)===1;if(M===1)if(X){if(ie)throw new se;N=!0}else{if(!ie)throw new se;I=!0}else if(M===-1)if(X){if(ie)throw new se;v=!0}else{if(!ie)throw new se;C=!0}else if(M===0){if(X){if(!ie)throw new se;h<x?(v=!0,I=!0):(N=!0,C=!0)}else if(ie)throw new se}else throw new se;if(v){if(N)throw new se;hr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(N&&hr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(I)throw new se;hr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}I&&hr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Xn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Xn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Xn.OUTSIDE_GSUM=[0,161,961,2015,2715],Xn.INSIDE_GSUM=[0,336,1036,1516],Xn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Xn.INSIDE_ODD_WIDEST=[2,4,6,8],Xn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class pa extends hn{constructor(l,d){super(),this.readers=[],this.verbose=d===!0;const h=l?l.get(z.POSSIBLE_FORMATS):null,x=l&&l.get(z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(ce.EAN_13)||h.includes(ce.UPC_A)||h.includes(ce.EAN_8)||h.includes(ce.UPC_E))&&this.readers.push(new qs(l)),h.includes(ce.CODE_39)&&this.readers.push(new $t(x)),h.includes(ce.CODE_128)&&this.readers.push(new Ue),h.includes(ce.ITF)&&this.readers.push(new nn),h.includes(ce.RSS_14)&&this.readers.push(new Xn),h.includes(ce.RSS_EXPANDED)&&this.readers.push(new Ct(this.verbose))):(this.readers.push(new qs(l)),this.readers.push(new $t),this.readers.push(new qs(l)),this.readers.push(new Ue),this.readers.push(new nn),this.readers.push(new Xn),this.readers.push(new Ct(this.verbose)))}decodeRow(l,d,h){for(let x=0;x<this.readers.length;x++)try{return this.readers[x].decodeRow(l,d,h)}catch{}throw new se}reset(){this.readers.forEach(l=>l.reset())}}class co extends Z{constructor(l=500,d){super(new pa(d),l,d)}}class er{constructor(l,d,h){this.ecCodewords=l,this.ecBlocks=[d],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Qn{constructor(l,d){this.count=l,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class $n{constructor(l,d,h,x,v,N){this.versionNumber=l,this.symbolSizeRows=d,this.symbolSizeColumns=h,this.dataRegionSizeRows=x,this.dataRegionSizeColumns=v,this.ecBlocks=N;let C=0;const I=N.getECCodewords(),M=N.getECBlocks();for(let X of M)C+=X.getCount()*(X.getDataCodewords()+I);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,d){if(l&1||d&1)throw new R;for(let h of $n.VERSIONS)if(h.symbolSizeRows===l&&h.symbolSizeColumns===d)return h;throw new R}toString(){return""+this.versionNumber}static buildVersions(){return[new $n(1,10,10,8,8,new er(5,new Qn(1,3))),new $n(2,12,12,10,10,new er(7,new Qn(1,5))),new $n(3,14,14,12,12,new er(10,new Qn(1,8))),new $n(4,16,16,14,14,new er(12,new Qn(1,12))),new $n(5,18,18,16,16,new er(14,new Qn(1,18))),new $n(6,20,20,18,18,new er(18,new Qn(1,22))),new $n(7,22,22,20,20,new er(20,new Qn(1,30))),new $n(8,24,24,22,22,new er(24,new Qn(1,36))),new $n(9,26,26,24,24,new er(28,new Qn(1,44))),new $n(10,32,32,14,14,new er(36,new Qn(1,62))),new $n(11,36,36,16,16,new er(42,new Qn(1,86))),new $n(12,40,40,18,18,new er(48,new Qn(1,114))),new $n(13,44,44,20,20,new er(56,new Qn(1,144))),new $n(14,48,48,22,22,new er(68,new Qn(1,174))),new $n(15,52,52,24,24,new er(42,new Qn(2,102))),new $n(16,64,64,14,14,new er(56,new Qn(2,140))),new $n(17,72,72,16,16,new er(36,new Qn(4,92))),new $n(18,80,80,18,18,new er(48,new Qn(4,114))),new $n(19,88,88,20,20,new er(56,new Qn(4,144))),new $n(20,96,96,22,22,new er(68,new Qn(4,174))),new $n(21,104,104,24,24,new er(56,new Qn(6,136))),new $n(22,120,120,18,18,new er(68,new Qn(6,175))),new $n(23,132,132,20,20,new er(62,new Qn(8,163))),new $n(24,144,144,22,22,new er(62,new Qn(8,156),new Qn(2,155))),new $n(25,8,18,6,16,new er(7,new Qn(1,5))),new $n(26,8,32,6,14,new er(11,new Qn(1,10))),new $n(27,12,26,10,24,new er(14,new Qn(1,16))),new $n(28,12,36,10,16,new er(18,new Qn(1,22))),new $n(29,16,36,14,16,new er(24,new Qn(1,32))),new $n(30,16,48,14,22,new er(28,new Qn(1,49)))]}}$n.VERSIONS=$n.buildVersions();class Ba{constructor(l){const d=l.getHeight();if(d<8||d>144||d&1)throw new R;this.version=Ba.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new ue(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const d=l.getHeight(),h=l.getWidth();return $n.getVersionForDimensions(d,h)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let d=0,h=4,x=0;const v=this.mappingBitMatrix.getHeight(),N=this.mappingBitMatrix.getWidth();let C=!1,I=!1,M=!1,X=!1;do if(h===v&&x===0&&!C)l[d++]=this.readCorner1(v,N)&255,h-=2,x+=2,C=!0;else if(h===v-2&&x===0&&N&3&&!I)l[d++]=this.readCorner2(v,N)&255,h-=2,x+=2,I=!0;else if(h===v+4&&x===2&&!(N&7)&&!M)l[d++]=this.readCorner3(v,N)&255,h-=2,x+=2,M=!0;else if(h===v-2&&x===0&&(N&7)===4&&!X)l[d++]=this.readCorner4(v,N)&255,h-=2,x+=2,X=!0;else{do h<v&&x>=0&&!this.readMappingMatrix.get(x,h)&&(l[d++]=this.readUtah(h,x,v,N)&255),h-=2,x+=2;while(h>=0&&x<N);h+=1,x+=3;do h>=0&&x<N&&!this.readMappingMatrix.get(x,h)&&(l[d++]=this.readUtah(h,x,v,N)&255),h+=2,x-=2;while(h<v&&x>=0);h+=3,x+=1}while(h<v||x<N);if(d!==this.version.getTotalCodewords())throw new R;return l}readModule(l,d,h,x){return l<0&&(l+=h,d+=4-(h+4&7)),d<0&&(d+=x,l+=4-(x+4&7)),this.readMappingMatrix.set(d,l),this.mappingBitMatrix.get(d,l)}readUtah(l,d,h,x){let v=0;return this.readModule(l-2,d-2,h,x)&&(v|=1),v<<=1,this.readModule(l-2,d-1,h,x)&&(v|=1),v<<=1,this.readModule(l-1,d-2,h,x)&&(v|=1),v<<=1,this.readModule(l-1,d-1,h,x)&&(v|=1),v<<=1,this.readModule(l-1,d,h,x)&&(v|=1),v<<=1,this.readModule(l,d-2,h,x)&&(v|=1),v<<=1,this.readModule(l,d-1,h,x)&&(v|=1),v<<=1,this.readModule(l,d,h,x)&&(v|=1),v}readCorner1(l,d){let h=0;return this.readModule(l-1,0,l,d)&&(h|=1),h<<=1,this.readModule(l-1,1,l,d)&&(h|=1),h<<=1,this.readModule(l-1,2,l,d)&&(h|=1),h<<=1,this.readModule(0,d-2,l,d)&&(h|=1),h<<=1,this.readModule(0,d-1,l,d)&&(h|=1),h<<=1,this.readModule(1,d-1,l,d)&&(h|=1),h<<=1,this.readModule(2,d-1,l,d)&&(h|=1),h<<=1,this.readModule(3,d-1,l,d)&&(h|=1),h}readCorner2(l,d){let h=0;return this.readModule(l-3,0,l,d)&&(h|=1),h<<=1,this.readModule(l-2,0,l,d)&&(h|=1),h<<=1,this.readModule(l-1,0,l,d)&&(h|=1),h<<=1,this.readModule(0,d-4,l,d)&&(h|=1),h<<=1,this.readModule(0,d-3,l,d)&&(h|=1),h<<=1,this.readModule(0,d-2,l,d)&&(h|=1),h<<=1,this.readModule(0,d-1,l,d)&&(h|=1),h<<=1,this.readModule(1,d-1,l,d)&&(h|=1),h}readCorner3(l,d){let h=0;return this.readModule(l-1,0,l,d)&&(h|=1),h<<=1,this.readModule(l-1,d-1,l,d)&&(h|=1),h<<=1,this.readModule(0,d-3,l,d)&&(h|=1),h<<=1,this.readModule(0,d-2,l,d)&&(h|=1),h<<=1,this.readModule(0,d-1,l,d)&&(h|=1),h<<=1,this.readModule(1,d-3,l,d)&&(h|=1),h<<=1,this.readModule(1,d-2,l,d)&&(h|=1),h<<=1,this.readModule(1,d-1,l,d)&&(h|=1),h}readCorner4(l,d){let h=0;return this.readModule(l-3,0,l,d)&&(h|=1),h<<=1,this.readModule(l-2,0,l,d)&&(h|=1),h<<=1,this.readModule(l-1,0,l,d)&&(h|=1),h<<=1,this.readModule(0,d-2,l,d)&&(h|=1),h<<=1,this.readModule(0,d-1,l,d)&&(h|=1),h<<=1,this.readModule(1,d-1,l,d)&&(h|=1),h<<=1,this.readModule(2,d-1,l,d)&&(h|=1),h<<=1,this.readModule(3,d-1,l,d)&&(h|=1),h}extractDataRegion(l){const d=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(l.getHeight()!==d)throw new g("Dimension of bitMatrix must match the version size");const x=this.version.getDataRegionSizeRows(),v=this.version.getDataRegionSizeColumns(),N=d/x|0,C=h/v|0,I=N*x,M=C*v,X=new ue(M,I);for(let ie=0;ie<N;++ie){const me=ie*x;for(let De=0;De<C;++De){const de=De*v;for(let Ne=0;Ne<x;++Ne){const Ce=ie*(x+2)+1+Ne,$e=me+Ne;for(let vt=0;vt<v;++vt){const jt=De*(v+2)+1+vt;if(l.get(jt,Ce)){const Lt=de+vt;X.set(Lt,$e)}}}}}return X}}class si{constructor(l,d){this.numDataCodewords=l,this.codewords=d}static getDataBlocks(l,d){const h=d.getECBlocks();let x=0;const v=h.getECBlocks();for(let Ne of v)x+=Ne.getCount();const N=new Array(x);let C=0;for(let Ne of v)for(let Ce=0;Ce<Ne.getCount();Ce++){const $e=Ne.getDataCodewords(),vt=h.getECCodewords()+$e;N[C++]=new si($e,new Uint8Array(vt))}const M=N[0].codewords.length-h.getECCodewords(),X=M-1;let ie=0;for(let Ne=0;Ne<X;Ne++)for(let Ce=0;Ce<C;Ce++)N[Ce].codewords[Ne]=l[ie++];const me=d.getVersionNumber()===24,De=me?8:C;for(let Ne=0;Ne<De;Ne++)N[Ne].codewords[M-1]=l[ie++];const de=N[0].codewords.length;for(let Ne=M;Ne<de;Ne++)for(let Ce=0;Ce<C;Ce++){const $e=me?(Ce+8)%C:Ce,vt=me&&$e>7?Ne-1:Ne;N[$e].codewords[vt]=l[ie++]}if(ie!==l.length)throw new g;return N}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Al{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new g(""+l);let d=0,h=this.bitOffset,x=this.byteOffset;const v=this.bytes;if(h>0){const N=8-h,C=l<N?l:N,I=N-C,M=255>>8-C<<I;d=(v[x]&M)>>I,l-=C,h+=C,h===8&&(h=0,x++)}if(l>0){for(;l>=8;)d=d<<8|v[x]&255,x++,l-=8;if(l>0){const N=8-l,C=255>>N<<N;d=d<<l|(v[x]&C)>>N,h+=l}}return this.bitOffset=h,this.byteOffset=x,d}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var xi;(function(re){re[re.PAD_ENCODE=0]="PAD_ENCODE",re[re.ASCII_ENCODE=1]="ASCII_ENCODE",re[re.C40_ENCODE=2]="C40_ENCODE",re[re.TEXT_ENCODE=3]="TEXT_ENCODE",re[re.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",re[re.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",re[re.BASE256_ENCODE=6]="BASE256_ENCODE"})(xi||(xi={}));class ls{static decode(l){const d=new Al(l),h=new J,x=new J,v=new Array;let N=xi.ASCII_ENCODE;do if(N===xi.ASCII_ENCODE)N=this.decodeAsciiSegment(d,h,x);else{switch(N){case xi.C40_ENCODE:this.decodeC40Segment(d,h);break;case xi.TEXT_ENCODE:this.decodeTextSegment(d,h);break;case xi.ANSIX12_ENCODE:this.decodeAnsiX12Segment(d,h);break;case xi.EDIFACT_ENCODE:this.decodeEdifactSegment(d,h);break;case xi.BASE256_ENCODE:this.decodeBase256Segment(d,h,v);break;default:throw new R}N=xi.ASCII_ENCODE}while(N!==xi.PAD_ENCODE&&d.available()>0);return x.length()>0&&h.append(x.toString()),new ze(l,h.toString(),v.length===0?null:v,null)}static decodeAsciiSegment(l,d,h){let x=!1;do{let v=l.readBits(8);if(v===0)throw new R;if(v<=128)return x&&(v+=128),d.append(String.fromCharCode(v-1)),xi.ASCII_ENCODE;if(v===129)return xi.PAD_ENCODE;if(v<=229){const N=v-130;N<10&&d.append("0"),d.append(""+N)}else switch(v){case 230:return xi.C40_ENCODE;case 231:return xi.BASE256_ENCODE;case 232:d.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:x=!0;break;case 236:d.append("[)>05"),h.insert(0,"");break;case 237:d.append("[)>06"),h.insert(0,"");break;case 238:return xi.ANSIX12_ENCODE;case 239:return xi.TEXT_ENCODE;case 240:return xi.EDIFACT_ENCODE;case 241:break;default:if(v!==254||l.available()!==0)throw new R;break}}while(l.available()>0);return xi.ASCII_ENCODE}static decodeC40Segment(l,d){let h=!1;const x=[];let v=0;do{if(l.available()===8)return;const N=l.readBits(8);if(N===254)return;this.parseTwoBytes(N,l.readBits(8),x);for(let C=0;C<3;C++){const I=x[C];switch(v){case 0:if(I<3)v=I+1;else if(I<this.C40_BASIC_SET_CHARS.length){const M=this.C40_BASIC_SET_CHARS[I];h?(d.append(String.fromCharCode(M.charCodeAt(0)+128)),h=!1):d.append(M)}else throw new R;break;case 1:h?(d.append(String.fromCharCode(I+128)),h=!1):d.append(String.fromCharCode(I)),v=0;break;case 2:if(I<this.C40_SHIFT2_SET_CHARS.length){const M=this.C40_SHIFT2_SET_CHARS[I];h?(d.append(String.fromCharCode(M.charCodeAt(0)+128)),h=!1):d.append(M)}else switch(I){case 27:d.append(String.fromCharCode(29));break;case 30:h=!0;break;default:throw new R}v=0;break;case 3:h?(d.append(String.fromCharCode(I+224)),h=!1):d.append(String.fromCharCode(I+96)),v=0;break;default:throw new R}}}while(l.available()>0)}static decodeTextSegment(l,d){let h=!1,x=[],v=0;do{if(l.available()===8)return;const N=l.readBits(8);if(N===254)return;this.parseTwoBytes(N,l.readBits(8),x);for(let C=0;C<3;C++){const I=x[C];switch(v){case 0:if(I<3)v=I+1;else if(I<this.TEXT_BASIC_SET_CHARS.length){const M=this.TEXT_BASIC_SET_CHARS[I];h?(d.append(String.fromCharCode(M.charCodeAt(0)+128)),h=!1):d.append(M)}else throw new R;break;case 1:h?(d.append(String.fromCharCode(I+128)),h=!1):d.append(String.fromCharCode(I)),v=0;break;case 2:if(I<this.TEXT_SHIFT2_SET_CHARS.length){const M=this.TEXT_SHIFT2_SET_CHARS[I];h?(d.append(String.fromCharCode(M.charCodeAt(0)+128)),h=!1):d.append(M)}else switch(I){case 27:d.append(String.fromCharCode(29));break;case 30:h=!0;break;default:throw new R}v=0;break;case 3:if(I<this.TEXT_SHIFT3_SET_CHARS.length){const M=this.TEXT_SHIFT3_SET_CHARS[I];h?(d.append(String.fromCharCode(M.charCodeAt(0)+128)),h=!1):d.append(M),v=0}else throw new R;break;default:throw new R}}}while(l.available()>0)}static decodeAnsiX12Segment(l,d){const h=[];do{if(l.available()===8)return;const x=l.readBits(8);if(x===254)return;this.parseTwoBytes(x,l.readBits(8),h);for(let v=0;v<3;v++){const N=h[v];switch(N){case 0:d.append("\r");break;case 1:d.append("*");break;case 2:d.append(">");break;case 3:d.append(" ");break;default:if(N<14)d.append(String.fromCharCode(N+44));else if(N<40)d.append(String.fromCharCode(N+51));else throw new R;break}}}while(l.available()>0)}static parseTwoBytes(l,d,h){let x=(l<<8)+d-1,v=Math.floor(x/1600);h[0]=v,x-=v*1600,v=Math.floor(x/40),h[1]=v,h[2]=x-v*40}static decodeEdifactSegment(l,d){do{if(l.available()<=16)return;for(let h=0;h<4;h++){let x=l.readBits(6);if(x===31){const v=8-l.getBitOffset();v!==8&&l.readBits(v);return}x&32||(x|=64),d.append(String.fromCharCode(x))}}while(l.available()>0)}static decodeBase256Segment(l,d,h){let x=1+l.getByteOffset();const v=this.unrandomize255State(l.readBits(8),x++);let N;if(v===0?N=l.available()/8|0:v<250?N=v:N=250*(v-249)+this.unrandomize255State(l.readBits(8),x++),N<0)throw new R;const C=new Uint8Array(N);for(let I=0;I<N;I++){if(l.available()<8)throw new R;C[I]=this.unrandomize255State(l.readBits(8),x++)}h.push(C);try{d.append(H.decode(C,W.ISO88591))}catch(I){throw new it("Platform does not support required encoding: "+I.message)}}static unrandomize255State(l,d){const h=149*d%255+1,x=l-h;return x>=0?x:x+256}}ls.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ls.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ls.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ls.TEXT_SHIFT2_SET_CHARS=ls.C40_SHIFT2_SET_CHARS,ls.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class eu{constructor(){this.rsDecoder=new fe(Ye.DATA_MATRIX_FIELD_256)}decode(l){const d=new Ba(l),h=d.getVersion(),x=d.readCodewords(),v=si.getDataBlocks(x,h);let N=0;for(let M of v)N+=M.getNumDataCodewords();const C=new Uint8Array(N),I=v.length;for(let M=0;M<I;M++){const X=v[M],ie=X.getCodewords(),me=X.getNumDataCodewords();this.correctErrors(ie,me);for(let De=0;De<me;De++)C[De*I+M]=ie[De]}return ls.decode(C)}correctErrors(l,d){const h=new Int32Array(l);try{this.rsDecoder.decode(h,l.length-d)}catch{throw new y}for(let x=0;x<d;x++)l[x]=h[x]}}class oi{constructor(l){this.image=l,this.rectangleDetector=new et(this.image)}detect(){const l=this.rectangleDetector.detect();let d=this.detectSolid1(l);if(d=this.detectSolid2(d),d[3]=this.correctTopRight(d),!d[3])throw new se;d=this.shiftToModuleCenter(d);const h=d[0],x=d[1],v=d[2],N=d[3];let C=this.transitionsBetween(h,N)+1,I=this.transitionsBetween(v,N)+1;(C&1)===1&&(C+=1),(I&1)===1&&(I+=1),4*C<7*I&&4*I<7*C&&(C=I=Math.max(C,I));let M=oi.sampleGrid(this.image,h,x,v,N,C,I);return new Le(M,[h,x,v,N])}static shiftPoint(l,d,h){let x=(d.getX()-l.getX())/(h+1),v=(d.getY()-l.getY())/(h+1);return new qe(l.getX()+x,l.getY()+v)}static moveAway(l,d,h){let x=l.getX(),v=l.getY();return x<d?x-=1:x+=1,v<h?v-=1:v+=1,new qe(x,v)}detectSolid1(l){let d=l[0],h=l[1],x=l[3],v=l[2],N=this.transitionsBetween(d,h),C=this.transitionsBetween(h,x),I=this.transitionsBetween(x,v),M=this.transitionsBetween(v,d),X=N,ie=[v,d,h,x];return X>C&&(X=C,ie[0]=d,ie[1]=h,ie[2]=x,ie[3]=v),X>I&&(X=I,ie[0]=h,ie[1]=x,ie[2]=v,ie[3]=d),X>M&&(ie[0]=x,ie[1]=v,ie[2]=d,ie[3]=h),ie}detectSolid2(l){let d=l[0],h=l[1],x=l[2],v=l[3],N=this.transitionsBetween(d,v),C=oi.shiftPoint(h,x,(N+1)*4),I=oi.shiftPoint(x,h,(N+1)*4),M=this.transitionsBetween(C,d),X=this.transitionsBetween(I,v);return M<X?(l[0]=d,l[1]=h,l[2]=x,l[3]=v):(l[0]=h,l[1]=x,l[2]=v,l[3]=d),l}correctTopRight(l){let d=l[0],h=l[1],x=l[2],v=l[3],N=this.transitionsBetween(d,v),C=this.transitionsBetween(h,v),I=oi.shiftPoint(d,h,(C+1)*4),M=oi.shiftPoint(x,h,(N+1)*4);N=this.transitionsBetween(I,v),C=this.transitionsBetween(M,v);let X=new qe(v.getX()+(x.getX()-h.getX())/(N+1),v.getY()+(x.getY()-h.getY())/(N+1)),ie=new qe(v.getX()+(d.getX()-h.getX())/(C+1),v.getY()+(d.getY()-h.getY())/(C+1));if(!this.isValid(X))return this.isValid(ie)?ie:null;if(!this.isValid(ie))return X;let me=this.transitionsBetween(I,X)+this.transitionsBetween(M,X),De=this.transitionsBetween(I,ie)+this.transitionsBetween(M,ie);return me>De?X:ie}shiftToModuleCenter(l){let d=l[0],h=l[1],x=l[2],v=l[3],N=this.transitionsBetween(d,v)+1,C=this.transitionsBetween(x,v)+1,I=oi.shiftPoint(d,h,C*4),M=oi.shiftPoint(x,h,N*4);N=this.transitionsBetween(I,v)+1,C=this.transitionsBetween(M,v)+1,(N&1)===1&&(N+=1),(C&1)===1&&(C+=1);let X=(d.getX()+h.getX()+x.getX()+v.getX())/4,ie=(d.getY()+h.getY()+x.getY()+v.getY())/4;d=oi.moveAway(d,X,ie),h=oi.moveAway(h,X,ie),x=oi.moveAway(x,X,ie),v=oi.moveAway(v,X,ie);let me,De;return I=oi.shiftPoint(d,h,C*4),I=oi.shiftPoint(I,v,N*4),me=oi.shiftPoint(h,d,C*4),me=oi.shiftPoint(me,x,N*4),M=oi.shiftPoint(x,v,C*4),M=oi.shiftPoint(M,h,N*4),De=oi.shiftPoint(v,x,C*4),De=oi.shiftPoint(De,d,N*4),[I,me,M,De]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,d,h,x,v,N,C){return dn.getInstance().sampleGrid(l,N,C,.5,.5,N-.5,.5,N-.5,C-.5,.5,C-.5,d.getX(),d.getY(),v.getX(),v.getY(),x.getX(),x.getY(),h.getX(),h.getY())}transitionsBetween(l,d){let h=Math.trunc(l.getX()),x=Math.trunc(l.getY()),v=Math.trunc(d.getX()),N=Math.trunc(d.getY()),C=Math.abs(N-x)>Math.abs(v-h);if(C){let Ne=h;h=x,x=Ne,Ne=v,v=N,N=Ne}let I=Math.abs(v-h),M=Math.abs(N-x),X=-I/2,ie=x<N?1:-1,me=h<v?1:-1,De=0,de=this.image.get(C?x:h,C?h:x);for(let Ne=h,Ce=x;Ne!==v;Ne+=me){let $e=this.image.get(C?Ce:Ne,C?Ne:Ce);if($e!==de&&(De++,de=$e),X+=M,X>0){if(Ce===N)break;Ce+=ie,X-=I}}return De}}class Ei{constructor(){this.decoder=new eu}decode(l,d=null){let h,x;if(d!=null&&d.has(z.PURE_BARCODE)){const M=Ei.extractPureBits(l.getBlackMatrix());h=this.decoder.decode(M),x=Ei.NO_POINTS}else{const M=new oi(l.getBlackMatrix()).detect();h=this.decoder.decode(M.getBits()),x=M.getPoints()}const v=h.getRawBytes(),N=new Q(h.getText(),v,8*v.length,x,ce.DATA_MATRIX,S.currentTimeMillis()),C=h.getByteSegments();C!=null&&N.putMetadata(Fe.BYTE_SEGMENTS,C);const I=h.getECLevel();return I!=null&&N.putMetadata(Fe.ERROR_CORRECTION_LEVEL,I),N}reset(){}static extractPureBits(l){const d=l.getTopLeftOnBit(),h=l.getBottomRightOnBit();if(d==null||h==null)throw new se;const x=this.moduleSize(d,l);let v=d[1];const N=h[1];let C=d[0];const M=(h[0]-C+1)/x,X=(N-v+1)/x;if(M<=0||X<=0)throw new se;const ie=x/2;v+=ie,C+=ie;const me=new ue(M,X);for(let De=0;De<X;De++){const de=v+De*x;for(let Ne=0;Ne<M;Ne++)l.get(C+Ne*x,de)&&me.set(Ne,De)}return me}static moduleSize(l,d){const h=d.getWidth();let x=l[0];const v=l[1];for(;x<h&&d.get(x,v);)x++;if(x===h)throw new se;const N=x-l[0];if(N===0)throw new se;return N}}Ei.NO_POINTS=[];class jl extends Z{constructor(l=500){super(new Ei,l)}}var qi;(function(re){re[re.L=0]="L",re[re.M=1]="M",re[re.Q=2]="Q",re[re.H=3]="H"})(qi||(qi={}));class Sr{constructor(l,d,h){this.value=l,this.stringValue=d,this.bits=h,Sr.FOR_BITS.set(h,this),Sr.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return Sr.L;case"M":return Sr.M;case"Q":return Sr.Q;case"H":return Sr.H;default:throw new p(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof Sr))return!1;const d=l;return this.value===d.value}static forBits(l){if(l<0||l>=Sr.FOR_BITS.size)throw new g;return Sr.FOR_BITS.get(l)}}Sr.FOR_BITS=new Map,Sr.FOR_VALUE=new Map,Sr.L=new Sr(qi.L,"L",1),Sr.M=new Sr(qi.M,"M",0),Sr.Q=new Sr(qi.Q,"Q",3),Sr.H=new Sr(qi.H,"H",2);class Mi{constructor(l){this.errorCorrectionLevel=Sr.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,d){return D.bitCount(l^d)}static decodeFormatInformation(l,d){const h=Mi.doDecodeFormatInformation(l,d);return h!==null?h:Mi.doDecodeFormatInformation(l^Mi.FORMAT_INFO_MASK_QR,d^Mi.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,d){let h=Number.MAX_SAFE_INTEGER,x=0;for(const v of Mi.FORMAT_INFO_DECODE_LOOKUP){const N=v[0];if(N===l||N===d)return new Mi(v[1]);let C=Mi.numBitsDiffering(l,N);C<h&&(x=v[1],h=C),l!==d&&(C=Mi.numBitsDiffering(d,N),C<h&&(x=v[1],h=C))}return h<=3?new Mi(x):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Mi))return!1;const d=l;return this.errorCorrectionLevel===d.errorCorrectionLevel&&this.dataMask===d.dataMask}}Mi.FORMAT_INFO_MASK_QR=21522,Mi.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class lt{constructor(l,...d){this.ecCodewordsPerBlock=l,this.ecBlocks=d}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const d=this.ecBlocks;for(const h of d)l+=h.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Ie{constructor(l,d){this.count=l,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _n{constructor(l,d,...h){this.versionNumber=l,this.alignmentPatternCenters=d,this.ecBlocks=h;let x=0;const v=h[0].getECCodewordsPerBlock(),N=h[0].getECBlocks();for(const C of N)x+=C.getCount()*(C.getDataCodewords()+v);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new R;try{return this.getVersionForNumber((l-17)/4)}catch{throw new R}}static getVersionForNumber(l){if(l<1||l>40)throw new g;return _n.VERSIONS[l-1]}static decodeVersionInformation(l){let d=Number.MAX_SAFE_INTEGER,h=0;for(let x=0;x<_n.VERSION_DECODE_INFO.length;x++){const v=_n.VERSION_DECODE_INFO[x];if(v===l)return _n.getVersionForNumber(x+7);const N=Mi.numBitsDiffering(l,v);N<d&&(h=x+7,d=N)}return d<=3?_n.getVersionForNumber(h):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),d=new ue(l);d.setRegion(0,0,9,9),d.setRegion(l-8,0,8,9),d.setRegion(0,l-8,9,8);const h=this.alignmentPatternCenters.length;for(let x=0;x<h;x++){const v=this.alignmentPatternCenters[x]-2;for(let N=0;N<h;N++)x===0&&(N===0||N===h-1)||x===h-1&&N===0||d.setRegion(this.alignmentPatternCenters[N]-2,v,5,5)}return d.setRegion(6,9,1,l-17),d.setRegion(9,6,l-17,1),this.versionNumber>6&&(d.setRegion(l-11,0,3,6),d.setRegion(0,l-11,6,3)),d}toString(){return""+this.versionNumber}}_n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_n.VERSIONS=[new _n(1,new Int32Array(0),new lt(7,new Ie(1,19)),new lt(10,new Ie(1,16)),new lt(13,new Ie(1,13)),new lt(17,new Ie(1,9))),new _n(2,Int32Array.from([6,18]),new lt(10,new Ie(1,34)),new lt(16,new Ie(1,28)),new lt(22,new Ie(1,22)),new lt(28,new Ie(1,16))),new _n(3,Int32Array.from([6,22]),new lt(15,new Ie(1,55)),new lt(26,new Ie(1,44)),new lt(18,new Ie(2,17)),new lt(22,new Ie(2,13))),new _n(4,Int32Array.from([6,26]),new lt(20,new Ie(1,80)),new lt(18,new Ie(2,32)),new lt(26,new Ie(2,24)),new lt(16,new Ie(4,9))),new _n(5,Int32Array.from([6,30]),new lt(26,new Ie(1,108)),new lt(24,new Ie(2,43)),new lt(18,new Ie(2,15),new Ie(2,16)),new lt(22,new Ie(2,11),new Ie(2,12))),new _n(6,Int32Array.from([6,34]),new lt(18,new Ie(2,68)),new lt(16,new Ie(4,27)),new lt(24,new Ie(4,19)),new lt(28,new Ie(4,15))),new _n(7,Int32Array.from([6,22,38]),new lt(20,new Ie(2,78)),new lt(18,new Ie(4,31)),new lt(18,new Ie(2,14),new Ie(4,15)),new lt(26,new Ie(4,13),new Ie(1,14))),new _n(8,Int32Array.from([6,24,42]),new lt(24,new Ie(2,97)),new lt(22,new Ie(2,38),new Ie(2,39)),new lt(22,new Ie(4,18),new Ie(2,19)),new lt(26,new Ie(4,14),new Ie(2,15))),new _n(9,Int32Array.from([6,26,46]),new lt(30,new Ie(2,116)),new lt(22,new Ie(3,36),new Ie(2,37)),new lt(20,new Ie(4,16),new Ie(4,17)),new lt(24,new Ie(4,12),new Ie(4,13))),new _n(10,Int32Array.from([6,28,50]),new lt(18,new Ie(2,68),new Ie(2,69)),new lt(26,new Ie(4,43),new Ie(1,44)),new lt(24,new Ie(6,19),new Ie(2,20)),new lt(28,new Ie(6,15),new Ie(2,16))),new _n(11,Int32Array.from([6,30,54]),new lt(20,new Ie(4,81)),new lt(30,new Ie(1,50),new Ie(4,51)),new lt(28,new Ie(4,22),new Ie(4,23)),new lt(24,new Ie(3,12),new Ie(8,13))),new _n(12,Int32Array.from([6,32,58]),new lt(24,new Ie(2,92),new Ie(2,93)),new lt(22,new Ie(6,36),new Ie(2,37)),new lt(26,new Ie(4,20),new Ie(6,21)),new lt(28,new Ie(7,14),new Ie(4,15))),new _n(13,Int32Array.from([6,34,62]),new lt(26,new Ie(4,107)),new lt(22,new Ie(8,37),new Ie(1,38)),new lt(24,new Ie(8,20),new Ie(4,21)),new lt(22,new Ie(12,11),new Ie(4,12))),new _n(14,Int32Array.from([6,26,46,66]),new lt(30,new Ie(3,115),new Ie(1,116)),new lt(24,new Ie(4,40),new Ie(5,41)),new lt(20,new Ie(11,16),new Ie(5,17)),new lt(24,new Ie(11,12),new Ie(5,13))),new _n(15,Int32Array.from([6,26,48,70]),new lt(22,new Ie(5,87),new Ie(1,88)),new lt(24,new Ie(5,41),new Ie(5,42)),new lt(30,new Ie(5,24),new Ie(7,25)),new lt(24,new Ie(11,12),new Ie(7,13))),new _n(16,Int32Array.from([6,26,50,74]),new lt(24,new Ie(5,98),new Ie(1,99)),new lt(28,new Ie(7,45),new Ie(3,46)),new lt(24,new Ie(15,19),new Ie(2,20)),new lt(30,new Ie(3,15),new Ie(13,16))),new _n(17,Int32Array.from([6,30,54,78]),new lt(28,new Ie(1,107),new Ie(5,108)),new lt(28,new Ie(10,46),new Ie(1,47)),new lt(28,new Ie(1,22),new Ie(15,23)),new lt(28,new Ie(2,14),new Ie(17,15))),new _n(18,Int32Array.from([6,30,56,82]),new lt(30,new Ie(5,120),new Ie(1,121)),new lt(26,new Ie(9,43),new Ie(4,44)),new lt(28,new Ie(17,22),new Ie(1,23)),new lt(28,new Ie(2,14),new Ie(19,15))),new _n(19,Int32Array.from([6,30,58,86]),new lt(28,new Ie(3,113),new Ie(4,114)),new lt(26,new Ie(3,44),new Ie(11,45)),new lt(26,new Ie(17,21),new Ie(4,22)),new lt(26,new Ie(9,13),new Ie(16,14))),new _n(20,Int32Array.from([6,34,62,90]),new lt(28,new Ie(3,107),new Ie(5,108)),new lt(26,new Ie(3,41),new Ie(13,42)),new lt(30,new Ie(15,24),new Ie(5,25)),new lt(28,new Ie(15,15),new Ie(10,16))),new _n(21,Int32Array.from([6,28,50,72,94]),new lt(28,new Ie(4,116),new Ie(4,117)),new lt(26,new Ie(17,42)),new lt(28,new Ie(17,22),new Ie(6,23)),new lt(30,new Ie(19,16),new Ie(6,17))),new _n(22,Int32Array.from([6,26,50,74,98]),new lt(28,new Ie(2,111),new Ie(7,112)),new lt(28,new Ie(17,46)),new lt(30,new Ie(7,24),new Ie(16,25)),new lt(24,new Ie(34,13))),new _n(23,Int32Array.from([6,30,54,78,102]),new lt(30,new Ie(4,121),new Ie(5,122)),new lt(28,new Ie(4,47),new Ie(14,48)),new lt(30,new Ie(11,24),new Ie(14,25)),new lt(30,new Ie(16,15),new Ie(14,16))),new _n(24,Int32Array.from([6,28,54,80,106]),new lt(30,new Ie(6,117),new Ie(4,118)),new lt(28,new Ie(6,45),new Ie(14,46)),new lt(30,new Ie(11,24),new Ie(16,25)),new lt(30,new Ie(30,16),new Ie(2,17))),new _n(25,Int32Array.from([6,32,58,84,110]),new lt(26,new Ie(8,106),new Ie(4,107)),new lt(28,new Ie(8,47),new Ie(13,48)),new lt(30,new Ie(7,24),new Ie(22,25)),new lt(30,new Ie(22,15),new Ie(13,16))),new _n(26,Int32Array.from([6,30,58,86,114]),new lt(28,new Ie(10,114),new Ie(2,115)),new lt(28,new Ie(19,46),new Ie(4,47)),new lt(28,new Ie(28,22),new Ie(6,23)),new lt(30,new Ie(33,16),new Ie(4,17))),new _n(27,Int32Array.from([6,34,62,90,118]),new lt(30,new Ie(8,122),new Ie(4,123)),new lt(28,new Ie(22,45),new Ie(3,46)),new lt(30,new Ie(8,23),new Ie(26,24)),new lt(30,new Ie(12,15),new Ie(28,16))),new _n(28,Int32Array.from([6,26,50,74,98,122]),new lt(30,new Ie(3,117),new Ie(10,118)),new lt(28,new Ie(3,45),new Ie(23,46)),new lt(30,new Ie(4,24),new Ie(31,25)),new lt(30,new Ie(11,15),new Ie(31,16))),new _n(29,Int32Array.from([6,30,54,78,102,126]),new lt(30,new Ie(7,116),new Ie(7,117)),new lt(28,new Ie(21,45),new Ie(7,46)),new lt(30,new Ie(1,23),new Ie(37,24)),new lt(30,new Ie(19,15),new Ie(26,16))),new _n(30,Int32Array.from([6,26,52,78,104,130]),new lt(30,new Ie(5,115),new Ie(10,116)),new lt(28,new Ie(19,47),new Ie(10,48)),new lt(30,new Ie(15,24),new Ie(25,25)),new lt(30,new Ie(23,15),new Ie(25,16))),new _n(31,Int32Array.from([6,30,56,82,108,134]),new lt(30,new Ie(13,115),new Ie(3,116)),new lt(28,new Ie(2,46),new Ie(29,47)),new lt(30,new Ie(42,24),new Ie(1,25)),new lt(30,new Ie(23,15),new Ie(28,16))),new _n(32,Int32Array.from([6,34,60,86,112,138]),new lt(30,new Ie(17,115)),new lt(28,new Ie(10,46),new Ie(23,47)),new lt(30,new Ie(10,24),new Ie(35,25)),new lt(30,new Ie(19,15),new Ie(35,16))),new _n(33,Int32Array.from([6,30,58,86,114,142]),new lt(30,new Ie(17,115),new Ie(1,116)),new lt(28,new Ie(14,46),new Ie(21,47)),new lt(30,new Ie(29,24),new Ie(19,25)),new lt(30,new Ie(11,15),new Ie(46,16))),new _n(34,Int32Array.from([6,34,62,90,118,146]),new lt(30,new Ie(13,115),new Ie(6,116)),new lt(28,new Ie(14,46),new Ie(23,47)),new lt(30,new Ie(44,24),new Ie(7,25)),new lt(30,new Ie(59,16),new Ie(1,17))),new _n(35,Int32Array.from([6,30,54,78,102,126,150]),new lt(30,new Ie(12,121),new Ie(7,122)),new lt(28,new Ie(12,47),new Ie(26,48)),new lt(30,new Ie(39,24),new Ie(14,25)),new lt(30,new Ie(22,15),new Ie(41,16))),new _n(36,Int32Array.from([6,24,50,76,102,128,154]),new lt(30,new Ie(6,121),new Ie(14,122)),new lt(28,new Ie(6,47),new Ie(34,48)),new lt(30,new Ie(46,24),new Ie(10,25)),new lt(30,new Ie(2,15),new Ie(64,16))),new _n(37,Int32Array.from([6,28,54,80,106,132,158]),new lt(30,new Ie(17,122),new Ie(4,123)),new lt(28,new Ie(29,46),new Ie(14,47)),new lt(30,new Ie(49,24),new Ie(10,25)),new lt(30,new Ie(24,15),new Ie(46,16))),new _n(38,Int32Array.from([6,32,58,84,110,136,162]),new lt(30,new Ie(4,122),new Ie(18,123)),new lt(28,new Ie(13,46),new Ie(32,47)),new lt(30,new Ie(48,24),new Ie(14,25)),new lt(30,new Ie(42,15),new Ie(32,16))),new _n(39,Int32Array.from([6,26,54,82,110,138,166]),new lt(30,new Ie(20,117),new Ie(4,118)),new lt(28,new Ie(40,47),new Ie(7,48)),new lt(30,new Ie(43,24),new Ie(22,25)),new lt(30,new Ie(10,15),new Ie(67,16))),new _n(40,Int32Array.from([6,30,58,86,114,142,170]),new lt(30,new Ie(19,118),new Ie(6,119)),new lt(28,new Ie(18,47),new Ie(31,48)),new lt(30,new Ie(34,24),new Ie(34,25)),new lt(30,new Ie(20,15),new Ie(61,16)))];var gi;(function(re){re[re.DATA_MASK_000=0]="DATA_MASK_000",re[re.DATA_MASK_001=1]="DATA_MASK_001",re[re.DATA_MASK_010=2]="DATA_MASK_010",re[re.DATA_MASK_011=3]="DATA_MASK_011",re[re.DATA_MASK_100=4]="DATA_MASK_100",re[re.DATA_MASK_101=5]="DATA_MASK_101",re[re.DATA_MASK_110=6]="DATA_MASK_110",re[re.DATA_MASK_111=7]="DATA_MASK_111"})(gi||(gi={}));class ja{constructor(l,d){this.value=l,this.isMasked=d}unmaskBitMatrix(l,d){for(let h=0;h<d;h++)for(let x=0;x<d;x++)this.isMasked(h,x)&&l.flip(x,h)}}ja.values=new Map([[gi.DATA_MASK_000,new ja(gi.DATA_MASK_000,(re,l)=>(re+l&1)===0)],[gi.DATA_MASK_001,new ja(gi.DATA_MASK_001,(re,l)=>(re&1)===0)],[gi.DATA_MASK_010,new ja(gi.DATA_MASK_010,(re,l)=>l%3===0)],[gi.DATA_MASK_011,new ja(gi.DATA_MASK_011,(re,l)=>(re+l)%3===0)],[gi.DATA_MASK_100,new ja(gi.DATA_MASK_100,(re,l)=>(Math.floor(re/2)+Math.floor(l/3)&1)===0)],[gi.DATA_MASK_101,new ja(gi.DATA_MASK_101,(re,l)=>re*l%6===0)],[gi.DATA_MASK_110,new ja(gi.DATA_MASK_110,(re,l)=>re*l%6<3)],[gi.DATA_MASK_111,new ja(gi.DATA_MASK_111,(re,l)=>(re+l+re*l%3&1)===0)]]);class uo{constructor(l){const d=l.getHeight();if(d<21||(d&3)!==1)throw new R;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let v=0;v<6;v++)l=this.copyBit(v,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let v=5;v>=0;v--)l=this.copyBit(8,v,l);const d=this.bitMatrix.getHeight();let h=0;const x=d-7;for(let v=d-1;v>=x;v--)h=this.copyBit(8,v,h);for(let v=d-8;v<d;v++)h=this.copyBit(v,8,h);if(this.parsedFormatInfo=Mi.decodeFormatInformation(l,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new R}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),d=Math.floor((l-17)/4);if(d<=6)return _n.getVersionForNumber(d);let h=0;const x=l-11;for(let N=5;N>=0;N--)for(let C=l-9;C>=x;C--)h=this.copyBit(C,N,h);let v=_n.decodeVersionInformation(h);if(v!==null&&v.getDimensionForVersion()===l)return this.parsedVersion=v,v;h=0;for(let N=5;N>=0;N--)for(let C=l-9;C>=x;C--)h=this.copyBit(N,C,h);if(v=_n.decodeVersionInformation(h),v!==null&&v.getDimensionForVersion()===l)return this.parsedVersion=v,v;throw new R}copyBit(l,d,h){return(this.isMirror?this.bitMatrix.get(d,l):this.bitMatrix.get(l,d))?h<<1|1:h<<1}readCodewords(){const l=this.readFormatInformation(),d=this.readVersion(),h=ja.values.get(l.getDataMask()),x=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,x);const v=d.buildFunctionPattern();let N=!0;const C=new Uint8Array(d.getTotalCodewords());let I=0,M=0,X=0;for(let ie=x-1;ie>0;ie-=2){ie===6&&ie--;for(let me=0;me<x;me++){const De=N?x-1-me:me;for(let de=0;de<2;de++)v.get(ie-de,De)||(X++,M<<=1,this.bitMatrix.get(ie-de,De)&&(M|=1),X===8&&(C[I++]=M,X=0,M=0))}N=!N}if(I!==d.getTotalCodewords())throw new R;return C}remask(){if(this.parsedFormatInfo===null)return;const l=ja.values[this.parsedFormatInfo.getDataMask()],d=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,d)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let d=0,h=l.getWidth();d<h;d++)for(let x=d+1,v=l.getHeight();x<v;x++)l.get(d,x)!==l.get(x,d)&&(l.flip(x,d),l.flip(d,x))}}class mc{constructor(l,d){this.numDataCodewords=l,this.codewords=d}static getDataBlocks(l,d,h){if(l.length!==d.getTotalCodewords())throw new g;const x=d.getECBlocksForLevel(h);let v=0;const N=x.getECBlocks();for(const de of N)v+=de.getCount();const C=new Array(v);let I=0;for(const de of N)for(let Ne=0;Ne<de.getCount();Ne++){const Ce=de.getDataCodewords(),$e=x.getECCodewordsPerBlock()+Ce;C[I++]=new mc(Ce,new Uint8Array($e))}const M=C[0].codewords.length;let X=C.length-1;for(;X>=0&&C[X].codewords.length!==M;)X--;X++;const ie=M-x.getECCodewordsPerBlock();let me=0;for(let de=0;de<ie;de++)for(let Ne=0;Ne<I;Ne++)C[Ne].codewords[de]=l[me++];for(let de=X;de<I;de++)C[de].codewords[ie]=l[me++];const De=C[0].codewords.length;for(let de=ie;de<De;de++)for(let Ne=0;Ne<I;Ne++){const Ce=Ne<X?de:de+1;C[Ne].codewords[Ce]=l[me++]}return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ua;(function(re){re[re.TERMINATOR=0]="TERMINATOR",re[re.NUMERIC=1]="NUMERIC",re[re.ALPHANUMERIC=2]="ALPHANUMERIC",re[re.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",re[re.BYTE=4]="BYTE",re[re.ECI=5]="ECI",re[re.KANJI=6]="KANJI",re[re.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",re[re.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",re[re.HANZI=9]="HANZI"})(Ua||(Ua={}));class jn{constructor(l,d,h,x){this.value=l,this.stringValue=d,this.characterCountBitsForVersions=h,this.bits=x,jn.FOR_BITS.set(x,this),jn.FOR_VALUE.set(l,this)}static forBits(l){const d=jn.FOR_BITS.get(l);if(d===void 0)throw new g;return d}getCharacterCountBits(l){const d=l.getVersionNumber();let h;return d<=9?h=0:d<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof jn))return!1;const d=l;return this.value===d.value}toString(){return this.stringValue}}jn.FOR_BITS=new Map,jn.FOR_VALUE=new Map,jn.TERMINATOR=new jn(Ua.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),jn.NUMERIC=new jn(Ua.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),jn.ALPHANUMERIC=new jn(Ua.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),jn.STRUCTURED_APPEND=new jn(Ua.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),jn.BYTE=new jn(Ua.BYTE,"BYTE",Int32Array.from([8,16,16]),4),jn.ECI=new jn(Ua.ECI,"ECI",Int32Array.from([0,0,0]),7),jn.KANJI=new jn(Ua.KANJI,"KANJI",Int32Array.from([8,10,12]),8),jn.FNC1_FIRST_POSITION=new jn(Ua.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),jn.FNC1_SECOND_POSITION=new jn(Ua.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),jn.HANZI=new jn(Ua.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Nr{static decode(l,d,h,x){const v=new Al(l);let N=new J;const C=new Array;let I=-1,M=-1;try{let X=null,ie=!1,me;do{if(v.available()<4)me=jn.TERMINATOR;else{const De=v.readBits(4);me=jn.forBits(De)}switch(me){case jn.TERMINATOR:break;case jn.FNC1_FIRST_POSITION:case jn.FNC1_SECOND_POSITION:ie=!0;break;case jn.STRUCTURED_APPEND:if(v.available()<16)throw new R;I=v.readBits(8),M=v.readBits(8);break;case jn.ECI:const De=Nr.parseECIValue(v);if(X=q.getCharacterSetECIByValue(De),X===null)throw new R;break;case jn.HANZI:const de=v.readBits(4),Ne=v.readBits(me.getCharacterCountBits(d));de===Nr.GB2312_SUBSET&&Nr.decodeHanziSegment(v,N,Ne);break;default:const Ce=v.readBits(me.getCharacterCountBits(d));switch(me){case jn.NUMERIC:Nr.decodeNumericSegment(v,N,Ce);break;case jn.ALPHANUMERIC:Nr.decodeAlphanumericSegment(v,N,Ce,ie);break;case jn.BYTE:Nr.decodeByteSegment(v,N,Ce,X,C,x);break;case jn.KANJI:Nr.decodeKanjiSegment(v,N,Ce);break;default:throw new R}break}}while(me!==jn.TERMINATOR)}catch{throw new R}return new ze(l,N.toString(),C.length===0?null:C,h===null?null:h.toString(),I,M)}static decodeHanziSegment(l,d,h){if(h*13>l.available())throw new R;const x=new Uint8Array(2*h);let v=0;for(;h>0;){const N=l.readBits(13);let C=N/96<<8&4294967295|N%96;C<959?C+=41377:C+=42657,x[v]=C>>8&255,x[v+1]=C&255,v+=2,h--}try{d.append(H.decode(x,W.GB2312))}catch(N){throw new R(N)}}static decodeKanjiSegment(l,d,h){if(h*13>l.available())throw new R;const x=new Uint8Array(2*h);let v=0;for(;h>0;){const N=l.readBits(13);let C=N/192<<8&4294967295|N%192;C<7936?C+=33088:C+=49472,x[v]=C>>8,x[v+1]=C,v+=2,h--}try{d.append(H.decode(x,W.SHIFT_JIS))}catch(N){throw new R(N)}}static decodeByteSegment(l,d,h,x,v,N){if(8*h>l.available())throw new R;const C=new Uint8Array(h);for(let M=0;M<h;M++)C[M]=l.readBits(8);let I;x===null?I=W.guessEncoding(C,N):I=x.getName();try{d.append(H.decode(C,I))}catch(M){throw new R(M)}v.push(C)}static toAlphaNumericChar(l){if(l>=Nr.ALPHANUMERIC_CHARS.length)throw new R;return Nr.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,d,h,x){const v=d.length();for(;h>1;){if(l.available()<11)throw new R;const N=l.readBits(11);d.append(Nr.toAlphaNumericChar(Math.floor(N/45))),d.append(Nr.toAlphaNumericChar(N%45)),h-=2}if(h===1){if(l.available()<6)throw new R;d.append(Nr.toAlphaNumericChar(l.readBits(6)))}if(x)for(let N=v;N<d.length();N++)d.charAt(N)==="%"&&(N<d.length()-1&&d.charAt(N+1)==="%"?d.deleteCharAt(N+1):d.setCharAt(N,String.fromCharCode(29)))}static decodeNumericSegment(l,d,h){for(;h>=3;){if(l.available()<10)throw new R;const x=l.readBits(10);if(x>=1e3)throw new R;d.append(Nr.toAlphaNumericChar(Math.floor(x/100))),d.append(Nr.toAlphaNumericChar(Math.floor(x/10)%10)),d.append(Nr.toAlphaNumericChar(x%10)),h-=3}if(h===2){if(l.available()<7)throw new R;const x=l.readBits(7);if(x>=100)throw new R;d.append(Nr.toAlphaNumericChar(Math.floor(x/10))),d.append(Nr.toAlphaNumericChar(x%10))}else if(h===1){if(l.available()<4)throw new R;const x=l.readBits(4);if(x>=10)throw new R;d.append(Nr.toAlphaNumericChar(x))}}static parseECIValue(l){const d=l.readBits(8);if(!(d&128))return d&127;if((d&192)===128){const h=l.readBits(8);return(d&63)<<8&4294967295|h}if((d&224)===192){const h=l.readBits(16);return(d&31)<<16&4294967295|h}throw new R}}Nr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Nr.GB2312_SUBSET=1;class il{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const d=l[0];l[0]=l[2],l[2]=d}}class kl{constructor(){this.rsDecoder=new fe(Ye.QR_CODE_FIELD_256)}decodeBooleanArray(l,d){return this.decodeBitMatrix(ue.parseFromBooleanArray(l),d)}decodeBitMatrix(l,d){const h=new uo(l);let x=null;try{return this.decodeBitMatrixParser(h,d)}catch(v){x=v}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const v=this.decodeBitMatrixParser(h,d);return v.setOther(new il(!0)),v}catch(v){throw x!==null?x:v}}decodeBitMatrixParser(l,d){const h=l.readVersion(),x=l.readFormatInformation().getErrorCorrectionLevel(),v=l.readCodewords(),N=mc.getDataBlocks(v,h,x);let C=0;for(const X of N)C+=X.getNumDataCodewords();const I=new Uint8Array(C);let M=0;for(const X of N){const ie=X.getCodewords(),me=X.getNumDataCodewords();this.correctErrors(ie,me);for(let De=0;De<me;De++)I[M++]=ie[De]}return Nr.decode(I,h,x,d)}correctErrors(l,d){const h=new Int32Array(l);try{this.rsDecoder.decode(h,l.length-d)}catch{throw new y}for(let x=0;x<d;x++)l[x]=h[x]}}class Tl extends qe{constructor(l,d,h){super(l,d),this.estimatedModuleSize=h}aboutEquals(l,d,h){if(Math.abs(d-this.getY())<=l&&Math.abs(h-this.getX())<=l){const x=Math.abs(l-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(l,d,h){const x=(this.getX()+d)/2,v=(this.getY()+l)/2,N=(this.estimatedModuleSize+h)/2;return new Tl(x,v,N)}}class Hi{constructor(l,d,h,x,v,N,C){this.image=l,this.startX=d,this.startY=h,this.width=x,this.height=v,this.moduleSize=N,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,d=this.height,h=this.width,x=l+h,v=this.startY+d/2,N=new Int32Array(3),C=this.image;for(let I=0;I<d;I++){const M=v+(I&1?-Math.floor((I+1)/2):Math.floor((I+1)/2));N[0]=0,N[1]=0,N[2]=0;let X=l;for(;X<x&&!C.get(X,M);)X++;let ie=0;for(;X<x;){if(C.get(X,M))if(ie===1)N[1]++;else if(ie===2){if(this.foundPatternCross(N)){const me=this.handlePossibleCenter(N,M,X);if(me!==null)return me}N[0]=N[2],N[1]=1,N[2]=0,ie=1}else N[++ie]++;else ie===1&&ie++,N[ie]++;X++}if(this.foundPatternCross(N)){const me=this.handlePossibleCenter(N,M,x);if(me!==null)return me}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new se}static centerFromEnd(l,d){return d-l[2]-l[1]/2}foundPatternCross(l){const d=this.moduleSize,h=d/2;for(let x=0;x<3;x++)if(Math.abs(d-l[x])>=h)return!1;return!0}crossCheckVertical(l,d,h,x){const v=this.image,N=v.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let I=l;for(;I>=0&&v.get(d,I)&&C[1]<=h;)C[1]++,I--;if(I<0||C[1]>h)return NaN;for(;I>=0&&!v.get(d,I)&&C[0]<=h;)C[0]++,I--;if(C[0]>h)return NaN;for(I=l+1;I<N&&v.get(d,I)&&C[1]<=h;)C[1]++,I++;if(I===N||C[1]>h)return NaN;for(;I<N&&!v.get(d,I)&&C[2]<=h;)C[2]++,I++;if(C[2]>h)return NaN;const M=C[0]+C[1]+C[2];return 5*Math.abs(M-x)>=2*x?NaN:this.foundPatternCross(C)?Hi.centerFromEnd(C,I):NaN}handlePossibleCenter(l,d,h){const x=l[0]+l[1]+l[2],v=Hi.centerFromEnd(l,h),N=this.crossCheckVertical(d,v,2*l[1],x);if(!isNaN(N)){const C=(l[0]+l[1]+l[2])/3;for(const M of this.possibleCenters)if(M.aboutEquals(C,N,v))return M.combineEstimate(N,v,C);const I=new Tl(v,N,C);this.possibleCenters.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return null}}class tu extends qe{constructor(l,d,h,x){super(l,d),this.estimatedModuleSize=h,this.count=x,x===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,d,h){if(Math.abs(d-this.getY())<=l&&Math.abs(h-this.getX())<=l){const x=Math.abs(l-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(l,d,h){const x=this.count+1,v=(this.count*this.getX()+d)/x,N=(this.count*this.getY()+l)/x,C=(this.count*this.estimatedModuleSize+h)/x;return new tu(v,N,C,x)}}class Ju{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class pn{constructor(l,d){this.image=l,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=d}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const d=l!=null&&l.get(z.TRY_HARDER)!==void 0,h=l!=null&&l.get(z.PURE_BARCODE)!==void 0,x=this.image,v=x.getHeight(),N=x.getWidth();let C=Math.floor(3*v/(4*pn.MAX_MODULES));(C<pn.MIN_SKIP||d)&&(C=pn.MIN_SKIP);let I=!1;const M=new Int32Array(5);for(let ie=C-1;ie<v&&!I;ie+=C){M[0]=0,M[1]=0,M[2]=0,M[3]=0,M[4]=0;let me=0;for(let De=0;De<N;De++)if(x.get(De,ie))(me&1)===1&&me++,M[me]++;else if(me&1)M[me]++;else if(me===4)if(pn.foundPatternCross(M)){if(this.handlePossibleCenter(M,ie,De,h)===!0)if(C=2,this.hasSkipped===!0)I=this.haveMultiplyConfirmedCenters();else{const Ne=this.findRowSkip();Ne>M[2]&&(ie+=Ne-M[2]-C,De=N-1)}else{M[0]=M[2],M[1]=M[3],M[2]=M[4],M[3]=1,M[4]=0,me=3;continue}me=0,M[0]=0,M[1]=0,M[2]=0,M[3]=0,M[4]=0}else M[0]=M[2],M[1]=M[3],M[2]=M[4],M[3]=1,M[4]=0,me=3;else M[++me]++;pn.foundPatternCross(M)&&this.handlePossibleCenter(M,ie,N,h)===!0&&(C=M[0],this.hasSkipped&&(I=this.haveMultiplyConfirmedCenters()))}const X=this.selectBestPatterns();return qe.orderBestPatterns(X),new Ju(X)}static centerFromEnd(l,d){return d-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let d=0;for(let v=0;v<5;v++){const N=l[v];if(N===0)return!1;d+=N}if(d<7)return!1;const h=d/7,x=h/2;return Math.abs(h-l[0])<x&&Math.abs(h-l[1])<x&&Math.abs(3*h-l[2])<3*x&&Math.abs(h-l[3])<x&&Math.abs(h-l[4])<x}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,d,h,x){const v=this.getCrossCheckStateCount();let N=0;const C=this.image;for(;l>=N&&d>=N&&C.get(d-N,l-N);)v[2]++,N++;if(l<N||d<N)return!1;for(;l>=N&&d>=N&&!C.get(d-N,l-N)&&v[1]<=h;)v[1]++,N++;if(l<N||d<N||v[1]>h)return!1;for(;l>=N&&d>=N&&C.get(d-N,l-N)&&v[0]<=h;)v[0]++,N++;if(v[0]>h)return!1;const I=C.getHeight(),M=C.getWidth();for(N=1;l+N<I&&d+N<M&&C.get(d+N,l+N);)v[2]++,N++;if(l+N>=I||d+N>=M)return!1;for(;l+N<I&&d+N<M&&!C.get(d+N,l+N)&&v[3]<h;)v[3]++,N++;if(l+N>=I||d+N>=M||v[3]>=h)return!1;for(;l+N<I&&d+N<M&&C.get(d+N,l+N)&&v[4]<h;)v[4]++,N++;if(v[4]>=h)return!1;const X=v[0]+v[1]+v[2]+v[3]+v[4];return Math.abs(X-x)<2*x&&pn.foundPatternCross(v)}crossCheckVertical(l,d,h,x){const v=this.image,N=v.getHeight(),C=this.getCrossCheckStateCount();let I=l;for(;I>=0&&v.get(d,I);)C[2]++,I--;if(I<0)return NaN;for(;I>=0&&!v.get(d,I)&&C[1]<=h;)C[1]++,I--;if(I<0||C[1]>h)return NaN;for(;I>=0&&v.get(d,I)&&C[0]<=h;)C[0]++,I--;if(C[0]>h)return NaN;for(I=l+1;I<N&&v.get(d,I);)C[2]++,I++;if(I===N)return NaN;for(;I<N&&!v.get(d,I)&&C[3]<h;)C[3]++,I++;if(I===N||C[3]>=h)return NaN;for(;I<N&&v.get(d,I)&&C[4]<h;)C[4]++,I++;if(C[4]>=h)return NaN;const M=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(M-x)>=2*x?NaN:pn.foundPatternCross(C)?pn.centerFromEnd(C,I):NaN}crossCheckHorizontal(l,d,h,x){const v=this.image,N=v.getWidth(),C=this.getCrossCheckStateCount();let I=l;for(;I>=0&&v.get(I,d);)C[2]++,I--;if(I<0)return NaN;for(;I>=0&&!v.get(I,d)&&C[1]<=h;)C[1]++,I--;if(I<0||C[1]>h)return NaN;for(;I>=0&&v.get(I,d)&&C[0]<=h;)C[0]++,I--;if(C[0]>h)return NaN;for(I=l+1;I<N&&v.get(I,d);)C[2]++,I++;if(I===N)return NaN;for(;I<N&&!v.get(I,d)&&C[3]<h;)C[3]++,I++;if(I===N||C[3]>=h)return NaN;for(;I<N&&v.get(I,d)&&C[4]<h;)C[4]++,I++;if(C[4]>=h)return NaN;const M=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(M-x)>=x?NaN:pn.foundPatternCross(C)?pn.centerFromEnd(C,I):NaN}handlePossibleCenter(l,d,h,x){const v=l[0]+l[1]+l[2]+l[3]+l[4];let N=pn.centerFromEnd(l,h),C=this.crossCheckVertical(d,Math.floor(N),l[2],v);if(!isNaN(C)&&(N=this.crossCheckHorizontal(Math.floor(N),Math.floor(C),l[2],v),!isNaN(N)&&(!x||this.crossCheckDiagonal(Math.floor(C),Math.floor(N),l[2],v)))){const I=v/7;let M=!1;const X=this.possibleCenters;for(let ie=0,me=X.length;ie<me;ie++){const De=X[ie];if(De.aboutEquals(I,C,N)){X[ie]=De.combineEstimate(C,N,I),M=!0;break}}if(!M){const ie=new tu(N,C,I);X.push(ie),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ie)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let d=null;for(const h of this.possibleCenters)if(h.getCount()>=pn.CENTER_QUORUM)if(d==null)d=h;else return this.hasSkipped=!0,Math.floor((Math.abs(d.getX()-h.getX())-Math.abs(d.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,d=0;const h=this.possibleCenters.length;for(const N of this.possibleCenters)N.getCount()>=pn.CENTER_QUORUM&&(l++,d+=N.getEstimatedModuleSize());if(l<3)return!1;const x=d/h;let v=0;for(const N of this.possibleCenters)v+=Math.abs(N.getEstimatedModuleSize()-x);return v<=.05*d}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new se;const d=this.possibleCenters;let h;if(l>3){let x=0,v=0;for(const I of this.possibleCenters){const M=I.getEstimatedModuleSize();x+=M,v+=M*M}h=x/l;let N=Math.sqrt(v/l-h*h);d.sort((I,M)=>{const X=Math.abs(M.getEstimatedModuleSize()-h),ie=Math.abs(I.getEstimatedModuleSize()-h);return X<ie?-1:X>ie?1:0});const C=Math.max(.2*h,N);for(let I=0;I<d.length&&d.length>3;I++){const M=d[I];Math.abs(M.getEstimatedModuleSize()-h)>C&&(d.splice(I,1),I--)}}if(d.length>3){let x=0;for(const v of d)x+=v.getEstimatedModuleSize();h=x/d.length,d.sort((v,N)=>{if(N.getCount()===v.getCount()){const C=Math.abs(N.getEstimatedModuleSize()-h),I=Math.abs(v.getEstimatedModuleSize()-h);return C<I?1:C>I?-1:0}else return N.getCount()-v.getCount()}),d.splice(3)}return[d[0],d[1],d[2]]}}pn.CENTER_QUORUM=2,pn.MIN_SKIP=3,pn.MAX_MODULES=57;class Ll{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(z.NEED_RESULT_POINT_CALLBACK);const h=new pn(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(h)}processFinderPatternInfo(l){const d=l.getTopLeft(),h=l.getTopRight(),x=l.getBottomLeft(),v=this.calculateModuleSize(d,h,x);if(v<1)throw new se("No pattern found in proccess finder.");const N=Ll.computeDimension(d,h,x,v),C=_n.getProvisionalVersionForDimension(N),I=C.getDimensionForVersion()-7;let M=null;if(C.getAlignmentPatternCenters().length>0){const De=h.getX()-d.getX()+x.getX(),de=h.getY()-d.getY()+x.getY(),Ne=1-3/I,Ce=Math.floor(d.getX()+Ne*(De-d.getX())),$e=Math.floor(d.getY()+Ne*(de-d.getY()));for(let vt=4;vt<=16;vt<<=1)try{M=this.findAlignmentInRegion(v,Ce,$e,vt);break}catch(jt){if(!(jt instanceof se))throw jt}}const X=Ll.createTransform(d,h,x,M,N),ie=Ll.sampleGrid(this.image,X,N);let me;return M===null?me=[x,d,h]:me=[x,d,h,M],new Le(ie,me)}static createTransform(l,d,h,x,v){const N=v-3.5;let C,I,M,X;return x!==null?(C=x.getX(),I=x.getY(),M=N-3,X=M):(C=d.getX()-l.getX()+h.getX(),I=d.getY()-l.getY()+h.getY(),M=N,X=N),Vt.quadrilateralToQuadrilateral(3.5,3.5,N,3.5,M,X,3.5,N,l.getX(),l.getY(),d.getX(),d.getY(),C,I,h.getX(),h.getY())}static sampleGrid(l,d,h){return dn.getInstance().sampleGridWithTransform(l,h,h,d)}static computeDimension(l,d,h,x){const v=rt.round(qe.distance(l,d)/x),N=rt.round(qe.distance(l,h)/x);let C=Math.floor((v+N)/2)+7;switch(C&3){case 0:C++;break;case 2:C--;break;case 3:throw new se("Dimensions could be not found.")}return C}calculateModuleSize(l,d,h){return(this.calculateModuleSizeOneWay(l,d)+this.calculateModuleSizeOneWay(l,h))/2}calculateModuleSizeOneWay(l,d){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(d.getX()),Math.floor(d.getY())),x=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(h)?x/7:isNaN(x)?h/7:(h+x)/14}sizeOfBlackWhiteBlackRunBothWays(l,d,h,x){let v=this.sizeOfBlackWhiteBlackRun(l,d,h,x),N=1,C=l-(h-l);C<0?(N=l/(l-C),C=0):C>=this.image.getWidth()&&(N=(this.image.getWidth()-1-l)/(C-l),C=this.image.getWidth()-1);let I=Math.floor(d-(x-d)*N);return N=1,I<0?(N=d/(d-I),I=0):I>=this.image.getHeight()&&(N=(this.image.getHeight()-1-d)/(I-d),I=this.image.getHeight()-1),C=Math.floor(l+(C-l)*N),v+=this.sizeOfBlackWhiteBlackRun(l,d,C,I),v-1}sizeOfBlackWhiteBlackRun(l,d,h,x){const v=Math.abs(x-d)>Math.abs(h-l);if(v){let De=l;l=d,d=De,De=h,h=x,x=De}const N=Math.abs(h-l),C=Math.abs(x-d);let I=-N/2;const M=l<h?1:-1,X=d<x?1:-1;let ie=0;const me=h+M;for(let De=l,de=d;De!==me;De+=M){const Ne=v?de:De,Ce=v?De:de;if(ie===1===this.image.get(Ne,Ce)){if(ie===2)return rt.distance(De,de,l,d);ie++}if(I+=C,I>0){if(de===x)break;de+=X,I-=N}}return ie===2?rt.distance(h+M,x,l,d):NaN}findAlignmentInRegion(l,d,h,x){const v=Math.floor(x*l),N=Math.max(0,d-v),C=Math.min(this.image.getWidth()-1,d+v);if(C-N<l*3)throw new se("Alignment top exceeds estimated module size.");const I=Math.max(0,h-v),M=Math.min(this.image.getHeight()-1,h+v);if(M-I<l*3)throw new se("Alignment bottom exceeds estimated module size.");return new Hi(this.image,N,I,C-N,M-I,l,this.resultPointCallback).find()}}class fo{constructor(){this.decoder=new kl}getDecoder(){return this.decoder}decode(l,d){let h,x;if(d!=null&&d.get(z.PURE_BARCODE)!==void 0){const I=fo.extractPureBits(l.getBlackMatrix());h=this.decoder.decodeBitMatrix(I,d),x=fo.NO_POINTS}else{const I=new Ll(l.getBlackMatrix()).detect(d);h=this.decoder.decodeBitMatrix(I.getBits(),d),x=I.getPoints()}h.getOther()instanceof il&&h.getOther().applyMirroredCorrection(x);const v=new Q(h.getText(),h.getRawBytes(),void 0,x,ce.QR_CODE,void 0),N=h.getByteSegments();N!==null&&v.putMetadata(Fe.BYTE_SEGMENTS,N);const C=h.getECLevel();return C!==null&&v.putMetadata(Fe.ERROR_CORRECTION_LEVEL,C),h.hasStructuredAppend()&&(v.putMetadata(Fe.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),v.putMetadata(Fe.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),v}reset(){}static extractPureBits(l){const d=l.getTopLeftOnBit(),h=l.getBottomRightOnBit();if(d===null||h===null)throw new se;const x=this.moduleSize(d,l);let v=d[1],N=h[1],C=d[0],I=h[0];if(C>=I||v>=N)throw new se;if(N-v!==I-C&&(I=C+(N-v),I>=l.getWidth()))throw new se;const M=Math.round((I-C+1)/x),X=Math.round((N-v+1)/x);if(M<=0||X<=0)throw new se;if(X!==M)throw new se;const ie=Math.floor(x/2);v+=ie,C+=ie;const me=C+Math.floor((M-1)*x)-I;if(me>0){if(me>ie)throw new se;C-=me}const De=v+Math.floor((X-1)*x)-N;if(De>0){if(De>ie)throw new se;v-=De}const de=new ue(M,X);for(let Ne=0;Ne<X;Ne++){const Ce=v+Math.floor(Ne*x);for(let $e=0;$e<M;$e++)l.get(C+Math.floor($e*x),Ce)&&de.set($e,Ne)}return de}static moduleSize(l,d){const h=d.getHeight(),x=d.getWidth();let v=l[0],N=l[1],C=!0,I=0;for(;v<x&&N<h;){if(C!==d.get(v,N)){if(++I===5)break;C=!C}v++,N++}if(v===x||N===h)throw new se;return(v-l[0])/7}}fo.NO_POINTS=new Array;class Sn{PDF417Common(){}static getBitCountSum(l){return rt.sum(l)}static toIntArray(l){if(l==null||!l.length)return Sn.EMPTY_INT_ARRAY;const d=new Int32Array(l.length);let h=0;for(const x of l)d[h++]=x;return d}static getCodeword(l){const d=k.binarySearch(Sn.SYMBOL_TABLE,l&262143);return d<0?-1:(Sn.CODEWORD_TABLE[d]-1)%Sn.NUMBER_OF_CODEWORDS}}Sn.NUMBER_OF_CODEWORDS=929,Sn.MAX_CODEWORDS_IN_BARCODE=Sn.NUMBER_OF_CODEWORDS-1,Sn.MIN_ROWS_IN_BARCODE=3,Sn.MAX_ROWS_IN_BARCODE=90,Sn.MODULES_IN_CODEWORD=17,Sn.MODULES_IN_STOP_PATTERN=18,Sn.BARS_IN_MODULE=8,Sn.EMPTY_INT_ARRAY=new Int32Array([]),Sn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Sn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ed{constructor(l,d){this.bits=l,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class qn{static detectMultiple(l,d,h){let x=l.getBlackMatrix(),v=qn.detect(h,x);return v.length||(x=x.clone(),x.rotate180(),v=qn.detect(h,x)),new ed(x,v)}static detect(l,d){const h=new Array;let x=0,v=0,N=!1;for(;x<d.getHeight();){const C=qn.findVertices(d,x,v);if(C[0]==null&&C[3]==null){if(!N)break;N=!1,v=0;for(const I of h)I[1]!=null&&(x=Math.trunc(Math.max(x,I[1].getY()))),I[3]!=null&&(x=Math.max(x,Math.trunc(I[3].getY())));x+=qn.ROW_STEP;continue}if(N=!0,h.push(C),!l)break;C[2]!=null?(v=Math.trunc(C[2].getX()),x=Math.trunc(C[2].getY())):(v=Math.trunc(C[4].getX()),x=Math.trunc(C[4].getY()))}return h}static findVertices(l,d,h){const x=l.getHeight(),v=l.getWidth(),N=new Array(8);return qn.copyToResult(N,qn.findRowsWithPattern(l,x,v,d,h,qn.START_PATTERN),qn.INDEXES_START_PATTERN),N[4]!=null&&(h=Math.trunc(N[4].getX()),d=Math.trunc(N[4].getY())),qn.copyToResult(N,qn.findRowsWithPattern(l,x,v,d,h,qn.STOP_PATTERN),qn.INDEXES_STOP_PATTERN),N}static copyToResult(l,d,h){for(let x=0;x<h.length;x++)l[h[x]]=d[x]}static findRowsWithPattern(l,d,h,x,v,N){const C=new Array(4);let I=!1;const M=new Int32Array(N.length);for(;x<d;x+=qn.ROW_STEP){let ie=qn.findGuardPattern(l,v,x,h,!1,N,M);if(ie!=null){for(;x>0;){const me=qn.findGuardPattern(l,v,--x,h,!1,N,M);if(me!=null)ie=me;else{x++;break}}C[0]=new qe(ie[0],x),C[1]=new qe(ie[1],x),I=!0;break}}let X=x+1;if(I){let ie=0,me=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;X<d;X++){const De=qn.findGuardPattern(l,me[0],X,h,!1,N,M);if(De!=null&&Math.abs(me[0]-De[0])<qn.MAX_PATTERN_DRIFT&&Math.abs(me[1]-De[1])<qn.MAX_PATTERN_DRIFT)me=De,ie=0;else{if(ie>qn.SKIPPED_ROW_COUNT_MAX)break;ie++}}X-=ie+1,C[2]=new qe(me[0],X),C[3]=new qe(me[1],X)}return X-x<qn.BARCODE_MIN_HEIGHT&&k.fill(C,null),C}static findGuardPattern(l,d,h,x,v,N,C){k.fillWithin(C,0,C.length,0);let I=d,M=0;for(;l.get(I,h)&&I>0&&M++<qn.MAX_PIXEL_DRIFT;)I--;let X=I,ie=0,me=N.length;for(let De=v;X<x;X++)if(l.get(X,h)!==De)C[ie]++;else{if(ie===me-1){if(qn.patternMatchVariance(C,N,qn.MAX_INDIVIDUAL_VARIANCE)<qn.MAX_AVG_VARIANCE)return new Int32Array([I,X]);I+=C[0]+C[1],S.arraycopy(C,2,C,0,ie-1),C[ie-1]=0,C[ie]=0,ie--}else ie++;C[ie]=1,De=!De}return ie===me-1&&qn.patternMatchVariance(C,N,qn.MAX_INDIVIDUAL_VARIANCE)<qn.MAX_AVG_VARIANCE?new Int32Array([I,X-1]):null}static patternMatchVariance(l,d,h){let x=l.length,v=0,N=0;for(let M=0;M<x;M++)v+=l[M],N+=d[M];if(v<N)return 1/0;let C=v/N;h*=C;let I=0;for(let M=0;M<x;M++){let X=l[M],ie=d[M]*C,me=X>ie?X-ie:ie-X;if(me>h)return 1/0;I+=me}return I/v}}qn.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),qn.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),qn.MAX_AVG_VARIANCE=.42,qn.MAX_INDIVIDUAL_VARIANCE=.8,qn.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),qn.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),qn.MAX_PIXEL_DRIFT=3,qn.MAX_PATTERN_DRIFT=5,qn.SKIPPED_ROW_COUNT_MAX=25,qn.ROW_STEP=5,qn.BARCODE_MIN_HEIGHT=10;class bi{constructor(l,d){if(d.length===0)throw new g;this.field=l;let h=d.length;if(h>1&&d[0]===0){let x=1;for(;x<h&&d[x]===0;)x++;x===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-x),S.arraycopy(d,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let x=0;for(let v of this.coefficients)x=this.field.add(x,v);return x}let d=this.coefficients[0],h=this.coefficients.length;for(let x=1;x<h;x++)d=this.field.add(this.field.multiply(l,d),this.coefficients[x]);return d}add(l){if(!this.field.equals(l.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let d=this.coefficients,h=l.coefficients;if(d.length>h.length){let N=d;d=h,h=N}let x=new Int32Array(h.length),v=h.length-d.length;S.arraycopy(h,0,x,0,v);for(let N=v;N<h.length;N++)x[N]=this.field.add(d[N-v],h[N]);return new bi(this.field,x)}subtract(l){if(!this.field.equals(l.field))throw new g("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof bi?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new bi(this.field,new Int32Array([0]));let d=this.coefficients,h=d.length,x=l.coefficients,v=x.length,N=new Int32Array(h+v-1);for(let C=0;C<h;C++){let I=d[C];for(let M=0;M<v;M++)N[C+M]=this.field.add(N[C+M],this.field.multiply(I,x[M]))}return new bi(this.field,N)}negative(){let l=this.coefficients.length,d=new Int32Array(l);for(let h=0;h<l;h++)d[h]=this.field.subtract(0,this.coefficients[h]);return new bi(this.field,d)}multiplyScalar(l){if(l===0)return new bi(this.field,new Int32Array([0]));if(l===1)return this;let d=this.coefficients.length,h=new Int32Array(d);for(let x=0;x<d;x++)h[x]=this.field.multiply(this.coefficients[x],l);return new bi(this.field,h)}multiplyByMonomial(l,d){if(l<0)throw new g;if(d===0)return new bi(this.field,new Int32Array([0]));let h=this.coefficients.length,x=new Int32Array(h+l);for(let v=0;v<h;v++)x[v]=this.field.multiply(this.coefficients[v],d);return new bi(this.field,x)}toString(){let l=new J;for(let d=this.getDegree();d>=0;d--){let h=this.getCoefficient(d);h!==0&&(h<0?(l.append(" - "),h=-h):l.length()>0&&l.append(" + "),(d===0||h!==1)&&l.append(h),d!==0&&(d===1?l.append("x"):(l.append("x^"),l.append(d))))}return l.toString()}}class nu{add(l,d){return(l+d)%this.modulus}subtract(l,d){return(this.modulus+l-d)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new g;return this.logTable[l]}inverse(l){if(l===0)throw new bt;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,d){return l===0||d===0?0:this.expTable[(this.logTable[l]+this.logTable[d])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class ru extends nu{constructor(l,d){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let h=1;for(let x=0;x<l;x++)this.expTable[x]=h,h=h*d%l;for(let x=0;x<l-1;x++)this.logTable[this.expTable[x]]=x;this.zero=new bi(this,new Int32Array([0])),this.one=new bi(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,d){if(l<0)throw new g;if(d===0)return this.zero;let h=new Int32Array(l+1);return h[0]=d,new bi(this,h)}}ru.PDF417_GF=new ru(Sn.NUMBER_OF_CODEWORDS,3);class td{constructor(){this.field=ru.PDF417_GF}decode(l,d,h){let x=new bi(this.field,l),v=new Int32Array(d),N=!1;for(let de=d;de>0;de--){let Ne=x.evaluateAt(this.field.exp(de));v[d-de]=Ne,Ne!==0&&(N=!0)}if(!N)return 0;let C=this.field.getOne();if(h!=null)for(const de of h){let Ne=this.field.exp(l.length-1-de),Ce=new bi(this.field,new Int32Array([this.field.subtract(0,Ne),1]));C=C.multiply(Ce)}let I=new bi(this.field,v),M=this.runEuclideanAlgorithm(this.field.buildMonomial(d,1),I,d),X=M[0],ie=M[1],me=this.findErrorLocations(X),De=this.findErrorMagnitudes(ie,X,me);for(let de=0;de<me.length;de++){let Ne=l.length-1-this.field.log(me[de]);if(Ne<0)throw y.getChecksumInstance();l[Ne]=this.field.subtract(l[Ne],De[de])}return me.length}runEuclideanAlgorithm(l,d,h){if(l.getDegree()<d.getDegree()){let me=l;l=d,d=me}let x=l,v=d,N=this.field.getZero(),C=this.field.getOne();for(;v.getDegree()>=Math.round(h/2);){let me=x,De=N;if(x=v,N=C,x.isZero())throw y.getChecksumInstance();v=me;let de=this.field.getZero(),Ne=x.getCoefficient(x.getDegree()),Ce=this.field.inverse(Ne);for(;v.getDegree()>=x.getDegree()&&!v.isZero();){let $e=v.getDegree()-x.getDegree(),vt=this.field.multiply(v.getCoefficient(v.getDegree()),Ce);de=de.add(this.field.buildMonomial($e,vt)),v=v.subtract(x.multiplyByMonomial($e,vt))}C=de.multiply(N).subtract(De).negative()}let I=C.getCoefficient(0);if(I===0)throw y.getChecksumInstance();let M=this.field.inverse(I),X=C.multiply(M),ie=v.multiply(M);return[X,ie]}findErrorLocations(l){let d=l.getDegree(),h=new Int32Array(d),x=0;for(let v=1;v<this.field.getSize()&&x<d;v++)l.evaluateAt(v)===0&&(h[x]=this.field.inverse(v),x++);if(x!==d)throw y.getChecksumInstance();return h}findErrorMagnitudes(l,d,h){let x=d.getDegree(),v=new Int32Array(x);for(let M=1;M<=x;M++)v[x-M]=this.field.multiply(M,d.getCoefficient(M));let N=new bi(this.field,v),C=h.length,I=new Int32Array(C);for(let M=0;M<C;M++){let X=this.field.inverse(h[M]),ie=this.field.subtract(0,l.evaluateAt(X)),me=this.field.inverse(N.evaluateAt(X));I[M]=this.field.multiply(ie,me)}return I}}class Ro{constructor(l,d,h,x,v){l instanceof Ro?this.constructor_2(l):this.constructor_1(l,d,h,x,v)}constructor_1(l,d,h,x,v){const N=d==null||h==null,C=x==null||v==null;if(N&&C)throw new se;N?(d=new qe(0,x.getY()),h=new qe(0,v.getY())):C&&(x=new qe(l.getWidth()-1,d.getY()),v=new qe(l.getWidth()-1,h.getY())),this.image=l,this.topLeft=d,this.bottomLeft=h,this.topRight=x,this.bottomRight=v,this.minX=Math.trunc(Math.min(d.getX(),h.getX())),this.maxX=Math.trunc(Math.max(x.getX(),v.getX())),this.minY=Math.trunc(Math.min(d.getY(),x.getY())),this.maxY=Math.trunc(Math.max(h.getY(),v.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,d){return l==null?d:d==null?l:new Ro(l.image,l.topLeft,l.bottomLeft,d.topRight,d.bottomRight)}addMissingRows(l,d,h){let x=this.topLeft,v=this.bottomLeft,N=this.topRight,C=this.bottomRight;if(l>0){let I=h?this.topLeft:this.topRight,M=Math.trunc(I.getY()-l);M<0&&(M=0);let X=new qe(I.getX(),M);h?x=X:N=X}if(d>0){let I=h?this.bottomLeft:this.bottomRight,M=Math.trunc(I.getY()+d);M>=this.image.getHeight()&&(M=this.image.getHeight()-1);let X=new qe(I.getX(),M);h?v=X:C=X}return new Ro(this.image,x,v,N,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class kr{constructor(l,d,h,x){this.columnCount=l,this.errorCorrectionLevel=x,this.rowCountUpperPart=d,this.rowCountLowerPart=h,this.rowCount=d+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ur{constructor(){this.buffer=""}static form(l,d){let h=-1;function x(N,C,I,M,X,ie){if(N==="%%")return"%";if(d[++h]===void 0)return;N=M?parseInt(M.substr(1)):void 0;let me=X?parseInt(X.substr(1)):void 0,De;switch(ie){case"s":De=d[h];break;case"c":De=d[h][0];break;case"f":De=parseFloat(d[h]).toFixed(N);break;case"p":De=parseFloat(d[h]).toPrecision(N);break;case"e":De=parseFloat(d[h]).toExponential(N);break;case"x":De=parseInt(d[h]).toString(me||16);break;case"d":De=parseFloat(parseInt(d[h],me||10).toPrecision(N)).toFixed(0);break}De=typeof De=="object"?JSON.stringify(De):(+De).toString(me);let de=parseInt(I),Ne=I&&I[0]+""=="0"?"0":" ";for(;De.length<de;)De=C!==void 0?De+Ne:Ne+De;return De}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(v,x)}format(l,...d){this.buffer+=ur.form(l,d)}toString(){return this.buffer}}class _s{constructor(l){this.boundingBox=new Ro(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let d=this.getCodeword(l);if(d!=null)return d;for(let h=1;h<_s.MAX_NEARBY_DISTANCE;h++){let x=this.imageRowToCodewordIndex(l)-h;if(x>=0&&(d=this.codewords[x],d!=null)||(x=this.imageRowToCodewordIndex(l)+h,x<this.codewords.length&&(d=this.codewords[x],d!=null)))return d}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,d){this.codewords[this.imageRowToCodewordIndex(l)]=d}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new ur;let d=0;for(const h of this.codewords){if(h==null){l.format("%3d:    |   %n",d++);continue}l.format("%3d: %3d|%3d%n",d++,h.getRowNumber(),h.getValue())}return l.toString()}}_s.MAX_NEARBY_DISTANCE=5;class Il{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let d=this.values.get(l);d==null&&(d=0),d++,this.values.set(l,d)}getValue(){let l=-1,d=new Array;for(const[h,x]of this.values.entries()){const v={getKey:()=>h,getValue:()=>x};v.getValue()>l?(l=v.getValue(),d=[],d.push(v.getKey())):v.getValue()===l&&d.push(v.getKey())}return Sn.toIntArray(d)}getConfidence(l){return this.values.get(l)}}class al extends _s{constructor(l,d){super(l),this._isLeft=d}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let d=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(d,l);let h=this.getBoundingBox(),x=this._isLeft?h.getTopLeft():h.getTopRight(),v=this._isLeft?h.getBottomLeft():h.getBottomRight(),N=this.imageRowToCodewordIndex(Math.trunc(x.getY())),C=this.imageRowToCodewordIndex(Math.trunc(v.getY())),I=-1,M=1,X=0;for(let ie=N;ie<C;ie++){if(d[ie]==null)continue;let me=d[ie],De=me.getRowNumber()-I;if(De===0)X++;else if(De===1)M=Math.max(M,X),X=1,I=me.getRowNumber();else if(De<0||me.getRowNumber()>=l.getRowCount()||De>ie)d[ie]=null;else{let de;M>2?de=(M-2)*De:de=De;let Ne=de>=ie;for(let Ce=1;Ce<=de&&!Ne;Ce++)Ne=d[ie-Ce]!=null;Ne?d[ie]=null:(I=me.getRowNumber(),X=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let d=new Int32Array(l.getRowCount());for(let h of this.getCodewords())if(h!=null){let x=h.getRowNumber();if(x>=d.length)continue;d[x]++}return d}adjustIncompleteIndicatorColumnRowNumbers(l){let d=this.getBoundingBox(),h=this._isLeft?d.getTopLeft():d.getTopRight(),x=this._isLeft?d.getBottomLeft():d.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(h.getY())),N=this.imageRowToCodewordIndex(Math.trunc(x.getY())),C=this.getCodewords(),I=-1;for(let M=v;M<N;M++){if(C[M]==null)continue;let X=C[M];X.setRowNumberAsRowIndicatorColumn();let ie=X.getRowNumber()-I;ie===0||(ie===1?I=X.getRowNumber():X.getRowNumber()>=l.getRowCount()?C[M]=null:I=X.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),d=new Il,h=new Il,x=new Il,v=new Il;for(let C of l){if(C==null)continue;C.setRowNumberAsRowIndicatorColumn();let I=C.getValue()%30,M=C.getRowNumber();switch(this._isLeft||(M+=2),M%3){case 0:h.setValue(I*3+1);break;case 1:v.setValue(I/3),x.setValue(I%3);break;case 2:d.setValue(I+1);break}}if(d.getValue().length===0||h.getValue().length===0||x.getValue().length===0||v.getValue().length===0||d.getValue()[0]<1||h.getValue()[0]+x.getValue()[0]<Sn.MIN_ROWS_IN_BARCODE||h.getValue()[0]+x.getValue()[0]>Sn.MAX_ROWS_IN_BARCODE)return null;let N=new kr(d.getValue()[0],h.getValue()[0],x.getValue()[0],v.getValue()[0]);return this.removeIncorrectCodewords(l,N),N}removeIncorrectCodewords(l,d){for(let h=0;h<l.length;h++){let x=l[h];if(l[h]==null)continue;let v=x.getValue()%30,N=x.getRowNumber();if(N>d.getRowCount()){l[h]=null;continue}switch(this._isLeft||(N+=2),N%3){case 0:v*3+1!==d.getRowCountUpperPart()&&(l[h]=null);break;case 1:(Math.trunc(v/3)!==d.getErrorCorrectionLevel()||v%3!==d.getRowCountLowerPart())&&(l[h]=null);break;case 2:v+1!==d.getColumnCount()&&(l[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Mo{constructor(l,d){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=d,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=Sn.MAX_CODEWORDS_IN_BARCODE,d;do d=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<d);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let d=1;d<this.barcodeColumnCount+1;d++){let h=this.detectionResultColumns[d].getCodewords();for(let x=0;x<h.length;x++)h[x]!=null&&(h[x].hasValidRowNumber()||this.adjustRowNumbers(d,x,h))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<l.length;h++)if(l[h]!=null&&d[h]!=null&&l[h].getRowNumber()===d[h].getRowNumber())for(let x=1;x<=this.barcodeColumnCount;x++){let v=this.detectionResultColumns[x].getCodewords()[h];v!=null&&(v.setRowNumber(l[h].getRowNumber()),v.hasValidRowNumber()||(this.detectionResultColumns[x].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<d.length;h++){if(d[h]==null)continue;let x=d[h].getRowNumber(),v=0;for(let N=this.barcodeColumnCount+1;N>0&&v<this.ADJUST_ROW_NUMBER_SKIP;N--){let C=this.detectionResultColumns[N].getCodewords()[h];C!=null&&(v=Mo.adjustRowNumberIfValid(x,v,C),C.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,d=this.detectionResultColumns[0].getCodewords();for(let h=0;h<d.length;h++){if(d[h]==null)continue;let x=d[h].getRowNumber(),v=0;for(let N=1;N<this.barcodeColumnCount+1&&v<this.ADJUST_ROW_NUMBER_SKIP;N++){let C=this.detectionResultColumns[N].getCodewords()[h];C!=null&&(v=Mo.adjustRowNumberIfValid(x,v,C),C.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,d,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(l)?(h.setRowNumber(l),d=0):++d),d}adjustRowNumbers(l,d,h){if(!this.detectionResultColumns[l-1])return;let x=h[d],v=this.detectionResultColumns[l-1].getCodewords(),N=v;this.detectionResultColumns[l+1]!=null&&(N=this.detectionResultColumns[l+1].getCodewords());let C=new Array(14);C[2]=v[d],C[3]=N[d],d>0&&(C[0]=h[d-1],C[4]=v[d-1],C[5]=N[d-1]),d>1&&(C[8]=h[d-2],C[10]=v[d-2],C[11]=N[d-2]),d<h.length-1&&(C[1]=h[d+1],C[6]=v[d+1],C[7]=N[d+1]),d<h.length-2&&(C[9]=h[d+2],C[12]=v[d+2],C[13]=N[d+2]);for(let I of C)if(Mo.adjustRowNumber(x,I))return}static adjustRowNumber(l,d){return d==null?!1:d.hasValidRowNumber()&&d.getBucket()===l.getBucket()?(l.setRowNumber(d.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,d){this.detectionResultColumns[l]=d}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let d=new ur;for(let h=0;h<l.getCodewords().length;h++){d.format("CW %3d:",h);for(let x=0;x<this.barcodeColumnCount+2;x++){if(this.detectionResultColumns[x]==null){d.format("    |   ");continue}let v=this.detectionResultColumns[x].getCodewords()[h];if(v==null){d.format("    |   ");continue}d.format(" %3d|%3d",v.getRowNumber(),v.getValue())}d.format("%n")}return d.toString()}}class ho{constructor(l,d,h,x){this.rowNumber=ho.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(d),this.bucket=Math.trunc(h),this.value=Math.trunc(x)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==ho.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}ho.BARCODE_ROW_UNKNOWN=-1;class ma{static initialize(){for(let l=0;l<Sn.SYMBOL_TABLE.length;l++){let d=Sn.SYMBOL_TABLE[l],h=d&1;for(let x=0;x<Sn.BARS_IN_MODULE;x++){let v=0;for(;(d&1)===h;)v+=1,d>>=1;h=d&1,ma.RATIOS_TABLE[l]||(ma.RATIOS_TABLE[l]=new Array(Sn.BARS_IN_MODULE)),ma.RATIOS_TABLE[l][Sn.BARS_IN_MODULE-x-1]=Math.fround(v/Sn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let d=ma.getDecodedCodewordValue(ma.sampleBitCounts(l));return d!==-1?d:ma.getClosestDecodedValue(l)}static sampleBitCounts(l){let d=rt.sum(l),h=new Int32Array(Sn.BARS_IN_MODULE),x=0,v=0;for(let N=0;N<Sn.MODULES_IN_CODEWORD;N++){let C=d/(2*Sn.MODULES_IN_CODEWORD)+N*d/Sn.MODULES_IN_CODEWORD;v+l[x]<=C&&(v+=l[x],x++),h[x]++}return h}static getDecodedCodewordValue(l){let d=ma.getBitValue(l);return Sn.getCodeword(d)===-1?-1:d}static getBitValue(l){let d=0;for(let h=0;h<l.length;h++)for(let x=0;x<l[h];x++)d=d<<1|(h%2===0?1:0);return Math.trunc(d)}static getClosestDecodedValue(l){let d=rt.sum(l),h=new Array(Sn.BARS_IN_MODULE);if(d>1)for(let N=0;N<h.length;N++)h[N]=Math.fround(l[N]/d);let x=Ee.MAX_VALUE,v=-1;this.bSymbolTableReady||ma.initialize();for(let N=0;N<ma.RATIOS_TABLE.length;N++){let C=0,I=ma.RATIOS_TABLE[N];for(let M=0;M<Sn.BARS_IN_MODULE;M++){let X=Math.fround(I[M]-h[M]);if(C+=Math.fround(X*X),C>=x)break}C<x&&(x=C,v=Sn.SYMBOL_TABLE[N])}return v}}ma.bSymbolTableReady=!1,ma.RATIOS_TABLE=new Array(Sn.SYMBOL_TABLE.length).map(re=>new Array(Sn.BARS_IN_MODULE));class xc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class iu{static parseLong(l,d=void 0){return parseInt(l,d)}}class Ai extends f{}Ai.kind="NullPointerException";class Ss{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,d,h){if(l==null)throw new Ai;if(d<0||d>l.length||h<0||d+h>l.length||d+h<0)throw new A;if(h===0)return;for(let x=0;x<h;x++)this.write(l[d+x])}flush(){}close(){}}class za extends f{}class nd extends Ss{constructor(l=32){if(super(),this.count=0,l<0)throw new g("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let h=this.buf.length<<1;if(h-l<0&&(h=l),h<0){if(l<0)throw new za;h=D.MAX_VALUE}this.buf=k.copyOfUint8Array(this.buf,h)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,d,h){if(d<0||d>l.length||h<0||d+h-l.length>0)throw new A;this.ensureCapacity(this.count+h),S.arraycopy(l,d,this.buf,this.count,h),this.count+=h}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return k.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var sr;(function(re){re[re.ALPHA=0]="ALPHA",re[re.LOWER=1]="LOWER",re[re.MIXED=2]="MIXED",re[re.PUNCT=3]="PUNCT",re[re.ALPHA_SHIFT=4]="ALPHA_SHIFT",re[re.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(sr||(sr={}));function vi(){if(typeof window<"u")return window.BigInt||null;if(typeof no<"u")return no.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Po;function Wa(re){if(typeof Po>"u"&&(Po=vi()),Po===null)throw new Error("BigInt is not supported!");return Po(re)}function rd(){let re=[];re[0]=Wa(1);let l=Wa(900);re[1]=l;for(let d=2;d<16;d++)re[d]=re[d-1]*l;return re}class gt{static decode(l,d){let h=new J(""),x=q.ISO8859_1;h.enableDecoding(x);let v=1,N=l[v++],C=new xc;for(;v<l[0];){switch(N){case gt.TEXT_COMPACTION_MODE_LATCH:v=gt.textCompaction(l,v,h);break;case gt.BYTE_COMPACTION_MODE_LATCH:case gt.BYTE_COMPACTION_MODE_LATCH_6:v=gt.byteCompaction(N,l,x,v,h);break;case gt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[v++]);break;case gt.NUMERIC_COMPACTION_MODE_LATCH:v=gt.numericCompaction(l,v,h);break;case gt.ECI_CHARSET:q.getCharacterSetECIByValue(l[v++]);break;case gt.ECI_GENERAL_PURPOSE:v+=2;break;case gt.ECI_USER_DEFINED:v++;break;case gt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:v=gt.decodeMacroBlock(l,v,C);break;case gt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case gt.MACRO_PDF417_TERMINATOR:throw new R;default:v--,v=gt.textCompaction(l,v,h);break}if(v<l.length)N=l[v++];else throw R.getFormatInstance()}if(h.length()===0)throw R.getFormatInstance();let I=new ze(null,h.toString(),null,d);return I.setOther(C),I}static decodeMacroBlock(l,d,h){if(d+gt.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw R.getFormatInstance();let x=new Int32Array(gt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<gt.NUMBER_OF_SEQUENCE_CODEWORDS;C++,d++)x[C]=l[d];h.setSegmentIndex(D.parseInt(gt.decodeBase900toBase10(x,gt.NUMBER_OF_SEQUENCE_CODEWORDS)));let v=new J;d=gt.textCompaction(l,d,v),h.setFileId(v.toString());let N=-1;for(l[d]===gt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(N=d+1);d<l[0];)switch(l[d]){case gt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(d++,l[d]){case gt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new J;d=gt.textCompaction(l,d+1,C),h.setFileName(C.toString());break;case gt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let I=new J;d=gt.textCompaction(l,d+1,I),h.setSender(I.toString());break;case gt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let M=new J;d=gt.textCompaction(l,d+1,M),h.setAddressee(M.toString());break;case gt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let X=new J;d=gt.numericCompaction(l,d+1,X),h.setSegmentCount(D.parseInt(X.toString()));break;case gt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ie=new J;d=gt.numericCompaction(l,d+1,ie),h.setTimestamp(iu.parseLong(ie.toString()));break;case gt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let me=new J;d=gt.numericCompaction(l,d+1,me),h.setChecksum(D.parseInt(me.toString()));break;case gt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let De=new J;d=gt.numericCompaction(l,d+1,De),h.setFileSize(iu.parseLong(De.toString()));break;default:throw R.getFormatInstance()}break;case gt.MACRO_PDF417_TERMINATOR:d++,h.setLastSegment(!0);break;default:throw R.getFormatInstance()}if(N!==-1){let C=d-N;h.isLastSegment()&&C--,h.setOptionalData(k.copyOfRange(l,N,N+C))}return d}static textCompaction(l,d,h){let x=new Int32Array((l[0]-d)*2),v=new Int32Array((l[0]-d)*2),N=0,C=!1;for(;d<l[0]&&!C;){let I=l[d++];if(I<gt.TEXT_COMPACTION_MODE_LATCH)x[N]=I/30,x[N+1]=I%30,N+=2;else switch(I){case gt.TEXT_COMPACTION_MODE_LATCH:x[N++]=gt.TEXT_COMPACTION_MODE_LATCH;break;case gt.BYTE_COMPACTION_MODE_LATCH:case gt.BYTE_COMPACTION_MODE_LATCH_6:case gt.NUMERIC_COMPACTION_MODE_LATCH:case gt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case gt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case gt.MACRO_PDF417_TERMINATOR:d--,C=!0;break;case gt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x[N]=gt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,I=l[d++],v[N]=I,N++;break}}return gt.decodeTextCompaction(x,v,N,h),d}static decodeTextCompaction(l,d,h,x){let v=sr.ALPHA,N=sr.ALPHA,C=0;for(;C<h;){let I=l[C],M="";switch(v){case sr.ALPHA:if(I<26)M=String.fromCharCode(65+I);else switch(I){case 26:M=" ";break;case gt.LL:v=sr.LOWER;break;case gt.ML:v=sr.MIXED;break;case gt.PS:N=v,v=sr.PUNCT_SHIFT;break;case gt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(d[C]);break;case gt.TEXT_COMPACTION_MODE_LATCH:v=sr.ALPHA;break}break;case sr.LOWER:if(I<26)M=String.fromCharCode(97+I);else switch(I){case 26:M=" ";break;case gt.AS:N=v,v=sr.ALPHA_SHIFT;break;case gt.ML:v=sr.MIXED;break;case gt.PS:N=v,v=sr.PUNCT_SHIFT;break;case gt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(d[C]);break;case gt.TEXT_COMPACTION_MODE_LATCH:v=sr.ALPHA;break}break;case sr.MIXED:if(I<gt.PL)M=gt.MIXED_CHARS[I];else switch(I){case gt.PL:v=sr.PUNCT;break;case 26:M=" ";break;case gt.LL:v=sr.LOWER;break;case gt.AL:v=sr.ALPHA;break;case gt.PS:N=v,v=sr.PUNCT_SHIFT;break;case gt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(d[C]);break;case gt.TEXT_COMPACTION_MODE_LATCH:v=sr.ALPHA;break}break;case sr.PUNCT:if(I<gt.PAL)M=gt.PUNCT_CHARS[I];else switch(I){case gt.PAL:v=sr.ALPHA;break;case gt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(d[C]);break;case gt.TEXT_COMPACTION_MODE_LATCH:v=sr.ALPHA;break}break;case sr.ALPHA_SHIFT:if(v=N,I<26)M=String.fromCharCode(65+I);else switch(I){case 26:M=" ";break;case gt.TEXT_COMPACTION_MODE_LATCH:v=sr.ALPHA;break}break;case sr.PUNCT_SHIFT:if(v=N,I<gt.PAL)M=gt.PUNCT_CHARS[I];else switch(I){case gt.PAL:v=sr.ALPHA;break;case gt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(d[C]);break;case gt.TEXT_COMPACTION_MODE_LATCH:v=sr.ALPHA;break}break}M!==""&&x.append(M),C++}}static byteCompaction(l,d,h,x,v){let N=new nd,C=0,I=0,M=!1;switch(l){case gt.BYTE_COMPACTION_MODE_LATCH:let X=new Int32Array(6),ie=d[x++];for(;x<d[0]&&!M;)switch(X[C++]=ie,I=900*I+ie,ie=d[x++],ie){case gt.TEXT_COMPACTION_MODE_LATCH:case gt.BYTE_COMPACTION_MODE_LATCH:case gt.NUMERIC_COMPACTION_MODE_LATCH:case gt.BYTE_COMPACTION_MODE_LATCH_6:case gt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case gt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case gt.MACRO_PDF417_TERMINATOR:x--,M=!0;break;default:if(C%5===0&&C>0){for(let me=0;me<6;++me)N.write(Number(Wa(I)>>Wa(8*(5-me))));I=0,C=0}break}x===d[0]&&ie<gt.TEXT_COMPACTION_MODE_LATCH&&(X[C++]=ie);for(let me=0;me<C;me++)N.write(X[me]);break;case gt.BYTE_COMPACTION_MODE_LATCH_6:for(;x<d[0]&&!M;){let me=d[x++];if(me<gt.TEXT_COMPACTION_MODE_LATCH)C++,I=900*I+me;else switch(me){case gt.TEXT_COMPACTION_MODE_LATCH:case gt.BYTE_COMPACTION_MODE_LATCH:case gt.NUMERIC_COMPACTION_MODE_LATCH:case gt.BYTE_COMPACTION_MODE_LATCH_6:case gt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case gt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case gt.MACRO_PDF417_TERMINATOR:x--,M=!0;break}if(C%5===0&&C>0){for(let De=0;De<6;++De)N.write(Number(Wa(I)>>Wa(8*(5-De))));I=0,C=0}}break}return v.append(H.decode(N.toByteArray(),h)),x}static numericCompaction(l,d,h){let x=0,v=!1,N=new Int32Array(gt.MAX_NUMERIC_CODEWORDS);for(;d<l[0]&&!v;){let C=l[d++];if(d===l[0]&&(v=!0),C<gt.TEXT_COMPACTION_MODE_LATCH)N[x]=C,x++;else switch(C){case gt.TEXT_COMPACTION_MODE_LATCH:case gt.BYTE_COMPACTION_MODE_LATCH:case gt.BYTE_COMPACTION_MODE_LATCH_6:case gt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case gt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case gt.MACRO_PDF417_TERMINATOR:d--,v=!0;break}(x%gt.MAX_NUMERIC_CODEWORDS===0||C===gt.NUMERIC_COMPACTION_MODE_LATCH||v)&&x>0&&(h.append(gt.decodeBase900toBase10(N,x)),x=0)}return d}static decodeBase900toBase10(l,d){let h=Wa(0);for(let v=0;v<d;v++)h+=gt.EXP900[d-v-1]*Wa(l[v]);let x=h.toString();if(x.charAt(0)!=="1")throw new R;return x.substring(1)}}gt.TEXT_COMPACTION_MODE_LATCH=900,gt.BYTE_COMPACTION_MODE_LATCH=901,gt.NUMERIC_COMPACTION_MODE_LATCH=902,gt.BYTE_COMPACTION_MODE_LATCH_6=924,gt.ECI_USER_DEFINED=925,gt.ECI_GENERAL_PURPOSE=926,gt.ECI_CHARSET=927,gt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,gt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,gt.MACRO_PDF417_TERMINATOR=922,gt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,gt.MAX_NUMERIC_CODEWORDS=15,gt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,gt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,gt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,gt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,gt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,gt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,gt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,gt.PL=25,gt.LL=27,gt.AS=27,gt.ML=28,gt.AL=28,gt.PS=29,gt.PAL=29,gt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,gt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",gt.EXP900=vi()?rd():[],gt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Kn{constructor(){}static decode(l,d,h,x,v,N,C){let I=new Ro(l,d,h,x,v),M=null,X=null,ie;for(let de=!0;;de=!1){if(d!=null&&(M=Kn.getRowIndicatorColumn(l,I,d,!0,N,C)),x!=null&&(X=Kn.getRowIndicatorColumn(l,I,x,!1,N,C)),ie=Kn.merge(M,X),ie==null)throw se.getNotFoundInstance();let Ne=ie.getBoundingBox();if(de&&Ne!=null&&(Ne.getMinY()<I.getMinY()||Ne.getMaxY()>I.getMaxY()))I=Ne;else break}ie.setBoundingBox(I);let me=ie.getBarcodeColumnCount()+1;ie.setDetectionResultColumn(0,M),ie.setDetectionResultColumn(me,X);let De=M!=null;for(let de=1;de<=me;de++){let Ne=De?de:me-de;if(ie.getDetectionResultColumn(Ne)!==void 0)continue;let Ce;Ne===0||Ne===me?Ce=new al(I,Ne===0):Ce=new _s(I),ie.setDetectionResultColumn(Ne,Ce);let $e=-1,vt=$e;for(let jt=I.getMinY();jt<=I.getMaxY();jt++){if($e=Kn.getStartColumn(ie,Ne,jt,De),$e<0||$e>I.getMaxX()){if(vt===-1)continue;$e=vt}let Lt=Kn.detectCodeword(l,I.getMinX(),I.getMaxX(),De,$e,jt,N,C);Lt!=null&&(Ce.setCodeword(jt,Lt),vt=$e,N=Math.min(N,Lt.getWidth()),C=Math.max(C,Lt.getWidth()))}}return Kn.createDecoderResult(ie)}static merge(l,d){if(l==null&&d==null)return null;let h=Kn.getBarcodeMetadata(l,d);if(h==null)return null;let x=Ro.merge(Kn.adjustBoundingBox(l),Kn.adjustBoundingBox(d));return new Mo(h,x)}static adjustBoundingBox(l){if(l==null)return null;let d=l.getRowHeights();if(d==null)return null;let h=Kn.getMax(d),x=0;for(let C of d)if(x+=h-C,C>0)break;let v=l.getCodewords();for(let C=0;x>0&&v[C]==null;C++)x--;let N=0;for(let C=d.length-1;C>=0&&(N+=h-d[C],!(d[C]>0));C--);for(let C=v.length-1;N>0&&v[C]==null;C--)N--;return l.getBoundingBox().addMissingRows(x,N,l.isLeft())}static getMax(l){let d=-1;for(let h of l)d=Math.max(d,h);return d}static getBarcodeMetadata(l,d){let h;if(l==null||(h=l.getBarcodeMetadata())==null)return d==null?null:d.getBarcodeMetadata();let x;return d==null||(x=d.getBarcodeMetadata())==null?h:h.getColumnCount()!==x.getColumnCount()&&h.getErrorCorrectionLevel()!==x.getErrorCorrectionLevel()&&h.getRowCount()!==x.getRowCount()?null:h}static getRowIndicatorColumn(l,d,h,x,v,N){let C=new al(d,x);for(let I=0;I<2;I++){let M=I===0?1:-1,X=Math.trunc(Math.trunc(h.getX()));for(let ie=Math.trunc(Math.trunc(h.getY()));ie<=d.getMaxY()&&ie>=d.getMinY();ie+=M){let me=Kn.detectCodeword(l,0,l.getWidth(),x,X,ie,v,N);me!=null&&(C.setCodeword(ie,me),x?X=me.getStartX():X=me.getEndX())}}return C}static adjustCodewordCount(l,d){let h=d[0][1],x=h.getValue(),v=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-Kn.getNumberOfECCodeWords(l.getBarcodeECLevel());if(x.length===0){if(v<1||v>Sn.MAX_CODEWORDS_IN_BARCODE)throw se.getNotFoundInstance();h.setValue(v)}else x[0]!==v&&h.setValue(v)}static createDecoderResult(l){let d=Kn.createBarcodeMatrix(l);Kn.adjustCodewordCount(l,d);let h=new Array,x=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),v=[],N=new Array;for(let I=0;I<l.getBarcodeRowCount();I++)for(let M=0;M<l.getBarcodeColumnCount();M++){let X=d[I][M+1].getValue(),ie=I*l.getBarcodeColumnCount()+M;X.length===0?h.push(ie):X.length===1?x[ie]=X[0]:(N.push(ie),v.push(X))}let C=new Array(v.length);for(let I=0;I<C.length;I++)C[I]=v[I];return Kn.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),x,Sn.toIntArray(h),Sn.toIntArray(N),C)}static createDecoderResultFromAmbiguousValues(l,d,h,x,v){let N=new Int32Array(x.length),C=100;for(;C-- >0;){for(let I=0;I<N.length;I++)d[x[I]]=v[I][N[I]];try{return Kn.decodeCodewords(d,l,h)}catch(I){if(!(I instanceof y))throw I}if(N.length===0)throw y.getChecksumInstance();for(let I=0;I<N.length;I++)if(N[I]<v[I].length-1){N[I]++;break}else if(N[I]=0,I===N.length-1)throw y.getChecksumInstance()}throw y.getChecksumInstance()}static createBarcodeMatrix(l){let d=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let x=0;x<d.length;x++)for(let v=0;v<d[x].length;v++)d[x][v]=new Il;let h=0;for(let x of l.getDetectionResultColumns()){if(x!=null){for(let v of x.getCodewords())if(v!=null){let N=v.getRowNumber();if(N>=0){if(N>=d.length)continue;d[N][h].setValue(v.getValue())}}}h++}return d}static isValidBarcodeColumn(l,d){return d>=0&&d<=l.getBarcodeColumnCount()+1}static getStartColumn(l,d,h,x){let v=x?1:-1,N=null;if(Kn.isValidBarcodeColumn(l,d-v)&&(N=l.getDetectionResultColumn(d-v).getCodeword(h)),N!=null)return x?N.getEndX():N.getStartX();if(N=l.getDetectionResultColumn(d).getCodewordNearby(h),N!=null)return x?N.getStartX():N.getEndX();if(Kn.isValidBarcodeColumn(l,d-v)&&(N=l.getDetectionResultColumn(d-v).getCodewordNearby(h)),N!=null)return x?N.getEndX():N.getStartX();let C=0;for(;Kn.isValidBarcodeColumn(l,d-v);){d-=v;for(let I of l.getDetectionResultColumn(d).getCodewords())if(I!=null)return(x?I.getEndX():I.getStartX())+v*C*(I.getEndX()-I.getStartX());C++}return x?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,d,h,x,v,N,C,I){v=Kn.adjustCodewordStartColumn(l,d,h,x,v,N);let M=Kn.getModuleBitCount(l,d,h,x,v,N);if(M==null)return null;let X,ie=rt.sum(M);if(x)X=v+ie;else{for(let de=0;de<M.length/2;de++){let Ne=M[de];M[de]=M[M.length-1-de],M[M.length-1-de]=Ne}X=v,v=X-ie}if(!Kn.checkCodewordSkew(ie,C,I))return null;let me=ma.getDecodedValue(M),De=Sn.getCodeword(me);return De===-1?null:new ho(v,X,Kn.getCodewordBucketNumber(me),De)}static getModuleBitCount(l,d,h,x,v,N){let C=v,I=new Int32Array(8),M=0,X=x?1:-1,ie=x;for(;(x?C<h:C>=d)&&M<I.length;)l.get(C,N)===ie?(I[M]++,C+=X):(M++,ie=!ie);return M===I.length||C===(x?h:d)&&M===I.length-1?I:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,d,h,x,v,N){let C=v,I=x?-1:1;for(let M=0;M<2;M++){for(;(x?C>=d:C<h)&&x===l.get(C,N);){if(Math.abs(v-C)>Kn.CODEWORD_SKEW_SIZE)return v;C+=I}I=-I,x=!x}return C}static checkCodewordSkew(l,d,h){return d-Kn.CODEWORD_SKEW_SIZE<=l&&l<=h+Kn.CODEWORD_SKEW_SIZE}static decodeCodewords(l,d,h){if(l.length===0)throw R.getFormatInstance();let x=1<<d+1,v=Kn.correctErrors(l,h,x);Kn.verifyCodewordCount(l,x);let N=gt.decode(l,""+d);return N.setErrorsCorrected(v),N.setErasures(h.length),N}static correctErrors(l,d,h){if(d!=null&&d.length>h/2+Kn.MAX_ERRORS||h<0||h>Kn.MAX_EC_CODEWORDS)throw y.getChecksumInstance();return Kn.errorCorrection.decode(l,h,d)}static verifyCodewordCount(l,d){if(l.length<4)throw R.getFormatInstance();let h=l[0];if(h>l.length)throw R.getFormatInstance();if(h===0)if(d<l.length)l[0]=l.length-d;else throw R.getFormatInstance()}static getBitCountForCodeword(l){let d=new Int32Array(8),h=0,x=d.length-1;for(;!((l&1)!==h&&(h=l&1,x--,x<0));)d[x]++,l>>=1;return d}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return Kn.getCodewordBucketNumber(Kn.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let d=new ur;for(let h=0;h<l.length;h++){d.format("Row %2d: ",h);for(let x=0;x<l[h].length;x++){let v=l[h][x];v.getValue().length===0?d.format("        ",null):d.format("%4d(%2d)",v.getValue()[0],v.getConfidence(v.getValue()[0]))}d.format("%n")}return d.toString()}}Kn.CODEWORD_SKEW_SIZE=2,Kn.MAX_ERRORS=3,Kn.MAX_EC_CODEWORDS=512,Kn.errorCorrection=new td;class Ni{decode(l,d=null){let h=Ni.decode(l,d,!1);if(h==null||h.length===0||h[0]==null)throw se.getNotFoundInstance();return h[0]}decodeMultiple(l,d=null){try{return Ni.decode(l,d,!0)}catch(h){throw h instanceof R||h instanceof y?se.getNotFoundInstance():h}}static decode(l,d,h){const x=new Array,v=qn.detectMultiple(l,d,h);for(const N of v.getPoints()){const C=Kn.decode(v.getBits(),N[4],N[5],N[6],N[7],Ni.getMinCodewordWidth(N),Ni.getMaxCodewordWidth(N)),I=new Q(C.getText(),C.getRawBytes(),void 0,N,ce.PDF_417);I.putMetadata(Fe.ERROR_CORRECTION_LEVEL,C.getECLevel());const M=C.getOther();M!=null&&I.putMetadata(Fe.PDF417_EXTRA_METADATA,M),x.push(I)}return x.map(N=>N)}static getMaxWidth(l,d){return l==null||d==null?0:Math.trunc(Math.abs(l.getX()-d.getX()))}static getMinWidth(l,d){return l==null||d==null?D.MAX_VALUE:Math.trunc(Math.abs(l.getX()-d.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(Ni.getMaxWidth(l[0],l[4]),Ni.getMaxWidth(l[6],l[2])*Sn.MODULES_IN_CODEWORD/Sn.MODULES_IN_STOP_PATTERN),Math.max(Ni.getMaxWidth(l[1],l[5]),Ni.getMaxWidth(l[7],l[3])*Sn.MODULES_IN_CODEWORD/Sn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(Ni.getMinWidth(l[0],l[4]),Ni.getMinWidth(l[6],l[2])*Sn.MODULES_IN_CODEWORD/Sn.MODULES_IN_STOP_PATTERN),Math.min(Ni.getMinWidth(l[1],l[5]),Ni.getMinWidth(l[7],l[3])*Sn.MODULES_IN_CODEWORD/Sn.MODULES_IN_STOP_PATTERN)))}reset(){}}class Pi extends f{}Pi.kind="ReaderException";class au{constructor(l,d){this.verbose=l===!0,d&&this.setHints(d)}decode(l,d){return d&&this.setHints(d),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const d=!r(l)&&l.get(z.TRY_HARDER)===!0,h=r(l)?null:l.get(z.POSSIBLE_FORMATS),x=new Array;if(!r(h)){const v=h.some(N=>N===ce.UPC_A||N===ce.UPC_E||N===ce.EAN_13||N===ce.EAN_8||N===ce.CODABAR||N===ce.CODE_39||N===ce.CODE_93||N===ce.CODE_128||N===ce.ITF||N===ce.RSS_14||N===ce.RSS_EXPANDED);v&&!d&&x.push(new pa(l,this.verbose)),h.includes(ce.QR_CODE)&&x.push(new fo),h.includes(ce.DATA_MATRIX)&&x.push(new Ei),h.includes(ce.AZTEC)&&x.push(new Kt),h.includes(ce.PDF_417)&&x.push(new Ni),v&&d&&x.push(new pa(l,this.verbose))}x.length===0&&(d||x.push(new pa(l,this.verbose)),x.push(new fo),x.push(new Ei),x.push(new Kt),x.push(new Ni),d&&x.push(new pa(l,this.verbose))),this.readers=x}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Pi("No readers where selected, nothing can be read.");for(const d of this.readers)try{return d.decode(l,this.hints)}catch(h){if(h instanceof Pi)continue}throw new se("No MultiFormat Readers were able to detect the code.")}}class xa extends Z{constructor(l=null,d=500){const h=new au;h.setHints(l),super(h,d)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class su extends Z{constructor(l=500){super(new Ni,l)}}class gc extends Z{constructor(l=500){super(new fo,l)}}var cs;(function(re){re[re.ERROR_CORRECTION=0]="ERROR_CORRECTION",re[re.CHARACTER_SET=1]="CHARACTER_SET",re[re.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",re[re.MIN_SIZE=3]="MIN_SIZE",re[re.MAX_SIZE=4]="MAX_SIZE",re[re.MARGIN=5]="MARGIN",re[re.PDF417_COMPACT=6]="PDF417_COMPACT",re[re.PDF417_COMPACTION=7]="PDF417_COMPACTION",re[re.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",re[re.AZTEC_LAYERS=9]="AZTEC_LAYERS",re[re.QR_VERSION=10]="QR_VERSION"})(cs||(cs={}));var li=cs;class po{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new pt(l,Int32Array.from([1])))}buildGenerator(l){const d=this.cachedGenerators;if(l>=d.length){let h=d[d.length-1];const x=this.field;for(let v=d.length;v<=l;v++){const N=h.multiply(new pt(x,Int32Array.from([1,x.exp(v-1+x.getGeneratorBase())])));d.push(N),h=N}}return d[l]}encode(l,d){if(d===0)throw new g("No error correction bytes");const h=l.length-d;if(h<=0)throw new g("No data bytes provided");const x=this.buildGenerator(d),v=new Int32Array(h);S.arraycopy(l,0,v,0,h);let N=new pt(this.field,v);N=N.multiplyByMonomial(d,1);const I=N.divide(x)[1].getCoefficients(),M=d-I.length;for(let X=0;X<M;X++)l[h+X]=0;S.arraycopy(I,0,l,h+M,I.length)}}class In{constructor(){}static applyMaskPenaltyRule1(l){return In.applyMaskPenaltyRule1Internal(l,!0)+In.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let d=0;const h=l.getArray(),x=l.getWidth(),v=l.getHeight();for(let N=0;N<v-1;N++){const C=h[N];for(let I=0;I<x-1;I++){const M=C[I];M===C[I+1]&&M===h[N+1][I]&&M===h[N+1][I+1]&&d++}}return In.N2*d}static applyMaskPenaltyRule3(l){let d=0;const h=l.getArray(),x=l.getWidth(),v=l.getHeight();for(let N=0;N<v;N++)for(let C=0;C<x;C++){const I=h[N];C+6<x&&I[C]===1&&I[C+1]===0&&I[C+2]===1&&I[C+3]===1&&I[C+4]===1&&I[C+5]===0&&I[C+6]===1&&(In.isWhiteHorizontal(I,C-4,C)||In.isWhiteHorizontal(I,C+7,C+11))&&d++,N+6<v&&h[N][C]===1&&h[N+1][C]===0&&h[N+2][C]===1&&h[N+3][C]===1&&h[N+4][C]===1&&h[N+5][C]===0&&h[N+6][C]===1&&(In.isWhiteVertical(h,C,N-4,N)||In.isWhiteVertical(h,C,N+7,N+11))&&d++}return d*In.N3}static isWhiteHorizontal(l,d,h){d=Math.max(d,0),h=Math.min(h,l.length);for(let x=d;x<h;x++)if(l[x]===1)return!1;return!0}static isWhiteVertical(l,d,h,x){h=Math.max(h,0),x=Math.min(x,l.length);for(let v=h;v<x;v++)if(l[v][d]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let d=0;const h=l.getArray(),x=l.getWidth(),v=l.getHeight();for(let I=0;I<v;I++){const M=h[I];for(let X=0;X<x;X++)M[X]===1&&d++}const N=l.getHeight()*l.getWidth();return Math.floor(Math.abs(d*2-N)*10/N)*In.N4}static getDataMaskBit(l,d,h){let x,v;switch(l){case 0:x=h+d&1;break;case 1:x=h&1;break;case 2:x=d%3;break;case 3:x=(h+d)%3;break;case 4:x=Math.floor(h/2)+Math.floor(d/3)&1;break;case 5:v=h*d,x=(v&1)+v%3;break;case 6:v=h*d,x=(v&1)+v%3&1;break;case 7:v=h*d,x=v%3+(h+d&1)&1;break;default:throw new g("Invalid mask pattern: "+l)}return x===0}static applyMaskPenaltyRule1Internal(l,d){let h=0;const x=d?l.getHeight():l.getWidth(),v=d?l.getWidth():l.getHeight(),N=l.getArray();for(let C=0;C<x;C++){let I=0,M=-1;for(let X=0;X<v;X++){const ie=d?N[C][X]:N[X][C];ie===M?I++:(I>=5&&(h+=In.N1+(I-5)),I=1,M=ie)}I>=5&&(h+=In.N1+(I-5))}return h}}In.N1=3,In.N2=3,In.N3=40,In.N4=10;class qa{constructor(l,d){this.width=l,this.height=d;const h=new Array(d);for(let x=0;x!==d;x++)h[x]=new Uint8Array(l);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(l,d){return this.bytes[d][l]}getArray(){return this.bytes}setNumber(l,d,h){this.bytes[d][l]=h}setBoolean(l,d,h){this.bytes[d][l]=h?1:0}clear(l){for(const d of this.bytes)k.fill(d,l)}equals(l){if(!(l instanceof qa))return!1;const d=l;if(this.width!==d.width||this.height!==d.height)return!1;for(let h=0,x=this.height;h<x;++h){const v=this.bytes[h],N=d.bytes[h];for(let C=0,I=this.width;C<I;++C)if(v[C]!==N[C])return!1}return!0}toString(){const l=new J;for(let d=0,h=this.height;d<h;++d){const x=this.bytes[d];for(let v=0,N=this.width;v<N;++v)switch(x[v]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class ka{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new J;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<ka.NUM_MASK_PATTERNS}}ka.NUM_MASK_PATTERNS=8;class Cr extends f{}Cr.kind="WriterException";class O{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,d,h,x,v){O.clearMatrix(v),O.embedBasicPatterns(h,v),O.embedTypeInfo(d,x,v),O.maybeEmbedVersionInfo(h,v),O.embedDataBits(l,x,v)}static embedBasicPatterns(l,d){O.embedPositionDetectionPatternsAndSeparators(d),O.embedDarkDotAtLeftBottomCorner(d),O.maybeEmbedPositionAdjustmentPatterns(l,d),O.embedTimingPatterns(d)}static embedTypeInfo(l,d,h){const x=new P;O.makeTypeInfoBits(l,d,x);for(let v=0,N=x.getSize();v<N;++v){const C=x.get(x.getSize()-1-v),I=O.TYPE_INFO_COORDINATES[v],M=I[0],X=I[1];if(h.setBoolean(M,X,C),v<8){const ie=h.getWidth()-v-1,me=8;h.setBoolean(ie,me,C)}else{const me=h.getHeight()-7+(v-8);h.setBoolean(8,me,C)}}}static maybeEmbedVersionInfo(l,d){if(l.getVersionNumber()<7)return;const h=new P;O.makeVersionInfoBits(l,h);let x=6*3-1;for(let v=0;v<6;++v)for(let N=0;N<3;++N){const C=h.get(x);x--,d.setBoolean(v,d.getHeight()-11+N,C),d.setBoolean(d.getHeight()-11+N,v,C)}}static embedDataBits(l,d,h){let x=0,v=-1,N=h.getWidth()-1,C=h.getHeight()-1;for(;N>0;){for(N===6&&(N-=1);C>=0&&C<h.getHeight();){for(let I=0;I<2;++I){const M=N-I;if(!O.isEmpty(h.get(M,C)))continue;let X;x<l.getSize()?(X=l.get(x),++x):X=!1,d!==255&&In.getDataMaskBit(d,M,C)&&(X=!X),h.setBoolean(M,C,X)}C+=v}v=-v,C+=v,N-=2}if(x!==l.getSize())throw new Cr("Not all bits consumed: "+x+"/"+l.getSize())}static findMSBSet(l){return 32-D.numberOfLeadingZeros(l)}static calculateBCHCode(l,d){if(d===0)throw new g("0 polynomial");const h=O.findMSBSet(d);for(l<<=h-1;O.findMSBSet(l)>=h;)l^=d<<O.findMSBSet(l)-h;return l}static makeTypeInfoBits(l,d,h){if(!ka.isValidMaskPattern(d))throw new Cr("Invalid mask pattern");const x=l.getBits()<<3|d;h.appendBits(x,5);const v=O.calculateBCHCode(x,O.TYPE_INFO_POLY);h.appendBits(v,10);const N=new P;if(N.appendBits(O.TYPE_INFO_MASK_PATTERN,15),h.xor(N),h.getSize()!==15)throw new Cr("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(l,d){d.appendBits(l.getVersionNumber(),6);const h=O.calculateBCHCode(l.getVersionNumber(),O.VERSION_INFO_POLY);if(d.appendBits(h,12),d.getSize()!==18)throw new Cr("should not happen but we got: "+d.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let d=8;d<l.getWidth()-8;++d){const h=(d+1)%2;O.isEmpty(l.get(d,6))&&l.setNumber(d,6,h),O.isEmpty(l.get(6,d))&&l.setNumber(6,d,h)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Cr;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,d,h){for(let x=0;x<8;++x){if(!O.isEmpty(h.get(l+x,d)))throw new Cr;h.setNumber(l+x,d,0)}}static embedVerticalSeparationPattern(l,d,h){for(let x=0;x<7;++x){if(!O.isEmpty(h.get(l,d+x)))throw new Cr;h.setNumber(l,d+x,0)}}static embedPositionAdjustmentPattern(l,d,h){for(let x=0;x<5;++x){const v=O.POSITION_ADJUSTMENT_PATTERN[x];for(let N=0;N<5;++N)h.setNumber(l+N,d+x,v[N])}}static embedPositionDetectionPattern(l,d,h){for(let x=0;x<7;++x){const v=O.POSITION_DETECTION_PATTERN[x];for(let N=0;N<7;++N)h.setNumber(l+N,d+x,v[N])}}static embedPositionDetectionPatternsAndSeparators(l){const d=O.POSITION_DETECTION_PATTERN[0].length;O.embedPositionDetectionPattern(0,0,l),O.embedPositionDetectionPattern(l.getWidth()-d,0,l),O.embedPositionDetectionPattern(0,l.getWidth()-d,l);const h=8;O.embedHorizontalSeparationPattern(0,h-1,l),O.embedHorizontalSeparationPattern(l.getWidth()-h,h-1,l),O.embedHorizontalSeparationPattern(0,l.getWidth()-h,l);const x=7;O.embedVerticalSeparationPattern(x,0,l),O.embedVerticalSeparationPattern(l.getHeight()-x-1,0,l),O.embedVerticalSeparationPattern(x,l.getHeight()-x,l)}static maybeEmbedPositionAdjustmentPatterns(l,d){if(l.getVersionNumber()<2)return;const h=l.getVersionNumber()-1,x=O.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let v=0,N=x.length;v!==N;v++){const C=x[v];if(C>=0)for(let I=0;I!==N;I++){const M=x[I];M>=0&&O.isEmpty(d.get(M,C))&&O.embedPositionAdjustmentPattern(M-2,C-2,d)}}}}O.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),O.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),O.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),O.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),O.VERSION_INFO_POLY=7973,O.TYPE_INFO_POLY=1335,O.TYPE_INFO_MASK_PATTERN=21522;class oe{constructor(l,d){this.dataBytes=l,this.errorCorrectionBytes=d}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Re{constructor(){}static calculateMaskPenalty(l){return In.applyMaskPenaltyRule1(l)+In.applyMaskPenaltyRule2(l)+In.applyMaskPenaltyRule3(l)+In.applyMaskPenaltyRule4(l)}static encode(l,d,h=null){let x=Re.DEFAULT_BYTE_MODE_ENCODING;const v=h!==null&&h.get(li.CHARACTER_SET)!==void 0;v&&(x=h.get(li.CHARACTER_SET).toString());const N=this.chooseMode(l,x),C=new P;if(N===jn.BYTE&&(v||Re.DEFAULT_BYTE_MODE_ENCODING!==x)){const jt=q.getCharacterSetECIByName(x);jt!==void 0&&this.appendECI(jt,C)}this.appendModeInfo(N,C);const I=new P;this.appendBytes(l,N,I,x);let M;if(h!==null&&h.get(li.QR_VERSION)!==void 0){const jt=Number.parseInt(h.get(li.QR_VERSION).toString(),10);M=_n.getVersionForNumber(jt);const Lt=this.calculateBitsNeeded(N,C,I,M);if(!this.willFit(Lt,M,d))throw new Cr("Data too big for requested version")}else M=this.recommendVersion(d,N,C,I);const X=new P;X.appendBitArray(C);const ie=N===jn.BYTE?I.getSizeInBytes():l.length;this.appendLengthInfo(ie,M,N,X),X.appendBitArray(I);const me=M.getECBlocksForLevel(d),De=M.getTotalCodewords()-me.getTotalECCodewords();this.terminateBits(De,X);const de=this.interleaveWithECBytes(X,M.getTotalCodewords(),De,me.getNumBlocks()),Ne=new ka;Ne.setECLevel(d),Ne.setMode(N),Ne.setVersion(M);const Ce=M.getDimensionForVersion(),$e=new qa(Ce,Ce),vt=this.chooseMaskPattern(de,d,M,$e);return Ne.setMaskPattern(vt),O.buildMatrix(de,d,M,vt,$e),Ne.setMatrix($e),Ne}static recommendVersion(l,d,h,x){const v=this.calculateBitsNeeded(d,h,x,_n.getVersionForNumber(1)),N=this.chooseVersion(v,l),C=this.calculateBitsNeeded(d,h,x,N);return this.chooseVersion(C,l)}static calculateBitsNeeded(l,d,h,x){return d.getSize()+l.getCharacterCountBits(x)+h.getSize()}static getAlphanumericCode(l){return l<Re.ALPHANUMERIC_TABLE.length?Re.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,d=null){if(q.SJIS.getName()===d&&this.isOnlyDoubleByteKanji(l))return jn.KANJI;let h=!1,x=!1;for(let v=0,N=l.length;v<N;++v){const C=l.charAt(v);if(Re.isDigit(C))h=!0;else if(this.getAlphanumericCode(C.charCodeAt(0))!==-1)x=!0;else return jn.BYTE}return x?jn.ALPHANUMERIC:h?jn.NUMERIC:jn.BYTE}static isOnlyDoubleByteKanji(l){let d;try{d=H.encode(l,q.SJIS)}catch{return!1}const h=d.length;if(h%2!==0)return!1;for(let x=0;x<h;x+=2){const v=d[x]&255;if((v<129||v>159)&&(v<224||v>235))return!1}return!0}static chooseMaskPattern(l,d,h,x){let v=Number.MAX_SAFE_INTEGER,N=-1;for(let C=0;C<ka.NUM_MASK_PATTERNS;C++){O.buildMatrix(l,d,h,C,x);let I=this.calculateMaskPenalty(x);I<v&&(v=I,N=C)}return N}static chooseVersion(l,d){for(let h=1;h<=40;h++){const x=_n.getVersionForNumber(h);if(Re.willFit(l,x,d))return x}throw new Cr("Data too big")}static willFit(l,d,h){const x=d.getTotalCodewords(),N=d.getECBlocksForLevel(h).getTotalECCodewords(),C=x-N,I=(l+7)/8;return C>=I}static terminateBits(l,d){const h=l*8;if(d.getSize()>h)throw new Cr("data bits cannot fit in the QR Code"+d.getSize()+" > "+h);for(let N=0;N<4&&d.getSize()<h;++N)d.appendBit(!1);const x=d.getSize()&7;if(x>0)for(let N=x;N<8;N++)d.appendBit(!1);const v=l-d.getSizeInBytes();for(let N=0;N<v;++N)d.appendBits(N&1?17:236,8);if(d.getSize()!==h)throw new Cr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,d,h,x,v,N){if(x>=h)throw new Cr("Block ID too large");const C=l%h,I=h-C,M=Math.floor(l/h),X=M+1,ie=Math.floor(d/h),me=ie+1,De=M-ie,de=X-me;if(De!==de)throw new Cr("EC bytes mismatch");if(h!==I+C)throw new Cr("RS blocks mismatch");if(l!==(ie+De)*I+(me+de)*C)throw new Cr("Total bytes mismatch");x<I?(v[0]=ie,N[0]=De):(v[0]=me,N[0]=de)}static interleaveWithECBytes(l,d,h,x){if(l.getSizeInBytes()!==h)throw new Cr("Number of bits and data bytes does not match");let v=0,N=0,C=0;const I=new Array;for(let X=0;X<x;++X){const ie=new Int32Array(1),me=new Int32Array(1);Re.getNumDataBytesAndNumECBytesForBlockID(d,h,x,X,ie,me);const De=ie[0],de=new Uint8Array(De);l.toBytes(8*v,de,0,De);const Ne=Re.generateECBytes(de,me[0]);I.push(new oe(de,Ne)),N=Math.max(N,De),C=Math.max(C,Ne.length),v+=ie[0]}if(h!==v)throw new Cr("Data bytes does not match offset");const M=new P;for(let X=0;X<N;++X)for(const ie of I){const me=ie.getDataBytes();X<me.length&&M.appendBits(me[X],8)}for(let X=0;X<C;++X)for(const ie of I){const me=ie.getErrorCorrectionBytes();X<me.length&&M.appendBits(me[X],8)}if(d!==M.getSizeInBytes())throw new Cr("Interleaving error: "+d+" and "+M.getSizeInBytes()+" differ.");return M}static generateECBytes(l,d){const h=l.length,x=new Int32Array(h+d);for(let N=0;N<h;N++)x[N]=l[N]&255;new po(Ye.QR_CODE_FIELD_256).encode(x,d);const v=new Uint8Array(d);for(let N=0;N<d;N++)v[N]=x[h+N];return v}static appendModeInfo(l,d){d.appendBits(l.getBits(),4)}static appendLengthInfo(l,d,h,x){const v=h.getCharacterCountBits(d);if(l>=1<<v)throw new Cr(l+" is bigger than "+((1<<v)-1));x.appendBits(l,v)}static appendBytes(l,d,h,x){switch(d){case jn.NUMERIC:Re.appendNumericBytes(l,h);break;case jn.ALPHANUMERIC:Re.appendAlphanumericBytes(l,h);break;case jn.BYTE:Re.append8BitBytes(l,h,x);break;case jn.KANJI:Re.appendKanjiBytes(l,h);break;default:throw new Cr("Invalid mode: "+d)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const d=Re.getDigit(l);return d>=0&&d<=9}static appendNumericBytes(l,d){const h=l.length;let x=0;for(;x<h;){const v=Re.getDigit(l.charAt(x));if(x+2<h){const N=Re.getDigit(l.charAt(x+1)),C=Re.getDigit(l.charAt(x+2));d.appendBits(v*100+N*10+C,10),x+=3}else if(x+1<h){const N=Re.getDigit(l.charAt(x+1));d.appendBits(v*10+N,7),x+=2}else d.appendBits(v,4),x++}}static appendAlphanumericBytes(l,d){const h=l.length;let x=0;for(;x<h;){const v=Re.getAlphanumericCode(l.charCodeAt(x));if(v===-1)throw new Cr;if(x+1<h){const N=Re.getAlphanumericCode(l.charCodeAt(x+1));if(N===-1)throw new Cr;d.appendBits(v*45+N,11),x+=2}else d.appendBits(v,6),x++}}static append8BitBytes(l,d,h){let x;try{x=H.encode(l,h)}catch(v){throw new Cr(v)}for(let v=0,N=x.length;v!==N;v++){const C=x[v];d.appendBits(C,8)}}static appendKanjiBytes(l,d){let h;try{h=H.encode(l,q.SJIS)}catch(v){throw new Cr(v)}const x=h.length;for(let v=0;v<x;v+=2){const N=h[v]&255,C=h[v+1]&255,I=N<<8&4294967295|C;let M=-1;if(I>=33088&&I<=40956?M=I-33088:I>=57408&&I<=60351&&(M=I-49472),M===-1)throw new Cr("Invalid byte sequence");const X=(M>>8)*192+(M&255);d.appendBits(X,13)}}static appendECI(l,d){d.appendBits(jn.ECI.getBits(),4),d.appendBits(l.getValue(),8)}}Re.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Re.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class Ve{write(l,d,h,x=null){if(l.length===0)throw new g("Found empty contents");if(d<0||h<0)throw new g("Requested dimensions are too small: "+d+"x"+h);let v=Sr.L,N=Ve.QUIET_ZONE_SIZE;x!==null&&(x.get(li.ERROR_CORRECTION)!==void 0&&(v=Sr.fromString(x.get(li.ERROR_CORRECTION).toString())),x.get(li.MARGIN)!==void 0&&(N=Number.parseInt(x.get(li.MARGIN).toString(),10)));const C=Re.encode(l,v,x);return this.renderResult(C,d,h,N)}writeToDom(l,d,h,x,v=null){typeof l=="string"&&(l=document.querySelector(l));const N=this.write(d,h,x,v);l&&l.appendChild(N)}renderResult(l,d,h,x){const v=l.getMatrix();if(v===null)throw new it;const N=v.getWidth(),C=v.getHeight(),I=N+x*2,M=C+x*2,X=Math.max(d,I),ie=Math.max(h,M),me=Math.min(Math.floor(X/I),Math.floor(ie/M)),De=Math.floor((X-N*me)/2),de=Math.floor((ie-C*me)/2),Ne=this.createSVGElement(X,ie);for(let Ce=0,$e=de;Ce<C;Ce++,$e+=me)for(let vt=0,jt=De;vt<N;vt++,jt+=me)if(v.get(vt,Ce)===1){const Lt=this.createSvgRectElement(jt,$e,me,me);Ne.appendChild(Lt)}return Ne}createSVGElement(l,d){const h=document.createElementNS(Ve.SVG_NS,"svg");return h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",d.toString()),h}createSvgRectElement(l,d,h,x){const v=document.createElementNS(Ve.SVG_NS,"rect");return v.setAttributeNS(null,"x",l.toString()),v.setAttributeNS(null,"y",d.toString()),v.setAttributeNS(null,"height",h.toString()),v.setAttributeNS(null,"width",x.toString()),v.setAttributeNS(null,"fill","#000000"),v}}Ve.QUIET_ZONE_SIZE=4,Ve.SVG_NS="http://www.w3.org/2000/svg";class nt{encode(l,d,h,x,v){if(l.length===0)throw new g("Found empty contents");if(d!==ce.QR_CODE)throw new g("Can only encode QR_CODE, but got "+d);if(h<0||x<0)throw new g(`Requested dimensions are too small: ${h}x${x}`);let N=Sr.L,C=nt.QUIET_ZONE_SIZE;v!==null&&(v.get(li.ERROR_CORRECTION)!==void 0&&(N=Sr.fromString(v.get(li.ERROR_CORRECTION).toString())),v.get(li.MARGIN)!==void 0&&(C=Number.parseInt(v.get(li.MARGIN).toString(),10)));const I=Re.encode(l,N,v);return nt.renderResult(I,h,x,C)}static renderResult(l,d,h,x){const v=l.getMatrix();if(v===null)throw new it;const N=v.getWidth(),C=v.getHeight(),I=N+x*2,M=C+x*2,X=Math.max(d,I),ie=Math.max(h,M),me=Math.min(Math.floor(X/I),Math.floor(ie/M)),De=Math.floor((X-N*me)/2),de=Math.floor((ie-C*me)/2),Ne=new ue(X,ie);for(let Ce=0,$e=de;Ce<C;Ce++,$e+=me)for(let vt=0,jt=De;vt<N;vt++,jt+=me)v.get(vt,Ce)===1&&Ne.setRegion(jt,$e,me,me);return Ne}}nt.QUIET_ZONE_SIZE=4;class Et{encode(l,d,h,x,v){let N;switch(d){case ce.QR_CODE:N=new nt;break;default:throw new g("No encoder available for format "+d)}return N.encode(l,d,h,x,v)}}class Dt extends ge{constructor(l,d,h,x,v,N,C,I){if(super(N,C),this.yuvData=l,this.dataWidth=d,this.dataHeight=h,this.left=x,this.top=v,x+N>d||v+C>h)throw new g("Crop rectangle does not fit within image data.");I&&this.reverseHorizontal(N,C)}getRow(l,d){if(l<0||l>=this.getHeight())throw new g("Requested row is outside the image: "+l);const h=this.getWidth();(d==null||d.length<h)&&(d=new Uint8ClampedArray(h));const x=(l+this.top)*this.dataWidth+this.left;return S.arraycopy(this.yuvData,x,d,0,h),d}getMatrix(){const l=this.getWidth(),d=this.getHeight();if(l===this.dataWidth&&d===this.dataHeight)return this.yuvData;const h=l*d,x=new Uint8ClampedArray(h);let v=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return S.arraycopy(this.yuvData,v,x,0,h),x;for(let N=0;N<d;N++){const C=N*l;S.arraycopy(this.yuvData,v,x,C,l),v+=this.dataWidth}return x}isCropSupported(){return!0}crop(l,d,h,x){return new Dt(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+d,h,x,!1)}renderThumbnail(){const l=this.getWidth()/Dt.THUMBNAIL_SCALE_FACTOR,d=this.getHeight()/Dt.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(l*d),x=this.yuvData;let v=this.top*this.dataWidth+this.left;for(let N=0;N<d;N++){const C=N*l;for(let I=0;I<l;I++){const M=x[v+I*Dt.THUMBNAIL_SCALE_FACTOR]&255;h[C+I]=4278190080|M*65793}v+=this.dataWidth*Dt.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/Dt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Dt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,d){const h=this.yuvData;for(let x=0,v=this.top*this.dataWidth+this.left;x<d;x++,v+=this.dataWidth){const N=v+l/2;for(let C=v,I=v+l-1;C<N;C++,I--){const M=h[C];h[C]=h[I],h[I]=M}}}invert(){return new Be(this)}}Dt.THUMBNAIL_SCALE_FACTOR=2;class sn extends ge{constructor(l,d,h,x,v,N,C){if(super(d,h),this.dataWidth=x,this.dataHeight=v,this.left=N,this.top=C,l.BYTES_PER_ELEMENT===4){const I=d*h,M=new Uint8ClampedArray(I);for(let X=0;X<I;X++){const ie=l[X],me=ie>>16&255,De=ie>>7&510,de=ie&255;M[X]=(me+De+de)/4&255}this.luminances=M}else this.luminances=l;if(x===void 0&&(this.dataWidth=d),v===void 0&&(this.dataHeight=h),N===void 0&&(this.left=0),C===void 0&&(this.top=0),this.left+d>this.dataWidth||this.top+h>this.dataHeight)throw new g("Crop rectangle does not fit within image data.")}getRow(l,d){if(l<0||l>=this.getHeight())throw new g("Requested row is outside the image: "+l);const h=this.getWidth();(d==null||d.length<h)&&(d=new Uint8ClampedArray(h));const x=(l+this.top)*this.dataWidth+this.left;return S.arraycopy(this.luminances,x,d,0,h),d}getMatrix(){const l=this.getWidth(),d=this.getHeight();if(l===this.dataWidth&&d===this.dataHeight)return this.luminances;const h=l*d,x=new Uint8ClampedArray(h);let v=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return S.arraycopy(this.luminances,v,x,0,h),x;for(let N=0;N<d;N++){const C=N*l;S.arraycopy(this.luminances,v,x,C,l),v+=this.dataWidth}return x}isCropSupported(){return!0}crop(l,d,h,x){return new sn(this.luminances,h,x,this.dataWidth,this.dataHeight,this.left+l,this.top+d)}invert(){return new Be(this)}}class Cn extends q{static forName(l){return this.getCharacterSetECIByName(l)}}class Un{}Un.ISO_8859_1=q.ISO8859_1;class Pn{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class or{static singletonList(l){return[l]}static min(l,d){return l.sort(d)[0]}}class ci{constructor(l){this.previous=l}getPrevious(){return this.previous}}class zr extends ci{constructor(l,d,h){super(l),this.value=d,this.bitCount=h}appendTo(l,d){l.appendBits(this.value,this.bitCount)}add(l,d){return new zr(this,l,d)}addBinaryShift(l,d){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new zr(this,l,d)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+D.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class ui extends zr{constructor(l,d,h){super(l,0,0),this.binaryShiftStart=d,this.binaryShiftByteCount=h}appendTo(l,d){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):h===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(d[this.binaryShiftStart+h],8)}addBinaryShift(l,d){return new ui(this,l,d)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ta(re,l,d){return new ui(re,l,d)}function _i(re,l,d){return new zr(re,l,d)}const Cs=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],_r=0,Ha=1,Vi=2,Dl=3,Va=4,vc=new zr(null,0,0),Ol=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function ou(re){for(let l of re)k.fill(l,-1);return re[_r][Va]=0,re[Ha][Va]=0,re[Ha][_r]=28,re[Dl][Va]=0,re[Vi][Va]=0,re[Vi][_r]=15,re}const Rl=ou(k.createInt32Array(6,6));class $r{constructor(l,d,h,x){this.token=l,this.mode=d,this.binaryShiftByteCount=h,this.bitCount=x}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,d){let h=this.bitCount,x=this.token;if(l!==this.mode){let N=Ol[this.mode][l];x=_i(x,N&65535,N>>16),h+=N>>16}let v=l===Vi?4:5;return x=_i(x,d,v),new $r(x,l,0,h+v)}shiftAndAppend(l,d){let h=this.token,x=this.mode===Vi?4:5;return h=_i(h,Rl[this.mode][l],x),h=_i(h,d,5),new $r(h,this.mode,0,this.bitCount+x+5)}addBinaryShiftChar(l){let d=this.token,h=this.mode,x=this.bitCount;if(this.mode===Va||this.mode===Vi){let C=Ol[h][_r];d=_i(d,C&65535,C>>16),x+=C>>16,h=_r}let v=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,N=new $r(d,h,this.binaryShiftByteCount+1,x+v);return N.binaryShiftByteCount===2047+31&&(N=N.endBinaryShift(l+1)),N}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let d=this.token;return d=ta(d,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new $r(d,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let d=this.bitCount+(Ol[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?d+=$r.calculateBinaryShiftCost(l)-$r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(d+=10),d<=l.bitCount}toBitArray(l){let d=[];for(let x=this.endBinaryShift(l.length).token;x!==null;x=x.getPrevious())d.unshift(x);let h=new P;for(const x of d)x.appendTo(h,l);return h}toString(){return W.format("%s bits=%d bytes=%d",Cs[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}$r.INITIAL_STATE=new $r(vc,_r,0,0);function Hs(re){const l=W.getCharCode(" "),d=W.getCharCode("."),h=W.getCharCode(",");re[_r][l]=1;const x=W.getCharCode("Z"),v=W.getCharCode("A");for(let me=v;me<=x;me++)re[_r][me]=me-v+2;re[Ha][l]=1;const N=W.getCharCode("z"),C=W.getCharCode("a");for(let me=C;me<=N;me++)re[Ha][me]=me-C+2;re[Vi][l]=1;const I=W.getCharCode("9"),M=W.getCharCode("0");for(let me=M;me<=I;me++)re[Vi][me]=me-M+2;re[Vi][h]=12,re[Vi][d]=13;const X=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let me=0;me<X.length;me++)re[Dl][W.getCharCode(X[me])]=me;const ie=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let me=0;me<ie.length;me++)W.getCharCode(ie[me])>0&&(re[Va][W.getCharCode(ie[me])]=me);return re}const sl=Hs(k.createInt32Array(5,256));class mo{constructor(l){this.text=l}encode(){const l=W.getCharCode(" "),d=W.getCharCode(`
`);let h=or.singletonList($r.INITIAL_STATE);for(let v=0;v<this.text.length;v++){let N,C=v+1<this.text.length?this.text[v+1]:0;switch(this.text[v]){case W.getCharCode("\r"):N=C===d?2:0;break;case W.getCharCode("."):N=C===l?3:0;break;case W.getCharCode(","):N=C===l?4:0;break;case W.getCharCode(":"):N=C===l?5:0;break;default:N=0}N>0?(h=mo.updateStateListForPair(h,v,N),v++):h=this.updateStateListForChar(h,v)}return or.min(h,(v,N)=>v.getBitCount()-N.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,d){const h=[];for(let x of l)this.updateStateForChar(x,d,h);return mo.simplifyStates(h)}updateStateForChar(l,d,h){let x=this.text[d]&255,v=sl[l.getMode()][x]>0,N=null;for(let C=0;C<=Va;C++){let I=sl[C][x];if(I>0){if(N==null&&(N=l.endBinaryShift(d)),!v||C===l.getMode()||C===Vi){const M=N.latchAndAppend(C,I);h.push(M)}if(!v&&Rl[l.getMode()][C]>=0){const M=N.shiftAndAppend(C,I);h.push(M)}}}if(l.getBinaryShiftByteCount()>0||sl[l.getMode()][x]===0){let C=l.addBinaryShiftChar(d);h.push(C)}}static updateStateListForPair(l,d,h){const x=[];for(let v of l)this.updateStateForPair(v,d,h,x);return this.simplifyStates(x)}static updateStateForPair(l,d,h,x){let v=l.endBinaryShift(d);if(x.push(v.latchAndAppend(Va,h)),l.getMode()!==Va&&x.push(v.shiftAndAppend(Va,h)),h===3||h===4){let N=v.latchAndAppend(Vi,16-h).latchAndAppend(Vi,1);x.push(N)}if(l.getBinaryShiftByteCount()>0){let N=l.addBinaryShiftChar(d).addBinaryShiftChar(d+1);x.push(N)}}static simplifyStates(l){let d=[];for(const h of l){let x=!0;for(const v of d){if(v.isBetterThanOrEqualTo(h)){x=!1;break}h.isBetterThanOrEqualTo(v)&&(d=d.filter(N=>N!==v))}x&&d.push(h)}return d}}class tr{constructor(){}static encodeBytes(l){return tr.encode(l,tr.DEFAULT_EC_PERCENT,tr.DEFAULT_AZTEC_LAYERS)}static encode(l,d,h){let x=new mo(l).encode(),v=D.truncDivision(x.getSize()*d,100)+11,N=x.getSize()+v,C,I,M,X,ie;if(h!==tr.DEFAULT_AZTEC_LAYERS){if(C=h<0,I=Math.abs(h),I>(C?tr.MAX_NB_BITS_COMPACT:tr.MAX_NB_BITS))throw new g(W.format("Illegal value %s for layers",h));M=tr.totalBitsInLayer(I,C),X=tr.WORD_SIZE[I];let Lt=M-M%X;if(ie=tr.stuffBits(x,X),ie.getSize()+v>Lt)throw new g("Data to large for user specified layer");if(C&&ie.getSize()>X*64)throw new g("Data to large for user specified layer")}else{X=0,ie=null;for(let Lt=0;;Lt++){if(Lt>tr.MAX_NB_BITS)throw new g("Data too large for an Aztec code");if(C=Lt<=3,I=C?Lt+1:Lt,M=tr.totalBitsInLayer(I,C),N>M)continue;(ie==null||X!==tr.WORD_SIZE[I])&&(X=tr.WORD_SIZE[I],ie=tr.stuffBits(x,X));let un=M-M%X;if(!(C&&ie.getSize()>X*64)&&ie.getSize()+v<=un)break}}let me=tr.generateCheckWords(ie,M,X),De=ie.getSize()/X,de=tr.generateModeMessage(C,I,De),Ne=(C?11:14)+I*4,Ce=new Int32Array(Ne),$e;if(C){$e=Ne;for(let Lt=0;Lt<Ce.length;Lt++)Ce[Lt]=Lt}else{$e=Ne+1+2*D.truncDivision(D.truncDivision(Ne,2)-1,15);let Lt=D.truncDivision(Ne,2),un=D.truncDivision($e,2);for(let Rn=0;Rn<Lt;Rn++){let Fi=Rn+D.truncDivision(Rn,15);Ce[Lt-Rn-1]=un-Fi-1,Ce[Lt+Rn]=un+Fi+1}}let vt=new ue($e);for(let Lt=0,un=0;Lt<I;Lt++){let Rn=(I-Lt)*4+(C?9:12);for(let Fi=0;Fi<Rn;Fi++){let Pr=Fi*2;for(let di=0;di<2;di++)me.get(un+Pr+di)&&vt.set(Ce[Lt*2+di],Ce[Lt*2+Fi]),me.get(un+Rn*2+Pr+di)&&vt.set(Ce[Lt*2+Fi],Ce[Ne-1-Lt*2-di]),me.get(un+Rn*4+Pr+di)&&vt.set(Ce[Ne-1-Lt*2-di],Ce[Ne-1-Lt*2-Fi]),me.get(un+Rn*6+Pr+di)&&vt.set(Ce[Ne-1-Lt*2-Fi],Ce[Lt*2+di])}un+=Rn*8}if(tr.drawModeMessage(vt,C,$e,de),C)tr.drawBullsEye(vt,D.truncDivision($e,2),5);else{tr.drawBullsEye(vt,D.truncDivision($e,2),7);for(let Lt=0,un=0;Lt<D.truncDivision(Ne,2)-1;Lt+=15,un+=16)for(let Rn=D.truncDivision($e,2)&1;Rn<$e;Rn+=2)vt.set(D.truncDivision($e,2)-un,Rn),vt.set(D.truncDivision($e,2)+un,Rn),vt.set(Rn,D.truncDivision($e,2)-un),vt.set(Rn,D.truncDivision($e,2)+un)}let jt=new Pn;return jt.setCompact(C),jt.setSize($e),jt.setLayers(I),jt.setCodeWords(De),jt.setMatrix(vt),jt}static drawBullsEye(l,d,h){for(let x=0;x<h;x+=2)for(let v=d-x;v<=d+x;v++)l.set(v,d-x),l.set(v,d+x),l.set(d-x,v),l.set(d+x,v);l.set(d-h,d-h),l.set(d-h+1,d-h),l.set(d-h,d-h+1),l.set(d+h,d-h),l.set(d+h,d-h+1),l.set(d+h,d+h-1)}static generateModeMessage(l,d,h){let x=new P;return l?(x.appendBits(d-1,2),x.appendBits(h-1,6),x=tr.generateCheckWords(x,28,4)):(x.appendBits(d-1,5),x.appendBits(h-1,11),x=tr.generateCheckWords(x,40,4)),x}static drawModeMessage(l,d,h,x){let v=D.truncDivision(h,2);if(d)for(let N=0;N<7;N++){let C=v-3+N;x.get(N)&&l.set(C,v-5),x.get(N+7)&&l.set(v+5,C),x.get(20-N)&&l.set(C,v+5),x.get(27-N)&&l.set(v-5,C)}else for(let N=0;N<10;N++){let C=v-5+N+D.truncDivision(N,5);x.get(N)&&l.set(C,v-7),x.get(N+10)&&l.set(v+7,C),x.get(29-N)&&l.set(C,v+7),x.get(39-N)&&l.set(v-7,C)}}static generateCheckWords(l,d,h){let x=l.getSize()/h,v=new po(tr.getGF(h)),N=D.truncDivision(d,h),C=tr.bitsToWords(l,h,N);v.encode(C,N-x);let I=d%h,M=new P;M.appendBits(0,I);for(const X of Array.from(C))M.appendBits(X,h);return M}static bitsToWords(l,d,h){let x=new Int32Array(h),v,N;for(v=0,N=l.getSize()/d;v<N;v++){let C=0;for(let I=0;I<d;I++)C|=l.get(v*d+I)?1<<d-I-1:0;x[v]=C}return x}static getGF(l){switch(l){case 4:return Ye.AZTEC_PARAM;case 6:return Ye.AZTEC_DATA_6;case 8:return Ye.AZTEC_DATA_8;case 10:return Ye.AZTEC_DATA_10;case 12:return Ye.AZTEC_DATA_12;default:throw new g("Unsupported word size "+l)}}static stuffBits(l,d){let h=new P,x=l.getSize(),v=(1<<d)-2;for(let N=0;N<x;N+=d){let C=0;for(let I=0;I<d;I++)(N+I>=x||l.get(N+I))&&(C|=1<<d-1-I);(C&v)===v?(h.appendBits(C&v,d),N--):C&v?h.appendBits(C,d):(h.appendBits(C|1,d),N--)}return h}static totalBitsInLayer(l,d){return((d?88:112)+16*l)*l}}tr.DEFAULT_EC_PERCENT=33,tr.DEFAULT_AZTEC_LAYERS=0,tr.MAX_NB_BITS=32,tr.MAX_NB_BITS_COMPACT=4,tr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class na{encode(l,d,h,x){return this.encodeWithHints(l,d,h,x,null)}encodeWithHints(l,d,h,x,v){let N=Un.ISO_8859_1,C=tr.DEFAULT_EC_PERCENT,I=tr.DEFAULT_AZTEC_LAYERS;return v!=null&&(v.has(li.CHARACTER_SET)&&(N=Cn.forName(v.get(li.CHARACTER_SET).toString())),v.has(li.ERROR_CORRECTION)&&(C=D.parseInt(v.get(li.ERROR_CORRECTION).toString())),v.has(li.AZTEC_LAYERS)&&(I=D.parseInt(v.get(li.AZTEC_LAYERS).toString()))),na.encodeLayers(l,d,h,x,N,C,I)}static encodeLayers(l,d,h,x,v,N,C){if(d!==ce.AZTEC)throw new g("Can only encode AZTEC, but got "+d);let I=tr.encode(W.getBytes(l,v),N,C);return na.renderResult(I,h,x)}static renderResult(l,d,h){let x=l.getMatrix();if(x==null)throw new it;let v=x.getWidth(),N=x.getHeight(),C=Math.max(d,v),I=Math.max(h,N),M=Math.min(C/v,I/N),X=(C-v*M)/2,ie=(I-N*M)/2,me=new ue(C,I);for(let De=0,de=ie;De<N;De++,de+=M)for(let Ne=0,Ce=X;Ne<v;Ne++,Ce+=M)x.get(Ne,De)&&me.setRegion(Ce,de,M,M);return me}}n.AbstractExpandedDecoder=Te,n.ArgumentException=p,n.ArithmeticException=bt,n.AztecCode=Pn,n.AztecCodeReader=Kt,n.AztecCodeWriter=na,n.AztecDecoder=mt,n.AztecDetector=Tn,n.AztecDetectorResult=Nt,n.AztecEncoder=tr,n.AztecHighLevelEncoder=mo,n.AztecPoint=Qt,n.BarcodeFormat=ce,n.Binarizer=E,n.BinaryBitmap=w,n.BitArray=P,n.BitMatrix=ue,n.BitSource=Al,n.BrowserAztecCodeReader=Dr,n.BrowserBarcodeReader=co,n.BrowserCodeReader=Z,n.BrowserDatamatrixCodeReader=jl,n.BrowserMultiFormatReader=xa,n.BrowserPDF417Reader=su,n.BrowserQRCodeReader=gc,n.BrowserQRCodeSvgWriter=Ve,n.CharacterSetECI=q,n.ChecksumException=y,n.Code128Reader=Ue,n.Code39Reader=$t,n.DataMatrixDecodedBitStreamParser=ls,n.DataMatrixReader=Ei,n.DecodeHintType=z,n.DecoderResult=ze,n.DefaultGridSampler=rn,n.DetectorResult=Le,n.EAN13Reader=ea,n.EncodeHintType=li,n.Exception=f,n.FormatException=R,n.GenericGF=Ye,n.GenericGFPoly=pt,n.GlobalHistogramBinarizer=ee,n.GridSampler=wt,n.GridSamplerInstance=dn,n.HTMLCanvasElementLuminanceSource=_e,n.HybridBinarizer=Ae,n.ITFReader=nn,n.IllegalArgumentException=g,n.IllegalStateException=it,n.InvertedLuminanceSource=Be,n.LuminanceSource=ge,n.MathUtils=rt,n.MultiFormatOneDReader=pa,n.MultiFormatReader=au,n.MultiFormatWriter=Et,n.NotFoundException=se,n.OneDReader=hn,n.PDF417DecodedBitStreamParser=gt,n.PDF417DecoderErrorCorrection=td,n.PDF417Reader=Ni,n.PDF417ResultMetadata=xc,n.PerspectiveTransform=Vt,n.PlanarYUVLuminanceSource=Dt,n.QRCodeByteMatrix=qa,n.QRCodeDataMask=ja,n.QRCodeDecodedBitStreamParser=Nr,n.QRCodeDecoderErrorCorrectionLevel=Sr,n.QRCodeDecoderFormatInformation=Mi,n.QRCodeEncoder=Re,n.QRCodeEncoderQRCode=ka,n.QRCodeMaskUtil=In,n.QRCodeMatrixUtil=O,n.QRCodeMode=jn,n.QRCodeReader=fo,n.QRCodeVersion=_n,n.QRCodeWriter=nt,n.RGBLuminanceSource=sn,n.RSS14Reader=Xn,n.RSSExpandedReader=Ct,n.ReaderException=Pi,n.ReedSolomonDecoder=fe,n.ReedSolomonEncoder=po,n.ReedSolomonException=yt,n.Result=Q,n.ResultMetadataType=Fe,n.ResultPoint=qe,n.StringUtils=W,n.UnsupportedOperationException=te,n.VideoInputDevice=ct,n.WhiteRectangleDetector=et,n.WriterException=Cr,n.ZXingArrays=k,n.ZXingCharset=Cn,n.ZXingInteger=D,n.ZXingStandardCharsets=Un,n.ZXingStringBuilder=J,n.ZXingStringEncoding=H,n.ZXingSystem=S,n.createAbstractExpandedDecoder=Yt,Object.defineProperty(n,"__esModule",{value:!0})})})(nb,nb.exports);var Ti=nb.exports;const hV=Tg(Ti),pV=wC({__proto__:null,default:hV},[Ti]);var n8=function(){function e(t,n,r){if(this.formatMap=new Map([[mn.QR_CODE,Ti.BarcodeFormat.QR_CODE],[mn.AZTEC,Ti.BarcodeFormat.AZTEC],[mn.CODABAR,Ti.BarcodeFormat.CODABAR],[mn.CODE_39,Ti.BarcodeFormat.CODE_39],[mn.CODE_93,Ti.BarcodeFormat.CODE_93],[mn.CODE_128,Ti.BarcodeFormat.CODE_128],[mn.DATA_MATRIX,Ti.BarcodeFormat.DATA_MATRIX],[mn.MAXICODE,Ti.BarcodeFormat.MAXICODE],[mn.ITF,Ti.BarcodeFormat.ITF],[mn.EAN_13,Ti.BarcodeFormat.EAN_13],[mn.EAN_8,Ti.BarcodeFormat.EAN_8],[mn.PDF_417,Ti.BarcodeFormat.PDF_417],[mn.RSS_14,Ti.BarcodeFormat.RSS_14],[mn.RSS_EXPANDED,Ti.BarcodeFormat.RSS_EXPANDED],[mn.UPC_A,Ti.BarcodeFormat.UPC_A],[mn.UPC_E,Ti.BarcodeFormat.UPC_E],[mn.UPC_EAN_EXTENSION,Ti.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!pV)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(Ti.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Ti.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var n=new Ti.MultiFormatReader(this.verbose,this.hints),r=new Ti.HTMLCanvasElementLuminanceSource(t),i=new Ti.BinaryBitmap(new Ti.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:hj.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),mV=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(p){try{f(r.next(p))}catch(g){o(g)}}function u(p){try{f(r.throw(p))}catch(g){o(g)}}function f(p){p.done?a(p.value):i(p.value).then(c,u)}f((r=r.apply(e,t||[])).next())})},xV=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(p){return u([f,p])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},r8=function(){function e(t,n,r){if(this.formatMap=new Map([[mn.QR_CODE,"qr_code"],[mn.AZTEC,"aztec"],[mn.CODABAR,"codabar"],[mn.CODE_39,"code_39"],[mn.CODE_93,"code_93"],[mn.CODE_128,"code_128"],[mn.DATA_MATRIX,"data_matrix"],[mn.ITF,"itf"],[mn.EAN_13,"ean_13"],[mn.EAN_8,"ean_8"],[mn.PDF_417,"pdf417"],[mn.UPC_A,"upc_a"],[mn.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return mV(this,void 0,void 0,function(){var n,r;return xV(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:hj.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,a=t;i<a.length;i++){var o=a[i],c=o.boundingBox.width*o.boundingBox.height;c>r&&(r=c,n=o)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),i8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(p){try{f(r.next(p))}catch(g){o(g)}}function u(p){try{f(r.throw(p))}catch(g){o(g)}}function f(p){p.done?a(p.value):i(p.value).then(c,u)}f((r=r.apply(e,t||[])).next())})},a8=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(p){return u([f,p])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},gV=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&r8.isSupported()?(this.primaryDecoder=new r8(t,r,i),this.secondaryDecoder=new n8(t,r,i)):this.primaryDecoder=new n8(t,r,i)}return e.prototype.decodeAsync=function(t){return i8(this,void 0,void 0,function(){var n;return a8(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return i8(this,void 0,void 0,function(){var n,r;return a8(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),n3=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eg=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(p){try{f(r.next(p))}catch(g){o(g)}}function u(p){try{f(r.throw(p))}catch(g){o(g)}}function f(p){p.done?a(p.value):i(p.value).then(c,u)}f((r=r.apply(e,t||[])).next())})},tg=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(p){return u([f,p])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},mj=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),vV=function(e){n3(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(mj),wV=function(e){n3(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(vV),yV=function(e){n3(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(mj),bV=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new wV(this.track)},e.prototype.torchFeature=function(){return new yV(this.track)},e}(),NV=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return eg(this,void 0,void 0,function(){var a,o;return tg(this,function(c){switch(c.label){case 0:return a=new e(t,n,i),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:c.sent(),c.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return eg(this,void 0,void 0,function(){return tg(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),a=i.length,o=0;t.mediaStream.getVideoTracks().forEach(function(c){t.mediaStream.removeTrack(c),c.stop(),++o,o>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new bV(this.getFirstTrackOrFail())},e}(),_V=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return eg(this,void 0,void 0,function(){return tg(this,function(i){return[2,NV.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return eg(this,void 0,void 0,function(){var n,r;return tg(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),s8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(p){try{f(r.next(p))}catch(g){o(g)}}function u(p){try{f(r.throw(p))}catch(g){o(g)}}function f(p){p.done?a(p.value):i(p.value).then(c,u)}f((r=r.apply(e,t||[])).next())})},o8=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(p){return u([f,p])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},SV=function(){function e(){}return e.failIfNotSupported=function(){return s8(this,void 0,void 0,function(){return o8(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return s8(this,void 0,void 0,function(){return o8(this,function(n){return[2,_V.create(t)]})})},e}(),CV=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(p){try{f(r.next(p))}catch(g){o(g)}}function u(p){try{f(r.throw(p))}catch(g){o(g)}}function f(p){p.done?a(p.value):i(p.value).then(c,u)}f((r=r.apply(e,t||[])).next())})},EV=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(p){return u([f,p])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},AV=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=fh.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=fh.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return CV(this,void 0,void 0,function(){var t,n,r,i,a,o,c;return EV(this,function(u){switch(u.label){case 0:return t=function(f){for(var p=f.getVideoTracks(),g=0,w=p;g<w.length;g++){var y=w[g];y.enabled=!1,y.stop(),f.removeTrack(y)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=u.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=u.sent(),i=[],a=0,o=r;a<o.length;a++)c=o[a],c.kind==="videoinput"&&i.push({id:c.deviceId,label:c.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var o=[],c=0,u=a;c<u.length;c++){var f=u[c];f.kind==="video"&&o.push({id:f.id,label:f.label})}t(o)},i=MediaStreamTrack;i.getSources(r)})},e}(),aa;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(aa||(aa={}));var jV=function(){function e(){this.state=aa.NOT_STARTED,this.onGoingTransactionNewState=aa.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===aa.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=aa.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===aa.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=aa.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==aa.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case aa.UNKNOWN:throw"Transition from unknown is not allowed";case aa.NOT_STARTED:this.failIfNewStateIs(t,[aa.PAUSED]);break;case aa.SCANNING:break;case aa.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),kV=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===aa.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==aa.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===aa.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===aa.PAUSED},e}(),TV=function(){function e(){}return e.create=function(){return new kV(new jV)},e}(),LV=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qo=function(e){LV(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(uV),IV=function(){function e(t,n){this.logger=n,this.fps=qo.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=qo.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?pj.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!bu(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),DV=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new fV(this.verbose),this.qrcode=new gV(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=TV.create()}return e.prototype.start=function(t,n,r,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var c=IV.create(n,this.logger);this.clearElement();var u=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?u=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=u,p=document.getElementById(this.elementId);p.clientWidth?p.clientWidth:qo.DEFAULT_WIDTH,p.style.position="relative",this.shouldScan=!0,this.element=p;var g=this,w=this.stateManagerProxy.startTransition(aa.SCANNING);return new Promise(function(y,E){var S=f?c.videoConstraints:g.createVideoConstraints(t);if(!S){w.cancel(),E("videoConstraints should be defined");return}var A={};(!f||c.aspectRatio)&&(A.aspectRatio=c.aspectRatio);var j={onRenderSurfaceReady:function(k,D){g.setupUi(k,D,c),g.isScanning=!0,g.foreverScan(c,r,o)}};SV.failIfNotSupported().then(function(k){k.create(S).then(function(D){return D.render(a.element,A,j).then(function(P){g.renderedCamera=P,w.execute(),y(null)}).catch(function(P){w.cancel(),E(P)})}).catch(function(D){w.cancel(),E(fh.errorGettingUserMedia(D))})}).catch(function(k){w.cancel(),E(fh.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(aa.PAUSED),this.showPausedState(),(bu(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(aa.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(aa.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(qo.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(bu(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var c=o.width,u=o.height,f=document.getElementById(r.elementId),p=f.clientWidth?f.clientWidth:qo.DEFAULT_WIDTH,g=Math.max(f.clientHeight?f.clientHeight:u,qo.FILE_SCAN_MIN_HEIGHT),w=r.computeCanvasDrawConfig(c,u,p,g);if(n){var y=r.createCanvasElement(p,g,"qr-canvas-visible");y.style.display="inline-block",f.appendChild(y);var E=y.getContext("2d");if(!E)throw"Unable to get 2d context from canvas";E.canvas.width=p,E.canvas.height=g,E.drawImage(o,0,0,c,u,w.x,w.y,w.width,w.height)}var S=qo.FILE_SCAN_HIDDEN_CANVAS_PADDING,A=Math.max(o.width,w.width),j=Math.max(o.height,w.height),k=A+2*S,D=j+2*S,P=r.createCanvasElement(k,D);f.appendChild(P);var Y=P.getContext("2d");if(!Y)throw"Unable to get 2d context from canvas";Y.canvas.width=k,Y.canvas.height=D,Y.drawImage(o,0,0,c,u,S,S,A,j);try{r.qrcode.decodeRobustlyAsync(P).then(function(z){i(t8.createFromQrcodeResult(z))}).catch(a)}catch(z){a("QR code parse error, error = ".concat(z))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return AV.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!pj.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[mn.QR_CODE,mn.AZTEC,mn.CODABAR,mn.CODE_39,mn.CODE_93,mn.CODE_128,mn.DATA_MATRIX,mn.MAXICODE,mn.ITF,mn.EAN_13,mn.EAN_8,mn.PDF_417,mn.RSS_14,mn.RSS_EXPANDED,mn.UPC_A,mn.UPC_E,mn.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var o=a[i];cV(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(bu(t))return!0;if(!bu(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(bu(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return bu(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(t,n,a),c=function(f){if(f<qo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(qo.MIN_QR_BOX_SIZE,"px.")},u=function(f){return f>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=t),f};c(o.width),c(o.height),o.width=u(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=bu(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&a.height<=n,c={x:0,y:0,width:t,height:n},u=o?this.getShadedRegionBounds(t,n,a):c,f=this.createCanvasElement(u.width,u.height),p={willReadFrequently:!0},g=f.getContext("2d",p);g.canvas.width=u.width,g.canvas.height=u.height,this.element.append(f),o&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=u,this.context=g,this.canvasElement=f},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=fh.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,t8.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=fh.codeParseError(i);return n(a,dV.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,c=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var u=this.qrRegion.width*o,f=this.qrRegion.height*c,p=this.qrRegion.x*o,g=this.qrRegion.y*c;this.context.drawImage(a,p,g,u,f,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(y){!y&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){w()})):w()}).catch(function(y){i.logger.logError("Error happend while scanning context",y),w()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",o=function(E){if(E in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(E,"'")},c=Object.keys(t);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var u=Object.keys(t)[0];if(u!==n&&u!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(u===n){var f=t.facingMode;if(typeof f=="string"){if(o(f))return{facingMode:f}}else if(typeof f=="object")if(a in f){if(o(f["".concat(a)]))return{facingMode:{exact:f["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var p=typeof f;throw"Invalid type of 'facingMode' = ".concat(p)}}else{var g=t.deviceId;if(typeof g=="string")return{deviceId:g};if(typeof g=="object"){if(a in g)return{deviceId:{exact:g["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var w=typeof g;throw"Invalid type of 'deviceId' = ".concat(w)}}}var y=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(y)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var a=(r-t)/2,o=(i-n)/2;return{x:a,y:o,width:t,height:n}}else{var c=t,u=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(u)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?qo.BORDER_SHADER_MATCH_COLOR:qo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,a=n,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=bu(r)?"qr-canvas":r,o},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(n-i.width)/2,c=(r-i.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(qo.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var u=5,f=40;this.insertShaderBorders(a,f,u,-u,null,0,!0),this.insertShaderBorders(a,f,u,-u,null,0,!1),this.insertShaderBorders(a,f,u,null,-u,0,!0),this.insertShaderBorders(a,f,u,null,-u,0,!1),this.insertShaderBorders(a,u,f+u,-u,null,-u,!0),this.insertShaderBorders(a,u,f+u,null,-u,-u,!0),this.insertShaderBorders(a,u,f+u,-u,null,-u,!1),this.insertShaderBorders(a,u,f+u,null,-u,-u,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,i,a,o,c){var u=document.createElement("div");u.style.position="absolute",u.style.backgroundColor=qo.BORDER_SHADER_DEFAULT_COLOR,u.style.width="".concat(n,"px"),u.style.height="".concat(r,"px"),i!==null&&(u.style.top="".concat(i,"px")),a!==null&&(u.style.bottom="".concat(a,"px")),c?u.style.left="".concat(o,"px"):u.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(u),t.appendChild(u)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var l8;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(l8||(l8={}));const xj=({onScan:e,onError:t=i=>console.error(i),isOpen:n,onClose:r})=>{const[i,a]=K.useState(!1),[o,c]=K.useState(""),u=K.useRef(null),f=K.useRef(null);K.useEffect(()=>(n&&!i&&p(),()=>{g()}),[n]);const p=async()=>{if(u.current)try{const y=new DV("scanner");f.current=y;const E={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[1,2,3,4,5,6,7,8,9,10,11,12]};await y.start({facingMode:"environment"},E,S=>{navigator.vibrate&&navigator.vibrate(200),gn.success(`Barcode scanned: ${S}`,{icon:"",toastId:"barcode-success"}),e(S),g(),r()},S=>{console.log(S)}),a(!0)}catch(y){console.error("Error starting scanner:",y);let E="",S="";y.name==="NotFoundError"||y.message&&y.message.includes("Requested device not found")?(E="No camera found. Please make sure your device has a camera and you have granted permission to use it.",S="No camera detected. You can manually enter the barcode value instead.",gn.error(S,{icon:"",toastId:"camera-not-found"})):y.name==="NotAllowedError"||y.message&&y.message.includes("Permission denied")?(E="Camera access denied. Please grant permission to use your camera.",S="Camera access denied. Please check your browser permissions.",gn.error(S,{icon:"",toastId:"camera-permission-denied"})):(E=y&&y.message?y.message:"Failed to start scanner",gn.error("Failed to start barcode scanner. Please try again later.",{toastId:"scanner-error"})),c(E),t(E),r()}},g=async()=>{if(f.current&&i)try{await f.current.stop(),a(!1)}catch(y){console.error("Error stopping scanner:",y)}},w=()=>{g(),r()};return n?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg w-full max-w-md mx-4 md:mx-0",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Scan Barcode"}),s.jsx("button",{onClick:w,className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("div",{id:"scanner",ref:u,className:"w-full h-64 bg-gray-100 rounded flex items-center justify-center",children:o&&s.jsxs("div",{className:"text-center p-4",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-red-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("p",{className:"text-red-600 font-medium",children:o}),s.jsx("p",{className:"text-gray-600 mt-2",children:"You can manually enter the barcode value instead."})]})})}),s.jsx("div",{className:"text-sm text-gray-500 mb-4",children:o?"To use the barcode scanner, you need a device with a camera and permission to access it.":s.jsxs("div",{children:[s.jsxs("p",{className:"mb-2",children:[" ",s.jsx("strong",{children:"Mobile users:"})," Hold your phone steady and point the camera at the barcode."]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Desktop users:"})," Position the barcode within the scanner area."]}),s.jsx("p",{className:"mt-2 text-xs",children:"The scanner will automatically detect and process the code."})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:w,className:"btn btn-outline",children:"Cancel"})})]})}):null};xj.propTypes={onScan:Ge.func.isRequired,onError:Ge.func,isOpen:Ge.bool.isRequired,onClose:Ge.func.isRequired};const gj=({id:e="",onScan:t,buttonText:n="",className:r=""})=>{const[i,a]=K.useState(!1),o=()=>{a(!0)},c=()=>{a(!1)},u=f=>{console.error("Scan error:",f)};return s.jsxs(s.Fragment,{children:[s.jsxs("button",{id:e,type:"button",onClick:o,className:`flex items-center justify-center px-3 py-1.5 text-sm font-medium rounded-md
          bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
          hover:border-primary-600 hover:shadow-sm transition-all ${r}`,title:"Scan Barcode",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),n&&s.jsx("span",{className:"ml-1 font-medium",children:n})]}),s.jsx(xj,{isOpen:i,onClose:c,onScan:t,onError:u})]})};gj.propTypes={id:Ge.string,onScan:Ge.func.isRequired,buttonText:Ge.string,className:Ge.string};const vj=({id:e,name:t,type:n="text",label:r,placeholder:i,value:a,onChange:o,onBlur:c,error:u,disabled:f=!1,required:p=!1,className:g="",onScan:w,...y})=>{const j=`
    rounded-l-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${u?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${f?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 px-3 text-sm
    w-full
    ${g}
  `,k=`barcode-scan-button-${e}`;return s.jsxs("div",{className:"w-full",children:[r&&s.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${u?"text-red-600":"text-slate-700"}`,children:[r,p&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"flex",style:{display:"flex",width:"100%"},children:[s.jsx("input",{id:e,name:t,type:n,value:a,onChange:o,onBlur:c,placeholder:i,disabled:f,required:p,className:j,style:{width:"calc(100% - 120px)"},...y}),s.jsxs("button",{type:"button",onClick:()=>{const D=document.getElementById(k);D&&D.click()},className:`w-[120px] bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
            hover:border-primary-600 hover:shadow-sm transition-all font-medium flex items-center
            justify-center rounded-r-md border-l-0`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Scan"]}),s.jsx("div",{style:{display:"none"},children:s.jsx(gj,{id:k,onScan:w})})]}),u&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]})};vj.propTypes={id:Ge.string.isRequired,name:Ge.string.isRequired,type:Ge.string,label:Ge.string,placeholder:Ge.string,value:Ge.oneOfType([Ge.string,Ge.number]),onChange:Ge.func,onBlur:Ge.func,error:Ge.string,disabled:Ge.bool,required:Ge.bool,className:Ge.string,onScan:Ge.func.isRequired};const Ga=({id:e,name:t,label:n,value:r,onChange:i,onBlur:a,options:o=[],error:c,disabled:u=!1,required:f=!1,placeholder:p="Select an option",className:g="",helpText:w,...y})=>{const j=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none
    ${c?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900"}
    ${u?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 pl-3 pr-10 text-sm
    ${g}
  `;return s.jsxs("div",{className:"w-full",children:[n&&s.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${c?"text-red-600":"text-slate-700"}`,children:[n,f&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{id:e,name:t,value:r,onChange:i,onBlur:a,disabled:u,required:f,className:j,...y,children:[s.jsx("option",{value:"",children:p}),o.map(k=>s.jsx("option",{value:k.value||k,children:k.label||k},k.value||k))]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-slate-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c}),w&&!c&&s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:w})]})};Ga.propTypes={id:Ge.string.isRequired,name:Ge.string.isRequired,label:Ge.string,value:Ge.string,onChange:Ge.func,onBlur:Ge.func,options:Ge.arrayOf(Ge.oneOfType([Ge.string,Ge.shape({value:Ge.string.isRequired,label:Ge.string.isRequired})])),error:Ge.string,disabled:Ge.bool,required:Ge.bool,placeholder:Ge.string,className:Ge.string,helpText:Ge.string};const Ht=({children:e,className:t="",...n})=>s.jsx("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden ${t}`,...n,children:e}),wj=({children:e,className:t="",...n})=>s.jsx("div",{className:`px-6 py-4 border-b border-slate-200 ${t}`,...n,children:e}),yj=({children:e,className:t="",...n})=>s.jsx("h3",{className:`text-lg font-medium text-slate-800 ${t}`,...n,children:e}),bj=({children:e,className:t="",...n})=>s.jsx("div",{className:`p-6 ${t}`,...n,children:e}),Nj=({children:e,className:t="",...n})=>s.jsx("div",{className:`px-6 py-4 bg-slate-50 border-t border-slate-200 ${t}`,...n,children:e});Ht.Header=wj;Ht.Title=yj;Ht.Body=bj;Ht.Footer=Nj;Ht.propTypes={children:Ge.node.isRequired,className:Ge.string};wj.propTypes={children:Ge.node.isRequired,className:Ge.string};yj.propTypes={children:Ge.node.isRequired,className:Ge.string};bj.propTypes={children:Ge.node.isRequired,className:Ge.string};Nj.propTypes={children:Ge.node.isRequired,className:Ge.string};const Yo=({children:e,variant:t="primary",size:n="md",className:r="",...i})=>{const a="inline-flex items-center font-medium rounded-full",o={primary:"bg-primary-100 text-primary-800",secondary:"bg-slate-100 text-slate-800",success:"bg-green-100 text-green-800",danger:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800"},c={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"},u=`
    ${a}
    ${o[t]||o.primary}
    ${c[n]||c.md}
    ${r}
  `;return s.jsx("span",{className:u,...i,children:e})};Yo.propTypes={children:Ge.node.isRequired,variant:Ge.oneOf(["primary","secondary","success","danger","warning","info"]),size:Ge.oneOf(["sm","md","lg"]),className:Ge.string};function hv(){return typeof window<"u"}function c1(e){return _j(e)?(e.nodeName||"").toLowerCase():"#document"}function Jo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zc(e){var t;return(t=(_j(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _j(e){return hv()?e instanceof Node||e instanceof Jo(e).Node:!1}function io(e){return hv()?e instanceof Element||e instanceof Jo(e).Element:!1}function Kc(e){return hv()?e instanceof HTMLElement||e instanceof Jo(e).HTMLElement:!1}function c8(e){return!hv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jo(e).ShadowRoot}function om(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Cl(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function OV(e){return["table","td","th"].includes(c1(e))}function pv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function r3(e){const t=i3(),n=io(e)?Cl(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function RV(e){let t=n0(e);for(;Kc(t)&&!Vh(t);){if(r3(t))return t;if(pv(t))return null;t=n0(t)}return null}function i3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vh(e){return["html","body","#document"].includes(c1(e))}function Cl(e){return Jo(e).getComputedStyle(e)}function mv(e){return io(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function n0(e){if(c1(e)==="html")return e;const t=e.assignedSlot||e.parentNode||c8(e)&&e.host||Zc(e);return c8(t)?t.host:t}function Sj(e){const t=n0(e);return Vh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Kc(t)&&om(t)?t:Sj(t)}function Wp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Sj(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Jo(i);if(a){const c=rb(o);return t.concat(o,o.visualViewport||[],om(i)?i:[],c&&n?Wp(c):[])}return t.concat(i,Wp(i,[],n))}function rb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const $h=Math.min,G0=Math.max,ng=Math.round,vx=Math.floor,Gc=e=>({x:e,y:e}),MV={left:"right",right:"left",bottom:"top",top:"bottom"},PV={start:"end",end:"start"};function FV(e,t,n){return G0(e,$h(t,n))}function xv(e,t){return typeof e=="function"?e(t):e}function Yh(e){return e.split("-")[0]}function lm(e){return e.split("-")[1]}function BV(e){return e==="x"?"y":"x"}function a3(e){return e==="y"?"height":"width"}function W0(e){return["top","bottom"].includes(Yh(e))?"y":"x"}function s3(e){return BV(W0(e))}function UV(e,t,n){n===void 0&&(n=!1);const r=lm(e),i=s3(e),a=a3(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=rg(o)),[o,rg(o)]}function zV(e){const t=rg(e);return[ib(e),t,ib(t)]}function ib(e){return e.replace(/start|end/g,t=>PV[t])}function WV(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function qV(e,t,n,r){const i=lm(e);let a=WV(Yh(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(ib)))),a}function rg(e){return e.replace(/left|right|bottom|top/g,t=>MV[t])}function HV(e){return{top:0,right:0,bottom:0,left:0,...e}}function Cj(e){return typeof e!="number"?HV(e):{top:e,right:e,bottom:e,left:e}}function ig(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var VV=typeof document<"u",$V=function(){},ag=VV?K.useLayoutEffect:$V;const YV={...Fb},GV=YV.useInsertionEffect,XV=GV||(e=>e());function KV(e){const t=K.useRef(()=>{});return XV(()=>{t.current=e}),K.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function u8(e,t,n){let{reference:r,floating:i}=e;const a=W0(t),o=s3(t),c=a3(o),u=Yh(t),f=a==="y",p=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,w=r[c]/2-i[c]/2;let y;switch(u){case"top":y={x:p,y:r.y-i.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:g};break;case"left":y={x:r.x-i.width,y:g};break;default:y={x:r.x,y:r.y}}switch(lm(t)){case"start":y[o]-=w*(n&&f?-1:1);break;case"end":y[o]+=w*(n&&f?-1:1);break}return y}const QV=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,c=a.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let f=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:g}=u8(f,r,u),w=r,y={},E=0;for(let S=0;S<c.length;S++){const{name:A,fn:j}=c[S],{x:k,y:D,data:P,reset:Y}=await j({x:p,y:g,initialPlacement:r,placement:w,strategy:i,middlewareData:y,rects:f,platform:o,elements:{reference:e,floating:t}});p=k??p,g=D??g,y={...y,[A]:{...y[A],...P}},Y&&E<=50&&(E++,typeof Y=="object"&&(Y.placement&&(w=Y.placement),Y.rects&&(f=Y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):Y.rects),{x:p,y:g}=u8(f,w,u)),S=-1)}return{x:p,y:g,placement:w,strategy:i,middlewareData:y}};async function ZV(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:c,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:w=!1,padding:y=0}=xv(t,e),E=Cj(y),A=c[w?g==="floating"?"reference":"floating":g],j=ig(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(A)))==null||n?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:u})),k=g==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),P=await(a.isElement==null?void 0:a.isElement(D))?await(a.getScale==null?void 0:a.getScale(D))||{x:1,y:1}:{x:1,y:1},Y=ig(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:D,strategy:u}):k);return{top:(j.top-Y.top+E.top)/P.y,bottom:(Y.bottom-j.bottom+E.bottom)/P.y,left:(j.left-Y.left+E.left)/P.x,right:(Y.right-j.right+E.right)/P.x}}const JV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:c,middlewareData:u}=t,{element:f,padding:p=0}=xv(e,t)||{};if(f==null)return{};const g=Cj(p),w={x:n,y:r},y=s3(i),E=a3(y),S=await o.getDimensions(f),A=y==="y",j=A?"top":"left",k=A?"bottom":"right",D=A?"clientHeight":"clientWidth",P=a.reference[E]+a.reference[y]-w[y]-a.floating[E],Y=w[y]-a.reference[y],z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let R=z?z[D]:0;(!R||!await(o.isElement==null?void 0:o.isElement(z)))&&(R=c.floating[D]||a.floating[E]);const B=P/2-Y/2,q=R/2-S[E]/2-1,te=$h(g[j],q),H=$h(g[k],q),W=te,J=R-S[E]-H,ue=R/2-S[E]/2+B,se=FV(W,ue,J),ee=!u.arrow&&lm(i)!=null&&ue!==se&&a.reference[E]/2-(ue<W?te:H)-S[E]/2<0,Ae=ee?ue<W?ue-W:ue-J:0;return{[y]:w[y]+Ae,data:{[y]:se,centerOffset:ue-se-Ae,...ee&&{alignmentOffset:Ae}},reset:ee}}}),e$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:u,elements:f}=t,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:w,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...A}=xv(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=Yh(i),k=W0(c),D=Yh(c)===c,P=await(u.isRTL==null?void 0:u.isRTL(f.floating)),Y=w||(D||!S?[rg(c)]:zV(c)),z=E!=="none";!w&&z&&Y.push(...qV(c,S,E,P));const R=[c,...Y],B=await ZV(t,A),q=[];let te=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&q.push(B[j]),g){const ue=UV(i,o,P);q.push(B[ue[0]],B[ue[1]])}if(te=[...te,{placement:i,overflows:q}],!q.every(ue=>ue<=0)){var H,W;const ue=(((H=a.flip)==null?void 0:H.index)||0)+1,se=R[ue];if(se&&(!(g==="alignment"?k!==W0(se):!1)||te.every(ge=>ge.overflows[0]>0&&W0(ge.placement)===k)))return{data:{index:ue,overflows:te},reset:{placement:se}};let ee=(W=te.filter(Ae=>Ae.overflows[0]<=0).sort((Ae,ge)=>Ae.overflows[1]-ge.overflows[1])[0])==null?void 0:W.placement;if(!ee)switch(y){case"bestFit":{var J;const Ae=(J=te.filter(ge=>{if(z){const Be=W0(ge.placement);return Be===k||Be==="y"}return!0}).map(ge=>[ge.placement,ge.overflows.filter(Be=>Be>0).reduce((Be,_e)=>Be+_e,0)]).sort((ge,Be)=>ge[1]-Be[1])[0])==null?void 0:J[0];Ae&&(ee=Ae);break}case"initialPlacement":ee=c;break}if(i!==ee)return{reset:{placement:ee}}}return{}}}};async function t$(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Yh(n),c=lm(n),u=W0(n)==="y",f=["left","top"].includes(o)?-1:1,p=a&&u?-1:1,g=xv(t,e);let{mainAxis:w,crossAxis:y,alignmentAxis:E}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof E=="number"&&(y=c==="end"?E*-1:E),u?{x:y*p,y:w*f}:{x:w*f,y:y*p}}const n$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:c}=t,u=await t$(t,e);return o===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:o}}}}};function Ej(e){const t=Cl(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Kc(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,c=ng(n)!==a||ng(r)!==o;return c&&(n=a,r=o),{width:n,height:r,$:c}}function o3(e){return io(e)?e:e.contextElement}function bh(e){const t=o3(e);if(!Kc(t))return Gc(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=Ej(t);let o=(a?ng(n.width):n.width)/r,c=(a?ng(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const r$=Gc(0);function Aj(e){const t=Jo(e);return!i3()||!t.visualViewport?r$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function i$(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Jo(e)?!1:t}function of(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=o3(e);let o=Gc(1);t&&(r?io(r)&&(o=bh(r)):o=bh(e));const c=i$(a,n,r)?Aj(a):Gc(0);let u=(i.left+c.x)/o.x,f=(i.top+c.y)/o.y,p=i.width/o.x,g=i.height/o.y;if(a){const w=Jo(a),y=r&&io(r)?Jo(r):r;let E=w,S=rb(E);for(;S&&r&&y!==E;){const A=bh(S),j=S.getBoundingClientRect(),k=Cl(S),D=j.left+(S.clientLeft+parseFloat(k.paddingLeft))*A.x,P=j.top+(S.clientTop+parseFloat(k.paddingTop))*A.y;u*=A.x,f*=A.y,p*=A.x,g*=A.y,u+=D,f+=P,E=Jo(S),S=rb(E)}}return ig({width:p,height:g,x:u,y:f})}function l3(e,t){const n=mv(e).scrollLeft;return t?t.left+n:of(Zc(e)).left+n}function jj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:l3(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function a$(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Zc(r),c=t?pv(t.floating):!1;if(r===o||c&&a)return n;let u={scrollLeft:0,scrollTop:0},f=Gc(1);const p=Gc(0),g=Kc(r);if((g||!g&&!a)&&((c1(r)!=="body"||om(o))&&(u=mv(r)),Kc(r))){const y=of(r);f=bh(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}const w=o&&!g&&!a?jj(o,u,!0):Gc(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+p.x+w.x,y:n.y*f.y-u.scrollTop*f.y+p.y+w.y}}function s$(e){return Array.from(e.getClientRects())}function o$(e){const t=Zc(e),n=mv(e),r=e.ownerDocument.body,i=G0(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=G0(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+l3(e);const c=-n.scrollTop;return Cl(r).direction==="rtl"&&(o+=G0(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:c}}function l$(e,t){const n=Jo(e),r=Zc(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,c=0,u=0;if(i){a=i.width,o=i.height;const f=i3();(!f||f&&t==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:c,y:u}}function c$(e,t){const n=of(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Kc(e)?bh(e):Gc(1),o=e.clientWidth*a.x,c=e.clientHeight*a.y,u=i*a.x,f=r*a.y;return{width:o,height:c,x:u,y:f}}function d8(e,t,n){let r;if(t==="viewport")r=l$(e,n);else if(t==="document")r=o$(Zc(e));else if(io(t))r=c$(t,n);else{const i=Aj(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ig(r)}function kj(e,t){const n=n0(e);return n===t||!io(n)||Vh(n)?!1:Cl(n).position==="fixed"||kj(n,t)}function u$(e,t){const n=t.get(e);if(n)return n;let r=Wp(e,[],!1).filter(c=>io(c)&&c1(c)!=="body"),i=null;const a=Cl(e).position==="fixed";let o=a?n0(e):e;for(;io(o)&&!Vh(o);){const c=Cl(o),u=r3(o);!u&&c.position==="fixed"&&(i=null),(a?!u&&!i:!u&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||om(o)&&!u&&kj(e,o))?r=r.filter(p=>p!==o):i=c,o=n0(o)}return t.set(e,r),r}function d$(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?pv(t)?[]:u$(t,this._c):[].concat(n),r],c=o[0],u=o.reduce((f,p)=>{const g=d8(t,p,i);return f.top=G0(g.top,f.top),f.right=$h(g.right,f.right),f.bottom=$h(g.bottom,f.bottom),f.left=G0(g.left,f.left),f},d8(t,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function f$(e){const{width:t,height:n}=Ej(e);return{width:t,height:n}}function h$(e,t,n){const r=Kc(t),i=Zc(t),a=n==="fixed",o=of(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const u=Gc(0);function f(){u.x=l3(i)}if(r||!r&&!a)if((c1(t)!=="body"||om(i))&&(c=mv(t)),r){const y=of(t,!0,a,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else i&&f();a&&!r&&i&&f();const p=i&&!r&&!a?jj(i,c):Gc(0),g=o.left+c.scrollLeft-u.x-p.x,w=o.top+c.scrollTop-u.y-p.y;return{x:g,y:w,width:o.width,height:o.height}}function ty(e){return Cl(e).position==="static"}function f8(e,t){if(!Kc(e)||Cl(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Zc(e)===n&&(n=n.ownerDocument.body),n}function Tj(e,t){const n=Jo(e);if(pv(e))return n;if(!Kc(e)){let i=n0(e);for(;i&&!Vh(i);){if(io(i)&&!ty(i))return i;i=n0(i)}return n}let r=f8(e,t);for(;r&&OV(r)&&ty(r);)r=f8(r,t);return r&&Vh(r)&&ty(r)&&!r3(r)?n:r||RV(e)||n}const p$=async function(e){const t=this.getOffsetParent||Tj,n=this.getDimensions,r=await n(e.floating);return{reference:h$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function m$(e){return Cl(e).direction==="rtl"}const x$={convertOffsetParentRelativeRectToViewportRelativeRect:a$,getDocumentElement:Zc,getClippingRect:d$,getOffsetParent:Tj,getElementRects:p$,getClientRects:s$,getDimensions:f$,getScale:bh,isElement:io,isRTL:m$};function Lj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function g$(e,t){let n=null,r;const i=Zc(e);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),a();const f=e.getBoundingClientRect(),{left:p,top:g,width:w,height:y}=f;if(c||t(),!w||!y)return;const E=vx(g),S=vx(i.clientWidth-(p+w)),A=vx(i.clientHeight-(g+y)),j=vx(p),D={rootMargin:-E+"px "+-S+"px "+-A+"px "+-j+"px",threshold:G0(0,$h(1,u))||1};let P=!0;function Y(z){const R=z[0].intersectionRatio;if(R!==u){if(!P)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!Lj(f,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(Y,{...D,root:i.ownerDocument})}catch{n=new IntersectionObserver(Y,D)}n.observe(e)}return o(!0),a}function v$(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=o3(e),p=i||a?[...f?Wp(f):[],...Wp(t)]:[];p.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const g=f&&c?g$(f,n):null;let w=-1,y=null;o&&(y=new ResizeObserver(j=>{let[k]=j;k&&k.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var D;(D=y)==null||D.observe(t)})),n()}),f&&!u&&y.observe(f),y.observe(t));let E,S=u?of(e):null;u&&A();function A(){const j=of(e);S&&!Lj(S,j)&&n(),S=j,E=requestAnimationFrame(A)}return n(),()=>{var j;p.forEach(k=>{i&&k.removeEventListener("scroll",n),a&&k.removeEventListener("resize",n)}),g==null||g(),(j=y)==null||j.disconnect(),y=null,u&&cancelAnimationFrame(E)}}const w$=n$,y$=e$,h8=JV,b$=(e,t,n)=>{const r=new Map,i={platform:x$,...n},a={...i.platform,_c:r};return QV(e,t,{...i,platform:a})};var N$=typeof document<"u",_$=function(){},s2=N$?K.useLayoutEffect:_$;function sg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!sg(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!sg(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Ij(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function p8(e,t){const n=Ij(e);return Math.round(t*n)/n}function ny(e){const t=K.useRef(e);return s2(()=>{t.current=e}),t}function S$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:u,open:f}=e,[p,g]=K.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,y]=K.useState(r);sg(w,r)||y(r);const[E,S]=K.useState(null),[A,j]=K.useState(null),k=K.useCallback(ge=>{ge!==z.current&&(z.current=ge,S(ge))},[]),D=K.useCallback(ge=>{ge!==R.current&&(R.current=ge,j(ge))},[]),P=a||E,Y=o||A,z=K.useRef(null),R=K.useRef(null),B=K.useRef(p),q=u!=null,te=ny(u),H=ny(i),W=ny(f),J=K.useCallback(()=>{if(!z.current||!R.current)return;const ge={placement:t,strategy:n,middleware:w};H.current&&(ge.platform=H.current),b$(z.current,R.current,ge).then(Be=>{const _e={...Be,isPositioned:W.current!==!1};ue.current&&!sg(B.current,_e)&&(B.current=_e,k4.flushSync(()=>{g(_e)}))})},[w,t,n,H,W]);s2(()=>{f===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,g(ge=>({...ge,isPositioned:!1})))},[f]);const ue=K.useRef(!1);s2(()=>(ue.current=!0,()=>{ue.current=!1}),[]),s2(()=>{if(P&&(z.current=P),Y&&(R.current=Y),P&&Y){if(te.current)return te.current(P,Y,J);J()}},[P,Y,J,te,q]);const se=K.useMemo(()=>({reference:z,floating:R,setReference:k,setFloating:D}),[k,D]),ee=K.useMemo(()=>({reference:P,floating:Y}),[P,Y]),Ae=K.useMemo(()=>{const ge={position:n,left:0,top:0};if(!ee.floating)return ge;const Be=p8(ee.floating,p.x),_e=p8(ee.floating,p.y);return c?{...ge,transform:"translate("+Be+"px, "+_e+"px)",...Ij(ee.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Be,top:_e}},[n,c,ee.floating,p.x,p.y]);return K.useMemo(()=>({...p,update:J,refs:se,elements:ee,floatingStyles:Ae}),[p,J,se,ee,Ae])}const C$=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?h8({element:r.current,padding:i}).fn(n):{}:r?h8({element:r,padding:i}).fn(n):{}}}},E$=(e,t)=>({...w$(e),options:[e,t]}),A$=(e,t)=>({...y$(e),options:[e,t]}),j$=(e,t)=>({...C$(e),options:[e,t]}),k$={...Fb};let m8=!1,T$=0;const x8=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+T$++;function L$(){const[e,t]=K.useState(()=>m8?x8():void 0);return ag(()=>{e==null&&t(x8())},[]),K.useEffect(()=>{m8=!0},[]),e}const I$=k$.useId,Dj=I$||L$,D$=K.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:o}},width:c=14,height:u=7,tipRadius:f=0,strokeWidth:p=0,staticOffset:g,stroke:w,d:y,style:{transform:E,...S}={},...A}=t,j=Dj(),[k,D]=K.useState(!1);if(ag(()=>{if(!i)return;Cl(i).direction==="rtl"&&D(!0)},[i]),!i)return null;const[P,Y]=r.split("-"),z=P==="top"||P==="bottom";let R=g;(z&&o!=null&&o.x||!z&&o!=null&&o.y)&&(R=null);const B=p*2,q=B/2,te=c/2*(f/-8+1),H=u/2*f/4,W=!!y,J=R&&Y==="end"?"bottom":"top";let ue=R&&Y==="end"?"right":"left";R&&k&&(ue=Y==="end"?"left":"right");const se=(a==null?void 0:a.x)!=null?R||a.x:"",ee=(a==null?void 0:a.y)!=null?R||a.y:"",Ae=y||"M0,0"+(" H"+c)+(" L"+(c-te)+","+(u-H))+(" Q"+c/2+","+u+" "+te+","+(u-H))+" Z",ge={top:W?"rotate(180deg)":"",left:W?"rotate(90deg)":"rotate(-90deg)",bottom:W?"":"rotate(180deg)",right:W?"rotate(-90deg)":"rotate(90deg)"}[P];return s.jsxs("svg",{...A,"aria-hidden":!0,ref:n,width:W?c:c+B,height:c,viewBox:"0 0 "+c+" "+(u>c?u:c),style:{position:"absolute",pointerEvents:"none",[ue]:se,[J]:ee,[P]:z||W?"100%":"calc(100% - "+B/2+"px)",transform:[ge,E].filter(Be=>!!Be).join(" "),...S},children:[B>0&&s.jsx("path",{clipPath:"url(#"+j+")",fill:"none",stroke:w,strokeWidth:B+(y?0:1),d:Ae}),s.jsx("path",{stroke:B&&!y?A.fill:"none",d:Ae}),s.jsx("clipPath",{id:j,children:s.jsx("rect",{x:-q,y:q*(W?-1:1),width:c+B,height:c})})]})});function O$(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const R$=K.createContext(null),M$=K.createContext(null),P$=()=>{var e;return((e=K.useContext(R$))==null?void 0:e.id)||null},F$=()=>K.useContext(M$);function B$(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=Dj(),a=K.useRef({}),[o]=K.useState(()=>O$()),c=P$()!=null,[u,f]=K.useState(r.reference),p=KV((y,E,S)=>{a.current.openEvent=y?E:void 0,o.emit("openchange",{open:y,event:E,reason:S,nested:c}),n==null||n(y,E,S)}),g=K.useMemo(()=>({setPositionReference:f}),[]),w=K.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return K.useMemo(()=>({dataRef:a,open:t,onOpenChange:p,elements:w,events:o,floatingId:i,refs:g}),[t,p,w,o,i,g])}function U$(e){e===void 0&&(e={});const{nodeId:t}=e,n=B$({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,o]=K.useState(null),[c,u]=K.useState(null),p=(i==null?void 0:i.domReference)||a,g=K.useRef(null),w=F$();ag(()=>{p&&(g.current=p)},[p]);const y=S$({...e,elements:{...i,...c&&{reference:c}}}),E=K.useCallback(D=>{const P=io(D)?{getBoundingClientRect:()=>D.getBoundingClientRect(),getClientRects:()=>D.getClientRects(),contextElement:D}:D;u(P),y.refs.setReference(P)},[y.refs]),S=K.useCallback(D=>{(io(D)||D===null)&&(g.current=D,o(D)),(io(y.refs.reference.current)||y.refs.reference.current===null||D!==null&&!io(D))&&y.refs.setReference(D)},[y.refs]),A=K.useMemo(()=>({...y.refs,setReference:S,setPositionReference:E,domReference:g}),[y.refs,S,E]),j=K.useMemo(()=>({...y.elements,domReference:p}),[y.elements,p]),k=K.useMemo(()=>({...y,...r,refs:A,elements:j,nodeId:t}),[y,A,j,t,r]);return ag(()=>{r.dataRef.current.floatingContext=k;const D=w==null?void 0:w.nodesRef.current.find(P=>P.id===t);D&&(D.context=k)}),K.useMemo(()=>({...y,context:k,refs:A,elements:j}),[y,A,j,k])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var ab=function(t,n){return ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},ab(t,n)};function os(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ab(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Lr=function(){return Lr=Object.assign||function(n){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Lr.apply(this,arguments)};function Hc(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var z$=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,a=e.className,o=e.children,c=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return ht.createElement("div",{className:a,role:"dialog","aria-label":c,"aria-modal":"true"},o)},W$=function(e,t){var n=K.useRef(null),r=K.useRef(e);r.current=e;var i=K.useCallback(function(a){var o,c=a.composed&&a.composedPath&&a.composedPath().find(function(u){return u instanceof Node})||a.target;n.current&&!n.current.contains(c)&&(t&&c instanceof HTMLElement&&c.classList.contains(t)||(o=r.current)===null||o===void 0||o.call(r,a))},[t]);return K.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},gv=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,o=e.ignoreClass,c=W$(n,o);return ht.createElement("div",{className:r,style:a,ref:function(u){c.current=u,i&&(i.current=u)}},t)},cn;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(cn||(cn={}));function Oj(){var e=typeof window<"u"?window:globalThis;return e}var cm=12;function Kr(e){if(e==null)return new Date;var t=typeof e=="string"?zH(e):yn(e);return vv(t)?t:new Date}function ry(e,t,n,r,i){i===void 0&&(i=Kr());for(var a=Gh(n)||Gh(c3()),o=Array.isArray(t)?t:[t],c=0,u=o;c<u.length;c++){var f=u[c],p=RH(e,f,i,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(vv(p)&&(!r||e===Wi(p,f,n)))return p}return null}function vv(e,t){return X2(e)&&!sf(e,new Date("1/1/1800"))}function Wi(e,t,n){if(n==="en")return Up(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Gh(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Gh(c3()),Up(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ml(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Wi(e,i,r)||""}var Rj=" - ";function q$(e,t,n){if(!e)return"";var r=ml(e,n),i=t?ml(t,n):"";return"".concat(r).concat(Rj).concat(i)}function H$(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?ml(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=ml(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}function iy(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,a=i===void 0?0:i,o=t.second,c=o===void 0?0:o;return r2(i2(a2(e,c),a),r)}function V$(e){return Z4(e)}function $$(e,t){return Wi(e,"ddd",t)}function o2(e){return af(e)}function Qd(e,t,n){var r=Gh(t||c3());return qu(e,{locale:r,weekStartsOn:n})}function Ou(e){return X7(e)}function K1(e){return fv(e)}function g8(e){return Q5(e)}function v8(){return af(Kr())}function w8(e){return X4(e)}function Y$(e){return WW(e)}function G$(e){return K4(e)}function Bc(e,t){return e&&t?BH(e,t):!e&&!t}function Js(e,t){return e&&t?PH(e,t):!e&&!t}function og(e,t){return e&&t?FH(e,t):!e&&!t}function Tr(e,t){return e&&t?RW(e,t):!e&&!t}function q0(e,t){return e&&t?Uq(e,t):!e&&!t}function Q1(e,t,n){var r,i=af(t),a=X4(n);try{r=zp(e,{start:i,end:a})}catch{r=!1}return r}function c3(){var e=Oj();return e.__localeId__}function Gh(e){if(typeof e=="string"){var t=Oj();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function X$(e,t,n){return t(Wi(e,"EEEE",n))}function K$(e,t){return Wi(e,"EEEEEE",t)}function Q$(e,t){return Wi(e,"EEE",t)}function u3(e,t){return Wi(gl(Kr(),e),"LLLL",t)}function Mj(e,t){return Wi(gl(Kr(),e),"LLL",t)}function Z$(e,t){return Wi(Gf(Kr(),e),"QQQ",t)}function yl(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.excludeDateIntervals,c=n.includeDates,u=n.includeDateIntervals,f=n.filterDate;return um(e,{minDate:r,maxDate:i})||a&&a.some(function(p){return p instanceof Date?Tr(e,p):Tr(e,p.date)})||o&&o.some(function(p){var g=p.start,w=p.end;return zp(e,{start:g,end:w})})||c&&!c.some(function(p){return Tr(e,p)})||u&&!u.some(function(p){var g=p.start,w=p.end;return zp(e,{start:g,end:w})})||f&&!f(Kr(e))||!1}function d3(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var o=a.start,c=a.end;return zp(e,{start:o,end:c})}):r&&r.some(function(a){var o;return a instanceof Date?Tr(e,a):Tr(e,(o=a.date)!==null&&o!==void 0?o:new Date)})||!1}function Pj(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,c=n.filterDate;return um(e,{minDate:r?X7(r):void 0,maxDate:i?K4(i):void 0})||(a==null?void 0:a.some(function(u){return Js(e,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return Js(e,u)})||c&&!c(Kr(e))||!1}function wx(e,t,n,r){var i=xr(e),a=Fs(e),o=xr(t),c=Fs(t),u=xr(r);return i===o&&i===u?a<=n&&n<=c:i<o?u===i&&a<=n||u===o&&c>=n||u<o&&u>i:!1}function J$(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates;return um(e,{minDate:r,maxDate:i})||a&&a.some(function(c){return Js(c instanceof Date?c:c.date,e)})||o&&!o.some(function(c){return Js(c,e)})||!1}function yx(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,c=n.filterDate;return um(e,{minDate:r,maxDate:i})||(a==null?void 0:a.some(function(u){return og(e,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return og(e,u)})||c&&!c(Kr(e))||!1}function bx(e,t,n){if(!t||!n||!X2(t)||!X2(n))return!1;var r=xr(t),i=xr(n);return r<=e&&i>=e}function l2(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,o=n.includeDates,c=n.filterDate,u=new Date(e,0,1);return um(u,{minDate:r?fv(r):void 0,maxDate:i?K7(i):void 0})||(a==null?void 0:a.some(function(f){return Bc(u,f instanceof Date?f:f.date)}))||o&&!o.some(function(f){return Bc(u,f)})||c&&!c(Kr(u))||!1}function Nx(e,t,n,r){var i=xr(e),a=$0(e),o=xr(t),c=$0(t),u=xr(r);return i===o&&i===u?a<=n&&n<=c:i<o?u===i&&a<=n||u===o&&c>=n||u<o&&u>i:!1}function um(e,t){var n,r=t===void 0?{}:t,i=r.minDate,a=r.maxDate;return(n=i&&qh(e,i)<0||a&&qh(e,a)>0)!==null&&n!==void 0?n:!1}function y8(e,t){return t.some(function(n){return Iu(n)===Iu(e)&&Du(n)===Du(e)&&Kd(n)===Kd(e)})}function b8(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,a=n.filterTime;return r&&y8(e,r)||i&&!y8(e,i)||a&&!a(e)||!1}function N8(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Kr();i=r2(i,Iu(e)),i=i2(i,Du(e)),i=a2(i,Kd(e));var a=Kr();a=r2(a,Iu(n)),a=i2(a,Du(n)),a=a2(a,Kd(n));var o=Kr();o=r2(o,Iu(r)),o=i2(o,Du(r)),o=a2(o,Kd(r));var c;try{c=!zp(i,{start:a,end:o})}catch{c=!1}return c}function _8(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=Y0(e,1);return r&&Bp(r,a)>0||i&&i.every(function(o){return Bp(o,a)>0})||!1}function S8(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=uc(e,1);return r&&Bp(a,r)>0||i&&i.every(function(o){return Bp(a,o)>0})||!1}function eY(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=fv(e),o=sj(a,1);return r&&K2(r,o)>0||i&&i.every(function(c){return K2(c,o)>0})||!1}function tY(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=K7(e),o=G4(a,1);return r&&K2(o,r)>0||i&&i.every(function(c){return K2(o,c)>0})||!1}function C8(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,a=Hh(e,1);return r&&Q2(r,a)>0||i&&i.every(function(o){return Q2(o,a)>0})||!1}function nY(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,a=i===void 0?cm:i,o=K1(Hh(e,a)),c=Pd(o,a).endPeriod,u=r&&xr(r);return u&&u>c||!1}function E8(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,a=Tu(e,1);return r&&Q2(a,r)>0||i&&i.every(function(o){return Q2(a,o)>0})||!1}function rY(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,a=i===void 0?cm:i,o=Tu(e,a),c=Pd(o,a).startPeriod,u=r&&xr(r);return u&&u<c||!1}function Fj(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return qh(i,t)>=0});return V_(r)}else return n?V_(n):t}function Bj(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return qh(i,t)<=0});return H_(r)}else return n?H_(n):t}function A8(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var o=e[i];if(Lu(o)){var c=Wi(o,"MM.dd.yyyy"),u=r.get(c)||[];u.includes(t)||(u.push(t),r.set(c,u))}else if(typeof o=="object"){var f=Object.keys(o),p=(n=f[0])!==null&&n!==void 0?n:"",g=o[p];if(typeof p=="string"&&Array.isArray(g))for(var w=0,y=g.length;w<y;w++){var E=g[w];if(E){var c=Wi(E,"MM.dd.yyyy"),u=r.get(c)||[];u.includes(p)||(u.push(p),r.set(c,u))}}}}return r}function iY(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function aY(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(Lu(i)){var o=Wi(i,"MM.dd.yyyy"),c=n.get(o)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===t&&iY(c.holidayNames,[a]))){c.className=t;var u=c.holidayNames;c.holidayNames=u?Hc(Hc([],u,!0),[a],!1):[a],n.set(o,c)}}}),n}function sY(e,t,n,r,i){for(var a=i.length,o=[],c=0;c<a;c++){var u=e,f=i[c];f&&(u=TW(u,Iu(f)),u=K5(u,Du(f)),u=DW(u,Kd(f)));var p=K5(e,(n+1)*r);t0(u,t)&&sf(u,p)&&f!=null&&o.push(f)}return o}function j8(e){return e<10?"0".concat(e):"".concat(e)}function Pd(e,t){t===void 0&&(t=cm);var n=Math.ceil(xr(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function oY(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function k8(e){var t=e.getSeconds(),n=e.getMilliseconds();return yn(e.getTime()-t*1e3-n)}function lY(e,t){return k8(e).getTime()===k8(t).getTime()}function T8(e){if(!Lu(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function L8(e,t){if(!Lu(e)||!Lu(t))throw new Error("Invalid date received");var n=T8(e),r=T8(t);return sf(n,r)}function Uj(e){return e.key===cn.Space}var cY=function(e){os(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=ht.createRef(),r.onTimeChange=function(i){var a,o;r.setState({time:i});var c=r.props.date,u=c instanceof Date&&!isNaN(+c),f=u?c:new Date;if(i!=null&&i.includes(":")){var p=i.split(":"),g=p[0],w=p[1];f.setHours(Number(g)),f.setMinutes(Number(w))}(o=(a=r.props).onChange)===null||o===void 0||o.call(a,f)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,o=a.date,c=a.timeString,u=a.customTimeInput;return u?K.cloneElement(u,{date:o,value:i,onChange:r.onTimeChange}):ht.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var f;(f=r.inputRef.current)===null||f===void 0||f.focus()},required:!0,value:i,onChange:function(f){r.onTimeChange(f.target.value||c)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return ht.createElement("div",{className:"react-datepicker__input-time-container"},ht.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ht.createElement("div",{className:"react-datepicker-time__input-container"},ht.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(K.Component),uY=function(e){os(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=K.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,a,o=r.key;o===cn.Space&&(r.preventDefault(),r.key=cn.Enter),(a=(i=n.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},n.isSameDay=function(r){return Tr(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),a=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!a},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),yl(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return d3(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Tr(n.props.day,Qd(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Tr(r,Qd(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,a=r.highlightDates;if(!a)return!1;var o=Wi(i,"MM.dd.yyyy");return a.get(o)},n.getHolidaysClass=function(){var r,i=n.props,a=i.day,o=i.holidays;if(!o)return[void 0];var c=Wi(a,"MM.dd.yyyy");return o.has(c)?[(r=o.get(c))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,a=r.startDate,o=r.endDate;return!a||!o?!1:Q1(i,a,o)},n.isInSelectingRange=function(){var r,i=n.props,a=i.day,o=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,f=i.selectsDisabledDaysInRange,p=i.startDate,g=i.endDate,w=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||c||u)||!w||!f&&n.isDisabled()?!1:o&&g&&(sf(w,g)||q0(w,g))?Q1(a,w,g):c&&p&&(t0(w,p)||q0(w,p))||u&&p&&!g&&(t0(w,p)||q0(w,p))?Q1(a,p,w):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,a=i.day,o=i.startDate,c=i.selectsStart,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return c?Tr(a,u):Tr(a,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,a=i.day,o=i.endDate,c=i.selectsEnd,u=i.selectsRange,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return c||u?Tr(a,f):Tr(a,o)},n.isRangeStart=function(){var r=n.props,i=r.day,a=r.startDate,o=r.endDate;return!a||!o?!1:Tr(a,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,a=r.startDate,o=r.endDate;return!a||!o?!1:Tr(o,i)},n.isWeekend=function(){var r=Mq(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Fs(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Fs(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Kr())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return zi("react-datepicker__day",i,"react-datepicker__day--"+$$(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,o=a===void 0?"Choose":a,c=r.ariaLabelPrefixWhenDisabled,u=c===void 0?"Not available":c,f=n.isDisabled()||n.isExcluded()?u:o;return"".concat(f," ").concat(Wi(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,a=r.holidays,o=a===void 0?new Map:a,c=r.excludeDates,u=Wi(i,"MM.dd.yyyy"),f=[];return o.has(u)&&f.push.apply(f,o.get(u).holidayNames),n.isExcluded()&&f.push(c==null?void 0:c.filter(function(p){return p instanceof Date?Tr(p,i):Tr(p==null?void 0:p.date,i)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),f.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,a=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Tr(i,r))?0:-1;return a},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(Q_(n.props.day),n.props.day):Q_(n.props.day)},n.render=function(){return ht.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&ht.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(K.Component),dY=function(e){os(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=K.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,a,o=r.key;o===cn.Space&&(r.preventDefault(),r.key=cn.Enter),(a=(i=n.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Tr(n.props.date,n.props.selected)&&Tr(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Tr(n.props.date,n.props.selected)&&Tr(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Tr(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,a=n.ariaLabelPrefix,o=a===void 0?t.defaultProps.ariaLabelPrefix:a,c=n.onClick,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&Tr(this.props.date,this.props.selected)};return ht.createElement("div",{ref:this.weekNumberEl,className:zi(u),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(K.Component),fY=function(e){os(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return yl(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,a){for(var o,c,u,f=new Date(r),p=0;p<7;p++){var g=new Date(r);g.setDate(g.getDate()+p);var w=!n.isDisabled(g);if(w){f=g;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(f,i,a),n.props.showWeekPicker&&n.handleDayClick(f,a),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:t.defaultProps.shouldCloseOnSelect)&&((u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):V$(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=oc(r,6),a=new Date(r);a<=i;){if(!n.isDisabled(a))return!1;a=oc(a,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],a=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,a):void 0;i.push(ht.createElement(dY,Lr({key:"W"},t.defaultProps,n.props,{weekNumber:a,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var u=oc(r,c);return ht.createElement(uY,Lr({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:n.handleDayClick.bind(n,u),onMouseEnter:n.handleDayMouseEnter.bind(n,u)}))}))},n.startOfWeek=function(){return Qd(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Tr(n.startOfWeek(),n.props.selected)&&Tr(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Tr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ht.createElement("div",{className:zi(n)},this.renderDays())},t}(K.Component),W1,hY=6,Nh={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},ay=(W1={},W1[Nh.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},W1[Nh.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},W1[Nh.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},W1),_x=1;function I8(e,t){return e?Nh.FOUR_COLUMNS:t?Nh.TWO_COLUMNS:Nh.THREE_COLUMNS}var pY=function(e){os(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Hc([],Array(12),!0).map(function(){return K.createRef()}),n.QUARTER_REFS=Hc([],Array(4),!0).map(function(){return K.createRef()}),n.isDisabled=function(r){return yl(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return d3(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var a,o;(o=(a=n.props).onDayClick)===null||o===void 0||o.call(a,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,a;(a=(i=n.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,a=i.day,o=i.startDate,c=i.endDate;return!o||!c?!1:Js(gl(a,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,a=i.day,o=i.startDate,c=i.endDate;return!o||!c?!1:og(Gf(a,r),o)},n.isRangeEndMonth=function(r){var i=n.props,a=i.day,o=i.startDate,c=i.endDate;return!o||!c?!1:Js(gl(a,r),c)},n.isRangeEndQuarter=function(r){var i=n.props,a=i.day,o=i.startDate,c=i.endDate;return!o||!c?!1:og(Gf(a,r),c)},n.isInSelectingRangeMonth=function(r){var i,a=n.props,o=a.day,c=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,p=a.startDate,g=a.endDate,w=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(c||u||f)||!w?!1:c&&g?wx(w,g,r,o):u&&p||f&&p&&!g?wx(p,w,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,o=a.day,c=a.startDate,u=a.selectsStart,f=gl(o,r),p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return u?Js(f,p):Js(f,c)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,o=a.day,c=a.endDate,u=a.selectsEnd,f=a.selectsRange,p=gl(o,r),g=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return u||f?Js(p,g):Js(p,c)},n.isInSelectingRangeQuarter=function(r){var i,a=n.props,o=a.day,c=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,p=a.startDate,g=a.endDate,w=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(c||u||f)||!w?!1:c&&g?Nx(w,g,r,o):u&&p||f&&p&&!g?Nx(p,w,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,a=oc(r,6);return Js(r,i)||Js(a,i)},n.isCurrentMonth=function(r,i){return xr(r)===xr(Kr())&&i===Fs(Kr())},n.isCurrentQuarter=function(r,i){return xr(r)===xr(Kr())&&i===$0(Kr())},n.isSelectedMonth=function(r,i,a){return Fs(a)===i&&xr(r)===xr(a)},n.isSelectMonthInList=function(r,i,a){return a.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,a){return $0(r)===i&&xr(r)===xr(a)},n.isMonthSelected=function(){var r=n.props,i=r.day,a=r.selected,o=r.selectedDates,c=r.selectsMultiple,u=Fs(i);return c?o==null?void 0:o.some(function(f){return n.isSelectedMonth(i,u,f)}):!!a&&n.isSelectedMonth(i,u,a)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,a=0,o=!1,c=Qd(Ou(n.props.day),n.props.locale,n.props.calendarStartDay),u=function(E){return n.props.showWeekPicker?Qd(E,n.props.locale,n.props.calendarStartDay):n.props.preSelection},f=function(E){return n.props.showWeekPicker?Qd(E,n.props.locale,n.props.calendarStartDay):n.props.selected},p=n.props.selected?f(n.props.selected):void 0,g=n.props.preSelection?u(n.props.preSelection):void 0;r.push(ht.createElement(fY,Lr({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:a,day:c,month:Fs(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:p,preSelection:g,showWeekNumber:n.props.showWeekNumbers}))),!o;){a++,c=G2(c,1);var w=i&&a>=hY,y=!i&&!n.isWeekInMonth(c);if(w||y)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var a=n.isMonthDisabledForLabelDate(i),o=a.isDisabled,c=a.labelDate;o||n.handleDayClick(Ou(c),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),a=i.isDisabled,o=i.labelDate;a||n.handleDayMouseEnter(Ou(o))},n.handleMonthNavigation=function(r,i){var a,o,c,u;(o=(a=n.props).setPreSelection)===null||o===void 0||o.call(a,i),(u=(c=n.MONTH_REFS[r])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()},n.handleKeyboardNavigation=function(r,i,a){var o,c=n.props,u=c.selected,f=c.preSelection,p=c.setPreSelection,g=c.minDate,w=c.maxDate,y=c.showFourColumnMonthYearPicker,E=c.showTwoColumnMonthYearPicker;if(f){var S=I8(y,E),A=n.getVerticalOffset(S),j=(o=ay[S])===null||o===void 0?void 0:o.grid,k=function(R,B,q){var te,H,W=B,J=q;switch(R){case cn.ArrowRight:W=uc(B,_x),J=q===11?0:q+_x;break;case cn.ArrowLeft:W=Y0(B,_x),J=q===0?11:q-_x;break;case cn.ArrowUp:W=Y0(B,A),J=!((te=j==null?void 0:j[0])===null||te===void 0)&&te.includes(q)?q+12-A:q-A;break;case cn.ArrowDown:W=uc(B,A),J=!((H=j==null?void 0:j[j.length-1])===null||H===void 0)&&H.includes(q)?q-12+A:q+A;break}return{newCalculatedDate:W,newCalculatedMonth:J}},D=function(R,B,q){for(var te=40,H=R,W=!1,J=0,ue=k(H,B,q),se=ue.newCalculatedDate,ee=ue.newCalculatedMonth;!W;){if(J>=te){se=B,ee=q;break}if(g&&se<g){H=cn.ArrowRight;var Ae=k(H,se,ee);se=Ae.newCalculatedDate,ee=Ae.newCalculatedMonth}if(w&&se>w){H=cn.ArrowLeft;var Ae=k(H,se,ee);se=Ae.newCalculatedDate,ee=Ae.newCalculatedMonth}if(J$(se,n.props)){var Ae=k(H,se,ee);se=Ae.newCalculatedDate,ee=Ae.newCalculatedMonth}else W=!0;J++}return{newCalculatedDate:se,newCalculatedMonth:ee}};if(i===cn.Enter){n.isMonthDisabled(a)||(n.onMonthClick(r,a),p==null||p(u));return}var P=D(i,f,a),Y=P.newCalculatedDate,z=P.newCalculatedMonth;switch(i){case cn.ArrowRight:case cn.ArrowLeft:case cn.ArrowUp:case cn.ArrowDown:n.handleMonthNavigation(z,Y);break}}},n.getVerticalOffset=function(r){var i,a;return(a=(i=ay[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},n.onMonthKeyDown=function(r,i){var a=n.props,o=a.disabledKeyboardNavigation,c=a.handleOnMonthKeyDown,u=r.key;u!==cn.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,u,i),c&&c(r)},n.onQuarterClick=function(r,i){var a=Gf(n.props.day,i);yx(a,n.props)||n.handleDayClick(g8(a),r)},n.onQuarterMouseEnter=function(r){var i=Gf(n.props.day,r);yx(i,n.props)||n.handleDayMouseEnter(g8(i))},n.handleQuarterNavigation=function(r,i){var a,o,c,u;n.isDisabled(i)||n.isExcluded(i)||((o=(a=n.props).setPreSelection)===null||o===void 0||o.call(a,i),(u=(c=n.QUARTER_REFS[r-1])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())},n.onQuarterKeyDown=function(r,i){var a,o,c=r.key;if(!n.props.disabledKeyboardNavigation)switch(c){case cn.Enter:n.onQuarterClick(r,i),(o=(a=n.props).setPreSelection)===null||o===void 0||o.call(a,n.props.selected);break;case cn.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,G4(n.props.preSelection,1));break;case cn.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,sj(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,a=n.props,o=a.day,c=a.minDate,u=a.maxDate,f=a.excludeDates,p=a.includeDates,g=gl(o,r);return{isDisabled:(i=(c||u||f||p)&&Pj(g,n.props))!==null&&i!==void 0?i:!1,labelDate:g}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,a=i.day,o=i.startDate,c=i.endDate,u=i.preSelection,f=i.monthClassName,p=f?f(gl(a,r)):void 0,g=n.getSelection();return zi("react-datepicker__month-text","react-datepicker__month-".concat(r),p,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":g?n.isSelectMonthInList(a,r,g):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&u&&n.isSelectedMonth(a,r,u)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&c?wx(o,c,r,a):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(a,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Fs(n.props.preSelection),a=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=$0(n.props.preSelection),a=yx(n.props.day,n.props),o=r===i&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,a=i.chooseDayAriaLabelPrefix,o=a===void 0?"Choose":a,c=i.disabledDayAriaLabelPrefix,u=c===void 0?"Not available":c,f=i.day,p=i.locale,g=gl(f,r),w=n.isDisabled(g)||n.isExcluded(g)?u:o;return"".concat(w," ").concat(Wi(g,"MMMM yyyy",p))},n.getQuarterClassNames=function(r){var i=n.props,a=i.day,o=i.startDate,c=i.endDate,u=i.selected,f=i.minDate,p=i.maxDate,g=i.excludeDates,w=i.includeDates,y=i.filterDate,E=i.preSelection,S=i.disabledKeyboardNavigation,A=(f||p||g||w||y)&&yx(Gf(a,r),n.props);return zi("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":A,"react-datepicker__quarter-text--selected":u?n.isSelectedQuarter(a,r,u):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&E&&n.isSelectedQuarter(a,r,E)&&!A,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&c?Nx(o,c,r,a):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(a,r)})},n.getMonthContent=function(r){var i=n.props,a=i.showFullMonthYearPicker,o=i.renderMonthContent,c=i.locale,u=i.day,f=Mj(r,c),p=u3(r,c);return o?o(r,f,p,u):a?p:f},n.getQuarterContent=function(r){var i,a=n.props,o=a.renderQuarterContent,c=a.locale,u=Z$(r,c);return(i=o==null?void 0:o(r,u))!==null&&i!==void 0?i:u},n.renderMonths=function(){var r,i=n.props,a=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,c=i.day,u=i.selected,f=(r=ay[I8(o,a)])===null||r===void 0?void 0:r.grid;return f==null?void 0:f.map(function(p,g){return ht.createElement("div",{className:"react-datepicker__month-wrapper",key:g},p.map(function(w,y){return ht.createElement("div",{ref:n.MONTH_REFS[w],key:y,onClick:function(E){n.onMonthClick(E,w)},onKeyDown:function(E){Uj(E)&&(E.preventDefault(),E.key=cn.Enter),n.onMonthKeyDown(E,w)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(w)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(w)}:void 0,tabIndex:Number(n.getTabIndex(w)),className:n.getMonthClassNames(w),"aria-disabled":n.isMonthDisabled(w),role:"option","aria-label":n.getAriaLabel(w),"aria-current":n.isCurrentMonth(c,w)?"date":void 0,"aria-selected":u?n.isSelectedMonth(c,w,u):void 0},n.getMonthContent(w))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,a=r.selected,o=[1,2,3,4];return ht.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(c,u){return ht.createElement("div",{key:u,ref:n.QUARTER_REFS[u],role:"option",onClick:function(f){n.onQuarterClick(f,c)},onKeyDown:function(f){n.onQuarterKeyDown(f,c)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(c)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(c)}:void 0,className:n.getQuarterClassNames(c),"aria-selected":a?n.isSelectedQuarter(i,c,a):void 0,tabIndex:Number(n.getQuarterTabIndex(c)),"aria-current":n.isCurrentQuarter(i,c)?"date":void 0},n.getQuarterContent(c))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,a=r.selectsStart,o=r.selectsEnd,c=r.showMonthYearPicker,u=r.showQuarterYearPicker,f=r.showWeekPicker;return zi("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||o)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":f})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,a=n.selectsMultiple;if(a)return i;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,a=n.day,o=n.ariaLabelPrefix,c=o===void 0?"Month ":o,u=c?c.trim()+" ":"";return ht.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(Wi(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},t}(K.Component),mY=function(e){os(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return ht.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?ht.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return ht.createElement(gv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(K.Component),xY=function(e){os(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,a){return ht.createElement("option",{key:i,value:a},i)})},n.renderSelectMode=function(r){return ht.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return ht.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},ht.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ht.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return ht.createElement(mY,Lr({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,a=[n.renderReadView(!i,r)];return i&&a.unshift(n.renderDropdown(r)),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return Mj(a,n.props.locale)}:function(a){return u3(a,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return ht.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t}(K.Component);function gY(e,t){for(var n=[],r=Ou(e),i=Ou(t);!t0(r,i);)n.push(Kr(r)),r=uc(r,1);return n}var vY=function(e){os(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=eb(i),o=Bc(r.props.date,i)&&Js(r.props.date,i);return ht.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":o?"true":void 0},o?ht.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Wi(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:gY(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=zi({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ht.createElement(gv,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(K.Component),wY=function(e){os(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Ou(n.props.minDate),i=Ou(n.props.maxDate),a=[];!t0(r,i);){var o=eb(r);a.push(ht.createElement("option",{key:o,value:o},Wi(r,n.props.dateFormat,n.props.locale))),r=uc(r,1)}return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ht.createElement("select",{value:eb(Ou(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=Wi(n.props.date,n.props.dateFormat,n.props.locale);return ht.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},ht.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ht.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return ht.createElement(vY,Lr({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Kr(r);Bc(n.props.date,i)&&Js(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ht.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(K.Component),yY=function(e){os(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;n.list&&(n.list.scrollTop=(a=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&a!==void 0?a:0)})},n.handleClick=function(r){var i,a;(n.props.minTime||n.props.maxTime)&&N8(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&b8(r,n.props)||(a=(i=n.props).onChange)===null||a===void 0||a.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&lY(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&N8(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&b8(r,n.props)},n.liClasses=function(r){var i,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Iu(r)*3600+Du(r)*60+Kd(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(r,i){var a,o;r.key===cn.Space&&(r.preventDefault(),r.key=cn.Enter),(r.key===cn.ArrowUp||r.key===cn.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===cn.ArrowDown||r.key===cn.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===cn.Enter&&n.handleClick(i),(o=(a=n.props).handleOnKeyDown)===null||o===void 0||o.call(a,r)},n.renderTimes=function(){for(var r,i=[],a=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,c=n.props.selected||n.props.openToDate||Kr(),u=o2(c),f=n.props.injectTimes&&n.props.injectTimes.sort(function(A,j){return A.getTime()-j.getTime()}),p=60*oY(c),g=p/o,w=0;w<g;w++){var y=K5(u,w*o);if(i.push(y),f){var E=sY(u,y,w,o,f);i=i.concat(E)}}var S=i.reduce(function(A,j){return j.getTime()<=c.getTime()?j:A},i[0]);return i.map(function(A){return ht.createElement("li",{key:A.valueOf(),onClick:n.handleClick.bind(n,A),className:n.liClasses(A),ref:function(j){A===S&&(n.centerLi=j)},onKeyDown:function(j){n.handleOnKeyDown(j,A)},tabIndex:A===S?0:-1,role:"option","aria-selected":n.isSelectedTime(A)?"true":void 0,"aria-disabled":n.isDisabledTime(A)?"true":void 0},Wi(A,a,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?ht.createElement(ht.Fragment,null):ht.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},ht.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,i=this.state.height;return ht.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ht.createElement("div",{className:"react-datepicker__time"},ht.createElement("div",{className:"react-datepicker__time-box"},ht.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){n.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(K.Component),D8=3,bY=function(e){os(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=Hc([],Array(r.props.yearItemNumber),!0).map(function(){return K.createRef()}),r.isDisabled=function(i){return yl(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return d3(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var o,c;(c=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var o,c,u,f,p=r.props,g=p.date,w=p.yearItemNumber;if(!(g===void 0||w===void 0)){var y=Pd(g,w).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((c=(o=r.props).setPreSelection)===null||c===void 0||c.call(o,a),i-y<0?r.updateFocusOnPaginate(w-(y-i)):i-y>=w?r.updateFocusOnPaginate(Math.abs(w-(i-y))):(f=(u=r.YEAR_REFS[i-y])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())}},r.isSameDay=function(i,a){return Tr(i,a)},r.isCurrentYear=function(i){return i===xr(Kr())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Bc(Fc(Kr(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Bc(Fc(Kr(),i),r.props.endDate)},r.isInRange=function(i){return bx(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,o=a.selectsStart,c=a.selectsEnd,u=a.selectsRange,f=a.startDate,p=a.endDate;return!(o||c||u)||!r.selectingDate()?!1:o&&p?bx(i,r.selectingDate(),p):c&&f||u&&f&&!p?bx(i,f,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var o=r.props,c=o.startDate,u=o.selectsStart,f=Fc(Kr(),i);return u?Bc(f,(a=r.selectingDate())!==null&&a!==void 0?a:null):Bc(f,c??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var o=r.props,c=o.endDate,u=o.selectsEnd,f=o.selectsRange,p=Fc(Kr(),i);return u||f?Bc(p,(a=r.selectingDate())!==null&&a!==void 0?a:null):Bc(p,c??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,o=a.minDate,c=a.maxDate,u=a.excludeDates,f=a.includeDates,p=a.filterDate,g=K1(Fc(r.props.date,i)),w=(o||c||u||f||p)&&l2(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Tr(g,K1(r.props.selected))&&Tr(g,K1(r.props.preSelection))&&!w}},r.isSelectedYear=function(i){var a=r.props,o=a.selectsMultiple,c=a.selected,u=a.selectedDates;return o?u==null?void 0:u.some(function(f){return i===xr(f)}):!!c&&i===xr(c)},r.onYearClick=function(i,a){var o=r.props.date;o!==void 0&&r.handleYearClick(K1(Fc(o,a)),i)},r.onYearKeyDown=function(i,a){var o,c,u=i.key,f=r.props,p=f.date,g=f.yearItemNumber,w=f.handleOnKeyDown;if(u!==cn.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(u){case cn.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(c=(o=r.props).setPreSelection)===null||c===void 0||c.call(o,r.props.selected);break;case cn.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,Tu(r.props.preSelection,1));break;case cn.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,Hh(r.props.preSelection,1));break;case cn.ArrowUp:{if(p===void 0||g===void 0||r.props.preSelection==null)break;var y=Pd(p,g).startPeriod,E=D8,S=a-E;if(S<y){var A=g%E;a>=y&&a<y+A?E=A:E+=A,S=a-E}r.handleYearNavigation(S,Hh(r.props.preSelection,E));break}case cn.ArrowDown:{if(p===void 0||g===void 0||r.props.preSelection==null)break;var j=Pd(p,g).endPeriod,E=D8,S=a+E;if(S>j){var A=g%E;a<=j&&a>j-A?E=A:E+=A,S=a+E}r.handleYearNavigation(S,Tu(r.props.preSelection,E));break}}w&&w(i)},r.getYearClassNames=function(i){var a=r.props,o=a.date,c=a.minDate,u=a.maxDate,f=a.excludeDates,p=a.includeDates,g=a.filterDate,w=a.yearClassName;return zi("react-datepicker__year-text","react-datepicker__year-".concat(i),o?w==null?void 0:w(Fc(o,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(c||u||f||p||g)&&l2(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=xr(r.props.preSelection),o=l2(i,r.props);return i===a&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return t.prototype.render=function(){var n=this,r=[],i=this.props,a=i.date,o=i.yearItemNumber,c=i.onYearMouseEnter,u=i.onYearMouseLeave;if(a===void 0)return null;for(var f=Pd(a,o),p=f.startPeriod,g=f.endPeriod,w=function(S){r.push(ht.createElement("div",{ref:y.YEAR_REFS[S-p],onClick:function(A){n.onYearClick(A,S)},onKeyDown:function(A){Uj(A)&&(A.preventDefault(),A.key=cn.Enter),n.onYearKeyDown(A,S)},tabIndex:Number(y.getYearTabIndex(S)),className:y.getYearClassNames(S),onMouseEnter:y.props.usePointerEvent?void 0:function(A){return c(A,S)},onPointerEnter:y.props.usePointerEvent?function(A){return c(A,S)}:void 0,onMouseLeave:y.props.usePointerEvent?void 0:function(A){return u(A,S)},onPointerLeave:y.props.usePointerEvent?function(A){return u(A,S)}:void 0,key:S,"aria-current":y.isCurrentYear(S)?"date":void 0},y.getYearContent(S)))},y=this,E=p;E<=g;E++)w(E);return ht.createElement("div",{className:"react-datepicker__year"},ht.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(K.Component);function NY(e,t,n,r){for(var i=[],a=0;a<2*t+1;a++){var o=e+t-a,c=!0;n&&(c=xr(n)<=o),r&&c&&(c=xr(r)>=o),c&&i.push(o)}return i}var _Y=function(e){os(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var c=r.props.year,u=r.state.yearsList.map(function(g){return ht.createElement("div",{className:c===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:r.onChange.bind(r,g),"aria-selected":c===g?"true":void 0},c===g?ht.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),f=r.props.minDate?xr(r.props.minDate):null,p=r.props.maxDate?xr(r.props.maxDate):null;return(!p||!r.state.yearsList.find(function(g){return g===p}))&&u.unshift(ht.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},ht.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!f||!r.state.yearsList.find(function(g){return g===f}))&&u.push(ht.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},ht.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},r.onChange=function(c){r.props.onChange(c)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(c){var u=r.state.yearsList.map(function(f){return f+c});r.setState({yearsList:u})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,a=n.scrollableYearDropdown,o=i||(a?10:5);return r.state={yearsList:NY(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=K.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=zi({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ht.createElement(gv,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(K.Component),SY=function(e){os(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?xr(n.props.minDate):1900,i=n.props.maxDate?xr(n.props.maxDate):2100,a=[],o=r;o<=i;o++)a.push(ht.createElement("option",{key:o,value:o},o));return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ht.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return ht.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},ht.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ht.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return ht.createElement(_Y,Lr({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var a;(a=n.onSelect)===null||a===void 0||a.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var a,o;(o=(a=n.props).onSelect)===null||o===void 0||o.call(a,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ht.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(K.Component),CY=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],EY=function(e){var t=(e.className||"").split(/\s+/);return CY.some(function(n){return t.indexOf(n)>=0})},AY=function(e){os(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,o;EY(i.target)&&((o=(a=r.props).onDropdownFocus)===null||o===void 0||o.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,o=i.selected,c=i.openToDate,u=Fj(r.props),f=Bj(r.props),p=Kr(),g=c||o||a;return g||(u&&sf(p,u)?u:f&&t0(p,f)?f:p)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:uc(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:Y0(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,o){r.props.onSelect(i,a,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:Fc(Kr(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,o,c,u;(o=(a=r.props).onYearChange)===null||o===void 0||o.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(u=(c=r.props).setOpen)===null||u===void 0||u.call(c,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!yl(i,r.props))return i;for(var a=Ou(i),o=G$(i),c=MW(o,a),u=null,f=0;f<=c;f++){var p=oc(a,f);if(!yl(p,r.props)){u=p;break}}return u},r.handleMonthChange=function(i){var a,o,c,u=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(u),r.props.adjustDateOnChange&&(r.props.onSelect(u),(c=(o=r.props).setOpen)===null||c===void 0||c.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(u)},r.handleCustomMonthChange=function(i){var a,o;(o=(a=r.props).onMonthChange)===null||o===void 0||o.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var o=a.date;return{date:Fc(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var o=a.date;return{date:gl(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var o=a.date;return{date:Fc(gl(o,Fs(i)),xr(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var a=Qd(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(ht.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(c){var u=oc(a,c),f=r.formatWeekday(u,r.props.locale),p=r.props.weekDayClassName?r.props.weekDayClassName(u):void 0;return ht.createElement("div",{key:c,"aria-label":Wi(u,"EEEE",r.props.locale),className:zi("react-datepicker__day-name",p)},f)}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?X$(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?Q$(i,a):K$(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,o=i.date;return{date:Hh(o,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,o;if(!r.props.renderCustomHeader){var c=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,u=r.props.showPreviousMonths?c-1:0,f=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:u,p=Y0(r.state.date,f),g;switch(!0){case r.props.showMonthYearPicker:g=C8(r.state.date,r.props);break;case r.props.showYearPicker:g=nY(r.state.date,r.props);break;case r.props.showQuarterYearPicker:g=eY(r.state.date,r.props);break;default:g=_8(p,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&g||r.props.showTimeSelectOnly)){var w=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],y=["react-datepicker__navigation","react-datepicker__navigation--previous"],E=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(E=r.decreaseYear),g&&r.props.showDisabledMonthNavigation&&(y.push("react-datepicker__navigation--previous--disabled"),E=void 0);var S=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,A=r.props,j=A.previousMonthButtonLabel,k=j===void 0?t.defaultProps.previousMonthButtonLabel:j,D=A.previousYearButtonLabel,P=D===void 0?t.defaultProps.previousYearButtonLabel:D,Y=r.props,z=Y.previousMonthAriaLabel,R=z===void 0?typeof k=="string"?k:"Previous Month":z,B=Y.previousYearAriaLabel,q=B===void 0?typeof P=="string"?P:"Previous Year":B;return ht.createElement("button",{type:"button",className:y.join(" "),onClick:E,onKeyDown:r.props.handleOnKeyDown,"aria-label":S?q:R},ht.createElement("span",{className:w.join(" ")},S?P:k))}}},r.increaseYear=function(){r.setState(function(i){var a,o=i.date;return{date:Tu(o,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=E8(r.state.date,r.props);break;case r.props.showYearPicker:a=rY(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=tY(r.state.date,r.props);break;default:a=S8(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var u=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),u=void 0);var f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,p=r.props,g=p.nextMonthButtonLabel,w=g===void 0?t.defaultProps.nextMonthButtonLabel:g,y=p.nextYearButtonLabel,E=y===void 0?t.defaultProps.nextYearButtonLabel:y,S=r.props,A=S.nextMonthAriaLabel,j=A===void 0?typeof w=="string"?w:"Next Month":A,k=S.nextYearAriaLabel,D=k===void 0?typeof E=="string"?E:"Next Year":k;return ht.createElement("button",{type:"button",className:o.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":f?D:j},ht.createElement("span",{className:c.join(" ")},f?E:w))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),ht.createElement("h2",{className:a.join(" ")},Wi(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return ht.createElement(SY,Lr({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:xr(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return ht.createElement(xY,Lr({},t.defaultProps,r.props,{month:Fs(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return ht.createElement(wY,Lr({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(v8(),i),r.props.setPreSelection&&r.props.setPreSelection(v8())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return ht.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var a=i.monthDate,o=i.i;return ht.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),ht.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),ht.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(i){var a,o,c=i.monthDate,u=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var f=_8(r.state.date,r.props),p=S8(r.state.date,r.props),g=C8(r.state.date,r.props),w=E8(r.state.date,r.props),y=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return ht.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(a=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(a,Lr(Lr({},r.state),{customHeaderCount:u,monthDate:c,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:f,nextMonthButtonDisabled:p,prevYearButtonDisabled:g,nextYearButtonDisabled:w})),y&&ht.createElement("div",{className:"react-datepicker__day-names"},r.header(c)))},r.renderYearHeader=function(i){var a=i.monthDate,o=r.props,c=o.showYearPicker,u=o.yearItemNumber,f=u===void 0?t.defaultProps.yearItemNumber:u,p=Pd(a,f),g=p.startPeriod,w=p.endPeriod;return ht.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(g," - ").concat(w):xr(a))},r.renderHeader=function(i){var a=i.monthDate,o=i.i,c=o===void 0?0:o,u={monthDate:a,i:c};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(u);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(u);default:return r.renderDefaultHeader(u)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],c=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,u=r.props.showPreviousMonths?c-1:0,f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Tu(r.state.date,u):Y0(r.state.date,u),p=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:u,g=0;g<c;++g){var w=g-p+u,y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Tu(f,w):uc(f,w),E="month-".concat(g),S=g<c-1,A=g>0;o.push(ht.createElement("div",{key:E,ref:function(j){r.monthContainer=j??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:y,i:g}),ht.createElement(pY,Lr({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:y,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:g,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:A}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return ht.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),ht.createElement(bY,Lr({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ht.createElement(yY,Lr({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&vv(i)&&!!r.props.selected,o=a?"".concat(j8(i.getHours()),":").concat(j8(i.getMinutes())):"";if(r.props.showTimeInput)return ht.createElement(cY,Lr({},t.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,a=Pd(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),o=a.startPeriod,c=a.endPeriod,u;return r.props.showYearPicker?u="".concat(o," - ").concat(c):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?u=xr(r.state.date):u="".concat(u3(Fs(r.state.date),r.props.locale)," ").concat(xr(r.state.date)),ht.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&u)},r.renderChildren=function(){if(r.props.children)return ht.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=K.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:cm}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Tr(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Js(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Tr(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||z$;return ht.createElement(gv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ht.createElement("div",{style:{display:"contents"},ref:this.containerRef},ht.createElement(n,{className:zi("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(K.Component),jY=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,i=e.onClick,a="react-datepicker__calendar-icon";if(typeof t=="string")return ht.createElement("i",{className:"".concat(a," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i});if(ht.isValidElement(t)){var o=t;return ht.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(a," ").concat(r),onClick:function(c){typeof o.props.onClick=="function"&&o.props.onClick(c),typeof i=="function"&&i(c)}})}return ht.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ht.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},zj=function(e){os(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return XP.createPortal(this.props.children,this.el)},t}(K.Component),kY="[tabindex], a, button, input, select, textarea",TY=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},Wj=function(e){os(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(kY),1,-1).filter(TY)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=K.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?ht.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ht.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ht.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(K.Component);function LY(e){var t=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,a=K.useRef(null),o=U$(Lr({open:!i,whileElementsMounted:v$,placement:n.popperPlacement,middleware:Hc([A$({padding:15}),E$(10),j$({element:a})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),c=Lr(Lr({},n),{hidePopper:i,popperProps:Lr(Lr({},o),{arrowRef:a})});return ht.createElement(e,Lr({},c))};return t}var IY=function(e){os(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,a=n.hidePopper,o=a===void 0?t.defaultProps.hidePopper:a,c=n.popperComponent,u=n.targetComponent,f=n.enableTabLoop,p=n.popperOnKeyDown,g=n.portalId,w=n.portalHost,y=n.popperProps,E=n.showArrow,S=void 0;if(!o){var A=zi("react-datepicker-popper",r);S=ht.createElement(Wj,{enableTabLoop:f},ht.createElement("div",{ref:y.refs.setFloating,style:y.floatingStyles,className:A,"data-placement":y.placement,onKeyDown:p},c,E&&ht.createElement(D$,{ref:y.arrowRef,context:y.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(S=K.createElement(this.props.popperContainer,{},S)),g&&!o&&(S=ht.createElement(zj,{portalId:g,portalHost:w},S));var j=zi("react-datepicker-wrapper",i);return ht.createElement(ht.Fragment,null,ht.createElement("div",{ref:y.refs.setReference,className:j},u),S)},t}(K.Component),DY=LY(IY),O8="react-datepicker-ignore-onclickoutside";function OY(e,t){return e&&t?Fs(e)!==Fs(t)||xr(e)!==xr(t):e!==t}var sy="Date input not valid.",qj=function(e){os(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Kr()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,o){var c=new Date(o.date);return vv(c)?Hc(Hc([],a,!0),[Lr(Lr({},o),{date:c})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),o=Fj(r.props),c=Bj(r.props),u=o&&sf(a,o2(o))?o:c&&t0(a,w8(c))?c:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:u,highlightDates:A8(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Lr(Lr({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Lr(Lr({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},r.setBlur=function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:oy},function(){i||r.setState(function(o){return{focused:a?o.focused:!1}},function(){!a&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Lu(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,o,c=r.state.wasHidden,u=c?r.state.open:!0;c&&r.resetHiddenStatus(),r.state.preventFocus||((o=(a=r.props).onFocus)===null||o===void 0||o.call(a,i),u&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var a,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(a=r.props).onBlur)===null||o===void 0||o.call(a,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,o;r.props.inline||r.setOpen(!1),(o=(a=r.props).onClickOutside)===null||o===void 0||o.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,o,c,u,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var g=f[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,f),!g||typeof g.isDefaultPrevented!="function"||g.isDefaultPrevented()))){r.setState({inputValue:(g==null?void 0:g.target)instanceof HTMLInputElement?g.target.value:null,lastPreSelectChange:RY});var w=r.props,y=w.selectsRange,E=w.startDate,S=w.endDate,A=(i=r.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,j=(a=r.props.strictParsing)!==null&&a!==void 0?a:t.defaultProps.strictParsing,k=(g==null?void 0:g.target)instanceof HTMLInputElement?g.target.value:"";if(y){var D=k.split(A.includes("-")?Rj:"-",2).map(function(H){return H.trim()}),P=D[0],Y=D[1],z=ry(P??"",A,r.props.locale,j),R=ry(Y??"",A,r.props.locale,j),B=(E==null?void 0:E.getTime())!==(z==null?void 0:z.getTime()),q=(S==null?void 0:S.getTime())!==(R==null?void 0:R.getTime());if(!B&&!q||z&&yl(z,r.props)||R&&yl(R,r.props))return;(c=(o=r.props).onChange)===null||c===void 0||c.call(o,[z,R],g)}else{var te=ry(k,A,r.props.locale,j,(u=r.props.selected)!==null&&u!==void 0?u:void 0);(te||!k)&&r.setSelected(te,g,!0)}}},r.handleSelect=function(i,a,o){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(i,a,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var c=r.props,u=c.startDate,f=c.endDate;u&&!f&&(r.props.swapRange||!L8(i,u))&&r.setOpen(!1)}}},r.setSelected=function(i,a,o,c){var u,f,p=i;if(r.props.showYearPicker){if(p!==null&&l2(xr(p),r.props))return}else if(r.props.showMonthYearPicker){if(p!==null&&Pj(p,r.props))return}else if(p!==null&&yl(p,r.props))return;var g=r.props,w=g.onChange,y=g.selectsRange,E=g.startDate,S=g.endDate,A=g.selectsMultiple,j=g.selectedDates,k=g.minTime,D=g.swapRange;if(!q0(r.props.selected,p)||r.props.allowSameDay||y||A)if(p!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(p=iy(p,{hour:Iu(r.props.selected),minute:Du(r.props.selected),second:Kd(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&k&&(p=iy(p,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),r.props.inline||r.setState({preSelection:p}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:c})),y){var P=!E&&!S,Y=E&&!S,z=E&&S;P?w==null||w([p,null],a):Y&&(p===null?w==null||w([null,null],a):L8(p,E)?D?w==null||w([p,E],a):w==null||w([p,null],a):w==null||w([E,p],a)),z&&(w==null||w([p,null],a))}else if(A){if(p!==null)if(!(j!=null&&j.length))w==null||w([p],a);else{var R=j.some(function(q){return Tr(q,p)});if(R){var B=j.filter(function(q){return!Tr(q,p)});w==null||w(B,a)}else w==null||w(Hc(Hc([],j,!0),[p],!1),a)}}else w==null||w(p,a);o||((f=(u=r.props).onSelect)===null||f===void 0||f.call(u,p,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var a=Lu(r.props.minDate),o=Lu(r.props.maxDate),c=!0;if(i){var u=o2(i);if(a&&o)c=Q1(i,r.props.minDate,r.props.maxDate);else if(a){var f=o2(r.props.minDate);c=t0(i,f)||q0(u,f)}else if(o){var p=w8(r.props.maxDate);c=sf(i,p)||q0(u,p)}}c&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var c=r.props.selected?r.props.selected:r.getPreSelection(),u=r.props.selected?i:iy(c,{hour:Iu(i),minute:Du(i)});r.setState({preSelection:u}),(o=(a=r.props).onChange)===null||o===void 0||o.call(a,u),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.onInputKeyDown=function(i){var a,o,c,u,f,p;(o=(a=r.props).onKeyDown)===null||o===void 0||o.call(a,i);var g=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(g===cn.ArrowDown||g===cn.ArrowUp||g===cn.Enter)&&((c=r.onInputClick)===null||c===void 0||c.call(r));return}if(r.state.open){if(g===cn.ArrowDown||g===cn.ArrowUp){i.preventDefault();var w=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',y=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(w);y instanceof HTMLElement&&y.focus({preventScroll:!0});return}var E=Kr(r.state.preSelection);g===cn.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===oy?(r.handleSelect(E,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(E)):r.setOpen(!1)):g===cn.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):g===cn.Tab&&r.setOpen(!1),r.inputOk()||(p=(f=r.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:sy})}},r.onPortalKeyDown=function(i){var a=i.key;a===cn.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,o,c,u,f,p,g=r.props,w=g.minDate,y=g.maxDate,E=g.disabledKeyboardNavigation,S=g.showWeekPicker,A=g.shouldCloseOnSelect,j=g.locale,k=g.calendarStartDay,D=g.adjustDateOnChange,P=g.inline;if((o=(a=r.props).onKeyDown)===null||o===void 0||o.call(a,i),!E){var Y=i.key,z=i.shiftKey,R=Kr(r.state.preSelection),B=function(se,ee){var Ae=ee;switch(se){case cn.ArrowRight:Ae=S?G2(ee,1):oc(ee,1);break;case cn.ArrowLeft:Ae=S?Z_(ee,1):UH(ee,1);break;case cn.ArrowUp:Ae=Z_(ee,1);break;case cn.ArrowDown:Ae=G2(ee,1);break;case cn.PageUp:Ae=z?Hh(ee,1):Y0(ee,1);break;case cn.PageDown:Ae=z?Tu(ee,1):uc(ee,1);break;case cn.Home:Ae=Qd(ee,j,k);break;case cn.End:Ae=Y$(ee);break}return Ae},q=function(se,ee){for(var Ae=40,ge=se,Be=!1,_e=0,ct=B(se,ee);!Be;){if(_e>=Ae){ct=ee;break}w&&ct<w&&(ge=cn.ArrowRight,ct=yl(w,r.props)?B(ge,ct):w),y&&ct>y&&(ge=cn.ArrowLeft,ct=yl(y,r.props)?B(ge,ct):y),yl(ct,r.props)?((ge===cn.PageUp||ge===cn.Home)&&(ge=cn.ArrowRight),(ge===cn.PageDown||ge===cn.End)&&(ge=cn.ArrowLeft),ct=B(ge,ct)):Be=!0,_e++}return ct};if(Y===cn.Enter){i.preventDefault(),r.handleSelect(R,i),!A&&r.setPreSelection(R);return}else if(Y===cn.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:sy});return}var te=null;switch(Y){case cn.ArrowLeft:case cn.ArrowRight:case cn.ArrowUp:case cn.ArrowDown:case cn.PageUp:case cn.PageDown:case cn.Home:case cn.End:te=q(Y,R);break}if(!te){(p=(f=r.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:sy});return}if(i.preventDefault(),r.setState({lastPreSelectChange:oy}),D&&r.setSelected(te),r.setPreSelection(te),P){var H=Fs(R),W=Fs(te),J=xr(R),ue=xr(te);H!==W||J!==ue?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var a=i.key;a===cn.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,o=a.selectsRange,c=a.onChange;o?c==null||c([null,null],i):c==null||c(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:ht.createElement(AY,Lr({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:aY(r.modifyHolidays()),outsideClickIgnoreClass:O8,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,a=i.dateFormat,o=a===void 0?t.defaultProps.dateFormat:a,c=i.locale,u=r.props.showTimeInput||r.props.showTimeSelect,f=u?"PPPPp":"PPPP",p;return r.props.selectsRange?p="Selected start date: ".concat(ml(r.props.startDate,{dateFormat:f,locale:c}),". ").concat(r.props.endDate?"End date: "+ml(r.props.endDate,{dateFormat:f,locale:c}):""):r.props.showTimeSelectOnly?p="Selected time: ".concat(ml(r.props.selected,{dateFormat:o,locale:c})):r.props.showYearPicker?p="Selected year: ".concat(ml(r.props.selected,{dateFormat:"yyyy",locale:c})):r.props.showMonthYearPicker?p="Selected month: ".concat(ml(r.props.selected,{dateFormat:"MMMM yyyy",locale:c})):r.props.showQuarterYearPicker?p="Selected quarter: ".concat(ml(r.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):p="Selected date: ".concat(ml(r.props.selected,{dateFormat:f,locale:c})),ht.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},r.renderDateInput=function(){var i,a,o,c=zi(r.props.className,(i={},i[O8]=r.state.open,i)),u=r.props.customInput||ht.createElement("input",{type:"text"}),f=r.props.customInputRef||"ref",p=r.props,g=p.dateFormat,w=g===void 0?t.defaultProps.dateFormat:g,y=p.locale,E=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?q$(r.props.startDate,r.props.endDate,{dateFormat:w,locale:y}):r.props.selectsMultiple?H$((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:w,locale:y}):ml(r.props.selected,{dateFormat:w,locale:y});return K.cloneElement(u,(a={},a[f]=function(S){r.input=S},a.value=E,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=zi(u.props.className,c),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,o=i.disabled,c=i.selected,u=i.startDate,f=i.endDate,p=i.clearButtonTitle,g=i.clearButtonClassName,w=g===void 0?"":g,y=i.ariaLabelClose,E=y===void 0?"Close":y,S=i.selectedDates,A=i.readOnly;return a&&!A&&(c!=null||u!=null||f!=null||S!=null&&S.length)?ht.createElement("button",{type:"button",className:zi("react-datepicker__close-icon",w,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":E,onClick:r.onClearClick,title:p,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:cm,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var i,a,o,c;n.inline&&OY(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:A8(this.props.highlightDates)}),!r.focused&&!q0(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((c=(o=this.props).onCalendarClose)===null||c===void 0||c.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,a=n.calendarIconClassname,o=n.calendarIconClassName,c=n.toggleCalendarOnIconClick,u=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ht.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&ht.createElement(jY,Lr({icon:i,className:zi(o,!o&&a,u&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?ht.createElement(Wj,{enableTabLoop:this.props.enableTabLoop},ht.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=ht.createElement(zj,Lr({portalId:this.props.portalId},this.props),r)),ht.createElement("div",null,this.renderInputContainer(),r)}return ht.createElement(DY,Lr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(K.Component),RY="input",oy="navigate";var lg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lg.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",g=1,w=2,y=4,E=1,S=2,A=1,j=2,k=4,D=8,P=16,Y=32,z=64,R=128,B=256,q=512,te=30,H="...",W=800,J=16,ue=1,se=2,ee=3,Ae=1/0,ge=9007199254740991,Be=17976931348623157e292,_e=0/0,ct=4294967295,U=ct-1,Z=ct>>>1,Q=[["ary",R],["bind",A],["bindKey",j],["curry",D],["curryRight",P],["flip",q],["partial",Y],["partialRight",z],["rearg",B]],ne="[object Arguments]",ce="[object Array]",be="[object AsyncFunction]",Fe="[object Boolean]",ze="[object Date]",Ze="[object DOMException]",pt="[object Error]",bt="[object Function]",Ye="[object GeneratorFunction]",yt="[object Map]",it="[object Number]",fe="[object Null]",He="[object Object]",mt="[object Promise]",rt="[object Proxy]",Ee="[object RegExp]",qe="[object Set]",Le="[object String]",Nt="[object Symbol]",et="[object Undefined]",wt="[object WeakMap]",Vt="[object WeakSet]",rn="[object ArrayBuffer]",dn="[object DataView]",Qt="[object Float32Array]",Tn="[object Float64Array]",Kt="[object Int8Array]",Dr="[object Int16Array]",hn="[object Int32Array]",Ue="[object Uint8Array]",$t="[object Uint8ClampedArray]",nn="[object Uint16Array]",Dn="[object Uint32Array]",Nn=/\b__p \+= '';/g,yi=/\b(__p \+=) '' \+/g,jr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Bn=/&(?:amp|lt|gt|quot|#39);/g,ea=/[&<>"']/g,Or=RegExp(Bn.source),Mn=RegExp(ea.source),Gn=/<%-([\s\S]+?)%>/g,qs=/<%([\s\S]+?)%>/g,hr=/<%=([\s\S]+?)%>/g,ha=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pa=/^\w*$/,vn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fa=/[\\^$.*+?()[\]{}|]/g,Oi=RegExp(Fa.source),Ri=/^\s+/,gr=/\s/,Rr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,he=/\{\n\/\* \[wrapped with (.+)\] \*/,ye=/,? & /,je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Te=/[()=,{}\[\]\/\s]/,Oe=/\\(\\)?/g,Pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ot=/\w*$/,_t=/^[-+]0x[0-9a-f]+$/i,at=/^0b[01]+$/i,ft=/^\[object .+?Constructor\]$/,xt=/^0o[0-7]+$/i,Ft=/^(?:0|[1-9]\d*)$/,Wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zt=/($^)/,Yt=/['\n\r\u2028\u2029\\]/g,Zt="\\ud800-\\udfff",On="\\u0300-\\u036f",Ct="\\ufe20-\\ufe2f",Mr="\\u20d0-\\u20ff",Xn=On+Ct+Mr,pa="\\u2700-\\u27bf",co="a-z\\xdf-\\xf6\\xf8-\\xff",er="\\xac\\xb1\\xd7\\xf7",Qn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$n="\\u2000-\\u206f",Ba=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",si="A-Z\\xc0-\\xd6\\xd8-\\xde",Al="\\ufe0e\\ufe0f",xi=er+Qn+$n+Ba,ls="[']",eu="["+Zt+"]",oi="["+xi+"]",Ei="["+Xn+"]",jl="\\d+",qi="["+pa+"]",Sr="["+co+"]",Mi="[^"+Zt+xi+jl+pa+co+si+"]",lt="\\ud83c[\\udffb-\\udfff]",Ie="(?:"+Ei+"|"+lt+")",_n="[^"+Zt+"]",gi="(?:\\ud83c[\\udde6-\\uddff]){2}",ja="[\\ud800-\\udbff][\\udc00-\\udfff]",uo="["+si+"]",mc="\\u200d",Ua="(?:"+Sr+"|"+Mi+")",jn="(?:"+uo+"|"+Mi+")",Nr="(?:"+ls+"(?:d|ll|m|re|s|t|ve))?",il="(?:"+ls+"(?:D|LL|M|RE|S|T|VE))?",kl=Ie+"?",Tl="["+Al+"]?",Hi="(?:"+mc+"(?:"+[_n,gi,ja].join("|")+")"+Tl+kl+")*",tu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ju="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pn=Tl+kl+Hi,Ll="(?:"+[qi,gi,ja].join("|")+")"+pn,fo="(?:"+[_n+Ei+"?",Ei,gi,ja,eu].join("|")+")",Sn=RegExp(ls,"g"),ed=RegExp(Ei,"g"),qn=RegExp(lt+"(?="+lt+")|"+fo+pn,"g"),bi=RegExp([uo+"?"+Sr+"+"+Nr+"(?="+[oi,uo,"$"].join("|")+")",jn+"+"+il+"(?="+[oi,uo+Ua,"$"].join("|")+")",uo+"?"+Ua+"+"+Nr,uo+"+"+il,Ju,tu,jl,Ll].join("|"),"g"),nu=RegExp("["+mc+Zt+Xn+Al+"]"),ru=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,td=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ro=-1,kr={};kr[Qt]=kr[Tn]=kr[Kt]=kr[Dr]=kr[hn]=kr[Ue]=kr[$t]=kr[nn]=kr[Dn]=!0,kr[ne]=kr[ce]=kr[rn]=kr[Fe]=kr[dn]=kr[ze]=kr[pt]=kr[bt]=kr[yt]=kr[it]=kr[He]=kr[Ee]=kr[qe]=kr[Le]=kr[wt]=!1;var ur={};ur[ne]=ur[ce]=ur[rn]=ur[dn]=ur[Fe]=ur[ze]=ur[Qt]=ur[Tn]=ur[Kt]=ur[Dr]=ur[hn]=ur[yt]=ur[it]=ur[He]=ur[Ee]=ur[qe]=ur[Le]=ur[Nt]=ur[Ue]=ur[$t]=ur[nn]=ur[Dn]=!0,ur[pt]=ur[bt]=ur[wt]=!1;var _s={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Il={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},al={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Mo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ho=parseFloat,ma=parseInt,xc=typeof no=="object"&&no&&no.Object===Object&&no,iu=typeof self=="object"&&self&&self.Object===Object&&self,Ai=xc||iu||Function("return this")(),Ss=t&&!t.nodeType&&t,za=Ss&&!0&&e&&!e.nodeType&&e,nd=za&&za.exports===Ss,sr=nd&&xc.process,vi=function(){try{var de=za&&za.require&&za.require("util").types;return de||sr&&sr.binding&&sr.binding("util")}catch{}}(),Po=vi&&vi.isArrayBuffer,Wa=vi&&vi.isDate,rd=vi&&vi.isMap,gt=vi&&vi.isRegExp,Kn=vi&&vi.isSet,Ni=vi&&vi.isTypedArray;function Pi(de,Ne,Ce){switch(Ce.length){case 0:return de.call(Ne);case 1:return de.call(Ne,Ce[0]);case 2:return de.call(Ne,Ce[0],Ce[1]);case 3:return de.call(Ne,Ce[0],Ce[1],Ce[2])}return de.apply(Ne,Ce)}function au(de,Ne,Ce,$e){for(var vt=-1,jt=de==null?0:de.length;++vt<jt;){var Lt=de[vt];Ne($e,Lt,Ce(Lt),de)}return $e}function xa(de,Ne){for(var Ce=-1,$e=de==null?0:de.length;++Ce<$e&&Ne(de[Ce],Ce,de)!==!1;);return de}function su(de,Ne){for(var Ce=de==null?0:de.length;Ce--&&Ne(de[Ce],Ce,de)!==!1;);return de}function gc(de,Ne){for(var Ce=-1,$e=de==null?0:de.length;++Ce<$e;)if(!Ne(de[Ce],Ce,de))return!1;return!0}function cs(de,Ne){for(var Ce=-1,$e=de==null?0:de.length,vt=0,jt=[];++Ce<$e;){var Lt=de[Ce];Ne(Lt,Ce,de)&&(jt[vt++]=Lt)}return jt}function li(de,Ne){var Ce=de==null?0:de.length;return!!Ce&&Dt(de,Ne,0)>-1}function po(de,Ne,Ce){for(var $e=-1,vt=de==null?0:de.length;++$e<vt;)if(Ce(Ne,de[$e]))return!0;return!1}function In(de,Ne){for(var Ce=-1,$e=de==null?0:de.length,vt=Array($e);++Ce<$e;)vt[Ce]=Ne(de[Ce],Ce,de);return vt}function qa(de,Ne){for(var Ce=-1,$e=Ne.length,vt=de.length;++Ce<$e;)de[vt+Ce]=Ne[Ce];return de}function ka(de,Ne,Ce,$e){var vt=-1,jt=de==null?0:de.length;for($e&&jt&&(Ce=de[++vt]);++vt<jt;)Ce=Ne(Ce,de[vt],vt,de);return Ce}function Cr(de,Ne,Ce,$e){var vt=de==null?0:de.length;for($e&&vt&&(Ce=de[--vt]);vt--;)Ce=Ne(Ce,de[vt],vt,de);return Ce}function O(de,Ne){for(var Ce=-1,$e=de==null?0:de.length;++Ce<$e;)if(Ne(de[Ce],Ce,de))return!0;return!1}var oe=Pn("length");function Re(de){return de.split("")}function Ve(de){return de.match(je)||[]}function nt(de,Ne,Ce){var $e;return Ce(de,function(vt,jt,Lt){if(Ne(vt,jt,Lt))return $e=jt,!1}),$e}function Et(de,Ne,Ce,$e){for(var vt=de.length,jt=Ce+($e?1:-1);$e?jt--:++jt<vt;)if(Ne(de[jt],jt,de))return jt;return-1}function Dt(de,Ne,Ce){return Ne===Ne?h(de,Ne,Ce):Et(de,Cn,Ce)}function sn(de,Ne,Ce,$e){for(var vt=Ce-1,jt=de.length;++vt<jt;)if($e(de[vt],Ne))return vt;return-1}function Cn(de){return de!==de}function Un(de,Ne){var Ce=de==null?0:de.length;return Ce?ui(de,Ne)/Ce:_e}function Pn(de){return function(Ne){return Ne==null?n:Ne[de]}}function or(de){return function(Ne){return de==null?n:de[Ne]}}function ci(de,Ne,Ce,$e,vt){return vt(de,function(jt,Lt,un){Ce=$e?($e=!1,jt):Ne(Ce,jt,Lt,un)}),Ce}function zr(de,Ne){var Ce=de.length;for(de.sort(Ne);Ce--;)de[Ce]=de[Ce].value;return de}function ui(de,Ne){for(var Ce,$e=-1,vt=de.length;++$e<vt;){var jt=Ne(de[$e]);jt!==n&&(Ce=Ce===n?jt:Ce+jt)}return Ce}function ta(de,Ne){for(var Ce=-1,$e=Array(de);++Ce<de;)$e[Ce]=Ne(Ce);return $e}function _i(de,Ne){return In(Ne,function(Ce){return[Ce,de[Ce]]})}function Cs(de){return de&&de.slice(0,C(de)+1).replace(Ri,"")}function _r(de){return function(Ne){return de(Ne)}}function Ha(de,Ne){return In(Ne,function(Ce){return de[Ce]})}function Vi(de,Ne){return de.has(Ne)}function Dl(de,Ne){for(var Ce=-1,$e=de.length;++Ce<$e&&Dt(Ne,de[Ce],0)>-1;);return Ce}function Va(de,Ne){for(var Ce=de.length;Ce--&&Dt(Ne,de[Ce],0)>-1;);return Ce}function vc(de,Ne){for(var Ce=de.length,$e=0;Ce--;)de[Ce]===Ne&&++$e;return $e}var Ol=or(_s),ou=or(Il);function Rl(de){return"\\"+Mo[de]}function $r(de,Ne){return de==null?n:de[Ne]}function Hs(de){return nu.test(de)}function sl(de){return ru.test(de)}function mo(de){for(var Ne,Ce=[];!(Ne=de.next()).done;)Ce.push(Ne.value);return Ce}function tr(de){var Ne=-1,Ce=Array(de.size);return de.forEach(function($e,vt){Ce[++Ne]=[vt,$e]}),Ce}function na(de,Ne){return function(Ce){return de(Ne(Ce))}}function re(de,Ne){for(var Ce=-1,$e=de.length,vt=0,jt=[];++Ce<$e;){var Lt=de[Ce];(Lt===Ne||Lt===p)&&(de[Ce]=p,jt[vt++]=Ce)}return jt}function l(de){var Ne=-1,Ce=Array(de.size);return de.forEach(function($e){Ce[++Ne]=$e}),Ce}function d(de){var Ne=-1,Ce=Array(de.size);return de.forEach(function($e){Ce[++Ne]=[$e,$e]}),Ce}function h(de,Ne,Ce){for(var $e=Ce-1,vt=de.length;++$e<vt;)if(de[$e]===Ne)return $e;return-1}function x(de,Ne,Ce){for(var $e=Ce+1;$e--;)if(de[$e]===Ne)return $e;return $e}function v(de){return Hs(de)?M(de):oe(de)}function N(de){return Hs(de)?X(de):Re(de)}function C(de){for(var Ne=de.length;Ne--&&gr.test(de.charAt(Ne)););return Ne}var I=or(al);function M(de){for(var Ne=qn.lastIndex=0;qn.test(de);)++Ne;return Ne}function X(de){return de.match(qn)||[]}function ie(de){return de.match(bi)||[]}var me=function de(Ne){Ne=Ne==null?Ai:De.defaults(Ai.Object(),Ne,De.pick(Ai,td));var Ce=Ne.Array,$e=Ne.Date,vt=Ne.Error,jt=Ne.Function,Lt=Ne.Math,un=Ne.Object,Rn=Ne.RegExp,Fi=Ne.String,Pr=Ne.TypeError,di=Ce.prototype,wr=jt.prototype,Wr=un.prototype,Si=Ne["__core-js_shared__"],Ta=wr.toString,rr=Wr.hasOwnProperty,Es=0,us=function(){var m=/[^.]+$/.exec(Si&&Si.keys&&Si.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}(),qr=Wr.toString,fi=Ta.call(un),$i=Ai._,ga=Rn("^"+Ta.call(rr).replace(Fa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xo=nd?Ne.Buffer:n,go=Ne.Symbol,Ml=Ne.Uint8Array,m0=xo?xo.allocUnsafe:n,id=na(un.getPrototypeOf,un),x0=un.create,As=Wr.propertyIsEnumerable,ds=di.splice,g0=go?go.isConcatSpreadable:n,wc=go?go.iterator:n,yc=go?go.toStringTag:n,lu=function(){try{var m=E0(un,"defineProperty");return m({},"",{}),m}catch{}}(),Nf=Ne.clearTimeout!==Ai.clearTimeout&&Ne.clearTimeout,p1=$e&&$e.now!==Ai.Date.now&&$e.now,wm=Ne.setTimeout!==Ai.setTimeout&&Ne.setTimeout,ad=Lt.ceil,sd=Lt.floor,od=un.getOwnPropertySymbols,m1=xo?xo.isBuffer:n,ym=Ne.isFinite,Iv=di.join,bm=na(un.keys,un),va=Lt.max,Ka=Lt.min,Dv=$e.now,Ov=Ne.parseInt,Nm=Lt.random,x1=di.reverse,v0=E0(Ne,"DataView"),Pl=E0(Ne,"Map"),g1=E0(Ne,"Promise"),ld=E0(Ne,"Set"),cd=E0(Ne,"WeakMap"),w0=E0(un,"create"),_f=cd&&new cd,ud={},Rv=A0(v0),bc=A0(Pl),Fo=A0(g1),Fl=A0(ld),Mv=A0(cd),y0=go?go.prototype:n,vo=y0?y0.valueOf:n,Vs=y0?y0.toString:n;function we(m){if(ia(m)&&!nr(m)&&!(m instanceof pr)){if(m instanceof $s)return m;if(rr.call(m,"__wrapped__"))return gN(m)}return new $s(m)}var dd=function(){function m(){}return function(b){if(!Gi(b))return{};if(x0)return x0(b);m.prototype=b;var L=new m;return m.prototype=n,L}}();function b0(){}function $s(m,b){this.__wrapped__=m,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=n}we.templateSettings={escape:Gn,evaluate:qs,interpolate:hr,variable:"",imports:{_:we}},we.prototype=b0.prototype,we.prototype.constructor=we,$s.prototype=dd(b0.prototype),$s.prototype.constructor=$s;function pr(m){this.__wrapped__=m,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ct,this.__views__=[]}function _m(){var m=new pr(this.__wrapped__);return m.__actions__=yo(this.__actions__),m.__dir__=this.__dir__,m.__filtered__=this.__filtered__,m.__iteratees__=yo(this.__iteratees__),m.__takeCount__=this.__takeCount__,m.__views__=yo(this.__views__),m}function Pv(){if(this.__filtered__){var m=new pr(this);m.__dir__=-1,m.__filtered__=!0}else m=this.clone(),m.__dir__*=-1;return m}function Sf(){var m=this.__wrapped__.value(),b=this.__dir__,L=nr(m),V=b<0,le=L?m.length:0,ke=XL(0,le,this.__views__),We=ke.start,Xe=ke.end,st=Xe-We,Mt=V?Xe:We-1,Pt=this.__iteratees__,qt=Pt.length,on=0,En=Ka(st,this.__takeCount__);if(!L||!V&&le==st&&En==st)return C0(m,this.__actions__);var zn=[];e:for(;st--&&on<En;){Mt+=b;for(var dr=-1,Wn=m[Mt];++dr<qt;){var yr=Pt[dr],Er=yr.iteratee,zo=yr.type,Qs=Er(Wn);if(zo==se)Wn=Qs;else if(!Qs){if(zo==ue)continue e;break e}}zn[on++]=Wn}return zn}pr.prototype=dd(b0.prototype),pr.prototype.constructor=pr;function ol(m){var b=-1,L=m==null?0:m.length;for(this.clear();++b<L;){var V=m[b];this.set(V[0],V[1])}}function N0(){this.__data__=w0?w0(null):{},this.size=0}function v1(m){var b=this.has(m)&&delete this.__data__[m];return this.size-=b?1:0,b}function Sm(m){var b=this.__data__;if(w0){var L=b[m];return L===u?n:L}return rr.call(b,m)?b[m]:n}function Fv(m){var b=this.__data__;return w0?b[m]!==n:rr.call(b,m)}function Cm(m,b){var L=this.__data__;return this.size+=this.has(m)?0:1,L[m]=w0&&b===n?u:b,this}ol.prototype.clear=N0,ol.prototype.delete=v1,ol.prototype.get=Sm,ol.prototype.has=Fv,ol.prototype.set=Cm;function Bl(m){var b=-1,L=m==null?0:m.length;for(this.clear();++b<L;){var V=m[b];this.set(V[0],V[1])}}function Bv(){this.__data__=[],this.size=0}function Uv(m){var b=this.__data__,L=Ke(b,m);if(L<0)return!1;var V=b.length-1;return L==V?b.pop():ds.call(b,L,1),--this.size,!0}function zv(m){var b=this.__data__,L=Ke(b,m);return L<0?n:b[L][1]}function Wv(m){return Ke(this.__data__,m)>-1}function qv(m,b){var L=this.__data__,V=Ke(L,m);return V<0?(++this.size,L.push([m,b])):L[V][1]=b,this}Bl.prototype.clear=Bv,Bl.prototype.delete=Uv,Bl.prototype.get=zv,Bl.prototype.has=Wv,Bl.prototype.set=qv;function ll(m){var b=-1,L=m==null?0:m.length;for(this.clear();++b<L;){var V=m[b];this.set(V[0],V[1])}}function Cf(){this.size=0,this.__data__={hash:new ol,map:new(Pl||Bl),string:new ol}}function Hv(m){var b=qm(this,m).delete(m);return this.size-=b?1:0,b}function Vv(m){return qm(this,m).get(m)}function Em(m){return qm(this,m).has(m)}function _(m,b){var L=qm(this,m),V=L.size;return L.set(m,b),this.size+=L.size==V?0:1,this}ll.prototype.clear=Cf,ll.prototype.delete=Hv,ll.prototype.get=Vv,ll.prototype.has=Em,ll.prototype.set=_;function T(m){var b=-1,L=m==null?0:m.length;for(this.__data__=new ll;++b<L;)this.add(m[b])}function F(m){return this.__data__.set(m,u),this}function G(m){return this.__data__.has(m)}T.prototype.add=T.prototype.push=F,T.prototype.has=G;function ae(m){var b=this.__data__=new Bl(m);this.size=b.size}function pe(){this.__data__=new Bl,this.size=0}function xe(m){var b=this.__data__,L=b.delete(m);return this.size=b.size,L}function ve(m){return this.__data__.get(m)}function Se(m){return this.__data__.has(m)}function Me(m,b){var L=this.__data__;if(L instanceof Bl){var V=L.__data__;if(!Pl||V.length<i-1)return V.push([m,b]),this.size=++L.size,this;L=this.__data__=new ll(V)}return L.set(m,b),this.size=L.size,this}ae.prototype.clear=pe,ae.prototype.delete=xe,ae.prototype.get=ve,ae.prototype.has=Se,ae.prototype.set=Me;function Qe(m,b){var L=nr(m),V=!L&&j0(m),le=!L&&!V&&Nd(m),ke=!L&&!V&&!le&&Ff(m),We=L||V||le||ke,Xe=We?ta(m.length,Fi):[],st=Xe.length;for(var Mt in m)(b||rr.call(m,Mt))&&!(We&&(Mt=="length"||le&&(Mt=="offset"||Mt=="parent")||ke&&(Mt=="buffer"||Mt=="byteLength"||Mt=="byteOffset")||pu(Mt,st)))&&Xe.push(Mt);return Xe}function ut(m){var b=m.length;return b?m[gd(0,b-1)]:n}function dt(m,b){return Hm(yo(m),Jt(b,0,m.length))}function tt(m){return Hm(yo(m))}function Rt(m,b,L){(L!==n&&!ql(m[b],L)||L===n&&!(b in m))&&It(m,b,L)}function St(m,b,L){var V=m[b];(!(rr.call(m,b)&&ql(V,L))||L===n&&!(b in m))&&It(m,b,L)}function Ke(m,b){for(var L=m.length;L--;)if(ql(m[L][0],b))return L;return-1}function Je(m,b,L,V){return Zn(m,function(le,ke,We){b(V,le,L(le),We)}),V}function Ot(m,b){return m&&kc(b,Ja(b),m)}function Bt(m,b){return m&&kc(b,No(b),m)}function It(m,b,L){b=="__proto__"&&lu?lu(m,b,{configurable:!0,enumerable:!0,value:L,writable:!0}):m[b]=L}function ln(m,b){for(var L=-1,V=b.length,le=Ce(V),ke=m==null;++L<V;)le[L]=ke?n:hw(m,b[L]);return le}function Jt(m,b,L){return m===m&&(L!==n&&(m=m<=L?m:L),b!==n&&(m=m>=b?m:b)),m}function wn(m,b,L,V,le,ke){var We,Xe=b&g,st=b&w,Mt=b&y;if(L&&(We=le?L(m,V,le,ke):L(m)),We!==n)return We;if(!Gi(m))return m;var Pt=nr(m);if(Pt){if(We=QL(m),!Xe)return yo(m,We)}else{var qt=js(m),on=qt==bt||qt==Ye;if(Nd(m))return Of(m,Xe);if(qt==He||qt==ne||on&&!le){if(We=st||on?{}:lN(m),!Xe)return st?UL(m,Bt(We,m)):BL(m,Ot(We,m))}else{if(!ur[qt])return le?m:{};We=ZL(m,qt,Xe)}}ke||(ke=new ae);var En=ke.get(m);if(En)return En;ke.set(m,We),PN(m)?m.forEach(function(Wn){We.add(wn(Wn,b,L,Wn,m,ke))}):RN(m)&&m.forEach(function(Wn,yr){We.set(yr,wn(Wn,b,L,yr,m,ke))});var zn=Mt?st?Jv:Zv:st?No:Ja,dr=Pt?n:zn(m);return xa(dr||m,function(Wn,yr){dr&&(yr=Wn,Wn=m[yr]),St(We,yr,wn(Wn,b,L,yr,m,ke))}),We}function an(m){var b=Ja(m);return function(L){return Ar(L,m,b)}}function Ar(m,b,L){var V=L.length;if(m==null)return!V;for(m=un(m);V--;){var le=L[V],ke=b[le],We=m[le];if(We===n&&!(le in m)||!ke(We))return!1}return!0}function Fr(m,b,L){if(typeof m!="function")throw new Pr(o);return j1(function(){m.apply(n,L)},b)}function mr(m,b,L,V){var le=-1,ke=li,We=!0,Xe=m.length,st=[],Mt=b.length;if(!Xe)return st;L&&(b=In(b,_r(L))),V?(ke=po,We=!1):b.length>=i&&(ke=Vi,We=!1,b=new T(b));e:for(;++le<Xe;){var Pt=m[le],qt=L==null?Pt:L(Pt);if(Pt=V||Pt!==0?Pt:0,We&&qt===qt){for(var on=Mt;on--;)if(b[on]===qt)continue e;st.push(Pt)}else ke(b,qt,V)||st.push(Pt)}return st}var Zn=G3(Bi),Yr=G3(hs,!0);function Gr(m,b){var L=!0;return Zn(m,function(V,le,ke){return L=!!b(V,le,ke),L}),L}function Yn(m,b,L){for(var V=-1,le=m.length;++V<le;){var ke=m[V],We=b(ke);if(We!=null&&(Xe===n?We===We&&!Uo(We):L(We,Xe)))var Xe=We,st=ke}return st}function ra(m,b,L,V){var le=m.length;for(L=lr(L),L<0&&(L=-L>le?0:le+L),V=V===n||V>le?le:lr(V),V<0&&(V+=le),V=L>V?0:BN(V);L<V;)m[L++]=b;return m}function fs(m,b){var L=[];return Zn(m,function(V,le,ke){b(V,le,ke)&&L.push(V)}),L}function vr(m,b,L,V,le){var ke=-1,We=m.length;for(L||(L=eI),le||(le=[]);++ke<We;){var Xe=m[ke];b>0&&L(Xe)?b>1?vr(Xe,b-1,L,V,le):qa(le,Xe):V||(le[le.length]=Xe)}return le}var Qa=X3(),Br=X3(!0);function Bi(m,b){return m&&Qa(m,b,Ja)}function hs(m,b){return m&&Br(m,b,Ja)}function Yi(m,b){return cs(b,function(L){return mu(m[L])})}function ji(m,b){b=ul(b,m);for(var L=0,V=b.length;m!=null&&L<V;)m=m[Tc(b[L++])];return L&&L==V?m:n}function Za(m,b,L){var V=b(m);return nr(m)?V:qa(V,L(m))}function hi(m){return m==null?m===n?et:fe:yc&&yc in un(m)?GL(m):oI(m)}function wo(m,b){return m>b}function La(m,b){return m!=null&&rr.call(m,b)}function Ul(m,b){return m!=null&&b in un(m)}function cu(m,b,L){return m>=Ka(b,L)&&m<va(b,L)}function Nc(m,b,L){for(var V=L?po:li,le=m[0].length,ke=m.length,We=ke,Xe=Ce(ke),st=1/0,Mt=[];We--;){var Pt=m[We];We&&b&&(Pt=In(Pt,_r(b))),st=Ka(Pt.length,st),Xe[We]=!L&&(b||le>=120&&Pt.length>=120)?new T(We&&Pt):n}Pt=m[0];var qt=-1,on=Xe[0];e:for(;++qt<le&&Mt.length<st;){var En=Pt[qt],zn=b?b(En):En;if(En=L||En!==0?En:0,!(on?Vi(on,zn):V(Mt,zn,L))){for(We=ke;--We;){var dr=Xe[We];if(!(dr?Vi(dr,zn):V(m[We],zn,L)))continue e}on&&on.push(zn),Mt.push(En)}}return Mt}function _c(m,b,L,V){return Bi(m,function(le,ke,We){b(V,L(le),ke,We)}),V}function pi(m,b,L){b=ul(b,m),m=fN(m,b);var V=m==null?m:m[Tc(dl(b))];return V==null?n:Pi(V,m,L)}function Ef(m){return ia(m)&&hi(m)==ne}function Am(m){return ia(m)&&hi(m)==rn}function jm(m){return ia(m)&&hi(m)==ze}function Sc(m,b,L,V,le){return m===b?!0:m==null||b==null||!ia(m)&&!ia(b)?m!==m&&b!==b:_0(m,b,L,V,Sc,le)}function _0(m,b,L,V,le,ke){var We=nr(m),Xe=nr(b),st=We?ce:js(m),Mt=Xe?ce:js(b);st=st==ne?He:st,Mt=Mt==ne?He:Mt;var Pt=st==He,qt=Mt==He,on=st==Mt;if(on&&Nd(m)){if(!Nd(b))return!1;We=!0,Pt=!1}if(on&&!Pt)return ke||(ke=new ae),We||Ff(m)?aN(m,b,L,V,le,ke):$L(m,b,st,L,V,le,ke);if(!(L&E)){var En=Pt&&rr.call(m,"__wrapped__"),zn=qt&&rr.call(b,"__wrapped__");if(En||zn){var dr=En?m.value():m,Wn=zn?b.value():b;return ke||(ke=new ae),le(dr,Wn,L,V,ke)}}return on?(ke||(ke=new ae),YL(m,b,L,V,le,ke)):!1}function Af(m){return ia(m)&&js(m)==yt}function Ys(m,b,L,V){var le=L.length,ke=le,We=!V;if(m==null)return!ke;for(m=un(m);le--;){var Xe=L[le];if(We&&Xe[2]?Xe[1]!==m[Xe[0]]:!(Xe[0]in m))return!1}for(;++le<ke;){Xe=L[le];var st=Xe[0],Mt=m[st],Pt=Xe[1];if(We&&Xe[2]){if(Mt===n&&!(st in m))return!1}else{var qt=new ae;if(V)var on=V(Mt,Pt,st,m,b,qt);if(!(on===n?Sc(Pt,Mt,E|S,V,qt):on))return!1}}return!0}function uu(m){if(!Gi(m)||nI(m))return!1;var b=mu(m)?ga:ft;return b.test(A0(m))}function fd(m){return ia(m)&&hi(m)==Ee}function km(m){return ia(m)&&js(m)==qe}function jf(m){return ia(m)&&Km(m.length)&&!!kr[hi(m)]}function w1(m){return typeof m=="function"?m:m==null?_o:typeof m=="object"?nr(m)?Lm(m[0],m[1]):Tm(m):KN(m)}function hd(m){if(!A1(m))return bm(m);var b=[];for(var L in un(m))rr.call(m,L)&&L!="constructor"&&b.push(L);return b}function y1(m){if(!Gi(m))return sI(m);var b=A1(m),L=[];for(var V in m)V=="constructor"&&(b||!rr.call(m,V))||L.push(V);return L}function pd(m,b){return m<b}function md(m,b){var L=-1,V=bo(m)?Ce(m.length):[];return Zn(m,function(le,ke,We){V[++L]=b(le,ke,We)}),V}function Tm(m){var b=tw(m);return b.length==1&&b[0][2]?uN(b[0][0],b[0][1]):function(L){return L===m||Ys(L,m,b)}}function Lm(m,b){return rw(m)&&cN(b)?uN(Tc(m),b):function(L){var V=hw(L,m);return V===n&&V===b?pw(L,m):Sc(b,V,E|S)}}function xd(m,b,L,V,le){m!==b&&Qa(b,function(ke,We){if(le||(le=new ae),Gi(ke))Cc(m,b,We,L,xd,V,le);else{var Xe=V?V(aw(m,We),ke,We+"",m,b,le):n;Xe===n&&(Xe=ke),Rt(m,We,Xe)}},No)}function Cc(m,b,L,V,le,ke,We){var Xe=aw(m,L),st=aw(b,L),Mt=We.get(st);if(Mt){Rt(m,L,Mt);return}var Pt=ke?ke(Xe,st,L+"",m,b,We):n,qt=Pt===n;if(qt){var on=nr(st),En=!on&&Nd(st),zn=!on&&!En&&Ff(st);Pt=st,on||En||zn?nr(Xe)?Pt=Xe:wa(Xe)?Pt=yo(Xe):En?(qt=!1,Pt=Of(st,!0)):zn?(qt=!1,Pt=H3(st,!0)):Pt=[]:k1(st)||j0(st)?(Pt=Xe,j0(Xe)?Pt=UN(Xe):(!Gi(Xe)||mu(Xe))&&(Pt=lN(st))):qt=!1}qt&&(We.set(st,Pt),le(Pt,st,V,ke,We),We.delete(st)),Rt(m,L,Pt)}function Im(m,b){var L=m.length;if(L)return b+=b<0?L:0,pu(b,L)?m[b]:n}function Dm(m,b,L){b.length?b=In(b,function(ke){return nr(ke)?function(We){return ji(We,ke.length===1?ke[0]:ke)}:ke}):b=[_o];var V=-1;b=In(b,_r(Fn()));var le=md(m,function(ke,We,Xe){var st=In(b,function(Mt){return Mt(ke)});return{criteria:st,index:++V,value:ke}});return zr(le,function(ke,We){return FL(ke,We,L)})}function $v(m,b){return b1(m,b,function(L,V){return pw(m,V)})}function b1(m,b,L){for(var V=-1,le=b.length,ke={};++V<le;){var We=b[V],Xe=ji(m,We);L(Xe,We)&&vd(ke,ul(We,m),Xe)}return ke}function kf(m){return function(b){return ji(b,m)}}function Tf(m,b,L,V){var le=V?sn:Dt,ke=-1,We=b.length,Xe=m;for(m===b&&(b=yo(b)),L&&(Xe=In(m,_r(L)));++ke<We;)for(var st=0,Mt=b[ke],Pt=L?L(Mt):Mt;(st=le(Xe,Pt,st,V))>-1;)Xe!==m&&ds.call(Xe,st,1),ds.call(m,st,1);return m}function N1(m,b){for(var L=m?b.length:0,V=L-1;L--;){var le=b[L];if(L==V||le!==ke){var ke=le;pu(le)?ds.call(m,le,1):C1(m,le)}}return m}function gd(m,b){return m+sd(Nm()*(b-m+1))}function _1(m,b,L,V){for(var le=-1,ke=va(ad((b-m)/(L||1)),0),We=Ce(ke);ke--;)We[V?ke:++le]=m,m+=L;return We}function du(m,b){var L="";if(!m||b<1||b>ge)return L;do b%2&&(L+=m),b=sd(b/2),b&&(m+=m);while(b);return L}function ir(m,b){return sw(dN(m,b,_o),m+"")}function Yv(m){return ut(Bf(m))}function Lf(m,b){var L=Bf(m);return Hm(L,Jt(b,0,L.length))}function vd(m,b,L,V){if(!Gi(m))return m;b=ul(b,m);for(var le=-1,ke=b.length,We=ke-1,Xe=m;Xe!=null&&++le<ke;){var st=Tc(b[le]),Mt=L;if(st==="__proto__"||st==="constructor"||st==="prototype")return m;if(le!=We){var Pt=Xe[st];Mt=V?V(Pt,st,Xe):n,Mt===n&&(Mt=Gi(Pt)?Pt:pu(b[le+1])?[]:{})}St(Xe,st,Mt),Xe=Xe[st]}return m}var If=_f?function(m,b){return _f.set(m,b),m}:_o,Ec=lu?function(m,b){return lu(m,"toString",{configurable:!0,enumerable:!1,value:xw(b),writable:!0})}:_o;function Om(m){return Hm(Bf(m))}function Gs(m,b,L){var V=-1,le=m.length;b<0&&(b=-b>le?0:le+b),L=L>le?le:L,L<0&&(L+=le),le=b>L?0:L-b>>>0,b>>>=0;for(var ke=Ce(le);++V<le;)ke[V]=m[V+b];return ke}function Gv(m,b){var L;return Zn(m,function(V,le,ke){return L=b(V,le,ke),!L}),!!L}function S0(m,b,L){var V=0,le=m==null?V:m.length;if(typeof b=="number"&&b===b&&le<=Z){for(;V<le;){var ke=V+le>>>1,We=m[ke];We!==null&&!Uo(We)&&(L?We<=b:We<b)?V=ke+1:le=ke}return le}return Ac(m,b,_o,L)}function Ac(m,b,L,V){var le=0,ke=m==null?0:m.length;if(ke===0)return 0;b=L(b);for(var We=b!==b,Xe=b===null,st=Uo(b),Mt=b===n;le<ke;){var Pt=sd((le+ke)/2),qt=L(m[Pt]),on=qt!==n,En=qt===null,zn=qt===qt,dr=Uo(qt);if(We)var Wn=V||zn;else Mt?Wn=zn&&(V||on):Xe?Wn=zn&&on&&(V||!En):st?Wn=zn&&on&&!En&&(V||!dr):En||dr?Wn=!1:Wn=V?qt<=b:qt<b;Wn?le=Pt+1:ke=Pt}return Ka(ke,U)}function Rm(m,b){for(var L=-1,V=m.length,le=0,ke=[];++L<V;){var We=m[L],Xe=b?b(We):We;if(!L||!ql(Xe,st)){var st=Xe;ke[le++]=We===0?0:We}}return ke}function S1(m){return typeof m=="number"?m:Uo(m)?_e:+m}function Xs(m){if(typeof m=="string")return m;if(nr(m))return In(m,Xs)+"";if(Uo(m))return Vs?Vs.call(m):"";var b=m+"";return b=="0"&&1/m==-Ae?"-0":b}function zl(m,b,L){var V=-1,le=li,ke=m.length,We=!0,Xe=[],st=Xe;if(L)We=!1,le=po;else if(ke>=i){var Mt=b?null:HL(m);if(Mt)return l(Mt);We=!1,le=Vi,st=new T}else st=b?[]:Xe;e:for(;++V<ke;){var Pt=m[V],qt=b?b(Pt):Pt;if(Pt=L||Pt!==0?Pt:0,We&&qt===qt){for(var on=st.length;on--;)if(st[on]===qt)continue e;b&&st.push(qt),Xe.push(Pt)}else le(st,qt,L)||(st!==Xe&&st.push(qt),Xe.push(Pt))}return Xe}function C1(m,b){return b=ul(b,m),m=fN(m,b),m==null||delete m[Tc(dl(b))]}function wd(m,b,L,V){return vd(m,b,L(ji(m,b)),V)}function yd(m,b,L,V){for(var le=m.length,ke=V?le:-1;(V?ke--:++ke<le)&&b(m[ke],ke,m););return L?Gs(m,V?0:ke,V?ke+1:le):Gs(m,V?ke+1:0,V?le:ke)}function C0(m,b){var L=m;return L instanceof pr&&(L=L.value()),ka(b,function(V,le){return le.func.apply(le.thisArg,qa([V],le.args))},L)}function Bo(m,b,L){var V=m.length;if(V<2)return V?zl(m[0]):[];for(var le=-1,ke=Ce(V);++le<V;)for(var We=m[le],Xe=-1;++Xe<V;)Xe!=le&&(ke[le]=mr(ke[le]||We,m[Xe],b,L));return zl(vr(ke,1),b,L)}function Wl(m,b,L){for(var V=-1,le=m.length,ke=b.length,We={};++V<le;){var Xe=V<ke?b[V]:n;L(We,m[V],Xe)}return We}function cl(m){return wa(m)?m:[]}function bd(m){return typeof m=="function"?m:_o}function ul(m,b){return nr(m)?m:rw(m,b)?[m]:xN(Xr(m))}var Mm=ir;function jc(m,b,L){var V=m.length;return L=L===n?V:L,!b&&L>=V?m:Gs(m,b,L)}var Df=Nf||function(m){return Ai.clearTimeout(m)};function Of(m,b){if(b)return m.slice();var L=m.length,V=m0?m0(L):new m.constructor(L);return m.copy(V),V}function Xv(m){var b=new m.constructor(m.byteLength);return new Ml(b).set(new Ml(m)),b}function RL(m,b){var L=b?Xv(m.buffer):m.buffer;return new m.constructor(L,m.byteOffset,m.byteLength)}function ML(m){var b=new m.constructor(m.source,ot.exec(m));return b.lastIndex=m.lastIndex,b}function PL(m){return vo?un(vo.call(m)):{}}function H3(m,b){var L=b?Xv(m.buffer):m.buffer;return new m.constructor(L,m.byteOffset,m.length)}function V3(m,b){if(m!==b){var L=m!==n,V=m===null,le=m===m,ke=Uo(m),We=b!==n,Xe=b===null,st=b===b,Mt=Uo(b);if(!Xe&&!Mt&&!ke&&m>b||ke&&We&&st&&!Xe&&!Mt||V&&We&&st||!L&&st||!le)return 1;if(!V&&!ke&&!Mt&&m<b||Mt&&L&&le&&!V&&!ke||Xe&&L&&le||!We&&le||!st)return-1}return 0}function FL(m,b,L){for(var V=-1,le=m.criteria,ke=b.criteria,We=le.length,Xe=L.length;++V<We;){var st=V3(le[V],ke[V]);if(st){if(V>=Xe)return st;var Mt=L[V];return st*(Mt=="desc"?-1:1)}}return m.index-b.index}function $3(m,b,L,V){for(var le=-1,ke=m.length,We=L.length,Xe=-1,st=b.length,Mt=va(ke-We,0),Pt=Ce(st+Mt),qt=!V;++Xe<st;)Pt[Xe]=b[Xe];for(;++le<We;)(qt||le<ke)&&(Pt[L[le]]=m[le]);for(;Mt--;)Pt[Xe++]=m[le++];return Pt}function Y3(m,b,L,V){for(var le=-1,ke=m.length,We=-1,Xe=L.length,st=-1,Mt=b.length,Pt=va(ke-Xe,0),qt=Ce(Pt+Mt),on=!V;++le<Pt;)qt[le]=m[le];for(var En=le;++st<Mt;)qt[En+st]=b[st];for(;++We<Xe;)(on||le<ke)&&(qt[En+L[We]]=m[le++]);return qt}function yo(m,b){var L=-1,V=m.length;for(b||(b=Ce(V));++L<V;)b[L]=m[L];return b}function kc(m,b,L,V){var le=!L;L||(L={});for(var ke=-1,We=b.length;++ke<We;){var Xe=b[ke],st=V?V(L[Xe],m[Xe],Xe,L,m):n;st===n&&(st=m[Xe]),le?It(L,Xe,st):St(L,Xe,st)}return L}function BL(m,b){return kc(m,nw(m),b)}function UL(m,b){return kc(m,sN(m),b)}function Pm(m,b){return function(L,V){var le=nr(L)?au:Je,ke=b?b():{};return le(L,m,Fn(V,2),ke)}}function Rf(m){return ir(function(b,L){var V=-1,le=L.length,ke=le>1?L[le-1]:n,We=le>2?L[2]:n;for(ke=m.length>3&&typeof ke=="function"?(le--,ke):n,We&&Ks(L[0],L[1],We)&&(ke=le<3?n:ke,le=1),b=un(b);++V<le;){var Xe=L[V];Xe&&m(b,Xe,V,ke)}return b})}function G3(m,b){return function(L,V){if(L==null)return L;if(!bo(L))return m(L,V);for(var le=L.length,ke=b?le:-1,We=un(L);(b?ke--:++ke<le)&&V(We[ke],ke,We)!==!1;);return L}}function X3(m){return function(b,L,V){for(var le=-1,ke=un(b),We=V(b),Xe=We.length;Xe--;){var st=We[m?Xe:++le];if(L(ke[st],st,ke)===!1)break}return b}}function zL(m,b,L){var V=b&A,le=E1(m);function ke(){var We=this&&this!==Ai&&this instanceof ke?le:m;return We.apply(V?L:this,arguments)}return ke}function K3(m){return function(b){b=Xr(b);var L=Hs(b)?N(b):n,V=L?L[0]:b.charAt(0),le=L?jc(L,1).join(""):b.slice(1);return V[m]()+le}}function Mf(m){return function(b){return ka(GN(YN(b).replace(Sn,"")),m,"")}}function E1(m){return function(){var b=arguments;switch(b.length){case 0:return new m;case 1:return new m(b[0]);case 2:return new m(b[0],b[1]);case 3:return new m(b[0],b[1],b[2]);case 4:return new m(b[0],b[1],b[2],b[3]);case 5:return new m(b[0],b[1],b[2],b[3],b[4]);case 6:return new m(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new m(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var L=dd(m.prototype),V=m.apply(L,b);return Gi(V)?V:L}}function WL(m,b,L){var V=E1(m);function le(){for(var ke=arguments.length,We=Ce(ke),Xe=ke,st=Pf(le);Xe--;)We[Xe]=arguments[Xe];var Mt=ke<3&&We[0]!==st&&We[ke-1]!==st?[]:re(We,st);if(ke-=Mt.length,ke<L)return tN(m,b,Fm,le.placeholder,n,We,Mt,n,n,L-ke);var Pt=this&&this!==Ai&&this instanceof le?V:m;return Pi(Pt,this,We)}return le}function Q3(m){return function(b,L,V){var le=un(b);if(!bo(b)){var ke=Fn(L,3);b=Ja(b),L=function(Xe){return ke(le[Xe],Xe,le)}}var We=m(b,L,V);return We>-1?le[ke?b[We]:We]:n}}function Z3(m){return hu(function(b){var L=b.length,V=L,le=$s.prototype.thru;for(m&&b.reverse();V--;){var ke=b[V];if(typeof ke!="function")throw new Pr(o);if(le&&!We&&Wm(ke)=="wrapper")var We=new $s([],!0)}for(V=We?V:L;++V<L;){ke=b[V];var Xe=Wm(ke),st=Xe=="wrapper"?ew(ke):n;st&&iw(st[0])&&st[1]==(R|D|Y|B)&&!st[4].length&&st[9]==1?We=We[Wm(st[0])].apply(We,st[3]):We=ke.length==1&&iw(ke)?We[Xe]():We.thru(ke)}return function(){var Mt=arguments,Pt=Mt[0];if(We&&Mt.length==1&&nr(Pt))return We.plant(Pt).value();for(var qt=0,on=L?b[qt].apply(this,Mt):Pt;++qt<L;)on=b[qt].call(this,on);return on}})}function Fm(m,b,L,V,le,ke,We,Xe,st,Mt){var Pt=b&R,qt=b&A,on=b&j,En=b&(D|P),zn=b&q,dr=on?n:E1(m);function Wn(){for(var yr=arguments.length,Er=Ce(yr),zo=yr;zo--;)Er[zo]=arguments[zo];if(En)var Qs=Pf(Wn),Wo=vc(Er,Qs);if(V&&(Er=$3(Er,V,le,En)),ke&&(Er=Y3(Er,ke,We,En)),yr-=Wo,En&&yr<Mt){var ya=re(Er,Qs);return tN(m,b,Fm,Wn.placeholder,L,Er,ya,Xe,st,Mt-yr)}var Hl=qt?L:this,gu=on?Hl[m]:m;return yr=Er.length,Xe?Er=lI(Er,Xe):zn&&yr>1&&Er.reverse(),Pt&&st<yr&&(Er.length=st),this&&this!==Ai&&this instanceof Wn&&(gu=dr||E1(gu)),gu.apply(Hl,Er)}return Wn}function J3(m,b){return function(L,V){return _c(L,m,b(V),{})}}function Bm(m,b){return function(L,V){var le;if(L===n&&V===n)return b;if(L!==n&&(le=L),V!==n){if(le===n)return V;typeof L=="string"||typeof V=="string"?(L=Xs(L),V=Xs(V)):(L=S1(L),V=S1(V)),le=m(L,V)}return le}}function Kv(m){return hu(function(b){return b=In(b,_r(Fn())),ir(function(L){var V=this;return m(b,function(le){return Pi(le,V,L)})})})}function Um(m,b){b=b===n?" ":Xs(b);var L=b.length;if(L<2)return L?du(b,m):b;var V=du(b,ad(m/v(b)));return Hs(b)?jc(N(V),0,m).join(""):V.slice(0,m)}function qL(m,b,L,V){var le=b&A,ke=E1(m);function We(){for(var Xe=-1,st=arguments.length,Mt=-1,Pt=V.length,qt=Ce(Pt+st),on=this&&this!==Ai&&this instanceof We?ke:m;++Mt<Pt;)qt[Mt]=V[Mt];for(;st--;)qt[Mt++]=arguments[++Xe];return Pi(on,le?L:this,qt)}return We}function eN(m){return function(b,L,V){return V&&typeof V!="number"&&Ks(b,L,V)&&(L=V=n),b=xu(b),L===n?(L=b,b=0):L=xu(L),V=V===n?b<L?1:-1:xu(V),_1(b,L,V,m)}}function zm(m){return function(b,L){return typeof b=="string"&&typeof L=="string"||(b=fl(b),L=fl(L)),m(b,L)}}function tN(m,b,L,V,le,ke,We,Xe,st,Mt){var Pt=b&D,qt=Pt?We:n,on=Pt?n:We,En=Pt?ke:n,zn=Pt?n:ke;b|=Pt?Y:z,b&=~(Pt?z:Y),b&k||(b&=~(A|j));var dr=[m,b,le,En,qt,zn,on,Xe,st,Mt],Wn=L.apply(n,dr);return iw(m)&&hN(Wn,dr),Wn.placeholder=V,pN(Wn,m,b)}function Qv(m){var b=Lt[m];return function(L,V){if(L=fl(L),V=V==null?0:Ka(lr(V),292),V&&ym(L)){var le=(Xr(L)+"e").split("e"),ke=b(le[0]+"e"+(+le[1]+V));return le=(Xr(ke)+"e").split("e"),+(le[0]+"e"+(+le[1]-V))}return b(L)}}var HL=ld&&1/l(new ld([,-0]))[1]==Ae?function(m){return new ld(m)}:ww;function nN(m){return function(b){var L=js(b);return L==yt?tr(b):L==qe?d(b):_i(b,m(b))}}function fu(m,b,L,V,le,ke,We,Xe){var st=b&j;if(!st&&typeof m!="function")throw new Pr(o);var Mt=V?V.length:0;if(Mt||(b&=~(Y|z),V=le=n),We=We===n?We:va(lr(We),0),Xe=Xe===n?Xe:lr(Xe),Mt-=le?le.length:0,b&z){var Pt=V,qt=le;V=le=n}var on=st?n:ew(m),En=[m,b,L,V,le,Pt,qt,ke,We,Xe];if(on&&aI(En,on),m=En[0],b=En[1],L=En[2],V=En[3],le=En[4],Xe=En[9]=En[9]===n?st?0:m.length:va(En[9]-Mt,0),!Xe&&b&(D|P)&&(b&=~(D|P)),!b||b==A)var zn=zL(m,b,L);else b==D||b==P?zn=WL(m,b,Xe):(b==Y||b==(A|Y))&&!le.length?zn=qL(m,b,L,V):zn=Fm.apply(n,En);var dr=on?If:hN;return pN(dr(zn,En),m,b)}function rN(m,b,L,V){return m===n||ql(m,Wr[L])&&!rr.call(V,L)?b:m}function iN(m,b,L,V,le,ke){return Gi(m)&&Gi(b)&&(ke.set(b,m),xd(m,b,n,iN,ke),ke.delete(b)),m}function VL(m){return k1(m)?n:m}function aN(m,b,L,V,le,ke){var We=L&E,Xe=m.length,st=b.length;if(Xe!=st&&!(We&&st>Xe))return!1;var Mt=ke.get(m),Pt=ke.get(b);if(Mt&&Pt)return Mt==b&&Pt==m;var qt=-1,on=!0,En=L&S?new T:n;for(ke.set(m,b),ke.set(b,m);++qt<Xe;){var zn=m[qt],dr=b[qt];if(V)var Wn=We?V(dr,zn,qt,b,m,ke):V(zn,dr,qt,m,b,ke);if(Wn!==n){if(Wn)continue;on=!1;break}if(En){if(!O(b,function(yr,Er){if(!Vi(En,Er)&&(zn===yr||le(zn,yr,L,V,ke)))return En.push(Er)})){on=!1;break}}else if(!(zn===dr||le(zn,dr,L,V,ke))){on=!1;break}}return ke.delete(m),ke.delete(b),on}function $L(m,b,L,V,le,ke,We){switch(L){case dn:if(m.byteLength!=b.byteLength||m.byteOffset!=b.byteOffset)return!1;m=m.buffer,b=b.buffer;case rn:return!(m.byteLength!=b.byteLength||!ke(new Ml(m),new Ml(b)));case Fe:case ze:case it:return ql(+m,+b);case pt:return m.name==b.name&&m.message==b.message;case Ee:case Le:return m==b+"";case yt:var Xe=tr;case qe:var st=V&E;if(Xe||(Xe=l),m.size!=b.size&&!st)return!1;var Mt=We.get(m);if(Mt)return Mt==b;V|=S,We.set(m,b);var Pt=aN(Xe(m),Xe(b),V,le,ke,We);return We.delete(m),Pt;case Nt:if(vo)return vo.call(m)==vo.call(b)}return!1}function YL(m,b,L,V,le,ke){var We=L&E,Xe=Zv(m),st=Xe.length,Mt=Zv(b),Pt=Mt.length;if(st!=Pt&&!We)return!1;for(var qt=st;qt--;){var on=Xe[qt];if(!(We?on in b:rr.call(b,on)))return!1}var En=ke.get(m),zn=ke.get(b);if(En&&zn)return En==b&&zn==m;var dr=!0;ke.set(m,b),ke.set(b,m);for(var Wn=We;++qt<st;){on=Xe[qt];var yr=m[on],Er=b[on];if(V)var zo=We?V(Er,yr,on,b,m,ke):V(yr,Er,on,m,b,ke);if(!(zo===n?yr===Er||le(yr,Er,L,V,ke):zo)){dr=!1;break}Wn||(Wn=on=="constructor")}if(dr&&!Wn){var Qs=m.constructor,Wo=b.constructor;Qs!=Wo&&"constructor"in m&&"constructor"in b&&!(typeof Qs=="function"&&Qs instanceof Qs&&typeof Wo=="function"&&Wo instanceof Wo)&&(dr=!1)}return ke.delete(m),ke.delete(b),dr}function hu(m){return sw(dN(m,n,yN),m+"")}function Zv(m){return Za(m,Ja,nw)}function Jv(m){return Za(m,No,sN)}var ew=_f?function(m){return _f.get(m)}:ww;function Wm(m){for(var b=m.name+"",L=ud[b],V=rr.call(ud,b)?L.length:0;V--;){var le=L[V],ke=le.func;if(ke==null||ke==m)return le.name}return b}function Pf(m){var b=rr.call(we,"placeholder")?we:m;return b.placeholder}function Fn(){var m=we.iteratee||gw;return m=m===gw?w1:m,arguments.length?m(arguments[0],arguments[1]):m}function qm(m,b){var L=m.__data__;return tI(b)?L[typeof b=="string"?"string":"hash"]:L.map}function tw(m){for(var b=Ja(m),L=b.length;L--;){var V=b[L],le=m[V];b[L]=[V,le,cN(le)]}return b}function E0(m,b){var L=$r(m,b);return uu(L)?L:n}function GL(m){var b=rr.call(m,yc),L=m[yc];try{m[yc]=n;var V=!0}catch{}var le=qr.call(m);return V&&(b?m[yc]=L:delete m[yc]),le}var nw=od?function(m){return m==null?[]:(m=un(m),cs(od(m),function(b){return As.call(m,b)}))}:yw,sN=od?function(m){for(var b=[];m;)qa(b,nw(m)),m=id(m);return b}:yw,js=hi;(v0&&js(new v0(new ArrayBuffer(1)))!=dn||Pl&&js(new Pl)!=yt||g1&&js(g1.resolve())!=mt||ld&&js(new ld)!=qe||cd&&js(new cd)!=wt)&&(js=function(m){var b=hi(m),L=b==He?m.constructor:n,V=L?A0(L):"";if(V)switch(V){case Rv:return dn;case bc:return yt;case Fo:return mt;case Fl:return qe;case Mv:return wt}return b});function XL(m,b,L){for(var V=-1,le=L.length;++V<le;){var ke=L[V],We=ke.size;switch(ke.type){case"drop":m+=We;break;case"dropRight":b-=We;break;case"take":b=Ka(b,m+We);break;case"takeRight":m=va(m,b-We);break}}return{start:m,end:b}}function KL(m){var b=m.match(he);return b?b[1].split(ye):[]}function oN(m,b,L){b=ul(b,m);for(var V=-1,le=b.length,ke=!1;++V<le;){var We=Tc(b[V]);if(!(ke=m!=null&&L(m,We)))break;m=m[We]}return ke||++V!=le?ke:(le=m==null?0:m.length,!!le&&Km(le)&&pu(We,le)&&(nr(m)||j0(m)))}function QL(m){var b=m.length,L=new m.constructor(b);return b&&typeof m[0]=="string"&&rr.call(m,"index")&&(L.index=m.index,L.input=m.input),L}function lN(m){return typeof m.constructor=="function"&&!A1(m)?dd(id(m)):{}}function ZL(m,b,L){var V=m.constructor;switch(b){case rn:return Xv(m);case Fe:case ze:return new V(+m);case dn:return RL(m,L);case Qt:case Tn:case Kt:case Dr:case hn:case Ue:case $t:case nn:case Dn:return H3(m,L);case yt:return new V;case it:case Le:return new V(m);case Ee:return ML(m);case qe:return new V;case Nt:return PL(m)}}function JL(m,b){var L=b.length;if(!L)return m;var V=L-1;return b[V]=(L>1?"& ":"")+b[V],b=b.join(L>2?", ":" "),m.replace(Rr,`{
/* [wrapped with `+b+`] */
`)}function eI(m){return nr(m)||j0(m)||!!(g0&&m&&m[g0])}function pu(m,b){var L=typeof m;return b=b??ge,!!b&&(L=="number"||L!="symbol"&&Ft.test(m))&&m>-1&&m%1==0&&m<b}function Ks(m,b,L){if(!Gi(L))return!1;var V=typeof b;return(V=="number"?bo(L)&&pu(b,L.length):V=="string"&&b in L)?ql(L[b],m):!1}function rw(m,b){if(nr(m))return!1;var L=typeof m;return L=="number"||L=="symbol"||L=="boolean"||m==null||Uo(m)?!0:Pa.test(m)||!ha.test(m)||b!=null&&m in un(b)}function tI(m){var b=typeof m;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?m!=="__proto__":m===null}function iw(m){var b=Wm(m),L=we[b];if(typeof L!="function"||!(b in pr.prototype))return!1;if(m===L)return!0;var V=ew(L);return!!V&&m===V[0]}function nI(m){return!!us&&us in m}var rI=Si?mu:bw;function A1(m){var b=m&&m.constructor,L=typeof b=="function"&&b.prototype||Wr;return m===L}function cN(m){return m===m&&!Gi(m)}function uN(m,b){return function(L){return L==null?!1:L[m]===b&&(b!==n||m in un(L))}}function iI(m){var b=Gm(m,function(V){return L.size===f&&L.clear(),V}),L=b.cache;return b}function aI(m,b){var L=m[1],V=b[1],le=L|V,ke=le<(A|j|R),We=V==R&&L==D||V==R&&L==B&&m[7].length<=b[8]||V==(R|B)&&b[7].length<=b[8]&&L==D;if(!(ke||We))return m;V&A&&(m[2]=b[2],le|=L&A?0:k);var Xe=b[3];if(Xe){var st=m[3];m[3]=st?$3(st,Xe,b[4]):Xe,m[4]=st?re(m[3],p):b[4]}return Xe=b[5],Xe&&(st=m[5],m[5]=st?Y3(st,Xe,b[6]):Xe,m[6]=st?re(m[5],p):b[6]),Xe=b[7],Xe&&(m[7]=Xe),V&R&&(m[8]=m[8]==null?b[8]:Ka(m[8],b[8])),m[9]==null&&(m[9]=b[9]),m[0]=b[0],m[1]=le,m}function sI(m){var b=[];if(m!=null)for(var L in un(m))b.push(L);return b}function oI(m){return qr.call(m)}function dN(m,b,L){return b=va(b===n?m.length-1:b,0),function(){for(var V=arguments,le=-1,ke=va(V.length-b,0),We=Ce(ke);++le<ke;)We[le]=V[b+le];le=-1;for(var Xe=Ce(b+1);++le<b;)Xe[le]=V[le];return Xe[b]=L(We),Pi(m,this,Xe)}}function fN(m,b){return b.length<2?m:ji(m,Gs(b,0,-1))}function lI(m,b){for(var L=m.length,V=Ka(b.length,L),le=yo(m);V--;){var ke=b[V];m[V]=pu(ke,L)?le[ke]:n}return m}function aw(m,b){if(!(b==="constructor"&&typeof m[b]=="function")&&b!="__proto__")return m[b]}var hN=mN(If),j1=wm||function(m,b){return Ai.setTimeout(m,b)},sw=mN(Ec);function pN(m,b,L){var V=b+"";return sw(m,JL(V,cI(KL(V),L)))}function mN(m){var b=0,L=0;return function(){var V=Dv(),le=J-(V-L);if(L=V,le>0){if(++b>=W)return arguments[0]}else b=0;return m.apply(n,arguments)}}function Hm(m,b){var L=-1,V=m.length,le=V-1;for(b=b===n?V:b;++L<b;){var ke=gd(L,le),We=m[ke];m[ke]=m[L],m[L]=We}return m.length=b,m}var xN=iI(function(m){var b=[];return m.charCodeAt(0)===46&&b.push(""),m.replace(vn,function(L,V,le,ke){b.push(le?ke.replace(Oe,"$1"):V||L)}),b});function Tc(m){if(typeof m=="string"||Uo(m))return m;var b=m+"";return b=="0"&&1/m==-Ae?"-0":b}function A0(m){if(m!=null){try{return Ta.call(m)}catch{}try{return m+""}catch{}}return""}function cI(m,b){return xa(Q,function(L){var V="_."+L[0];b&L[1]&&!li(m,V)&&m.push(V)}),m.sort()}function gN(m){if(m instanceof pr)return m.clone();var b=new $s(m.__wrapped__,m.__chain__);return b.__actions__=yo(m.__actions__),b.__index__=m.__index__,b.__values__=m.__values__,b}function uI(m,b,L){(L?Ks(m,b,L):b===n)?b=1:b=va(lr(b),0);var V=m==null?0:m.length;if(!V||b<1)return[];for(var le=0,ke=0,We=Ce(ad(V/b));le<V;)We[ke++]=Gs(m,le,le+=b);return We}function dI(m){for(var b=-1,L=m==null?0:m.length,V=0,le=[];++b<L;){var ke=m[b];ke&&(le[V++]=ke)}return le}function fI(){var m=arguments.length;if(!m)return[];for(var b=Ce(m-1),L=arguments[0],V=m;V--;)b[V-1]=arguments[V];return qa(nr(L)?yo(L):[L],vr(b,1))}var hI=ir(function(m,b){return wa(m)?mr(m,vr(b,1,wa,!0)):[]}),pI=ir(function(m,b){var L=dl(b);return wa(L)&&(L=n),wa(m)?mr(m,vr(b,1,wa,!0),Fn(L,2)):[]}),mI=ir(function(m,b){var L=dl(b);return wa(L)&&(L=n),wa(m)?mr(m,vr(b,1,wa,!0),n,L):[]});function xI(m,b,L){var V=m==null?0:m.length;return V?(b=L||b===n?1:lr(b),Gs(m,b<0?0:b,V)):[]}function gI(m,b,L){var V=m==null?0:m.length;return V?(b=L||b===n?1:lr(b),b=V-b,Gs(m,0,b<0?0:b)):[]}function vI(m,b){return m&&m.length?yd(m,Fn(b,3),!0,!0):[]}function wI(m,b){return m&&m.length?yd(m,Fn(b,3),!0):[]}function yI(m,b,L,V){var le=m==null?0:m.length;return le?(L&&typeof L!="number"&&Ks(m,b,L)&&(L=0,V=le),ra(m,b,L,V)):[]}function vN(m,b,L){var V=m==null?0:m.length;if(!V)return-1;var le=L==null?0:lr(L);return le<0&&(le=va(V+le,0)),Et(m,Fn(b,3),le)}function wN(m,b,L){var V=m==null?0:m.length;if(!V)return-1;var le=V-1;return L!==n&&(le=lr(L),le=L<0?va(V+le,0):Ka(le,V-1)),Et(m,Fn(b,3),le,!0)}function yN(m){var b=m==null?0:m.length;return b?vr(m,1):[]}function bI(m){var b=m==null?0:m.length;return b?vr(m,Ae):[]}function NI(m,b){var L=m==null?0:m.length;return L?(b=b===n?1:lr(b),vr(m,b)):[]}function _I(m){for(var b=-1,L=m==null?0:m.length,V={};++b<L;){var le=m[b];V[le[0]]=le[1]}return V}function bN(m){return m&&m.length?m[0]:n}function SI(m,b,L){var V=m==null?0:m.length;if(!V)return-1;var le=L==null?0:lr(L);return le<0&&(le=va(V+le,0)),Dt(m,b,le)}function CI(m){var b=m==null?0:m.length;return b?Gs(m,0,-1):[]}var EI=ir(function(m){var b=In(m,cl);return b.length&&b[0]===m[0]?Nc(b):[]}),AI=ir(function(m){var b=dl(m),L=In(m,cl);return b===dl(L)?b=n:L.pop(),L.length&&L[0]===m[0]?Nc(L,Fn(b,2)):[]}),jI=ir(function(m){var b=dl(m),L=In(m,cl);return b=typeof b=="function"?b:n,b&&L.pop(),L.length&&L[0]===m[0]?Nc(L,n,b):[]});function kI(m,b){return m==null?"":Iv.call(m,b)}function dl(m){var b=m==null?0:m.length;return b?m[b-1]:n}function TI(m,b,L){var V=m==null?0:m.length;if(!V)return-1;var le=V;return L!==n&&(le=lr(L),le=le<0?va(V+le,0):Ka(le,V-1)),b===b?x(m,b,le):Et(m,Cn,le,!0)}function LI(m,b){return m&&m.length?Im(m,lr(b)):n}var II=ir(NN);function NN(m,b){return m&&m.length&&b&&b.length?Tf(m,b):m}function DI(m,b,L){return m&&m.length&&b&&b.length?Tf(m,b,Fn(L,2)):m}function OI(m,b,L){return m&&m.length&&b&&b.length?Tf(m,b,n,L):m}var RI=hu(function(m,b){var L=m==null?0:m.length,V=ln(m,b);return N1(m,In(b,function(le){return pu(le,L)?+le:le}).sort(V3)),V});function MI(m,b){var L=[];if(!(m&&m.length))return L;var V=-1,le=[],ke=m.length;for(b=Fn(b,3);++V<ke;){var We=m[V];b(We,V,m)&&(L.push(We),le.push(V))}return N1(m,le),L}function ow(m){return m==null?m:x1.call(m)}function PI(m,b,L){var V=m==null?0:m.length;return V?(L&&typeof L!="number"&&Ks(m,b,L)?(b=0,L=V):(b=b==null?0:lr(b),L=L===n?V:lr(L)),Gs(m,b,L)):[]}function FI(m,b){return S0(m,b)}function BI(m,b,L){return Ac(m,b,Fn(L,2))}function UI(m,b){var L=m==null?0:m.length;if(L){var V=S0(m,b);if(V<L&&ql(m[V],b))return V}return-1}function zI(m,b){return S0(m,b,!0)}function WI(m,b,L){return Ac(m,b,Fn(L,2),!0)}function qI(m,b){var L=m==null?0:m.length;if(L){var V=S0(m,b,!0)-1;if(ql(m[V],b))return V}return-1}function HI(m){return m&&m.length?Rm(m):[]}function VI(m,b){return m&&m.length?Rm(m,Fn(b,2)):[]}function $I(m){var b=m==null?0:m.length;return b?Gs(m,1,b):[]}function YI(m,b,L){return m&&m.length?(b=L||b===n?1:lr(b),Gs(m,0,b<0?0:b)):[]}function GI(m,b,L){var V=m==null?0:m.length;return V?(b=L||b===n?1:lr(b),b=V-b,Gs(m,b<0?0:b,V)):[]}function XI(m,b){return m&&m.length?yd(m,Fn(b,3),!1,!0):[]}function KI(m,b){return m&&m.length?yd(m,Fn(b,3)):[]}var QI=ir(function(m){return zl(vr(m,1,wa,!0))}),ZI=ir(function(m){var b=dl(m);return wa(b)&&(b=n),zl(vr(m,1,wa,!0),Fn(b,2))}),JI=ir(function(m){var b=dl(m);return b=typeof b=="function"?b:n,zl(vr(m,1,wa,!0),n,b)});function eD(m){return m&&m.length?zl(m):[]}function tD(m,b){return m&&m.length?zl(m,Fn(b,2)):[]}function nD(m,b){return b=typeof b=="function"?b:n,m&&m.length?zl(m,n,b):[]}function lw(m){if(!(m&&m.length))return[];var b=0;return m=cs(m,function(L){if(wa(L))return b=va(L.length,b),!0}),ta(b,function(L){return In(m,Pn(L))})}function _N(m,b){if(!(m&&m.length))return[];var L=lw(m);return b==null?L:In(L,function(V){return Pi(b,n,V)})}var rD=ir(function(m,b){return wa(m)?mr(m,b):[]}),iD=ir(function(m){return Bo(cs(m,wa))}),aD=ir(function(m){var b=dl(m);return wa(b)&&(b=n),Bo(cs(m,wa),Fn(b,2))}),sD=ir(function(m){var b=dl(m);return b=typeof b=="function"?b:n,Bo(cs(m,wa),n,b)}),oD=ir(lw);function lD(m,b){return Wl(m||[],b||[],St)}function cD(m,b){return Wl(m||[],b||[],vd)}var uD=ir(function(m){var b=m.length,L=b>1?m[b-1]:n;return L=typeof L=="function"?(m.pop(),L):n,_N(m,L)});function SN(m){var b=we(m);return b.__chain__=!0,b}function dD(m,b){return b(m),m}function Vm(m,b){return b(m)}var fD=hu(function(m){var b=m.length,L=b?m[0]:0,V=this.__wrapped__,le=function(ke){return ln(ke,m)};return b>1||this.__actions__.length||!(V instanceof pr)||!pu(L)?this.thru(le):(V=V.slice(L,+L+(b?1:0)),V.__actions__.push({func:Vm,args:[le],thisArg:n}),new $s(V,this.__chain__).thru(function(ke){return b&&!ke.length&&ke.push(n),ke}))});function hD(){return SN(this)}function pD(){return new $s(this.value(),this.__chain__)}function mD(){this.__values__===n&&(this.__values__=FN(this.value()));var m=this.__index__>=this.__values__.length,b=m?n:this.__values__[this.__index__++];return{done:m,value:b}}function xD(){return this}function gD(m){for(var b,L=this;L instanceof b0;){var V=gN(L);V.__index__=0,V.__values__=n,b?le.__wrapped__=V:b=V;var le=V;L=L.__wrapped__}return le.__wrapped__=m,b}function vD(){var m=this.__wrapped__;if(m instanceof pr){var b=m;return this.__actions__.length&&(b=new pr(this)),b=b.reverse(),b.__actions__.push({func:Vm,args:[ow],thisArg:n}),new $s(b,this.__chain__)}return this.thru(ow)}function wD(){return C0(this.__wrapped__,this.__actions__)}var yD=Pm(function(m,b,L){rr.call(m,L)?++m[L]:It(m,L,1)});function bD(m,b,L){var V=nr(m)?gc:Gr;return L&&Ks(m,b,L)&&(b=n),V(m,Fn(b,3))}function ND(m,b){var L=nr(m)?cs:fs;return L(m,Fn(b,3))}var _D=Q3(vN),SD=Q3(wN);function CD(m,b){return vr($m(m,b),1)}function ED(m,b){return vr($m(m,b),Ae)}function AD(m,b,L){return L=L===n?1:lr(L),vr($m(m,b),L)}function CN(m,b){var L=nr(m)?xa:Zn;return L(m,Fn(b,3))}function EN(m,b){var L=nr(m)?su:Yr;return L(m,Fn(b,3))}var jD=Pm(function(m,b,L){rr.call(m,L)?m[L].push(b):It(m,L,[b])});function kD(m,b,L,V){m=bo(m)?m:Bf(m),L=L&&!V?lr(L):0;var le=m.length;return L<0&&(L=va(le+L,0)),Qm(m)?L<=le&&m.indexOf(b,L)>-1:!!le&&Dt(m,b,L)>-1}var TD=ir(function(m,b,L){var V=-1,le=typeof b=="function",ke=bo(m)?Ce(m.length):[];return Zn(m,function(We){ke[++V]=le?Pi(b,We,L):pi(We,b,L)}),ke}),LD=Pm(function(m,b,L){It(m,L,b)});function $m(m,b){var L=nr(m)?In:md;return L(m,Fn(b,3))}function ID(m,b,L,V){return m==null?[]:(nr(b)||(b=b==null?[]:[b]),L=V?n:L,nr(L)||(L=L==null?[]:[L]),Dm(m,b,L))}var DD=Pm(function(m,b,L){m[L?0:1].push(b)},function(){return[[],[]]});function OD(m,b,L){var V=nr(m)?ka:ci,le=arguments.length<3;return V(m,Fn(b,4),L,le,Zn)}function RD(m,b,L){var V=nr(m)?Cr:ci,le=arguments.length<3;return V(m,Fn(b,4),L,le,Yr)}function MD(m,b){var L=nr(m)?cs:fs;return L(m,Xm(Fn(b,3)))}function PD(m){var b=nr(m)?ut:Yv;return b(m)}function FD(m,b,L){(L?Ks(m,b,L):b===n)?b=1:b=lr(b);var V=nr(m)?dt:Lf;return V(m,b)}function BD(m){var b=nr(m)?tt:Om;return b(m)}function UD(m){if(m==null)return 0;if(bo(m))return Qm(m)?v(m):m.length;var b=js(m);return b==yt||b==qe?m.size:hd(m).length}function zD(m,b,L){var V=nr(m)?O:Gv;return L&&Ks(m,b,L)&&(b=n),V(m,Fn(b,3))}var WD=ir(function(m,b){if(m==null)return[];var L=b.length;return L>1&&Ks(m,b[0],b[1])?b=[]:L>2&&Ks(b[0],b[1],b[2])&&(b=[b[0]]),Dm(m,vr(b,1),[])}),Ym=p1||function(){return Ai.Date.now()};function qD(m,b){if(typeof b!="function")throw new Pr(o);return m=lr(m),function(){if(--m<1)return b.apply(this,arguments)}}function AN(m,b,L){return b=L?n:b,b=m&&b==null?m.length:b,fu(m,R,n,n,n,n,b)}function jN(m,b){var L;if(typeof b!="function")throw new Pr(o);return m=lr(m),function(){return--m>0&&(L=b.apply(this,arguments)),m<=1&&(b=n),L}}var cw=ir(function(m,b,L){var V=A;if(L.length){var le=re(L,Pf(cw));V|=Y}return fu(m,V,b,L,le)}),kN=ir(function(m,b,L){var V=A|j;if(L.length){var le=re(L,Pf(kN));V|=Y}return fu(b,V,m,L,le)});function TN(m,b,L){b=L?n:b;var V=fu(m,D,n,n,n,n,n,b);return V.placeholder=TN.placeholder,V}function LN(m,b,L){b=L?n:b;var V=fu(m,P,n,n,n,n,n,b);return V.placeholder=LN.placeholder,V}function IN(m,b,L){var V,le,ke,We,Xe,st,Mt=0,Pt=!1,qt=!1,on=!0;if(typeof m!="function")throw new Pr(o);b=fl(b)||0,Gi(L)&&(Pt=!!L.leading,qt="maxWait"in L,ke=qt?va(fl(L.maxWait)||0,b):ke,on="trailing"in L?!!L.trailing:on);function En(ya){var Hl=V,gu=le;return V=le=n,Mt=ya,We=m.apply(gu,Hl),We}function zn(ya){return Mt=ya,Xe=j1(yr,b),Pt?En(ya):We}function dr(ya){var Hl=ya-st,gu=ya-Mt,QN=b-Hl;return qt?Ka(QN,ke-gu):QN}function Wn(ya){var Hl=ya-st,gu=ya-Mt;return st===n||Hl>=b||Hl<0||qt&&gu>=ke}function yr(){var ya=Ym();if(Wn(ya))return Er(ya);Xe=j1(yr,dr(ya))}function Er(ya){return Xe=n,on&&V?En(ya):(V=le=n,We)}function zo(){Xe!==n&&Df(Xe),Mt=0,V=st=le=Xe=n}function Qs(){return Xe===n?We:Er(Ym())}function Wo(){var ya=Ym(),Hl=Wn(ya);if(V=arguments,le=this,st=ya,Hl){if(Xe===n)return zn(st);if(qt)return Df(Xe),Xe=j1(yr,b),En(st)}return Xe===n&&(Xe=j1(yr,b)),We}return Wo.cancel=zo,Wo.flush=Qs,Wo}var HD=ir(function(m,b){return Fr(m,1,b)}),VD=ir(function(m,b,L){return Fr(m,fl(b)||0,L)});function $D(m){return fu(m,q)}function Gm(m,b){if(typeof m!="function"||b!=null&&typeof b!="function")throw new Pr(o);var L=function(){var V=arguments,le=b?b.apply(this,V):V[0],ke=L.cache;if(ke.has(le))return ke.get(le);var We=m.apply(this,V);return L.cache=ke.set(le,We)||ke,We};return L.cache=new(Gm.Cache||ll),L}Gm.Cache=ll;function Xm(m){if(typeof m!="function")throw new Pr(o);return function(){var b=arguments;switch(b.length){case 0:return!m.call(this);case 1:return!m.call(this,b[0]);case 2:return!m.call(this,b[0],b[1]);case 3:return!m.call(this,b[0],b[1],b[2])}return!m.apply(this,b)}}function YD(m){return jN(2,m)}var GD=Mm(function(m,b){b=b.length==1&&nr(b[0])?In(b[0],_r(Fn())):In(vr(b,1),_r(Fn()));var L=b.length;return ir(function(V){for(var le=-1,ke=Ka(V.length,L);++le<ke;)V[le]=b[le].call(this,V[le]);return Pi(m,this,V)})}),uw=ir(function(m,b){var L=re(b,Pf(uw));return fu(m,Y,n,b,L)}),DN=ir(function(m,b){var L=re(b,Pf(DN));return fu(m,z,n,b,L)}),XD=hu(function(m,b){return fu(m,B,n,n,n,b)});function KD(m,b){if(typeof m!="function")throw new Pr(o);return b=b===n?b:lr(b),ir(m,b)}function QD(m,b){if(typeof m!="function")throw new Pr(o);return b=b==null?0:va(lr(b),0),ir(function(L){var V=L[b],le=jc(L,0,b);return V&&qa(le,V),Pi(m,this,le)})}function ZD(m,b,L){var V=!0,le=!0;if(typeof m!="function")throw new Pr(o);return Gi(L)&&(V="leading"in L?!!L.leading:V,le="trailing"in L?!!L.trailing:le),IN(m,b,{leading:V,maxWait:b,trailing:le})}function JD(m){return AN(m,1)}function e9(m,b){return uw(bd(b),m)}function t9(){if(!arguments.length)return[];var m=arguments[0];return nr(m)?m:[m]}function n9(m){return wn(m,y)}function r9(m,b){return b=typeof b=="function"?b:n,wn(m,y,b)}function i9(m){return wn(m,g|y)}function a9(m,b){return b=typeof b=="function"?b:n,wn(m,g|y,b)}function s9(m,b){return b==null||Ar(m,b,Ja(b))}function ql(m,b){return m===b||m!==m&&b!==b}var o9=zm(wo),l9=zm(function(m,b){return m>=b}),j0=Ef(function(){return arguments}())?Ef:function(m){return ia(m)&&rr.call(m,"callee")&&!As.call(m,"callee")},nr=Ce.isArray,c9=Po?_r(Po):Am;function bo(m){return m!=null&&Km(m.length)&&!mu(m)}function wa(m){return ia(m)&&bo(m)}function u9(m){return m===!0||m===!1||ia(m)&&hi(m)==Fe}var Nd=m1||bw,d9=Wa?_r(Wa):jm;function f9(m){return ia(m)&&m.nodeType===1&&!k1(m)}function h9(m){if(m==null)return!0;if(bo(m)&&(nr(m)||typeof m=="string"||typeof m.splice=="function"||Nd(m)||Ff(m)||j0(m)))return!m.length;var b=js(m);if(b==yt||b==qe)return!m.size;if(A1(m))return!hd(m).length;for(var L in m)if(rr.call(m,L))return!1;return!0}function p9(m,b){return Sc(m,b)}function m9(m,b,L){L=typeof L=="function"?L:n;var V=L?L(m,b):n;return V===n?Sc(m,b,n,L):!!V}function dw(m){if(!ia(m))return!1;var b=hi(m);return b==pt||b==Ze||typeof m.message=="string"&&typeof m.name=="string"&&!k1(m)}function x9(m){return typeof m=="number"&&ym(m)}function mu(m){if(!Gi(m))return!1;var b=hi(m);return b==bt||b==Ye||b==be||b==rt}function ON(m){return typeof m=="number"&&m==lr(m)}function Km(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=ge}function Gi(m){var b=typeof m;return m!=null&&(b=="object"||b=="function")}function ia(m){return m!=null&&typeof m=="object"}var RN=rd?_r(rd):Af;function g9(m,b){return m===b||Ys(m,b,tw(b))}function v9(m,b,L){return L=typeof L=="function"?L:n,Ys(m,b,tw(b),L)}function w9(m){return MN(m)&&m!=+m}function y9(m){if(rI(m))throw new vt(a);return uu(m)}function b9(m){return m===null}function N9(m){return m==null}function MN(m){return typeof m=="number"||ia(m)&&hi(m)==it}function k1(m){if(!ia(m)||hi(m)!=He)return!1;var b=id(m);if(b===null)return!0;var L=rr.call(b,"constructor")&&b.constructor;return typeof L=="function"&&L instanceof L&&Ta.call(L)==fi}var fw=gt?_r(gt):fd;function _9(m){return ON(m)&&m>=-ge&&m<=ge}var PN=Kn?_r(Kn):km;function Qm(m){return typeof m=="string"||!nr(m)&&ia(m)&&hi(m)==Le}function Uo(m){return typeof m=="symbol"||ia(m)&&hi(m)==Nt}var Ff=Ni?_r(Ni):jf;function S9(m){return m===n}function C9(m){return ia(m)&&js(m)==wt}function E9(m){return ia(m)&&hi(m)==Vt}var A9=zm(pd),j9=zm(function(m,b){return m<=b});function FN(m){if(!m)return[];if(bo(m))return Qm(m)?N(m):yo(m);if(wc&&m[wc])return mo(m[wc]());var b=js(m),L=b==yt?tr:b==qe?l:Bf;return L(m)}function xu(m){if(!m)return m===0?m:0;if(m=fl(m),m===Ae||m===-Ae){var b=m<0?-1:1;return b*Be}return m===m?m:0}function lr(m){var b=xu(m),L=b%1;return b===b?L?b-L:b:0}function BN(m){return m?Jt(lr(m),0,ct):0}function fl(m){if(typeof m=="number")return m;if(Uo(m))return _e;if(Gi(m)){var b=typeof m.valueOf=="function"?m.valueOf():m;m=Gi(b)?b+"":b}if(typeof m!="string")return m===0?m:+m;m=Cs(m);var L=at.test(m);return L||xt.test(m)?ma(m.slice(2),L?2:8):_t.test(m)?_e:+m}function UN(m){return kc(m,No(m))}function k9(m){return m?Jt(lr(m),-ge,ge):m===0?m:0}function Xr(m){return m==null?"":Xs(m)}var T9=Rf(function(m,b){if(A1(b)||bo(b)){kc(b,Ja(b),m);return}for(var L in b)rr.call(b,L)&&St(m,L,b[L])}),zN=Rf(function(m,b){kc(b,No(b),m)}),Zm=Rf(function(m,b,L,V){kc(b,No(b),m,V)}),L9=Rf(function(m,b,L,V){kc(b,Ja(b),m,V)}),I9=hu(ln);function D9(m,b){var L=dd(m);return b==null?L:Ot(L,b)}var O9=ir(function(m,b){m=un(m);var L=-1,V=b.length,le=V>2?b[2]:n;for(le&&Ks(b[0],b[1],le)&&(V=1);++L<V;)for(var ke=b[L],We=No(ke),Xe=-1,st=We.length;++Xe<st;){var Mt=We[Xe],Pt=m[Mt];(Pt===n||ql(Pt,Wr[Mt])&&!rr.call(m,Mt))&&(m[Mt]=ke[Mt])}return m}),R9=ir(function(m){return m.push(n,iN),Pi(WN,n,m)});function M9(m,b){return nt(m,Fn(b,3),Bi)}function P9(m,b){return nt(m,Fn(b,3),hs)}function F9(m,b){return m==null?m:Qa(m,Fn(b,3),No)}function B9(m,b){return m==null?m:Br(m,Fn(b,3),No)}function U9(m,b){return m&&Bi(m,Fn(b,3))}function z9(m,b){return m&&hs(m,Fn(b,3))}function W9(m){return m==null?[]:Yi(m,Ja(m))}function q9(m){return m==null?[]:Yi(m,No(m))}function hw(m,b,L){var V=m==null?n:ji(m,b);return V===n?L:V}function H9(m,b){return m!=null&&oN(m,b,La)}function pw(m,b){return m!=null&&oN(m,b,Ul)}var V9=J3(function(m,b,L){b!=null&&typeof b.toString!="function"&&(b=qr.call(b)),m[b]=L},xw(_o)),$9=J3(function(m,b,L){b!=null&&typeof b.toString!="function"&&(b=qr.call(b)),rr.call(m,b)?m[b].push(L):m[b]=[L]},Fn),Y9=ir(pi);function Ja(m){return bo(m)?Qe(m):hd(m)}function No(m){return bo(m)?Qe(m,!0):y1(m)}function G9(m,b){var L={};return b=Fn(b,3),Bi(m,function(V,le,ke){It(L,b(V,le,ke),V)}),L}function X9(m,b){var L={};return b=Fn(b,3),Bi(m,function(V,le,ke){It(L,le,b(V,le,ke))}),L}var K9=Rf(function(m,b,L){xd(m,b,L)}),WN=Rf(function(m,b,L,V){xd(m,b,L,V)}),Q9=hu(function(m,b){var L={};if(m==null)return L;var V=!1;b=In(b,function(ke){return ke=ul(ke,m),V||(V=ke.length>1),ke}),kc(m,Jv(m),L),V&&(L=wn(L,g|w|y,VL));for(var le=b.length;le--;)C1(L,b[le]);return L});function Z9(m,b){return qN(m,Xm(Fn(b)))}var J9=hu(function(m,b){return m==null?{}:$v(m,b)});function qN(m,b){if(m==null)return{};var L=In(Jv(m),function(V){return[V]});return b=Fn(b),b1(m,L,function(V,le){return b(V,le[0])})}function eO(m,b,L){b=ul(b,m);var V=-1,le=b.length;for(le||(le=1,m=n);++V<le;){var ke=m==null?n:m[Tc(b[V])];ke===n&&(V=le,ke=L),m=mu(ke)?ke.call(m):ke}return m}function tO(m,b,L){return m==null?m:vd(m,b,L)}function nO(m,b,L,V){return V=typeof V=="function"?V:n,m==null?m:vd(m,b,L,V)}var HN=nN(Ja),VN=nN(No);function rO(m,b,L){var V=nr(m),le=V||Nd(m)||Ff(m);if(b=Fn(b,4),L==null){var ke=m&&m.constructor;le?L=V?new ke:[]:Gi(m)?L=mu(ke)?dd(id(m)):{}:L={}}return(le?xa:Bi)(m,function(We,Xe,st){return b(L,We,Xe,st)}),L}function iO(m,b){return m==null?!0:C1(m,b)}function aO(m,b,L){return m==null?m:wd(m,b,bd(L))}function sO(m,b,L,V){return V=typeof V=="function"?V:n,m==null?m:wd(m,b,bd(L),V)}function Bf(m){return m==null?[]:Ha(m,Ja(m))}function oO(m){return m==null?[]:Ha(m,No(m))}function lO(m,b,L){return L===n&&(L=b,b=n),L!==n&&(L=fl(L),L=L===L?L:0),b!==n&&(b=fl(b),b=b===b?b:0),Jt(fl(m),b,L)}function cO(m,b,L){return b=xu(b),L===n?(L=b,b=0):L=xu(L),m=fl(m),cu(m,b,L)}function uO(m,b,L){if(L&&typeof L!="boolean"&&Ks(m,b,L)&&(b=L=n),L===n&&(typeof b=="boolean"?(L=b,b=n):typeof m=="boolean"&&(L=m,m=n)),m===n&&b===n?(m=0,b=1):(m=xu(m),b===n?(b=m,m=0):b=xu(b)),m>b){var V=m;m=b,b=V}if(L||m%1||b%1){var le=Nm();return Ka(m+le*(b-m+ho("1e-"+((le+"").length-1))),b)}return gd(m,b)}var dO=Mf(function(m,b,L){return b=b.toLowerCase(),m+(L?$N(b):b)});function $N(m){return mw(Xr(m).toLowerCase())}function YN(m){return m=Xr(m),m&&m.replace(Wt,Ol).replace(ed,"")}function fO(m,b,L){m=Xr(m),b=Xs(b);var V=m.length;L=L===n?V:Jt(lr(L),0,V);var le=L;return L-=b.length,L>=0&&m.slice(L,le)==b}function hO(m){return m=Xr(m),m&&Mn.test(m)?m.replace(ea,ou):m}function pO(m){return m=Xr(m),m&&Oi.test(m)?m.replace(Fa,"\\$&"):m}var mO=Mf(function(m,b,L){return m+(L?"-":"")+b.toLowerCase()}),xO=Mf(function(m,b,L){return m+(L?" ":"")+b.toLowerCase()}),gO=K3("toLowerCase");function vO(m,b,L){m=Xr(m),b=lr(b);var V=b?v(m):0;if(!b||V>=b)return m;var le=(b-V)/2;return Um(sd(le),L)+m+Um(ad(le),L)}function wO(m,b,L){m=Xr(m),b=lr(b);var V=b?v(m):0;return b&&V<b?m+Um(b-V,L):m}function yO(m,b,L){m=Xr(m),b=lr(b);var V=b?v(m):0;return b&&V<b?Um(b-V,L)+m:m}function bO(m,b,L){return L||b==null?b=0:b&&(b=+b),Ov(Xr(m).replace(Ri,""),b||0)}function NO(m,b,L){return(L?Ks(m,b,L):b===n)?b=1:b=lr(b),du(Xr(m),b)}function _O(){var m=arguments,b=Xr(m[0]);return m.length<3?b:b.replace(m[1],m[2])}var SO=Mf(function(m,b,L){return m+(L?"_":"")+b.toLowerCase()});function CO(m,b,L){return L&&typeof L!="number"&&Ks(m,b,L)&&(b=L=n),L=L===n?ct:L>>>0,L?(m=Xr(m),m&&(typeof b=="string"||b!=null&&!fw(b))&&(b=Xs(b),!b&&Hs(m))?jc(N(m),0,L):m.split(b,L)):[]}var EO=Mf(function(m,b,L){return m+(L?" ":"")+mw(b)});function AO(m,b,L){return m=Xr(m),L=L==null?0:Jt(lr(L),0,m.length),b=Xs(b),m.slice(L,L+b.length)==b}function jO(m,b,L){var V=we.templateSettings;L&&Ks(m,b,L)&&(b=n),m=Xr(m),b=Zm({},b,V,rN);var le=Zm({},b.imports,V.imports,rN),ke=Ja(le),We=Ha(le,ke),Xe,st,Mt=0,Pt=b.interpolate||zt,qt="__p += '",on=Rn((b.escape||zt).source+"|"+Pt.source+"|"+(Pt===hr?Pe:zt).source+"|"+(b.evaluate||zt).source+"|$","g"),En="//# sourceURL="+(rr.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ro+"]")+`
`;m.replace(on,function(Wn,yr,Er,zo,Qs,Wo){return Er||(Er=zo),qt+=m.slice(Mt,Wo).replace(Yt,Rl),yr&&(Xe=!0,qt+=`' +
__e(`+yr+`) +
'`),Qs&&(st=!0,qt+=`';
`+Qs+`;
__p += '`),Er&&(qt+=`' +
((__t = (`+Er+`)) == null ? '' : __t) +
'`),Mt=Wo+Wn.length,Wn}),qt+=`';
`;var zn=rr.call(b,"variable")&&b.variable;if(!zn)qt=`with (obj) {
`+qt+`
}
`;else if(Te.test(zn))throw new vt(c);qt=(st?qt.replace(Nn,""):qt).replace(yi,"$1").replace(jr,"$1;"),qt="function("+(zn||"obj")+`) {
`+(zn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Xe?", __e = _.escape":"")+(st?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+qt+`return __p
}`;var dr=XN(function(){return jt(ke,En+"return "+qt).apply(n,We)});if(dr.source=qt,dw(dr))throw dr;return dr}function kO(m){return Xr(m).toLowerCase()}function TO(m){return Xr(m).toUpperCase()}function LO(m,b,L){if(m=Xr(m),m&&(L||b===n))return Cs(m);if(!m||!(b=Xs(b)))return m;var V=N(m),le=N(b),ke=Dl(V,le),We=Va(V,le)+1;return jc(V,ke,We).join("")}function IO(m,b,L){if(m=Xr(m),m&&(L||b===n))return m.slice(0,C(m)+1);if(!m||!(b=Xs(b)))return m;var V=N(m),le=Va(V,N(b))+1;return jc(V,0,le).join("")}function DO(m,b,L){if(m=Xr(m),m&&(L||b===n))return m.replace(Ri,"");if(!m||!(b=Xs(b)))return m;var V=N(m),le=Dl(V,N(b));return jc(V,le).join("")}function OO(m,b){var L=te,V=H;if(Gi(b)){var le="separator"in b?b.separator:le;L="length"in b?lr(b.length):L,V="omission"in b?Xs(b.omission):V}m=Xr(m);var ke=m.length;if(Hs(m)){var We=N(m);ke=We.length}if(L>=ke)return m;var Xe=L-v(V);if(Xe<1)return V;var st=We?jc(We,0,Xe).join(""):m.slice(0,Xe);if(le===n)return st+V;if(We&&(Xe+=st.length-Xe),fw(le)){if(m.slice(Xe).search(le)){var Mt,Pt=st;for(le.global||(le=Rn(le.source,Xr(ot.exec(le))+"g")),le.lastIndex=0;Mt=le.exec(Pt);)var qt=Mt.index;st=st.slice(0,qt===n?Xe:qt)}}else if(m.indexOf(Xs(le),Xe)!=Xe){var on=st.lastIndexOf(le);on>-1&&(st=st.slice(0,on))}return st+V}function RO(m){return m=Xr(m),m&&Or.test(m)?m.replace(Bn,I):m}var MO=Mf(function(m,b,L){return m+(L?" ":"")+b.toUpperCase()}),mw=K3("toUpperCase");function GN(m,b,L){return m=Xr(m),b=L?n:b,b===n?sl(m)?ie(m):Ve(m):m.match(b)||[]}var XN=ir(function(m,b){try{return Pi(m,n,b)}catch(L){return dw(L)?L:new vt(L)}}),PO=hu(function(m,b){return xa(b,function(L){L=Tc(L),It(m,L,cw(m[L],m))}),m});function FO(m){var b=m==null?0:m.length,L=Fn();return m=b?In(m,function(V){if(typeof V[1]!="function")throw new Pr(o);return[L(V[0]),V[1]]}):[],ir(function(V){for(var le=-1;++le<b;){var ke=m[le];if(Pi(ke[0],this,V))return Pi(ke[1],this,V)}})}function BO(m){return an(wn(m,g))}function xw(m){return function(){return m}}function UO(m,b){return m==null||m!==m?b:m}var zO=Z3(),WO=Z3(!0);function _o(m){return m}function gw(m){return w1(typeof m=="function"?m:wn(m,g))}function qO(m){return Tm(wn(m,g))}function HO(m,b){return Lm(m,wn(b,g))}var VO=ir(function(m,b){return function(L){return pi(L,m,b)}}),$O=ir(function(m,b){return function(L){return pi(m,L,b)}});function vw(m,b,L){var V=Ja(b),le=Yi(b,V);L==null&&!(Gi(b)&&(le.length||!V.length))&&(L=b,b=m,m=this,le=Yi(b,Ja(b)));var ke=!(Gi(L)&&"chain"in L)||!!L.chain,We=mu(m);return xa(le,function(Xe){var st=b[Xe];m[Xe]=st,We&&(m.prototype[Xe]=function(){var Mt=this.__chain__;if(ke||Mt){var Pt=m(this.__wrapped__),qt=Pt.__actions__=yo(this.__actions__);return qt.push({func:st,args:arguments,thisArg:m}),Pt.__chain__=Mt,Pt}return st.apply(m,qa([this.value()],arguments))})}),m}function YO(){return Ai._===this&&(Ai._=$i),this}function ww(){}function GO(m){return m=lr(m),ir(function(b){return Im(b,m)})}var XO=Kv(In),KO=Kv(gc),QO=Kv(O);function KN(m){return rw(m)?Pn(Tc(m)):kf(m)}function ZO(m){return function(b){return m==null?n:ji(m,b)}}var JO=eN(),eR=eN(!0);function yw(){return[]}function bw(){return!1}function tR(){return{}}function nR(){return""}function rR(){return!0}function iR(m,b){if(m=lr(m),m<1||m>ge)return[];var L=ct,V=Ka(m,ct);b=Fn(b),m-=ct;for(var le=ta(V,b);++L<m;)b(L);return le}function aR(m){return nr(m)?In(m,Tc):Uo(m)?[m]:yo(xN(Xr(m)))}function sR(m){var b=++Es;return Xr(m)+b}var oR=Bm(function(m,b){return m+b},0),lR=Qv("ceil"),cR=Bm(function(m,b){return m/b},1),uR=Qv("floor");function dR(m){return m&&m.length?Yn(m,_o,wo):n}function fR(m,b){return m&&m.length?Yn(m,Fn(b,2),wo):n}function hR(m){return Un(m,_o)}function pR(m,b){return Un(m,Fn(b,2))}function mR(m){return m&&m.length?Yn(m,_o,pd):n}function xR(m,b){return m&&m.length?Yn(m,Fn(b,2),pd):n}var gR=Bm(function(m,b){return m*b},1),vR=Qv("round"),wR=Bm(function(m,b){return m-b},0);function yR(m){return m&&m.length?ui(m,_o):0}function bR(m,b){return m&&m.length?ui(m,Fn(b,2)):0}return we.after=qD,we.ary=AN,we.assign=T9,we.assignIn=zN,we.assignInWith=Zm,we.assignWith=L9,we.at=I9,we.before=jN,we.bind=cw,we.bindAll=PO,we.bindKey=kN,we.castArray=t9,we.chain=SN,we.chunk=uI,we.compact=dI,we.concat=fI,we.cond=FO,we.conforms=BO,we.constant=xw,we.countBy=yD,we.create=D9,we.curry=TN,we.curryRight=LN,we.debounce=IN,we.defaults=O9,we.defaultsDeep=R9,we.defer=HD,we.delay=VD,we.difference=hI,we.differenceBy=pI,we.differenceWith=mI,we.drop=xI,we.dropRight=gI,we.dropRightWhile=vI,we.dropWhile=wI,we.fill=yI,we.filter=ND,we.flatMap=CD,we.flatMapDeep=ED,we.flatMapDepth=AD,we.flatten=yN,we.flattenDeep=bI,we.flattenDepth=NI,we.flip=$D,we.flow=zO,we.flowRight=WO,we.fromPairs=_I,we.functions=W9,we.functionsIn=q9,we.groupBy=jD,we.initial=CI,we.intersection=EI,we.intersectionBy=AI,we.intersectionWith=jI,we.invert=V9,we.invertBy=$9,we.invokeMap=TD,we.iteratee=gw,we.keyBy=LD,we.keys=Ja,we.keysIn=No,we.map=$m,we.mapKeys=G9,we.mapValues=X9,we.matches=qO,we.matchesProperty=HO,we.memoize=Gm,we.merge=K9,we.mergeWith=WN,we.method=VO,we.methodOf=$O,we.mixin=vw,we.negate=Xm,we.nthArg=GO,we.omit=Q9,we.omitBy=Z9,we.once=YD,we.orderBy=ID,we.over=XO,we.overArgs=GD,we.overEvery=KO,we.overSome=QO,we.partial=uw,we.partialRight=DN,we.partition=DD,we.pick=J9,we.pickBy=qN,we.property=KN,we.propertyOf=ZO,we.pull=II,we.pullAll=NN,we.pullAllBy=DI,we.pullAllWith=OI,we.pullAt=RI,we.range=JO,we.rangeRight=eR,we.rearg=XD,we.reject=MD,we.remove=MI,we.rest=KD,we.reverse=ow,we.sampleSize=FD,we.set=tO,we.setWith=nO,we.shuffle=BD,we.slice=PI,we.sortBy=WD,we.sortedUniq=HI,we.sortedUniqBy=VI,we.split=CO,we.spread=QD,we.tail=$I,we.take=YI,we.takeRight=GI,we.takeRightWhile=XI,we.takeWhile=KI,we.tap=dD,we.throttle=ZD,we.thru=Vm,we.toArray=FN,we.toPairs=HN,we.toPairsIn=VN,we.toPath=aR,we.toPlainObject=UN,we.transform=rO,we.unary=JD,we.union=QI,we.unionBy=ZI,we.unionWith=JI,we.uniq=eD,we.uniqBy=tD,we.uniqWith=nD,we.unset=iO,we.unzip=lw,we.unzipWith=_N,we.update=aO,we.updateWith=sO,we.values=Bf,we.valuesIn=oO,we.without=rD,we.words=GN,we.wrap=e9,we.xor=iD,we.xorBy=aD,we.xorWith=sD,we.zip=oD,we.zipObject=lD,we.zipObjectDeep=cD,we.zipWith=uD,we.entries=HN,we.entriesIn=VN,we.extend=zN,we.extendWith=Zm,vw(we,we),we.add=oR,we.attempt=XN,we.camelCase=dO,we.capitalize=$N,we.ceil=lR,we.clamp=lO,we.clone=n9,we.cloneDeep=i9,we.cloneDeepWith=a9,we.cloneWith=r9,we.conformsTo=s9,we.deburr=YN,we.defaultTo=UO,we.divide=cR,we.endsWith=fO,we.eq=ql,we.escape=hO,we.escapeRegExp=pO,we.every=bD,we.find=_D,we.findIndex=vN,we.findKey=M9,we.findLast=SD,we.findLastIndex=wN,we.findLastKey=P9,we.floor=uR,we.forEach=CN,we.forEachRight=EN,we.forIn=F9,we.forInRight=B9,we.forOwn=U9,we.forOwnRight=z9,we.get=hw,we.gt=o9,we.gte=l9,we.has=H9,we.hasIn=pw,we.head=bN,we.identity=_o,we.includes=kD,we.indexOf=SI,we.inRange=cO,we.invoke=Y9,we.isArguments=j0,we.isArray=nr,we.isArrayBuffer=c9,we.isArrayLike=bo,we.isArrayLikeObject=wa,we.isBoolean=u9,we.isBuffer=Nd,we.isDate=d9,we.isElement=f9,we.isEmpty=h9,we.isEqual=p9,we.isEqualWith=m9,we.isError=dw,we.isFinite=x9,we.isFunction=mu,we.isInteger=ON,we.isLength=Km,we.isMap=RN,we.isMatch=g9,we.isMatchWith=v9,we.isNaN=w9,we.isNative=y9,we.isNil=N9,we.isNull=b9,we.isNumber=MN,we.isObject=Gi,we.isObjectLike=ia,we.isPlainObject=k1,we.isRegExp=fw,we.isSafeInteger=_9,we.isSet=PN,we.isString=Qm,we.isSymbol=Uo,we.isTypedArray=Ff,we.isUndefined=S9,we.isWeakMap=C9,we.isWeakSet=E9,we.join=kI,we.kebabCase=mO,we.last=dl,we.lastIndexOf=TI,we.lowerCase=xO,we.lowerFirst=gO,we.lt=A9,we.lte=j9,we.max=dR,we.maxBy=fR,we.mean=hR,we.meanBy=pR,we.min=mR,we.minBy=xR,we.stubArray=yw,we.stubFalse=bw,we.stubObject=tR,we.stubString=nR,we.stubTrue=rR,we.multiply=gR,we.nth=LI,we.noConflict=YO,we.noop=ww,we.now=Ym,we.pad=vO,we.padEnd=wO,we.padStart=yO,we.parseInt=bO,we.random=uO,we.reduce=OD,we.reduceRight=RD,we.repeat=NO,we.replace=_O,we.result=eO,we.round=vR,we.runInContext=de,we.sample=PD,we.size=UD,we.snakeCase=SO,we.some=zD,we.sortedIndex=FI,we.sortedIndexBy=BI,we.sortedIndexOf=UI,we.sortedLastIndex=zI,we.sortedLastIndexBy=WI,we.sortedLastIndexOf=qI,we.startCase=EO,we.startsWith=AO,we.subtract=wR,we.sum=yR,we.sumBy=bR,we.template=jO,we.times=iR,we.toFinite=xu,we.toInteger=lr,we.toLength=BN,we.toLower=kO,we.toNumber=fl,we.toSafeInteger=k9,we.toString=Xr,we.toUpper=TO,we.trim=LO,we.trimEnd=IO,we.trimStart=DO,we.truncate=OO,we.unescape=RO,we.uniqueId=sR,we.upperCase=MO,we.upperFirst=mw,we.each=CN,we.eachRight=EN,we.first=bN,vw(we,function(){var m={};return Bi(we,function(b,L){rr.call(we.prototype,L)||(m[L]=b)}),m}(),{chain:!1}),we.VERSION=r,xa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(m){we[m].placeholder=we}),xa(["drop","take"],function(m,b){pr.prototype[m]=function(L){L=L===n?1:va(lr(L),0);var V=this.__filtered__&&!b?new pr(this):this.clone();return V.__filtered__?V.__takeCount__=Ka(L,V.__takeCount__):V.__views__.push({size:Ka(L,ct),type:m+(V.__dir__<0?"Right":"")}),V},pr.prototype[m+"Right"]=function(L){return this.reverse()[m](L).reverse()}}),xa(["filter","map","takeWhile"],function(m,b){var L=b+1,V=L==ue||L==ee;pr.prototype[m]=function(le){var ke=this.clone();return ke.__iteratees__.push({iteratee:Fn(le,3),type:L}),ke.__filtered__=ke.__filtered__||V,ke}}),xa(["head","last"],function(m,b){var L="take"+(b?"Right":"");pr.prototype[m]=function(){return this[L](1).value()[0]}}),xa(["initial","tail"],function(m,b){var L="drop"+(b?"":"Right");pr.prototype[m]=function(){return this.__filtered__?new pr(this):this[L](1)}}),pr.prototype.compact=function(){return this.filter(_o)},pr.prototype.find=function(m){return this.filter(m).head()},pr.prototype.findLast=function(m){return this.reverse().find(m)},pr.prototype.invokeMap=ir(function(m,b){return typeof m=="function"?new pr(this):this.map(function(L){return pi(L,m,b)})}),pr.prototype.reject=function(m){return this.filter(Xm(Fn(m)))},pr.prototype.slice=function(m,b){m=lr(m);var L=this;return L.__filtered__&&(m>0||b<0)?new pr(L):(m<0?L=L.takeRight(-m):m&&(L=L.drop(m)),b!==n&&(b=lr(b),L=b<0?L.dropRight(-b):L.take(b-m)),L)},pr.prototype.takeRightWhile=function(m){return this.reverse().takeWhile(m).reverse()},pr.prototype.toArray=function(){return this.take(ct)},Bi(pr.prototype,function(m,b){var L=/^(?:filter|find|map|reject)|While$/.test(b),V=/^(?:head|last)$/.test(b),le=we[V?"take"+(b=="last"?"Right":""):b],ke=V||/^find/.test(b);le&&(we.prototype[b]=function(){var We=this.__wrapped__,Xe=V?[1]:arguments,st=We instanceof pr,Mt=Xe[0],Pt=st||nr(We),qt=function(yr){var Er=le.apply(we,qa([yr],Xe));return V&&on?Er[0]:Er};Pt&&L&&typeof Mt=="function"&&Mt.length!=1&&(st=Pt=!1);var on=this.__chain__,En=!!this.__actions__.length,zn=ke&&!on,dr=st&&!En;if(!ke&&Pt){We=dr?We:new pr(this);var Wn=m.apply(We,Xe);return Wn.__actions__.push({func:Vm,args:[qt],thisArg:n}),new $s(Wn,on)}return zn&&dr?m.apply(this,Xe):(Wn=this.thru(qt),zn?V?Wn.value()[0]:Wn.value():Wn)})}),xa(["pop","push","shift","sort","splice","unshift"],function(m){var b=di[m],L=/^(?:push|sort|unshift)$/.test(m)?"tap":"thru",V=/^(?:pop|shift)$/.test(m);we.prototype[m]=function(){var le=arguments;if(V&&!this.__chain__){var ke=this.value();return b.apply(nr(ke)?ke:[],le)}return this[L](function(We){return b.apply(nr(We)?We:[],le)})}}),Bi(pr.prototype,function(m,b){var L=we[b];if(L){var V=L.name+"";rr.call(ud,V)||(ud[V]=[]),ud[V].push({name:b,func:L})}}),ud[Fm(n,j).name]=[{name:"wrapper",func:n}],pr.prototype.clone=_m,pr.prototype.reverse=Pv,pr.prototype.value=Sf,we.prototype.at=fD,we.prototype.chain=hD,we.prototype.commit=pD,we.prototype.next=mD,we.prototype.plant=gD,we.prototype.reverse=vD,we.prototype.toJSON=we.prototype.valueOf=we.prototype.value=wD,we.prototype.first=we.prototype.head,wc&&(we.prototype[wc]=xD),we},De=me();za?((za.exports=De)._=De,Ss._=De):Ai._=De}).call(no)})(lg,lg.exports);var Hj=lg.exports;const MY=({search:e,onApply:t,onDelete:n})=>s.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[s.jsx("button",{onClick:()=>t(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),s.jsx("button",{onClick:()=>n(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),ly=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),R8=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),PY=({equipmentData:e,onFilterChange:t,currentFilters:n,isLoading:r})=>{const a=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const u={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},f=new Date;return f.setDate(f.getDate()-7),e.forEach(p=>{p.status==="available"?u.available++:p.status==="in-use"?u.inUse++:p.status==="maintenance"&&u.maintenance++;const g=p.category||"Uncategorized";u.categories[g]=(u.categories[g]||0)+1;const w=p.type||"Unknown";u.types[w]=(u.types[w]||0)+1;const y=p.location||"No Location";u.locations[y]=(u.locations[y]||0)+1;const E=p.brand||"Unknown";u.brands[E]=(u.brands[E]||0)+1,new Date(p.created_at)>f&&u.recentlyAdded++}),u})(),o=[{title:"Total Equipment",value:a.total,icon:s.jsx(R8,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:a.available,icon:s.jsx(ly,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:a.inUse,icon:s.jsx(ly,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:a.maintenance,icon:s.jsx(ly,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],c=(u,f=!1)=>{const p={blue:{bg:f?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:f?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:f?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:f?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return p[u]||p.blue};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(R8,{}),"Equipment Analytics"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:o.map((u,f)=>{const p=n.status===u.filter.status,g=c(u.color,p);return s.jsx("button",{onClick:()=>t(u.filter),className:`${g.bg} ${g.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${p?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${u.title.toLowerCase()}: ${u.description}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-medium ${g.text} mb-1`,children:u.title}),s.jsx("p",{className:`text-2xl font-bold ${g.text}`,children:r?"...":u.value.toLocaleString()}),s.jsx("p",{className:`text-xs ${g.text} opacity-75 mt-1`,children:u.description})]}),s.jsx("div",{className:`${g.icon} group-hover:scale-110 transition-transform`,children:u.icon})]})},f)})})]}),s.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.brands).length}),s.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.types).length}),s.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.locations).length}),s.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-green-700",children:a.recentlyAdded}),s.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},FY=()=>{var pt,bt;const{user:e,canEditEquipment:t}=ss(),n=ai(),r=K.useRef(null),[i,a]=K.useState({search:"",type:"",brand:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[o,c]=K.useState("updated_at"),[u,f]=K.useState("desc"),[p,g]=K.useState(""),[w,y]=K.useState(!1),[E,S]=K.useState(!1),[A,j]=K.useState(!1),[k,D]=K.useState(""),[P,Y]=K.useState(!1),{data:z,isLoading:R}=Ln(["equipment-summary"],()=>qc({limit:1e3}));(()=>{if(!(z!=null&&z.equipment))return{total:0,available:0,inUse:0,maintenance:0};const Ye={total:z.equipment.length,available:0,inUse:0,maintenance:0,types:{}};return z.equipment.forEach(yt=>{yt.status==="available"?Ye.available++:yt.status==="in-use"?Ye.inUse++:yt.status==="maintenance"&&Ye.maintenance++,Ye.types[yt.type]?Ye.types[yt.type]++:Ye.types[yt.type]=1}),Ye})();const{data:q,fetchNextPage:te,hasNextPage:H,isFetchingNextPage:W,isLoading:J,isError:ue,error:se}=P4(["equipment",i,o,u],async({pageParam:Ye=1})=>{const yt={page:Ye,limit:20,...i,sortBy:o,sortOrder:u};return i.dateRange.startDate&&i.dateRange.endDate&&(yt.startDate=i.dateRange.startDate.toISOString(),yt.endDate=i.dateRange.endDate.toISOString()),qc(yt)},{getNextPageParam:Ye=>{if(Ye.page<Ye.totalPages)return Ye.page+1},keepPreviousData:!0}),{data:ee,isLoading:Ae}=Ln(["equipment-suggestions",p],()=>qc({search:p,limit:5}),{enabled:!!p&&p.length>2,keepPreviousData:!0}),{data:ge}=Ln(["saved-searches"],uj,{enabled:t()}),{data:Be}=Ln({queryKey:["equipment-types"],queryFn:Qu,staleTime:3e5});Ln({queryKey:["categories"],queryFn:l1});const{data:_e}=Ln(["equipment-analytics"],()=>qc({limit:1e4}),{keepPreviousData:!0}),ct=K.useCallback(Hj.debounce(Ye=>{g(Ye)},300),[]),U=Ye=>{const yt=Ye.target.value,it={...i,search:yt};a(it),ct(yt),yt.length>2?y(!0):y(!1);const fe=Object.values(it).some(He=>He!==""&&He!==null&&(typeof He!="object"||it.dateRange.startDate||it.dateRange.endDate));S(fe)},Z=Ye=>{const{name:yt,value:it}=Ye.target,fe={...i,[yt]:it};a(fe);const He=Object.values(fe).some(mt=>mt!==""&&mt!==null&&(typeof mt!="object"||mt.startDate||mt.endDate));S(He)},Q=Ye=>{const yt={...i,...Ye};a(yt),S(!0),Y(!0)},ne=()=>{a({search:"",status:"",type:"",brand:"",location:"",dateRange:{startDate:null,endDate:null}}),S(!1),Y(!1)},ce=Ye=>{const[yt,it]=Ye,fe={...i,dateRange:{startDate:yt,endDate:it}};a(fe);const He=Object.values(fe).some(mt=>mt!==""&&mt!==null&&(typeof mt!="object"||fe.dateRange.startDate||fe.dateRange.endDate));S(He)},be=async()=>{if(!k.trim()){gn.error("Please enter a name for your saved search");return}try{await dj({name:k,filters:JSON.stringify(i),sortBy:o,sortOrder:u}),n.invalidateQueries(["saved-searches"]),D(""),j(!1),gn.success("Search saved successfully")}catch(Ye){gn.error("Failed to save search"),console.error("Save search error:",Ye)}},Fe=Ye=>{try{const yt=JSON.parse(Ye.filters);a(yt),c(Ye.sortBy||"updated_at"),f(Ye.sortOrder||"desc"),S(!0),gn.info(`Applied saved search: ${Ye.name}`)}catch(yt){gn.error("Failed to apply saved search"),console.error("Apply saved search error:",yt)}},ze=async Ye=>{try{await fj(Ye),n.invalidateQueries(["saved-searches"]),gn.success("Search deleted successfully")}catch(yt){gn.error("Failed to delete search"),console.error("Delete saved search error:",yt)}};K.useEffect(()=>{const Ye=new IntersectionObserver(yt=>{yt[0].isIntersecting&&H&&!W&&te()},{threshold:.5});return r.current&&Ye.observe(r.current),()=>{r.current&&Ye.unobserve(r.current)}},[r,te,H,W]);const Ze=(q==null?void 0:q.pages.flatMap(Ye=>Ye.equipment))||[];return s.jsxs("div",{className:"space-y-6",children:[s.jsx(ov,{position:"top-right",autoClose:3e3}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Dashboard"}),s.jsx(ca,{to:"/equipment/new",className:"btn btn-primary",children:"Add New Equipment"})]}),s.jsxs("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:i.search,onChange:U,className:"w-full px-4 py-3 pl-10 rounded-full shadow-md border border-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","aria-label":"Search equipment catalog"}),s.jsx(H4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),w&&((pt=ee==null?void 0:ee.equipment)==null?void 0:pt.length)>0&&s.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:ee.equipment.map(Ye=>s.jsxs(ca,{to:`/equipment/${Ye.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[s.jsxs("div",{className:"font-medium",children:[Ye.brand," ",Ye.model]}),s.jsxs("div",{className:"text-sm text-slate-500",children:[Ye.type,"  SN: ",Ye.serial_number]})]},Ye.id))})]}),s.jsx("div",{className:"flex justify-between mt-2",children:s.jsxs("button",{onClick:()=>Y(!P),className:"flex items-center text-sm text-slate-600 hover:text-primary-600",children:[s.jsx(V4,{className:"w-4 h-4 mr-1"}),P?"Hide Filters":"Show Advanced Filters"]})})]}),t()&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),A?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:k,onChange:Ye=>D(Ye.target.value),className:"w-48 px-3 py-1 text-sm border border-slate-300 rounded-lg"}),s.jsx("button",{className:"px-3 py-1 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700",onClick:be,children:"Save"}),s.jsx("button",{className:"px-3 py-1 text-sm border border-slate-300 rounded-lg hover:bg-slate-50",onClick:()=>{j(!1),D("")},children:"Cancel"})]}):s.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 text-sm border border-slate-300 rounded-lg hover:bg-slate-50",onClick:()=>j(!0),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),s.jsx("span",{children:"Save Current Search"})]})]}),s.jsx("div",{className:"flex flex-wrap",children:((bt=ge==null?void 0:ge.searches)==null?void 0:bt.length)>0?ge.searches.map(Ye=>s.jsx(MY,{search:Ye,onApply:Fe,onDelete:ze},Ye.id)):s.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),s.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${P?"max-h-96 opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Equipment Type"}),s.jsxs("select",{name:"type",value:i.type,onChange:Z,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[s.jsx("option",{value:"",children:"All Types"}),Be!=null&&Be.types&&Be.types.length>0?Be.types.map(Ye=>s.jsx("option",{value:Ye.name.toLowerCase(),children:Ye.name},Ye.id)):s.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Brand"}),s.jsx("input",{type:"text",name:"brand",value:i.brand,onChange:Z,placeholder:"Filter by brand",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),s.jsxs("select",{name:"status",value:i.status,onChange:Z,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"available",children:"Available"}),s.jsx("option",{value:"in-use",children:"In Use"}),s.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),s.jsx("input",{type:"text",name:"location",value:i.location,onChange:Z,placeholder:"Filter by location",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),s.jsx(qj,{selectsRange:!0,startDate:i.dateRange.startDate,endDate:i.dateRange.endDate,onChange:ce,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),s.jsxs("select",{value:o,onChange:Ye=>c(Ye.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[s.jsx("option",{value:"updated_at",children:"Last Updated"}),s.jsx("option",{value:"brand",children:"Brand"}),s.jsx("option",{value:"model",children:"Model"}),s.jsx("option",{value:"type",children:"Type"}),s.jsx("option",{value:"status",children:"Status"}),s.jsx("option",{value:"location",children:"Location"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort Order"}),s.jsxs("select",{value:u,onChange:Ye=>f(Ye.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",children:[s.jsx("option",{value:"asc",children:"Ascending"}),s.jsx("option",{value:"desc",children:"Descending"})]})]})]})]})}),E?s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Search Results"}),s.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[Ze.length," items found"]})]}),s.jsxs("button",{onClick:ne,className:"px-3 py-2 text-sm bg-white border border-slate-300 rounded-lg hover:bg-slate-50 flex items-center",title:"Clear all filters and return to dashboard",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear Filters"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 text-left",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Brand"}),s.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Model"}),s.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Serial Number"}),s.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-3 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:J?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-slate-500",children:s.jsxs("div",{className:"flex justify-center items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mr-2"}),"Loading..."]})})}):ue?s.jsx("tr",{children:s.jsxs("td",{colSpan:"7",className:"px-6 py-4 text-center text-red-500",children:["Error loading equipment: ",se.message]})}):Ze.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-slate-500",children:"No equipment found matching your search criteria"})}):Ze.map(Ye=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ye.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ye.brand}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ye.model}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ye.serial_number}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ye.status==="available"?"bg-green-100 text-green-800":Ye.status==="in-use"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:Ye.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:Ye.location||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ca,{to:`/equipment/${Ye.id}`,className:"text-primary-600 hover:text-primary-900",title:"View details",children:s.jsx(dh,{className:"w-5 h-5"})}),t()&&s.jsx(s.Fragment,{children:s.jsx(ca,{to:`/equipment/${Ye.id}/edit`,className:"text-slate-600 hover:text-slate-900",title:"Edit equipment",children:s.jsx(sc,{className:"w-5 h-5"})})})]})})]},Ye.id))})]})}),s.jsx("div",{ref:r,className:"py-4 text-center",children:W?s.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),s.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):H?s.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):s.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]}):s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsx(PY,{equipmentData:(_e==null?void 0:_e.equipment)||[],onFilterChange:Q,currentFilters:i,isLoading:R})})]})},BY=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),UY=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),zY=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),WY=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),qY=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),HY=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),VY=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),cy=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),lp=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),$Y=({equipmentData:e,onFilterChange:t,currentFilters:n,isLoading:r})=>{const a=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const u={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},f=new Date;return f.setDate(f.getDate()-7),e.forEach(p=>{p.status==="available"?u.available++:p.status==="in-use"?u.inUse++:p.status==="maintenance"&&u.maintenance++;const g=p.category||"Uncategorized";u.categories[g]=(u.categories[g]||0)+1;const w=p.type||"Unknown";u.types[w]=(u.types[w]||0)+1;const y=p.location||"No Location";u.locations[y]=(u.locations[y]||0)+1;const E=p.brand||"Unknown";u.brands[E]=(u.brands[E]||0)+1,new Date(p.created_at)>f&&u.recentlyAdded++}),u})(),o=[{title:"Total Equipment",value:a.total,icon:s.jsx(lp,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:a.available,icon:s.jsx(cy,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:a.inUse,icon:s.jsx(cy,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:a.maintenance,icon:s.jsx(cy,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],c=(u,f=!1)=>{const p={blue:{bg:f?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:f?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:f?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:f?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return p[u]||p.blue};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(lp,{}),"Equipment Analytics"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:o.map((u,f)=>{const p=n.status===u.filter.status,g=c(u.color,p);return s.jsx("button",{onClick:()=>t(u.filter),className:`${g.bg} ${g.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${p?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${u.title.toLowerCase()}: ${u.description}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-medium ${g.text} mb-1`,children:u.title}),s.jsx("p",{className:`text-2xl font-bold ${g.text}`,children:r?"...":u.value.toLocaleString()}),s.jsx("p",{className:`text-xs ${g.text} opacity-75 mt-1`,children:u.description})]}),s.jsx("div",{className:`${g.icon} group-hover:scale-110 transition-transform`,children:u.icon})]})},f)})})]}),s.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.brands).length}),s.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.types).length}),s.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.locations).length}),s.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-green-700",children:a.recentlyAdded}),s.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},YY=({equipment:e,canEdit:t,searchTerm:n})=>{const[r,i]=K.useState(!1);let a=null;if(e.reference_image_id)a=Y2(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const u=e.files.find(f=>f.file_type==="image");u&&(a=Y2(u.id,!0))}const o=u=>{switch(u){case"available":return s.jsx(Yo,{variant:"success",children:u});case"in-use":return s.jsx(Yo,{variant:"info",children:u});case"maintenance":return s.jsx(Yo,{variant:"warning",children:u});case"unavailable":return s.jsx(Yo,{variant:"secondary",children:u});case"broken":return s.jsx(Yo,{variant:"danger",children:u});default:return s.jsx(Yo,{children:u})}},c=(u,f)=>{if(!f||!u)return u;const p=new RegExp(`(${f})`,"gi");return u.split(p).map((w,y)=>p.test(w)?s.jsx("span",{className:"bg-yellow-200 font-medium",children:w},y):w)};return s.jsxs(Ht,{className:"h-full transition-all duration-300 hover:shadow-lg hover:scale-[1.02] relative",children:[s.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[a?s.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:a,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):s.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:s.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})}),r&&s.jsxs("div",{className:"absolute inset-0 bg-slate-900 bg-opacity-80 p-4 text-white overflow-y-auto",children:[s.jsxs("h4",{className:"font-medium",children:[e.brand," ",e.model]}),s.jsx("p",{className:"text-sm mt-1",children:e.description||"No description available"}),s.jsxs("p",{className:"text-sm mt-2",children:["Serial: ",e.serial_number]}),s.jsxs("p",{className:"text-sm",children:["Location: ",e.location||"Not specified"]})]})]}),s.jsxs(Ht.Body,{children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&s.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),o(e.status)]}),s.jsx("h2",{className:"text-lg font-semibold mb-1",children:n?s.jsxs(s.Fragment,{children:[c(e.brand,n)," ",c(e.model,n)]}):`${e.brand} ${e.model}`}),s.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",n?c(e.serial_number,n):e.serial_number]}),s.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[s.jsxs(ca,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[s.jsx(HY,{})," View"]}),t&&s.jsxs(ca,{to:`/equipment/${e.id}/edit`,className:"text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[s.jsx(qY,{})," Edit"]})]})]})]})},GY=({equipment:e,canEdit:t,navigate:n})=>{const r=(i,a)=>{a.target.closest("button")||a.target.closest("a")||n(`/equipment/${i}`)};return s.jsxs("tr",{className:"table-row hover:bg-slate-50 cursor-pointer",onClick:i=>r(e.id,i),children:[s.jsx("td",{className:"table-cell",children:s.jsxs("span",{className:"font-medium text-slate-800",children:[e.brand," ",e.model]})}),s.jsx("td",{className:"table-cell",children:e.type}),s.jsx("td",{className:"table-cell",children:e.category||"-"}),s.jsx("td",{className:"table-cell",children:e.serial_number}),s.jsx("td",{className:"table-cell",children:s.jsx("span",{className:`badge ${e.status==="available"?"badge-success":e.status==="in-use"?"badge-info":e.status==="maintenance"?"badge-warning":e.status==="unavailable"?"badge-secondary":e.status==="broken"?"badge-danger":"badge-secondary"}`,children:e.status})}),s.jsx("td",{className:"table-cell",children:e.location||"-"}),s.jsx("td",{className:"table-cell",children:e.quantity||1}),s.jsx("td",{className:"table-cell",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ca,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",onClick:i=>i.stopPropagation(),children:"View"}),t?s.jsx(ca,{to:`/equipment/${e.id}/edit`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium underline",onClick:i=>{i.stopPropagation(),console.log("Edit link clicked for equipment:",e.id)},children:"Edit"}):s.jsx("span",{className:"text-gray-400 text-sm",children:"Edit"})]})})]})},XY=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow-soft overflow-hidden h-full animate-pulse",children:[s.jsx("div",{className:"h-40 bg-slate-200"}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"}),s.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"})]}),s.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2 mb-4"}),s.jsxs("div",{className:"border-t border-slate-100 pt-2 flex justify-between",children:[s.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),s.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]})]}),KY=({search:e,onApply:t,onDelete:n})=>s.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[s.jsx("button",{onClick:()=>t(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),s.jsx("button",{onClick:()=>n(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:s.jsx(WY,{className:"w-4 h-4"})})]}),M8=()=>{var yt,it;const{user:e,canEditEquipment:t}=ss(),n=ai(),r=Do(),i=K.useRef(null),[a,o]=K.useState({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[c,u]=K.useState(""),[f,p]=K.useState(!1),[g,w]=K.useState(!1),[y,E]=K.useState("updated_at"),[S,A]=K.useState("desc"),[j,k]=K.useState(""),[D,P]=K.useState(!1),[Y,z]=K.useState("list"),{data:R,fetchNextPage:B,hasNextPage:q,isFetchingNextPage:te,isLoading:H,isError:W,error:J}=P4(["equipment",a,y,S],async({pageParam:fe=1})=>{const He={page:fe,limit:20,...a,sortBy:y,sortOrder:S};return a.dateRange.startDate&&a.dateRange.endDate&&(He.startDate=a.dateRange.startDate.toISOString(),He.endDate=a.dateRange.endDate.toISOString()),qc(He)},{getNextPageParam:fe=>{if(fe.page<fe.totalPages)return fe.page+1},keepPreviousData:!0}),{data:ue,isLoading:se}=Ln(["equipment-suggestions",c],()=>qc({search:c,limit:5}),{enabled:!!c&&c.length>2,keepPreviousData:!0}),{data:ee}=Ln(["saved-searches"],uj,{enabled:t()}),{data:Ae=[]}=Ln({queryKey:["equipmentTypes"],queryFn:Qu}),ge=Array.isArray(Ae)?Ae:Ae.types||[],{data:Be={categories:[]}}=Ln({queryKey:["categories"],queryFn:l1}),_e=Be.categories||[],ct=K.useCallback(Hj.debounce(fe=>{u(fe)},300),[]),U=fe=>{const He=fe.target.value;o(mt=>({...mt,search:He})),ct(He),He.length>2?p(!0):p(!1)},Z=fe=>{const{name:He,value:mt}=fe.target;o(rt=>({...rt,[He]:mt}))},Q=fe=>{const[He,mt]=fe;o(rt=>({...rt,dateRange:{startDate:He,endDate:mt}}))},ne=()=>{o({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),u(""),p(!1)},ce=async()=>{if(!j.trim()){gn.error("Please enter a name for your saved search");return}try{await dj({name:j,filters:JSON.stringify(a),sortBy:y,sortOrder:S}),n.invalidateQueries(["saved-searches"]),k(""),P(!1),gn.success("Search saved successfully")}catch(fe){gn.error("Failed to save search"),console.error("Save search error:",fe)}},be=fe=>{try{const He=JSON.parse(fe.filters);o(He),E(fe.sortBy||"updated_at"),A(fe.sortOrder||"desc"),gn.info(`Applied saved search: ${fe.name}`)}catch(He){gn.error("Failed to apply saved search"),console.error("Apply saved search error:",He)}},Fe=async fe=>{try{await fj(fe),n.invalidateQueries(["saved-searches"]),gn.success("Search deleted successfully")}catch(He){gn.error("Failed to delete search"),console.error("Delete saved search error:",He)}};K.useEffect(()=>{const fe=new IntersectionObserver(mt=>{mt[0].isIntersecting&&q&&!te&&B()},{threshold:.5}),He=i.current;return He&&fe.observe(He),()=>{He&&fe.unobserve(He)}},[i,B,q,te]);const ze=(R==null?void 0:R.pages.flatMap(fe=>fe.equipment))||[],{data:Ze}=Ln(["equipment-analytics"],()=>qc({limit:1e4}),{keepPreviousData:!0}),bt=(()=>{const fe=(Ze==null?void 0:Ze.equipment)||[];if(!fe||fe.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const He={total:fe.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},mt=new Date;return mt.setDate(mt.getDate()-7),fe.forEach(rt=>{rt.status==="available"?He.available++:rt.status==="in-use"?He.inUse++:rt.status==="maintenance"&&He.maintenance++;const Ee=rt.category||"Uncategorized";He.categories[Ee]=(He.categories[Ee]||0)+1;const qe=rt.type||"Unknown";He.types[qe]=(He.types[qe]||0)+1;const Le=rt.location||"No Location";He.locations[Le]=(He.locations[Le]||0)+1;const Nt=rt.brand||"Unknown";He.brands[Nt]=(He.brands[Nt]||0)+1,new Date(rt.created_at)>mt&&He.recentlyAdded++}),He})(),Ye=fe=>{o(He=>({...He,...fe}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(ov,{position:"top-right",autoClose:3e3}),s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Dashboard"})}),s.jsx($Y,{equipmentData:(Ze==null?void 0:Ze.equipment)||[],onFilterChange:Ye,currentFilters:a,isLoading:H}),s.jsx("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:s.jsxs("div",{className:"relative",children:[s.jsx(kn,{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:a.search,onChange:U,icon:s.jsx(BY,{}),className:"rounded-full shadow-md","aria-label":"Search equipment catalog"}),f&&((yt=ue==null?void 0:ue.equipment)==null?void 0:yt.length)>0&&s.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:ue.equipment.map(fe=>s.jsxs(ca,{to:`/equipment/${fe.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[s.jsxs("div",{className:"font-medium",children:[fe.brand," ",fe.model]}),s.jsxs("div",{className:"text-sm text-slate-500",children:[fe.type,"  SN: ",fe.serial_number]})]},fe.id))}),s.jsxs("div",{className:"flex mt-2 gap-2",children:[s.jsxs(kt,{variant:"outline",size:"sm",onClick:()=>w(!g),className:"flex items-center gap-1","aria-expanded":g,"aria-controls":"filter-panel",children:[s.jsx(UY,{}),s.jsx("span",{children:g?"Hide Filters":"Show Filters"})]}),Object.values(a).some(fe=>fe&&(typeof fe=="string"?fe.trim()!=="":!0))&&s.jsxs(kt,{variant:"outline",size:"sm",onClick:ne,className:"flex items-center gap-1 text-slate-600",children:[s.jsx(VY,{}),s.jsx("span",{children:"Clear Filters"})]}),s.jsx("div",{className:"ml-auto",children:s.jsx(Ga,{id:"sort",name:"sort",value:`${y}-${S}`,onChange:fe=>{const[He,mt]=fe.target.value.split("-");E(He),A(mt)},options:[{value:"updated_at-desc",label:"Newest First"},{value:"updated_at-asc",label:"Oldest First"},{value:"brand-asc",label:"Brand (A-Z)"},{value:"brand-desc",label:"Brand (Z-A)"},{value:"model-asc",label:"Model (A-Z)"},{value:"model-desc",label:"Model (Z-A)"}],className:"w-40"})})]})]})}),t()&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),D?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kn,{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:j,onChange:fe=>k(fe.target.value),className:"w-48"}),s.jsx(kt,{variant:"primary",size:"sm",onClick:ce,children:"Save"}),s.jsx(kt,{variant:"outline",size:"sm",onClick:()=>{P(!1),k("")},children:"Cancel"})]}):s.jsxs(kt,{variant:"outline",size:"sm",onClick:()=>P(!0),className:"flex items-center gap-1",children:[s.jsx(zY,{}),s.jsx("span",{children:"Save Current Search"})]})]}),s.jsx("div",{className:"flex flex-wrap",children:((it=ee==null?void 0:ee.searches)==null?void 0:it.length)>0?ee.searches.map(fe=>s.jsx(KY,{search:fe,onApply:be,onDelete:Fe},fe.id)):s.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]}),s.jsx("div",{id:"filter-panel",className:`bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden transition-all duration-300 ${g?"max-h-[800px] opacity-100 mb-6":"max-h-0 opacity-0 mb-0"}`,children:s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs(Ht,{className:"h-fit",children:[s.jsx(Ht.Header,{children:s.jsxs(Ht.Title,{className:"flex items-center gap-2",children:[s.jsx(lp,{}),"Equipment Types"]})}),s.jsx(Ht.Body,{className:"p-4",children:H?s.jsx("div",{className:"space-y-2",children:[...Array(3)].map((fe,He)=>s.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},He))}):Object.keys(bt.types).length>0?s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(bt.types).sort(([,fe],[,He])=>He-fe).slice(0,10).map(([fe,He])=>{const mt=a.type===fe;return s.jsxs("button",{onClick:()=>o(rt=>({...rt,type:mt?"":fe})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${mt?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${fe} equipment`,children:[s.jsx("span",{className:"capitalize font-medium",children:fe}),s.jsx(Yo,{variant:mt?"primary":"secondary",size:"sm",children:He})]},fe)})}):s.jsx("p",{className:"text-slate-500 text-sm",children:"No equipment types available"})})]}),s.jsxs(Ht,{className:"h-fit",children:[s.jsx(Ht.Header,{children:s.jsxs(Ht.Title,{className:"flex items-center gap-2",children:[s.jsx(lp,{}),"Categories"]})}),s.jsx(Ht.Body,{className:"p-4",children:H?s.jsx("div",{className:"space-y-2",children:[...Array(3)].map((fe,He)=>s.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},He))}):Object.keys(bt.categories).length>0?s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(bt.categories).sort(([,fe],[,He])=>He-fe).slice(0,10).map(([fe,He])=>{const mt=a.category===fe;return s.jsxs("button",{onClick:()=>o(rt=>({...rt,category:mt?"":fe})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${mt?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${fe} category`,children:[s.jsx("span",{className:"font-medium",children:fe}),s.jsx(Yo,{variant:mt?"primary":"secondary",size:"sm",children:He})]},fe)})}):s.jsx("p",{className:"text-slate-500 text-sm",children:"No categories available"})})]}),s.jsxs(Ht,{className:"h-fit",children:[s.jsx(Ht.Header,{children:s.jsxs(Ht.Title,{className:"flex items-center gap-2",children:[s.jsx(lp,{}),"Top Locations"]})}),s.jsx(Ht.Body,{className:"p-4",children:H?s.jsx("div",{className:"space-y-2",children:[...Array(3)].map((fe,He)=>s.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"},He))}):Object.keys(bt.locations).length>0?s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Object.entries(bt.locations).sort(([,fe],[,He])=>He-fe).slice(0,10).map(([fe,He])=>{const mt=a.location===fe;return s.jsxs("button",{onClick:()=>o(rt=>({...rt,location:mt?"":fe})),className:`flex justify-between items-center w-full px-3 py-2 rounded-md transition-colors text-left ${mt?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"hover:bg-slate-50"}`,title:`Filter by ${fe} location`,children:[s.jsx("span",{className:"font-medium truncate",children:fe}),s.jsx(Yo,{variant:mt?"primary":"secondary",size:"sm",children:He})]},fe)})}):s.jsx("p",{className:"text-slate-500 text-sm",children:"No locations available"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Ga,{id:"category",name:"category",label:"Category",value:a.category,onChange:Z,options:[{value:"",label:"All Categories"},...(_e||[]).map(fe=>({value:fe.name,label:fe.name}))]}),s.jsx(Ga,{id:"type",name:"type",label:"Equipment Type",value:a.type,onChange:Z,options:[{value:"",label:"All Types"},...(ge||[]).map(fe=>({value:fe.name,label:fe.name}))]}),s.jsx(Ga,{id:"status",name:"status",label:"Status",value:a.status,onChange:Z,options:[{value:"",label:"All Statuses"},{value:"available",label:"Available"},{value:"in-use",label:"In Use"},{value:"maintenance",label:"Maintenance"},{value:"unavailable",label:"Unavailable"},{value:"broken",label:"Broken"}]}),s.jsx(kn,{id:"location",name:"location",label:"Location",placeholder:"Filter by location",value:a.location,onChange:Z}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),s.jsx(qj,{selectsRange:!0,startDate:a.dateRange.startDate,endDate:a.dateRange.endDate,onChange:Q,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]})]})]})}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-800",children:["Equipment Results (",ze.length," items)"]}),s.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden bg-white shadow-sm",children:[s.jsxs("button",{onClick:()=>z("list"),className:`px-4 py-2 text-sm font-medium transition-all flex items-center gap-2 ${Y==="list"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"List view",children:[s.jsx(s1,{className:"h-4 w-4"}),s.jsx("span",{children:"List"})]}),s.jsxs("button",{onClick:()=>z("card"),className:`px-4 py-2 text-sm font-medium transition-all flex items-center gap-2 ${Y==="card"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:[s.jsx(o1,{className:"h-4 w-4"}),s.jsx("span",{children:"Cards"})]})]})]}),s.jsx("div",{children:H?s.jsxs(s.Fragment,{children:[Y==="card"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((fe,He)=>s.jsx(XY,{},He))}),Y==="list"&&s.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell",children:"Equipment"}),s.jsx("th",{className:"table-header-cell",children:"Type"}),s.jsx("th",{className:"table-header-cell",children:"Category"}),s.jsx("th",{className:"table-header-cell",children:"Serial Number"}),s.jsx("th",{className:"table-header-cell",children:"Status"}),s.jsx("th",{className:"table-header-cell",children:"Location"}),s.jsx("th",{className:"table-header-cell",children:"Quantity"}),s.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:Array.from({length:6}).map((fe,He)=>s.jsxs("tr",{className:"table-row animate-pulse",children:[s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"h-4 bg-slate-200 rounded w-2/3"})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"h-6 bg-slate-200 rounded-full w-16"})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"h-4 bg-slate-200 rounded w-8"})}),s.jsx("td",{className:"table-cell",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"h-4 bg-slate-200 rounded w-12"}),s.jsx("div",{className:"h-4 bg-slate-200 rounded w-8"})]})})]},He))})]})})})]}):W?s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:(J==null?void 0:J.message)||"Failed to load equipment data. Please try again."})})]})]})}):ze.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No equipment found"}),s.jsx("p",{className:"mt-2 text-slate-500",children:"Try adjusting your search or filter criteria to find what you're looking for."}),s.jsx(kt,{variant:"outline",className:"mt-4",onClick:ne,children:"Clear All Filters"})]}):s.jsxs(s.Fragment,{children:[Y==="card"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ze.map(fe=>s.jsx(YY,{equipment:fe,canEdit:t(),searchTerm:a.search},fe.id))}),Y==="list"&&s.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table-wide",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell",children:"Equipment"}),s.jsx("th",{className:"table-header-cell",children:"Type"}),s.jsx("th",{className:"table-header-cell",children:"Category"}),s.jsx("th",{className:"table-header-cell",children:"Serial Number"}),s.jsx("th",{className:"table-header-cell",children:"Status"}),s.jsx("th",{className:"table-header-cell",children:"Location"}),s.jsx("th",{className:"table-header-cell",children:"Quantity"}),s.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:ze.map(fe=>s.jsx(GY,{equipment:fe,canEdit:t(),navigate:r},fe.id))})]})})}),s.jsx("div",{ref:i,className:"py-4 text-center",children:te?s.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),s.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):q?s.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):s.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})})]})},QY=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),ZY=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),JY=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),eG=()=>{const{isAdmin:e}=ss(),t=ai(),[n,r]=K.useState(""),[i,a]=K.useState(null),[o,c]=K.useState(""),[u,f]=K.useState(""),{data:p,isLoading:g,isError:w}=Ln({queryKey:["equipmentTypes"],queryFn:Qu}),y=(p==null?void 0:p.types)||[],E=cr({mutationFn:dW,onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),r(""),f("")},onError:z=>{var R,B;f(((B=(R=z.response)==null?void 0:R.data)==null?void 0:B.message)||"Failed to create equipment type")}}),S=cr({mutationFn:({id:z,name:R})=>fW(z,R),onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),a(null),c(""),f("")},onError:z=>{var R,B;f(((B=(R=z.response)==null?void 0:R.data)==null?void 0:B.message)||"Failed to update equipment type")}}),A=cr({mutationFn:hW,onSuccess:()=>{t.invalidateQueries(["equipmentTypes"]),f("")},onError:z=>{var R,B;f(((B=(R=z.response)==null?void 0:R.data)==null?void 0:B.message)||"Failed to delete equipment type")}}),j=z=>{if(z.preventDefault(),!n.trim()){f("Type name is required");return}E.mutate(n),document.getElementById("addTypeModal").style.display="none"},k=z=>{a(z),c(z.name)},D=()=>{if(!o.trim()){f("Type name is required");return}S.mutate({id:i.id,name:o})},P=()=>{a(null),c("")},Y=z=>{window.confirm("Are you sure you want to delete this equipment type?")&&A.mutate(z)};return e()?s.jsxs("div",{className:"space-y-6",children:[u&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:s.jsx("span",{children:u})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Types"}),s.jsxs(kt,{variant:"primary",onClick:()=>{r(""),document.getElementById("addTypeModal").style.display="block"},className:"flex items-center gap-2",children:[s.jsx(JY,{}),"Add Type"]})]}),s.jsx(Ht,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell",children:"Name"}),s.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:g?s.jsx("tr",{children:s.jsx("td",{colSpan:"2",className:"table-cell text-center py-4",children:s.jsx("div",{className:"flex justify-center items-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):w?s.jsx("tr",{children:s.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-red-600",children:"Error loading equipment types. Please try again."})}):y&&y.length>0?y.map(z=>s.jsxs("tr",{className:"table-row",children:[s.jsx("td",{className:"table-cell",children:z.name}),s.jsx("td",{className:"table-cell text-right",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsxs(kt,{onClick:()=>k(z),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[s.jsx(QY,{}),"Edit"]}),s.jsxs(kt,{onClick:()=>Y(z.id),variant:"danger",size:"sm",disabled:A.isLoading&&A.variables===z.id,className:"flex items-center gap-1",children:[s.jsx(ZY,{}),A.isLoading&&A.variables===z.id?"Deleting...":"Delete"]})]})})]},z.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-slate-500",children:"No equipment types found"})})})]})})}),s.jsx("div",{className:"modal-backdrop",id:"addTypeModal",style:{display:"none"},children:s.jsxs("div",{className:"modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:"Add Equipment Type"}),s.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:""})]}),s.jsxs("form",{onSubmit:j,children:[s.jsx("div",{className:"modal-body",children:s.jsx("div",{className:"space-y-4",children:s.jsx(kn,{id:"newTypeName",name:"newTypeName",type:"text",label:"Type Name",value:n,onChange:z=>r(z.target.value),placeholder:"Enter equipment type name",required:!0})})}),s.jsxs("div",{className:"modal-footer",children:[s.jsx(kt,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"Cancel"}),s.jsx(kt,{type:"submit",variant:"primary",disabled:E.isLoading,className:"flex items-center gap-2",children:E.isLoading?"Adding...":"Add Type"})]})]})]})}),i&&s.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:s.jsxs("div",{className:"modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:"Edit Equipment Type"}),s.jsx("button",{className:"modal-close",onClick:P,children:""})]}),s.jsxs("form",{onSubmit:z=>{z.preventDefault(),D()},children:[s.jsx("div",{className:"modal-body",children:s.jsx("div",{className:"space-y-4",children:s.jsx(kn,{id:"editTypeName",name:"editTypeName",type:"text",label:"Type Name",value:o,onChange:z=>c(z.target.value),required:!0})})}),s.jsxs("div",{className:"modal-footer",children:[s.jsx(kt,{type:"button",variant:"secondary",onClick:P,children:"Cancel"}),s.jsx(kt,{type:"submit",variant:"primary",disabled:S.isLoading,className:"flex items-center gap-2",children:S.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4 rounded",children:s.jsx("p",{children:"Only administrators can manage equipment types."})})},tG=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),nG=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),rG=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),iG=()=>{const{isAdmin:e}=ss(),t=ai(),[n,r]=K.useState(""),[i,a]=K.useState(""),[o,c]=K.useState(null),[u,f]=K.useState(""),[p,g]=K.useState(""),[w,y]=K.useState(""),{data:E,isLoading:S,isError:A}=Ln({queryKey:["categories"],queryFn:l1}),j=(E==null?void 0:E.categories)||[],k=cr({mutationFn:({name:te,description:H})=>sV(te,H),onSuccess:()=>{t.invalidateQueries(["categories"]),r(""),a(""),y("")},onError:te=>{var H,W;y(((W=(H=te.response)==null?void 0:H.data)==null?void 0:W.message)||"Failed to create category")}}),D=cr({mutationFn:({id:te,name:H,description:W})=>oV(te,H,W),onSuccess:()=>{t.invalidateQueries(["categories"]),c(null),f(""),g(""),y("")},onError:te=>{var H,W;y(((W=(H=te.response)==null?void 0:H.data)==null?void 0:W.message)||"Failed to update category")}}),P=cr({mutationFn:lV,onSuccess:()=>{t.invalidateQueries(["categories"]),y("")},onError:te=>{var H,W;y(((W=(H=te.response)==null?void 0:H.data)==null?void 0:W.message)||"Failed to delete category")}}),Y=te=>{if(te.preventDefault(),!n.trim()){y("Category name is required");return}k.mutate({name:n,description:i}),document.getElementById("addCategoryModal").style.display="none"},z=te=>{c(te),f(te.name),g(te.description||"")},R=()=>{if(!u.trim()){y("Category name is required");return}D.mutate({id:o.id,name:u,description:p})},B=()=>{c(null),f(""),g("")},q=te=>{window.confirm("Are you sure you want to delete this category?")&&P.mutate(te)};return e()?s.jsxs("div",{className:"space-y-6",children:[w&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:s.jsx("p",{children:w})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Categories"}),s.jsxs(kt,{variant:"primary",onClick:()=>{r(""),a(""),document.getElementById("addCategoryModal").style.display="block"},className:"flex items-center gap-2",children:[s.jsx(rG,{}),"Add Category"]})]}),s.jsx(Ht,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell",children:"Name"}),s.jsx("th",{className:"table-header-cell",children:"Description"}),s.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:S?s.jsx("tr",{children:s.jsx("td",{colSpan:"3",className:"table-cell text-center py-4",children:s.jsx("div",{className:"flex justify-center items-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):A?s.jsx("tr",{children:s.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-red-600",children:"Error loading categories. Please try again."})}):j&&j.length>0?j.map(te=>s.jsxs("tr",{className:"table-row",children:[s.jsx("td",{className:"table-cell",children:te.name}),s.jsx("td",{className:"table-cell",children:te.description||"-"}),s.jsx("td",{className:"table-cell text-right",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsxs(kt,{onClick:()=>z(te),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[s.jsx(tG,{}),"Edit"]}),s.jsxs(kt,{onClick:()=>q(te.id),variant:"danger",size:"sm",disabled:P.isLoading&&P.variables===te.id,className:"flex items-center gap-1",children:[s.jsx(nG,{}),P.isLoading&&P.variables===te.id?"Deleting...":"Delete"]})]})})]},te.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-slate-500",children:"No categories found"})})})]})})}),s.jsx("div",{className:"modal-backdrop",id:"addCategoryModal",style:{display:"none"},children:s.jsxs("div",{className:"modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:"Add Category"}),s.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:""})]}),s.jsxs("form",{onSubmit:Y,children:[s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(kn,{id:"newCategoryName",name:"newCategoryName",type:"text",label:"Category Name",value:n,onChange:te=>r(te.target.value),placeholder:"Enter category name",required:!0}),s.jsx(kn,{id:"newCategoryDescription",name:"newCategoryDescription",type:"text",label:"Description (optional)",value:i,onChange:te=>a(te.target.value),placeholder:"Enter category description"})]})}),s.jsxs("div",{className:"modal-footer",children:[s.jsx(kt,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"Cancel"}),s.jsx(kt,{type:"submit",variant:"primary",disabled:k.isLoading,className:"flex items-center gap-2",children:k.isLoading?"Adding...":"Add Category"})]})]})]})}),o&&s.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:s.jsxs("div",{className:"modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:"Edit Category"}),s.jsx("button",{className:"modal-close",onClick:B,children:""})]}),s.jsxs("form",{onSubmit:te=>{te.preventDefault(),R()},children:[s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(kn,{id:"editCategoryName",name:"editCategoryName",type:"text",label:"Category Name",value:u,onChange:te=>f(te.target.value),required:!0}),s.jsx(kn,{id:"editCategoryDescription",name:"editCategoryDescription",type:"text",label:"Description (optional)",value:p,onChange:te=>g(te.target.value),placeholder:"Enter category description"})]})}),s.jsxs("div",{className:"modal-footer",children:[s.jsx(kt,{type:"button",variant:"secondary",onClick:B,children:"Cancel"}),s.jsx(kt,{type:"submit",variant:"primary",disabled:D.isLoading,className:"flex items-center gap-2",children:D.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):s.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:s.jsx("p",{children:"Only administrators can manage equipment categories."})})},hf=async()=>(await Xt.get("/api/locations")).data,aG=async e=>(await Xt.post("/api/locations",e)).data,sG=async(e,t)=>(await Xt.put(`/api/locations/${e}`,t)).data,oG=async e=>(await Xt.delete(`/api/locations/${e}`)).data,lG=()=>{var B;const{isAdmin:e}=ss(),t=ai(),[n,r]=K.useState(!1),[i,a]=K.useState(!1),[o,c]=K.useState(!1),[u,f]=K.useState(null),[p,g]=K.useState({name:"",street:"",postal_code:"",city:"",region:"",country:""}),{data:w,isLoading:y,isError:E}=Ln(["locations"],hf),S=cr(aG,{onSuccess:()=>{t.invalidateQueries(["locations"]),r(!1),g({name:"",street:"",postal_code:"",city:"",region:"",country:""}),alert("Location created successfully")},onError:q=>{var te,H;alert(`Error creating location: ${((H=(te=q.response)==null?void 0:te.data)==null?void 0:H.message)||q.message}`)}}),A=cr(q=>sG(q.id,q.locationData),{onSuccess:()=>{t.invalidateQueries(["locations"]),a(!1),f(null),alert("Location updated successfully")},onError:q=>{var te,H;alert(`Error updating location: ${((H=(te=q.response)==null?void 0:te.data)==null?void 0:H.message)||q.message}`)}}),j=cr(oG,{onSuccess:()=>{t.invalidateQueries(["locations"]),c(!1),f(null),alert("Location deleted successfully")},onError:q=>{var te,H;alert(`Error deleting location: ${((H=(te=q.response)==null?void 0:te.data)==null?void 0:H.message)||q.message}`)}}),k=q=>{const{name:te,value:H}=q.target;g(W=>({...W,[te]:H}))},D=q=>{q.preventDefault(),S.mutate(p)},P=q=>{q.preventDefault(),A.mutate({id:u.id,locationData:p})},Y=()=>{j.mutate(u.id)},z=q=>{f(q),g({name:q.name,street:q.street||"",postal_code:q.postal_code||"",city:q.city||"",region:q.region||"",country:q.country||""}),a(!0)},R=q=>{f(q),c(!0)};return y?s.jsx("div",{className:"text-center py-4",children:"Loading locations..."}):E?s.jsx("div",{className:"text-center py-4 text-red-600",children:"Error loading locations"}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Locations"}),e()&&s.jsx(kt,{variant:"primary",onClick:()=>{g({name:"",street:"",postal_code:"",city:"",region:"",country:""}),r(!0)},children:"Add Location"})]}),s.jsx(Ht,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell",children:"Name"}),s.jsx("th",{className:"table-header-cell",children:"Street"}),s.jsx("th",{className:"table-header-cell",children:"Postal Code"}),s.jsx("th",{className:"table-header-cell",children:"City"}),s.jsx("th",{className:"table-header-cell",children:"Region"}),s.jsx("th",{className:"table-header-cell",children:"Country"}),e()&&s.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:((B=w==null?void 0:w.locations)==null?void 0:B.length)>0?w.locations.map(q=>s.jsxs("tr",{className:"table-row",children:[s.jsx("td",{className:"table-cell",children:q.name}),s.jsx("td",{className:"table-cell",children:q.street||"-"}),s.jsx("td",{className:"table-cell",children:q.postal_code||"-"}),s.jsx("td",{className:"table-cell",children:q.city||"-"}),s.jsx("td",{className:"table-cell",children:q.region||"-"}),s.jsx("td",{className:"table-cell",children:q.country||"-"}),e()&&s.jsx("td",{className:"table-cell",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(kt,{variant:"outline",size:"sm",onClick:()=>z(q),children:"Edit"}),s.jsx(kt,{variant:"danger",size:"sm",onClick:()=>R(q),children:"Delete"})]})})]},q.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:e()?7:6,className:"table-cell text-center py-4 text-slate-500",children:"No locations found"})})})]})})}),n&&s.jsx("div",{className:"modal-backdrop",children:s.jsxs("div",{className:"modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:"Add Location"}),s.jsx("button",{className:"modal-close",onClick:()=>r(!1),children:""})]}),s.jsxs("form",{onSubmit:D,children:[s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(kn,{id:"name",name:"name",label:"Location Name",value:p.name,onChange:k,placeholder:"Enter location name",required:!0}),s.jsx(kn,{id:"street",name:"street",label:"Street",value:p.street,onChange:k,placeholder:"Enter street (optional)"}),s.jsx(kn,{id:"postal_code",name:"postal_code",label:"Postal Code",value:p.postal_code,onChange:k,placeholder:"Enter postal code (optional)"}),s.jsx(kn,{id:"city",name:"city",label:"City",value:p.city,onChange:k,placeholder:"Enter city (optional)"}),s.jsx(kn,{id:"region",name:"region",label:"Region/State",value:p.region,onChange:k,placeholder:"Enter region or state (optional)"}),s.jsx(kn,{id:"country",name:"country",label:"Country",value:p.country,onChange:k,placeholder:"Enter country (optional)"})]})}),s.jsxs("div",{className:"modal-footer",children:[s.jsx(kt,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),s.jsx(kt,{type:"submit",variant:"primary",disabled:S.isLoading,children:S.isLoading?"Adding...":"Add Location"})]})]})]})}),i&&u&&s.jsx("div",{className:"modal-backdrop",children:s.jsxs("div",{className:"modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:"Edit Location"}),s.jsx("button",{className:"modal-close",onClick:()=>a(!1),children:""})]}),s.jsxs("form",{onSubmit:P,children:[s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(kn,{id:"edit-name",name:"name",label:"Location Name",value:p.name,onChange:k,placeholder:"Enter location name",required:!0}),s.jsx(kn,{id:"edit-street",name:"street",label:"Street",value:p.street,onChange:k,placeholder:"Enter street (optional)"}),s.jsx(kn,{id:"edit-postal_code",name:"postal_code",label:"Postal Code",value:p.postal_code,onChange:k,placeholder:"Enter postal code (optional)"}),s.jsx(kn,{id:"edit-city",name:"city",label:"City",value:p.city,onChange:k,placeholder:"Enter city (optional)"}),s.jsx(kn,{id:"edit-region",name:"region",label:"Region/State",value:p.region,onChange:k,placeholder:"Enter region or state (optional)"}),s.jsx(kn,{id:"edit-country",name:"country",label:"Country",value:p.country,onChange:k,placeholder:"Enter country (optional)"})]})}),s.jsxs("div",{className:"modal-footer",children:[s.jsx(kt,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),s.jsx(kt,{type:"submit",variant:"primary",disabled:A.isLoading,children:A.isLoading?"Saving...":"Save Changes"})]})]})]})}),o&&u&&s.jsx("div",{className:"modal-backdrop",children:s.jsxs("div",{className:"modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:"Delete Location"}),s.jsx("button",{className:"modal-close",onClick:()=>c(!1),children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("p",{children:['Are you sure you want to delete the location "',u.name,'"? This action cannot be undone.']}),s.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Note: You cannot delete a location that is currently assigned to equipment."})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx(kt,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),s.jsx(kt,{type:"button",variant:"danger",onClick:Y,disabled:j.isLoading,children:j.isLoading?"Deleting...":"Delete Location"})]})]})})]})};var Vj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},P8=ht.createContext&&ht.createContext(Vj),Zd=globalThis&&globalThis.__assign||function(){return Zd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Zd.apply(this,arguments)},cG=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function $j(e){return e&&e.map(function(t,n){return ht.createElement(t.tag,Zd({key:n},t.attr),$j(t.child))})}function pf(e){return function(t){return ht.createElement(uG,Zd({attr:Zd({},e.attr)},t),$j(e.child))}}function uG(e){var t=function(n){var r=e.attr,i=e.size,a=e.title,o=cG(e,["attr","size","title"]),c=i||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),ht.createElement("svg",Zd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Zd(Zd({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&ht.createElement("title",null,a),e.children)};return P8!==void 0?ht.createElement(P8.Consumer,null,function(n){return t(n)}):t(Vj)}function dG(e){return pf({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function fG(e){return pf({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function hG(e){return pf({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(e)}function pG(e){return pf({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function mG(e){return pf({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function xG(e){return pf({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function gG(e){return pf({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}let vG={data:""},wG=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||vG,yG=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,bG=/\/\*[^]*?\*\/|  +/g,F8=/\n+/g,Dd=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?Dd(o,a):a+"{"+Dd(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=Dd(o,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Dd.p?Dd.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},vu={},Yj=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Yj(e[n]);return t}return e},NG=(e,t,n,r,i)=>{let a=Yj(e),o=vu[a]||(vu[a]=(u=>{let f=0,p=11;for(;f<u.length;)p=101*p+u.charCodeAt(f++)>>>0;return"go"+p})(a));if(!vu[o]){let u=a!==e?e:(f=>{let p,g,w=[{}];for(;p=yG.exec(f.replace(bG,""));)p[4]?w.shift():p[3]?(g=p[3].replace(F8," ").trim(),w.unshift(w[0][g]=w[0][g]||{})):w[0][p[1]]=p[2].replace(F8," ").trim();return w[0]})(e);vu[o]=Dd(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let c=n&&vu.g?vu.g:null;return n&&(vu.g=vu[o]),((u,f,p,g)=>{g?f.data=f.data.replace(g,u):f.data.indexOf(u)===-1&&(f.data=p?u+f.data:f.data+u)})(vu[o],t,r,c),o},_G=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let c=o(n),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=u?"."+u:c&&typeof c=="object"?c.props?"":Dd(c,""):c===!1?"":c}return r+i+(o??"")},"");function wv(e){let t=this||{},n=e.call?e(t.p):e;return NG(n.unshift?n.raw?_G(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,wG(t.target),t.g,t.o,t.k)}let Gj,sb,ob;wv.bind({g:1});let Hu=wv.bind({k:1});function SG(e,t,n,r){Dd.p=t,Gj=e,sb=n,ob=r}function h0(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let c=Object.assign({},a),u=c.className||i.className;n.p=Object.assign({theme:sb&&sb()},c),n.o=/ *go\d+/.test(u),c.className=wv.apply(n,r)+(u?" "+u:""),t&&(c.ref=o);let f=e;return e[0]&&(f=c.as||e,delete c.as),ob&&f[0]&&ob(c),Gj(f,c)}return t?t(i):i}}var CG=e=>typeof e=="function",lb=(e,t)=>CG(e)?e(t):e,EG=(()=>{let e=0;return()=>(++e).toString()})(),AG=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),jG=20,Xj=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,jG)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return Xj(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},kG=[],uy={toasts:[],pausedAt:void 0},f3=e=>{uy=Xj(uy,e),kG.forEach(t=>{t(uy)})},TG=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||EG()}),dm=e=>(t,n)=>{let r=TG(t,e,n);return f3({type:2,toast:r}),r.id},An=(e,t)=>dm("blank")(e,t);An.error=dm("error");An.success=dm("success");An.loading=dm("loading");An.custom=dm("custom");An.dismiss=e=>{f3({type:3,toastId:e})};An.remove=e=>f3({type:4,toastId:e});An.promise=(e,t,n)=>{let r=An.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?lb(t.success,i):void 0;return a?An.success(a,{id:r,...n,...n==null?void 0:n.success}):An.dismiss(r),i}).catch(i=>{let a=t.error?lb(t.error,i):void 0;a?An.error(a,{id:r,...n,...n==null?void 0:n.error}):An.dismiss(r)}),e};var LG=Hu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,IG=Hu`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DG=Hu`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,OG=h0("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${IG} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${DG} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,RG=Hu`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,MG=h0("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${RG} 1s linear infinite;
`,PG=Hu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,FG=Hu`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,BG=h0("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${FG} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,UG=h0("div")`
  position: absolute;
`,zG=h0("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,WG=Hu`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qG=h0("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${WG} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,HG=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?K.createElement(qG,null,t):t:n==="blank"?null:K.createElement(zG,null,K.createElement(MG,{...r}),n!=="loading"&&K.createElement(UG,null,n==="error"?K.createElement(OG,{...r}):K.createElement(BG,{...r})))},VG=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$G=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,YG="0%{opacity:0;} 100%{opacity:1;}",GG="0%{opacity:1;} 100%{opacity:0;}",XG=h0("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,KG=h0("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,QG=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=AG()?[YG,GG]:[VG(n),$G(n)];return{animation:t?`${Hu(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Hu(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};K.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?QG(e.position||t||"top-center",e.visible):{opacity:0},a=K.createElement(HG,{toast:e}),o=K.createElement(KG,{...e.ariaProps},lb(e.message,e));return K.createElement(XG,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):K.createElement(K.Fragment,null,a,o))});SG(K.createElement);wv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const ZG=()=>{const[e,t]=K.useState([]),[n,r]=K.useState([]),[i,a]=K.useState(!0),[o,c]=K.useState(!1),[u,f]=K.useState(null),[p,g]=K.useState({location_id:"",name:"",description:"",is_active:!0,priority:1});K.useEffect(()=>{w(),y()},[]);const w=async()=>{try{const P=await Xt.get("/api/default-storage-locations");t(Array.isArray(P.data)?P.data:[])}catch(P){console.error("Error fetching default storage locations:",P),t([]),An.error("Failed to load default storage locations")}finally{a(!1)}},y=async()=>{try{const P=await Xt.get("/api/locations"),Y=P.data.locations||P.data,z=Array.isArray(Y)?Y:[];r(z)}catch(P){console.error("Error fetching locations:",P),r([]),An.error("Failed to load locations")}},E=async P=>{var Y,z;if(P.preventDefault(),!p.location_id||!p.name){An.error("Location and name are required");return}try{u?(await Xt.put(`/api/default-storage-locations/${u.id}`,p),An.success("Default storage location updated!")):(await Xt.post("/api/default-storage-locations",p),An.success("Default storage location created!")),w(),j()}catch(R){console.error("Error saving default storage location:",R);const B=((z=(Y=R.response)==null?void 0:Y.data)==null?void 0:z.message)||"Failed to save default storage location";An.error(B)}},S=P=>{f(P),g({location_id:P.location_id,name:P.name,description:P.description||"",is_active:P.is_active,priority:P.priority}),c(!0)},A=async P=>{var Y,z;if(confirm("Are you sure you want to delete this default storage location?"))try{await Xt.delete(`/api/default-storage-locations/${P}`),An.success("Default storage location deleted!"),w()}catch(R){console.error("Error deleting default storage location:",R);const B=((z=(Y=R.response)==null?void 0:Y.data)==null?void 0:z.message)||"Failed to delete default storage location";An.error(B)}},j=()=>{g({location_id:"",name:"",description:"",is_active:!0,priority:1}),f(null),c(!1)},k=P=>{if(!Array.isArray(n))return"Unknown Location";const Y=n.find(z=>z.id===P);return Y?Y.name:"Unknown Location"},D=()=>{if(!Array.isArray(n)||!Array.isArray(e))return[];const P=e.filter(Y=>u?Y.id!==u.id:!0).map(Y=>Y.location_id);return n.filter(Y=>!P.includes(Y.id))};return i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Default Storage Locations"}),s.jsx("p",{className:"text-gray-600 mt-1",children:'Configure which locations are considered "main storage" for inventory calculations'})]}),s.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(pG,{className:"w-4 h-4"}),"Add Storage Location"]})]}),o&&s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:u?"Edit Default Storage Location":"Add Default Storage Location"}),s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),s.jsxs("select",{value:p.location_id,onChange:P=>g({...p,location_id:parseInt(P.target.value)}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select a location"}),D().map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name *"}),s.jsx("input",{type:"text",value:p.name,onChange:P=>g({...p,name:P.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Main Storage",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),s.jsx("input",{type:"number",value:p.priority,onChange:P=>g({...p,priority:parseInt(P.target.value)}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"1",placeholder:"1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers = higher priority"})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:p.is_active,onChange:P=>g({...p,is_active:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:p.description,onChange:P=>g({...p,description:P.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Optional description..."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(dG,{className:"w-4 h-4"}),u?"Update":"Create"]}),s.jsxs("button",{type:"button",onClick:j,className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 flex items-center gap-2",children:[s.jsx(gG,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold",children:"Configured Storage Locations"})}),e.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(hG,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No default storage locations configured"}),s.jsx("p",{className:"text-sm",children:"Add a storage location to get started"})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:e.map(P=>s.jsx("div",{className:"p-6 hover:bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mG,{className:`w-4 h-4 ${P.priority===1?"text-yellow-500":"text-gray-400"}`}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Priority ",P.priority]})]}),s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:P.name}),!P.is_active&&s.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Inactive"})]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Location: ",k(P.location_id)]}),P.description&&s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:P.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>S(P),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg",title:"Edit",children:s.jsx(fG,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>A(P.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:s.jsx(xG,{className:"w-4 h-4"})})]})]})},P.id))})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"How Default Storage Locations Work"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:' Only items in these locations count as "Available in Storage"'}),s.jsx("li",{children:" Items in other locations show their actual current location"}),s.jsx("li",{children:" This eliminates confusion between current location vs. available inventory"}),s.jsx("li",{children:" Priority determines the order for inventory calculations (1 = highest)"})]})]})]})},Vu="https://tonlager.kinsta.app",JG=async()=>{try{console.log("[DATABASE SERVICE] Testing connection to:",`${Vu}/api/database/test`);const e=await fetch(`${Vu}/api/database/test`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log("[DATABASE SERVICE] Test response status:",e.status),!e.ok){const n=await e.text();throw console.error("[DATABASE SERVICE] Test error response:",n),new Error(`HTTP error! status: ${e.status} - ${n}`)}const t=await e.json();return console.log("[DATABASE SERVICE] Test data:",t),t}catch(e){throw console.error("Error testing database connection:",e),e}},eX=async()=>{try{console.log("[DATABASE SERVICE] Fetching tables from:",`${Vu}/api/database/tables`),console.log("[DATABASE SERVICE] Token:",localStorage.getItem("token")?"Present":"Missing");const e=await fetch(`${Vu}/api/database/tables`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log("[DATABASE SERVICE] Response status:",e.status),!e.ok){const n=await e.text();throw console.error("[DATABASE SERVICE] Error response:",n),new Error(`HTTP error! status: ${e.status} - ${n}`)}const t=await e.json();return console.log("[DATABASE SERVICE] Tables data:",t),t}catch(e){throw console.error("Error fetching database tables:",e),e}},tX=async e=>{try{const t=await fetch(`${Vu}/api/database/tables/${e}/structure`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching table structure:",t),t}},nX=async(e,t=1,n=50)=>{try{const r=await fetch(`${Vu}/api/database/tables/${e}/data?page=${t}&limit=${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Error fetching table data:",r),r}},rX=async e=>{try{const t=await fetch(`${Vu}/api/database/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({query:e})});if(!t.ok){const n=await t.json();throw new Error(n.message||`HTTP error! status: ${t.status}`)}return await t.json()}catch(t){throw console.error("Error executing query:",t),t}},iX=async(e,t,n)=>{try{const r=await fetch(`${Vu}/api/database/tables/${e}/rows/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(n)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Error updating table row:",r),r}},aX=async()=>{try{const e=await fetch(`${Vu}/api/database/info`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching database info:",e),e}},sX=({onClose:e})=>{var ee,Ae,ge,Be,_e,ct,U,Z,Q,ne,ce;const[t,n]=K.useState("tables"),[r,i]=K.useState(null),[a,o]=K.useState(1),[c,u]=K.useState(""),[f,p]=K.useState(null),[g,w]=K.useState(null),[y,E]=K.useState({}),S=ai(),{data:A}=Ln({queryKey:["database-info"],queryFn:aX}),{data:j,isLoading:k,error:D}=Ln({queryKey:["database-tables"],queryFn:eX,retry:1,onError:be=>{console.error("[DATABASE MANAGER] Tables query error:",be),gn.error(`Failed to load tables: ${be.message}`)}}),{data:P}=Ln({queryKey:["table-structure",r],queryFn:()=>tX(r),enabled:!!r}),{data:Y,isLoading:z}=Ln({queryKey:["table-data",r,a],queryFn:()=>nX(r,a,50),enabled:!!r}),R=cr({mutationFn:rX,onSuccess:be=>{p(be),gn.success("Query executed successfully")},onError:be=>{gn.error(`Query failed: ${be.message}`)}}),B=cr({mutationFn:({tableName:be,id:Fe,data:ze})=>iX(be,Fe,ze),onSuccess:()=>{gn.success("Row updated successfully"),w(null),E({}),S.invalidateQueries(["table-data",r])},onError:be=>{gn.error(`Update failed: ${be.message}`)}}),q=()=>{if(!c.trim()){gn.error("Please enter a SQL query");return}R.mutate(c)},te=be=>{w(be.id),E({...be})},H=()=>{B.mutate({tableName:r,id:g,data:y})},W=()=>{w(null),E({})},J=async()=>{try{const be=await JG();gn.success(`Database connection successful! Database: ${be.database}`),console.log("[DATABASE MANAGER] Connection test result:",be)}catch(be){gn.error(`Database connection failed: ${be.message}`),console.error("[DATABASE MANAGER] Connection test failed:",be)}},ue=be=>be===null?"NULL":typeof be=="boolean"?be?"TRUE":"FALSE":typeof be=="object"?JSON.stringify(be):String(be),se=[{id:"tables",label:"Tables",icon:""},{id:"query",label:"Query",icon:""},{id:"info",label:"Database Info",icon:""}];return s.jsxs("div",{className:"fixed inset-0 bg-slate-50 z-50 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-slate-200 px-6 py-4 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Database Manager"}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Connected to: ",s.jsx("span",{className:"font-mono text-primary-600",children:"ton-lager1-cv8k6-mysql"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-slate-600",children:"Connected"})]}),s.jsx(kt,{size:"sm",variant:"outline",onClick:J,children:"Test Connection"}),s.jsx(kt,{size:"sm",variant:"outline",onClick:e||(()=>window.history.back()),children:" Back to Settings"})]})]})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"px-6 py-6",children:[s.jsx("div",{className:"border-b border-slate-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:se.map(be=>s.jsxs("button",{onClick:()=>n(be.id),className:`py-3 px-4 border-b-2 font-medium text-base flex items-center space-x-3 transition-colors ${t===be.id?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"text-lg",children:be.icon}),s.jsx("span",{children:be.label})]},be.id))})}),t==="tables"&&s.jsxs("div",{className:"flex gap-6 min-h-0",children:[s.jsx("div",{className:"w-80 flex-shrink-0",children:s.jsxs(Ht,{className:"h-fit max-h-screen overflow-hidden flex flex-col",children:[s.jsx(Ht.Header,{className:"flex-shrink-0",children:s.jsx("h3",{className:"text-lg font-semibold",children:"Database Tables"})}),s.jsx(Ht.Body,{className:"p-0 flex-1 overflow-auto",children:k?s.jsx("div",{className:"p-4 text-center text-slate-500",children:"Loading tables..."}):D?s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("div",{className:"text-red-600 mb-2",children:" Error loading tables"}),s.jsx("div",{className:"text-sm text-slate-600",children:D.message}),s.jsx(kt,{size:"sm",variant:"outline",className:"mt-2",onClick:()=>S.invalidateQueries(["database-tables"]),children:"Retry"})]}):(ee=j==null?void 0:j.tables)!=null&&ee.length?s.jsx("div",{className:"divide-y divide-slate-100",children:j.tables.map(be=>s.jsxs("button",{onClick:()=>{i(be.TABLE_NAME),o(1)},className:`w-full text-left p-4 hover:bg-slate-50 transition-colors ${r===be.TABLE_NAME?"bg-primary-50 border-r-2 border-primary-500":""}`,children:[s.jsx("div",{className:"font-medium text-slate-800",children:be.TABLE_NAME}),s.jsxs("div",{className:"text-sm text-slate-500",children:[be.TABLE_ROWS||0," rows"]})]},be.TABLE_NAME))}):s.jsx("div",{className:"p-4 text-center text-slate-500",children:"No tables found in database"})})]})}),s.jsxs("div",{className:"flex-1 flex flex-col gap-6 min-w-0 overflow-auto",children:[r&&s.jsxs(Ht,{className:"flex-shrink-0",children:[s.jsx(Ht.Header,{children:s.jsxs("h3",{className:"text-lg font-semibold",children:["Table Structure: ",r]})}),s.jsx(Ht.Body,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Column"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Type"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Null"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Key"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:(Ae=P==null?void 0:P.columns)==null?void 0:Ae.map(be=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-2 text-sm font-medium text-slate-800",children:be.COLUMN_NAME}),s.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:be.DATA_TYPE}),s.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:be.IS_NULLABLE}),s.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:be.COLUMN_KEY})]},be.COLUMN_NAME))})]})})})]}),r&&s.jsxs(Ht,{className:"flex-1 flex flex-col min-h-0",children:[s.jsx(Ht.Header,{className:"flex-shrink-0",children:s.jsxs("h3",{className:"text-lg font-semibold",children:["Table Data: ",r]})}),s.jsx(Ht.Body,{className:"p-0 flex-1 flex flex-col min-h-0",children:z?s.jsx("div",{className:"p-4 text-center text-slate-500",children:"Loading data..."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50 sticky top-0",children:s.jsxs("tr",{children:[((ge=Y==null?void 0:Y.data)==null?void 0:ge[0])&&Object.keys(Y.data[0]).map(be=>s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:be},be)),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:(Be=Y==null?void 0:Y.data)==null?void 0:Be.map(be=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[Object.entries(be).map(([Fe,ze])=>s.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:g===be.id?s.jsx(kn,{value:y[Fe]||"",onChange:Ze=>E({...y,[Fe]:Ze.target.value}),className:"text-xs"}):s.jsx("span",{className:"font-mono text-xs",children:ue(ze)})},Fe)),s.jsx("td",{className:"px-4 py-2 text-sm",children:g===be.id?s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(kt,{size:"sm",onClick:H,children:"Save"}),s.jsx(kt,{size:"sm",variant:"outline",onClick:W,children:"Cancel"})]}):s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>te(be),children:"Edit"})})]},be.id))})]})}),(Y==null?void 0:Y.pagination)&&s.jsxs("div",{className:"p-4 border-t border-slate-200 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",Y.pagination.page," of ",Y.pagination.totalPages,"(",Y.pagination.total," total rows)"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>o(Math.max(1,a-1)),disabled:a===1,children:"Previous"}),s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>o(a+1),disabled:a>=Y.pagination.totalPages,children:"Next"})]})]})]})})]})]})]}),t==="query"&&s.jsxs("div",{className:"flex flex-col gap-6 min-h-0",children:[s.jsxs(Ht,{className:"flex-shrink-0",children:[s.jsxs(Ht.Header,{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"SQL Query Editor"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Execute SELECT queries to view data. Dangerous operations are restricted."})]}),s.jsx(Ht.Body,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"SQL Query"}),s.jsx("textarea",{value:c,onChange:be=>u(be.target.value),placeholder:"SELECT * FROM equipment WHERE status = 'available';",className:"w-full h-48 p-4 border border-slate-300 rounded-md font-mono text-base focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-y"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"text-sm text-slate-500",children:" Tip: Only SELECT queries are allowed for security"}),s.jsx(kt,{onClick:q,disabled:R.isPending,children:R.isPending?"Executing...":"Execute Query"})]})]})})]}),f&&s.jsxs(Ht,{className:"flex-1 flex flex-col min-h-0",children:[s.jsxs(Ht.Header,{className:"flex-shrink-0",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Query Results"}),s.jsxs("p",{className:"text-sm text-slate-600",children:[(_e=f.metadata)==null?void 0:_e.rowCount," rows returned"]})]}),s.jsx(Ht.Body,{className:"p-0 flex-1 flex flex-col min-h-0",children:s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50 sticky top-0",children:s.jsx("tr",{children:((ct=f.results)==null?void 0:ct[0])&&Object.keys(f.results[0]).map(be=>s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase",children:be},be))})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:(U=f.results)==null?void 0:U.map((be,Fe)=>s.jsx("tr",{className:"hover:bg-slate-50",children:Object.entries(be).map(([ze,Ze])=>s.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:s.jsx("span",{className:"font-mono text-xs",children:ue(Ze)})},ze))},Fe))})]})})})]})]}),t==="info"&&s.jsxs(Ht,{className:"max-w-4xl",children:[s.jsx(Ht.Header,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Database Information"})}),s.jsx(Ht.Body,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Connection Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Host:"}),s.jsx("span",{className:"font-mono",children:"ton-lager1-cv8k6-mysql.ton-lager1-cv8k6.svc.cluster.local"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Port:"}),s.jsx("span",{className:"font-mono",children:"3306"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Database:"}),s.jsx("span",{className:"font-mono",children:((Z=A==null?void 0:A.database)==null?void 0:Z.database_name)||"substantial-gray-unicorn"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"User:"}),s.jsx("span",{className:"font-mono",children:"canid"})]})]})]}),A&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Server Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"MySQL Version:"}),s.jsx("span",{className:"font-mono",children:(Q=A.server)==null?void 0:Q.version})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Character Set:"}),s.jsx("span",{className:"font-mono",children:(ne=A.database)==null?void 0:ne.charset})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Collation:"}),s.jsx("span",{className:"font-mono",children:(ce=A.database)==null?void 0:ce.collation})]})]})]})]})})]})]})})]})},oX=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),lX=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),B8=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),U8=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),s.jsx("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),s.jsx("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"})]}),cX=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),uX=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),s.jsx("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]}),dX=()=>{const{user:e}=ss(),[t,n]=K.useState("profile"),[r,i]=K.useState(""),[a,o]=K.useState(""),[c,u]=K.useState(""),[f,p]=K.useState(""),[g,w]=K.useState(""),[y,E]=K.useState(!1),S=[{id:"profile",label:"Profile",icon:s.jsx(oX,{})},{id:"security",label:"Security",icon:s.jsx(lX,{})}];(e==null?void 0:e.role)==="admin"&&(S.push({id:"equipmentTypes",label:"Equipment Types",icon:s.jsx(B8,{})}),S.push({id:"categories",label:"Categories",icon:s.jsx(B8,{})}),S.push({id:"locations",label:"Locations",icon:s.jsx(cX,{})}),S.push({id:"defaultStorage",label:"Default Storage",icon:s.jsx(uX,{})}),S.push({id:"database",label:"Database",icon:s.jsx(U8,{})}));const A=j=>{if(j.preventDefault(),p(""),w(""),!r){p("Current password is required");return}if(!a){p("New password is required");return}if(a!==c){p("New passwords do not match");return}if(a.length<8){p("New password must be at least 8 characters");return}w("Password changed successfully"),i(""),o(""),u("")};return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-8",children:"User Settings"}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsx("div",{className:"w-full md:w-64",children:s.jsx(Ht,{children:s.jsx(Ht.Body,{className:"p-0",children:s.jsx("nav",{children:s.jsx("ul",{className:"divide-y divide-slate-100",children:S.map(j=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>n(j.id),className:`w-full text-left px-4 py-3 flex items-center transition-colors ${t===j.id?"bg-primary-50 text-primary-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,"aria-current":t===j.id?"page":void 0,children:[s.jsx("span",{className:"mr-3 text-slate-500",children:j.icon}),j.label]})},j.id))})})})})}),s.jsx("div",{className:"flex-1",children:s.jsx(Ht,{children:s.jsxs(Ht.Body,{children:[t==="profile"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Profile Settings"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),s.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200",children:e==null?void 0:e.username})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),s.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200 capitalize",children:e==null?void 0:e.role})]})]})]}),t==="security"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Security Settings"}),f&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:f}),g&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:g}),s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[s.jsx(kn,{type:"password",id:"current-password",label:"Current Password",value:r,onChange:j=>i(j.target.value),placeholder:"Enter your current password"}),s.jsx(kn,{type:"password",id:"new-password",label:"New Password",value:a,onChange:j=>o(j.target.value),placeholder:"Enter your new password"}),s.jsx(kn,{type:"password",id:"confirm-password",label:"Confirm New Password",value:c,onChange:j=>u(j.target.value),placeholder:"Confirm your new password"}),s.jsx("div",{children:s.jsx(kt,{type:"submit",variant:"primary",children:"Change Password"})})]})]}),t==="equipmentTypes"&&(e==null?void 0:e.role)==="admin"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Types"}),s.jsx(eG,{})]}),t==="categories"&&(e==null?void 0:e.role)==="admin"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Categories"}),s.jsx(iG,{})]}),t==="locations"&&(e==null?void 0:e.role)==="admin"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Locations"}),s.jsx(lG,{})]}),t==="defaultStorage"&&(e==null?void 0:e.role)==="admin"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Default Storage Locations"}),s.jsx(ZG,{})]}),t==="database"&&(e==null?void 0:e.role)==="admin"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Database Management"}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"Database Manager"}),s.jsx("p",{className:"text-slate-600 mb-4",children:"Access the full-featured database management interface to view tables, execute queries, and manage your MySQL database directly."}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-500",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:"Connected to ton-lager1-cv8k6-mysql"})]}),s.jsx("span",{children:""}),s.jsx("span",{children:"MySQL 9.0"}),s.jsx("span",{children:""}),s.jsx("span",{children:"Database: substantial-gray-unicorn"})]})]}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs(kt,{onClick:()=>E(!0),variant:"primary",className:"flex items-center space-x-2",children:[s.jsx(U8,{}),s.jsx("span",{children:"Open Database Manager"})]}),s.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Opens in full-screen mode"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:" Browse Tables"}),s.jsx("p",{className:"text-sm text-slate-600",children:"View all database tables, their structure, and data with inline editing capabilities."})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:" Execute Queries"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Run SELECT queries to analyze data and generate custom reports."})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:" Database Info"}),s.jsx("p",{className:"text-sm text-slate-600",children:"View connection details, server information, and database statistics."})]})]})]})]})]})})})]}),y&&s.jsx(sX,{onClose:()=>E(!1)})]})},fX=({isOpen:e,onClose:t,equipmentId:n})=>{const r=ai(),[i,a]=K.useState(""),[o,c]=K.useState(null),[u,f]=K.useState(!1),[p,g]=K.useState(null);K.useEffect(()=>{e&&n&&(f(!0),lv(n).then(E=>{c(E),a(`${E.serial_number}-COPY`),f(!1)}).catch(E=>{console.error("Error fetching equipment details:",E),g("Failed to load equipment details"),f(!1)}))},[e,n]);const w=cr({mutationFn:async()=>{if(!o)return null;console.log("Original equipment data:",o);const E={type_id:o.type_id||1,brand:o.brand,model:o.model,serial_number:i,status:o.status||"available",location:o.location||"",description:o.description||""};return console.log("Duplicate data being sent:",E),rW(E)},onSuccess:E=>{console.log("Successfully duplicated equipment:",E),r.invalidateQueries(["equipment"]),t()},onError:E=>{var S,A;console.error("Error duplicating equipment:",E),(A=(S=E.response)==null?void 0:S.data)!=null&&A.message?g(E.response.data.message):g("Failed to duplicate equipment. Please check all required fields.")}}),y=E=>{if(E.preventDefault(),!i.trim()){g("Serial number is required");return}w.mutate()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Duplicate Equipment"}),u?s.jsx("div",{className:"text-center py-4",children:"Loading..."}):p?s.jsx("div",{className:"text-red-600 mb-4",children:p}):s.jsxs("form",{onSubmit:y,children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-gray-600 mb-2",children:["You are about to duplicate: ",s.jsxs("span",{className:"font-medium",children:[o==null?void 0:o.brand," ",o==null?void 0:o.model]})]}),s.jsx("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),s.jsx("input",{type:"text",id:"serialNumber",value:i,onChange:E=>a(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,autoFocus:!0}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please provide a unique serial number for the duplicated equipment."})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                  hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                  hover:shadow-sm transition-all`,children:"Cancel"}),s.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                  hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                  hover:shadow-sm transition-all focus:outline-none focus:ring-1 focus:ring-primary-500`,disabled:w.isLoading,children:w.isLoading?"Duplicating...":"Duplicate"})]})]})]})}):null},hX=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{var te,H,W;const i=r.length>0?r:n?[n]:[],a=ai(),[o,c]=K.useState(2),[u,f]=K.useState(""),[p,g]=K.useState([]),[w,y]=K.useState([]),[E,S]=K.useState(!1),[A,j]=K.useState(null),[k,D]=K.useState(0),[P,Y]=K.useState(!1);K.useEffect(()=>{if(e&&i.length>0){S(!0),y([]);const J=i.map(ue=>lv(ue));Promise.all(J).then(ue=>{if(y(ue),ue.length===1){const se=`${ue[0].serial_number}-{n}`;f(se)}else f("BATCH-{n}");S(!1)}).catch(ue=>{console.error("Error fetching equipment details:",ue),j("Failed to load equipment details"),S(!1)})}},[e,i]),K.useEffect(()=>{if(u&&o>0){const J=[];for(let ue=1;ue<=Math.min(o,5);ue++)J.push(z(u,ue));o>5&&(J.push("..."),J.push(z(u,o))),g(J)}},[u,o]);const z=(J,ue)=>J.replace("{n}",ue),R=cr({mutationFn:async({equipmentData:J,serialNumber:ue})=>{if(!J)return null;const se={type_id:J.type_id,brand:J.brand,model:J.model,serial_number:ue,status:J.status||"available",quantity:J.quantity||1,description:J.description||"",...J.category_id?{category_id:J.category_id}:{},...J.location_id?{location_id:J.location_id}:{},...J.location&&!J.location_id?{location:J.location}:{},...J.reference_image_id?{reference_image_id:J.reference_image_id}:{}},ee=new FormData;return Object.keys(se).forEach(ge=>{se[ge]!==null&&se[ge]!==void 0&&ee.append(ge,se[ge])}),(await Xt.post("/api/equipment",ee,{headers:{"Content-Type":"multipart/form-data"}})).data}}),B=async()=>{var J,ue,se,ee;if(w.length===0){j("No equipment data available");return}if(!u.includes("{n}")){j("Serial number pattern must include {n} placeholder");return}if(o<1||o>50){j("Number of copies must be between 1 and 50");return}Y(!0),D(0),j("");try{const Ae=w.length*o;let ge=0;for(const Be of w)for(let _e=1;_e<=o;_e++){let ct;w.length===1?ct=z(u,_e):ct=z(u.replace("{n}",`${Be.id}-{n}`),_e);try{const U=await R.mutateAsync({equipmentData:Be,serialNumber:ct})}catch(U){console.error(`Error creating duplicate ${_e} for equipment ID ${Be.id}:`,U);let Z=`Failed to create duplicate ${_e} for ${Be.brand} ${Be.model}`;throw(ue=(J=U.response)==null?void 0:J.data)!=null&&ue.message?Z+=`: ${U.response.data.message}`:U.message&&(Z+=`: ${U.message}`),new Error(Z)}ge++,D(Math.floor(ge/Ae*100))}a.invalidateQueries(["equipment"]),q()}catch(Ae){console.error("Error in batch duplication:",Ae);let ge="Failed to duplicate equipment";(ee=(se=Ae.response)==null?void 0:se.data)!=null&&ee.message?ge=Ae.response.data.message:Ae.message&&(ge=Ae.message),j(ge)}finally{Y(!1)}},q=()=>{c(2),f(""),g([]),y([]),S(!1),j(null),D(0),Y(!1),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Batch Duplicate Equipment"}),E?s.jsx("div",{className:"text-center py-4",children:"Loading..."}):A?s.jsx("div",{className:"text-red-600 mb-4",children:A}):s.jsxs("div",{children:[s.jsxs("div",{className:"text-gray-600 mb-4",children:[s.jsxs("p",{children:["You are about to duplicate ",w.length," item",w.length!==1?"s":"",":"]}),w.length===1?s.jsxs("p",{className:"font-medium mt-1",children:[(te=w[0])==null?void 0:te.brand," ",(H=w[0])==null?void 0:H.model," (SN: ",(W=w[0])==null?void 0:W.serial_number,")"]}):s.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border border-gray-200 rounded-md p-2",children:s.jsx("ul",{className:"text-sm",children:w.map((J,ue)=>s.jsxs("li",{className:"mb-1",children:[J.brand," ",J.model," (SN: ",J.serial_number,")"]},ue))})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"count",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Copies"}),s.jsx("input",{type:"number",id:"count",min:"1",max:"50",value:o,onChange:J=>c(Math.min(50,Math.max(1,parseInt(J.target.value)||1))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"serialNumberPattern",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Pattern"}),s.jsx("input",{type:"text",id:"serialNumberPattern",value:u,onChange:J=>f(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Use {n} for the copy number"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Use ","{n}"," as a placeholder for the copy number."]})]}),p.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Preview"}),s.jsx("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200",children:s.jsx("ul",{className:"text-sm text-gray-600",children:p.map((J,ue)=>s.jsx("li",{children:J},ue))})})]}),P&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${k}%`}})}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1 text-center",children:[k,"% Complete"]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(kt,{variant:"outline",onClick:q,disabled:P,children:"Cancel"}),s.jsx(kt,{variant:"primary",onClick:B,disabled:P||!u.includes("{n}"),children:P?"Processing...":"Create Copies"})]})]})]})}):null},Kj=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{const i=r.length>0?r:n?[n]:[],[a,o]=K.useState("available");K.useState(1);const[c,u]=K.useState(!1),[f,p]=K.useState(""),[g,w]=K.useState(""),y=ai(),E=["available","in-use","maintenance","unavailable","broken"],S=cr({mutationFn:async j=>{const k=j.equipmentIds.map(D=>sW(D,j.status));return Promise.all(k)},onSuccess:()=>{y.invalidateQueries(["equipment"]),w(`Status successfully updated to ${a} for ${i.length} item${i.length!==1?"s":""}`),u(!1),setTimeout(()=>{t(),w("")},2e3)},onError:j=>{var k,D;console.error("Error updating status:",j),p(((D=(k=j.response)==null?void 0:k.data)==null?void 0:D.message)||"Failed to update status"),u(!1)}}),A=j=>{if(j.preventDefault(),i.length===0){p("No equipment items selected");return}u(!0),p(""),w(""),S.mutate({equipmentIds:i,status:a})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Status"}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-600",children:["You are updating the status of ",i.length," item",i.length!==1?"s":"","."]})}),f&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:f}),g&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:g}),s.jsxs("form",{onSubmit:A,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Status"}),s.jsx("select",{id:"status",value:a,onChange:j=>o(j.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:E.map(j=>s.jsx("option",{value:j,children:j.charAt(0).toUpperCase()+j.slice(1)},j))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:c,children:"Cancel"}),s.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:c,children:c?"Updating...":"Update Status"})]})]})]})}):null};Kj.propTypes={isOpen:Ge.bool.isRequired,onClose:Ge.func.isRequired,equipmentId:Ge.oneOfType([Ge.string,Ge.number]),selectedItems:Ge.array};const Qj=({isOpen:e,onClose:t,equipmentId:n,selectedItems:r=[]})=>{var z;const i=r.length>0?r:n?[n]:[],[a,o]=K.useState(""),[c,u]=K.useState(""),[f,p]=K.useState(!1),[g,w]=K.useState(!1),[y,E]=K.useState(""),[S,A]=K.useState(""),j=ai(),{data:k}=Ln({queryKey:["locations"],queryFn:hf,staleTime:3e5}),D=cr({mutationFn:async R=>{const B=R.equipmentIds.map(q=>oW(q,R.locationData));return Promise.all(B)},onSuccess:()=>{var B;j.invalidateQueries(["equipment"]);const R=f?c:((B=k==null?void 0:k.locations.find(q=>q.id.toString()===a))==null?void 0:B.name)||"selected location";A(`Location successfully updated to ${R} for ${i.length} item${i.length!==1?"s":""}`),w(!1),setTimeout(()=>{t(),A("")},2e3)},onError:R=>{var B,q;console.error("Error updating location:",R),E(((q=(B=R.response)==null?void 0:B.data)==null?void 0:q.message)||"Failed to update location"),w(!1)}}),P=R=>{if(R.preventDefault(),i.length===0){E("No equipment items selected");return}w(!0),E(""),A("");const B=f?{location:c}:{location_id:a};D.mutate({equipmentIds:i,locationData:B})},Y=()=>{p(!f),o(""),u("")};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Location"}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-600",children:["You are updating the location of ",i.length," item",i.length!==1?"s":"","."]})}),y&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:y}),S&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:S}),s.jsxs("form",{onSubmit:P,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"flex items-center mb-3",children:s.jsx("button",{type:"button",onClick:Y,className:"text-sm text-primary-600 hover:text-primary-800",children:f?"Select from existing locations":"Enter custom location"})}),f?s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customLocation",className:"block text-sm font-medium text-slate-700 mb-1",children:"Custom Location"}),s.jsx("input",{type:"text",id:"customLocation",value:c,onChange:R=>u(R.target.value),className:"w-full p-2 border border-slate-300 rounded-md",placeholder:"Enter location name",required:!0})]}):s.jsxs("div",{children:[s.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),s.jsxs("select",{id:"locationId",value:a,onChange:R=>o(R.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[s.jsx("option",{value:"",children:"Select a location"}),(z=k==null?void 0:k.locations)==null?void 0:z.map(R=>s.jsx("option",{value:R.id.toString(),children:R.name},R.id))]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:t,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:g,children:"Cancel"}),s.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:g||!a&&!c,children:g?"Updating...":"Update Location"})]})]})]})}):null};Qj.propTypes={isOpen:Ge.bool.isRequired,onClose:Ge.func.isRequired,equipmentId:Ge.oneOfType([Ge.string,Ge.number]),selectedItems:Ge.array};const Zj=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=K.useState(""),[a,o]=K.useState(!1),[c,u]=K.useState(""),[f,p]=K.useState(""),g=ai(),{data:w,isLoading:y}=Ln({queryKey:["equipment-types"],queryFn:Qu,staleTime:3e5});K.useEffect(()=>{w!=null&&w.types&&w.types.length>0&&!r&&i(w.types[0].id.toString())},[w,r]);const E=cr({mutationFn:async A=>{const j=A.equipmentIds.map(k=>lW(k,A.typeId));return Promise.all(j)},onSuccess:()=>{var j;g.invalidateQueries(["equipment"]);const A=((j=w==null?void 0:w.types.find(k=>k.id.toString()===r))==null?void 0:j.name)||"selected type";p(`Type successfully updated to ${A} for ${n.length} item${n.length!==1?"s":""}`),o(!1),setTimeout(()=>{t(),p("")},2e3)},onError:A=>{var j,k;console.error("Error updating type:",A),u(((k=(j=A.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to update type"),o(!1)}}),S=A=>{if(A.preventDefault(),n.length===0){u("No equipment items selected");return}if(!r){u("Please select a type");return}o(!0),u(""),p(""),E.mutate({equipmentIds:n,typeId:r})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Type"}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-600",children:["You are updating the type of ",n.length," item",n.length!==1?"s":"","."]})}),c&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:c}),f&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:f}),s.jsxs("form",{onSubmit:S,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Type"}),s.jsxs("select",{id:"type",value:r,onChange:A=>i(A.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[s.jsx("option",{value:"",children:"Select a type"}),w!=null&&w.types&&w.types.length>0?w.types.map(A=>s.jsx("option",{value:A.id,children:A.name},A.id)):s.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(kt,{variant:"outline",onClick:t,disabled:a,children:"Cancel"}),s.jsx(kt,{variant:"primary",type:"submit",disabled:a||!r,children:a?"Updating...":"Update Type"})]})]})]})}):null};Zj.propTypes={isOpen:Ge.bool.isRequired,onClose:Ge.func.isRequired,selectedItems:Ge.array};const Jj=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=K.useState(""),[a,o]=K.useState(!1),[c,u]=K.useState(""),[f,p]=K.useState(""),g=ai(),{data:w,isLoading:y}=Ln({queryKey:["categories"],queryFn:l1,staleTime:3e5});K.useEffect(()=>{w!=null&&w.categories&&w.categories.length>0&&!r&&i(w.categories[0].id.toString())},[w,r]);const E=cr({mutationFn:async A=>{const j=A.equipmentIds.map(k=>cW(k,A.categoryId));return Promise.all(j)},onSuccess:()=>{var j;g.invalidateQueries(["equipment"]);const A=((j=w==null?void 0:w.categories.find(k=>k.id.toString()===r))==null?void 0:j.name)||"selected category";p(`Category successfully updated to ${A} for ${n.length} item${n.length!==1?"s":""}`),o(!1),setTimeout(()=>{t(),p("")},2e3)},onError:A=>{var j,k;console.error("Error updating category:",A),u(((k=(j=A.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to update category"),o(!1)}}),S=A=>{if(A.preventDefault(),n.length===0){u("No equipment items selected");return}o(!0),u(""),p(""),E.mutate({equipmentIds:n,categoryId:r||null})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Category"}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-600",children:["You are updating the category of ",n.length," item",n.length!==1?"s":"","."]})}),c&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:c}),f&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:f}),s.jsxs("form",{onSubmit:S,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Category"}),s.jsxs("select",{id:"category",value:r,onChange:A=>i(A.target.value),className:"w-full p-2 border border-slate-300 rounded-md",children:[s.jsx("option",{value:"",children:"None (Remove Category)"}),w!=null&&w.categories&&w.categories.length>0?w.categories.map(A=>s.jsx("option",{value:A.id,children:A.name},A.id)):s.jsx("option",{value:"",disabled:!0,children:"Loading categories..."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(kt,{variant:"outline",onClick:t,disabled:a,children:"Cancel"}),s.jsx(kt,{variant:"primary",type:"submit",disabled:a,children:a?"Updating...":"Update Category"})]})]})]})}):null};Jj.propTypes={isOpen:Ge.bool.isRequired,onClose:Ge.func.isRequired,selectedItems:Ge.array};const ek=({isOpen:e,onClose:t,selectedItems:n=[]})=>{const[r,i]=K.useState(""),[a,o]=K.useState(""),[c,u]=K.useState(!0),[f,p]=K.useState(!0),[g,w]=K.useState(!1),[y,E]=K.useState(""),[S,A]=K.useState(""),j=ai(),k=cr({mutationFn:async P=>{const Y=P.equipmentIds.map(z=>uW(z,P.updateData));return Promise.all(Y)},onSuccess:()=>{j.invalidateQueries(["equipment"]);let P="Successfully updated ";c&&f?P+=`brand to "${r}" and model to "${a}"`:c?P+=`brand to "${r}"`:f&&(P+=`model to "${a}"`),A(`${P} for ${n.length} item${n.length!==1?"s":""}`),w(!1),setTimeout(()=>{t(),A("")},2e3)},onError:P=>{var Y,z;console.error("Error updating brand/model:",P),E(((z=(Y=P.response)==null?void 0:Y.data)==null?void 0:z.message)||"Failed to update brand/model"),w(!1)}}),D=P=>{if(P.preventDefault(),n.length===0){E("No equipment items selected");return}if(!c&&!f){E("Please select at least one field to update");return}if(c&&!r||f&&!a){E("Please fill in all selected fields");return}w(!0),E(""),A("");const Y={};c&&(Y.brand=r),f&&(Y.model=a),k.mutate({equipmentIds:n,updateData:Y})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Brand & Model"}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-600",children:["You are updating ",n.length," item",n.length!==1?"s":"","."]})}),y&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:y}),S&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:S}),s.jsxs("form",{onSubmit:D,children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("input",{type:"checkbox",id:"updateBrand",checked:c,onChange:P=>u(P.target.checked),className:"mr-2"}),s.jsx("label",{htmlFor:"updateBrand",className:"text-sm font-medium text-slate-700",children:"Update Brand"})]}),s.jsx("input",{type:"text",id:"brand",value:r,onChange:P=>i(P.target.value),disabled:!c,className:`w-full p-2 border border-slate-300 rounded-md ${c?"":"bg-slate-100"}`,placeholder:"Enter new brand"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("input",{type:"checkbox",id:"updateModel",checked:f,onChange:P=>p(P.target.checked),className:"mr-2"}),s.jsx("label",{htmlFor:"updateModel",className:"text-sm font-medium text-slate-700",children:"Update Model"})]}),s.jsx("input",{type:"text",id:"model",value:a,onChange:P=>o(P.target.value),disabled:!f,className:`w-full p-2 border border-slate-300 rounded-md ${f?"":"bg-slate-100"}`,placeholder:"Enter new model"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(kt,{variant:"outline",onClick:t,disabled:g,children:"Cancel"}),s.jsx(kt,{variant:"primary",type:"submit",disabled:g||!c&&!f||c&&!r||f&&!a,children:g?"Updating...":"Update"})]})]})]})}):null};ek.propTypes={isOpen:Ge.bool.isRequired,onClose:Ge.func.isRequired,selectedItems:Ge.array};const h3=({onBatchDuplicate:e,onBatchStatusUpdate:t,onBatchLocationChange:n,equipmentId:r})=>{const[i,a]=K.useState(!1),o=K.useRef(null),c=Do();K.useEffect(()=>{const E=S=>{o.current&&!o.current.contains(S.target)&&a(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const u=()=>{a(!i)},f=()=>{a(!1),c(`/equipment/${r}`)},p=()=>{a(!1),c(`/equipment/${r}/edit`)},g=()=>{a(!1),e(r)},w=()=>{a(!1),t&&t(r)},y=()=>{a(!1),n&&n(r)};return s.jsxs("div",{className:"relative",ref:o,children:[s.jsx("button",{onClick:u,className:"p-1 rounded-md hover:bg-slate-100 border border-slate-200",title:"Actions","aria-label":"Actions menu",children:s.jsx(H7,{className:"w-4 h-4 text-slate-600"})}),i&&s.jsx("div",{className:"dropdown-menu",children:s.jsxs("div",{className:"py-0.5",children:[s.jsxs("button",{onClick:f,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx(dh,{className:"w-3.5 h-3.5 mr-1.5"}),"View Details"]}),s.jsxs("button",{onClick:p,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx(sc,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit"]}),s.jsxs("button",{onClick:g,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx($4,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),s.jsxs("button",{onClick:w,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Update Status"]}),s.jsxs("button",{onClick:y,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Location"]})]})})]})};h3.propTypes={onBatchDuplicate:Ge.func.isRequired,onBatchStatusUpdate:Ge.func,onBatchLocationChange:Ge.func,equipmentId:Ge.oneOfType([Ge.string,Ge.number]).isRequired};const tk=({selectedItems:e,onBatchDuplicate:t,onBatchStatusUpdate:n,onBatchLocationChange:r,onBatchTypeChange:i,onBatchCategoryChange:a,onBatchBrandModelChange:o,onClearSelection:c})=>{const[u,f]=K.useState(!1),p=K.useRef(null);Ln({queryKey:["equipment-types"],queryFn:Qu,staleTime:3e5}),Ln({queryKey:["locations"],queryFn:hf,staleTime:3e5}),Ln({queryKey:["categories"],queryFn:l1,staleTime:3e5}),K.useEffect(()=>{const k=D=>{p.current&&!p.current.contains(D.target)&&f(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]);const g=()=>{f(!u)},w=()=>{f(!1),t()},y=()=>{f(!1),n()},E=()=>{f(!1),r()},S=()=>{f(!1),i()},A=()=>{f(!1),a()},j=()=>{f(!1),o()};return s.jsxs("div",{className:"relative",ref:p,children:[s.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-2 py-1 rounded-md border border-blue-100",children:[s.jsxs("span",{className:"text-xs font-medium text-blue-700",children:[e.length," item",e.length!==1?"s":""," selected"]}),s.jsx(kt,{variant:"outline",size:"sm",onClick:c,className:"text-xs py-0.5 px-2 bg-white",children:"Clear"}),s.jsxs(kt,{variant:"outline",size:"sm",onClick:g,className:"flex items-center text-xs py-0.5 px-2 bg-white",children:["Actions ",s.jsx(H7,{className:"w-3 h-3 ml-1"})]})]}),u&&s.jsx("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white rounded-md shadow-lg border border-slate-200 w-48",children:s.jsxs("div",{className:"py-0.5",children:[s.jsxs("button",{onClick:w,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx($4,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),s.jsxs("button",{onClick:y,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Update Status"]}),s.jsxs("button",{onClick:E,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Location"]}),s.jsxs("button",{onClick:S,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Type"]}),s.jsxs("button",{onClick:A,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Category"]}),s.jsxs("button",{onClick:j,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[s.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Update Brand/Model"]})]})})]})};tk.propTypes={selectedItems:Ge.array.isRequired,onBatchDuplicate:Ge.func.isRequired,onBatchStatusUpdate:Ge.func.isRequired,onBatchLocationChange:Ge.func.isRequired,onBatchTypeChange:Ge.func,onBatchCategoryChange:Ge.func,onBatchBrandModelChange:Ge.func,onClearSelection:Ge.func.isRequired};const nk=({equipment:e,onDuplicate:t,onSelect:n,isSelected:r})=>{const i=Do();ss();const[a,o]=K.useState(!1);let c=null;if(e.reference_image_id)c=Y2(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const p=e.files.find(g=>g.file_type==="image");p&&(c=Y2(p.id,!0))}const u=p=>{switch(p){case"available":return"badge-success";case"in-use":return"badge-info";case"maintenance":return"badge-warning";case"unavailable":return"badge-secondary";case"broken":return"badge-danger";default:return"badge-secondary"}},f=p=>{p.target.type==="checkbox"||p.target.closest("button")||p.target.closest("a")||p.target.closest(".btn-icon")||i(`/equipment/${e.id}`)};return s.jsxs("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden h-full ${r?"bg-blue-50 border-2 border-blue-300":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:f,children:[s.jsx("div",{className:"absolute top-2 left-2 z-10",children:s.jsx("input",{type:"checkbox",checked:r,onChange:()=>n&&n(e.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})}),s.jsx("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:c?s.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:c,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):s.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:s.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&s.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),s.jsx("span",{className:`badge ${u(e.status)}`,children:e.status})]}),s.jsxs("h2",{className:"text-lg font-semibold mb-1",children:[e.brand," ",e.model]}),s.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",e.serial_number]}),e.location&&s.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Location: ",e.location]}),s.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Quantity: ",s.jsx("span",{className:"font-medium text-slate-800",children:e.quantity||1})]}),s.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[s.jsx(ca,{to:`/equipment/${e.id}/edit`,className:"btn-icon text-slate-600 hover:text-slate-800 hover:bg-slate-50",title:"Edit equipment",children:s.jsx(sc,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>t(e.id),className:"btn-icon text-green-600 hover:text-green-800 hover:bg-green-50",title:"Duplicate equipment",children:s.jsx($4,{className:"w-5 h-5"})}),s.jsx(h3,{equipmentId:e.id,onBatchDuplicate:()=>{const p=new CustomEvent("batchDuplicate",{detail:{id:e.id}});document.dispatchEvent(p)},onBatchStatusUpdate:()=>{const p=new CustomEvent("batchStatusUpdate",{detail:{id:e.id}});document.dispatchEvent(p)},onBatchLocationChange:()=>{const p=new CustomEvent("batchLocationChange",{detail:{id:e.id}});document.dispatchEvent(p)}})]})]})]})};nk.propTypes={equipment:Ge.object.isRequired,onDuplicate:Ge.func.isRequired,onSelect:Ge.func,isSelected:Ge.bool};const Nu=({field:e,label:t,currentSortField:n,currentSortOrder:r,onSort:i,className:a=""})=>{const o=n===e;return s.jsx("th",{className:`table-header-cell cursor-pointer select-none ${a}`,onClick:()=>i(e),children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:t}),s.jsx("div",{className:"flex flex-col h-4 justify-center",children:o?r==="asc"?s.jsx(U_,{className:"w-3 h-3 text-primary-600"}):s.jsx(bW,{className:"w-3 h-3 text-primary-600"}):s.jsx("div",{className:"w-3 h-3 opacity-60",children:s.jsx(U_,{className:"w-3 h-3 text-gray-500"})})})]})})};Nu.propTypes={field:Ge.string.isRequired,label:Ge.string.isRequired,currentSortField:Ge.string.isRequired,currentSortOrder:Ge.string.isRequired,onSort:Ge.func.isRequired,className:Ge.string};function mf(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(p){try{f(r.next(p))}catch(g){o(g)}}function u(p){try{f(r.throw(p))}catch(g){o(g)}}function f(p){p.done?a(p.value):i(p.value).then(c,u)}f((r=r.apply(e,t||[])).next())})}const pX=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Xh(e,t,n){const r=mX(e),{webkitRelativePath:i}=e,a=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&z8(r,"path",a),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),z8(r,"relativePath",a),r}function mX(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=pX.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function z8(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const xX=[".DS_Store","Thumbs.db"];function gX(e){return mf(this,void 0,void 0,function*(){return cg(e)&&vX(e.dataTransfer)?NX(e.dataTransfer,e.type):wX(e)?yX(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?bX(e):[]})}function vX(e){return cg(e)}function wX(e){return cg(e)&&cg(e.target)}function cg(e){return typeof e=="object"&&e!==null}function yX(e){return cb(e.target.files).map(t=>Xh(t))}function bX(e){return mf(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Xh(n))})}function NX(e,t){return mf(this,void 0,void 0,function*(){if(e.items){const n=cb(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(_X));return W8(rk(r))}return W8(cb(e.files).map(n=>Xh(n)))})}function W8(e){return e.filter(t=>xX.indexOf(t.name)===-1)}function cb(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function _X(e){if(typeof e.webkitGetAsEntry!="function")return q8(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?ik(t):q8(e,t)}function rk(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?rk(n):[n]],[])}function q8(e,t){return mf(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const a=yield e.getAsFileSystemHandle();if(a===null)throw new Error(`${e} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,Xh(o)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Xh(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function SX(e){return mf(this,void 0,void 0,function*(){return e.isDirectory?ik(e):CX(e)})}function ik(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function a(){t.readEntries(o=>mf(this,void 0,void 0,function*(){if(o.length){const c=Promise.all(o.map(SX));i.push(c),a()}else try{const c=yield Promise.all(i);n(c)}catch(c){r(c)}}),o=>{r(o)})}a()})}function CX(e){return mf(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=Xh(r,e.fullPath);t(i)},r=>{n(r)})})})}var dy=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(o){var c=o.trim().toLowerCase();return c.charAt(0)==="."?r.toLowerCase().endsWith(c):c.endsWith("/*")?a===c.replace(/\/.*$/,""):i===c})}return!0};function H8(e){return jX(e)||AX(e)||sk(e)||EX()}function EX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jX(e){if(Array.isArray(e))return ub(e)}function V8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(n),!0).forEach(function(r){ak(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ak(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qp(e,t){return LX(e)||TX(e,t)||sk(e,t)||kX()}function kX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sk(e,t){if(e){if(typeof e=="string")return ub(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ub(e,t)}}function ub(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TX(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,c;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(u){a=!0,c=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw c}}return r}}function LX(e){if(Array.isArray(e))return e}var IX=typeof dy=="function"?dy:dy.default,DX="file-invalid-type",OX="file-too-large",RX="file-too-small",MX="too-many-files",PX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:DX,message:"File type must be ".concat(r)}},Y8=function(t){return{code:OX,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},G8=function(t){return{code:RX,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},FX={code:MX,message:"Too many files"};function ok(e,t){var n=e.type==="application/x-moz-file"||IX(e,t);return[n,n?null:PX(t)]}function lk(e,t,n){if(D0(e.size))if(D0(t)&&D0(n)){if(e.size>n)return[!1,Y8(n)];if(e.size<t)return[!1,G8(t)]}else{if(D0(t)&&e.size<t)return[!1,G8(t)];if(D0(n)&&e.size>n)return[!1,Y8(n)]}return[!0,null]}function D0(e){return e!=null}function BX(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles,c=e.validator;return!a&&t.length>1||a&&o>=1&&t.length>o?!1:t.every(function(u){var f=ok(u,n),p=qp(f,1),g=p[0],w=lk(u,r,i),y=qp(w,1),E=y[0],S=c?c(u):null;return g&&E&&!S})}function ug(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Sx(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function X8(e){e.preventDefault()}function UX(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function zX(e){return e.indexOf("Edge/")!==-1}function WX(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return UX(e)||zX(e)}function Dc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return t.some(function(c){return!ug(r)&&c&&c.apply(void 0,[r].concat(a)),ug(r)})}}function qX(){return"showOpenFilePicker"in window}function HX(e){if(D0(e)){var t=Object.entries(e).filter(function(n){var r=qp(n,2),i=r[0],a=r[1],o=!0;return ck(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(uk))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=qp(r,2),a=i[0],o=i[1];return $8($8({},n),{},ak({},a,o))},{});return[{description:"Files",accept:t}]}return e}function VX(e){if(D0(e))return Object.entries(e).reduce(function(t,n){var r=qp(n,2),i=r[0],a=r[1];return[].concat(H8(t),[i],H8(a))},[]).filter(function(t){return ck(t)||uk(t)}).join(",")}function $X(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function YX(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ck(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function uk(e){return/^.*\.[\w]+$/.test(e)}var GX=["children"],XX=["open"],KX=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],QX=["refKey","onChange","onClick"];function ZX(e){return tK(e)||eK(e)||dk(e)||JX()}function JX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tK(e){if(Array.isArray(e))return db(e)}function fy(e,t){return iK(e)||rK(e,t)||dk(e,t)||nK()}function nK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dk(e,t){if(e){if(typeof e=="string")return db(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return db(e,t)}}function db(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,c;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(u){a=!0,c=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw c}}return r}}function iK(e){if(Array.isArray(e))return e}function K8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K8(Object(n),!0).forEach(function(r){fb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dg(e,t){if(e==null)return{};var n=aK(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aK(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var p3=K.forwardRef(function(e,t){var n=e.children,r=dg(e,GX),i=fm(r),a=i.open,o=dg(i,XX);return K.useImperativeHandle(t,function(){return{open:a}},[a]),ht.createElement(K.Fragment,null,n(Xi(Xi({},o),{},{open:a})))});p3.displayName="Dropzone";var fk={disabled:!1,getFilesFromEvent:gX,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};p3.defaultProps=fk;p3.propTypes={children:Ge.func,accept:Ge.objectOf(Ge.arrayOf(Ge.string)),multiple:Ge.bool,preventDropOnDocument:Ge.bool,noClick:Ge.bool,noKeyboard:Ge.bool,noDrag:Ge.bool,noDragEventsBubbling:Ge.bool,minSize:Ge.number,maxSize:Ge.number,maxFiles:Ge.number,disabled:Ge.bool,getFilesFromEvent:Ge.func,onFileDialogCancel:Ge.func,onFileDialogOpen:Ge.func,useFsAccessApi:Ge.bool,autoFocus:Ge.bool,onDragEnter:Ge.func,onDragLeave:Ge.func,onDragOver:Ge.func,onDrop:Ge.func,onDropAccepted:Ge.func,onDropRejected:Ge.func,onError:Ge.func,validator:Ge.func};var hb={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function fm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Xi(Xi({},fk),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,a=t.maxSize,o=t.minSize,c=t.multiple,u=t.maxFiles,f=t.onDragEnter,p=t.onDragLeave,g=t.onDragOver,w=t.onDrop,y=t.onDropAccepted,E=t.onDropRejected,S=t.onFileDialogCancel,A=t.onFileDialogOpen,j=t.useFsAccessApi,k=t.autoFocus,D=t.preventDropOnDocument,P=t.noClick,Y=t.noKeyboard,z=t.noDrag,R=t.noDragEventsBubbling,B=t.onError,q=t.validator,te=K.useMemo(function(){return VX(n)},[n]),H=K.useMemo(function(){return HX(n)},[n]),W=K.useMemo(function(){return typeof A=="function"?A:Q8},[A]),J=K.useMemo(function(){return typeof S=="function"?S:Q8},[S]),ue=K.useRef(null),se=K.useRef(null),ee=K.useReducer(sK,hb),Ae=fy(ee,2),ge=Ae[0],Be=Ae[1],_e=ge.isFocused,ct=ge.isFileDialogActive,U=K.useRef(typeof window<"u"&&window.isSecureContext&&j&&qX()),Z=function(){!U.current&&ct&&setTimeout(function(){if(se.current){var wt=se.current.files;wt.length||(Be({type:"closeDialog"}),J())}},300)};K.useEffect(function(){return window.addEventListener("focus",Z,!1),function(){window.removeEventListener("focus",Z,!1)}},[se,ct,J,U]);var Q=K.useRef([]),ne=function(wt){ue.current&&ue.current.contains(wt.target)||(wt.preventDefault(),Q.current=[])};K.useEffect(function(){return D&&(document.addEventListener("dragover",X8,!1),document.addEventListener("drop",ne,!1)),function(){D&&(document.removeEventListener("dragover",X8),document.removeEventListener("drop",ne))}},[ue,D]),K.useEffect(function(){return!r&&k&&ue.current&&ue.current.focus(),function(){}},[ue,k,r]);var ce=K.useCallback(function(et){B?B(et):console.error(et)},[B]),be=K.useCallback(function(et){et.preventDefault(),et.persist(),Ee(et),Q.current=[].concat(ZX(Q.current),[et.target]),Sx(et)&&Promise.resolve(i(et)).then(function(wt){if(!(ug(et)&&!R)){var Vt=wt.length,rn=Vt>0&&BX({files:wt,accept:te,minSize:o,maxSize:a,multiple:c,maxFiles:u,validator:q}),dn=Vt>0&&!rn;Be({isDragAccept:rn,isDragReject:dn,isDragActive:!0,type:"setDraggedFiles"}),f&&f(et)}}).catch(function(wt){return ce(wt)})},[i,f,ce,R,te,o,a,c,u,q]),Fe=K.useCallback(function(et){et.preventDefault(),et.persist(),Ee(et);var wt=Sx(et);if(wt&&et.dataTransfer)try{et.dataTransfer.dropEffect="copy"}catch{}return wt&&g&&g(et),!1},[g,R]),ze=K.useCallback(function(et){et.preventDefault(),et.persist(),Ee(et);var wt=Q.current.filter(function(rn){return ue.current&&ue.current.contains(rn)}),Vt=wt.indexOf(et.target);Vt!==-1&&wt.splice(Vt,1),Q.current=wt,!(wt.length>0)&&(Be({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Sx(et)&&p&&p(et))},[ue,p,R]),Ze=K.useCallback(function(et,wt){var Vt=[],rn=[];et.forEach(function(dn){var Qt=ok(dn,te),Tn=fy(Qt,2),Kt=Tn[0],Dr=Tn[1],hn=lk(dn,o,a),Ue=fy(hn,2),$t=Ue[0],nn=Ue[1],Dn=q?q(dn):null;if(Kt&&$t&&!Dn)Vt.push(dn);else{var Nn=[Dr,nn];Dn&&(Nn=Nn.concat(Dn)),rn.push({file:dn,errors:Nn.filter(function(yi){return yi})})}}),(!c&&Vt.length>1||c&&u>=1&&Vt.length>u)&&(Vt.forEach(function(dn){rn.push({file:dn,errors:[FX]})}),Vt.splice(0)),Be({acceptedFiles:Vt,fileRejections:rn,isDragReject:rn.length>0,type:"setFiles"}),w&&w(Vt,rn,wt),rn.length>0&&E&&E(rn,wt),Vt.length>0&&y&&y(Vt,wt)},[Be,c,te,o,a,u,w,y,E,q]),pt=K.useCallback(function(et){et.preventDefault(),et.persist(),Ee(et),Q.current=[],Sx(et)&&Promise.resolve(i(et)).then(function(wt){ug(et)&&!R||Ze(wt,et)}).catch(function(wt){return ce(wt)}),Be({type:"reset"})},[i,Ze,ce,R]),bt=K.useCallback(function(){if(U.current){Be({type:"openDialog"}),W();var et={multiple:c,types:H};window.showOpenFilePicker(et).then(function(wt){return i(wt)}).then(function(wt){Ze(wt,null),Be({type:"closeDialog"})}).catch(function(wt){$X(wt)?(J(wt),Be({type:"closeDialog"})):YX(wt)?(U.current=!1,se.current?(se.current.value=null,se.current.click()):ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ce(wt)});return}se.current&&(Be({type:"openDialog"}),W(),se.current.value=null,se.current.click())},[Be,W,J,j,Ze,ce,H,c]),Ye=K.useCallback(function(et){!ue.current||!ue.current.isEqualNode(et.target)||(et.key===" "||et.key==="Enter"||et.keyCode===32||et.keyCode===13)&&(et.preventDefault(),bt())},[ue,bt]),yt=K.useCallback(function(){Be({type:"focus"})},[]),it=K.useCallback(function(){Be({type:"blur"})},[]),fe=K.useCallback(function(){P||(WX()?setTimeout(bt,0):bt())},[P,bt]),He=function(wt){return r?null:wt},mt=function(wt){return Y?null:He(wt)},rt=function(wt){return z?null:He(wt)},Ee=function(wt){R&&wt.stopPropagation()},qe=K.useMemo(function(){return function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},wt=et.refKey,Vt=wt===void 0?"ref":wt,rn=et.role,dn=et.onKeyDown,Qt=et.onFocus,Tn=et.onBlur,Kt=et.onClick,Dr=et.onDragEnter,hn=et.onDragOver,Ue=et.onDragLeave,$t=et.onDrop,nn=dg(et,KX);return Xi(Xi(fb({onKeyDown:mt(Dc(dn,Ye)),onFocus:mt(Dc(Qt,yt)),onBlur:mt(Dc(Tn,it)),onClick:He(Dc(Kt,fe)),onDragEnter:rt(Dc(Dr,be)),onDragOver:rt(Dc(hn,Fe)),onDragLeave:rt(Dc(Ue,ze)),onDrop:rt(Dc($t,pt)),role:typeof rn=="string"&&rn!==""?rn:"presentation"},Vt,ue),!r&&!Y?{tabIndex:0}:{}),nn)}},[ue,Ye,yt,it,fe,be,Fe,ze,pt,Y,z,r]),Le=K.useCallback(function(et){et.stopPropagation()},[]),Nt=K.useMemo(function(){return function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},wt=et.refKey,Vt=wt===void 0?"ref":wt,rn=et.onChange,dn=et.onClick,Qt=dg(et,QX),Tn=fb({accept:te,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:He(Dc(rn,pt)),onClick:He(Dc(dn,Le)),tabIndex:-1},Vt,se);return Xi(Xi({},Tn),Qt)}},[se,n,c,pt,r]);return Xi(Xi({},ge),{},{isFocused:_e&&!r,getRootProps:qe,getInputProps:Nt,rootRef:ue,inputRef:se,open:He(bt)})}function sK(e,t){switch(t.type){case"focus":return Xi(Xi({},e),{},{isFocused:!0});case"blur":return Xi(Xi({},e),{},{isFocused:!1});case"openDialog":return Xi(Xi({},hb),{},{isFileDialogActive:!0});case"closeDialog":return Xi(Xi({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Xi(Xi({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Xi(Xi({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Xi({},hb);default:return e}}function Q8(){}const oK=async(e="csv",t={})=>{try{const n={format:e};return Object.entries(t).forEach(([i,a])=>{i==="selectedIds"&&Array.isArray(a)&&a.length>0?n.selectedIds=JSON.stringify(a):n[i]=a}),console.log("Export params:",n),(await Xt.get("/api/import-export/export",{params:n,responseType:"blob"})).data}catch(n){throw console.error("Error exporting equipment:",n),n}},lK=async(e,t={})=>{try{const n=new FormData;return n.append("file",e),Object.entries(t).forEach(([i,a])=>{n.append(i,a)}),(await Xt.post("/api/import-export/import",n,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error importing equipment:",n),n}},cK=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)},uK=({isOpen:e,onClose:t,filters:n={},selectedItems:r=[]})=>{const[i,a]=K.useState("export"),[o,c]=K.useState("csv"),[u,f]=K.useState(!1),[p,g]=K.useState(!1),[w,y]=K.useState(null),[E,S]=K.useState(!0),[A,j]=K.useState(null),[k,D]=K.useState(""),{user:P}=ss(),Y=ai(),z=P&&(P.role==="admin"||P.role==="advanced"),{getRootProps:R,getInputProps:B,isDragActive:q}=fm({onDrop:W=>{W.length>0&&(y(W[0]),D(""))},accept:{"text/csv":[".csv"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/json":[".json"]},maxFiles:1}),te=async()=>{try{g(!0),D("");const W=new Date().toISOString().split("T")[0],J={...n};u&&r.length>0&&(J.selectedIds=r);const ue=await oK(o,J);let se;const ee=u&&r.length>0?`equipment_selected_${r.length}_items_${W}`:`equipment_export_${W}`;switch(o){case"csv":se=`${ee}.csv`;break;case"xlsx":se=`${ee}.xlsx`;break;case"json":se=`${ee}.json`;break;default:se=ee}cK(ue,se),g(!1)}catch(W){console.error("Export error:",W),D("Failed to export data. Please try again."),g(!1)}},H=async()=>{if(!w){D("Please select a file to import");return}try{g(!0),D(""),j(null);const W=await lK(w,{updateExisting:E});j(W.results),Y.invalidateQueries(["equipment"]),g(!1),y(null),W.results.errors.length===0&&setTimeout(()=>{t()},3e3)}catch(W){console.error("Import error:",W),D("Failed to import data. Please check your file and try again."),g(!1)}};return!e||!z?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Import/Export Equipment"}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"flex border-b",children:[s.jsx("button",{className:`px-4 py-2 ${i==="export"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("export"),children:"Export"}),s.jsx("button",{className:`px-4 py-2 ${i==="import"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("import"),children:"Import"})]}),s.jsx("div",{className:"p-4",children:i==="export"?s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Format"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"csv",checked:o==="csv",onChange:()=>c("csv")}),s.jsx("span",{className:"ml-2",children:"CSV"})]}),s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"xlsx",checked:o==="xlsx",onChange:()=>c("xlsx")}),s.jsx("span",{className:"ml-2",children:"Excel (XLSX)"})]}),s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"json",checked:o==="json",onChange:()=>c("json")}),s.jsx("span",{className:"ml-2",children:"JSON"})]})]})]}),r.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Scope"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:!u,onChange:()=>f(!1)}),s.jsx("span",{className:"ml-2",children:"All equipment (with filters)"})]}),s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:u,onChange:()=>f(!0)}),s.jsxs("span",{className:"ml-2",children:["Selected items only (",r.length,")"]})]})]})]}),s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-sm text-gray-600",children:u&&r.length>0?`This will export ${r.length} selected equipment items.`:"This will export all equipment data based on your current filters."})}),k&&s.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:k}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:t,disabled:p,className:"btn btn-secondary",children:"Cancel"}),s.jsx("button",{onClick:te,disabled:p,className:`btn ${p?"bg-blue-400":"btn-primary"}`,children:p?s.jsxs("div",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):"Export"})]})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload File"}),s.jsxs("div",{...R(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${q?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[s.jsx("input",{...B()}),w?s.jsxs("div",{children:[s.jsxs("p",{className:"text-green-600",children:["File selected: ",w.name]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[(w.size/1024).toFixed(2)," KB"]})]}):q?s.jsx("p",{className:"text-blue-500",children:"Drop the file here..."}):s.jsxs("div",{children:[s.jsx("p",{className:"mb-2",children:"Drag & drop a file here, or click to select a file"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Accepted file types: CSV, XLSX, JSON"})]})]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"checkbox",className:"form-checkbox",checked:E,onChange:W=>S(W.target.checked)}),s.jsx("span",{className:"ml-2",children:"Update existing equipment if found"})]})}),k&&s.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:k}),A&&s.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded",children:[s.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Import Results"}),s.jsxs("ul",{className:"text-sm text-green-700",children:[s.jsxs("li",{children:["Total records processed: ",A.total]}),s.jsxs("li",{children:["New records created: ",A.created]}),s.jsxs("li",{children:["Existing records updated: ",A.updated]}),s.jsxs("li",{children:["Errors: ",A.errors.length]})]}),A.errors.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("h4",{className:"font-medium text-red-800",children:"Errors:"}),s.jsx("ul",{className:"text-sm text-red-700 mt-1 max-h-32 overflow-y-auto",children:A.errors.map((W,J)=>s.jsxs("li",{children:[W.record.serial_number||W.record.id||`Row ${J+1}`,": ",W.error]},J))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:t,disabled:p,className:"btn btn-secondary",children:"Cancel"}),s.jsx("button",{onClick:H,disabled:p||!w,className:`btn ${p?"bg-blue-400":"btn-primary"}`,children:p?s.jsxs("div",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):"Import"})]})]})})]})})},dK=()=>{var rt;const e=Do(),t=K.useRef(null),[n]=K.useState(20),[r,i]=K.useState({type:"",brand:"",status:"",location_id:"",search:""}),[a,o]=K.useState([]),[c,u]=K.useState(!1),[f,p]=K.useState("updated_at"),[g,w]=K.useState("desc"),[y,E]=K.useState("list"),[S,A]=K.useState(!1);K.useEffect(()=>{const Ee=localStorage.getItem("equipmentViewMode");Ee&&E(Ee);const qe=localStorage.getItem("equipmentShowThumbnails");qe!==null&&A(qe==="true")},[]),K.useEffect(()=>{localStorage.setItem("equipmentViewMode",y)},[y]),K.useEffect(()=>{localStorage.setItem("equipmentShowThumbnails",S.toString())},[S]);const[j,k]=K.useState(!1),[D,P]=K.useState(!1),[Y,z]=K.useState(!1),[R,B]=K.useState(!1),[q,te]=K.useState(!1),[H,W]=K.useState(!1),[J,ue]=K.useState(!1),[se,ee]=K.useState(!1),[Ae,ge]=K.useState(null);K.useEffect(()=>{const Ee=Nt=>{const{id:et}=Nt.detail;ge(et),P(!0)},qe=Nt=>{const{id:et}=Nt.detail;ge(et),z(!0)},Le=Nt=>{const{id:et}=Nt.detail;ge(et),B(!0)};return document.addEventListener("batchDuplicate",Ee),document.addEventListener("batchStatusUpdate",qe),document.addEventListener("batchLocationChange",Le),()=>{document.removeEventListener("batchDuplicate",Ee),document.removeEventListener("batchStatusUpdate",qe),document.removeEventListener("batchLocationChange",Le)}},[]);const{data:Be,fetchNextPage:_e,hasNextPage:ct,isFetchingNextPage:U,isLoading:Z,isError:Q,error:ne}=P4(["equipment",r,f,g],async({pageParam:Ee=1})=>{const qe={page:Ee,limit:n,...r,sortBy:f,sortOrder:g};return qc(qe)},{getNextPageParam:Ee=>{if(Ee.page<Ee.totalPages)return Ee.page+1},keepPreviousData:!0}),{data:ce}=Ln({queryKey:["equipment-types"],queryFn:Qu,staleTime:3e5}),{data:be}=Ln(["locations"],hf),Fe=(Be==null?void 0:Be.pages.flatMap(Ee=>Ee.equipment))||[];K.useEffect(()=>{const Ee=new IntersectionObserver(qe=>{qe[0].isIntersecting&&ct&&!U&&_e()},{threshold:.5});return t.current&&Ee.observe(t.current),()=>{t.current&&Ee.unobserve(t.current)}},[t,_e,ct,U]);const ze=Ee=>{ge(Ee),k(!0)},Ze=()=>{k(!1),ge(null)},pt=()=>{P(!1),ge(null)},bt=Ee=>{const{name:qe,value:Le}=Ee.target;i(Nt=>({...Nt,[qe]:Le}))},Ye=Ee=>{Ee.preventDefault()},yt=Ee=>{f===Ee?w(qe=>qe==="asc"?"desc":"asc"):(p(Ee),w("desc"))},it=Ee=>{o(qe=>qe.includes(Ee)?qe.filter(Le=>Le!==Ee):[...qe,Ee])},fe=()=>{if(c)o([]);else{const Ee=Fe.map(qe=>qe.id);o(Ee)}u(!c)},He=()=>{o([]),u(!1)},mt=(Ee,qe)=>{qe.target.type==="checkbox"||qe.target.closest("button")||qe.target.closest("a")||qe.target.closest(".btn-icon")||e(`/equipment/${Ee}`)};return Z?s.jsx("div",{className:"text-center py-10",children:"Loading..."}):Q?s.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",ne.message||"Failed to load equipment"]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(fX,{isOpen:j,onClose:Ze,equipmentId:Ae}),s.jsx(hX,{isOpen:D,onClose:pt,equipmentId:Ae,selectedItems:a}),s.jsx(Kj,{isOpen:Y,onClose:()=>z(!1),equipmentId:Ae,selectedItems:a}),s.jsx(Qj,{isOpen:R,onClose:()=>B(!1),equipmentId:Ae,selectedItems:a}),s.jsx(Zj,{isOpen:q,onClose:()=>te(!1),selectedItems:a}),s.jsx(Jj,{isOpen:H,onClose:()=>W(!1),selectedItems:a}),s.jsx(ek,{isOpen:J,onClose:()=>ue(!1),selectedItems:a}),s.jsx(uK,{isOpen:se,onClose:()=>ee(!1),filters:r,selectedItems:a}),s.jsx("div",{className:"card",children:s.jsxs("form",{onSubmit:Ye,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),s.jsxs("div",{className:"input-group",children:[s.jsx(H4,{className:"input-icon w-4 h-4"}),s.jsx("input",{type:"text",id:"search",name:"search",value:r.search,onChange:bt,placeholder:"Search equipment...",className:"input input-with-icon"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type",className:"label",children:"Type"}),s.jsxs("select",{id:"type",name:"type",value:r.type,onChange:bt,className:"input",children:[s.jsx("option",{value:"",children:"All Types"}),ce!=null&&ce.types&&ce.types.length>0?ce.types.map(Ee=>s.jsx("option",{value:Ee.name.toLowerCase(),children:Ee.name},Ee.id)):s.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"label",children:"Status"}),s.jsxs("select",{id:"status",name:"status",value:r.status,onChange:bt,className:"input",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"available",children:"Available"}),s.jsx("option",{value:"in-use",children:"In Use"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"unavailable",children:"Unavailable"}),s.jsx("option",{value:"broken",children:"Broken"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),s.jsxs("select",{id:"location_id",name:"location_id",value:r.location_id,onChange:bt,className:"input",children:[s.jsx("option",{value:"",children:"All Locations"}),(rt=be==null?void 0:be.locations)==null?void 0:rt.map(Ee=>s.jsx("option",{value:Ee.id.toString(),children:Ee.name},Ee.id))]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"button",onClick:()=>{i({type:"",brand:"",status:"",location_id:"",search:""})},className:"btn btn-outline w-full",children:"Clear All Filters"})}),s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[s.jsx(V4,{className:"w-4 h-4"}),s.jsx("span",{children:"Apply Filters"})]})})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex flex-col space-y-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mr-4",children:"Equipment List"}),s.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden mr-2",children:[s.jsx("button",{onClick:()=>E("list"),className:`px-2 py-1 text-xs font-medium transition-all ${y==="list"?"bg-white text-primary-600 border-r border-slate-200 hover:bg-primary-50":"bg-white text-slate-600 border-r border-slate-200 hover:bg-slate-50"}`,title:"List view",children:s.jsx(s1,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>E("card"),className:`px-2 py-1 text-xs font-medium transition-all ${y==="card"?"bg-white text-primary-600 hover:bg-primary-50":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:s.jsx(o1,{className:"h-4 w-4"})})]}),a.length>0&&s.jsx("div",{className:"ml-2",children:s.jsx(tk,{selectedItems:a,onBatchDuplicate:()=>P(!0),onBatchStatusUpdate:()=>z(!0),onBatchLocationChange:()=>B(!0),onBatchTypeChange:()=>te(!0),onBatchCategoryChange:()=>W(!0),onBatchBrandModelChange:()=>ue(!0),onClearSelection:He})})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>ee(!0),className:"btn btn-secondary btn-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(_W,{className:"w-4 h-4 mr-1"}),s.jsx(SW,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"Import/Export"})]})}),s.jsxs(ca,{to:"/equipment/new",className:"btn btn-primary btn-sm",children:[s.jsx(cv,{className:"w-4 h-4"}),s.jsx("span",{children:"Add New Equipment"})]})]})]})}),y==="card"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Fe.length>0?Fe.map(Ee=>s.jsx(nk,{equipment:Ee,onDuplicate:ze,onSelect:it,isSelected:a.includes(Ee.id)},Ee.id)):s.jsx("div",{className:"col-span-3 py-8 text-center text-gray-500",children:"No equipment found"})}),y==="list"&&s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"table-wide",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell w-12",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("input",{type:"checkbox",checked:c,onChange:fe,className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),s.jsx(Nu,{field:"type",label:"Type",currentSortField:f,currentSortOrder:g,onSort:yt,className:"w-1/6"}),s.jsx(Nu,{field:"category",label:"Category",currentSortField:f,currentSortOrder:g,onSort:yt,className:"w-1/8"}),s.jsx(Nu,{field:"brand",label:"Brand",currentSortField:f,currentSortOrder:g,onSort:yt,className:"w-1/8"}),s.jsx(Nu,{field:"model",label:"Model",currentSortField:f,currentSortOrder:g,onSort:yt,className:"w-1/8"}),s.jsx(Nu,{field:"serial_number",label:"Serial Number",currentSortField:f,currentSortOrder:g,onSort:yt,className:"w-1/6"}),s.jsx(Nu,{field:"status",label:"Status",currentSortField:f,currentSortOrder:g,onSort:yt,className:"w-20"}),s.jsx(Nu,{field:"location",label:"Location",currentSortField:f,currentSortOrder:g,onSort:yt,className:"w-1/8"}),s.jsx(Nu,{field:"quantity",label:"Quantity",currentSortField:f,currentSortOrder:g,onSort:yt,className:"w-16"}),s.jsx("th",{className:"table-header-cell w-20",children:"Actions"})]})}),s.jsx("tbody",{className:"table-body",children:Fe.length>0?Fe.map(Ee=>{var qe;return s.jsxs("tr",{className:`table-row ${a.includes(Ee.id)?"bg-blue-50":""} cursor-pointer hover:bg-slate-50`,onClick:Le=>mt(Ee.id,Le),children:[s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("input",{type:"checkbox",checked:a.includes(Ee.id),onChange:()=>it(Ee.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),s.jsx("td",{className:"table-cell",children:Ee.type}),s.jsx("td",{className:"table-cell",children:Ee.category||"-"}),s.jsx("td",{className:"table-cell",children:Ee.brand}),s.jsx("td",{className:"table-cell",children:Ee.model}),s.jsx("td",{className:"table-cell",children:Ee.serial_number}),s.jsx("td",{className:"table-cell",children:s.jsx("span",{className:`badge ${Ee.status==="available"?"badge-success":Ee.status==="in-use"?"badge-info":Ee.status==="maintenance"?"badge-warning":Ee.status==="unavailable"?"badge-secondary":Ee.status==="broken"?"badge-danger":"badge-secondary"}`,children:Ee.status})}),s.jsx("td",{className:"table-cell",children:((qe=Ee.locationDetails)==null?void 0:qe.name)||Ee.location||"-"}),s.jsx("td",{className:"table-cell",children:s.jsx("span",{className:"font-medium text-slate-800",children:Ee.quantity||1})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(h3,{equipmentId:Ee.id,onBatchDuplicate:()=>{ge(Ee.id),P(!0)},onBatchStatusUpdate:()=>{ge(Ee.id),z(!0)},onBatchLocationChange:()=>{ge(Ee.id),B(!0)}})})})]},Ee.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center text-gray-500",children:"No equipment found"})})})]})}),s.jsx("div",{ref:t,className:"py-4 text-center",children:U?s.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),s.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):ct?s.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):s.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})]})},fK=async({page:e=1,limit:t=20,equipmentId:n,userId:r,actionType:i,search:a,type:o,status:c,location_id:u,sortBy:f="created_at",sortOrder:p="desc"})=>{const g={page:e,limit:t};return n&&(g.equipmentId=n),r&&(g.userId=r),i&&(g.actionType=i),a&&(g.search=a),o&&(g.type=o),c&&(g.status=c),u&&(g.location_id=u),f&&(g.sortBy=f),p&&(g.sortOrder=p),(await Xt.get("/api/equipment-logs",{params:g})).data},hK=async(e,{page:t=1,limit:n=20}={})=>{const r={page:t,limit:n};return(await Xt.get(`/api/equipment-logs/equipment/${e}`,{params:r})).data},hk=({equipmentId:e})=>{var p;const[t,n]=K.useState(1),[r]=K.useState(10),{data:i,isLoading:a,isError:o,error:c}=Ln(["equipmentLogs",e,t,r],()=>hK(e,{page:t,limit:r}),{keepPreviousData:!0,enabled:!!e}),u=g=>g.split("_").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" "),f=g=>{n(g)};return a?s.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[s.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{className:"text-slate-600",children:"Loading movement history..."})]}):o?s.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full mb-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("p",{className:"text-red-600 font-medium mb-1",children:"Error Loading Movement History"}),s.jsx("p",{className:"text-slate-500 text-sm",children:c.message||"Failed to load equipment logs"})]}):(p=i==null?void 0:i.logs)!=null&&p.length?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Date"]})}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"User"]})}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Action"]})}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Details"]})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:i.logs.map((g,w)=>{var y,E,S;return s.jsxs("tr",{className:`hover:bg-slate-50 ${w%2===0?"bg-white":"bg-slate-50/50"}`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium",children:Up(new Date(g.created_at),"MMM d, yyyy")}),s.jsx("span",{className:"ml-2 text-slate-500",children:Up(new Date(g.created_at),"h:mm a")})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 font-medium",children:(y=g.user)!=null&&y.username?g.user.username.charAt(0).toUpperCase():"?"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"text-sm font-medium text-slate-800",children:((E=g.user)==null?void 0:E.username)||"Unknown"}),s.jsx("div",{className:"text-xs text-slate-500 capitalize",children:((S=g.user)==null?void 0:S.role)||""})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`px-2.5 py-1.5 inline-flex text-xs leading-5 font-semibold rounded-full
                    ${g.action_type==="created"?"bg-green-100 text-green-800":g.action_type==="updated"?"bg-blue-100 text-blue-800":g.action_type==="deleted"?"bg-red-100 text-red-800":g.action_type==="status_change"?"bg-yellow-100 text-yellow-800":g.action_type==="location_change"?"bg-indigo-100 text-indigo-800":"bg-slate-100 text-slate-800"}`,children:[g.action_type==="created"&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),g.action_type==="updated"&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),g.action_type==="deleted"&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),g.action_type==="status_change"&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),g.action_type==="location_change"&&s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),u(g.action_type)]})}),s.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[g.action_type==="status_change"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-slate-700",children:"Status:"}),s.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:g.previous_status}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),s.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:g.new_status})]}),g.action_type==="location_change"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-slate-700",children:"Location:"}),s.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:g.previous_location||"None"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),s.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:g.new_location||"None"})]}),g.details&&s.jsx("div",{className:"mt-2 text-slate-600",children:g.details})]})]},g.id)})})]})}),i.totalPages>1&&s.jsxs("div",{className:"flex justify-between items-center mt-4 px-2",children:[s.jsxs("div",{className:"text-sm text-slate-600 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Showing ",s.jsx("span",{className:"font-medium text-slate-800 mx-1",children:(t-1)*r+1})," to"," ",s.jsx("span",{className:"font-medium text-slate-800 mx-1",children:Math.min(t*r,i.total)})," of"," ",s.jsx("span",{className:"font-medium text-slate-800 mx-1",children:i.total})," logs"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>f(t-1),disabled:t===1,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${t===1?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-1 ${t===1?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),s.jsxs("button",{onClick:()=>f(t+1),disabled:t===i.totalPages,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${t===i.totalPages?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:["Next",s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ml-1 ${t===i.totalPages?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}):s.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[s.jsx("div",{className:"bg-slate-100 p-3 rounded-full mb-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("p",{className:"text-slate-600 font-medium",children:"No movement history found"}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"This equipment has no recorded movements or status changes"})]})},pk=({isOpen:e,title:t="Confirm Action",message:n="Are you sure you want to proceed?",confirmText:r="Confirm",cancelText:i="Cancel",onConfirm:a,onCancel:o,isDestructive:c=!1})=>e?s.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-soft max-w-md w-full p-6 animate-fade-in",children:[s.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:t}),s.jsx("p",{className:"text-slate-600 mb-6",children:n}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(kt,{variant:"secondary",onClick:o,children:i}),s.jsx(kt,{variant:c?"danger":"primary",onClick:a,children:r})]})]})}):null;pk.propTypes={isOpen:Ge.bool.isRequired,title:Ge.string,message:Ge.string,confirmText:Ge.string,cancelText:Ge.string,onConfirm:Ge.func.isRequired,onCancel:Ge.func.isRequired,isDestructive:Ge.bool};const m3=({onImageSelect:e,existingImage:t=null,onImageDelete:n})=>{const[r,i]=K.useState(null),[a,o]=K.useState(null);K.useEffect(()=>{o(t?`/api/files/${t.id}?thumbnail=true`:null)},[t]),K.useEffect(()=>()=>{a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a)},[a]);const c=K.useCallback(y=>{if(y.length>0){const E=y[0];if(E.size>10*1024*1024){alert("Image is too large. Maximum size is 10MB.");return}i(E),o(URL.createObjectURL(E)),e(E)}},[e]),u=()=>{i(null),a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a),o(null),e(null)},f=()=>{n&&t&&(n(t.id),o(null))},{getRootProps:p,getInputProps:g,isDragActive:w}=fm({onDrop:c,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxFiles:1,multiple:!1});return s.jsx("div",{children:a?s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"bg-slate-50 p-4 rounded-md border border-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm font-medium",children:t?t.file_name:(r==null?void 0:r.name)||"Reference Image"})]}),s.jsx("button",{type:"button",onClick:t?f:u,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s.jsx("div",{className:"mt-2 flex justify-center",style:{height:"200px"},children:s.jsx("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden bg-slate-100 rounded-md",children:s.jsx("img",{src:a,alt:"Reference Image Preview",className:"rounded-md max-h-full max-w-full",style:{objectFit:"contain",objectPosition:"center"},onError:y=>{console.error("Error loading image:",y),y.target.src="/placeholder-image.png",y.target.onerror=null}})})})]})}):s.jsxs("div",{...p(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${w?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[s.jsx("input",{...g()}),w?s.jsx("p",{className:"text-primary-500",children:"Drop the image here..."}):s.jsxs("div",{children:[s.jsx("p",{className:"mb-2",children:"Drag & drop a reference image here, or click to select"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Accepted file types: JPEG, PNG (Max: 10MB)"})]})]})})};m3.propTypes={onImageSelect:Ge.func.isRequired,existingImage:Ge.object,onImageDelete:Ge.func};const x3=({isOpen:e,onClose:t,equipmentId:n,existingImage:r=null})=>{const[i,a]=K.useState(null),[o,c]=K.useState(!1),[u,f]=K.useState(""),p=ai(),g=S=>{a(S)},w=cr({mutationFn:async S=>U7(n,{},[],[],S.referenceImageFile,S.removeReferenceImage),onSuccess:()=>{p.invalidateQueries(["equipment",n]),t()},onError:S=>{var A,j;console.error("Error updating reference image:",S),f(((j=(A=S.response)==null?void 0:A.data)==null?void 0:j.message)||"Failed to update reference image"),c(!1)}}),y=S=>{if(S.preventDefault(),!i){f("Please select an image file");return}c(!0),f(""),w.mutate({referenceImageFile:i})},E=()=>{c(!0),f(""),w.mutate({referenceImageFile:null,removeReferenceImage:!0})};return e?s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-slate-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsx("div",{className:"sm:flex sm:items-start",children:s.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[s.jsxs("h3",{className:"text-lg leading-6 font-medium text-slate-900 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Change Reference Image"]}),s.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"This image will be displayed prominently on the equipment details page and in search results."}),s.jsxs("div",{className:"mt-4",children:[u&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:s.jsx("p",{className:"text-red-700",children:u})}),s.jsxs("form",{onSubmit:y,children:[s.jsx("div",{className:"mb-4",children:s.jsx(m3,{onImageSelect:g,existingImage:r})}),s.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[s.jsx(kt,{type:"submit",variant:"primary",disabled:o||!i,className:"w-full sm:ml-3 sm:w-auto",children:o?"Saving...":"Save Changes"}),s.jsx(kt,{type:"button",variant:"secondary",onClick:t,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"}),r&&s.jsx(kt,{type:"button",variant:"danger",onClick:E,className:"mt-3 w-full sm:mt-0 sm:mr-auto sm:w-auto",children:"Remove Image"})]})]})]})]})})})})]})}):null};x3.propTypes={isOpen:Ge.bool.isRequired,onClose:Ge.func.isRequired,equipmentId:Ge.string.isRequired,existingImage:Ge.object};const pb=({fileType:e,fileUrl:t,fileName:n,className:r="",style:i={},showFileName:a=!0,size:o="medium",interactive:c=!0,useThumbnail:u=!0})=>{const[f,p]=K.useState(!0),[g,w]=K.useState(null),[y,E]=K.useState(!1),S=()=>{switch(o){case"small":return"h-24";case"large":return"h-48";case"medium":default:return"h-32"}},A=()=>{console.log("Image loaded successfully"),p(!1)},j=()=>{console.error("Image failed to load completely"),p(!1),w("Failed to load image")};K.useEffect(()=>{if(f&&e==="image"){const Y=setTimeout(()=>{console.log("Loading timeout reached, resetting loading state"),p(!1)},5e3);return()=>clearTimeout(Y)}},[f,e]),K.useEffect(()=>{!t&&e==="image"&&(console.log("No file URL provided, showing error state"),p(!1),w("No image available"))},[t,e]);const k=()=>{c&&e==="image"&&E(!y)},D=()=>{switch(e){case"image":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"pdf":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},P=()=>{if(f&&e==="image")return s.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("span",{className:"text-slate-400 text-xs",children:"Loading..."})]})});if(g)return s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-red-50",children:s.jsxs("div",{className:"flex flex-col items-center p-2",children:[s.jsx("svg",{className:"w-8 h-8 text-red-500 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("span",{className:"text-red-500 text-xs text-center",children:g})]})});switch(e){case"image":if(!t)return console.error("No file URL provided for image"),s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-100",children:s.jsxs("div",{className:"flex flex-col items-center p-2",children:[s.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("span",{className:"text-slate-400 text-xs text-center",children:"No image"})]})});const Y=new Date().getTime();let z=t;return z.includes("t=")||(z+=(z.includes("?")?"&":"?")+`t=${Y}`),s.jsx("div",{className:`w-full h-full flex items-center justify-center overflow-hidden ${c?"cursor-pointer":""}`,onClick:k,children:s.jsx("img",{src:z,alt:n||"Image preview",className:`max-h-full max-w-full object-contain transition-transform duration-300 ${y?"scale-150":""}`,onLoad:R=>{console.log("Image loaded successfully:",z),A()},onError:R=>{console.error("Image failed to load:",z);const B=R.target;if(t.includes("thumbnail=true")){console.log("Thumbnail failed to load, trying original image");const te=`${t.split("?")[0]}?t=${new Date().getTime()}`;console.log("Trying with URL:",te),B.src=te}else{console.log("Original image failed to load, trying with new cache busting");const q=t.includes("?")?`${t.split("?")[0]}?t=${new Date().getTime()}`:`${t}?t=${new Date().getTime()}`;console.log("Trying with URL:",q),B.src=q,B.dataset.retried?(console.error("Multiple load attempts failed, showing error"),j()):B.dataset.retried="true"}}},`img-${z}`)});case"audio":return s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:[s.jsx("div",{className:"mb-2",children:D()}),c?s.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[s.jsx("source",{src:t,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):s.jsx("div",{className:"text-sm text-slate-500",children:"Audio file"})]});case"pdf":return s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[s.jsx("div",{className:"mb-2",children:D()}),c?s.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 text-sm underline",children:"View PDF"}):s.jsx("div",{className:"text-sm text-slate-500",children:"PDF document"})]});default:return s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:D()})}};return s.jsxs("div",{className:`bg-slate-100 rounded-md overflow-hidden ${S()} ${r}`,style:i,children:[P(),a&&n&&s.jsx("div",{className:"bg-slate-800 bg-opacity-70 text-white text-xs py-1 px-2 absolute bottom-0 left-0 right-0 truncate",children:n})]})};pb.propTypes={fileType:Ge.oneOf(["image","audio","pdf"]).isRequired,fileUrl:Ge.string.isRequired,fileName:Ge.string,className:Ge.string,style:Ge.object,showFileName:Ge.bool,size:Ge.oneOf(["small","medium","large"]),interactive:Ge.bool,useThumbnail:Ge.bool};const g3=({files:e=[],onFileDelete:t,canDelete:n=!1,showDownload:r=!0,layout:i="grid",size:a="medium"})=>{const[o,c]=K.useState(null),u=E=>{c(E)},f=()=>{c(null)},p=(E,S=!1,A=!1)=>{let j=`/api/files/${E}`;const k=[];return S&&k.push("download=true"),A&&k.push("thumbnail=true"),k.length>0&&(j+=`?${k.join("&")}`),j},g=()=>o?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:f,children:s.jsxs("div",{className:"bg-white rounded-lg overflow-hidden max-w-3xl w-full max-h-[90vh] flex flex-col",onClick:E=>E.stopPropagation(),children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-slate-900",children:o.file_name}),s.jsx("button",{type:"button",onClick:f,className:"text-slate-400 hover:text-slate-500",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center",children:o.file_type==="image"?s.jsx("img",{src:p(o.id),alt:o.file_name,className:"max-w-full max-h-[70vh] object-contain",onError:E=>{console.error("Error loading image in modal:",E),E.target.src=`${p(o.id)}?t=${new Date().getTime()}`}}):o.file_type==="audio"?s.jsxs("div",{className:"w-full max-w-md p-4",children:[s.jsx("div",{className:"mb-4 text-center",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})})}),s.jsxs("audio",{controls:!0,className:"w-full",children:[s.jsx("source",{src:p(o.id),type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):o.file_type==="pdf"?s.jsx("div",{className:"w-full h-[70vh]",children:s.jsx("iframe",{src:`${p(o.id)}#view=FitH`,title:o.file_name,className:"w-full h-full"})}):s.jsx("div",{className:"text-center p-4",children:s.jsx("p",{children:"This file type cannot be previewed."})})}),s.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end space-x-2",children:[s.jsx("a",{href:p(o.id,!0),download:!0,className:"btn btn-secondary",children:"Download"}),n&&s.jsx("button",{type:"button",onClick:()=>{t(o.id),f()},className:"btn btn-danger",children:"Delete"})]})]})}):null,w=()=>s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(E=>s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"cursor-pointer rounded-lg overflow-hidden border border-slate-200 bg-white shadow-sm hover:shadow-md transition-shadow",onClick:()=>u(E),children:[s.jsx(pb,{fileType:E.file_type,fileUrl:p(E.id,!1,E.file_type==="image"),fileName:E.file_name,size:a,interactive:!1,useThumbnail:E.file_type==="image"}),s.jsxs("div",{className:"p-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",title:E.file_name,children:E.file_name}),s.jsx("p",{className:"text-xs text-slate-500 capitalize",children:E.file_type})]})]}),s.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[r&&s.jsx("a",{href:p(E.id,!0),download:!0,onClick:S=>S.stopPropagation(),className:"bg-white p-1.5 rounded-full shadow-md text-primary-600 hover:text-primary-800",title:"Download file",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n&&s.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),t(E.id)},className:"bg-white p-1.5 rounded-full shadow-md text-red-600 hover:text-red-800",title:"Delete file",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},E.id))}),y=()=>s.jsx("div",{className:"divide-y divide-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:e.map(E=>s.jsxs("div",{className:"flex items-center p-3 hover:bg-slate-50 cursor-pointer",onClick:()=>u(E),children:[s.jsx("div",{className:"flex-shrink-0 mr-3 w-12 h-12 relative",children:s.jsx(pb,{fileType:E.file_type,fileUrl:p(E.id,!1,E.file_type==="image"),fileName:E.file_name,size:"small",showFileName:!1,interactive:!1,useThumbnail:E.file_type==="image"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",title:E.file_name,children:E.file_name}),s.jsx("p",{className:"text-xs text-slate-500 capitalize",children:E.file_type})]}),s.jsxs("div",{className:"flex space-x-2 ml-2",children:[r&&s.jsx("a",{href:p(E.id,!0),download:!0,onClick:S=>S.stopPropagation(),className:"text-primary-600 hover:text-primary-800 p-1.5",title:"Download file",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n&&s.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),t(E.id)},className:"text-red-600 hover:text-red-800 p-1.5",title:"Delete file",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},E.id))});return e.length===0?s.jsx("p",{className:"text-slate-500 italic",children:"No files available"}):s.jsxs("div",{children:[i==="grid"?w():y(),g()]})};g3.propTypes={files:Ge.arrayOf(Ge.shape({id:Ge.number.isRequired,file_type:Ge.string.isRequired,file_name:Ge.string.isRequired})).isRequired,onFileDelete:Ge.func,canDelete:Ge.bool,showDownload:Ge.bool,layout:Ge.oneOf(["grid","list"]),size:Ge.oneOf(["small","medium","large"])};const pK=async(e,t,n)=>{try{const r=new FormData;for(const a of t)r.append("files",a);return(await Xt.post(`/api/files/upload/${e}`,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n?a=>{const o=Math.round(a.loaded*100/a.total);n(o)}:void 0})).data}catch(r){throw console.error("Error uploading files:",r),r}},v3=({equipmentId:e,isOpen:t,onClose:n,onSuccess:r})=>{const[i,a]=K.useState([]),[o,c]=K.useState(!1),[u,f]=K.useState(0),[p,g]=K.useState([]),w=50*1024*1024,y=5,E=K.useCallback((z,R)=>{a(q=>[...q,...z]);const B=R.map(q=>q.file.size>w?`${q.file.name} is too large. Maximum file size is 50MB.`:`${q.file.name} is not a supported file type.`);B.length>0&&g(q=>[...q,...B])},[]),{getRootProps:S,getInputProps:A,isDragActive:j}=fm({onDrop:E,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:y,maxSize:w}),k=z=>{a(R=>R.filter((B,q)=>q!==z))},D=()=>{a([]),g([])},P=z=>{switch(z){case"image/jpeg":case"image/png":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},Y=async()=>{if(i.length===0){An.error("Please select at least one file to upload");return}c(!0),f(0);try{const z=await pK(e,i,R=>f(R));An.success(`Successfully uploaded ${z.files.length} files`),a([]),g([]),r&&r(z.files),n()}catch(z){console.error("Error uploading files:",z),An.error("Failed to upload files. Please try again.")}finally{c(!1)}};return t?s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsx("div",{className:"sm:flex sm:items-start",children:s.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Upload Documents"}),s.jsxs("div",{...S(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer mb-4 ${j?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[s.jsx("input",{...A()}),j?s.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):s.jsxs("div",{children:[s.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),s.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",y," files, ",Math.round(w/(1024*1024)),"MB each)"]})]})]}),p.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-red-500 mb-1",children:"Errors:"}),s.jsx("ul",{className:"text-sm text-red-500 list-disc pl-5",children:p.map((z,R)=>s.jsx("li",{children:z},R))})]}),i.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Selected Files:"}),s.jsx("button",{type:"button",onClick:D,className:"text-sm text-red-500 hover:text-red-700",children:"Clear All"})]}),s.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md overflow-hidden",children:i.map((z,R)=>s.jsxs("li",{className:"flex items-center justify-between p-3 hover:bg-slate-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:P(z.type)}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium truncate max-w-xs",title:z.name,children:z.name}),s.jsxs("p",{className:"text-xs text-slate-500",children:[(z.size/1024).toFixed(1)," KB"]})]})]}),s.jsx("button",{type:"button",onClick:()=>k(R),className:"text-red-500 hover:text-red-700",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},R))})]}),o&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${u}%`}})}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",u,"%"]})]})]})})}),s.jsxs("div",{className:"bg-slate-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx(kt,{variant:"primary",size:"sm",onClick:Y,disabled:o||i.length===0,className:"w-full sm:w-auto sm:ml-3",children:o?"Uploading...":"Upload"}),s.jsx(kt,{variant:"outline",size:"sm",onClick:n,disabled:o,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})}):null};v3.propTypes={equipmentId:Ge.number.isRequired,isOpen:Ge.bool.isRequired,onClose:Ge.func.isRequired,onSuccess:Ge.func};const mk=({isOpen:e,onClose:t,equipment:n,availabilityData:r})=>{var H;const i=ai(),[a,o]=K.useState(""),[c,u]=K.useState(1),[f,p]=K.useState(""),[g,w]=K.useState({}),[y,E]=K.useState(null),[S,A]=K.useState(!1),{data:j,isLoading:k,refetch:D}=Ln({queryKey:["shows"],queryFn:async()=>{console.log(" Fetching shows list");const W=await Xt.get("/api/shows");return console.log(" Shows data:",W.data),W.data},enabled:e,staleTime:0,cacheTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),{data:P,isLoading:Y,refetch:z}=Ln({queryKey:["equipmentShowAllocations",n==null?void 0:n.id],queryFn:async()=>{console.log(" Fetching show allocations for equipment:",n==null?void 0:n.id);const W=await Xt.get(`/api/show-equipment/equipment/${n.id}/shows`);return console.log(" Show allocations:",W.data),W.data},enabled:!!(n!=null&&n.id)&&e,staleTime:0,cacheTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),R=W=>P==null?void 0:P.some(J=>J.show_id===parseInt(W)),B=async()=>{console.log(" Manual refresh triggered"),i.invalidateQueries(["equipmentAvailability",n==null?void 0:n.id]),i.invalidateQueries(["shows"]),i.invalidateQueries(["equipmentShowAllocations",n==null?void 0:n.id]),i.invalidateQueries(["equipment",n==null?void 0:n.id]),await Promise.all([i.refetchQueries(["equipmentAvailability",n==null?void 0:n.id]),i.refetchQueries(["shows"]),i.refetchQueries(["equipmentShowAllocations",n==null?void 0:n.id]),i.refetchQueries(["equipment",n==null?void 0:n.id])]),o(""),u(1),p(""),w({}),E(null),A(!1),An.success("Data refreshed successfully!")};K.useEffect(()=>{e&&(console.log(" Modal opened - refreshing all data"),o(""),u(1),p(""),w({}),E(null),A(!1),i.invalidateQueries(["equipmentAvailability",n==null?void 0:n.id]),i.invalidateQueries(["shows"]),i.invalidateQueries(["equipmentShowAllocations",n==null?void 0:n.id]),i.invalidateQueries(["equipment",n==null?void 0:n.id]),setTimeout(()=>{i.refetchQueries(["equipmentAvailability",n==null?void 0:n.id]),i.refetchQueries(["shows"]),i.refetchQueries(["equipmentShowAllocations",n==null?void 0:n.id]),i.refetchQueries(["equipment",n==null?void 0:n.id])},100))},[e,i,n==null?void 0:n.id]),K.useEffect(()=>{a&&(async()=>{var J,ue;if(a&&(n!=null&&n.id))try{console.log(" Checking for existing allocation:",{showId:a,equipmentId:n.id});const se=await Xt.get(`/api/show-equipment/show/${a}/equipment/${n.id}`);se.data?(console.log(" Found existing allocation:",se.data),E(se.data),u(se.data.quantity_needed||se.data.quantity_allocated||1),p(se.data.notes||""),A(!0)):(console.log(" No existing allocation found"),E(null),u(1),p(""),A(!1))}catch(se){((J=se.response)==null?void 0:J.status)===404?console.log(" No existing allocation found - this is expected"):console.error(" Error checking for existing allocation:",(ue=se.response)==null?void 0:ue.status,se.message),E(null),u(1),p(""),A(!1)}})()},[a,n==null?void 0:n.id]);const q=cr({mutationFn:async W=>S&&y?(console.log("Updating allocation:",{allocationId:y.id,quantity:W.quantity,notes:W.notes}),(await Xt.put(`/api/show-equipment/allocation/${y.id}`,{quantityNeeded:W.quantity,notes:W.notes})).data):(console.log("Creating new allocation:",{showId:W.showId,equipmentId:n.id,quantity:W.quantity,notes:W.notes}),(await Xt.post(`/api/show-equipment/show/${W.showId}/equipment`,{equipmentId:n.id,quantityNeeded:W.quantity,notes:W.notes})).data),onSuccess:()=>{const W=S?"Equipment allocation updated successfully!":"Equipment allocated to show successfully!";An.success(W),i.invalidateQueries(["equipmentAvailability",n.id]),i.invalidateQueries(["equipmentShowAllocations",n.id]),i.invalidateQueries(["equipment",n.id]),i.invalidateQueries(["showEquipment"]),i.invalidateQueries(["shows"]),t()},onError:W=>{var ue,se;const J=S?"Failed to update equipment allocation":"Failed to allocate equipment";An.error(((se=(ue=W.response)==null?void 0:ue.data)==null?void 0:se.message)||J)}}),te=W=>{W.preventDefault();const J={};a||(J.show="Please select a show"),(!c||c<1)&&(J.quantity="Quantity must be at least 1");const ue=r.effectively_available||r.available_quantity,se=S&&y?ue+(y.quantity_allocated||y.quantity_needed||0):ue;if(r&&c>se)if(S)J.quantity=`Maximum ${se} units allowed (${ue} effectively available + ${y.quantity_allocated||y.quantity_needed||0} currently allocated)`;else{const ee=r.total_reserved||0;ee>0&&c<=ue+ee?J.quantity=`Only ${ue} units immediately available. ${ee} units are reserved (requested but not allocated). Total potential: ${ue+ee}`:J.quantity=`Only ${ue} units available`}if(Object.keys(J).length>0){w(J);return}q.mutate({showId:a,quantity:parseInt(c),notes:f})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:S?"Update Show Allocation":"Allocate to Show"}),S&&y&&s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Updating existing allocation for this equipment"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:B,disabled:k||Y,className:"text-slate-400 hover:text-slate-600 transition-colors p-1 rounded hover:bg-slate-100 disabled:opacity-50",title:"Refresh data",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${k||Y?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),s.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 transition-colors",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(k||Y)&&s.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),s.jsx("span",{className:"text-sm text-blue-700",children:"Refreshing data..."})]})}),s.jsx(Ht,{className:"mb-6",children:s.jsxs(Ht.Body,{children:[s.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"Equipment"}),s.jsxs("p",{className:"text-sm text-slate-600",children:[n.brand," ",n.model,"  ",n.serial_number]}),S&&y&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Current Allocation"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600",children:"Status:"}),s.jsx("span",{className:"ml-2 font-medium text-blue-800",children:y.status})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600",children:"Allocated:"}),s.jsx("span",{className:"ml-2 font-medium text-blue-800",children:y.quantity_allocated})]})]})]}),r&&s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-3 text-center bg-slate-50 p-3 rounded mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-slate-800",children:r.total_quantity}),s.jsx("div",{className:"text-xs text-slate-600",children:"Total"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-red-600",children:r.total_unavailable||0}),s.jsx("div",{className:"text-xs text-slate-600",children:"Unavailable"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-orange-600",children:r.total_reserved||0}),s.jsx("div",{className:"text-xs text-slate-600",children:"Reserved"})]}),s.jsxs("div",{children:[s.jsx("div",{className:`text-lg font-bold ${r.effectively_available>0?"text-green-600":"text-red-600"}`,children:r.effectively_available||r.available_quantity}),s.jsx("div",{className:"text-xs text-slate-600",children:"Available"})]})]}),r.warnings&&r.warnings.length>0&&s.jsx("div",{className:"space-y-2",children:r.warnings.map((W,J)=>s.jsxs("div",{className:`p-2 rounded text-sm ${W.type==="error"?"bg-red-50 text-red-700 border border-red-200":W.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,children:[s.jsx("div",{className:"font-medium",children:W.message}),W.details&&s.jsxs("div",{className:"text-xs mt-1 opacity-75",children:[W.type==="info"&&W.details.shows>0&&`Shows: ${W.details.shows}`,W.type==="info"&&W.details.inventory>0&&` Inventory: ${W.details.inventory}`]})]},J))}),(r.show_status_breakdown||r.inventory_status_breakdown)&&s.jsxs("details",{className:"mt-3",children:[s.jsx("summary",{className:"text-xs text-slate-600 cursor-pointer hover:text-slate-800",children:"View detailed status breakdown"}),s.jsxs("div",{className:"mt-2 p-2 bg-slate-100 rounded text-xs",children:[r.show_status_breakdown&&Object.keys(r.show_status_breakdown).length>0&&s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"font-medium text-slate-700",children:"Show Allocations:"}),Object.entries(r.show_status_breakdown).map(([W,J])=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"capitalize",children:[W.replace("-"," "),":"]}),s.jsx("span",{children:J})]},W))]}),r.inventory_status_breakdown&&Object.keys(r.inventory_status_breakdown).length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-700",children:"Inventory Allocations:"}),Object.entries(r.inventory_status_breakdown).map(([W,J])=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"capitalize",children:[W.replace("-"," "),":"]}),s.jsx("span",{children:J})]},W))]})]})]})]})]})}),s.jsxs("form",{onSubmit:te,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"show-select",className:"block text-sm font-medium text-slate-700 mb-2",children:"Select Show *"}),k?s.jsx("div",{className:"text-sm text-slate-500",children:"Loading shows..."}):s.jsxs("select",{id:"show-select",name:"show",value:a,onChange:W=>o(W.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${g.show?"border-red-300":"border-slate-300"}`,children:[s.jsx("option",{value:"",children:"Choose a show..."}),(H=j==null?void 0:j.shows)==null?void 0:H.map(W=>s.jsxs("option",{value:W.id,children:[W.name," ",W.date?`- ${new Date(W.date).toLocaleDateString()}`:"",R(W.id)?" (Already allocated)":""]},W.id))]}),g.show&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.show})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-slate-700 mb-2",children:"Quantity *"}),s.jsx(kn,{id:"quantity",name:"quantity",type:"number",min:"1",max:r?S&&y?(r.effectively_available||r.available_quantity)+(y.quantity_allocated||y.quantity_needed||0):r.effectively_available||r.available_quantity:999,value:c,onChange:W=>u(W.target.value),className:g.quantity?"border-red-300":""}),g.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.quantity})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-slate-700 mb-2",children:"Notes"}),s.jsx("textarea",{id:"notes",name:"notes",value:f,onChange:W=>p(W.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional notes about this allocation..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(kt,{type:"button",variant:"outline",onClick:t,disabled:q.isLoading,children:"Cancel"}),s.jsx(kt,{type:"submit",variant:"primary",disabled:q.isLoading||!S&&r&&(r.effectively_available||r.available_quantity)===0,className:"flex items-center",children:q.isLoading?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),S?"Updating...":"Allocating..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),S?"Update Allocation":"Allocate to Show"]})})]})]})]})})}):null},mK=async(e={})=>{try{const t=new URLSearchParams;return e.status&&t.append("status",e.status),e.search&&t.append("search",e.search),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset),(await Xt.get(`/api/shows?${t}`)).data}catch(t){throw console.error("Error fetching shows:",t),t}},xk=async e=>{try{return(await Xt.get(`/api/shows/${e}`)).data}catch(t){throw console.error("Error fetching show:",t),t}},xK=async e=>{try{return(await Xt.post("/api/shows",e)).data}catch(t){throw console.error("Error creating show:",t),t}},gk=async(e,t)=>{try{return(await Xt.put(`/api/shows/${e}`,t)).data}catch(n){throw console.error("Error updating show:",n),n}},vk=async e=>{try{return(await Xt.delete(`/api/shows/${e}`)).data}catch(t){throw console.error("Error deleting show:",t),t}},gK=async e=>{try{return(await Xt.get(`/api/show-equipment/show/${e}`)).data}catch(t){throw console.error("Error fetching show equipment:",t),t}},vK=async(e,t)=>{try{return(await Xt.post(`/api/show-equipment/show/${e}/equipment`,t)).data}catch(n){throw console.error("Error adding equipment to show:",n),n}},wk=async(e,t)=>{try{return(await Xt.put(`/api/show-equipment/allocation/${e}`,t)).data}catch(n){throw console.error("Error updating show equipment:",n),n}},wK=async e=>{try{return(await Xt.delete(`/api/show-equipment/${e}`)).data}catch(t){throw console.error("Error removing equipment from show:",t),t}},Z8=(e,t)=>{const n=parseInt(e)||0,r=parseInt(t)||0;return Math.max(0,n-r)},w3=({showEquipment:e,onClose:t,showId:n})=>{var Y,z,R,B,q,te;const r=ai(),[i,a]=K.useState({quantityNeeded:(e==null?void 0:e.quantity_needed)||1,quantityAllocated:(e==null?void 0:e.quantity_allocated)||0,status:(e==null?void 0:e.status)||"requested",notes:(e==null?void 0:e.notes)||""}),[o,c]=K.useState({}),[u,f]=K.useState(null),[p,g]=K.useState(!1),{data:w,isLoading:y}=Ln({queryKey:["equipmentAvailability",e==null?void 0:e.equipment_id],queryFn:async()=>e!=null&&e.equipment_id?(await Xt.get(`/api/show-equipment/equipment/${e.equipment_id}/availability`)).data:null,enabled:!!(e!=null&&e.equipment_id)}),E=[{value:"requested",label:"Requested",color:"bg-blue-100 text-blue-800"},{value:"allocated",label:"Allocated",color:"bg-yellow-100 text-yellow-800"},{value:"checked-out",label:"Checked Out",color:"bg-orange-100 text-orange-800"},{value:"in-use",label:"In Use",color:"bg-red-100 text-red-800"},{value:"returned",label:"Returned",color:"bg-green-100 text-green-800"}],S=async H=>{if(H===e.status){f(null);return}g(!0);try{const W=await Xt.post(`/api/show-equipment/allocation/${e.id}/validate-status`,{newStatus:H,quantity:i.quantityAllocated||i.quantityNeeded});f(W.data)}catch(W){console.error("Validation error:",W),f({valid:!1,conflicts:[{type:"validation_error",message:"Failed to validate status change",severity:"error"}],warnings:[]})}finally{g(!1)}},A=cr({mutationFn:async H=>(await Xt.put(`/api/show-equipment/allocation/${e.id}`,{quantityNeeded:H.quantityNeeded,quantityAllocated:H.quantityAllocated,notes:H.notes,status:H.status})).data,onSuccess:()=>{r.invalidateQueries(["showEquipment",n]),r.invalidateQueries(["show",n]),r.invalidateQueries(["equipmentAvailability"]),r.invalidateQueries(["equipmentShowAllocations",e==null?void 0:e.equipment_id]),r.invalidateQueries(["equipmentAvailability",e==null?void 0:e.equipment_id]),gn.success("Equipment allocation updated successfully"),t()},onError:H=>{var J,ue;const W=(J=H.response)==null?void 0:J.data;W!=null&&W.conflicts?gn.error(`Update blocked: ${(ue=W.conflicts[0])==null?void 0:ue.message}`):gn.error((W==null?void 0:W.message)||"Failed to update equipment")}}),j=()=>{const H={};if((!i.quantityNeeded||i.quantityNeeded<1)&&(H.quantityNeeded="Quantity needed must be at least 1"),i.quantityAllocated<0&&(H.quantityAllocated="Quantity allocated cannot be negative"),i.quantityAllocated>i.quantityNeeded&&(H.quantityAllocated="Allocated quantity cannot exceed needed quantity"),w&&i.quantityNeeded){const W=w.effectively_available||w.available_quantity||0,J=(e==null?void 0:e.quantity_needed)||(e==null?void 0:e.quantity_allocated)||0,ue=W+J;i.quantityNeeded>ue&&(H.quantityNeeded=`Maximum ${ue} units allowed (${W} available + ${J} currently allocated)`)}return c(H),Object.keys(H).length===0},k=H=>{H.preventDefault(),j()&&A.mutate({quantityNeeded:parseInt(i.quantityNeeded),quantityAllocated:parseInt(i.quantityAllocated),status:i.status,notes:i.notes.trim()})},D=(H,W)=>{a(J=>({...J,[H]:W})),o[H]&&c(J=>({...J,[H]:""})),H==="status"&&S(W)},P=H=>{const W=E.find(J=>J.value===H);return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(W==null?void 0:W.color)||"bg-gray-100 text-gray-800"}`,children:(W==null?void 0:W.label)||H})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[s.jsx(sc,{className:"w-5 h-5 mr-2"}),"Edit Equipment Allocation"]}),s.jsx(kt,{variant:"outline",onClick:t,children:s.jsx(Y4,{className:"w-4 h-4"})})]}),s.jsx(Ht,{className:"mb-6",children:s.jsxs(Ht.Body,{children:[s.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:((Y=e.equipment)==null?void 0:Y.type)||((z=e.equipment)==null?void 0:z.name)}),s.jsxs("p",{className:"text-sm text-slate-600 mb-3",children:[(R=e.equipment)==null?void 0:R.brand," ",(B=e.equipment)==null?void 0:B.model]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600",children:"Serial:"}),s.jsx("span",{className:"ml-1 font-medium",children:((q=e.equipment)==null?void 0:q.serial_number)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600",children:"Total Qty:"}),s.jsx("span",{className:"ml-1 font-medium",children:(w==null?void 0:w.total_quantity)||((te=e.equipment)==null?void 0:te.quantity)||0})]}),w&&s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600",children:"Available:"}),s.jsx("span",{className:"ml-1 font-medium text-green-600",children:w.effectively_available||w.available_quantity||0})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600",children:"Current Status:"}),s.jsx("span",{className:"ml-2",children:P(e.status)})]})]}),w&&!y&&s.jsx("div",{className:"mt-3 p-3 bg-slate-50 rounded-lg",children:s.jsxs("div",{className:"text-xs text-slate-600 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Equipment:"}),s.jsx("span",{className:"font-medium",children:w.total_quantity})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Currently Allocated:"}),s.jsx("span",{className:"font-medium",children:w.total_allocated||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Available for Allocation:"}),s.jsx("span",{className:"font-medium text-green-600",children:w.effectively_available||w.available_quantity||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"This Allocation:"}),s.jsx("span",{className:"font-medium text-blue-600",children:(e==null?void 0:e.quantity_needed)||(e==null?void 0:e.quantity_allocated)||0})]}),(()=>{const H=Z8(i.quantityNeeded||(e==null?void 0:e.quantity_needed),i.quantityAllocated||(e==null?void 0:e.quantity_allocated));return H>0?s.jsxs("div",{className:"flex justify-between border-t pt-1 mt-1",children:[s.jsx("span",{className:"text-red-600 font-medium",children:"Missing Items:"}),s.jsx("span",{className:"font-bold text-red-600",children:H})]}):null})()]})}),y&&s.jsx("div",{className:"mt-3 p-3 bg-slate-50 rounded-lg",children:s.jsxs("div",{className:"text-xs text-slate-500 flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-slate-400 mr-2"}),"Loading availability data..."]})})]})}),s.jsxs("form",{onSubmit:k,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Quantity Needed *",w&&s.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(Max: ",(w.effectively_available||w.available_quantity||0)+((e==null?void 0:e.quantity_needed)||(e==null?void 0:e.quantity_allocated)||0),")"]})]}),s.jsx(kn,{id:"quantityNeeded",name:"quantityNeeded",type:"number",min:"1",max:w?(w.effectively_available||w.available_quantity||0)+((e==null?void 0:e.quantity_needed)||(e==null?void 0:e.quantity_allocated)||0):void 0,value:i.quantityNeeded,onChange:H=>D("quantityNeeded",H.target.value),className:o.quantityNeeded?"border-red-300":""}),o.quantityNeeded&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.quantityNeeded})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Quantity Allocated"}),s.jsx(kn,{id:"quantityAllocated",name:"quantityAllocated",type:"number",min:"0",max:i.quantityNeeded,value:i.quantityAllocated,onChange:H=>D("quantityAllocated",H.target.value),className:o.quantityAllocated?"border-red-300":""}),o.quantityAllocated&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.quantityAllocated}),(()=>{const H=Z8(i.quantityNeeded,i.quantityAllocated);return H>0?s.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-md",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsxs("span",{className:"text-sm font-medium text-red-800",children:["Missing ",H," item",H!==1?"s":""," - Need to allocate ",H," more"]})]})}):null})()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Allocation Status"}),s.jsx("select",{value:i.status,onChange:H=>D("status",H.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:E.map(H=>s.jsx("option",{value:H.value,children:H.label},H.value))}),p&&s.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-xs",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600 mr-2"}),"Validating status change..."]})}),u&&!p&&s.jsxs("div",{className:"mt-2 space-y-2",children:[u.conflicts&&u.conflicts.length>0&&s.jsx("div",{className:"space-y-1",children:u.conflicts.map((H,W)=>s.jsxs("div",{className:"p-2 bg-red-50 border border-red-200 rounded text-xs",children:[s.jsxs("div",{className:"font-medium text-red-800",children:[" ",H.message]}),H.conflictingAllocation&&s.jsxs("div",{className:"text-red-600 mt-1",children:["Conflicting with: ",H.conflictingAllocation.show_name,"(",H.conflictingAllocation.status,")"]})]},W))}),u.warnings&&u.warnings.length>0&&s.jsx("div",{className:"space-y-1",children:u.warnings.map((H,W)=>s.jsx("div",{className:"p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:s.jsxs("div",{className:"font-medium text-yellow-800",children:[" ",H.message]})},W))}),u.valid&&u.conflicts.length===0&&s.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded text-xs",children:s.jsx("div",{className:"font-medium text-green-800",children:" Status change is allowed"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Notes"}),s.jsx("textarea",{value:i.notes,onChange:H=>D("notes",H.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:"4",placeholder:"Add any notes about this equipment allocation..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-slate-200",children:[s.jsx(kt,{type:"button",variant:"outline",onClick:t,disabled:A.isLoading,children:"Cancel"}),s.jsxs(kt,{type:"submit",disabled:A.isLoading||p||u&&!u.valid,className:"flex items-center space-x-2",children:[s.jsx(CW,{className:"w-4 h-4"}),s.jsx("span",{children:A.isLoading?"Saving...":"Save Changes"})]})]})]})]})}):null},yK=({equipment:e,locations:t,onClose:n,isOpen:r})=>{const[i,a]=K.useState({installation_type:"portable",installation_location_id:"",installation_location:"",installation_date:"",installation_notes:"",installation_quantity:1}),[o,c]=K.useState("");K.useState(!1);const[u,f]=K.useState(!1),[p,g]=K.useState(1),w=ai();K.useEffect(()=>{r&&e&&(a({installation_type:e.installation_type||"portable",installation_location_id:e.installation_location_id||"",installation_location:e.installation_location||"",installation_date:e.installation_date?e.installation_date.split("T")[0]:"",installation_notes:e.installation_notes||"",installation_quantity:e.installation_quantity||1}),g(e.installation_quantity||1))},[r,e]);const y=cr({mutationFn:async j=>(await Xt.put(`/api/equipment/${e.id}/installation`,j)).data,onSuccess:()=>{w.refetchQueries(["equipment",e.id]),w.refetchQueries(["equipmentAvailability",e.id]),w.refetchQueries(["equipmentShowAllocations",e.id]),w.refetchQueries(["inventoryAllocations",e.id]),w.invalidateQueries(["equipment"]),w.invalidateQueries(["show-equipment"]),w.invalidateQueries(["equipment-availability"]),w.invalidateQueries(["storageAvailability"]),n()},onError:j=>{var k,D;c(((D=(k=j.response)==null?void 0:k.data)==null?void 0:D.message)||"Failed to update installation details")}}),E=cr({mutationFn:async j=>await aW(e.id,j),onSuccess:j=>{w.refetchQueries(["equipment",e.id]),w.refetchQueries(["equipmentAvailability",e.id]),w.refetchQueries(["equipmentShowAllocations",e.id]),w.refetchQueries(["inventoryAllocations",e.id]),w.invalidateQueries(["equipment"]),w.invalidateQueries(["show-equipment"]),w.invalidateQueries(["equipment-availability"]),w.invalidateQueries(["storageAvailability"]),f(!1),n()},onError:j=>{var k,D;c(((D=(k=j.response)==null?void 0:k.data)==null?void 0:D.message)||"Failed to return equipment from installation")}}),S=j=>{if(j.preventDefault(),c(""),i.installation_type!=="portable"){if(!i.installation_location_id&&!i.installation_location){c("Installation location is required for fixed/semi-permanent equipment");return}if(i.installation_quantity>(e.quantity||1)){c(`Installation quantity cannot exceed total equipment quantity (${e.quantity||1})`);return}}y.mutate(i)},A=(j,k)=>{a(D=>({...D,[j]:k})),j==="installation_type"&&k==="portable"&&a(D=>({...D,installation_location_id:"",installation_location:"",installation_date:"",installation_notes:"",installation_quantity:1}))};return r?s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Installation Management"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e==null?void 0:e.brand," ",e==null?void 0:e.model]})]}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installation Type"}),s.jsxs("select",{value:i.installation_type,onChange:j=>A("installation_type",j.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[s.jsx("option",{value:"portable",children:"Portable Equipment"}),s.jsx("option",{value:"semi-permanent",children:"Semi-Permanent Installation"}),s.jsx("option",{value:"fixed",children:"Fixed Installation"})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.installation_type==="portable"&&"Equipment can be freely moved and allocated to shows",i.installation_type==="semi-permanent"&&"Equipment is installed but can be moved with approval",i.installation_type==="fixed"&&"Equipment is permanently installed and cannot be moved"]})]}),i.installation_type!=="portable"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installation Location"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("select",{value:i.installation_location_id,onChange:j=>A("installation_location_id",j.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[s.jsx("option",{value:"",children:"Select from existing locations"}),t.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]}),s.jsx("div",{className:"text-center text-sm text-gray-500",children:"or"}),s.jsx("input",{type:"text",value:i.installation_location,onChange:j=>A("installation_location",j.target.value),placeholder:"Enter custom installation location",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose an existing location or enter a custom installation location"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installation Date"}),s.jsx("input",{type:"date",value:i.installation_date,onChange:j=>A("installation_date",j.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installation Quantity"}),s.jsx("input",{type:"number",min:"1",max:(e==null?void 0:e.quantity)||1,value:i.installation_quantity,onChange:j=>A("installation_quantity",parseInt(j.target.value)),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Number of items to install (max: ",(e==null?void 0:e.quantity)||1,")"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installation Notes"}),s.jsx("textarea",{value:i.installation_notes,onChange:j=>A("installation_notes",j.target.value),rows:3,placeholder:"Add notes about the installation...",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),o&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-sm text-red-600",children:o})}),s.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-200",children:[(e==null?void 0:e.installation_type)!=="portable"&&s.jsxs("button",{type:"button",onClick:()=>f(!0),disabled:E.isLoading,className:"px-4 py-2 text-sm font-medium text-orange-700 bg-orange-50 border border-orange-200 rounded-md hover:bg-orange-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[s.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Return from Installation"]}),s.jsxs("div",{className:"flex space-x-3 ml-auto",children:[s.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:y.isLoading,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:y.isLoading?"Saving...":"Save Installation Details"})]})]})]})})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Return from Installation"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Select quantity to return from installation"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity to Return"}),s.jsx("input",{type:"number",min:"1",max:(e==null?void 0:e.installation_quantity)||1,value:p,onChange:j=>g(parseInt(j.target.value)),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Currently installed: ",(e==null?void 0:e.installation_quantity)||0," items"]})]}),o&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-sm text-red-600",children:o})}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{f(!1),c("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"button",onClick:()=>{window.confirm(`Return ${p} item${p!==1?"s":""} from installation back to ${p===((e==null?void 0:e.installation_quantity)||0)?"portable status":"reduce installation quantity"}?`)&&E.mutate(p)},disabled:E.isLoading,className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 border border-transparent rounded-md hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:E.isLoading?"Returning...":`Return ${p} Item${p!==1?"s":""}`})]})]})]})})]}):null},bK=({equipment:e,locations:t,onClose:n,isOpen:r})=>{var _e,ct;const[i,a]=K.useState([]),[o,c]=K.useState(""),[u,f]=K.useState(!1),[p,g]=K.useState([]),[w,y]=K.useState("allocations"),[E,S]=K.useState(!1),A=ai(),{data:j,isLoading:k}=Ln({queryKey:["equipmentAvailability",e==null?void 0:e.id],queryFn:async()=>e!=null&&e.id?(await Xt.get(`/api/equipment/${e.id}/availability`)).data:null,enabled:!!(e!=null&&e.id)&&r});K.useEffect(()=>{r&&e&&D()},[r,e]);const D=async()=>{try{f(!0);const Z=(await Xt.get(`/api/equipment/${e.id}/allocations`)).data.allocations||[];g(Z),Z.length>0?a(Z.map(Q=>{var ne;return{id:Q.id,location_id:Q.location_id,location_name:Q.location_name||((ne=Q.location)==null?void 0:ne.name)||"",quantity:Q.quantity_allocated,status:Q.status,notes:Q.notes||""}})):a([])}catch(U){console.error("Error fetching allocations:",U),c("Failed to load current allocations")}finally{f(!1)}},P=()=>{a([...i,{id:null,location_id:"",location_name:"",quantity:1,status:"allocated",notes:""}])},Y=U=>{i.length>1&&a(i.filter((Z,Q)=>Q!==U))},z=()=>p.reduce((U,Z)=>U+(parseInt(Z.quantity_allocated)||0),0),R=()=>{const U=((j==null?void 0:j.available_quantity)||0)+z(),Z=z();return U-Z},B=()=>j?(j.available_quantity||0)+z():(e==null?void 0:e.quantity)||1,q=(U,Z,Q)=>{const ne=[...i];if(ne[U]={...ne[U],[Z]:Q},Z==="location_id"){const ce=t.find(be=>be.id.toString()===Q.toString());ce&&(ne[U].location_name=ce.name)}a(ne)},te=cr({mutationFn:async U=>(await Xt.post(`/api/equipment/${e.id}/allocations`,{allocations:U})).data,onSuccess:()=>{A.invalidateQueries(["equipment"]),A.invalidateQueries(["equipment-availability"]),A.invalidateQueries(["equipmentAvailability"]),A.invalidateQueries(["equipmentShowAllocations"]),A.invalidateQueries(["storageAvailability"]),A.invalidateQueries(["inventoryAllocations"]),n()},onError:U=>{var Z,Q;c(((Q=(Z=U.response)==null?void 0:Z.data)==null?void 0:Q.message)||"Failed to save allocations")}}),H=()=>{const U=[],Z=B(),Q=i.reduce((be,Fe)=>be+(parseInt(Fe.quantity)||0),0);if(Q>Z){const be=(j==null?void 0:j.show_allocated)||0;be>0?U.push(`Total allocated quantity (${Q}) exceeds available quantity (${Z}). ${be} items are allocated to shows.`):U.push(`Total allocated quantity (${Q}) exceeds available quantity (${Z})`)}const ne=i.map(be=>be.location_id).filter(be=>be);return ne.filter((be,Fe)=>ne.indexOf(be)!==Fe).length>0&&U.push("Cannot allocate to the same location multiple times"),i.forEach((be,Fe)=>{be.location_id||U.push(`Allocation #${Fe+1}: Location must be selected`),(!be.quantity||parseInt(be.quantity)<=0)&&U.push(`Allocation #${Fe+1}: Quantity must be greater than 0`)}),U},W=U=>{U.preventDefault(),c("");const Z=H();if(Z.length>0){c(Z.join(". "));return}if(i.length===0){te.mutate([]);return}const Q=i.map(ne=>({location_id:parseInt(ne.location_id),quantity:parseInt(ne.quantity)||1,status:ne.status,notes:ne.notes}));te.mutate(Q)};if(!r)return null;const J=(e==null?void 0:e.quantity)||1,ue=B(),se=i.reduce((U,Z)=>U+(parseInt(Z.quantity)||0),0),ee=ue-se,ge=H().length===0,Be=u||k;return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Manage Location Allocations"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e==null?void 0:e.brand," ",e==null?void 0:e.model," - Total: ",J," items",j&&j.show_allocated>0&&s.jsxs("span",{className:"text-blue-600 ml-2",children:["(",j.show_allocated," in shows, ",ue," available for locations)"]})]})]}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mt-4 flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>y("allocations"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${w==="allocations"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx("svg",{className:"h-4 w-4 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3l6-3"})}),"Location Allocations"]}),s.jsxs("button",{onClick:()=>y("installation"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${w==="installation"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsxs("svg",{className:"h-4 w-4 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Installation Details"]})]})]}),s.jsx("div",{className:"p-6",children:Be?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"})}):w==="allocations"?s.jsxs("form",{onSubmit:W,className:"space-y-4",children:[s.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-800 mb-3",children:"Allocation Overview"}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 mb-1",children:[s.jsx("span",{children:"Items Distribution"}),s.jsxs("span",{children:[se," / ",ue," allocated to locations"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${se>ue?"bg-red-500":se===0?"bg-gray-400":"bg-blue-500"}`,style:{width:`${Math.min(se/ue*100,100)}%`}})})]}),p.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs font-medium text-slate-700 mb-2",children:"Current Distribution:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.map((U,Z)=>s.jsxs("div",{className:"bg-white p-2 rounded border text-xs",children:[s.jsx("div",{className:"font-medium text-slate-800",children:U.location_name}),s.jsxs("div",{className:"text-slate-600",children:[U.quantity_allocated," items"]})]},Z)),R()>0&&s.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-200 text-xs",children:[s.jsx("div",{className:"font-medium text-blue-800",children:"Default Storage"}),s.jsxs("div",{className:"text-blue-600",children:[R()," items"]})]})]})]}),s.jsx("div",{className:`p-3 rounded-lg border ${ge?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium",children:["New Allocation: ",se," / ",ue," items"]}),j&&j.show_allocated>0&&s.jsxs("div",{className:"text-blue-600 text-xs mt-1",children:[j.show_allocated," items allocated to shows (not available for location allocation)"]}),ee>0&&s.jsxs("div",{className:"text-gray-600 mt-1",children:[ee," items will remain in default storage"]})]}),s.jsx("span",{className:`text-sm font-medium ${ge?"text-green-600":"text-red-600"}`,children:se>ue?" Exceeds Available":se===0?" All in Default Storage":" Valid Allocation"})]})})]}),o&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-sm text-red-600",children:o})}),i.length===0&&s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-3",children:"Quick Allocation Options"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>{const U=t.slice(0,3),Z=Math.floor(ue/U.length),Q=ue%U.length,ne=U.map((ce,be)=>({id:null,location_id:ce.id,location_name:ce.name,quantity:Z+(be<Q?1:0),status:"allocated",notes:""}));a(ne)},className:"p-3 text-sm bg-white border border-blue-200 rounded-md hover:bg-blue-50 transition-colors text-left",children:[s.jsx("div",{className:"font-medium text-blue-800",children:"Split Equally"}),s.jsx("div",{className:"text-blue-600 text-xs",children:"Distribute across locations"})]}),s.jsxs("button",{type:"button",onClick:()=>{t.length>0&&a([{id:null,location_id:t[0].id,location_name:t[0].name,quantity:ue,status:"allocated",notes:""}])},className:"p-3 text-sm bg-white border border-blue-200 rounded-md hover:bg-blue-50 transition-colors text-left",children:[s.jsx("div",{className:"font-medium text-blue-800",children:"Move All"}),s.jsx("div",{className:"text-blue-600 text-xs",children:"To single location"})]}),s.jsxs("button",{type:"button",onClick:P,className:"p-3 text-sm bg-white border border-blue-200 rounded-md hover:bg-blue-50 transition-colors text-left",children:[s.jsx("div",{className:"font-medium text-blue-800",children:"Custom"}),s.jsx("div",{className:"text-blue-600 text-xs",children:"Manual allocation"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-md font-medium text-gray-800",children:["Location Allocations",i.length>0&&s.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",i.length," location",i.length!==1?"s":"",")"]})]}),s.jsxs("div",{className:"flex space-x-2",children:[i.length>0&&s.jsxs("button",{type:"button",onClick:()=>a([]),className:"px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded-md hover:bg-orange-200 transition-colors flex items-center",title:"Clear all allocations and return all items to default storage",children:[s.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Clear All"]}),s.jsxs("button",{type:"button",onClick:P,className:"px-3 py-1 text-sm bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors flex items-center",children:[s.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Location"]})]})]}),i.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("p",{className:"text-sm",children:"No location allocations configured"}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["All ",ue," available items will remain in default storage"]})]}):i.map((U,Z)=>{const Q=ue-i.reduce((ce,be,Fe)=>Fe!==Z?ce+(parseInt(be.quantity)||0):ce,0),ne=i.some((ce,be)=>be!==Z&&ce.location_id===U.location_id&&U.location_id!=="");return s.jsxs("div",{className:`p-4 border rounded-lg transition-all ${ne?"border-yellow-300 bg-yellow-50":U.location_id?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Allocation #",Z+1]}),ne&&s.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-yellow-200 text-yellow-800 rounded-full",children:"Duplicate Location"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[U.location_id&&s.jsx("div",{className:"flex space-x-1",children:[1,Math.floor(Q/2),Q].filter((ce,be,Fe)=>ce>0&&ce<=ue&&Fe.indexOf(ce)===be).map(ce=>s.jsx("button",{type:"button",onClick:()=>q(Z,"quantity",ce.toString()),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",title:`Set quantity to ${ce}`,children:ce},ce))}),s.jsx("button",{type:"button",onClick:()=>Y(Z),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-100 rounded transition-colors",title:"Remove allocation",children:s.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Location"}),s.jsxs("select",{value:U.location_id,onChange:ce=>q(Z,"location_id",ce.target.value),className:`w-full text-sm rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 ${ne?"border-yellow-300":"border-gray-300"}`,required:!0,children:[s.jsx("option",{value:"",children:"Select Location"}),t.map(ce=>s.jsx("option",{value:ce.id,children:ce.name},ce.id))]}),ne&&s.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"This location is already selected"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Quantity",s.jsxs("span",{className:"text-gray-500 ml-1",children:["(max: ",Q,")"]})]}),s.jsx("input",{type:"number",min:"1",max:Q,value:U.quantity,onChange:ce=>q(Z,"quantity",ce.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:U.status,onChange:ce=>q(Z,"status",ce.target.value),className:"w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[s.jsx("option",{value:"allocated",children:"Allocated"}),s.jsx("option",{value:"in-use",children:"In Use"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"reserved",children:"Reserved"})]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Notes (optional)"}),s.jsx("input",{type:"text",value:U.notes,onChange:ce=>q(Z,"notes",ce.target.value),placeholder:"Add notes about this allocation...",className:"w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]},Z)})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!ge||te.isLoading,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:te.isLoading?"Saving...":"Save Allocations"})]})]}):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[s.jsxs("h3",{className:"text-lg font-medium text-slate-800 mb-4 flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Installation Management"]}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Manage permanent and semi-permanent installations for this equipment."}),(e==null?void 0:e.installation_type)==="fixed"||(e==null?void 0:e.installation_type)==="semi-permanent"?s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${(e==null?void 0:e.installation_type)==="fixed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[((_e=e==null?void 0:e.installation_type)==null?void 0:_e.charAt(0).toUpperCase())+((ct=e==null?void 0:e.installation_type)==null?void 0:ct.slice(1).replace("-"," "))," Installation"]}),(e==null?void 0:e.installation_quantity)&&s.jsxs("span",{className:"text-sm font-medium text-orange-800 bg-orange-100 px-2 py-1 rounded",children:[e.installation_quantity," items installed"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Installation Location"}),s.jsx("p",{className:"text-lg font-medium text-slate-800 mt-1",children:(e==null?void 0:e.installation_location)||"Location not specified"})]}),(e==null?void 0:e.installation_date)&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Installation Date"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:new Date(e.installation_date).toLocaleDateString()})]}),(e==null?void 0:e.installation_notes)&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Installation Notes"}),s.jsx("div",{className:"text-sm text-slate-600 bg-white p-3 rounded border mt-1",children:e.installation_notes})]})]})]}):s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-4",children:[s.jsx("div",{className:"flex items-center mb-3",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Portable Equipment"})}),s.jsx("p",{className:"text-sm text-slate-600",children:"This equipment is portable and not permanently installed at any location."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-slate-200",children:[s.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Close"}),s.jsx("button",{type:"button",onClick:()=>S(!0),className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 border border-transparent rounded-md hover:bg-orange-700 transition-colors",children:"Manage Installation"})]})]})})})]}),s.jsx(yK,{isOpen:E,onClose:()=>S(!1),equipment:e,locations:t})]})},J8=(e,t=!1)=>`/api/files/${e}${t?"?thumbnail=true":""}`,NK=()=>{var Tn,Kt,Dr,hn;const{id:e}=Gg(),t=Do(),n=ai(),{user:r}=ss(),[i,a]=K.useState(!1),[o,c]=K.useState(!1),[u,f]=K.useState(!1),[p,g]=K.useState(!1),[w,y]=K.useState(!1),[E,S]=K.useState(null),[A,j]=K.useState(!1),[k,D]=K.useState(!1),[P,Y]=K.useState(null),[z,R]=K.useState(null),[B,q]=K.useState(!1),[te,H]=K.useState(null),[W,J]=K.useState("details"),[ue,se]=K.useState("grid"),{data:ee,isLoading:Ae,isError:ge,error:Be}=Ln({queryKey:["equipment",e],queryFn:()=>lv(e)}),{data:_e,isLoading:ct}=Ln({queryKey:["equipmentAvailability",e],queryFn:async()=>{var $t,nn,Dn,Nn,yi;const Ue=await Xt.get(`/api/equipment/${e}/availability`);return console.log(" Availability data response:",Ue.data),console.log(" Show allocated count:",($t=Ue.data)==null?void 0:$t.show_allocated),console.log(" Show status breakdown:",(nn=Ue.data)==null?void 0:nn.show_status_breakdown),console.log(" Installation allocated count:",(Dn=Ue.data)==null?void 0:Dn.installation_allocated),console.log(" Total allocated count:",(Nn=Ue.data)==null?void 0:Nn.total_allocated),console.log(" Available quantity:",(yi=Ue.data)==null?void 0:yi.available_quantity),Ue.data},enabled:!!e}),{data:U,isLoading:Z}=Ln({queryKey:["equipmentShowAllocations",e],queryFn:async()=>{console.log(" Fetching show allocations for equipment ID:",e);const Ue=await Xt.get(`/api/show-equipment/equipment/${e}/shows`);return console.log(" Show allocations response:",Ue.data),console.log(" Show allocations count:",Ue.data.length),console.log(" Show allocations details:",Ue.data.map($t=>({id:$t.id,status:$t.status,quantity_needed:$t.quantity_needed,quantity_allocated:$t.quantity_allocated,show_name:$t.show_name}))),Ue.data},enabled:!!e}),{data:Q,isLoading:ne,error:ce}=Ln({queryKey:["locations"],queryFn:async()=>{try{const Ue=await Xt.get("/api/locations");return Ue.data.locations||Ue.data}catch(Ue){return console.error("Error fetching locations:",Ue),[]}}}),{data:be}=Ln({queryKey:["inventoryAllocations",e],queryFn:async()=>{try{console.log(` Fetching inventory allocations for equipment ${e}`);const Ue=await Xt.get(`/api/equipment/${e}/allocations`);console.log(" Inventory allocations response:",Ue.data);const $t=Ue.data.allocations||[];return console.log(" Processed allocations:",$t),$t}catch(Ue){return console.error(" Error fetching inventory allocations:",Ue),[]}},enabled:!!e}),Fe=Array.isArray(Q)?Q:[];(()=>{if(((ee==null?void 0:ee.installation_type)==="fixed"||(ee==null?void 0:ee.installation_type)==="semi-permanent")&&(ee!=null&&ee.installation_location||ee!=null&&ee.installation_location_id)){if(ee.installation_location_id){const Ue=Fe.find($t=>$t.id===ee.installation_location_id);if(Ue)return{location:Ue,displayName:Ue.name,source:"installation_location_id",isInstallation:!0}}if(ee.installation_location)return{location:null,displayName:ee.installation_location,source:"installation_location",isInstallation:!0}}if(ee!=null&&ee.location_id){const Ue=Fe.find($t=>$t.id===ee.location_id);if(Ue)return{location:Ue,displayName:Ue.name,source:"location_id",isInstallation:!1}}return ee!=null&&ee.location?{location:null,displayName:ee.location,source:"location",isInstallation:!1}:{location:null,displayName:"Unknown Location",source:"fallback",isInstallation:!1}})().location;const pt=cr({mutationFn:()=>iW(e),onSuccess:()=>{n.invalidateQueries(["equipment"]),t("/equipment")}}),bt=cr({mutationFn:async Ue=>(await Xt.delete(`/api/show-equipment/${Ue}`)).data,onSuccess:()=>{n.invalidateQueries(["equipmentShowAllocations",e]),n.invalidateQueries(["equipmentAvailability",e]),n.invalidateQueries(["equipment",e]),n.invalidateQueries(["inventoryAllocations",e]),gn.success("Allocation removed successfully")},onError:Ue=>{var $t,nn;gn.error(`Failed to remove allocation: ${((nn=($t=Ue.response)==null?void 0:$t.data)==null?void 0:nn.message)||Ue.message}`)}}),Ye=cr({mutationFn:async({allocationId:Ue,status:$t})=>(await Xt.put(`/api/show-equipment/allocation/${Ue}`,{status:$t})).data,onSuccess:()=>{n.invalidateQueries(["equipmentShowAllocations",e]),n.invalidateQueries(["equipmentAvailability",e]),n.invalidateQueries(["equipment",e]),n.invalidateQueries(["inventoryAllocations",e]),gn.success("Status updated successfully"),q(!1),k&&P&&setTimeout(()=>{Vt(P)},100)},onError:Ue=>{var $t,nn;console.error("Error updating status:",Ue),gn.error(`Failed to update status: ${((nn=($t=Ue.response)==null?void 0:$t.data)==null?void 0:nn.message)||Ue.message}`)}}),yt=()=>{t(`/equipment/${e}/edit`)},it=Ue=>{n.invalidateQueries(["equipment",e]),gn.success(`Successfully uploaded ${Ue.length} file(s)`)},fe=()=>{a(!0)},He=()=>{pt.mutate(),a(!1)},mt=()=>{a(!1)},rt=()=>{t("/equipment")},Ee=Ue=>{S(Ue),y(!0)},qe=()=>{y(!1),S(null),n.invalidateQueries(["equipmentShowAllocations",e]),n.invalidateQueries(["equipmentAvailability",e]),n.invalidateQueries(["equipment",e]),n.invalidateQueries(["inventoryAllocations",e])},Le=Ue=>{window.confirm(`Are you sure you want to remove this allocation from "${Ue.show_name}"? This action cannot be undone.`)&&bt.mutate(Ue.id)},Nt=()=>{g(!0)},et=Ue=>{window.confirm(`Return ${Ue.quantity_allocated} items from "${Ue.show_name}" back to storage?`)&&bt.mutate(Ue.id)},wt=Ue=>{H(Ue),q(!0)},Vt=Ue=>{let $t=null;switch(Ue){case"locations":const nn=[];be&&be.length>0&&be.forEach(Nn=>{nn.push({...Nn,allocation_type:"location",display_type:"Location Allocation"})}),U&&U.length>0&&U.forEach(Nn=>{nn.push({location_name:Nn.show_name,venue:Nn.venue,show_date:Nn.show_date,quantity_allocated:Nn.quantity_allocated||Nn.quantity_needed||0,status:Nn.status,allocation_type:"show",display_type:"Show Allocation"})}),$t={title:"All Location Allocations",items:nn,totalCount:((_e==null?void 0:_e.total_allocated)||0)+((_e==null?void 0:_e.show_allocated)||0),icon:"location",color:"blue"};break;case"shows":$t={title:"Show Allocations",items:U||[],totalCount:(_e==null?void 0:_e.show_allocated)||0,icon:"show",color:"orange"};break;case"installed":let Dn="Installation Location";if(ee!=null&&ee.installation_location_id){const Nn=Fe.find(yi=>yi.id===ee.installation_location_id);Nn&&(Dn=Nn.name)}else ee!=null&&ee.installation_location&&(Dn=ee.installation_location);$t={title:"Installation Allocations",items:ee!=null&&ee.installation_type&&(ee==null?void 0:ee.installation_type)!=="portable"?[{location_name:Dn,quantity_allocated:(_e==null?void 0:_e.installation_allocated)||0,status:"installed",type:ee.installation_type||"Fixed Installation",installation_notes:ee.installation_notes,installation_date:ee.installation_date}]:[],totalCount:(_e==null?void 0:_e.installation_allocated)||0,icon:"installation",color:"purple"};break;default:return}Y(Ue),R($t),D(!0)};if(Ae)return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(ge)return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:(Be==null?void 0:Be.message)||"Failed to load equipment details"})}),s.jsx("div",{className:"mt-4",children:s.jsx(kt,{variant:"outline",size:"sm",onClick:rt,children:"Back to Equipment List"})})]})]})})]});const rn=Ue=>{switch(Ue){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";case"unavailable":return"secondary";case"broken":return"danger";default:return"secondary"}},dn=ee.reference_image_id?parseInt(ee.reference_image_id):null,Qt=(Tn=ee.files)==null?void 0:Tn.find(Ue=>Ue.id===dn);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"}),s.jsxs("p",{className:"text-slate-500 text-sm",children:[ee.brand," ",ee.model,"  ",ee.serial_number]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs(kt,{variant:"outline",onClick:rt,className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to List"]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&s.jsxs(s.Fragment,{children:[s.jsxs(kt,{variant:"outline",onClick:()=>g(!0),className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Allocate to Show"]}),s.jsxs(kt,{variant:"primary",onClick:yt,className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]})]}),(r==null?void 0:r.role)==="admin"&&s.jsxs(kt,{variant:"danger",onClick:fe,className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex -mb-px",children:[s.jsxs("button",{type:"button",onClick:()=>J("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${W==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${W==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),s.jsxs("button",{type:"button",onClick:()=>J("inventory"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${W==="inventory"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${W==="inventory"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Location & Storage"]}),s.jsxs("button",{type:"button",onClick:()=>J("allocations"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${W==="allocations"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${W==="allocations"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Show Allocations"]}),s.jsxs("button",{type:"button",onClick:()=>J("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${W==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${W==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]}),s.jsxs("button",{type:"button",onClick:()=>J("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${W==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${W==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]})]})}),s.jsxs("div",{className:"p-6",children:[W==="details"&&s.jsx("div",{children:s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsx("div",{children:s.jsxs(Ht,{className:"h-full",children:[s.jsx(Ht.Header,{className:"bg-slate-50",children:s.jsxs(Ht.Title,{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),s.jsxs(Ht.Body,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-slate-500",children:"Category"}),s.jsx("p",{className:"mt-1 text-sm font-medium text-slate-900",children:ee.category||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-slate-500",children:"Type"}),s.jsx("p",{className:"mt-1 text-sm font-medium text-slate-900",children:ee.type})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-slate-500",children:"Brand"}),s.jsx("p",{className:"mt-1 text-sm font-medium text-slate-900",children:ee.brand})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-slate-500",children:"Model"}),s.jsx("p",{className:"mt-1 text-sm font-medium text-slate-900",children:ee.model})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-slate-500",children:"Serial Number"}),s.jsx("p",{className:"mt-1 text-sm font-medium text-slate-900",children:ee.serial_number})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-medium text-slate-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:ee.status&&s.jsx(Yo,{variant:rn(ee.status),size:"sm",children:ee.status.charAt(0).toUpperCase()+ee.status.slice(1).replace("-"," ")})})]})]}),ee.description&&s.jsxs("div",{className:"mt-6 border-t border-slate-200 pt-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),s.jsx("h3",{className:"text-xs font-medium text-slate-700",children:"Description"})]}),s.jsx("div",{className:"bg-slate-50 p-3 rounded-lg",children:s.jsx("p",{className:"text-sm text-slate-800 whitespace-pre-line",children:ee.description})})]})]})]})}),_e&&s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3l6-3"})}),s.jsx("span",{className:"text-lg font-medium text-slate-700",children:"Current Distribution"})]}),s.jsxs("div",{className:"text-sm text-slate-600",children:[_e.total_quantity," total items"]})]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Where your equipment is currently located"})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-5 gap-3 text-center bg-slate-50 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-slate-800",children:_e.total_quantity}),s.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide",children:"Total"})]}),s.jsxs("button",{onClick:()=>Vt("locations"),className:"group hover:bg-blue-50 rounded-lg p-2 transition-colors cursor-pointer",disabled:(_e.total_allocated||0)+(_e.show_allocated||0)===0,children:[s.jsx("div",{className:"text-xl font-bold text-blue-600 group-hover:text-blue-700",children:(_e.total_allocated||0)+(_e.show_allocated||0)}),s.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide group-hover:text-blue-600",children:"Locations"})]}),s.jsxs("button",{onClick:()=>Vt("shows"),className:"group hover:bg-orange-50 rounded-lg p-2 transition-colors cursor-pointer",disabled:(_e.show_allocated||0)===0,children:[s.jsx("div",{className:"text-xl font-bold text-orange-600 group-hover:text-orange-700",children:_e.show_allocated||0}),s.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide group-hover:text-orange-600",children:"In Shows"})]}),s.jsxs("button",{onClick:()=>Vt("installed"),className:"group hover:bg-purple-50 rounded-lg p-2 transition-colors cursor-pointer",disabled:(_e.installation_allocated||0)===0,children:[s.jsx("div",{className:"text-xl font-bold text-purple-600 group-hover:text-purple-700",children:_e.installation_allocated||0}),s.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide group-hover:text-purple-600",children:"Installed"})]}),s.jsxs("div",{children:[s.jsx("div",{className:`text-xl font-bold ${_e.available_quantity>0?"text-green-600":"text-red-600"}`,children:_e.available_quantity}),s.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide",children:"Available"})]})]}),_e.total_allocated>0||_e.show_allocated>0||_e.installation_allocated>0?s.jsx("div",{className:"space-y-3",children:be&&be.length>0||_e&&(_e.show_allocated>0||_e.installation_allocated>0)?s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[s.jsx("h4",{className:"text-xs font-medium text-slate-700 mb-2 uppercase tracking-wide",children:"Detailed Breakdown"}),s.jsxs("div",{className:"space-y-2",children:[_e&&_e.show_allocated>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),s.jsx("span",{className:"text-slate-700",children:"In Shows"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-slate-800",children:_e.show_allocated}),s.jsx("span",{className:"text-xs text-orange-600",children:"(shows)"})]})]}),_e&&_e.installation_allocated>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),s.jsx("span",{className:"text-slate-700",children:"Installed"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-slate-800",children:_e.installation_allocated}),s.jsx("span",{className:"text-xs text-purple-600",children:"(fixed)"})]})]}),be&&be.map((Ue,$t)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),s.jsx("span",{className:"text-slate-700",children:Ue.location_name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-slate-800",children:Ue.quantity_allocated}),s.jsx("span",{className:"text-xs text-slate-500",children:Ue.status&&Ue.status!=="allocated"&&`(${Ue.status})`})]})]},$t)),_e&&_e.available_quantity>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm border-t border-slate-100 pt-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mr-2"}),s.jsx("span",{className:"text-slate-700",children:"Default Storage"})]}),s.jsx("span",{className:"font-medium text-slate-800",children:_e.available_quantity})]})]})]}):null}):s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:"All Items in Default Storage"})]}),s.jsxs("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:[_e.total_quantity," items"]})]}),s.jsxs("p",{className:"text-sm text-gray-700",children:["All ",_e.total_quantity," items are currently in the default storage location."]})]})]})})]})]})}),W==="inventory"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"bg-orange-100 p-2 rounded-lg mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Location & Storage Management"})]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm mb-6",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"text-lg font-medium text-slate-700",children:"Location Management"})]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Manage equipment location and allocations"})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(kt,{variant:"primary",className:"flex items-center justify-center py-3",onClick:()=>j(!0),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Manage Locations & Installation"}),s.jsx("div",{className:"text-xs opacity-90",children:"Allocate items to locations & manage installations"})]})]}),s.jsxs(kt,{variant:"outline",className:"flex items-center justify-center py-3",onClick:Nt,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-10 0a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Allocate to Show"}),s.jsx("div",{className:"text-xs opacity-75",children:"Reserve items for shows"})]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("div",{className:"font-medium mb-1",children:"Complete Allocation & Return System"}),s.jsxs("div",{className:"text-blue-700",children:[" ",s.jsx("strong",{children:"Location Allocation:"})," Distribute quantities across locations + return to storage",s.jsx("br",{})," ",s.jsx("strong",{children:"Installation Management:"})," Set installations + return from installation",s.jsx("br",{})," ",s.jsx("strong",{children:"Show Allocation:"})," Assign to shows + return from shows",s.jsx("br",{})," ",s.jsx("strong",{children:"Quantity Control:"})," Specify exact quantities for all operations"]})]})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm mb-6",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3l6-3"})}),s.jsx("span",{className:"text-lg font-medium text-slate-700",children:"Location Allocations"})]}),s.jsxs("div",{className:"text-sm text-slate-600",children:[(ee==null?void 0:ee.quantity)||1," total items"]})]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Current distribution across locations"})]}),s.jsx("div",{className:"p-4",children:_e?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-5 gap-3 text-center bg-slate-50 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-slate-800",children:_e.total_quantity}),s.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide",children:"Total"})]}),s.jsxs("button",{onClick:()=>Vt("locations"),className:"group hover:bg-blue-50 rounded-lg p-2 transition-colors cursor-pointer",disabled:(_e.total_allocated||0)+(_e.show_allocated||0)===0,children:[s.jsx("div",{className:"text-xl font-bold text-blue-600 group-hover:text-blue-700",children:(_e.total_allocated||0)+(_e.show_allocated||0)}),s.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide group-hover:text-blue-600",children:"Locations"})]}),s.jsxs("button",{onClick:()=>Vt("shows"),className:"group hover:bg-orange-50 rounded-lg p-2 transition-colors cursor-pointer",disabled:(_e.show_allocated||0)===0,children:[s.jsx("div",{className:"text-xl font-bold text-orange-600 group-hover:text-orange-700",children:_e.show_allocated||0}),s.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide group-hover:text-orange-600",children:"In Shows"})]}),s.jsxs("button",{onClick:()=>Vt("installed"),className:"group hover:bg-purple-50 rounded-lg p-2 transition-colors cursor-pointer",disabled:(_e.installation_allocated||0)===0,children:[s.jsx("div",{className:"text-xl font-bold text-purple-600 group-hover:text-purple-700",children:_e.installation_allocated||0}),s.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide group-hover:text-purple-600",children:"Installed"})]}),s.jsxs("div",{children:[s.jsx("div",{className:`text-xl font-bold ${_e.available_quantity>0?"text-green-600":"text-red-600"}`,children:_e.available_quantity}),s.jsx("div",{className:"text-xs text-slate-600 uppercase tracking-wide",children:"Available"})]})]}),_e.total_allocated>0||_e.show_allocated>0||_e.installation_allocated>0?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3l6-3"})}),s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Equipment Allocated"})]}),s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:[(_e.total_allocated||0)+(_e.show_allocated||0)+(_e.installation_allocated||0)," allocated"]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-blue-700 mb-1",children:[s.jsx("span",{children:"Distribution"}),s.jsxs("span",{children:[(_e.total_allocated||0)+(_e.show_allocated||0)+(_e.installation_allocated||0)," / ",_e.total_quantity]})]}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 bg-blue-500 rounded-full transition-all duration-300",style:{width:`${((_e.total_allocated||0)+(_e.show_allocated||0)+(_e.installation_allocated||0))/_e.total_quantity*100}%`}})})]}),s.jsx("p",{className:"text-sm text-blue-700",children:"Items are distributed across locations and shows. Use the respective management sections to modify allocations."})]}),be&&be.length>0||_e&&_e.show_allocated>0?s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[s.jsx("h4",{className:"text-xs font-medium text-slate-700 mb-2 uppercase tracking-wide",children:"Current Distribution"}),s.jsxs("div",{className:"space-y-2",children:[_e&&_e.show_allocated>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),s.jsx("span",{className:"text-slate-700",children:"In Shows"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-slate-800",children:_e.show_allocated}),s.jsx("span",{className:"text-xs text-orange-600",children:"(shows)"})]})]}),_e&&_e.installation_allocated>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),s.jsx("span",{className:"text-slate-700",children:"Installed"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-slate-800",children:_e.installation_allocated}),s.jsx("span",{className:"text-xs text-purple-600",children:"(fixed)"})]})]}),be&&be.map((Ue,$t)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),s.jsx("span",{className:"text-slate-700",children:Ue.location_name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-slate-800",children:Ue.quantity_allocated}),s.jsx("span",{className:"text-xs text-slate-500",children:Ue.status&&Ue.status!=="allocated"&&`(${Ue.status})`})]})]},$t)),_e&&_e.available_quantity>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm border-t border-slate-100 pt-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mr-2"}),s.jsx("span",{className:"text-slate-700",children:"Default Storage"})]}),s.jsx("span",{className:"font-medium text-slate-800",children:_e.available_quantity})]})]})]}):null]}):_e&&_e.total_allocated===0&&_e.show_allocated===0&&_e.installation_allocated===0?s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:"All Items in Default Storage"})]}),s.jsxs("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:[_e.total_quantity," items"]})]}),s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 bg-gray-400 rounded-full w-full"})})}),s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:_e.show_allocated>0?s.jsxs(s.Fragment,{children:[_e.available_quantity," of ",_e.total_quantity," items are in default storage.",s.jsxs("span",{className:"text-orange-600 ml-1",children:["(",_e.show_allocated," allocated to shows)"]})]}):`All ${_e.total_quantity} items are currently in the default location.`}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{className:"text-xs text-blue-800",children:[s.jsx("div",{className:"font-medium mb-1",children:"Ready for Allocation"}),s.jsx("div",{children:'Use "Manage Locations & Installation" to distribute items across different locations and manage installations.'})]})]})})]}):s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Items Allocated"})]}),s.jsxs("span",{className:"text-xs bg-blue-200 text-blue-700 px-2 py-1 rounded-full",children:[((_e==null?void 0:_e.show_allocated)||0)+((_e==null?void 0:_e.total_allocated)||0)+((_e==null?void 0:_e.installation_allocated)||0)," allocated"]})]}),s.jsx("p",{className:"text-sm text-blue-700",children:"Equipment is allocated to shows, locations, or installations. Use the respective management sections to modify allocations."})]})]}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Loading allocation data..."})]})})]})]}),W==="allocations"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsx("h3",{className:"text-lg font-medium text-slate-800",children:"Show Allocations"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Equipment allocated to shows and events"})]}),s.jsx("div",{className:"p-6",children:U&&U.length>0?s.jsx("div",{className:"space-y-4",children:U.map(Ue=>{var $t,nn;return s.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-slate-800",children:Ue.show_name}),s.jsx("div",{className:"text-sm text-slate-600 mt-1",children:Ue.venue||"No venue specified"}),s.jsx("div",{className:"text-xs text-slate-500 mt-1",children:Ue.show_date?new Date(Ue.show_date).toLocaleDateString():"No date specified"}),s.jsx("div",{className:"mt-2",children:s.jsxs("button",{onClick:()=>wt(Ue),className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium transition-colors hover:opacity-80 cursor-pointer ${Ue.status==="allocated"?"bg-blue-100 text-blue-800 hover:bg-blue-200":Ue.status==="checked-out"?"bg-orange-100 text-orange-800 hover:bg-orange-200":Ue.status==="in-use"?"bg-green-100 text-green-800 hover:bg-green-200":Ue.status==="returned"?"bg-gray-100 text-gray-800 hover:bg-gray-200":Ue.status==="requested"?"bg-purple-100 text-purple-800 hover:bg-purple-200":"bg-slate-100 text-slate-800 hover:bg-slate-200"}`,title:"Click to update status",children:[(($t=Ue.status)==null?void 0:$t.charAt(0).toUpperCase())+((nn=Ue.status)==null?void 0:nn.slice(1).replace("-"," "))||"Unknown",s.jsx("svg",{className:"w-3 h-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})]})})]}),s.jsxs("div",{className:"text-right ml-4",children:[s.jsx("div",{className:"text-lg font-bold text-orange-700",children:Ue.quantity_allocated||Ue.quantity_needed||0}),s.jsx("div",{className:"text-xs text-slate-600",children:"items allocated"}),Ue.quantity_needed&&Ue.quantity_needed!==Ue.quantity_allocated&&s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["(",Ue.quantity_needed," needed)"]})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-2",children:[s.jsxs(kt,{size:"sm",variant:"outline",onClick:()=>et(Ue),className:"text-orange-600 hover:text-orange-700",title:`Return ${Ue.quantity_allocated||Ue.quantity_needed||0} items from this show to storage`,children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Return (",Ue.quantity_allocated||Ue.quantity_needed||0,")"]}),s.jsxs(kt,{size:"sm",variant:"outline",onClick:()=>Ee(Ue),className:"text-blue-600 hover:text-blue-700",children:[s.jsx(sc,{className:"w-3 h-3 mr-1"}),"Edit"]}),s.jsxs(kt,{size:"sm",variant:"outline",onClick:()=>Le(Ue),className:"text-red-600 hover:text-red-700",children:[s.jsx(Uh,{className:"w-3 h-3 mr-1"}),"Remove"]})]})]},Ue.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-slate-500 mb-2",children:"No show allocations"}),s.jsx("div",{className:"text-sm text-slate-400",children:"This equipment is not currently allocated to any shows"})]})})]})}),W==="history"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[s.jsxs("div",{className:"mb-4 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),s.jsx(hk,{equipmentId:e})]})]}),W==="documents"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&s.jsxs(kt,{variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>f(!0),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),ee.files&&ee.files.filter(Ue=>!Qt||Ue.id!==Qt.id).length>0?s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[ee.files.filter(Ue=>!Qt||Ue.id!==Qt.id).length,ee.files.filter(Ue=>!Qt||Ue.id!==Qt.id).length===1?" file":" files"," attached"]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${ue==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>se("grid"),children:s.jsx(o1,{className:"h-4 w-4"})}),s.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${ue==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>se("list"),children:s.jsx(s1,{className:"h-4 w-4"})})]})]}),s.jsx(g3,{files:ee.files.filter(Ue=>!Qt||Ue.id!==Qt.id),layout:ue,size:"medium",showDownload:!0,canDelete:!1})]}):s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&s.jsx("div",{className:"mt-4",children:s.jsxs(kt,{variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>f(!0),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]})]})]})}),s.jsx("div",{className:"md:col-span-1",children:s.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),s.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:Qt?s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"relative pb-4",children:[s.jsx("img",{src:J8(Qt.id,!0),alt:`${ee.brand} ${ee.model}`,className:"w-full h-auto object-contain rounded-md",onError:Ue=>{console.error("Error loading thumbnail, falling back to original image"),Ue.target.src=J8(Qt.id),Ue.target.onerror=null}}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&s.jsx("button",{onClick:()=>c(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),s.jsx("div",{className:"text-sm text-gray-500 text-center",children:Qt.file_name})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&s.jsxs("button",{onClick:()=>c(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsx("div",{className:"md:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info"]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),s.jsx("p",{className:"text-sm font-medium text-slate-800",children:ee.category||"Not specified"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),s.jsx("p",{className:"text-sm font-medium text-slate-800",children:ee.type})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),s.jsx("div",{children:ee.status&&s.jsx(Yo,{variant:rn(ee.status),size:"md",children:ee.status.charAt(0).toUpperCase()+ee.status.slice(1).replace("-"," ")})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Quantity"})]}),s.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[ee.quantity||1," item",(ee.quantity||1)!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),s.jsx("p",{className:"text-sm font-medium text-slate-800",children:ee.location||"Not specified"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),s.jsx("p",{className:"text-sm font-medium text-slate-800",children:ee.serial_number})]})]})]})}),s.jsx("div",{className:"md:col-span-1",children:s.jsxs(Ht,{className:"h-full",children:[s.jsx(Ht.Header,{className:"bg-slate-50",children:s.jsxs(Ht.Title,{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),s.jsx(Ht.Body,{children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:ee.created_by||"Unknown"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:ee.created_at?new Date(ee.created_at).toLocaleString():"Unknown"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:ee.updated_at?new Date(ee.updated_at).toLocaleString():"Never"})]})]}),ee.locationDetails&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[s.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-3 flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Location Details"]}),s.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-sm",children:[s.jsx("p",{className:"font-medium text-slate-800",children:ee.locationDetails.name}),ee.locationDetails.street&&s.jsx("p",{className:"text-slate-600 mt-1",children:ee.locationDetails.street}),(ee.locationDetails.postal_code||ee.locationDetails.city)&&s.jsxs("p",{className:"text-slate-600",children:[ee.locationDetails.postal_code&&`${ee.locationDetails.postal_code} `,ee.locationDetails.city]}),(ee.locationDetails.region||ee.locationDetails.country)&&s.jsxs("p",{className:"text-slate-600",children:[ee.locationDetails.region&&`${ee.locationDetails.region}, `,ee.locationDetails.country]})]})]})]})})]})})]}),i&&s.jsx(pk,{isOpen:i,title:"Delete Equipment",message:"Are you sure you want to delete this equipment? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:He,onCancel:mt,isDestructive:!0}),s.jsx(x3,{isOpen:o,onClose:()=>c(!1),equipmentId:e,existingImage:Qt}),s.jsx(v3,{equipmentId:parseInt(e),isOpen:u,onClose:()=>f(!1),onSuccess:it}),s.jsx(mk,{isOpen:p,onClose:()=>g(!1),equipment:ee,availabilityData:_e}),E&&s.jsx(w3,{showEquipment:E,showId:E.show_id,onClose:qe}),s.jsx(bK,{isOpen:A,onClose:()=>j(!1),equipment:ee,locations:Fe}),k&&z&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:`p-2 rounded-lg mr-3 ${z.color==="blue"?"bg-blue-100":z.color==="orange"?"bg-orange-100":z.color==="purple"?"bg-purple-100":"bg-slate-100"}`,children:[z.icon==="location"&&s.jsxs("svg",{className:`w-5 h-5 ${z.color==="blue"?"text-blue-600":z.color==="orange"?"text-orange-600":z.color==="purple"?"text-purple-600":"text-slate-600"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),z.icon==="show"&&s.jsx("svg",{className:`w-5 h-5 ${z.color==="blue"?"text-blue-600":z.color==="orange"?"text-orange-600":z.color==="purple"?"text-purple-600":"text-slate-600"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-10 0a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2"})}),z.icon==="installation"&&s.jsxs("svg",{className:`w-5 h-5 ${z.color==="blue"?"text-blue-600":z.color==="orange"?"text-orange-600":z.color==="purple"?"text-purple-600":"text-slate-600"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:z.title}),s.jsxs("p",{className:"text-sm text-slate-600",children:[z.totalCount," ",z.totalCount===1?"item":"items"," allocated"]})]})]}),s.jsx("button",{onClick:()=>D(!1),className:"text-slate-400 hover:text-slate-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:z.items&&z.items.length>0?s.jsx("div",{className:"space-y-3",children:z.items.map((Ue,$t)=>{var nn,Dn,Nn,yi;return s.jsx("div",{className:`p-4 rounded-lg border ${z.color==="blue"?"bg-blue-50 border-blue-200":z.color==="orange"?"bg-orange-50 border-orange-200":z.color==="purple"?"bg-purple-50 border-purple-200":"bg-slate-50 border-slate-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-slate-800",children:Ue.location_name||Ue.show_name||"Unknown Location"}),Ue.display_type&&s.jsx("div",{className:"text-xs text-slate-500 mt-1 font-medium",children:Ue.display_type}),Ue.venue&&s.jsx("div",{className:"text-sm text-slate-600 mt-1",children:Ue.venue}),Ue.show_date&&s.jsx("div",{className:"text-xs text-slate-500 mt-1",children:new Date(Ue.show_date).toLocaleDateString()}),Ue.type&&s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Installation Type: ",Ue.type]}),Ue.installation_date&&s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Installed: ",new Date(Ue.installation_date).toLocaleDateString()]}),Ue.installation_notes&&s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Notes: ",Ue.installation_notes]}),Ue.status&&s.jsx("div",{className:"mt-2",children:Ue.allocation_type==="show"?s.jsxs("button",{onClick:()=>{const jr=U==null?void 0:U.find(Bn=>Bn.show_name===Ue.location_name);jr&&wt(jr)},className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium transition-all duration-200 hover:opacity-80 hover:scale-105 cursor-pointer shadow-sm hover:shadow-md ${Ue.status==="allocated"?"bg-blue-100 text-blue-800 hover:bg-blue-200":Ue.status==="checked-out"?"bg-orange-100 text-orange-800 hover:bg-orange-200":Ue.status==="in-use"?"bg-green-100 text-green-800 hover:bg-green-200":Ue.status==="requested"?"bg-purple-100 text-purple-800 hover:bg-purple-200":Ue.status==="installed"?"bg-purple-100 text-purple-800":"bg-slate-100 text-slate-800 hover:bg-slate-200"}`,title:"Click to update show allocation status",children:[((nn=Ue.status)==null?void 0:nn.charAt(0).toUpperCase())+((Dn=Ue.status)==null?void 0:Dn.slice(1).replace("-"," ")),s.jsx("svg",{className:"w-3 h-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})]}):s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Ue.status==="allocated"?"bg-blue-100 text-blue-800":Ue.status==="checked-out"?"bg-orange-100 text-orange-800":Ue.status==="in-use"?"bg-green-100 text-green-800":Ue.status==="installed"?"bg-purple-100 text-purple-800":"bg-slate-100 text-slate-800"}`,children:((Nn=Ue.status)==null?void 0:Nn.charAt(0).toUpperCase())+((yi=Ue.status)==null?void 0:yi.slice(1).replace("-"," "))})})]}),s.jsxs("div",{className:"text-right ml-4",children:[s.jsx("div",{className:`text-lg font-bold ${z.color==="blue"?"text-blue-700":z.color==="orange"?"text-orange-700":z.color==="purple"?"text-purple-700":"text-slate-700"}`,children:Ue.quantity_allocated||Ue.quantity_needed||0}),s.jsx("div",{className:"text-xs text-slate-600",children:"items"}),Ue.quantity_needed&&Ue.quantity_needed!==Ue.quantity_allocated&&s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["(",Ue.quantity_needed," needed)"]})]})]})},$t)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-slate-500 mb-2",children:"No allocations found"}),s.jsxs("div",{className:"text-sm text-slate-400",children:["This equipment is not currently allocated to any ",P]})]})}),s.jsx("div",{className:"p-6 border-t border-slate-200 bg-slate-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:[s.jsxs("div",{children:["Total: ",z.totalCount," ",z.totalCount===1?"item":"items"]}),((Kt=z.items)==null?void 0:Kt.some(Ue=>Ue.allocation_type==="show"))&&s.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex items-center",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Click show status badges to update"]})]}),s.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Close"})]})})]})}),B&&te&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Update Status"}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[te.show_name," - ",te.quantity_allocated||te.quantity_needed||0," items"]})]}),s.jsx("button",{onClick:()=>q(!1),className:"text-slate-400 hover:text-slate-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-sm text-slate-600 mb-4",children:["Current status: ",s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${te.status==="allocated"?"bg-blue-100 text-blue-800":te.status==="checked-out"?"bg-orange-100 text-orange-800":te.status==="in-use"?"bg-green-100 text-green-800":te.status==="requested"?"bg-purple-100 text-purple-800":"bg-slate-100 text-slate-800"}`,children:((Dr=te.status)==null?void 0:Dr.charAt(0).toUpperCase())+((hn=te.status)==null?void 0:hn.slice(1).replace("-"," "))})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["requested","allocated","checked-out","in-use","returned"].map(Ue=>s.jsx("button",{onClick:()=>{Ye.mutate({allocationId:te.id,status:Ue})},disabled:te.status===Ue||Ye.isLoading,className:`p-3 rounded-lg border text-sm font-medium transition-colors ${te.status===Ue||Ye.isLoading?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed":Ue==="requested"?"border-purple-200 text-purple-700 hover:bg-purple-50":Ue==="allocated"?"border-blue-200 text-blue-700 hover:bg-blue-50":Ue==="checked-out"?"border-orange-200 text-orange-700 hover:bg-orange-50":Ue==="in-use"?"border-green-200 text-green-700 hover:bg-green-50":Ue==="returned"?"border-gray-200 text-gray-700 hover:bg-gray-50":"border-slate-200 text-slate-700 hover:bg-slate-50"}`,children:Ye.isLoading?"Updating...":Ue.charAt(0).toUpperCase()+Ue.slice(1).replace("-"," ")},Ue))})]})}),s.jsx("div",{className:"p-6 border-t border-slate-200 bg-slate-50",children:s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"})})})]})})]})},eS=(e,t=!1)=>`/api/files/${e}${t?"?thumbnail=true":""}`,_K=()=>{var He,mt,rt;const{id:e}=Gg(),t=Do(),n=ai();ss();const[r,i]=K.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:"",quantity:1,installation_type:"portable",installation_location:"",installation_quantity:0,installation_date:"",installation_notes:"",maintenance_schedule:"",last_maintenance_date:"",next_maintenance_date:""}),[a,o]=K.useState([]),[c,u]=K.useState([]);K.useState(0);const[f,p]=K.useState(""),[g,w]=K.useState(!1),[y,E]=K.useState(!1),[S,A]=K.useState(!1),[j,k]=K.useState(!1),[D,P]=K.useState(null),[Y,z]=K.useState("details"),[R,B]=K.useState("grid"),{data:q}=Ln({queryKey:["equipment-types"],queryFn:Qu,staleTime:3e5}),{data:te}=Ln({queryKey:["categories"],queryFn:l1,staleTime:3e5}),{data:H,isLoading:W,error:J}=Ln({queryKey:["locations"],queryFn:async()=>{try{const Ee=await Xt.get("/api/locations");return Ee.data.locations||Ee.data}catch(Ee){return console.error("Error fetching locations:",Ee),[]}},staleTime:3e5}),ue=["available","in-use","maintenance","unavailable","broken"],{data:se}=Ln({queryKey:["show-equipment",e],queryFn:async()=>{var Ee;try{return(await Xt.get(`/api/show-equipment/equipment/${e}/shows`)).data}catch(qe){if(((Ee=qe.response)==null?void 0:Ee.status)===404)return[];throw qe}},enabled:!!e,retry:!1}),{data:ee}=Ln({queryKey:["equipment-availability",e],queryFn:async()=>{var Ee;try{return(await Xt.get(`/api/show-equipment/equipment/${e}/availability`)).data}catch(qe){if(((Ee=qe.response)==null?void 0:Ee.status)===404)return{available:0,allocated:0,total:0};throw qe}},enabled:!!e,retry:!1}),{data:Ae,isLoading:ge,isError:Be,error:_e}=Ln({queryKey:["equipment",e],queryFn:()=>lv(e),onSuccess:Ee=>{i({type_id:Ee.type_id?Ee.type_id.toString():"",category_id:Ee.category_id?Ee.category_id.toString():"",category:Ee.category||"",brand:Ee.brand||"",model:Ee.model||"",serial_number:Ee.serial_number||"",status:Ee.status||"available",location:Ee.location||"",location_id:Ee.location_id?Ee.location_id.toString():"",description:Ee.description||"",reference_image_id:Ee.reference_image_id?Ee.reference_image_id.toString():"",quantity:Ee.quantity||1,installation_type:Ee.installation_type||"portable",installation_location:Ee.installation_location||"",installation_quantity:Ee.installation_quantity||0,installation_date:Ee.installation_date||"",installation_notes:Ee.installation_notes||"",maintenance_schedule:Ee.maintenance_schedule||"",last_maintenance_date:Ee.last_maintenance_date||"",next_maintenance_date:Ee.next_maintenance_date||""}),Ee.locationDetails&&console.log("Location details:",Ee.locationDetails)}}),ct=Array.isArray(H)?H:[],U=ct.find(Ee=>Ee.id===(Ae==null?void 0:Ae.location_id)||Ee.name===(Ae==null?void 0:Ae.location)),Z=cr({mutationFn:async Ee=>{const qe=Object.fromEntries(Object.entries(Ee.equipment).filter(([Le,Nt])=>Nt!=null));return U7(e,qe,Ee.filesToUpload,Ee.filesToDelete)},onSuccess:()=>{n.invalidateQueries(["equipment"]),t(`/equipment/${e}`)},onError:Ee=>{var qe,Le;console.error("Error updating equipment:",Ee),p(((Le=(qe=Ee.response)==null?void 0:qe.data)==null?void 0:Le.message)||"Failed to update equipment")}}),Q=Ee=>{const{name:qe,value:Le}=Ee.target;let Nt={...r,[qe]:Le};if(qe==="category_id"&&Le&&(te!=null&&te.categories)){const et=te.categories.find(wt=>wt.id.toString()===Le);et&&(console.log("Selected category:",et),Nt={...Nt,category_id:Le,category:et.name})}if(qe==="location_id"&&Le){const et=ct.find(wt=>wt.id.toString()===Le);et&&(console.log("Selected location:",et),Nt={...Nt,location_id:Le,location:et.name},et.name.toLowerCase()==="lager"&&(["maintenance","broken","unavailable"].includes(Nt.status)||(Nt.status="available",console.log('Setting status to "available" because location is Lager (storage)'))))}else qe==="location"&&Le&&(Nt={...Nt,location:Le,location_id:""},Le.toLowerCase()==="lager"&&(["maintenance","broken","unavailable"].includes(Nt.status)||(Nt.status="available",console.log('Setting status to "available" because custom location is Lager (storage)'))));if(qe==="installation_location_id"&&Le){const et=ct.find(wt=>wt.id.toString()===Le);et&&(console.log("Selected installation location:",et),Nt={...Nt,installation_location_id:Le,installation_location:et.name})}else qe==="installation_location"&&Le&&(Nt={...Nt,installation_location:Le,installation_location_id:""});if(qe==="quantity"){const et=parseInt(Le)||1;Nt.quantity=Math.max(1,et),console.log(`Setting quantity to: ${Nt.quantity}`)}else qe==="status"&&console.log(`User manually changed status to: ${Le} - respecting user choice`);i(Nt)},ne=Ee=>{r.reference_image_id===Ee.toString()&&i({...r,reference_image_id:""}),u(qe=>[...qe,Ee])},ce=Ee=>{if(Ee.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){p("Type, brand, model, and serial number are required");return}const qe=a.find((wt,Vt)=>r.reference_image_id==="new"),Le=qe?a.filter(wt=>wt!==qe):a,Nt=r.reference_image_id==="",et={...r,quantity:parseInt(r.quantity)||1,type_id:r.type_id?parseInt(r.type_id):null,category_id:r.category_id?parseInt(r.category_id):null,location_id:r.location_id?parseInt(r.location_id):null,installation_location_id:r.installation_location_id?parseInt(r.installation_location_id):null,reference_image_id:r.reference_image_id==="new"?"new":r.reference_image_id};Z.mutate({equipment:et,filesToUpload:Le,filesToDelete:c,referenceImageFile:qe||null,removeReferenceImage:Nt})},be=()=>{t(`/equipment/${e}`)},Fe=Ee=>{switch(Ee){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";case"unavailable":return"secondary";case"broken":return"danger";default:return"secondary"}},ze=Ee=>{n.invalidateQueries(["equipment",e]),gn.success(`Successfully uploaded ${Ee.length} file(s)`)},Ze=()=>{A(!0)},pt=Ee=>{P(Ee),k(!0)},bt=async Ee=>{var qe;if(window.confirm("Are you sure you want to remove this allocation?"))try{await Xt.delete(`/api/show-equipment/${Ee.id}`),n.invalidateQueries(["show-equipment",e]),n.invalidateQueries(["equipment-availability",e])}catch(Le){console.error("Error removing allocation:",Le),((qe=Le.response)==null?void 0:qe.status)===404?p("Allocation not found or already removed"):p("Failed to remove allocation")}},Ye=()=>{P(null),k(!1),n.invalidateQueries(["show-equipment",e]),n.invalidateQueries(["equipment-availability",e])},yt=(Ee,qe)=>{const Le=parseInt(Ee)||0,Nt=parseInt(qe)||0;return Math.max(0,Le-Nt)};if(ge)return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(Be)return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:(_e==null?void 0:_e.message)||"Failed to load equipment details"})}),s.jsx("div",{className:"mt-4",children:s.jsx(kt,{variant:"outline",size:"sm",onClick:be,children:"Back to Details"})})]})]})})]});const it=Ae!=null&&Ae.reference_image_id?parseInt(Ae.reference_image_id):null,fe=(He=Ae==null?void 0:Ae.files)==null?void 0:He.find(Ee=>Ee.id===it);return s.jsxs("form",{onSubmit:ce,className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"}),s.jsxs("p",{className:"text-slate-500 text-sm",children:[r.brand," ",r.model,"  ",r.serial_number]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs(kt,{type:"button",variant:"outline",onClick:be,className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Details"]}),s.jsxs(kt,{type:"submit",variant:"primary",disabled:Z.isLoading,className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),Z.isLoading?"Saving...":"Save Changes"]})]})]}),f&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:s.jsx("p",{className:"text-red-700",children:f})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex -mb-px",children:[s.jsxs("button",{type:"button",onClick:()=>z("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${Y==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${Y==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),s.jsxs("button",{type:"button",onClick:()=>z("inventory"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${Y==="inventory"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${Y==="inventory"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Inventory & Location"]}),s.jsxs("button",{type:"button",onClick:()=>z("allocations"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${Y==="allocations"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${Y==="allocations"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Show Allocations"]}),s.jsxs("button",{type:"button",onClick:()=>z("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${Y==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${Y==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]}),s.jsxs("button",{type:"button",onClick:()=>z("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${Y==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${Y==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]})]})}),s.jsxs("div",{className:"p-6",children:[Y==="details"&&s.jsx("div",{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:s.jsx("div",{className:"md:col-span-1",children:s.jsxs(Ht,{className:"h-full",children:[s.jsx(Ht.Header,{className:"bg-slate-50",children:s.jsxs(Ht.Title,{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),s.jsxs(Ht.Body,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{children:s.jsx(Ga,{id:"category_id",name:"category_id",label:"Category",value:r.category_id||"",onChange:Q,options:[{value:"",label:"Select Category"},...((te==null?void 0:te.categories)||[]).map(Ee=>({value:Ee.id.toString(),label:Ee.name}))]})}),s.jsx("div",{children:s.jsx(Ga,{id:"type_id",name:"type_id",label:"Type",value:r.type_id||"",onChange:Q,options:[{value:"",label:"Select Type"},...((q==null?void 0:q.types)||[]).map(Ee=>({value:Ee.id.toString(),label:Ee.name}))],required:!0})}),s.jsx("div",{children:s.jsx(kn,{id:"brand",name:"brand",label:"Brand",value:r.brand,onChange:Q,placeholder:"Enter brand",required:!0})}),s.jsx("div",{children:s.jsx(kn,{id:"model",name:"model",label:"Model",value:r.model,onChange:Q,placeholder:"Enter model",required:!0})}),s.jsx("div",{children:s.jsx(kn,{id:"serial_number",name:"serial_number",label:"Serial Number",value:r.serial_number,onChange:Q,placeholder:"Enter serial number",required:!0})}),s.jsxs("div",{children:[s.jsx(Ga,{id:"location_id",name:"location_id",label:"Location",value:r.location_id?r.location_id.toString():"",onChange:Q,options:[{value:"",label:"Select Location"},...(ct||[]).map(Ee=>{let qe=Ee.name;const Le=[];return Ee.city&&Le.push(Ee.city),Ee.region&&Le.push(Ee.region),Ee.country&&Le.push(Ee.country),Le.length>0&&(qe+=` (${Le.join(", ")})`),{value:Ee.id.toString(),label:qe}})]}),s.jsx("div",{className:"mt-2",children:s.jsx(kn,{id:"location",name:"location",label:"Custom Location (if not in list)",value:r.location||"",onChange:Q,placeholder:"Enter custom location"})})]}),s.jsx("div",{children:s.jsx(kn,{id:"quantity",name:"quantity",label:"Quantity",type:"number",min:"1",value:r.quantity||1,onChange:Q,placeholder:"Enter quantity",required:!0,helpText:"Number of items (minimum: 1)"})}),s.jsx("div",{children:s.jsx(Ga,{id:"status",name:"status",label:"Status",value:r.status,onChange:Q,options:ue.map(Ee=>({value:Ee,label:Ee.charAt(0).toUpperCase()+Ee.slice(1).replace("-"," ")})),required:!0})})]}),s.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),s.jsx("label",{htmlFor:"description",className:"text-sm font-medium text-slate-700",children:"Description"})]}),s.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:Q,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]})]})]})})})}),Y==="documents"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),s.jsxs(kt,{type:"button",variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>E(!0),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),Ae!=null&&Ae.files&&Ae.files.filter(Ee=>!fe||Ee.id!==fe.id).length>0?s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[Ae.files.filter(Ee=>!fe||Ee.id!==fe.id).length,Ae.files.filter(Ee=>!fe||Ee.id!==fe.id).length===1?" file":" files"," attached"]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{type:"button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${R==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>B("grid"),children:s.jsx(o1,{className:"h-4 w-4"})}),s.jsx("button",{type:"button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${R==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>B("list"),children:s.jsx(s1,{className:"h-4 w-4"})})]})]}),s.jsx(g3,{files:Ae.files.filter(Ee=>(!fe||Ee.id!==fe.id)&&!c.includes(Ee.id)),layout:R,size:"medium",showDownload:!0,canDelete:!0,onFileDelete:ne})]}):s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),s.jsx("div",{className:"mt-4",children:s.jsxs(kt,{type:"button",variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>E(!0),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),Y==="inventory"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"bg-orange-100 p-2 rounded-lg mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Inventory & Location Management"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm mb-6",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Storage Location (Editable)"})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{children:s.jsx(Ga,{id:"location_id_inventory",name:"location_id",label:"Select Location",value:r.location_id?r.location_id.toString():"",onChange:Q,options:[{value:"",label:"Select Location"},...(ct||[]).map(Ee=>{let qe=Ee.name;const Le=[];return Ee.city&&Le.push(Ee.city),Ee.region&&Le.push(Ee.region),Ee.country&&Le.push(Ee.country),Le.length>0&&(qe+=` (${Le.join(", ")})`),{value:Ee.id.toString(),label:qe}})]})}),s.jsx("div",{children:s.jsx(kn,{id:"location_inventory",name:"location",label:"Custom Location",value:r.location||"",onChange:Q,placeholder:"Enter custom location",helpText:"Use this if location is not in the dropdown"})})]}),(U||r.location)&&s.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-lg",children:[s.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-3 flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Current Location Details"]}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-slate-800",children:(U==null?void 0:U.name)||r.location})}),U&&s.jsxs(s.Fragment,{children:[U.street&&s.jsx("div",{className:"text-slate-600",children:U.street}),(U.postal_code||U.city)&&s.jsxs("div",{className:"text-slate-600",children:[U.postal_code&&`${U.postal_code} `,U.city]}),(U.region||U.country)&&s.jsxs("div",{className:"text-slate-600",children:[U.region&&`${U.region}, `,U.country]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-slate-800",children:r.quantity||1}),s.jsx("div",{className:"text-xs text-slate-600",children:"Total Items"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-slate-800",children:r.status==="available"?"Available":"In Use"}),s.jsx("div",{className:"text-xs text-slate-600",children:"Current Status"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-purple-100 p-2 rounded-lg mr-3",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-slate-800",children:(U==null?void 0:U.name)||r.location||"Not Set"}),s.jsx("div",{className:"text-xs text-slate-600",children:"Location"})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm mb-6",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("span",{className:"text-lg font-medium text-slate-800",children:"Installation Information"})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{children:s.jsx(Ga,{id:"installation_type",name:"installation_type",label:"Installation Type",value:r.installation_type||"portable",onChange:Q,options:[{value:"portable",label:"Portable - Can be moved freely"},{value:"semi-permanent",label:"Semi-Permanent - Can be moved with approval"},{value:"fixed",label:"Fixed - Permanently installed"}],helpText:"Determines if equipment can be allocated to shows"})}),s.jsx("div",{children:s.jsx(Ga,{id:"maintenance_schedule",name:"maintenance_schedule",label:"Maintenance Schedule",value:r.maintenance_schedule||"",onChange:Q,options:[{value:"",label:"No scheduled maintenance"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Semi-Annually",label:"Semi-Annually"},{value:"Annually",label:"Annually"}],helpText:"Regular maintenance schedule for this equipment"})})]}),(r.installation_type==="fixed"||r.installation_type==="semi-permanent")&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[s.jsx("div",{className:"mb-6",children:s.jsx(kn,{id:"installation_quantity",name:"installation_quantity",label:"Installation Quantity",type:"number",min:"0",max:r.quantity||1,value:r.installation_quantity||0,onChange:Q,helpText:`How many items are permanently installed (max: ${r.quantity||1})`,className:"w-32"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Ga,{id:"installation_location_id",name:"installation_location_id",label:"Installation Location",value:r.installation_location_id?r.installation_location_id.toString():"",onChange:Q,options:[{value:"",label:"Select Installation Location"},...(ct||[]).map(Ee=>{let qe=Ee.name;const Le=[];return Ee.city&&Le.push(Ee.city),Ee.region&&Le.push(Ee.region),Ee.country&&Le.push(Ee.country),Le.length>0&&(qe+=` (${Le.join(", ")})`),{value:Ee.id.toString(),label:qe}})],helpText:"Select from predefined locations"}),s.jsx("div",{className:"mt-2",children:s.jsx(kn,{id:"installation_location",name:"installation_location",label:"Custom Installation Location (if not in list)",value:r.installation_location||"",onChange:Q,placeholder:"e.g., Main Stage - FOH Position, Booth #3",helpText:"Specific installation position or custom location"})})]}),s.jsx("div",{children:s.jsx(kn,{id:"installation_date",name:"installation_date",label:"Installation Date",type:"date",value:r.installation_date||"",onChange:Q,helpText:"When the equipment was installed"})})]})]}),r.maintenance_schedule&&s.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{children:s.jsx(kn,{id:"last_maintenance_date",name:"last_maintenance_date",label:"Last Maintenance Date",type:"date",value:r.last_maintenance_date||"",onChange:Q,helpText:"When maintenance was last performed"})}),s.jsx("div",{children:s.jsx(kn,{id:"next_maintenance_date",name:"next_maintenance_date",label:"Next Maintenance Date",type:"date",value:r.next_maintenance_date||"",onChange:Q,helpText:"When next maintenance is due"})})]})}),s.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"installation_notes",className:"block text-sm font-medium text-slate-700 mb-1",children:"Installation Notes"}),s.jsx("textarea",{id:"installation_notes",name:"installation_notes",value:r.installation_notes||"",onChange:Q,placeholder:"Technical notes about installation, access requirements, special considerations...",rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Any important notes about the installation or maintenance"})]})})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-1",children:"Location & Installation Tips"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Portable:"})," Can be allocated to shows and moved freely"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Semi-Permanent:"})," Can be moved with special approval"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Fixed:"})," Cannot be allocated to shows (permanently installed)"]}),s.jsx("li",{children:' Location "Lager" suggests status "Available" (you can override)'}),s.jsx("li",{children:" Set maintenance schedules for equipment requiring regular servicing"})]})]})]})})]}),Y==="allocations"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"bg-purple-100 p-2 rounded-lg mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Show Allocations"}),s.jsxs(kt,{type:"button",variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:Ze,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Allocate to Show"]})]}),se&&Array.isArray(se)&&se.length>0?s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),s.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[se.length," show",se.length!==1?"s":""," using this equipment"]})]})}),s.jsx("div",{className:"divide-y divide-slate-200",children:se.map(Ee=>s.jsxs("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-slate-800",children:Ee.show_name}),s.jsx("p",{className:"text-sm text-slate-600",children:Ee.show_date?new Date(Ee.show_date).toLocaleDateString():"No date set"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ee.status==="requested"?"bg-blue-100 text-blue-800":Ee.status==="allocated"?"bg-yellow-100 text-yellow-800":Ee.status==="checked-out"?"bg-orange-100 text-orange-800":Ee.status==="in-use"?"bg-red-100 text-red-800":Ee.status==="returned"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Ee.status})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600",children:"Quantity Needed:"}),s.jsx("span",{className:"ml-2 font-medium text-slate-800",children:Ee.quantity_needed})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600",children:"Quantity Allocated:"}),s.jsx("span",{className:"ml-2 font-medium text-slate-800",children:Ee.quantity_allocated})]})]}),(()=>{const qe=yt(Ee.quantity_needed,Ee.quantity_allocated);return qe>0?s.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-md",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-red-600 font-medium",children:"Missing Items:"}),s.jsxs("span",{className:"font-bold text-red-600",children:[qe," item",qe!==1?"s":""]})]})}):null})(),s.jsxs("div",{className:"mt-3 flex items-center justify-end space-x-2",children:[s.jsxs(kt,{type:"button",size:"sm",variant:"outline",onClick:()=>pt(Ee),className:"text-blue-600 hover:text-blue-700",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),s.jsxs(kt,{type:"button",size:"sm",variant:"outline",onClick:()=>bt(Ee),className:"text-red-600 hover:text-red-700",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove"]})]}),Ee.notes&&s.jsxs("div",{className:"mt-3 text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Notes:"}),s.jsx("p",{className:"text-slate-800 mt-1 bg-slate-50 p-2 rounded",children:Ee.notes})]}),Ee.venue&&s.jsxs("div",{className:"mt-2 text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Venue:"}),s.jsx("span",{className:"ml-2 text-slate-800",children:Ee.venue})]})]},Ee.id))})]}):s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),s.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No show allocations"}),s.jsx("p",{className:"text-slate-500 text-sm mb-4",children:"This equipment is not currently allocated to any shows"}),typeof Ze=="function"&&s.jsxs(kt,{type:"button",variant:"outline",onClick:Ze,className:"flex items-center mx-auto",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Allocate to Show"]})]})]}),Y==="history"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[s.jsxs("div",{className:"mb-4 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),s.jsx(hk,{equipmentId:e})]})]})]})]})}),s.jsx("div",{className:"md:col-span-1",children:s.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),s.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:fe?s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"relative pb-4",children:[s.jsx("img",{src:eS(fe.id,!0),alt:`${r.brand} ${r.model}`,className:"w-full h-auto object-contain rounded-md",onError:Ee=>{console.error("Error loading thumbnail, falling back to original image"),Ee.target.src=eS(fe.id),Ee.target.onerror=null}}),s.jsx("button",{type:"button",onClick:()=>w(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),s.jsx("div",{className:"text-sm text-gray-500 text-center",children:fe.file_name})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),s.jsxs("button",{type:"button",onClick:()=>w(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsx("div",{className:"md:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info Preview"]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),s.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.category||"Not specified"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),s.jsx("p",{className:"text-sm font-medium text-slate-800",children:((rt=(mt=q==null?void 0:q.types)==null?void 0:mt.find(Ee=>Ee.id.toString()===r.type_id))==null?void 0:rt.name)||"Not specified"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),s.jsx("div",{children:r.status&&s.jsx(Yo,{variant:Fe(r.status),size:"md",children:r.status.charAt(0).toUpperCase()+r.status.slice(1).replace("-"," ")})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Quantity"})]}),s.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[r.quantity||1," item",(r.quantity||1)!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),s.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.location||"Not specified"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),s.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),s.jsx("p",{className:"text-sm font-medium text-slate-800",children:r.serial_number})]})]})]})}),s.jsx("div",{className:"md:col-span-1",children:s.jsxs(Ht,{className:"h-full",children:[s.jsx(Ht.Header,{className:"bg-slate-50",children:s.jsxs(Ht.Title,{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),s.jsx(Ht.Body,{children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:(Ae==null?void 0:Ae.created_by)||"Unknown"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:Ae!=null&&Ae.created_at?new Date(Ae.created_at).toLocaleString():"Unknown"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:Ae!=null&&Ae.updated_at?new Date(Ae.updated_at).toLocaleString():"Never"})]})]})]})})]})})]}),s.jsx(x3,{isOpen:g,onClose:()=>w(!1),equipmentId:e,existingImage:fe}),s.jsx(v3,{equipmentId:parseInt(e),isOpen:y,onClose:()=>E(!1),onSuccess:ze}),s.jsx(mk,{isOpen:S,onClose:()=>A(!1),equipment:Ae,availabilityData:ee}),D&&s.jsx(w3,{showEquipment:D,showId:D.show_id,onClose:Ye})]})},SK=({onFileSelect:e,uploadProgress:t=0,existingFiles:n=[],onFileDelete:r,multiple:i=!1,maxFiles:a=5,maxFileSize:o=50*1024*1024})=>{const[c,u]=K.useState([]),[f,p]=K.useState({}),[g,w]=K.useState([]);K.useEffect(()=>{Object.values(f).forEach(R=>{R&&R.startsWith("blob:")&&URL.revokeObjectURL(R)});const z={};return c.forEach((R,B)=>{R.type.startsWith("image/")&&(z[`new-${B}`]=URL.createObjectURL(R))}),n.forEach(R=>{R.file_type==="image"&&(z[`existing-${R.id}`]=`/api/files/${R.id}`)}),p(z),()=>{Object.values(z).forEach(R=>{R&&R.startsWith("blob:")&&URL.revokeObjectURL(R)})}},[c,n]);const y=z=>{const R=[],B=[];return z.forEach(q=>{if(q.size>o){R.push(`${q.name} exceeds the maximum file size of ${Math.round(o/(1024*1024))}MB`);return}if(!["image/jpeg","image/png","audio/mpeg","application/pdf"].includes(q.type)){R.push(`${q.name} has an unsupported file type. Only JPEG, PNG, MP3, and PDF files are allowed.`);return}B.push(q)}),{validFiles:B,errors:R}},E=K.useCallback((z,R)=>{if(R&&R.length>0){const te=R.map(H=>`${H.file.name}: ${H.errors.map(W=>W.message).join(", ")}`);w(te)}else w([]);const{validFiles:B,errors:q}=y(z);if(q.length>0&&w(te=>[...te,...q]),i&&c.length+B.length>a){w(H=>[...H,`You can only upload a maximum of ${a} files.`]);const te=a-c.length;if(te>0){const H=B.slice(0,te);u(W=>[...W,...H]),e(H)}}else u(i?te=>[...te,...B]:B),e(B)},[e,c,i,a,o]),S=z=>{const R=[...c];R.splice(z,1),u(R),e(i?R:R.length>0?[R[0]]:[]),w([])},A=z=>{if(r){console.log(`FileUpload: Deleting file with ID ${z}`);try{r(z)}catch(R){console.error(`Error deleting file with ID ${z}:`,R)}}else console.warn(`FileUpload: No onFileDelete handler provided for file ID ${z}`)},{getRootProps:j,getInputProps:k,isDragActive:D,fileRejections:P}=fm({onDrop:E,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:i?a:1,multiple:i,maxSize:o}),Y=z=>{switch(z){case"image/jpeg":case"image/png":case"image":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":case"audio":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":case"pdf":return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}};return s.jsxs("div",{children:[s.jsxs("div",{...j(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${D?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[s.jsx("input",{...k()}),D?s.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):s.jsxs("div",{children:[s.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),s.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",a," files, ",Math.round(o/(1024*1024)),"MB each)"]})]})]}),g.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"File validation errors:"}),s.jsx("ul",{className:"list-disc pl-5 text-xs text-red-700",children:g.map((z,R)=>s.jsx("li",{children:z},R))})]}),c.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Files to upload:"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:c.map((z,R)=>s.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[z.type.startsWith("image/")?s.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:f[`new-${R}`]?s.jsx("img",{src:f[`new-${R}`],alt:z.name,className:"max-h-full max-w-full object-contain"}):s.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):s.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:s.jsx("div",{className:"text-4xl",children:Y(z.type)})}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",title:z.name,children:z.name}),s.jsxs("p",{className:"text-xs text-slate-500",children:[(z.size/(1024*1024)).toFixed(2)," MB"]})]}),s.jsx("button",{type:"button",onClick:()=>S(R),className:"ml-2 text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Remove ${z.name}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]},R))})]}),n.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Existing files:"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:n.map(z=>s.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[z.file_type==="image"?s.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:f[`existing-${z.id}`]?s.jsx("img",{src:f[`existing-${z.id}`],alt:z.file_name,className:"max-h-full max-w-full object-contain"}):s.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):z.file_type==="audio"?s.jsxs("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex flex-col items-center justify-center p-2",children:[s.jsx("div",{className:"text-4xl mb-2",children:Y(z.file_type)}),s.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[s.jsx("source",{src:`/api/files/${z.id}`,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):s.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:s.jsx("div",{className:"text-4xl",children:Y(z.file_type)})}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",title:z.file_name,children:z.file_name}),s.jsx("p",{className:"text-xs text-slate-500 capitalize",children:z.file_type})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("a",{href:`/api/files/${z.id}?download=true`,download:!0,className:"text-primary-600 hover:text-primary-800 p-1 rounded-full hover:bg-primary-50","aria-label":`Download ${z.file_name}`,onClick:R=>{R.stopPropagation(),console.log(`Downloading file: ${z.id}`)},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),r&&s.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),console.log(`Deleting file: ${z.id}`),A(z.id)},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Delete ${z.file_name}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})]},z.id))})]}),t>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${t}%`}})}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",t,"%"]})]})]})},CK=({formData:e,equipmentTypes:t,categoriesData:n,statusOptions:r,handleInputChange:i,handleFileChange:a,handleSubmit:o,handleCancel:c,isLoading:u,error:f,isEditing:p=!1,files:g=[],uploadProgress:w=0,existingFiles:y=[],handleFileDelete:E,handleSetReferenceImage:S,allocationOverride:A=null})=>{const[j,k]=K.useState(null),[D,P]=K.useState(null),{data:Y}=Ln(["locations"],hf,{staleTime:3e5});K.useEffect(()=>{if(y&&y.length>0&&e.reference_image_id){const B=y.find(q=>q.id.toString()===e.reference_image_id);if(B){k(B);return}}k(null)},[y,e.reference_image_id]);const z=B=>{P(B),i(B?{target:{name:"reference_image_id",value:"new"}}:{target:{name:"reference_image_id",value:""}})},R=B=>{k(null),i({target:{name:"reference_image_id",value:""}}),E&&E(B)};return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:s.jsxs("form",{onSubmit:o,children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Equipment Information"})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ga,{id:"category_id",name:"category_id",label:"Category",value:e.category_id||"",onChange:i,options:[{value:"",label:"Select Category"},...(n||[]).map(B=>({value:B.id.toString(),label:B.name}))]}),s.jsx(Ga,{id:"type_id",name:"type_id",label:"Type",value:e.type_id||"",onChange:i,options:[{value:"",label:"Select Type"},...t.map(B=>({value:B.id.toString(),label:B.name}))],required:!0}),s.jsx(kn,{id:"brand",name:"brand",label:"Brand",value:e.brand,onChange:i,placeholder:"Enter brand",required:!0}),s.jsx(kn,{id:"model",name:"model",label:"Model",value:e.model,onChange:i,placeholder:"Enter model",required:!0}),s.jsx(vj,{id:"serial_number",name:"serial_number",label:"Serial Number",value:e.serial_number,onChange:i,placeholder:"Enter serial number",required:!0,onScan:B=>{i({target:{name:"serial_number",value:B}})}}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ga,{id:"location_id",name:"location_id",label:"Location",value:e.location_id?e.location_id.toString():"",onChange:i,options:[{value:"",label:"Select Location"},...((Y==null?void 0:Y.locations)||[]).map(B=>{let q=B.name;const te=[];return B.city&&te.push(B.city),B.region&&te.push(B.region),B.country&&te.push(B.country),te.length>0&&(q+=` (${te.join(", ")})`),{value:B.id.toString(),label:q}})],disabled:A==null?void 0:A.isLocationOverridden,className:A!=null&&A.isLocationOverridden?"opacity-50 cursor-not-allowed":""}),(A==null?void 0:A.isLocationOverridden)&&s.jsx("div",{className:"mt-1 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-700",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),"Location will be overridden by allocation settings"]})})]}),s.jsx(kn,{id:"location",name:"location",label:"Custom Location (if not in list)",value:e.location||"",onChange:i,placeholder:"Enter custom location",disabled:A==null?void 0:A.isLocationOverridden,className:A!=null&&A.isLocationOverridden?"opacity-50 cursor-not-allowed":""})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ga,{id:"status",name:"status",label:"Status",value:e.status,onChange:i,options:r.map(B=>({value:B,label:B.charAt(0).toUpperCase()+B.slice(1).replace("-"," ")})),required:!0,disabled:A==null?void 0:A.isStatusOverridden,className:A!=null&&A.isStatusOverridden?"opacity-50 cursor-not-allowed":""}),(A==null?void 0:A.isStatusOverridden)&&s.jsx("div",{className:"mt-1 p-2 bg-amber-50 border border-amber-200 rounded text-xs text-amber-700",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),"Status will be set automatically based on allocation"]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(kn,{id:"quantity",name:"quantity",label:"Quantity",type:"number",min:"1",value:e.quantity||1,onChange:i,placeholder:"Enter quantity",required:!0,helpText:"Number of items (minimum: 1)",disabled:A==null?void 0:A.isQuantityOverridden,className:A!=null&&A.isQuantityOverridden?"opacity-50 cursor-not-allowed":""}),(A==null?void 0:A.isQuantityOverridden)&&s.jsx("div",{className:"mt-1 p-2 bg-green-50 border border-green-200 rounded text-xs text-green-700",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),"Quantity allocation will be managed by allocation settings"]})})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),s.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:i,rows:"3",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]}),s.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg",children:[s.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-2 flex items-center",children:[s.jsx("div",{className:"p-1.5 bg-blue-100 rounded-lg mr-2",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),"Reference Image"]}),s.jsxs("p",{className:"text-sm text-slate-600 mb-3",children:["Upload a ",s.jsx("strong",{children:"single reference image"})," that best represents this equipment."]}),s.jsx(m3,{onImageSelect:z,existingImage:j,onImageDelete:R})]}),s.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-slate-50 to-gray-50 border border-slate-200 rounded-lg",children:[s.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-2 flex items-center",children:[s.jsx("div",{className:"p-1.5 bg-slate-100 rounded-lg mr-2",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),"Documents & Attachments"]}),s.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Upload additional documents and images (manuals, invoices, photos, etc.)."}),s.jsx(SK,{onFileSelect:a,uploadProgress:w,existingFiles:y,onFileDelete:E,multiple:!0,maxFiles:5})]})]}),s.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"text-xs text-slate-600",children:s.jsxs("span",{className:"flex items-center",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Required fields marked with *  Use Create Equipment button above to save"]})})})})]})})};CK.propTypes={formData:Ge.object.isRequired,equipmentTypes:Ge.array.isRequired,categoriesData:Ge.array,statusOptions:Ge.array.isRequired,locationsData:Ge.object,handleInputChange:Ge.func.isRequired,handleFileChange:Ge.func.isRequired,handleSubmit:Ge.func.isRequired,handleCancel:Ge.func.isRequired,isLoading:Ge.bool,error:Ge.string,isEditing:Ge.bool,files:Ge.array,uploadProgress:Ge.number,existingFiles:Ge.array,handleFileDelete:Ge.func,handleSetReferenceImage:Ge.func,allocationOverride:Ge.object};const EK="modulepreload",AK=function(e){return"/"+e},tS={},Hp=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=AK(a),a in tS)return;tS[a]=!0;const o=a.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!r)for(let p=i.length-1;p>=0;p--){const g=i[p];if(g.href===a&&(!o||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const f=document.createElement("link");if(f.rel=o?"stylesheet":EK,o||(f.as="script",f.crossOrigin=""),f.href=a,document.head.appendChild(f),o)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},jK=()=>{const[e,t]=K.useState({isMobile:!1,isTablet:!1,isDesktop:!1,screenWidth:0,screenHeight:0,userAgent:"",touchSupport:!1,orientation:"portrait"});return K.useEffect(()=>{const n=()=>{const i=navigator.userAgent||navigator.vendor||window.opera,a=window.innerWidth,o=window.innerHeight,c=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i,/Mobile/i],u=[/iPad/i,/Android(?=.*Tablet)|Android(?=.*Tab)/i,/Tablet/i],f=c.some(k=>k.test(i)),p=u.some(k=>k.test(i)),g=a<=768,w=a>768&&a<=1024,y="ontouchstart"in window||navigator.maxTouchPoints>0,E=a>o?"landscape":"portrait";let S=!1,A=!1,j=!1;p||w&&y?A=!0:f||g&&y?S=!0:j=!0,(/iPad/i.test(i)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&(S=!1,A=!0,j=!1),t({isMobile:S,isTablet:A,isDesktop:j,screenWidth:a,screenHeight:o,userAgent:i,touchSupport:y,orientation:E})};n();const r=()=>{n()};return window.addEventListener("resize",r),window.addEventListener("orientationchange",r),()=>{window.removeEventListener("resize",r),window.removeEventListener("orientationchange",r)}},[]),e},kK=ht.lazy(()=>Hp(()=>import("./NewEquipmentModern-f6620a22.js"),[])),TK=ht.lazy(()=>Hp(()=>import("./NewEquipmentMobile-7f677635.js"),[])),LK=()=>{const{isMobile:e,isTablet:t,screenWidth:n,touchSupport:r}=jK(),i=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading equipment form..."})]})});ht.useEffect(()=>{console.log(" Device Detection:",{isMobile:e,isTablet:t,screenWidth:n,touchSupport:r,userAgent:navigator.userAgent,selectedComponent:e?"Mobile":"Desktop"})},[e,t,n,r]);const o=(()=>!!(e||n<=768&&r||n<=480))();return s.jsxs("div",{className:"min-h-screen",children:[!1,s.jsx(K.Suspense,{fallback:s.jsx(i,{}),children:o?s.jsx(TK,{}):s.jsx(kK,{})})]})},IK=()=>{const{isAdmin:e,getUsers:t,impersonateUser:n,register:r,user:i}=ss(),a=Do(),o=ai(),[c,u]=K.useState(null),[f,p]=K.useState(!1),[g,w]=K.useState(!1),[y,E]=K.useState({username:"",password:"",role:"basic"}),[S,A]=K.useState({});K.useEffect(()=>{e()||a("/")},[e,a]);const{data:j,isLoading:k,isError:D,error:P,refetch:Y}=Ln({queryKey:["users"],queryFn:t,enabled:e()}),z=cr({mutationFn:r,onSuccess:()=>{o.invalidateQueries(["users"]),w(!1),E({username:"",password:"",role:"basic"}),gn.success("User created successfully")},onError:J=>{var ue,se;gn.error(((se=(ue=J.response)==null?void 0:ue.data)==null?void 0:se.message)||"Failed to create user")}}),R=J=>{const{name:ue,value:se}=J.target;E(ee=>({...ee,[ue]:se})),S[ue]&&A(ee=>({...ee,[ue]:""}))},B=()=>{const J={};return y.username.trim()||(J.username="Username is required"),y.password.trim()?y.password.length<6&&(J.password="Password must be at least 6 characters"):J.password="Password is required",A(J),Object.keys(J).length===0},q=J=>{J.preventDefault(),B()&&z.mutate(y)},te=async()=>{if(c)try{await n(c.id),p(!1),gn.info(`You are now impersonating ${c.username}`),a("/")}catch(J){gn.error("Failed to impersonate user"),console.error("Failed to impersonate user:",J)}},H=J=>new Date(J).toLocaleString(),W=J=>{switch(J){case"admin":return"bg-red-100 text-red-800";case"advanced":return"bg-blue-100 text-blue-800";case"basic":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e()?k?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):D?s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative my-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsxs("span",{className:"block sm:inline",children:[" ",(P==null?void 0:P.message)||"Failed to load users."]}),s.jsx("button",{onClick:Y,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Retry"})]}):s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx(ov,{position:"top-right",autoClose:3e3}),s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),s.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"User Management"}),s.jsxs("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create User"]})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Username"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created At"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:j==null?void 0:j.map(J=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:[J.username,J.id===i.id&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"You"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${W(J.role)}`,children:J.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:H(J.created_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:J.id!==i.id&&s.jsx("button",{onClick:()=>{u(J),p(!0)},className:"text-indigo-600 hover:text-indigo-900","aria-label":`Impersonate ${J.username}`,children:"Impersonate"})})]},J.id))})]})})})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Create New User"}),s.jsxs("form",{onSubmit:q,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),s.jsx("input",{type:"text",id:"username",name:"username",value:y.username,onChange:R,className:`w-full px-3 py-2 border ${S.username?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),S.username&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.username})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",id:"password",name:"password",value:y.password,onChange:R,className:`w-full px-3 py-2 border ${S.password?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),S.password&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.password})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),s.jsxs("select",{id:"role",name:"role",value:y.role,onChange:R,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"basic",children:"Basic"}),s.jsx("option",{value:"advanced",children:"Advanced"}),s.jsx("option",{value:"admin",children:"Admin"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:z.isLoading,children:z.isLoading?"Creating...":"Create User"})]})]})]})}),f&&c&&s.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Confirm Impersonation"}),s.jsxs("p",{className:"text-slate-500 mb-4",children:["You are about to impersonate ",s.jsx("strong",{children:c.username})," with role ",s.jsx("strong",{children:c.role}),". You will have the same permissions as this user until you end the impersonation."]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),s.jsx("button",{onClick:te,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Impersonate"})]})]})})]}):s.jsx("div",{className:"text-center py-10",children:"Access denied. Admin privileges required."})},DK=()=>{var P,Y;const[e,t]=K.useState(1),[n]=K.useState(20),[r,i]=K.useState("created_at"),[a,o]=K.useState("desc"),[c,u]=K.useState({equipmentId:"",actionType:"",search:"",type:"",status:"",location_id:""}),{data:f}=Ln({queryKey:["equipment-types"],queryFn:Qu,staleTime:3e5}),{data:p}=Ln(["locations"],hf),{data:g,isLoading:w,isError:y,error:E}=Ln(["allEquipmentLogs",e,n,c,r,a],()=>fK({page:e,limit:n,equipmentId:c.equipmentId||void 0,actionType:c.actionType||void 0,search:c.search||void 0,type:c.type||void 0,status:c.status||void 0,location_id:c.location_id||void 0,sortBy:r,sortOrder:a}),{keepPreviousData:!0}),S=z=>{switch(z){case"created":return"badge-success";case"updated":return"badge-info";case"deleted":return"badge-danger";case"status_change":return"badge-warning";case"location_change":return"badge-primary";default:return"badge-secondary"}},A=z=>z.split("_").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" "),j=z=>{const{name:R,value:B}=z.target;u(q=>({...q,[R]:B})),t(1)},k=z=>{z.preventDefault()},D=z=>{t(z)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Movement Logs"})}),s.jsx("div",{className:"card",children:s.jsxs("form",{onSubmit:k,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),s.jsxs("div",{className:"input-group",children:[s.jsx(H4,{className:"input-icon w-4 h-4"}),s.jsx("input",{type:"text",id:"search",name:"search",value:c.search,onChange:j,placeholder:"Search logs...",className:"input input-with-icon"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type",className:"label",children:"Equipment Type"}),s.jsxs("select",{id:"type",name:"type",value:c.type,onChange:j,className:"input",children:[s.jsx("option",{value:"",children:"All Types"}),f!=null&&f.types&&f.types.length>0?f.types.map(z=>s.jsx("option",{value:z.name.toLowerCase(),children:z.name},z.id)):s.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"label",children:"Equipment Status"}),s.jsxs("select",{id:"status",name:"status",value:c.status,onChange:j,className:"input",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"available",children:"Available"}),s.jsx("option",{value:"in-use",children:"In Use"}),s.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),s.jsxs("select",{id:"location_id",name:"location_id",value:c.location_id,onChange:j,className:"input",children:[s.jsx("option",{value:"",children:"All Locations"}),(P=p==null?void 0:p.locations)==null?void 0:P.map(z=>s.jsx("option",{value:z.id.toString(),children:z.name},z.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"actionType",className:"label",children:"Action Type"}),s.jsxs("select",{id:"actionType",name:"actionType",value:c.actionType,onChange:j,className:"input",children:[s.jsx("option",{value:"",children:"All Actions"}),s.jsx("option",{value:"created",children:"Created"}),s.jsx("option",{value:"updated",children:"Updated"}),s.jsx("option",{value:"deleted",children:"Deleted"}),s.jsx("option",{value:"status_change",children:"Status Change"}),s.jsx("option",{value:"location_change",children:"Location Change"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[s.jsx(V4,{className:"w-4 h-4"}),s.jsx("span",{children:"Apply Filters"})]})})]})}),s.jsxs("div",{className:"card",children:[w?s.jsx("div",{className:"text-center py-10",children:"Loading..."}):y?s.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",E.message||"Failed to load equipment logs"]}):(Y=g==null?void 0:g.logs)!=null&&Y.length?s.jsx("div",{className:"table-container",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{className:"table-header",children:s.jsxs("tr",{children:[s.jsx("th",{className:"table-header-cell",children:"Date"}),s.jsx("th",{className:"table-header-cell",children:"Equipment"}),s.jsx("th",{className:"table-header-cell",children:"User"}),s.jsx("th",{className:"table-header-cell",children:"Action"}),s.jsx("th",{className:"table-header-cell",children:"Details"})]})}),s.jsx("tbody",{className:"table-body",children:g.logs.map(z=>{var R,B;return s.jsxs("tr",{className:"table-row",children:[s.jsx("td",{className:"table-cell whitespace-nowrap",children:Up(new Date(z.created_at),"MMM d, yyyy h:mm a")}),s.jsx("td",{className:"table-cell",children:z.equipment?s.jsxs(ca,{to:`/equipment/${z.equipment.id}`,className:"text-primary-600 hover:text-primary-800",children:[z.equipment.brand," ",z.equipment.model,s.jsxs("span",{className:"text-xs text-slate-500 block",children:["SN: ",z.equipment.serial_number]})]}):s.jsx("span",{className:"text-slate-400",children:"Deleted equipment"})}),s.jsxs("td",{className:"table-cell",children:[((R=z.user)==null?void 0:R.username)||"Unknown",s.jsx("span",{className:"text-xs text-slate-500 block",children:((B=z.user)==null?void 0:B.role)||""})]}),s.jsx("td",{className:"table-cell",children:s.jsx("span",{className:`badge ${S(z.action_type)}`,children:A(z.action_type)})}),s.jsxs("td",{className:"table-cell",children:[z.action_type==="status_change"&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Status:"})," ",s.jsx("span",{className:"badge badge-outline-secondary",children:z.previous_status})," ",s.jsx("span",{className:"text-slate-400",children:""})," ",s.jsx("span",{className:"badge badge-outline-primary",children:z.new_status})]}),z.action_type==="location_change"&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Location:"})," ",s.jsx("span",{className:"badge badge-outline-secondary",children:z.previous_location||"None"})," ",s.jsx("span",{className:"text-slate-400",children:""})," ",s.jsx("span",{className:"badge badge-outline-primary",children:z.new_location||"None"})]}),z.details&&s.jsx("div",{className:"text-sm mt-1",children:z.details})]})]},z.id)})})]})}):s.jsx("div",{className:"text-center py-10 text-slate-500",children:c.search||c.equipmentId||c.actionType?"No logs found matching your search criteria.":"No logs found."}),(g==null?void 0:g.totalPages)>1&&s.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-slate-200",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",s.jsx("span",{className:"font-medium text-slate-800",children:(e-1)*n+1})," to"," ",s.jsx("span",{className:"font-medium text-slate-800",children:Math.min(e*n,g.total)})," of"," ",s.jsx("span",{className:"font-medium text-slate-800",children:g.total})," logs"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>D(e-1),disabled:e===1,className:`btn ${e===1?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Previous"}),s.jsx("button",{onClick:()=>D(e+1),disabled:e===g.totalPages,className:`btn ${e===g.totalPages?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Next"})]})]})]})]})},OK=()=>{const e=Do(),t=ai(),{data:n,isLoading:r,error:i}=Ln({queryKey:["shows"],queryFn:()=>mK(),onError:ee=>{An.error(`Failed to load shows: ${ee.message}`)}}),a=(n==null?void 0:n.shows)||[],{data:o,isLoading:c}=Ln({queryKey:["locations"],queryFn:()=>hf(),onError:ee=>{console.error("Failed to load locations:",ee)}}),u=(o==null?void 0:o.locations)||[],f=cr({mutationFn:xK,onSuccess:()=>{t.invalidateQueries(["shows"]),An.success("Show created successfully"),S(!1),q({name:"",date:"",venue:"",director:"",description:""})},onError:ee=>{An.error(`Failed to create show: ${ee.message}`)}}),p=cr({mutationFn:({id:ee,...Ae})=>gk(ee,Ae),onSuccess:()=>{t.invalidateQueries(["shows"]),An.success("Show updated successfully"),Y(!1),R(null)},onError:ee=>{An.error(`Failed to update show: ${ee.message}`)}}),g=cr({mutationFn:vk,onSuccess:()=>{t.invalidateQueries(["shows"]),An.success("Show deleted successfully")},onError:ee=>{An.error(`Failed to delete show: ${ee.message}`)}}),[w,y]=K.useState("list"),[E,S]=K.useState(!1),[A,j]=K.useState(null),[k,D]=K.useState(!1),[P,Y]=K.useState(!1),[z,R]=K.useState(null),[B,q]=K.useState({name:"",date:"",venue:"",director:"",description:""}),te=ee=>{switch(ee){case"planning":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},H=()=>{B.name&&B.date&&f.mutate(B)},W=ee=>{e(`/show/${ee.id}`)},J=ee=>{R({...ee}),Y(!0)},ue=()=>{z.name&&z.date&&p.mutate(z)},se=ee=>{window.confirm("Are you sure you want to delete this show?")&&g.mutate(ee)};return r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"Loading shows..."})]})}):i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 mb-4",children:" Error loading shows"}),s.jsx("p",{className:"text-slate-600 mb-4",children:i.message}),s.jsx(kt,{onClick:()=>t.invalidateQueries(["shows"]),children:"Retry"})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center space-x-3",children:[s.jsx(G5,{className:"w-8 h-8 text-primary-600"}),s.jsx("span",{children:"Show List"})]}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Manage theater shows and their equipment allocations"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded-md transition-colors ${w==="list"?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,title:"List View",children:s.jsx(s1,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>y("card"),className:`p-2 rounded-md transition-colors ${w==="card"?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,title:"Card View",children:s.jsx(o1,{className:"w-4 h-4"})})]}),s.jsxs(kt,{onClick:()=>S(!0),className:"flex items-center space-x-2",children:[s.jsx(cv,{className:"w-4 h-4"}),s.jsx("span",{children:"Create New Show"})]})]})]}),a.length===0?s.jsx(Ht,{className:"text-center py-12",children:s.jsxs(Ht.Body,{children:[s.jsx(G5,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:"No shows yet"}),s.jsx("p",{className:"text-slate-600 mb-4",children:"Create your first show to start managing equipment allocations"}),s.jsx(kt,{onClick:()=>S(!0),children:"Create New Show"})]})}):w==="list"?s.jsx(Ht,{children:s.jsx(Ht.Body,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table-wide",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Show"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Venue"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Director"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Equipment"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:a.map(ee=>s.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>W(ee),children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-800",children:ee.name}),ee.description&&s.jsx("div",{className:"text-sm text-slate-500 truncate max-w-xs",children:ee.description})]})}),s.jsx("td",{className:"py-3 px-4 text-slate-600",children:new Date(ee.date).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4 text-slate-600",children:ee.venue}),s.jsx("td",{className:"py-3 px-4 text-slate-600",children:ee.director}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${te(ee.status)}`,children:ee.status})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-medium text-primary-600",children:ee.equipmentCount})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex space-x-1",onClick:Ae=>Ae.stopPropagation(),children:[s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>W(ee),className:"p-1",title:"View",children:s.jsx(dh,{className:"w-4 h-4"})}),s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>J(ee),className:"p-1",title:"Edit",children:s.jsx(sc,{className:"w-4 h-4"})}),s.jsx(kt,{size:"sm",onClick:()=>e(`/show/${ee.id}`),className:"p-1",title:"View Details",children:s.jsx(dh,{className:"w-4 h-4"})}),s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>se(ee.id),className:"p-1 text-red-600 hover:text-red-700",title:"Delete",children:s.jsx(Uh,{className:"w-4 h-4"})})]})})]},ee.id))})]})})})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(ee=>s.jsxs(Ht,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Ht.Header,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:ee.name}),s.jsx("p",{className:"text-sm text-slate-600",children:ee.venue})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${te(ee.status)}`,children:ee.status})]})}),s.jsx(Ht.Body,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Date:"}),s.jsx("span",{className:"font-medium",children:new Date(ee.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Director:"}),s.jsx("span",{className:"font-medium",children:ee.director})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Equipment Items:"}),s.jsx("span",{className:"font-medium text-primary-600",children:ee.equipmentCount})]})]})}),s.jsx(Ht.Footer,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(kt,{size:"sm",variant:"outline",onClick:()=>W(ee),className:"flex-1 flex items-center justify-center space-x-1",children:[s.jsx(dh,{className:"w-4 h-4"}),s.jsx("span",{children:"View"})]}),s.jsxs(kt,{size:"sm",variant:"outline",onClick:()=>J(ee),className:"flex-1 flex items-center justify-center space-x-1",children:[s.jsx(sc,{className:"w-4 h-4"}),s.jsx("span",{children:"Edit"})]}),s.jsxs(kt,{size:"sm",onClick:()=>e(`/show/${ee.id}`),className:"flex-1 flex items-center justify-center space-x-1",children:[s.jsx(dh,{className:"w-4 h-4"}),s.jsx("span",{children:"Details"})]}),s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>se(ee.id),className:"flex items-center justify-center px-3 text-red-600 hover:text-red-700",children:s.jsx(Uh,{className:"w-4 h-4"})})]})})]},ee.id))}),E&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Create New Show"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Show Name *"}),s.jsx(kn,{id:"newShowName",name:"newShowName",value:B.name,onChange:ee=>q({...B,name:ee.target.value}),placeholder:"Enter show name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date *"}),s.jsx(kn,{id:"newShowDate",name:"newShowDate",type:"date",value:B.date,onChange:ee=>q({...B,date:ee.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Venue"}),s.jsx(Ga,{id:"newShowVenue",name:"newShowVenue",value:B.venue,onChange:ee=>q({...B,venue:ee.target.value}),options:[{value:"",label:"Select Venue"},...u.map(ee=>{let Ae=ee.name;const ge=[];return ee.city&&ge.push(ee.city),ee.region&&ge.push(ee.region),ee.country&&ge.push(ee.country),ge.length>0&&(Ae+=` (${ge.join(", ")})`),{value:ee.name,label:Ae}})],disabled:c})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Director"}),s.jsx(kn,{id:"newShowDirector",name:"newShowDirector",value:B.director,onChange:ee=>q({...B,director:ee.target.value}),placeholder:"Enter director name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),s.jsx("textarea",{value:B.description,onChange:ee=>q({...B,description:ee.target.value}),placeholder:"Enter show description",className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:"3"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx(kt,{variant:"outline",onClick:()=>S(!1),className:"flex-1",children:"Cancel"}),s.jsx(kt,{onClick:H,className:"flex-1",disabled:!B.name||!B.date||f.isLoading,children:f.isLoading?"Creating...":"Create Show"})]})]})}),k&&A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:A.name}),s.jsx("p",{className:"text-slate-600 mt-1",children:A.venue})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${te(A.status)}`,children:A.status}),s.jsx(kt,{variant:"outline",onClick:()=>D(!1),className:"text-slate-500",children:""})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Ht,{children:[s.jsx(Ht.Header,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Show Information"})}),s.jsx(Ht.Body,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),s.jsx("p",{className:"text-slate-900",children:new Date(A.date).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Director"}),s.jsx("p",{className:"text-slate-900",children:A.director||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),s.jsx("p",{className:"text-slate-900",children:A.description||"No description provided"})]})]})})]}),s.jsxs(Ht,{children:[s.jsx(Ht.Header,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Equipment Summary"})}),s.jsx(Ht.Body,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:A.equipmentCount}),s.jsx("p",{className:"text-slate-600",children:"Equipment Items Allocated"})]}),s.jsx(kt,{className:"w-full",onClick:()=>e(`/show/${A.id}`),children:"View Full Details"})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-slate-200",children:[s.jsx(kt,{variant:"outline",onClick:()=>D(!1),children:"Close"}),s.jsxs(kt,{onClick:()=>{D(!1),J(A)},className:"flex items-center space-x-2",children:[s.jsx(sc,{className:"w-4 h-4"}),s.jsx("span",{children:"Edit Show"})]})]})]})})}),P&&z&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Edit Show"}),s.jsx(kt,{variant:"outline",onClick:()=>Y(!1),className:"text-slate-500",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Ht,{children:[s.jsx(Ht.Header,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"})}),s.jsx(Ht.Body,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Show Name *"}),s.jsx(kn,{id:"editShowName",name:"editShowName",value:z.name,onChange:ee=>R({...z,name:ee.target.value}),placeholder:"Enter show name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date *"}),s.jsx(kn,{id:"editShowDate",name:"editShowDate",type:"date",value:z.date,onChange:ee=>R({...z,date:ee.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Venue"}),s.jsx(Ga,{id:"editShowVenue",name:"editShowVenue",value:z.venue,onChange:ee=>R({...z,venue:ee.target.value}),options:[{value:"",label:"Select Venue"},...u.map(ee=>{let Ae=ee.name;const ge=[];return ee.city&&ge.push(ee.city),ee.region&&ge.push(ee.region),ee.country&&ge.push(ee.country),ge.length>0&&(Ae+=` (${ge.join(", ")})`),{value:ee.name,label:Ae}})],disabled:c})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Director"}),s.jsx(kn,{id:"editShowDirector",name:"editShowDirector",value:z.director,onChange:ee=>R({...z,director:ee.target.value}),placeholder:"Enter director name"})]})]})})]}),s.jsxs(Ht,{children:[s.jsx(Ht.Header,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"Additional Details"})}),s.jsx(Ht.Body,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),s.jsxs("select",{value:z.status,onChange:ee=>R({...z,status:ee.target.value}),className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"archived",children:"Archived"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),s.jsx("textarea",{value:z.description,onChange:ee=>R({...z,description:ee.target.value}),placeholder:"Enter show description",className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:"6"})]})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-slate-200",children:[s.jsx(kt,{variant:"outline",onClick:()=>Y(!1),children:"Cancel"}),s.jsx(kt,{onClick:ue,disabled:!z.name||!z.date||p.isLoading,className:"flex items-center space-x-2",children:s.jsx("span",{children:p.isLoading?"Saving...":"Save Changes"})})]})]})})})]})},RK=(e,t)=>{const n=parseInt(e)||0,r=parseInt(t)||0;return Math.max(0,n-r)},MK=({equipmentId:e,onClose:t})=>{const[n,r]=K.useState(!1),{data:i,isLoading:a,isError:o}=Ln({queryKey:["equipmentAvailability",e],queryFn:async()=>(await Xt.get(`/api/inventory/equipment/${e}/availability`)).data,enabled:!!e});if(a)return s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-slate-600",children:"Loading availability..."})]});if(o||!i)return s.jsx("div",{className:"p-4 text-center",children:s.jsx("p",{className:"text-red-600",children:"Failed to load availability information"})});const c={type:i.type,brand:i.brand,model:i.model,status:i.equipment_status},u=i.total_quantity;parseInt(i.total_allocated)+parseInt(i.show_allocated);const f=i.available_quantity,p=[],g=()=>f<=0?"text-red-600":f<=u*.2?"text-orange-600":"text-green-600",w=y=>{const E={requested:"bg-blue-100 text-blue-800",allocated:"bg-yellow-100 text-yellow-800","checked-out":"bg-orange-100 text-orange-800","in-use":"bg-red-100 text-red-800",returned:"bg-green-100 text-green-800"};return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E[y]||"bg-gray-100 text-gray-800"}`,children:y})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[s.jsx(X5,{className:"w-5 h-5 mr-2"}),"Equipment Availability"]}),s.jsx(kt,{variant:"outline",onClick:t,children:"Close"})]}),s.jsx(Ht,{className:"mb-4",children:s.jsxs(Ht.Body,{children:[s.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:c.type}),s.jsxs("p",{className:"text-sm text-slate-600 mb-3",children:[c.brand," ",c.model]}),s.jsxs("div",{className:"grid grid-cols-4 gap-3 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-slate-800",children:u}),s.jsx("div",{className:"text-xs text-slate-600",children:"Total"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-blue-600",children:i.show_allocated}),s.jsx("div",{className:"text-xs text-slate-600",children:"In Shows"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-orange-600",children:i.total_allocated}),s.jsx("div",{className:"text-xs text-slate-600",children:"Inventory"})]}),s.jsxs("div",{children:[s.jsx("div",{className:`text-xl font-bold ${g()}`,children:f}),s.jsx("div",{className:"text-xs text-slate-600",children:"Available"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-slate-600 mb-1",children:[s.jsx("span",{children:"Availability"}),s.jsxs("span",{children:[Math.round(f/u*100),"% available"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${f>0?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.max(f/u*100,0)}%`}})})]})]})}),p.length>0&&s.jsx(Ht,{children:s.jsxs(Ht.Body,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium text-slate-800",children:["Current Allocations (",p.length,")"]}),s.jsxs(kt,{variant:"outline",size:"sm",onClick:()=>r(!n),className:"flex items-center space-x-1",children:[s.jsxs("span",{children:[n?"Hide":"Show"," Details"]}),n?s.jsx(AW,{className:"w-4 h-4"}):s.jsx(EW,{className:"w-4 h-4"})]})]}),n&&s.jsx("div",{className:"space-y-3",children:p.map(y=>s.jsxs("div",{className:"border border-slate-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-slate-800",children:y.showName}),s.jsx("p",{className:"text-sm text-slate-600",children:new Date(y.showDate).toLocaleDateString()})]}),w(y.status)]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600",children:"Needed:"}),s.jsx("span",{className:"ml-2 font-medium",children:y.quantityNeeded})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600",children:"Allocated:"}),s.jsx("span",{className:"ml-2 font-medium",children:y.quantityAllocated})]})]}),(()=>{const E=RK(y.quantityNeeded,y.quantityAllocated);return E>0?s.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-md",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-red-600 font-medium",children:"Missing Items:"}),s.jsxs("span",{className:"font-bold text-red-600",children:[E," item",E!==1?"s":""]})]})}):null})(),y.notes&&s.jsxs("div",{className:"mt-2 text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Notes:"}),s.jsx("p",{className:"text-slate-800 mt-1",children:y.notes})]})]},y.id))})]})}),p.length===0&&s.jsx(Ht,{children:s.jsxs(Ht.Body,{className:"text-center py-8",children:[s.jsx("div",{className:"text-slate-300 mb-2",children:""}),s.jsx("p",{className:"text-slate-600",children:"No current allocations for this equipment"})]})})]})})},Cx=({showEquipment:e,field:t,showId:n,onCancel:r})=>{const i=ai(),a=K.useRef(null),[o,c]=K.useState(t==="quantityNeeded"?e.quantity_needed:e.quantity_allocated),[u,f]=K.useState("");K.useEffect(()=>{a.current&&(a.current.focus(),a.current.select())},[]);const p=cr({mutationFn:S=>wk(e.id,S),onSuccess:()=>{i.invalidateQueries(["showEquipment",n]),An.success(`${t==="quantityNeeded"?"Needed":"Allocated"} quantity updated`),r()},onError:S=>{An.error(`Failed to update quantity: ${S.message}`),f(S.message)}}),g=S=>{const A=parseInt(S);if(isNaN(A)||A<0)return"Quantity must be a positive number";if(t==="quantityNeeded"&&A<1)return"Quantity needed must be at least 1";if(t==="quantityAllocated"){const j=t==="quantityNeeded"?A:e.quantity_needed;if(A>j)return`Cannot exceed ${j} (quantity needed)`}return""},w=()=>{const S=g(o);if(S){f(S);return}const A={quantityNeeded:e.quantity_needed,quantityAllocated:e.quantity_allocated,status:e.status,notes:e.notes||""};t==="quantityNeeded"?(A.quantityNeeded=parseInt(o),A.quantityAllocated>parseInt(o)&&(A.quantityAllocated=parseInt(o))):A.quantityAllocated=parseInt(o),p.mutate(A)},y=S=>{S.key==="Enter"?w():S.key==="Escape"&&r()},E=S=>{const A=S.target.value;c(A),u&&f("")};return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:a,type:"number",min:"0",value:o,onChange:E,onKeyDown:y,className:`w-20 px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-primary-500 ${u?"border-red-300 bg-red-50":"border-slate-300"}`,disabled:p.isLoading}),u&&s.jsx("div",{className:"absolute top-full left-0 mt-1 p-2 bg-red-100 border border-red-300 rounded text-xs text-red-700 whitespace-nowrap z-10",children:u})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:w,disabled:p.isLoading,className:"p-1 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition-colors",title:"Save",children:s.jsx(V7,{className:"w-4 h-4"})}),s.jsx("button",{onClick:r,disabled:p.isLoading,className:"p-1 text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Cancel",children:s.jsx(Y4,{className:"w-4 h-4"})})]})]})},nS=({showEquipment:e,showId:t,onCancel:n})=>{const r=ai(),i=K.useRef(null),[a,o]=K.useState(e.status),[c,u]=K.useState(null),[f,p]=K.useState(!1),g=[{value:"requested",label:"Requested",color:"bg-blue-100 text-blue-800"},{value:"allocated",label:"Allocated",color:"bg-yellow-100 text-yellow-800"},{value:"checked-out",label:"Checked Out",color:"bg-orange-100 text-orange-800"},{value:"in-use",label:"In Use",color:"bg-red-100 text-red-800"},{value:"returned",label:"Returned",color:"bg-green-100 text-green-800"}];K.useEffect(()=>{i.current&&i.current.focus()},[]);const w=async A=>{if(A===e.status){u(null);return}p(!0);try{const j=await Xt.post(`/api/show-equipment/allocation/${e.id}/validate-status`,{newStatus:A,quantity:e.quantity_allocated});u(j.data)}catch(j){console.error("Validation error:",j),u({valid:!1,conflicts:[{type:"validation_error",message:"Failed to validate status change",severity:"error"}],warnings:[]})}finally{p(!1)}},y=cr({mutationFn:async A=>(await Xt.put(`/api/show-equipment/allocation/${e.id}`,{status:A.status,notes:A.notes})).data,onSuccess:()=>{r.invalidateQueries(["showEquipment",t]),r.invalidateQueries(["equipmentAvailability"]),An.success("Status updated successfully"),n()},onError:A=>{var k,D;const j=(k=A.response)==null?void 0:k.data;j!=null&&j.conflicts?An.error(`Status change blocked: ${(D=j.conflicts[0])==null?void 0:D.message}`):An.error((j==null?void 0:j.message)||"Failed to update status")}}),E=()=>{if(a===e.status){n();return}if(c&&!c.valid){An.error("Cannot save: Status change is not allowed");return}const A={status:a,notes:e.notes||""};y.mutate(A)},S=A=>{A.key==="Enter"?E():A.key==="Escape"&&n()};return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("select",{ref:i,value:a,onChange:A=>{o(A.target.value),w(A.target.value)},onKeyDown:S,className:`px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-primary-500 ${c&&!c.valid?"border-red-300":"border-slate-300"}`,disabled:y.isLoading||f,children:g.map(A=>s.jsx("option",{value:A.value,children:A.label},A.value))}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:E,disabled:y.isLoading||f||c&&!c.valid,className:`p-1 rounded transition-colors ${c&&!c.valid?"text-gray-400 cursor-not-allowed":"text-green-600 hover:text-green-700 hover:bg-green-50"}`,title:c&&!c.valid?"Status change not allowed":"Save",children:s.jsx(V7,{className:"w-4 h-4"})}),s.jsx("button",{onClick:n,disabled:y.isLoading,className:"p-1 text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Cancel",children:s.jsx(Y4,{className:"w-4 h-4"})})]})]})};function ti(e){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(e)}var Bs=Uint8Array,Qo=Uint16Array,y3=Int32Array,yv=new Bs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bv=new Bs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mb=new Bs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yk=function(e,t){for(var n=new Qo(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new y3(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},bk=yk(yv,2),Nk=bk.b,xb=bk.r;Nk[28]=258,xb[258]=28;var _k=yk(bv,0),PK=_k.b,rS=_k.r,gb=new Qo(32768);for(var Li=0;Li<32768;++Li){var Cd=(Li&43690)>>1|(Li&21845)<<1;Cd=(Cd&52428)>>2|(Cd&13107)<<2,Cd=(Cd&61680)>>4|(Cd&3855)<<4,gb[Li]=((Cd&65280)>>8|(Cd&255)<<8)>>1}var Xc=function(e,t,n){for(var r=e.length,i=0,a=new Qo(t);i<r;++i)e[i]&&++a[e[i]-1];var o=new Qo(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var c;if(n){c=new Qo(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var f=i<<4|e[i],p=t-e[i],g=o[e[i]-1]++<<p,w=g|(1<<p)-1;g<=w;++g)c[gb[g]>>u]=f}else for(c=new Qo(r),i=0;i<r;++i)e[i]&&(c[i]=gb[o[e[i]-1]++]>>15-e[i]);return c},r0=new Bs(288);for(var Li=0;Li<144;++Li)r0[Li]=8;for(var Li=144;Li<256;++Li)r0[Li]=9;for(var Li=256;Li<280;++Li)r0[Li]=7;for(var Li=280;Li<288;++Li)r0[Li]=8;var Vp=new Bs(32);for(var Li=0;Li<32;++Li)Vp[Li]=5;var FK=Xc(r0,9,0),BK=Xc(r0,9,1),UK=Xc(Vp,5,0),zK=Xc(Vp,5,1),hy=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},$l=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},py=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},b3=function(e){return(e+7)/8|0},Sk=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new Bs(e.subarray(t,n))},WK=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Zl=function(e,t,n){var r=new Error(t||WK[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Zl),!n)throw r;return r},qK=function(e,t,n,r){var i=e.length,a=r?r.length:0;if(!i||t.f&&!t.l)return n||new Bs(0);var o=!n,c=o||t.i!=2,u=t.i;o&&(n=new Bs(i*3));var f=function(pt){var bt=n.length;if(pt>bt){var Ye=new Bs(Math.max(bt*2,pt));Ye.set(n),n=Ye}},p=t.f||0,g=t.p||0,w=t.b||0,y=t.l,E=t.d,S=t.m,A=t.n,j=i*8;do{if(!y){p=$l(e,g,1);var k=$l(e,g+1,3);if(g+=3,k)if(k==1)y=BK,E=zK,S=9,A=5;else if(k==2){var z=$l(e,g,31)+257,R=$l(e,g+10,15)+4,B=z+$l(e,g+5,31)+1;g+=14;for(var q=new Bs(B),te=new Bs(19),H=0;H<R;++H)te[mb[H]]=$l(e,g+H*3,7);g+=R*3;for(var W=hy(te),J=(1<<W)-1,ue=Xc(te,W,1),H=0;H<B;){var se=ue[$l(e,g,J)];g+=se&15;var D=se>>4;if(D<16)q[H++]=D;else{var ee=0,Ae=0;for(D==16?(Ae=3+$l(e,g,3),g+=2,ee=q[H-1]):D==17?(Ae=3+$l(e,g,7),g+=3):D==18&&(Ae=11+$l(e,g,127),g+=7);Ae--;)q[H++]=ee}}var ge=q.subarray(0,z),Be=q.subarray(z);S=hy(ge),A=hy(Be),y=Xc(ge,S,1),E=Xc(Be,A,1)}else Zl(1);else{var D=b3(g)+4,P=e[D-4]|e[D-3]<<8,Y=D+P;if(Y>i){u&&Zl(0);break}c&&f(w+P),n.set(e.subarray(D,Y),w),t.b=w+=P,t.p=g=Y*8,t.f=p;continue}if(g>j){u&&Zl(0);break}}c&&f(w+131072);for(var _e=(1<<S)-1,ct=(1<<A)-1,U=g;;U=g){var ee=y[py(e,g)&_e],Z=ee>>4;if(g+=ee&15,g>j){u&&Zl(0);break}if(ee||Zl(2),Z<256)n[w++]=Z;else if(Z==256){U=g,y=null;break}else{var Q=Z-254;if(Z>264){var H=Z-257,ne=yv[H];Q=$l(e,g,(1<<ne)-1)+Nk[H],g+=ne}var ce=E[py(e,g)&ct],be=ce>>4;ce||Zl(3),g+=ce&15;var Be=PK[be];if(be>3){var ne=bv[be];Be+=py(e,g)&(1<<ne)-1,g+=ne}if(g>j){u&&Zl(0);break}c&&f(w+131072);var Fe=w+Q;if(w<Be){var ze=a-Be,Ze=Math.min(Be,Fe);for(ze+w<0&&Zl(3);w<Ze;++w)n[w]=r[ze+w]}for(;w<Fe;++w)n[w]=n[w-Be]}}t.l=y,t.p=U,t.b=w,t.f=p,y&&(p=1,t.m=S,t.d=E,t.n=A)}while(!p);return w!=n.length&&o?Sk(n,0,w):n.subarray(0,w)},wu=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},q1=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},my=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:Ek,l:0};if(i==1){var o=new Bs(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(Y,z){return Y.f-z.f}),n.push({s:-1,f:25001});var c=n[0],u=n[1],f=0,p=1,g=2;for(n[0]={s:-1,f:c.f+u.f,l:c,r:u};p!=i-1;)c=n[n[f].f<n[g].f?f++:g++],u=n[f!=p&&n[f].f<n[g].f?f++:g++],n[p++]={s:-1,f:c.f+u.f,l:c,r:u};for(var w=a[0].s,r=1;r<i;++r)a[r].s>w&&(w=a[r].s);var y=new Qo(w+1),E=vb(n[p-1],y,0);if(E>t){var r=0,S=0,A=E-t,j=1<<A;for(a.sort(function(z,R){return y[R.s]-y[z.s]||z.f-R.f});r<i;++r){var k=a[r].s;if(y[k]>t)S+=j-(1<<E-y[k]),y[k]=t;else break}for(S>>=A;S>0;){var D=a[r].s;y[D]<t?S-=1<<t-y[D]++-1:++r}for(;r>=0&&S;--r){var P=a[r].s;y[P]==t&&(--y[P],++S)}E=t}return{t:new Bs(y),l:E}},vb=function(e,t,n){return e.s==-1?Math.max(vb(e.l,t,n+1),vb(e.r,t,n+1)):t[e.s]=n},iS=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Qo(++t),r=0,i=e[0],a=1,o=function(u){n[r++]=u},c=1;c<=t;++c)if(e[c]==i&&c!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[c]}return{c:n.subarray(0,r),n:t}},H1=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Ck=function(e,t,n){var r=n.length,i=b3(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},aS=function(e,t,n,r,i,a,o,c,u,f,p){wu(t,p++,n),++i[256];for(var g=my(i,15),w=g.t,y=g.l,E=my(a,15),S=E.t,A=E.l,j=iS(w),k=j.c,D=j.n,P=iS(S),Y=P.c,z=P.n,R=new Qo(19),B=0;B<k.length;++B)++R[k[B]&31];for(var B=0;B<Y.length;++B)++R[Y[B]&31];for(var q=my(R,7),te=q.t,H=q.l,W=19;W>4&&!te[mb[W-1]];--W);var J=f+5<<3,ue=H1(i,r0)+H1(a,Vp)+o,se=H1(i,w)+H1(a,S)+o+14+3*W+H1(R,te)+2*R[16]+3*R[17]+7*R[18];if(u>=0&&J<=ue&&J<=se)return Ck(t,p,e.subarray(u,u+f));var ee,Ae,ge,Be;if(wu(t,p,1+(se<ue)),p+=2,se<ue){ee=Xc(w,y,0),Ae=w,ge=Xc(S,A,0),Be=S;var _e=Xc(te,H,0);wu(t,p,D-257),wu(t,p+5,z-1),wu(t,p+10,W-4),p+=14;for(var B=0;B<W;++B)wu(t,p+3*B,te[mb[B]]);p+=3*W;for(var ct=[k,Y],U=0;U<2;++U)for(var Z=ct[U],B=0;B<Z.length;++B){var Q=Z[B]&31;wu(t,p,_e[Q]),p+=te[Q],Q>15&&(wu(t,p,Z[B]>>5&127),p+=Z[B]>>12)}}else ee=FK,Ae=r0,ge=UK,Be=Vp;for(var B=0;B<c;++B){var ne=r[B];if(ne>255){var Q=ne>>18&31;q1(t,p,ee[Q+257]),p+=Ae[Q+257],Q>7&&(wu(t,p,ne>>23&31),p+=yv[Q]);var ce=ne&31;q1(t,p,ge[ce]),p+=Be[ce],ce>3&&(q1(t,p,ne>>5&8191),p+=bv[ce])}else q1(t,p,ee[ne]),p+=Ae[ne]}return q1(t,p,ee[256]),p+Ae[256]},HK=new y3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ek=new Bs(0),VK=function(e,t,n,r,i,a){var o=a.z||e.length,c=new Bs(r+o+5*(1+Math.ceil(o/7e3))+i),u=c.subarray(r,c.length-i),f=a.l,p=(a.r||0)&7;if(t){p&&(u[0]=a.r>>3);for(var g=HK[t-1],w=g>>13,y=g&8191,E=(1<<n)-1,S=a.p||new Qo(32768),A=a.h||new Qo(E+1),j=Math.ceil(n/3),k=2*j,D=function(yt){return(e[yt]^e[yt+1]<<j^e[yt+2]<<k)&E},P=new y3(25e3),Y=new Qo(288),z=new Qo(32),R=0,B=0,q=a.i||0,te=0,H=a.w||0,W=0;q+2<o;++q){var J=D(q),ue=q&32767,se=A[J];if(S[ue]=se,A[J]=ue,H<=q){var ee=o-q;if((R>7e3||te>24576)&&(ee>423||!f)){p=aS(e,u,0,P,Y,z,B,te,W,q-W,p),te=R=B=0,W=q;for(var Ae=0;Ae<286;++Ae)Y[Ae]=0;for(var Ae=0;Ae<30;++Ae)z[Ae]=0}var ge=2,Be=0,_e=y,ct=ue-se&32767;if(ee>2&&J==D(q-ct))for(var U=Math.min(w,ee)-1,Z=Math.min(32767,q),Q=Math.min(258,ee);ct<=Z&&--_e&&ue!=se;){if(e[q+ge]==e[q+ge-ct]){for(var ne=0;ne<Q&&e[q+ne]==e[q+ne-ct];++ne);if(ne>ge){if(ge=ne,Be=ct,ne>U)break;for(var ce=Math.min(ct,ne-2),be=0,Ae=0;Ae<ce;++Ae){var Fe=q-ct+Ae&32767,ze=S[Fe],Ze=Fe-ze&32767;Ze>be&&(be=Ze,se=Fe)}}}ue=se,se=S[ue],ct+=ue-se&32767}if(Be){P[te++]=268435456|xb[ge]<<18|rS[Be];var pt=xb[ge]&31,bt=rS[Be]&31;B+=yv[pt]+bv[bt],++Y[257+pt],++z[bt],H=q+ge,++R}else P[te++]=e[q],++Y[e[q]]}}for(q=Math.max(q,H);q<o;++q)P[te++]=e[q],++Y[e[q]];p=aS(e,u,f,P,Y,z,B,te,W,q-W,p),f||(a.r=p&7|u[p/8|0]<<3,p-=7,a.h=A,a.p=S,a.i=q,a.w=H)}else{for(var q=a.w||0;q<o+f;q+=65535){var Ye=q+65535;Ye>=o&&(u[p/8|0]=f,Ye=o),p=Ck(u,p+1,e.subarray(q,Ye))}a.i=o}return Sk(c,0,r+b3(p)+i)},Ak=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,o=0;o!=a;){for(var c=Math.min(o+2655,a);o<c;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},$K=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Bs(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return VK(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},jk=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},YK=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Ak();i.p(t.dictionary),jk(e,2,i.d())}},GK=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Zl(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Zl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function wb(e,t){t||(t={});var n=Ak();n.p(e);var r=$K(e,t,t.dictionary?6:2,4);return YK(r,t),jk(r,r.length-4,n.d()),r}function XK(e,t){return qK(e.subarray(GK(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var KK=typeof TextDecoder<"u"&&new TextDecoder,QK=0;try{KK.decode(Ek,{stream:!0}),QK=1}catch{}var Vn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function xy(){Vn.console&&typeof Vn.console.log=="function"&&Vn.console.log.apply(Vn.console,arguments)}var wi={log:xy,warn:function(e){Vn.console&&(typeof Vn.console.warn=="function"?Vn.console.warn.apply(Vn.console,arguments):xy.call(null,arguments))},error:function(e){Vn.console&&(typeof Vn.console.error=="function"?Vn.console.error.apply(Vn.console,arguments):xy(e))}};function gy(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){I0(r.response,t,n)},r.onerror=function(){wi.error("could not download file")},r.send()}function sS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ex(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var cp,yb,I0=Vn.saveAs||((typeof window>"u"?"undefined":ti(window))!=="object"||window!==Vn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Vn.URL||Vn.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?sS(i.href)?gy(e,t,n):Ex(i,i.target="_blank"):Ex(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ex(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(sS(e))gy(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Ex(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:ti(a)!=="object"&&(wi.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return gy(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(Vn.HTMLElement)||Vn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":ti(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},c.readAsDataURL(e)}else{var u=Vn.URL||Vn.webkitURL,f=u.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function kk(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+c+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function vy(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=Ls(n,r,i,a,t[0],7,-680876936),a=Ls(a,n,r,i,t[1],12,-389564586),i=Ls(i,a,n,r,t[2],17,606105819),r=Ls(r,i,a,n,t[3],22,-1044525330),n=Ls(n,r,i,a,t[4],7,-176418897),a=Ls(a,n,r,i,t[5],12,1200080426),i=Ls(i,a,n,r,t[6],17,-1473231341),r=Ls(r,i,a,n,t[7],22,-45705983),n=Ls(n,r,i,a,t[8],7,1770035416),a=Ls(a,n,r,i,t[9],12,-1958414417),i=Ls(i,a,n,r,t[10],17,-42063),r=Ls(r,i,a,n,t[11],22,-1990404162),n=Ls(n,r,i,a,t[12],7,1804603682),a=Ls(a,n,r,i,t[13],12,-40341101),i=Ls(i,a,n,r,t[14],17,-1502002290),n=Is(n,r=Ls(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Is(a,n,r,i,t[6],9,-1069501632),i=Is(i,a,n,r,t[11],14,643717713),r=Is(r,i,a,n,t[0],20,-373897302),n=Is(n,r,i,a,t[5],5,-701558691),a=Is(a,n,r,i,t[10],9,38016083),i=Is(i,a,n,r,t[15],14,-660478335),r=Is(r,i,a,n,t[4],20,-405537848),n=Is(n,r,i,a,t[9],5,568446438),a=Is(a,n,r,i,t[14],9,-1019803690),i=Is(i,a,n,r,t[3],14,-187363961),r=Is(r,i,a,n,t[8],20,1163531501),n=Is(n,r,i,a,t[13],5,-1444681467),a=Is(a,n,r,i,t[2],9,-51403784),i=Is(i,a,n,r,t[7],14,1735328473),n=Ds(n,r=Is(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Ds(a,n,r,i,t[8],11,-2022574463),i=Ds(i,a,n,r,t[11],16,1839030562),r=Ds(r,i,a,n,t[14],23,-35309556),n=Ds(n,r,i,a,t[1],4,-1530992060),a=Ds(a,n,r,i,t[4],11,1272893353),i=Ds(i,a,n,r,t[7],16,-155497632),r=Ds(r,i,a,n,t[10],23,-1094730640),n=Ds(n,r,i,a,t[13],4,681279174),a=Ds(a,n,r,i,t[0],11,-358537222),i=Ds(i,a,n,r,t[3],16,-722521979),r=Ds(r,i,a,n,t[6],23,76029189),n=Ds(n,r,i,a,t[9],4,-640364487),a=Ds(a,n,r,i,t[12],11,-421815835),i=Ds(i,a,n,r,t[15],16,530742520),n=Os(n,r=Ds(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Os(a,n,r,i,t[7],10,1126891415),i=Os(i,a,n,r,t[14],15,-1416354905),r=Os(r,i,a,n,t[5],21,-57434055),n=Os(n,r,i,a,t[12],6,1700485571),a=Os(a,n,r,i,t[3],10,-1894986606),i=Os(i,a,n,r,t[10],15,-1051523),r=Os(r,i,a,n,t[1],21,-2054922799),n=Os(n,r,i,a,t[8],6,1873313359),a=Os(a,n,r,i,t[15],10,-30611744),i=Os(i,a,n,r,t[6],15,-1560198380),r=Os(r,i,a,n,t[13],21,1309151649),n=Os(n,r,i,a,t[4],6,-145523070),a=Os(a,n,r,i,t[11],10,-1120210379),i=Os(i,a,n,r,t[2],15,718787259),r=Os(r,i,a,n,t[9],21,-343485551),e[0]=Fd(n,e[0]),e[1]=Fd(r,e[1]),e[2]=Fd(i,e[2]),e[3]=Fd(a,e[3])}function Nv(e,t,n,r,i,a){return t=Fd(Fd(t,e),Fd(r,a)),Fd(t<<i|t>>>32-i,n)}function Ls(e,t,n,r,i,a,o){return Nv(t&n|~t&r,e,t,i,a,o)}function Is(e,t,n,r,i,a,o){return Nv(t&r|n&~r,e,t,i,a,o)}function Ds(e,t,n,r,i,a,o){return Nv(t^n^r,e,t,i,a,o)}function Os(e,t,n,r,i,a,o){return Nv(n^(t|~r),e,t,i,a,o)}function Tk(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)vy(r,ZK(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(vy(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,vy(r,i),r}function ZK(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}cp=Vn.atob.bind(Vn),yb=Vn.btoa.bind(Vn);var oS="0123456789abcdef".split("");function JK(e){for(var t="",n=0;n<4;n++)t+=oS[e>>8*n+4&15]+oS[e>>8*n&15];return t}function eQ(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function bb(e){return Tk(e).map(eQ).join("")}var tQ=function(e){for(var t=0;t<e.length;t++)e[t]=JK(e[t]);return e.join("")}(Tk("hello"))!="5d41402abc4b2a76b9719d911017c592";function Fd(e,t){if(tQ){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Nb(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),c=[],u=0;u<256;u++)c[u]=u;var f=0;for(u=0;u<256;u++){var p=c[u];f=(f+p+o.charCodeAt(u))%256,c[u]=c[f],c[f]=p}n=e,r=c}else c=r;var g=t.length,w=0,y=0,E="";for(u=0;u<g;u++)y=(y+(p=c[w=(w+1)%256]))%256,c[w]=c[y],c[y]=p,o=c[(c[w]+c[y])%256],E+=String.fromCharCode(t.charCodeAt(u)^o);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lS={print:4,modify:8,copy:16,"annot-forms":32};function Xf(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(c){if(lS.perm!==void 0)throw new Error("Invalid permission: "+c);i+=lS[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=bb(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Nb(this.encryptionKey,this.padding)}function Kf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function cS(e){if(ti(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(c){Vn.console&&wi.error("jsPDF PubSub Error",c.message,c)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function fg(e){if(!(this instanceof fg))return new fg(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Lk(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function O0(e,t,n,r,i){if(!(this instanceof O0))return new O0(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Lk.call(this,r,i)}function hh(e,t,n,r,i){if(!(this instanceof hh))return new hh(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Lk.call(this,r,i)}function Hn(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],c=1,u=16,f="S",p=null;ti(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),f=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,w={},y={internal:{},__private__:{}};y.__private__.PubSub=cS;var E="1.3",S=y.__private__.getPdfVersion=function(){return E};y.__private__.setPdfVersion=function(O){E=O};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return A};var j=y.__private__.getPageFormat=function(O){return A[O]};i=i||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},D=k.COMPAT;function P(){this.saveGraphicsState(),fe(new vn(Kt,0,0,-Kt,0,ka()*Kt).toString()+" cm"),this.setFontSize(this.getFontSize()/Kt),f="n",D=k.ADVANCED}function Y(){this.restoreGraphicsState(),f="S",D=k.COMPAT}var z=y.__private__.combineFontStyleAndFontWeight=function(O,oe){if(O=="bold"&&oe=="normal"||O=="bold"&&oe==400||O=="normal"&&oe=="italic"||O=="bold"&&oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return oe&&(O=oe==400||oe==="normal"?O==="italic"?"italic":"normal":oe!=700&&oe!=="bold"||O!=="normal"?(oe==700?"bold":oe)+""+O:"bold"),O};y.advancedAPI=function(O){var oe=D===k.COMPAT;return oe&&P.call(this),typeof O!="function"||(O(this),oe&&Y.call(this)),this},y.compatAPI=function(O){var oe=D===k.ADVANCED;return oe&&Y.call(this),typeof O!="function"||(O(this),oe&&P.call(this)),this},y.isAdvancedAPI=function(){return D===k.ADVANCED};var R,B=function(O){if(D!==k.ADVANCED)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=y.roundToPrecision=y.__private__.roundToPrecision=function(O,oe){var Re=t||oe;if(isNaN(O)||isNaN(Re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(Re).replace(/0+$/,"")};R=y.hpf=y.__private__.hpf=typeof u=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return q(O,u)}:u==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return q(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return q(O,16)};var te=y.f2=y.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return q(O,2)},H=y.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return q(O,3)},W=y.scale=y.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return D===k.COMPAT?O*Kt:D===k.ADVANCED?O:void 0},J=function(O){return D===k.COMPAT?ka()-O:D===k.ADVANCED?O:void 0},ue=function(O){return W(J(O))};y.__private__.setPrecision=y.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(t=parseInt(O,10))};var se,ee="00000000000000000000000000000000",Ae=y.__private__.getFileId=function(){return ee},ge=y.__private__.setFileId=function(O){return ee=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Hi=new Xf(p.userPermissions,p.userPassword,p.ownerPassword,ee)),ee};y.setFileId=function(O){return ge(O),this},y.getFileId=function(){return Ae()};var Be=y.__private__.convertDateToPDFDate=function(O){var oe=O.getTimezoneOffset(),Re=oe<0?"+":"-",Ve=Math.floor(Math.abs(oe/60)),nt=Math.abs(oe%60),Et=[Re,Q(Ve),"'",Q(nt),"'"].join("");return["D:",O.getFullYear(),Q(O.getMonth()+1),Q(O.getDate()),Q(O.getHours()),Q(O.getMinutes()),Q(O.getSeconds()),Et].join("")},_e=y.__private__.convertPDFDateToDate=function(O){var oe=parseInt(O.substr(2,4),10),Re=parseInt(O.substr(6,2),10)-1,Ve=parseInt(O.substr(8,2),10),nt=parseInt(O.substr(10,2),10),Et=parseInt(O.substr(12,2),10),Dt=parseInt(O.substr(14,2),10);return new Date(oe,Re,Ve,nt,Et,Dt,0)},ct=y.__private__.setCreationDate=function(O){var oe;if(O===void 0&&(O=new Date),O instanceof Date)oe=Be(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");oe=O}return se=oe},U=y.__private__.getCreationDate=function(O){var oe=se;return O==="jsDate"&&(oe=_e(se)),oe};y.setCreationDate=function(O){return ct(O),this},y.getCreationDate=function(O){return U(O)};var Z,Q=y.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},ne=y.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},ce=0,be=[],Fe=[],ze=0,Ze=[],pt=[],bt=!1,Ye=Fe,yt=function(){ce=0,ze=0,Fe=[],be=[],Ze=[],je=Rr(),Te=Rr()};y.__private__.setCustomOutputDestination=function(O){bt=!0,Ye=O};var it=function(O){bt||(Ye=O)};y.__private__.resetCustomOutputDestination=function(){bt=!1,Ye=Fe};var fe=y.__private__.out=function(O){return O=O.toString(),ze+=O.length+1,Ye.push(O),Ye},He=y.__private__.write=function(O){return fe(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},mt=y.__private__.getArrayBuffer=function(O){for(var oe=O.length,Re=new ArrayBuffer(oe),Ve=new Uint8Array(Re);oe--;)Ve[oe]=O.charCodeAt(oe);return Re},rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return rt};var Ee=e.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(O){return Ee=D===k.ADVANCED?O/Kt:O,this};var qe,Le=y.__private__.getFontSize=y.getFontSize=function(){return D===k.COMPAT?Ee:Ee*Kt},Nt=e.R2L||!1;y.__private__.setR2L=y.setR2L=function(O){return Nt=O,this},y.__private__.getR2L=y.getR2L=function(){return Nt};var et,wt=y.__private__.setZoomMode=function(O){var oe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))qe=O;else if(isNaN(O)){if(oe.indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');qe=O}else qe=parseInt(O,10)};y.__private__.getZoomMode=function(){return qe};var Vt,rn=y.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');et=O};y.__private__.getPageMode=function(){return et};var dn=y.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');Vt=O};y.__private__.getLayoutMode=function(){return Vt},y.__private__.setDisplayMode=y.setDisplayMode=function(O,oe,Re){return wt(O),dn(oe),rn(Re),this};var Qt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(O){if(Object.keys(Qt).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qt[O]},y.__private__.getDocumentProperties=function(){return Qt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(O){for(var oe in Qt)Qt.hasOwnProperty(oe)&&O[oe]&&(Qt[oe]=O[oe]);return this},y.__private__.setDocumentProperty=function(O,oe){if(Object.keys(Qt).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qt[O]=oe};var Tn,Kt,Dr,hn,Ue,$t={},nn={},Dn=[],Nn={},yi={},jr={},Bn={},ea=null,Or=0,Mn=[],Gn=new cS(y),qs=e.hotfixes||[],hr={},ha={},Pa=[],vn=function O(oe,Re,Ve,nt,Et,Dt){if(!(this instanceof O))return new O(oe,Re,Ve,nt,Et,Dt);isNaN(oe)&&(oe=1),isNaN(Re)&&(Re=0),isNaN(Ve)&&(Ve=0),isNaN(nt)&&(nt=1),isNaN(Et)&&(Et=0),isNaN(Dt)&&(Dt=0),this._matrix=[oe,Re,Ve,nt,Et,Dt]};Object.defineProperty(vn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(vn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(vn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(vn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(vn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(vn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(vn.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(vn.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(vn.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(vn.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(vn.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(vn.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(vn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vn.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(O)},vn.prototype.multiply=function(O){var oe=O.sx*this.sx+O.shy*this.shx,Re=O.sx*this.shy+O.shy*this.sy,Ve=O.shx*this.sx+O.sy*this.shx,nt=O.shx*this.shy+O.sy*this.sy,Et=O.tx*this.sx+O.ty*this.shx+this.tx,Dt=O.tx*this.shy+O.ty*this.sy+this.ty;return new vn(oe,Re,Ve,nt,Et,Dt)},vn.prototype.decompose=function(){var O=this.sx,oe=this.shy,Re=this.shx,Ve=this.sy,nt=this.tx,Et=this.ty,Dt=Math.sqrt(O*O+oe*oe),sn=(O/=Dt)*Re+(oe/=Dt)*Ve;Re-=O*sn,Ve-=oe*sn;var Cn=Math.sqrt(Re*Re+Ve*Ve);return sn/=Cn,O*(Ve/=Cn)<oe*(Re/=Cn)&&(O=-O,oe=-oe,sn=-sn,Dt=-Dt),{scale:new vn(Dt,0,0,Cn,0,0),translate:new vn(1,0,0,1,nt,Et),rotate:new vn(O,oe,-oe,O,0,0),skew:new vn(1,0,sn,1,0,0)}},vn.prototype.toString=function(O){return this.join(" ")},vn.prototype.inversed=function(){var O=this.sx,oe=this.shy,Re=this.shx,Ve=this.sy,nt=this.tx,Et=this.ty,Dt=1/(O*Ve-oe*Re),sn=Ve*Dt,Cn=-oe*Dt,Un=-Re*Dt,Pn=O*Dt;return new vn(sn,Cn,Un,Pn,-sn*nt-Un*Et,-Cn*nt-Pn*Et)},vn.prototype.applyToPoint=function(O){var oe=O.x*this.sx+O.y*this.shx+this.tx,Re=O.x*this.shy+O.y*this.sy+this.ty;return new xa(oe,Re)},vn.prototype.applyToRectangle=function(O){var oe=this.applyToPoint(O),Re=this.applyToPoint(new xa(O.x+O.w,O.y+O.h));return new su(oe.x,oe.y,Re.x-oe.x,Re.y-oe.y)},vn.prototype.clone=function(){var O=this.sx,oe=this.shy,Re=this.shx,Ve=this.sy,nt=this.tx,Et=this.ty;return new vn(O,oe,Re,Ve,nt,Et)},y.Matrix=vn;var Fa=y.matrixMult=function(O,oe){return oe.multiply(O)},Oi=new vn(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Oi;var Ri=function(O,oe){if(!yi[O]){var Re=(oe instanceof O0?"Sh":"P")+(Object.keys(Nn).length+1).toString(10);oe.id=Re,yi[O]=Re,Nn[Re]=oe,Gn.publish("addPattern",oe)}};y.ShadingPattern=O0,y.TilingPattern=hh,y.addShadingPattern=function(O,oe){return B("addShadingPattern()"),Ri(O,oe),this},y.beginTilingPattern=function(O){B("beginTilingPattern()"),cs(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},y.endTilingPattern=function(O,oe){B("endTilingPattern()"),oe.stream=pt[Z].join(`
`),Ri(O,oe),Gn.publish("endTilingPattern",oe),Pa.pop().restore()};var gr=y.__private__.newObject=function(){var O=Rr();return he(O,!0),O},Rr=y.__private__.newObjectDeferred=function(){return ce++,be[ce]=function(){return ze},ce},he=function(O,oe){return oe=typeof oe=="boolean"&&oe,be[O]=ze,oe&&fe(O+" 0 obj"),O},ye=y.__private__.newAdditionalObject=function(){var O={objId:Rr(),content:""};return Ze.push(O),O},je=Rr(),Te=Rr(),Oe=y.__private__.decodeColorString=function(O){var oe=O.split(" ");if(oe.length!==2||oe[1]!=="g"&&oe[1]!=="G")oe.length===5&&(oe[4]==="k"||oe[4]==="K")&&(oe=[(1-oe[0])*(1-oe[3]),(1-oe[1])*(1-oe[3]),(1-oe[2])*(1-oe[3]),"r"]);else{var Re=parseFloat(oe[0]);oe=[Re,Re,Re,"r"]}for(var Ve="#",nt=0;nt<3;nt++)Ve+=("0"+Math.floor(255*parseFloat(oe[nt])).toString(16)).slice(-2);return Ve},Pe=y.__private__.encodeColorString=function(O){var oe;typeof O=="string"&&(O={ch1:O});var Re=O.ch1,Ve=O.ch2,nt=O.ch3,Et=O.ch4,Dt=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Re=="string"&&Re.charAt(0)!=="#"){var sn=new kk(Re);if(sn.ok)Re=sn.toHex();else if(!/^\d*\.?\d*$/.test(Re))throw new Error('Invalid color "'+Re+'" passed to jsPDF.encodeColorString.')}if(typeof Re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Re)&&(Re="#"+Re[1]+Re[1]+Re[2]+Re[2]+Re[3]+Re[3]),typeof Re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Re)){var Cn=parseInt(Re.substr(1),16);Re=Cn>>16&255,Ve=Cn>>8&255,nt=255&Cn}if(Ve===void 0||Et===void 0&&Re===Ve&&Ve===nt)if(typeof Re=="string")oe=Re+" "+Dt[0];else switch(O.precision){case 2:oe=te(Re/255)+" "+Dt[0];break;case 3:default:oe=H(Re/255)+" "+Dt[0]}else if(Et===void 0||ti(Et)==="object"){if(Et&&!isNaN(Et.a)&&Et.a===0)return oe=["1.","1.","1.",Dt[1]].join(" ");if(typeof Re=="string")oe=[Re,Ve,nt,Dt[1]].join(" ");else switch(O.precision){case 2:oe=[te(Re/255),te(Ve/255),te(nt/255),Dt[1]].join(" ");break;default:case 3:oe=[H(Re/255),H(Ve/255),H(nt/255),Dt[1]].join(" ")}}else if(typeof Re=="string")oe=[Re,Ve,nt,Et,Dt[2]].join(" ");else switch(O.precision){case 2:oe=[te(Re),te(Ve),te(nt),te(Et),Dt[2]].join(" ");break;case 3:default:oe=[H(Re),H(Ve),H(nt),H(Et),Dt[2]].join(" ")}return oe},ot=y.__private__.getFilters=function(){return o},_t=y.__private__.putStream=function(O){var oe=(O=O||{}).data||"",Re=O.filters||ot(),Ve=O.alreadyAppliedFilters||[],nt=O.addLength1||!1,Et=oe.length,Dt=O.objectId,sn=function(ta){return ta};if(p!==null&&Dt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(sn=Hi.encryptor(Dt,0));var Cn={};Re===!0&&(Re=["FlateEncode"]);var Un=O.additionalKeyValues||[],Pn=(Cn=Hn.API.processDataByFilters!==void 0?Hn.API.processDataByFilters(oe,Re):{data:oe,reverseChain:[]}).reverseChain+(Array.isArray(Ve)?Ve.join(" "):Ve.toString());if(Cn.data.length!==0&&(Un.push({key:"Length",value:Cn.data.length}),nt===!0&&Un.push({key:"Length1",value:Et})),Pn.length!=0)if(Pn.split("/").length-1==1)Un.push({key:"Filter",value:Pn});else{Un.push({key:"Filter",value:"["+Pn+"]"});for(var or=0;or<Un.length;or+=1)if(Un[or].key==="DecodeParms"){for(var ci=[],zr=0;zr<Cn.reverseChain.split("/").length-1;zr+=1)ci.push("null");ci.push(Un[or].value),Un[or].value="["+ci.join(" ")+"]"}}fe("<<");for(var ui=0;ui<Un.length;ui++)fe("/"+Un[ui].key+" "+Un[ui].value);fe(">>"),Cn.data.length!==0&&(fe("stream"),fe(sn(Cn.data)),fe("endstream"))},at=y.__private__.putPage=function(O){var oe=O.number,Re=O.data,Ve=O.objId,nt=O.contentsObjId;he(Ve,!0),fe("<</Type /Page"),fe("/Parent "+O.rootDictionaryObjId+" 0 R"),fe("/Resources "+O.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(R(O.mediaBox.bottomLeftX))+" "+parseFloat(R(O.mediaBox.bottomLeftY))+" "+R(O.mediaBox.topRightX)+" "+R(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&fe("/CropBox ["+R(O.cropBox.bottomLeftX)+" "+R(O.cropBox.bottomLeftY)+" "+R(O.cropBox.topRightX)+" "+R(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&fe("/BleedBox ["+R(O.bleedBox.bottomLeftX)+" "+R(O.bleedBox.bottomLeftY)+" "+R(O.bleedBox.topRightX)+" "+R(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&fe("/TrimBox ["+R(O.trimBox.bottomLeftX)+" "+R(O.trimBox.bottomLeftY)+" "+R(O.trimBox.topRightX)+" "+R(O.trimBox.topRightY)+"]"),O.artBox!==null&&fe("/ArtBox ["+R(O.artBox.bottomLeftX)+" "+R(O.artBox.bottomLeftY)+" "+R(O.artBox.topRightX)+" "+R(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&fe("/UserUnit "+O.userUnit),Gn.publish("putPage",{objId:Ve,pageContext:Mn[oe],pageNumber:oe,page:Re}),fe("/Contents "+nt+" 0 R"),fe(">>"),fe("endobj");var Et=Re.join(`
`);return D===k.ADVANCED&&(Et+=`
Q`),he(nt,!0),_t({data:Et,filters:ot(),objectId:nt}),fe("endobj"),Ve},ft=y.__private__.putPages=function(){var O,oe,Re=[];for(O=1;O<=Or;O++)Mn[O].objId=Rr(),Mn[O].contentsObjId=Rr();for(O=1;O<=Or;O++)Re.push(at({number:O,data:pt[O],objId:Mn[O].objId,contentsObjId:Mn[O].contentsObjId,mediaBox:Mn[O].mediaBox,cropBox:Mn[O].cropBox,bleedBox:Mn[O].bleedBox,trimBox:Mn[O].trimBox,artBox:Mn[O].artBox,userUnit:Mn[O].userUnit,rootDictionaryObjId:je,resourceDictionaryObjId:Te}));he(je,!0),fe("<</Type /Pages");var Ve="/Kids [";for(oe=0;oe<Or;oe++)Ve+=Re[oe]+" 0 R ";fe(Ve+"]"),fe("/Count "+Or),fe(">>"),fe("endobj"),Gn.publish("postPutPages")},xt=function(O){Gn.publish("putFont",{font:O,out:fe,newObject:gr,putStream:_t}),O.isAlreadyPutted!==!0&&(O.objectNumber=gr(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Kf(O.postScriptName)),fe("/Subtype /Type1"),typeof O.encoding=="string"&&fe("/Encoding /"+O.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Ft=function(){for(var O in $t)$t.hasOwnProperty(O)&&(g===!1||g===!0&&w.hasOwnProperty(O))&&xt($t[O])},Wt=function(O){O.objectNumber=gr();var oe=[];oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Form"}),oe.push({key:"BBox",value:"["+[R(O.x),R(O.y),R(O.x+O.width),R(O.y+O.height)].join(" ")+"]"}),oe.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var Re=O.pages[1].join(`
`);_t({data:Re,additionalKeyValues:oe,objectId:O.objectNumber}),fe("endobj")},zt=function(){for(var O in hr)hr.hasOwnProperty(O)&&Wt(hr[O])},Yt=function(O,oe){var Re,Ve=[],nt=1/(oe-1);for(Re=0;Re<1;Re+=nt)Ve.push(Re);if(Ve.push(1),O[0].offset!=0){var Et={offset:0,color:O[0].color};O.unshift(Et)}if(O[O.length-1].offset!=1){var Dt={offset:1,color:O[O.length-1].color};O.push(Dt)}for(var sn="",Cn=0,Un=0;Un<Ve.length;Un++){for(Re=Ve[Un];Re>O[Cn+1].offset;)Cn++;var Pn=O[Cn].offset,or=(Re-Pn)/(O[Cn+1].offset-Pn),ci=O[Cn].color,zr=O[Cn+1].color;sn+=ne(Math.round((1-or)*ci[0]+or*zr[0]).toString(16))+ne(Math.round((1-or)*ci[1]+or*zr[1]).toString(16))+ne(Math.round((1-or)*ci[2]+or*zr[2]).toString(16))}return sn.trim()},Zt=function(O,oe){oe||(oe=21);var Re=gr(),Ve=Yt(O.colors,oe),nt=[];nt.push({key:"FunctionType",value:"0"}),nt.push({key:"Domain",value:"[0.0 1.0]"}),nt.push({key:"Size",value:"["+oe+"]"}),nt.push({key:"BitsPerSample",value:"8"}),nt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_t({data:Ve,additionalKeyValues:nt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Re}),fe("endobj"),O.objectNumber=gr(),fe("<< /ShadingType "+O.type),fe("/ColorSpace /DeviceRGB");var Et="/Coords ["+R(parseFloat(O.coords[0]))+" "+R(parseFloat(O.coords[1]))+" ";O.type===2?Et+=R(parseFloat(O.coords[2]))+" "+R(parseFloat(O.coords[3])):Et+=R(parseFloat(O.coords[2]))+" "+R(parseFloat(O.coords[3]))+" "+R(parseFloat(O.coords[4]))+" "+R(parseFloat(O.coords[5])),fe(Et+="]"),O.matrix&&fe("/Matrix ["+O.matrix.toString()+"]"),fe("/Function "+Re+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},On=function(O,oe){var Re=Rr(),Ve=gr();oe.push({resourcesOid:Re,objectOid:Ve}),O.objectNumber=Ve;var nt=[];nt.push({key:"Type",value:"/Pattern"}),nt.push({key:"PatternType",value:"1"}),nt.push({key:"PaintType",value:"1"}),nt.push({key:"TilingType",value:"1"}),nt.push({key:"BBox",value:"["+O.boundingBox.map(R).join(" ")+"]"}),nt.push({key:"XStep",value:R(O.xStep)}),nt.push({key:"YStep",value:R(O.yStep)}),nt.push({key:"Resources",value:Re+" 0 R"}),O.matrix&&nt.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),_t({data:O.stream,additionalKeyValues:nt,objectId:O.objectNumber}),fe("endobj")},Ct=function(O){var oe;for(oe in Nn)Nn.hasOwnProperty(oe)&&(Nn[oe]instanceof O0?Zt(Nn[oe]):Nn[oe]instanceof hh&&On(Nn[oe],O))},Mr=function(O){for(var oe in O.objectNumber=gr(),fe("<<"),O)switch(oe){case"opacity":fe("/ca "+te(O[oe]));break;case"stroke-opacity":fe("/CA "+te(O[oe]))}fe(">>"),fe("endobj")},Xn=function(){var O;for(O in jr)jr.hasOwnProperty(O)&&Mr(jr[O])},pa=function(){for(var O in fe("/XObject <<"),hr)hr.hasOwnProperty(O)&&hr[O].objectNumber>=0&&fe("/"+O+" "+hr[O].objectNumber+" 0 R");Gn.publish("putXobjectDict"),fe(">>")},co=function(){Hi.oid=gr(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Hi.v),fe("/R "+Hi.r),fe("/U <"+Hi.toHexString(Hi.U)+">"),fe("/O <"+Hi.toHexString(Hi.O)+">"),fe("/P "+Hi.P),fe(">>"),fe("endobj")},er=function(){for(var O in fe("/Font <<"),$t)$t.hasOwnProperty(O)&&(g===!1||g===!0&&w.hasOwnProperty(O))&&fe("/"+O+" "+$t[O].objectNumber+" 0 R");fe(">>")},Qn=function(){if(Object.keys(Nn).length>0){for(var O in fe("/Shading <<"),Nn)Nn.hasOwnProperty(O)&&Nn[O]instanceof O0&&Nn[O].objectNumber>=0&&fe("/"+O+" "+Nn[O].objectNumber+" 0 R");Gn.publish("putShadingPatternDict"),fe(">>")}},$n=function(O){if(Object.keys(Nn).length>0){for(var oe in fe("/Pattern <<"),Nn)Nn.hasOwnProperty(oe)&&Nn[oe]instanceof y.TilingPattern&&Nn[oe].objectNumber>=0&&Nn[oe].objectNumber<O&&fe("/"+oe+" "+Nn[oe].objectNumber+" 0 R");Gn.publish("putTilingPatternDict"),fe(">>")}},Ba=function(){if(Object.keys(jr).length>0){var O;for(O in fe("/ExtGState <<"),jr)jr.hasOwnProperty(O)&&jr[O].objectNumber>=0&&fe("/"+O+" "+jr[O].objectNumber+" 0 R");Gn.publish("putGStateDict"),fe(">>")}},si=function(O){he(O.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),er(),Qn(),$n(O.objectOid),Ba(),pa(),fe(">>"),fe("endobj")},Al=function(){var O=[];Ft(),Xn(),zt(),Ct(O),Gn.publish("putResources"),O.forEach(si),si({resourcesOid:Te,objectOid:Number.MAX_SAFE_INTEGER}),Gn.publish("postPutResources")},xi=function(){Gn.publish("putAdditionalObjects");for(var O=0;O<Ze.length;O++){var oe=Ze[O];he(oe.objId,!0),fe(oe.content),fe("endobj")}Gn.publish("postPutAdditionalObjects")},ls=function(O){nn[O.fontName]=nn[O.fontName]||{},nn[O.fontName][O.fontStyle]=O.id},eu=function(O,oe,Re,Ve,nt){var Et={id:"F"+(Object.keys($t).length+1).toString(10),postScriptName:O,fontName:oe,fontStyle:Re,encoding:Ve,isStandardFont:nt||!1,metadata:{}};return Gn.publish("addFont",{font:Et,instance:this}),$t[Et.id]=Et,ls(Et),Et.id},oi=function(O){for(var oe=0,Re=rt.length;oe<Re;oe++){var Ve=eu.call(this,O[oe][0],O[oe][1],O[oe][2],rt[oe][3],!0);g===!1&&(w[Ve]=!0);var nt=O[oe][0].split("-");ls({id:Ve,fontName:nt[0],fontStyle:nt[1]||""})}Gn.publish("addFonts",{fonts:$t,dictionary:nn})},Ei=function(O){return O.foo=function(){try{return O.apply(this,arguments)}catch(Ve){var oe=Ve.stack||"";~oe.indexOf(" at ")&&(oe=oe.split(" at ")[1]);var Re="Error in function "+oe.split(`
`)[0].split("<")[0]+": "+Ve.message;if(!Vn.console)throw new Error(Re);Vn.console.error(Re,Ve),Vn.alert&&alert(Re)}},O.foo.bar=O,O.foo},jl=function(O,oe){var Re,Ve,nt,Et,Dt,sn,Cn,Un,Pn;if(nt=(oe=oe||{}).sourceEncoding||"Unicode",Dt=oe.outputEncoding,(oe.autoencode||Dt)&&$t[Tn].metadata&&$t[Tn].metadata[nt]&&$t[Tn].metadata[nt].encoding&&(Et=$t[Tn].metadata[nt].encoding,!Dt&&$t[Tn].encoding&&(Dt=$t[Tn].encoding),!Dt&&Et.codePages&&(Dt=Et.codePages[0]),typeof Dt=="string"&&(Dt=Et[Dt]),Dt)){for(Cn=!1,sn=[],Re=0,Ve=O.length;Re<Ve;Re++)(Un=Dt[O.charCodeAt(Re)])?sn.push(String.fromCharCode(Un)):sn.push(O[Re]),sn[Re].charCodeAt(0)>>8&&(Cn=!0);O=sn.join("")}for(Re=O.length;Cn===void 0&&Re!==0;)O.charCodeAt(Re-1)>>8&&(Cn=!0),Re--;if(!Cn)return O;for(sn=oe.noBOM?[]:[254,255],Re=0,Ve=O.length;Re<Ve;Re++){if((Pn=(Un=O.charCodeAt(Re))>>8)>>8)throw new Error("Character at position "+Re+" of string '"+O+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");sn.push(Pn),sn.push(Un-(Pn<<8))}return String.fromCharCode.apply(void 0,sn)},qi=y.__private__.pdfEscape=y.pdfEscape=function(O,oe){return jl(O,oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sr=y.__private__.beginPage=function(O){pt[++Or]=[],Mn[Or]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},Ie(Or),it(pt[Z])},Mi=function(O,oe){var Re,Ve,nt;switch(n=oe||n,typeof O=="string"&&(Re=j(O.toLowerCase()),Array.isArray(Re)&&(Ve=Re[0],nt=Re[1])),Array.isArray(O)&&(Ve=O[0]*Kt,nt=O[1]*Kt),isNaN(Ve)&&(Ve=i[0],nt=i[1]),(Ve>14400||nt>14400)&&(wi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ve=Math.min(14400,Ve),nt=Math.min(14400,nt)),i=[Ve,nt],n.substr(0,1)){case"l":nt>Ve&&(i=[nt,Ve]);break;case"p":Ve>nt&&(i=[nt,Ve])}Sr(i),ma(Mo),fe(vi),Ni!==0&&fe(Ni+" J"),Pi!==0&&fe(Pi+" j"),Gn.publish("addPage",{pageNumber:Or})},lt=function(O){O>0&&O<=Or&&(pt.splice(O,1),Mn.splice(O,1),Or--,Z>Or&&(Z=Or),this.setPage(Z))},Ie=function(O){O>0&&O<=Or&&(Z=O)},_n=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return pt.length-1},gi=function(O,oe,Re){var Ve,nt=void 0;return Re=Re||{},O=O!==void 0?O:$t[Tn].fontName,oe=oe!==void 0?oe:$t[Tn].fontStyle,Ve=O.toLowerCase(),nn[Ve]!==void 0&&nn[Ve][oe]!==void 0?nt=nn[Ve][oe]:nn[O]!==void 0&&nn[O][oe]!==void 0?nt=nn[O][oe]:Re.disableWarning===!1&&wi.warn("Unable to look up font label for font '"+O+"', '"+oe+"'. Refer to getFontList() for available fonts."),nt||Re.noFallback||(nt=nn.times[oe])==null&&(nt=nn.times.normal),nt},ja=y.__private__.putInfo=function(){var O=gr(),oe=function(Ve){return Ve};for(var Re in p!==null&&(oe=Hi.encryptor(O,0)),fe("<<"),fe("/Producer ("+qi(oe("jsPDF "+Hn.version))+")"),Qt)Qt.hasOwnProperty(Re)&&Qt[Re]&&fe("/"+Re.substr(0,1).toUpperCase()+Re.substr(1)+" ("+qi(oe(Qt[Re]))+")");fe("/CreationDate ("+qi(oe(se))+")"),fe(">>"),fe("endobj")},uo=y.__private__.putCatalog=function(O){var oe=(O=O||{}).rootDictionaryObjId||je;switch(gr(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+oe+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Re=""+qe;Re.substr(Re.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+te(qe)+"]")}switch(Vt||(Vt="continuous"),Vt){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}et&&fe("/PageMode /"+et),Gn.publish("putCatalog"),fe(">>"),fe("endobj")},mc=y.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(ce+1)),fe("/Root "+ce+" 0 R"),fe("/Info "+(ce-1)+" 0 R"),p!==null&&fe("/Encrypt "+Hi.oid+" 0 R"),fe("/ID [ <"+ee+"> <"+ee+"> ]"),fe(">>")},Ua=y.__private__.putHeader=function(){fe("%PDF-"+E),fe("%")},jn=y.__private__.putXRef=function(){var O="0000000000";fe("xref"),fe("0 "+(ce+1)),fe("0000000000 65535 f ");for(var oe=1;oe<=ce;oe++)typeof be[oe]=="function"?fe((O+be[oe]()).slice(-10)+" 00000 n "):be[oe]!==void 0?fe((O+be[oe]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},Nr=y.__private__.buildDocument=function(){yt(),it(Fe),Gn.publish("buildDocument"),Ua(),ft(),xi(),Al(),p!==null&&co(),ja(),uo();var O=ze;return jn(),mc(),fe("startxref"),fe(""+O),fe("%%EOF"),it(pt[Z]),Fe.join(`
`)},il=y.__private__.getBlob=function(O){return new Blob([mt(O)],{type:"application/pdf"})},kl=y.output=y.__private__.output=Ei(function(O,oe){switch(typeof(oe=oe||{})=="string"?oe={filename:oe}:oe.filename=oe.filename||"generated.pdf",O){case void 0:return Nr();case"save":y.save(oe.filename);break;case"arraybuffer":return mt(Nr());case"blob":return il(Nr());case"bloburi":case"bloburl":if(Vn.URL!==void 0&&typeof Vn.URL.createObjectURL=="function")return Vn.URL&&Vn.URL.createObjectURL(il(Nr()))||void 0;wi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Re="",Ve=Nr();try{Re=yb(Ve)}catch{Re=yb(unescape(encodeURIComponent(Ve)))}return"data:application/pdf;filename="+oe.filename+";base64,"+Re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Vn)==="[object Window]"){var nt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';oe.pdfObjectUrl&&(nt=oe.pdfObjectUrl,Et="");var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+nt+'"'+Et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(oe)+");<\/script></body></html>",sn=Vn.open();return sn!==null&&sn.document.write(Dt),sn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Vn)==="[object Window]"){var Cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+oe.filename+'" width="500px" height="400px" /></body></html>',Un=Vn.open();if(Un!==null){Un.document.write(Cn);var Pn=this;Un.document.documentElement.querySelector("#pdfViewer").onload=function(){Un.document.title=oe.filename,Un.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pn.output("bloburl"))}}return Un}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Vn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var or='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",oe)+'"></iframe></body></html>',ci=Vn.open();if(ci!==null&&(ci.document.write(or),ci.document.title=oe.filename),ci||typeof safari>"u")return ci;break;case"datauri":case"dataurl":return Vn.document.location.href=this.output("datauristring",oe);default:return null}}),Tl=function(O){return Array.isArray(qs)===!0&&qs.indexOf(O)>-1};switch(r){case"pt":Kt=1;break;case"mm":Kt=72/25.4;break;case"cm":Kt=72/2.54;break;case"in":Kt=72;break;case"px":Kt=Tl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Kt=12;break;case"ex":Kt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Kt=r}var Hi=null;ct(),ge();var tu=function(O){return p!==null?Hi.encryptor(O,0):function(oe){return oe}},Ju=y.__private__.getPageInfo=y.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mn[O].objId,pageNumber:O,pageContext:Mn[O]}},pn=y.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var oe in Mn)if(Mn[oe].objId===O)break;return Ju(oe)},Ll=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Mn[Z].objId,pageNumber:Z,pageContext:Mn[Z]}};y.addPage=function(){return Mi.apply(this,arguments),this},y.setPage=function(){return Ie.apply(this,arguments),it.call(this,pt[Z]),this},y.insertPage=function(O){return this.addPage(),this.movePage(Z,O),this},y.movePage=function(O,oe){var Re,Ve;if(O>oe){Re=pt[O],Ve=Mn[O];for(var nt=O;nt>oe;nt--)pt[nt]=pt[nt-1],Mn[nt]=Mn[nt-1];pt[oe]=Re,Mn[oe]=Ve,this.setPage(oe)}else if(O<oe){Re=pt[O],Ve=Mn[O];for(var Et=O;Et<oe;Et++)pt[Et]=pt[Et+1],Mn[Et]=Mn[Et+1];pt[oe]=Re,Mn[oe]=Ve,this.setPage(oe)}return this},y.deletePage=function(){return lt.apply(this,arguments),this},y.__private__.text=y.text=function(O,oe,Re,Ve,nt){var Et,Dt,sn,Cn,Un,Pn,or,ci,zr,ui=(Ve=Ve||{}).scope||this;if(typeof O=="number"&&typeof oe=="number"&&(typeof Re=="string"||Array.isArray(Re))){var ta=Re;Re=oe,oe=O,O=ta}if(arguments[3]instanceof vn?(B("The transform parameter of text() with a Matrix value"),zr=nt):(sn=arguments[4],Cn=arguments[5],ti(or=arguments[3])==="object"&&or!==null||(typeof sn=="string"&&(Cn=sn,sn=null),typeof or=="string"&&(Cn=or,or=null),typeof or=="number"&&(sn=or,or=null),Ve={flags:or,angle:sn,align:Cn})),isNaN(oe)||isNaN(Re)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return ui;var _i="",Cs=!1,_r=typeof Ve.lineHeightFactor=="number"?Ve.lineHeightFactor:al,Ha=ui.internal.scaleFactor;function Vi(qr){return qr=qr.split("	").join(Array(Ve.TabLen||9).join(" ")),qi(qr,or)}function Dl(qr){for(var fi,$i=qr.concat(),ga=[],xo=$i.length;xo--;)typeof(fi=$i.shift())=="string"?ga.push(fi):Array.isArray(qr)&&(fi.length===1||fi[1]===void 0&&fi[2]===void 0)?ga.push(fi[0]):ga.push([fi[0],fi[1],fi[2]]);return ga}function Va(qr,fi){var $i;if(typeof qr=="string")$i=fi(qr)[0];else if(Array.isArray(qr)){for(var ga,xo,go=qr.concat(),Ml=[],m0=go.length;m0--;)typeof(ga=go.shift())=="string"?Ml.push(fi(ga)[0]):Array.isArray(ga)&&typeof ga[0]=="string"&&(xo=fi(ga[0],ga[1],ga[2]),Ml.push([xo[0],xo[1],xo[2]]));$i=Ml}return $i}var vc=!1,Ol=!0;if(typeof O=="string")vc=!0;else if(Array.isArray(O)){var ou=O.concat();Dt=[];for(var Rl,$r=ou.length;$r--;)(typeof(Rl=ou.shift())!="string"||Array.isArray(Rl)&&typeof Rl[0]!="string")&&(Ol=!1);vc=Ol}if(vc===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var Hs=Ee/ui.internal.scaleFactor,sl=Hs*(_r-1);switch(Ve.baseline){case"bottom":Re-=sl;break;case"top":Re+=Hs-sl;break;case"hanging":Re+=Hs-2*sl;break;case"middle":Re+=Hs/2-sl}if((Pn=Ve.maxWidth||0)>0&&(typeof O=="string"?O=ui.splitTextToSize(O,Pn):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(qr,fi){return qr.concat(ui.splitTextToSize(fi,Pn))},[]))),Et={text:O,x:oe,y:Re,options:Ve,mutex:{pdfEscape:qi,activeFontKey:Tn,fonts:$t,activeFontSize:Ee}},Gn.publish("preProcessText",Et),O=Et.text,sn=(Ve=Et.options).angle,!(zr instanceof vn)&&sn&&typeof sn=="number"){sn*=Math.PI/180,Ve.rotationDirection===0&&(sn=-sn),D===k.ADVANCED&&(sn=-sn);var mo=Math.cos(sn),tr=Math.sin(sn);zr=new vn(mo,tr,-tr,mo,0,0)}else sn&&sn instanceof vn&&(zr=sn);D!==k.ADVANCED||zr||(zr=Oi),(Un=Ve.charSpace||gt)!==void 0&&(_i+=R(W(Un))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ci=Ve.horizontalScale)!==void 0&&(_i+=R(100*ci)+` Tz
`),Ve.lang;var na=-1,re=Ve.renderingMode!==void 0?Ve.renderingMode:Ve.stroke,l=ui.internal.getCurrentPageInfo().pageContext;switch(re){case 0:case!1:case"fill":na=0;break;case 1:case!0:case"stroke":na=1;break;case 2:case"fillThenStroke":na=2;break;case 3:case"invisible":na=3;break;case 4:case"fillAndAddForClipping":na=4;break;case 5:case"strokeAndAddPathForClipping":na=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":na=6;break;case 7:case"addToPathForClipping":na=7}var d=l.usedRenderingMode!==void 0?l.usedRenderingMode:-1;na!==-1?_i+=na+` Tr
`:d!==-1&&(_i+=`0 Tr
`),na!==-1&&(l.usedRenderingMode=na),Cn=Ve.align||"left";var h,x=Ee*_r,v=ui.internal.pageSize.getWidth(),N=$t[Tn];Un=Ve.charSpace||gt,Pn=Ve.maxWidth||0,or=Object.assign({autoencode:!0,noBOM:!0},Ve.flags);var C=[],I=function(qr){return ui.getStringUnitWidth(qr,{font:N,charSpace:Un,fontSize:Ee,doKerning:!1})*Ee/Ha};if(Object.prototype.toString.call(O)==="[object Array]"){var M;Dt=Dl(O),Cn!=="left"&&(h=Dt.map(I));var X,ie=0;if(Cn==="right"){oe-=h[0],O=[],$r=Dt.length;for(var me=0;me<$r;me++)me===0?(X=Ss(oe),M=za(Re)):(X=W(ie-h[me]),M=-x),O.push([Dt[me],X,M]),ie=h[me]}else if(Cn==="center"){oe-=h[0]/2,O=[],$r=Dt.length;for(var De=0;De<$r;De++)De===0?(X=Ss(oe),M=za(Re)):(X=W((ie-h[De])/2),M=-x),O.push([Dt[De],X,M]),ie=h[De]}else if(Cn==="left"){O=[],$r=Dt.length;for(var de=0;de<$r;de++)O.push(Dt[de])}else if(Cn==="justify"&&N.encoding==="Identity-H"){O=[],$r=Dt.length,Pn=Pn!==0?Pn:v;for(var Ne=0,Ce=0;Ce<$r;Ce++)if(M=Ce===0?za(Re):-x,X=Ce===0?Ss(oe):Ne,Ce<$r-1){var $e=W((Pn-h[Ce])/(Dt[Ce].split(" ").length-1)),vt=Dt[Ce].split(" ");O.push([vt[0]+" ",X,M]),Ne=0;for(var jt=1;jt<vt.length;jt++){var Lt=(I(vt[jt-1]+" "+vt[jt])-I(vt[jt]))*Ha+$e;jt==vt.length-1?O.push([vt[jt],Lt,0]):O.push([vt[jt]+" ",Lt,0]),Ne-=Lt}}else O.push([Dt[Ce],X,M]);O.push(["",Ne,0])}else{if(Cn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],$r=Dt.length,Pn=Pn!==0?Pn:v,Ce=0;Ce<$r;Ce++)M=Ce===0?za(Re):-x,X=Ce===0?Ss(oe):0,Ce<$r-1?C.push(R(W((Pn-h[Ce])/(Dt[Ce].split(" ").length-1)))):C.push(0),O.push([Dt[Ce],X,M])}}var un=typeof Ve.R2L=="boolean"?Ve.R2L:Nt;un===!0&&(O=Va(O,function(qr,fi,$i){return[qr.split("").reverse().join(""),fi,$i]})),Et={text:O,x:oe,y:Re,options:Ve,mutex:{pdfEscape:qi,activeFontKey:Tn,fonts:$t,activeFontSize:Ee}},Gn.publish("postProcessText",Et),O=Et.text,Cs=Et.mutex.isHex||!1;var Rn=$t[Tn].encoding;Rn!=="WinAnsiEncoding"&&Rn!=="StandardEncoding"||(O=Va(O,function(qr,fi,$i){return[Vi(qr),fi,$i]})),Dt=Dl(O),O=[];for(var Fi,Pr,di,wr=0,Wr=1,Si=Array.isArray(Dt[0])?Wr:wr,Ta="",rr=function(qr,fi,$i){var ga="";return $i instanceof vn?($i=typeof Ve.angle=="number"?Fa($i,new vn(1,0,0,1,qr,fi)):Fa(new vn(1,0,0,1,qr,fi),$i),D===k.ADVANCED&&($i=Fa(new vn(1,0,0,-1,0,0),$i)),ga=$i.join(" ")+` Tm
`):ga=R(qr)+" "+R(fi)+` Td
`,ga},Es=0;Es<Dt.length;Es++){switch(Ta="",Si){case Wr:di=(Cs?"<":"(")+Dt[Es][0]+(Cs?">":")"),Fi=parseFloat(Dt[Es][1]),Pr=parseFloat(Dt[Es][2]);break;case wr:di=(Cs?"<":"(")+Dt[Es]+(Cs?">":")"),Fi=Ss(oe),Pr=za(Re)}C!==void 0&&C[Es]!==void 0&&(Ta=C[Es]+` Tw
`),Es===0?O.push(Ta+rr(Fi,Pr,zr)+di):Si===wr?O.push(Ta+di):Si===Wr&&O.push(Ta+rr(Fi,Pr,zr)+di)}O=Si===wr?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var us=`BT
/`;return us+=Tn+" "+Ee+` Tf
`,us+=R(Ee*_r)+` TL
`,us+=Wa+`
`,us+=_i,us+=O,fe(us+="ET"),w[Tn]=!0,ui};var fo=y.__private__.clip=y.clip=function(O){return fe(O==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return fo("evenodd")},y.__private__.discardPath=y.discardPath=function(){return fe("n"),this};var Sn=y.__private__.isValidStyle=function(O){var oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(oe=!0),oe};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(O){return Sn(O)&&(f=O),this};var ed=y.__private__.getStyle=y.getStyle=function(O){var oe=f;switch(O){case"D":case"S":oe="S";break;case"F":oe="f";break;case"FD":case"DF":oe="B";break;case"f":case"f*":case"B":case"B*":oe=O}return oe},qn=y.close=function(){return fe("h"),this};y.stroke=function(){return fe("S"),this},y.fill=function(O){return bi("f",O),this},y.fillEvenOdd=function(O){return bi("f*",O),this},y.fillStroke=function(O){return bi("B",O),this},y.fillStrokeEvenOdd=function(O){return bi("B*",O),this};var bi=function(O,oe){ti(oe)==="object"?td(oe,O):fe(O)},nu=function(O){O===null||D===k.ADVANCED&&O===void 0||(O=ed(O),fe(O))};function ru(O,oe,Re,Ve,nt){var Et=new hh(oe||this.boundingBox,Re||this.xStep,Ve||this.yStep,this.gState,nt||this.matrix);Et.stream=this.stream;var Dt=O+"$$"+this.cloneIndex+++"$$";return Ri(Dt,Et),Et}var td=function(O,oe){var Re=yi[O.key],Ve=Nn[Re];if(Ve instanceof O0)fe("q"),fe(Ro(oe)),Ve.gState&&y.setGState(Ve.gState),fe(O.matrix.toString()+" cm"),fe("/"+Re+" sh"),fe("Q");else if(Ve instanceof hh){var nt=new vn(1,0,0,-1,0,ka());O.matrix&&(nt=nt.multiply(O.matrix||Oi),Re=ru.call(Ve,O.key,O.boundingBox,O.xStep,O.yStep,nt).id),fe("q"),fe("/Pattern cs"),fe("/"+Re+" scn"),Ve.gState&&y.setGState(Ve.gState),fe(oe),fe("Q")}},Ro=function(O){switch(O){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},kr=y.moveTo=function(O,oe){return fe(R(W(O))+" "+R(ue(oe))+" m"),this},ur=y.lineTo=function(O,oe){return fe(R(W(O))+" "+R(ue(oe))+" l"),this},_s=y.curveTo=function(O,oe,Re,Ve,nt,Et){return fe([R(W(O)),R(ue(oe)),R(W(Re)),R(ue(Ve)),R(W(nt)),R(ue(Et)),"c"].join(" ")),this};y.__private__.line=y.line=function(O,oe,Re,Ve,nt){if(isNaN(O)||isNaN(oe)||isNaN(Re)||isNaN(Ve)||!Sn(nt))throw new Error("Invalid arguments passed to jsPDF.line");return D===k.COMPAT?this.lines([[Re-O,Ve-oe]],O,oe,[1,1],nt||"S"):this.lines([[Re-O,Ve-oe]],O,oe,[1,1]).stroke()},y.__private__.lines=y.lines=function(O,oe,Re,Ve,nt,Et){var Dt,sn,Cn,Un,Pn,or,ci,zr,ui,ta,_i,Cs;if(typeof O=="number"&&(Cs=Re,Re=oe,oe=O,O=Cs),Ve=Ve||[1,1],Et=Et||!1,isNaN(oe)||isNaN(Re)||!Array.isArray(O)||!Array.isArray(Ve)||!Sn(nt)||typeof Et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(kr(oe,Re),Dt=Ve[0],sn=Ve[1],Un=O.length,ta=oe,_i=Re,Cn=0;Cn<Un;Cn++)(Pn=O[Cn]).length===2?(ta=Pn[0]*Dt+ta,_i=Pn[1]*sn+_i,ur(ta,_i)):(or=Pn[0]*Dt+ta,ci=Pn[1]*sn+_i,zr=Pn[2]*Dt+ta,ui=Pn[3]*sn+_i,ta=Pn[4]*Dt+ta,_i=Pn[5]*sn+_i,_s(or,ci,zr,ui,ta,_i));return Et&&qn(),nu(nt),this},y.path=function(O){for(var oe=0;oe<O.length;oe++){var Re=O[oe],Ve=Re.c;switch(Re.op){case"m":kr(Ve[0],Ve[1]);break;case"l":ur(Ve[0],Ve[1]);break;case"c":_s.apply(this,Ve);break;case"h":qn()}}return this},y.__private__.rect=y.rect=function(O,oe,Re,Ve,nt){if(isNaN(O)||isNaN(oe)||isNaN(Re)||isNaN(Ve)||!Sn(nt))throw new Error("Invalid arguments passed to jsPDF.rect");return D===k.COMPAT&&(Ve=-Ve),fe([R(W(O)),R(ue(oe)),R(W(Re)),R(W(Ve)),"re"].join(" ")),nu(nt),this},y.__private__.triangle=y.triangle=function(O,oe,Re,Ve,nt,Et,Dt){if(isNaN(O)||isNaN(oe)||isNaN(Re)||isNaN(Ve)||isNaN(nt)||isNaN(Et)||!Sn(Dt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Re-O,Ve-oe],[nt-Re,Et-Ve],[O-nt,oe-Et]],O,oe,[1,1],Dt,!0),this},y.__private__.roundedRect=y.roundedRect=function(O,oe,Re,Ve,nt,Et,Dt){if(isNaN(O)||isNaN(oe)||isNaN(Re)||isNaN(Ve)||isNaN(nt)||isNaN(Et)||!Sn(Dt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var sn=4/3*(Math.SQRT2-1);return nt=Math.min(nt,.5*Re),Et=Math.min(Et,.5*Ve),this.lines([[Re-2*nt,0],[nt*sn,0,nt,Et-Et*sn,nt,Et],[0,Ve-2*Et],[0,Et*sn,-nt*sn,Et,-nt,Et],[2*nt-Re,0],[-nt*sn,0,-nt,-Et*sn,-nt,-Et],[0,2*Et-Ve],[0,-Et*sn,nt*sn,-Et,nt,-Et]],O+nt,oe,[1,1],Dt,!0),this},y.__private__.ellipse=y.ellipse=function(O,oe,Re,Ve,nt){if(isNaN(O)||isNaN(oe)||isNaN(Re)||isNaN(Ve)||!Sn(nt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Et=4/3*(Math.SQRT2-1)*Re,Dt=4/3*(Math.SQRT2-1)*Ve;return kr(O+Re,oe),_s(O+Re,oe-Dt,O+Et,oe-Ve,O,oe-Ve),_s(O-Et,oe-Ve,O-Re,oe-Dt,O-Re,oe),_s(O-Re,oe+Dt,O-Et,oe+Ve,O,oe+Ve),_s(O+Et,oe+Ve,O+Re,oe+Dt,O+Re,oe),nu(nt),this},y.__private__.circle=y.circle=function(O,oe,Re,Ve){if(isNaN(O)||isNaN(oe)||isNaN(Re)||!Sn(Ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,oe,Re,Re,Ve)},y.setFont=function(O,oe,Re){return Re&&(oe=z(oe,Re)),Tn=gi(O,oe,{disableWarning:!1}),this};var Il=y.__private__.getFont=y.getFont=function(){return $t[gi.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var O,oe,Re={};for(O in nn)if(nn.hasOwnProperty(O))for(oe in Re[O]=[],nn[O])nn[O].hasOwnProperty(oe)&&Re[O].push(oe);return Re},y.addFont=function(O,oe,Re,Ve,nt){var Et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Et.indexOf(arguments[3])!==-1?nt=arguments[3]:arguments[3]&&Et.indexOf(arguments[3])==-1&&(Re=z(Re,Ve)),nt=nt||"Identity-H",eu.call(this,O,oe,Re,nt)};var al,Mo=e.lineWidth||.200025,ho=y.__private__.getLineWidth=y.getLineWidth=function(){return Mo},ma=y.__private__.setLineWidth=y.setLineWidth=function(O){return Mo=O,fe(R(W(O))+" w"),this};y.__private__.setLineDash=Hn.API.setLineDash=Hn.API.setLineDashPattern=function(O,oe){if(O=O||[],oe=oe||0,isNaN(oe)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(Re){return R(W(Re))}).join(" "),oe=R(W(oe)),fe("["+O+"] "+oe+" d"),this};var xc=y.__private__.getLineHeight=y.getLineHeight=function(){return Ee*al};y.__private__.getLineHeight=y.getLineHeight=function(){return Ee*al};var iu=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(al=O),this},Ai=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return al};iu(e.lineHeight);var Ss=y.__private__.getHorizontalCoordinate=function(O){return W(O)},za=y.__private__.getVerticalCoordinate=function(O){return D===k.ADVANCED?O:Mn[Z].mediaBox.topRightY-Mn[Z].mediaBox.bottomLeftY-W(O)},nd=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(O){return R(Ss(O))},sr=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(O){return R(za(O))},vi=e.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Oe(vi)},y.__private__.setStrokeColor=y.setDrawColor=function(O,oe,Re,Ve){return vi=Pe({ch1:O,ch2:oe,ch3:Re,ch4:Ve,pdfColorType:"draw",precision:2}),fe(vi),this};var Po=e.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Oe(Po)},y.__private__.setFillColor=y.setFillColor=function(O,oe,Re,Ve){return Po=Pe({ch1:O,ch2:oe,ch3:Re,ch4:Ve,pdfColorType:"fill",precision:2}),fe(Po),this};var Wa=e.textColor||"0 g",rd=y.__private__.getTextColor=y.getTextColor=function(){return Oe(Wa)};y.__private__.setTextColor=y.setTextColor=function(O,oe,Re,Ve){return Wa=Pe({ch1:O,ch2:oe,ch3:Re,ch4:Ve,pdfColorType:"text",precision:3}),this};var gt=e.charSpace,Kn=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(gt||0)};y.__private__.setCharSpace=y.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return gt=O,this};var Ni=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(O){var oe=y.CapJoinStyles[O];if(oe===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ni=oe,fe(oe+" J"),this};var Pi=0;y.__private__.setLineJoin=y.setLineJoin=function(O){var oe=y.CapJoinStyles[O];if(oe===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pi=oe,fe(oe+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(R(W(O))+" M"),this},y.GState=fg,y.setGState=function(O){(O=typeof O=="string"?jr[Bn[O]]:au(null,O)).equals(ea)||(fe("/"+O.id+" gs"),ea=O)};var au=function(O,oe){if(!O||!Bn[O]){var Re=!1;for(var Ve in jr)if(jr.hasOwnProperty(Ve)&&jr[Ve].equals(oe)){Re=!0;break}if(Re)oe=jr[Ve];else{var nt="GS"+(Object.keys(jr).length+1).toString(10);jr[nt]=oe,oe.id=nt}return O&&(Bn[O]=oe.id),Gn.publish("addGState",oe),oe}};y.addGState=function(O,oe){return au(O,oe),this},y.saveGraphicsState=function(){return fe("q"),Dn.push({key:Tn,size:Ee,color:Wa}),this},y.restoreGraphicsState=function(){fe("Q");var O=Dn.pop();return Tn=O.key,Ee=O.size,Wa=O.color,ea=null,this},y.setCurrentTransformationMatrix=function(O){return fe(O.toString()+" cm"),this},y.comment=function(O){return fe("#"+O),this};var xa=function(O,oe){var Re=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Re},set:function(Et){isNaN(Et)||(Re=parseFloat(Et))}});var Ve=oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ve},set:function(Et){isNaN(Et)||(Ve=parseFloat(Et))}});var nt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return nt},set:function(Et){nt=Et.toString()}}),this},su=function(O,oe,Re,Ve){xa.call(this,O,oe),this.type="rect";var nt=Re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return nt},set:function(Dt){isNaN(Dt)||(nt=parseFloat(Dt))}});var Et=Ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Et},set:function(Dt){isNaN(Dt)||(Et=parseFloat(Dt))}}),this},gc=function(){this.page=Or,this.currentPage=Z,this.pages=pt.slice(0),this.pagesContext=Mn.slice(0),this.x=Dr,this.y=hn,this.matrix=Ue,this.width=In(Z),this.height=ka(Z),this.outputDestination=Ye,this.id="",this.objectNumber=-1};gc.prototype.restore=function(){Or=this.page,Z=this.currentPage,Mn=this.pagesContext,pt=this.pages,Dr=this.x,hn=this.y,Ue=this.matrix,qa(Z,this.width),Cr(Z,this.height),Ye=this.outputDestination};var cs=function(O,oe,Re,Ve,nt){Pa.push(new gc),Or=Z=0,pt=[],Dr=O,hn=oe,Ue=nt,Sr([Re,Ve])},li=function(O){if(ha[O])Pa.pop().restore();else{var oe=new gc,Re="Xo"+(Object.keys(hr).length+1).toString(10);oe.id=Re,ha[O]=Re,hr[Re]=oe,Gn.publish("addFormObject",oe),Pa.pop().restore()}};for(var po in y.beginFormObject=function(O,oe,Re,Ve,nt){return cs(O,oe,Re,Ve,nt),this},y.endFormObject=function(O){return li(O),this},y.doFormObject=function(O,oe){var Re=hr[ha[O]];return fe("q"),fe(oe.toString()+" cm"),fe("/"+Re.id+" Do"),fe("Q"),this},y.getFormObject=function(O){var oe=hr[ha[O]];return{x:oe.x,y:oe.y,width:oe.width,height:oe.height,matrix:oe.matrix}},y.save=function(O,oe){return O=O||"generated.pdf",(oe=oe||{}).returnPromise=oe.returnPromise||!1,oe.returnPromise===!1?(I0(il(Nr()),O),typeof I0.unload=="function"&&Vn.setTimeout&&setTimeout(I0.unload,911),this):new Promise(function(Re,Ve){try{var nt=I0(il(Nr()),O);typeof I0.unload=="function"&&Vn.setTimeout&&setTimeout(I0.unload,911),Re(nt)}catch(Et){Ve(Et.message)}})},Hn.API)Hn.API.hasOwnProperty(po)&&(po==="events"&&Hn.API.events.length?function(O,oe){var Re,Ve,nt;for(nt=oe.length-1;nt!==-1;nt--)Re=oe[nt][0],Ve=oe[nt][1],O.subscribe.apply(O,[Re].concat(typeof Ve=="function"?[Ve]:Ve))}(Gn,Hn.API.events):y[po]=Hn.API[po]);var In=y.getPageWidth=function(O){return(Mn[O=O||Z].mediaBox.topRightX-Mn[O].mediaBox.bottomLeftX)/Kt},qa=y.setPageWidth=function(O,oe){Mn[O].mediaBox.topRightX=oe*Kt+Mn[O].mediaBox.bottomLeftX},ka=y.getPageHeight=function(O){return(Mn[O=O||Z].mediaBox.topRightY-Mn[O].mediaBox.bottomLeftY)/Kt},Cr=y.setPageHeight=function(O,oe){Mn[O].mediaBox.topRightY=oe*Kt+Mn[O].mediaBox.bottomLeftY};return y.internal={pdfEscape:qi,getStyle:ed,getFont:Il,getFontSize:Le,getCharSpace:Kn,getTextColor:rd,getLineHeight:xc,getLineHeightFactor:Ai,getLineWidth:ho,write:He,getHorizontalCoordinate:Ss,getVerticalCoordinate:za,getCoordinateString:nd,getVerticalCoordinateString:sr,collections:{},newObject:gr,newAdditionalObject:ye,newObjectDeferred:Rr,newObjectDeferredBegin:he,getFilters:ot,putStream:_t,events:Gn,scaleFactor:Kt,pageSize:{getWidth:function(){return In(Z)},setWidth:function(O){qa(Z,O)},getHeight:function(){return ka(Z)},setHeight:function(O){Cr(Z,O)}},encryptionOptions:p,encryption:Hi,getEncryptor:tu,output:kl,getNumberOfPages:_n,pages:pt,out:fe,f2:te,f3:H,getPageInfo:Ju,getPageInfoByObjId:pn,getCurrentPageInfo:Ll,getPDFVersion:S,Point:xa,Rectangle:su,Matrix:vn,hasHotfix:Tl},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return In(Z)},set:function(O){qa(Z,O)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return ka(Z)},set:function(O){Cr(Z,O)},enumerable:!0,configurable:!0}),oi.call(y,rt),Tn="F1",Mi(i,n),Gn.publish("initialized"),y}Xf.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Xf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xf.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Xf.prototype.processOwnerPassword=function(e,t){return Nb(bb(t).substr(0,5),e)},Xf.prototype.encryptor=function(e,t){var n=bb(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Nb(n,r)}},fg.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||ti(e)!==ti(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Hn.API={events:[]},Hn.version="3.0.1";var sa=Hn.API,N3=1,xf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jn=function(e){return e.toFixed(2)},Ed=function(e){return e.toFixed(5)};sa.__acroform__={};var Oo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},uS=function(e){return e*N3},Oc=function(e){var t=new Dk,n=bn.internal.getHeight(e)||0,r=bn.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Jn(r)),Number(Jn(n))],t},nQ=sa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},rQ=sa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},iQ=sa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Na=sa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return iQ(e,t-1)},_a=sa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nQ(e,t-1)},Sa=sa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rQ(e,t-1)},aQ=sa.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],c=e[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(a+c)||0,u.upperRight_X=n(i+o)||0,u.upperRight_Y=r(a)||0,[Number(Jn(u.lowerLeft_X)),Number(Jn(u.lowerLeft_Y)),Number(Jn(u.upperRight_X)),Number(Jn(u.upperRight_Y))]},sQ=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=_b(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Jn(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Oc(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},_b=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(H){return H.split(`
`)}):i.map(function(H){return[H]});var a=n,o=bn.internal.getHeight(e)||0;o=o<0?-o:o;var c=bn.internal.getWidth(e)||0;c=c<0?-c:c;var u=function(H,W,J){if(H+1<i.length){var ue=W+" "+i[H+1][0];return Ax(ue,e,J).width<=c-4}return!1};a++;e:for(;a>0;){t="",a--;var f,p,g=Ax("3",e,a).height,w=e.multiline?o-a:(o-g)/2,y=w+=2,E=0,S=0,A=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ax(t,e,a=12).width+", FieldWidth:"+c+`
`;break}for(var j="",k=0,D=0;D<i.length;D++)if(i.hasOwnProperty(D)){var P=!1;if(i[D].length!==1&&A!==i[D].length-1){if((g+2)*(k+2)+2>o)continue e;j+=i[D][A],P=!0,S=D,D--}else{j=(j+=i[D][A]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var Y=parseInt(D),z=u(Y,j,a),R=D>=i.length-1;if(z&&!R){j+=" ",A=0;continue}if(z||R){if(R)S=Y;else if(e.multiline&&(g+2)*(k+2)+2>o)continue e}else{if(!e.multiline||(g+2)*(k+2)+2>o)continue e;S=Y}}for(var B="",q=E;q<=S;q++){var te=i[q];if(e.multiline){if(q===S){B+=te[A]+" ",A=(A+1)%te.length;continue}if(q===E){B+=te[te.length-1]+" ";continue}}B+=te[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,p=Ax(B,e,a).width,e.textAlign){case"right":f=c-p-2;break;case"center":f=(c-p)/2;break;case"left":default:f=2}t+=Jn(f)+" "+Jn(y)+` Td
`,t+="("+xf(B)+`) Tj
`,t+=-Jn(f)+` 0 Td
`,y=-(a+2),p=0,E=P?S:S+1,k++,j=""}break}return r.text=t,r.fontSize=a,r},Ax=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},oQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lQ=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},cQ=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),ti(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},uQ=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(hc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(oQ)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");N3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Ok,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&lQ(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var c=r[o],u=[],f=c.Rect;if(c.Rect&&(c.Rect=aQ(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=bn.createDefaultAppearanceStream(c),ti(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=sQ(c);u.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var g="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var y=c.appearanceStreamContent[w];if(g+="/"+w+" ",g+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var o in y)if(y.hasOwnProperty(o)){var E=y[o];typeof E=="function"&&(E=E.call(i,c)),g+="/"+o+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=y)=="function"&&(E=E.call(i,c)),g+="/"+o+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:c.objId}),i.internal.out("endobj")}a&&cQ(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Ik=sa.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),ti(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+xf(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},wy=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+xf(r(e))+")"},Vc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vc.prototype.toString=function(){return this.objId+" 0 R"},Vc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Vc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:Ik(i,this.objId,this.scope)}):i instanceof Vc?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var Dk=function(){Vc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Oo(Dk,Vc);var Ok=function(){Vc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+xf(n(e))+")"}},set:function(n){e=n}})};Oo(Ok,Vc);var hc=function e(){Vc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Na(t,3)},set:function(j){j?this.F=_a(t,3):this.F=Sa(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');n=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof hg)return;a="FieldObject"+e.FieldNum++}var j=function(k){return k};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+xf(j(a))+")"},set:function(j){a=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(j){a=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/N3:f},set:function(j){f=j}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(j){p=j}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof hg||this instanceof X0))return wy(g,this.objId,this.scope)},set:function(j){j=j.toString(),g=j}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ts?w:wy(w,this.objId,this.scope)},set:function(j){j=j.toString(),w=this instanceof ts?j:j.substr(0,1)==="("?Wf(j.substr(1,j.length-2)):Wf(j)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ts?Wf(w.substr(1,w.length-1)):w},set:function(j){j=j.toString(),w=this instanceof ts?"/"+j:j}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ts?y:wy(y,this.objId,this.scope)},set:function(j){j=j.toString(),y=this instanceof ts?j:j.substr(0,1)==="("?Wf(j.substr(1,j.length-2)):Wf(j)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ts?Wf(y.substr(1,y.length-1)):y},set:function(j){j=j.toString(),y=this instanceof ts?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(j){j=!!j,S=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(j){E=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,1)},set:function(j){j?this.Ff=_a(this.Ff,1):this.Ff=Sa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,2)},set:function(j){j?this.Ff=_a(this.Ff,2):this.Ff=Sa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,3)},set:function(j){j?this.Ff=_a(this.Ff,3):this.Ff=Sa(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');A=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(A){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Oo(hc,Vc);var _h=function(){hc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ik(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,c){c||(c=1);for(var u,f=[];u=o.exec(a);)f.push(u[c]);return f}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,18)},set:function(n){n?this.Ff=_a(this.Ff,18):this.Ff=Sa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=_a(this.Ff,19):this.Ff=Sa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,20)},set:function(n){n?(this.Ff=_a(this.Ff,20),t.sort()):this.Ff=Sa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,22)},set:function(n){n?this.Ff=_a(this.Ff,22):this.Ff=Sa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,23)},set:function(n){n?this.Ff=_a(this.Ff,23):this.Ff=Sa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,27)},set:function(n){n?this.Ff=_a(this.Ff,27):this.Ff=Sa(this.Ff,27)}}),this.hasAppearanceStream=!1};Oo(_h,hc);var Sh=function(){_h.call(this),this.fontName="helvetica",this.combo=!1};Oo(Sh,_h);var Ch=function(){Sh.call(this),this.combo=!0};Oo(Ch,Sh);var c2=function(){Ch.call(this),this.edit=!0};Oo(c2,Ch);var ts=function(){hc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,15)},set:function(n){n?this.Ff=_a(this.Ff,15):this.Ff=Sa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,16)},set:function(n){n?this.Ff=_a(this.Ff,16):this.Ff=Sa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,17)},set:function(n){n?this.Ff=_a(this.Ff,17):this.Ff=Sa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,26)},set:function(n){n?this.Ff=_a(this.Ff,26):this.Ff=Sa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+xf(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){ti(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Oo(ts,hc);var u2=function(){ts.call(this),this.pushButton=!0};Oo(u2,ts);var Eh=function(){ts.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Oo(Eh,ts);var hg=function(){var e,t;hc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+xf(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){ti(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Oo(hg,hc),Eh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Eh.prototype.createOption=function(e){var t=new hg;return t.Parent=this,t.optionName=e,this.Kids.push(t),dQ.call(this.scope,t),t};var d2=function(){ts.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bn.CheckBox.createAppearanceStream()};Oo(d2,ts);var X0=function(){hc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,13)},set:function(t){t?this.Ff=_a(this.Ff,13):this.Ff=Sa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,21)},set:function(t){t?this.Ff=_a(this.Ff,21):this.Ff=Sa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,23)},set:function(t){t?this.Ff=_a(this.Ff,23):this.Ff=Sa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,24)},set:function(t){t?this.Ff=_a(this.Ff,24):this.Ff=Sa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,25)},set:function(t){t?this.Ff=_a(this.Ff,25):this.Ff=Sa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,26)},set:function(t){t?this.Ff=_a(this.Ff,26):this.Ff=Sa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Oo(X0,hc);var f2=function(){X0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,14)},set:function(e){e?this.Ff=_a(this.Ff,14):this.Ff=Sa(this.Ff,14)}}),this.password=!0};Oo(f2,X0);var bn={CheckBox:{createAppearanceStream:function(){return{N:{On:bn.CheckBox.YesNormal},D:{On:bn.CheckBox.YesPushDown,Off:bn.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Oc(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=_b(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Jn(bn.internal.getWidth(e))+" "+Jn(bn.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Jn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Oc(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=bn.internal.getHeight(e),o=bn.internal.getWidth(e),c=_b(e,e.caption);return i.push("1 g"),i.push("0 0 "+Jn(o)+" "+Jn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Jn(o-1)+" "+Jn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Jn(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Oc(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Jn(bn.internal.getWidth(e))+" "+Jn(bn.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:bn.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=bn.RadioButton.Circle.YesNormal,t.D[e]=bn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Oc(e);t.scope=e.scope;var n=[],r=bn.internal.getWidth(e)<=bn.internal.getHeight(e)?bn.internal.getWidth(e)/4:bn.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=bn.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ed(bn.internal.getWidth(e)/2)+" "+Ed(bn.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Oc(e);t.scope=e.scope;var n=[],r=bn.internal.getWidth(e)<=bn.internal.getHeight(e)?bn.internal.getWidth(e)/4:bn.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*bn.internal.Bezier_C).toFixed(5)),o=Number((r*bn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ed(bn.internal.getWidth(e)/2)+" "+Ed(bn.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ed(bn.internal.getWidth(e)/2)+" "+Ed(bn.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Oc(e);t.scope=e.scope;var n=[],r=bn.internal.getWidth(e)<=bn.internal.getHeight(e)?bn.internal.getWidth(e)/4:bn.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*bn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ed(bn.internal.getWidth(e)/2)+" "+Ed(bn.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:bn.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=bn.RadioButton.Cross.YesNormal,t.D[e]=bn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Oc(e);t.scope=e.scope;var n=[],r=bn.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Jn(bn.internal.getWidth(e)-2)+" "+Jn(bn.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Jn(r.x1.x)+" "+Jn(r.x1.y)+" m"),n.push(Jn(r.x2.x)+" "+Jn(r.x2.y)+" l"),n.push(Jn(r.x4.x)+" "+Jn(r.x4.y)+" m"),n.push(Jn(r.x3.x)+" "+Jn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Oc(e);t.scope=e.scope;var n=bn.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Jn(bn.internal.getWidth(e))+" "+Jn(bn.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Jn(bn.internal.getWidth(e)-2)+" "+Jn(bn.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Jn(n.x1.x)+" "+Jn(n.x1.y)+" m"),r.push(Jn(n.x2.x)+" "+Jn(n.x2.y)+" l"),r.push(Jn(n.x4.x)+" "+Jn(n.x4.y)+" m"),r.push(Jn(n.x3.x)+" "+Jn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Oc(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Jn(bn.internal.getWidth(e))+" "+Jn(bn.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};bn.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=bn.internal.getWidth(e),n=bn.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},bn.internal.getWidth=function(e){var t=0;return ti(e)==="object"&&(t=uS(e.Rect[2])),t},bn.internal.getHeight=function(e){var t=0;return ti(e)==="object"&&(t=uS(e.Rect[3])),t};var dQ=sa.addField=function(e){if(uQ(this,e),!(e instanceof hc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};sa.AcroFormChoiceField=_h,sa.AcroFormListBox=Sh,sa.AcroFormComboBox=Ch,sa.AcroFormEditBox=c2,sa.AcroFormButton=ts,sa.AcroFormPushButton=u2,sa.AcroFormRadioButton=Eh,sa.AcroFormCheckBox=d2,sa.AcroFormTextField=X0,sa.AcroFormPasswordField=f2,sa.AcroFormAppearance=bn,sa.AcroForm={ChoiceField:_h,ListBox:Sh,ComboBox:Ch,EditBox:c2,Button:ts,PushButton:u2,RadioButton:Eh,CheckBox:d2,TextField:X0,PasswordField:f2,Appearance:bn},Hn.AcroForm={ChoiceField:_h,ListBox:Sh,ComboBox:Ch,EditBox:c2,Button:ts,PushButton:u2,RadioButton:Eh,CheckBox:d2,TextField:X0,PasswordField:f2,Appearance:bn};function Rk(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(H,W){var J,ue,se,ee,Ae,ge=t;if((W=W||t)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(z(H))for(Ae in n)for(se=n[Ae],J=0;J<se.length;J+=1){for(ee=!0,ue=0;ue<se[J].length;ue+=1)if(se[J][ue]!==void 0&&se[J][ue]!==H[ue]){ee=!1;break}if(ee===!0){ge=Ae;break}}else for(Ae in n)for(se=n[Ae],J=0;J<se.length;J+=1){for(ee=!0,ue=0;ue<se[J].length;ue+=1)if(se[J][ue]!==void 0&&se[J][ue]!==H.charCodeAt(ue)){ee=!1;break}if(ee===!0){ge=Ae;break}}return ge===t&&W!==t&&(ge=W),ge},i=function H(W){for(var J=this.internal.write,ue=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:W.width}),ee.push({key:"Height",value:W.height}),W.colorSpace===A.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===A.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)){for(var Ae="",ge=0,Be=W.transparency.length;ge<Be;ge++)Ae+=W.transparency[ge]+" "+W.transparency[ge]+" ";ee.push({key:"Mask",value:"["+Ae+"]"})}W.sMask!==void 0&&ee.push({key:"SMask",value:W.objectId+1+" 0 R"});var _e=W.filter!==void 0?["/"+W.filter]:void 0;if(ue({data:W.data,additionalKeyValues:ee,alreadyAppliedFilters:_e,objectId:W.objectId}),J("endobj"),"sMask"in W&&W.sMask!==void 0){var ct="/Predictor "+W.predictor+" /Colors 1 /BitsPerComponent "+W.bitsPerComponent+" /Columns "+W.width,U={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:W.bitsPerComponent,decodeParameters:ct,data:W.sMask};"filter"in W&&(U.filter=W.filter),H.call(this,U)}if(W.colorSpace===A.INDEXED){var Z=this.internal.newObject();ue({data:B(new Uint8Array(W.palette)),objectId:Z}),J("endobj")}},a=function(){var H=this.internal.collections.addImage_images;for(var W in H)i.call(this,H[W])},o=function(){var H,W=this.internal.collections.addImage_images,J=this.internal.write;for(var ue in W)J("/I"+(H=W[ue]).index,H.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var H=this.internal.collections.addImage_images;return c.call(this),H},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(H){return typeof e["process"+H.toUpperCase()]=="function"},g=function(H){return ti(H)==="object"&&H.nodeType===1},w=function(H,W){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var J=""+H.getAttribute("src");if(J.indexOf("data:image/")===0)return cp(unescape(J).split("base64,").pop());var ue=e.loadFile(J,!0);if(ue!==void 0)return ue}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var se;switch(W){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;case"JPEG":case"JPG":default:se="image/jpeg"}return cp(H.toDataURL(se,1).split("base64,").pop())}},y=function(H){var W=this.internal.collections.addImage_images;if(W){for(var J in W)if(H===W[J].alias)return W[J]}},E=function(H,W,J){return H||W||(H=-96,W=-96),H<0&&(H=-1*J.width*72/H/this.internal.scaleFactor),W<0&&(W=-1*J.height*72/W/this.internal.scaleFactor),H===0&&(H=W*J.width/J.height),W===0&&(W=H*J.height/J.width),[H,W]},S=function(H,W,J,ue,se,ee){var Ae=E.call(this,J,ue,se),ge=this.internal.getCoordinateString,Be=this.internal.getVerticalCoordinateString,_e=u.call(this);if(J=Ae[0],ue=Ae[1],_e[se.index]=se,ee){ee*=Math.PI/180;var ct=Math.cos(ee),U=Math.sin(ee),Z=function(ne){return ne.toFixed(4)},Q=[Z(ct),Z(U),Z(-1*U),Z(ct),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,ge(H),Be(W+ue),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([ge(J),"0","0",ge(ue),"0","0","cm"].join(" "))):this.internal.write([ge(J),"0","0",ge(ue),ge(H),Be(W+ue),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(H){var W,J,ue=0;if(typeof H=="string")for(J=H.length,W=0;W<J;W++)ue=(ue<<5)-ue+H.charCodeAt(W),ue|=0;else if(z(H))for(J=H.byteLength/2,W=0;W<J;W++)ue=(ue<<5)-ue+H[W],ue|=0;return ue},D=e.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var W=!0;return H.length===0&&(W=!1),H.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(W=!1),W},P=e.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var W=H.indexOf(",");return W<0?null:H.substring(0,W).trim().endsWith("base64")?H.substring(W+1):null},Y=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(H){return Y()&&H instanceof ArrayBuffer};var z=e.__addimage__.isArrayBufferView=function(H){return Y()&&typeof Uint32Array<"u"&&(H instanceof Int8Array||H instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array)},R=e.__addimage__.binaryStringToUint8Array=function(H){for(var W=H.length,J=new Uint8Array(W),ue=0;ue<W;ue++)J[ue]=H.charCodeAt(ue);return J},B=e.__addimage__.arrayBufferToBinaryString=function(H){for(var W="",J=z(H)?H:new Uint8Array(H),ue=0;ue<J.length;ue+=8192)W+=String.fromCharCode.apply(null,J.subarray(ue,ue+8192));return W};e.addImage=function(){var H,W,J,ue,se,ee,Ae,ge,Be;if(typeof arguments[1]=="number"?(W=t,J=arguments[1],ue=arguments[2],se=arguments[3],ee=arguments[4],Ae=arguments[5],ge=arguments[6],Be=arguments[7]):(W=arguments[1],J=arguments[2],ue=arguments[3],se=arguments[4],ee=arguments[5],Ae=arguments[6],ge=arguments[7],Be=arguments[8]),ti(H=arguments[0])==="object"&&!g(H)&&"imageData"in H){var _e=H;H=_e.imageData,W=_e.format||W||t,J=_e.x||J||0,ue=_e.y||ue||0,se=_e.w||_e.width||se,ee=_e.h||_e.height||ee,Ae=_e.alias||Ae,ge=_e.compression||ge,Be=_e.rotation||_e.angle||Be}var ct=this.internal.getFilters();if(ge===void 0&&ct.indexOf("FlateEncode")!==-1&&(ge="SLOW"),isNaN(J)||isNaN(ue))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var U=q.call(this,H,W,Ae,ge);return S.call(this,J,ue,se,ee,U,Be),this};var q=function(H,W,J,ue){var se,ee,Ae;if(typeof H=="string"&&r(H)===t){H=unescape(H);var ge=te(H,!1);(ge!==""||(ge=e.loadFile(H,!0))!==void 0)&&(H=ge)}if(g(H)&&(H=w(H,W)),W=r(H,W),!p(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((Ae=J)==null||Ae.length===0)&&(J=function(Be){return typeof Be=="string"||z(Be)?k(Be):z(Be.data)?k(Be.data):null}(H)),(se=y.call(this,J))||(Y()&&(H instanceof Uint8Array||W==="RGBA"||(ee=H,H=R(H))),se=this["process"+W.toUpperCase()](H,f.call(this),J,function(Be){return Be&&typeof Be=="string"&&(Be=Be.toUpperCase()),Be in e.image_compression?Be:j.NONE}(ue),ee)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},te=e.__addimage__.convertBase64ToBinaryString=function(H,W){W=typeof W!="boolean"||W;var J,ue="";if(typeof H=="string"){var se;J=(se=P(H))!==null&&se!==void 0?se:H;try{ue=cp(J)}catch(ee){if(W)throw D(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};e.getImageProperties=function(H){var W,J,ue="";if(g(H)&&(H=w(H)),typeof H=="string"&&r(H)===t&&((ue=te(H,!1))===""&&(ue=e.loadFile(H)||""),H=ue),J=r(H),!p(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(!Y()||H instanceof Uint8Array||(H=R(H)),!(W=this["process"+J.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=J,W}})(Hn.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Hn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,p=!1,g=0;g<f.length&&!p;g++)switch((r=f[g]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<f.length;w++){r=f[w];var y=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(S.objId),k=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(j(r.contents))+")",a+=" /Popup "+A.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+y(j(k))+") >>",S.content=a;var D=S.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+D,r.open&&(a+=" /Open true"),a+=" >>",A.content=a,this.internal.write(S.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+c(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var P=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(E(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var Y=this.annotations._nameMap[r.options.name];r.options.pageNumber=Y.page,r.options.top=Y.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var z=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+z+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,o){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(n),y:f(r),w:u(n+i),h:f(r+a)},options:o,type:"link"})},e.textWithLink=function(n,r,i,a){var o,c,u=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var p=this.splitTextToSize(n,c).length;o=Math.ceil(f*p)}else c=u,o=f;return this.text(n,r,i,a),i+=.2*f,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,i-f,c,o,a),u},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Hn.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(S){return t[S.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},c=e.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&a(S)&&t[S.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&i.indexOf(S.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&a(S)&&t[S.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&a(S)&&t[S.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&a(S)&&t[S.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&a(S)&&t[S.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(S){var A=0,j=n,k="",D=0;for(A=0;A<S.length;A+=1)j[S.charCodeAt(A)]!==void 0?(D++,typeof(j=j[S.charCodeAt(A)])=="number"&&(k+=String.fromCharCode(j),j=n,D=0),A===S.length-1&&(j=n,k+=S.charAt(A-(D-1)),A-=D-1,D=0)):(j=n,k+=S.charAt(A-D),A-=D,D=0);return k};e.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var w=e.__arabicParser__.getCorrectForm=function(S,A,j){return o(S)?a(S)===!1?-1:!f(S)||!o(A)&&!o(j)||!o(j)&&c(A)||c(S)&&!o(A)||c(S)&&u(A)||c(S)&&c(A)?0:p(S)&&o(A)&&!c(A)&&o(j)&&f(j)?3:c(S)||!o(j)?1:2:-1},y=function(S){var A=0,j=0,k=0,D="",P="",Y="",z=(S=S||"").split("\\s+"),R=[];for(A=0;A<z.length;A+=1){for(R.push(""),j=0;j<z[A].length;j+=1)D=z[A][j],P=z[A][j-1],Y=z[A][j+1],o(D)?(k=w(D,P,Y),R[A]+=k!==-1?String.fromCharCode(t[D.charCodeAt(0)][k]):D):R[A]+=D;R[A]=g(R[A])}return R.join(" ")},E=e.__arabicParser__.processArabic=e.processArabic=function(){var S,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(A)){var k=0;for(j=[],k=0;k<A.length;k+=1)Array.isArray(A[k])?j.push([y(A[k][0]),A[k][1],A[k][2]]):j.push([y(A[k])]);S=j}else S=y(A);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};e.events.push(["preProcessText",E])}(Hn.API),Hn.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Hn.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(S){w=S}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(S){E=S}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,f){r.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),g=f.font||this.getFont(),w=f.scaleFactor||this.internal.scaleFactor,y=0,E=0,S=0,A=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var j=f.maxWidth;j>0?typeof u=="string"?u=this.splitTextToSize(u,j):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(D,P){return D.concat(A.splitTextToSize(P,j))},[])):u=Array.isArray(u)?u:[u];for(var k=0;k<u.length;k++)y<(S=this.getStringUnitWidth(u[k],{font:g})*p)&&(y=S);return y!==0&&(E=u.length),{w:y/=w,h:Math.max((E*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,y&&w&&(this.printHeaderRow(u.lineNumber,!0),u.y+=w[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-p,u.y+p,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+p,{align:"center",baseline:"top",maxWidth:u.width-p-p}):this.text(u.text,u.x+p,u.y+p,{align:"left",baseline:"top",maxWidth:u.width-p-p})),this.internal.__cell__.lastCell=u,this};e.table=function(u,f,p,g,w){if(r.call(this),!p)throw new Error("No data for PDF table.");var y,E,S,A,j=[],k=[],D=[],P={},Y={},z=[],R=[],B=(w=w||{}).autoSize||!1,q=w.printHeaders!==!1,te=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,H=w.margins||Object.assign({width:this.getPageWidth()},t),W=typeof w.padding=="number"?w.padding:3,J=w.headerBackgroundColor||"#c8c8c8",ue=w.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=te,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=ue,this.setFontSize(te),g==null)k=j=Object.keys(p[0]),D=j.map(function(){return"left"});else if(Array.isArray(g)&&ti(g[0])==="object")for(j=g.map(function(_e){return _e.name}),k=g.map(function(_e){return _e.prompt||_e.name||""}),D=g.map(function(_e){return _e.align||"left"}),y=0;y<g.length;y+=1)Y[g[y].name]=g[y].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(k=j=g,D=j.map(function(){return"left"}));if(B||Array.isArray(g)&&typeof g[0]=="string")for(y=0;y<j.length;y+=1){for(P[A=j[y]]=p.map(function(_e){return _e[A]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(k[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=P[A],this.setFont(void 0,"normal"),S=0;S<E.length;S+=1)z.push(this.getTextDimensions(E[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[A]=Math.max.apply(null,z)+W+W,z=[]}if(q){var se={};for(y=0;y<j.length;y+=1)se[j[y]]={},se[j[y]].text=k[y],se[j[y]].align=D[y];var ee=c.call(this,se,Y);R=j.map(function(_e){return new a(u,f,Y[_e],ee,se[_e].text,void 0,se[_e].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var Ae=g.reduce(function(_e,ct){return _e[ct.name]=ct.align,_e},{});for(y=0;y<p.length;y+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:y,data:p[y]},this);var ge=c.call(this,p[y],Y);for(S=0;S<j.length;S+=1){var Be=p[y][j[S]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:y,col:S,data:Be},this),o.call(this,new a(u,f,Y[j[S]],ge,Be,y+2,Ae[j[S]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var c=function(u,f){var p=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(u).map(function(y){var E=u[y];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,f[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*g/w+p+p},this).reduce(function(y,E){return Math.max(y,E)},0)};e.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=u;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(E)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),n=!1}}(Hn.API);var Mk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Pk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sb=Rk(Pk),Fk=[100,200,300,400,500,600,700,800,900],fQ=Rk(Fk);function Cb(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return Mk[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof Sb[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function dS(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var hQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hS(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function pQ(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},hQ,n.genericFontFamilies||{}),a=null,o=null,c=0;c<t.length;++c)if(i[(a=Cb(t[c])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+hS(a)+"' and default family '"+r+"'.");if(o=function(u,f){if(f[u])return f[u];var p=Sb[u],g=p<=Sb.normal?-1:1,w=dS(f,Pk,p,g);if(!w)throw new Error("Could not find a matching font-stretch value for "+u);return w}(a.stretch,o),o=function(u,f){if(f[u])return f[u];for(var p=Mk[u],g=0;g<p.length;++g)if(f[p[g]])return f[p[g]];throw new Error("Could not find a matching font-style for "+u)}(a.style,o),!(o=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var p=fQ[u],g=dS(f,Fk,p,u<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+u);return g}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+hS(a)+"'.");return o}function pS(e){return e.trimLeft()}function mQ(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function xQ(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var jx,mS,xS,yy=["times"];(function(e){var t,n,r,i,a,o,c,u,f,p=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new u,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,f=new p}]);var g=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=U;Object.defineProperty(this,"pdf",{get:function(){return Z}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(it){Q=!!it}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(it){ne=!!it}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(it){isNaN(it)||(ce=it)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(it){isNaN(it)||(be=it)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(it){var fe;typeof it=="number"?fe=[it,it,it,it]:((fe=new Array(4))[0]=it[0],fe[1]=it.length>=2?it[1]:fe[0],fe[2]=it.length>=3?it[2]:fe[0],fe[3]=it.length>=4?it[3]:fe[1]),f.margin=fe}});var Fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Fe},set:function(it){Fe=it}});var ze=0;Object.defineProperty(this,"lastBreak",{get:function(){return ze},set:function(it){ze=it}});var Ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ze},set:function(it){Ze=it}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(it){it instanceof p&&(f=it)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(it){f.path=it}});var pt=[];Object.defineProperty(this,"ctxStack",{get:function(){return pt},set:function(it){pt=it}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(it){var fe;fe=w(it),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(it){var fe=w(it);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(it){["butt","round","square"].indexOf(it)!==-1&&(this.ctx.lineCap=it,this.pdf.setLineCap(it))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(it){isNaN(it)||(this.ctx.lineWidth=it,this.pdf.setLineWidth(it))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(it){["bevel","round","miter"].indexOf(it)!==-1&&(this.ctx.lineJoin=it,this.pdf.setLineJoin(it))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(it){isNaN(it)||(this.ctx.miterLimit=it,this.pdf.setMiterLimit(it))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(it){this.ctx.textBaseline=it}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(it){["right","end","center","left","start"].indexOf(it)!==-1&&(this.ctx.textAlign=it)}});var bt=null;function Ye(it,fe){if(bt===null){var He=function(mt){var rt=[];return Object.keys(mt).forEach(function(Ee){mt[Ee].forEach(function(qe){var Le=null;switch(qe){case"bold":Le={family:Ee,weight:"bold"};break;case"italic":Le={family:Ee,style:"italic"};break;case"bolditalic":Le={family:Ee,weight:"bold",style:"italic"};break;case"":case"normal":Le={family:Ee}}Le!==null&&(Le.ref={name:Ee,style:qe},rt.push(Le))})}),rt}(it.getFontList());bt=function(mt){for(var rt={},Ee=0;Ee<mt.length;++Ee){var qe=Cb(mt[Ee]),Le=qe.family,Nt=qe.stretch,et=qe.style,wt=qe.weight;rt[Le]=rt[Le]||{},rt[Le][Nt]=rt[Le][Nt]||{},rt[Le][Nt][et]=rt[Le][Nt][et]||{},rt[Le][Nt][et][wt]=qe}return rt}(He.concat(fe))}return bt}var yt=null;Object.defineProperty(this,"fontFaces",{get:function(){return yt},set:function(it){bt=null,yt=it}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(it){var fe;if(this.ctx.font=it,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(it))!==null){var He=fe[1];fe[2];var mt=fe[3],rt=fe[4];fe[5];var Ee=fe[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(rt)[2];rt=Math.floor(qe==="px"?parseFloat(rt)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(rt)*this.pdf.getFontSize():parseFloat(rt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(rt);var Le=function(Qt){var Tn,Kt,Dr=[],hn=Qt.trim();if(hn==="")return yy;if(hn in fS)return[fS[hn]];for(;hn!=="";){switch(Kt=null,Tn=(hn=pS(hn)).charAt(0)){case'"':case"'":Kt=mQ(hn.substring(1),Tn);break;default:Kt=xQ(hn)}if(Kt===null||(Dr.push(Kt[0]),(hn=pS(Kt[1]))!==""&&hn.charAt(0)!==","))return yy;hn=hn.replace(/^,/,"")}return Dr}(Ee);if(this.fontFaces){var Nt=pQ(Ye(this.pdf,this.fontFaces),Le.map(function(Qt){return{family:Qt,stretch:"normal",weight:mt,style:He}}));this.pdf.setFont(Nt.ref.name,Nt.ref.style)}else{var et="";(mt==="bold"||parseInt(mt,10)>=700||He==="bold")&&(et="bold"),He==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var wt="",Vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rn=0;rn<Le.length;rn++){if(this.pdf.internal.getFont(Le[rn],et,{noFallback:!0,disableWarning:!0})!==void 0){wt=Le[rn];break}if(et==="bolditalic"&&this.pdf.internal.getFont(Le[rn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)wt=Le[rn],et="bold";else if(this.pdf.internal.getFont(Le[rn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){wt=Le[rn],et="normal";break}}if(wt===""){for(var dn=0;dn<Le.length;dn++)if(Vt[Le[dn]]){wt=Vt[Le[dn]];break}}wt=wt===""?"Times":wt,this.pdf.setFont(wt,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(it){this.ctx.globalCompositeOperation=it}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(it){this.ctx.globalAlpha=it}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(it){this.ctx.lineDashOffset=it,ct.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(it){this.ctx.lineDash=it,ct.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(it){this.ctx.ignoreClearRect=!!it}})};g.prototype.setLineDash=function(U){this.lineDash=U},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){P.call(this,"fill",!1)},g.prototype.stroke=function(){P.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(U,Z){if(isNaN(U)||isNaN(Z))throw wi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(U,Z));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(U,Z)},g.prototype.closePath=function(){var U=new o(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&ti(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){U=new o(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},g.prototype.lineTo=function(U,Z){if(isNaN(U)||isNaN(Z))throw wi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(U,Z));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},g.prototype.quadraticCurveTo=function(U,Z,Q,ne){if(isNaN(Q)||isNaN(ne)||isNaN(U)||isNaN(Z))throw wi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(Q,ne)),be=this.ctx.transform.applyToPoint(new o(U,Z));this.path.push({type:"qct",x1:be.x,y1:be.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},g.prototype.bezierCurveTo=function(U,Z,Q,ne,ce,be){if(isNaN(ce)||isNaN(be)||isNaN(U)||isNaN(Z)||isNaN(Q)||isNaN(ne))throw wi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Fe=this.ctx.transform.applyToPoint(new o(ce,be)),ze=this.ctx.transform.applyToPoint(new o(U,Z)),Ze=this.ctx.transform.applyToPoint(new o(Q,ne));this.path.push({type:"bct",x1:ze.x,y1:ze.y,x2:Ze.x,y2:Ze.y,x:Fe.x,y:Fe.y}),this.ctx.lastPoint=new o(Fe.x,Fe.y)},g.prototype.arc=function(U,Z,Q,ne,ce,be){if(isNaN(U)||isNaN(Z)||isNaN(Q)||isNaN(ne)||isNaN(ce))throw wi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var Fe=this.ctx.transform.applyToPoint(new o(U,Z));U=Fe.x,Z=Fe.y;var ze=this.ctx.transform.applyToPoint(new o(0,Q)),Ze=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ze.x-Ze.x,2)+Math.pow(ze.y-Ze.y,2))}Math.abs(ce-ne)>=2*Math.PI&&(ne=0,ce=2*Math.PI),this.path.push({type:"arc",x:U,y:Z,radius:Q,startAngle:ne,endAngle:ce,counterclockwise:be})},g.prototype.arcTo=function(U,Z,Q,ne,ce){throw new Error("arcTo not implemented.")},g.prototype.rect=function(U,Z,Q,ne){if(isNaN(U)||isNaN(Z)||isNaN(Q)||isNaN(ne))throw wi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,Z),this.lineTo(U+Q,Z),this.lineTo(U+Q,Z+ne),this.lineTo(U,Z+ne),this.lineTo(U,Z),this.lineTo(U+Q,Z),this.lineTo(U,Z)},g.prototype.fillRect=function(U,Z,Q,ne){if(isNaN(U)||isNaN(Z)||isNaN(Q)||isNaN(ne))throw wi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,Z,Q,ne),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},g.prototype.strokeRect=function(U,Z,Q,ne){if(isNaN(U)||isNaN(Z)||isNaN(Q)||isNaN(ne))throw wi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(U,Z,Q,ne),this.stroke())},g.prototype.clearRect=function(U,Z,Q,ne){if(isNaN(U)||isNaN(Z)||isNaN(Q)||isNaN(ne))throw wi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,Z,Q,ne))},g.prototype.save=function(U){U=typeof U!="boolean"||U;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},g.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(U){var Z,Q,ne,ce;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))Z=0,Q=0,ne=0,ce=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(be!==null)Z=parseInt(be[1]),Q=parseInt(be[2]),ne=parseInt(be[3]),ce=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)Z=parseInt(be[1]),Q=parseInt(be[2]),ne=parseInt(be[3]),ce=parseFloat(be[4]);else{if(ce=1,typeof U=="string"&&U.charAt(0)!=="#"){var Fe=new kk(U);U=Fe.ok?Fe.toHex():"#000000"}U.length===4?(Z=U.substring(1,2),Z+=Z,Q=U.substring(2,3),Q+=Q,ne=U.substring(3,4),ne+=ne):(Z=U.substring(1,3),Q=U.substring(3,5),ne=U.substring(5,7)),Z=parseInt(Z,16),Q=parseInt(Q,16),ne=parseInt(ne,16)}}return{r:Z,g:Q,b:ne,a:ce,style:U}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(U,Z,Q,ne){if(isNaN(Z)||isNaN(Q)||typeof U!="string")throw wi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!y.call(this)){var ce=ge(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;W.call(this,{text:U,x:Z,y:Q,scale:be,angle:ce,align:this.textAlign,maxWidth:ne})}},g.prototype.strokeText=function(U,Z,Q,ne){if(isNaN(Z)||isNaN(Q)||typeof U!="string")throw wi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){ne=isNaN(ne)?void 0:ne;var ce=ge(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;W.call(this,{text:U,x:Z,y:Q,scale:be,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ne})}},g.prototype.measureText=function(U){if(typeof U!="string")throw wi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,Q=this.pdf.internal.scaleFactor,ne=Z.internal.getFontSize(),ce=Z.getStringUnitWidth(U)*ne/Z.internal.scaleFactor,be=function(Fe){var ze=(Fe=Fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ze}}),this};return new be({width:ce*=Math.round(96*Q/72*1e4)/1e4})},g.prototype.scale=function(U,Z){if(isNaN(U)||isNaN(Z))throw wi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new u(U,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},g.prototype.rotate=function(U){if(isNaN(U))throw wi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new u(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.translate=function(U,Z){if(isNaN(U)||isNaN(Z))throw wi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new u(1,0,0,1,U,Z);this.ctx.transform=this.ctx.transform.multiply(Q)},g.prototype.transform=function(U,Z,Q,ne,ce,be){if(isNaN(U)||isNaN(Z)||isNaN(Q)||isNaN(ne)||isNaN(ce)||isNaN(be))throw wi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Fe=new u(U,Z,Q,ne,ce,be);this.ctx.transform=this.ctx.transform.multiply(Fe)},g.prototype.setTransform=function(U,Z,Q,ne,ce,be){U=isNaN(U)?1:U,Z=isNaN(Z)?0:Z,Q=isNaN(Q)?0:Q,ne=isNaN(ne)?1:ne,ce=isNaN(ce)?0:ce,be=isNaN(be)?0:be,this.ctx.transform=new u(U,Z,Q,ne,ce,be)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(U,Z,Q,ne,ce,be,Fe,ze,Ze){var pt=this.pdf.getImageProperties(U),bt=1,Ye=1,yt=1,it=1;ne!==void 0&&ze!==void 0&&(yt=ze/ne,it=Ze/ce,bt=pt.width/ne*ze/ne,Ye=pt.height/ce*Ze/ce),be===void 0&&(be=Z,Fe=Q,Z=0,Q=0),ne!==void 0&&ze===void 0&&(ze=ne,Ze=ce),ne===void 0&&ze===void 0&&(ze=pt.width,Ze=pt.height);for(var fe,He=this.ctx.transform.decompose(),mt=ge(He.rotate.shx),rt=new u,Ee=(rt=(rt=(rt=rt.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new c(be-Z*yt,Fe-Q*it,ne*bt,ce*Ye)),qe=A.call(this,Ee),Le=[],Nt=0;Nt<qe.length;Nt+=1)Le.indexOf(qe[Nt])===-1&&Le.push(qe[Nt]);if(D(Le),this.autoPaging)for(var et=Le[0],wt=Le[Le.length-1],Vt=et;Vt<wt+1;Vt++){this.pdf.setPage(Vt);var rn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dn=Vt===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=Vt===1?0:Qt+(Vt-2)*Tn;if(this.ctx.clip_path.length!==0){var Dr=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(fe,this.posX+this.margin[3],-Kt+dn+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=Dr}var hn=JSON.parse(JSON.stringify(Ee));hn=k([hn],this.posX+this.margin[3],-Kt+dn+this.ctx.prevPageLastElemOffset)[0];var Ue=(Vt>et||Vt<wt)&&S.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rn,Tn,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",hn.x,hn.y,hn.w,hn.h,null,null,mt),Ue&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,mt)};var A=function(U,Z,Q){var ne=[];Z=Z||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ne.push(Math.floor((U.y+ce)/Q)+1);break;case"arc":ne.push(Math.floor((U.y+ce-U.radius)/Q)+1),ne.push(Math.floor((U.y+ce+U.radius)/Q)+1);break;case"qct":var be=Be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ne.push(Math.floor((be.y+ce)/Q)+1),ne.push(Math.floor((be.y+be.h+ce)/Q)+1);break;case"bct":var Fe=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ne.push(Math.floor((Fe.y+ce)/Q)+1),ne.push(Math.floor((Fe.y+Fe.h+ce)/Q)+1);break;case"rect":ne.push(Math.floor((U.y+ce)/Q)+1),ne.push(Math.floor((U.y+U.h+ce)/Q)+1)}for(var ze=0;ze<ne.length;ze+=1)for(;this.pdf.internal.getNumberOfPages()<ne[ze];)j.call(this);return ne},j=function(){var U=this.fillStyle,Z=this.strokeStyle,Q=this.font,ne=this.lineCap,ce=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=Z,this.font=Q,this.lineCap=ne,this.lineWidth=ce,this.lineJoin=be},k=function(U,Z,Q){for(var ne=0;ne<U.length;ne++)switch(U[ne].type){case"bct":U[ne].x2+=Z,U[ne].y2+=Q;case"qct":U[ne].x1+=Z,U[ne].y1+=Q;case"mt":case"lt":case"arc":default:U[ne].x+=Z,U[ne].y+=Q}return U},D=function(U){return U.sort(function(Z,Q){return Z-Q})},P=function(U,Z){for(var Q,ne,ce=this.fillStyle,be=this.strokeStyle,Fe=this.lineCap,ze=this.lineWidth,Ze=Math.abs(ze*this.ctx.transform.scaleX),pt=this.lineJoin,bt=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),yt=[],it=0;it<Ye.length;it++)if(Ye[it].x!==void 0)for(var fe=A.call(this,Ye[it]),He=0;He<fe.length;He+=1)yt.indexOf(fe[He])===-1&&yt.push(fe[He]);for(var mt=0;mt<yt.length;mt++)for(;this.pdf.internal.getNumberOfPages()<yt[mt];)j.call(this);if(D(yt),this.autoPaging)for(var rt=yt[0],Ee=yt[yt.length-1],qe=rt;qe<Ee+1;qe++){this.pdf.setPage(qe),this.fillStyle=ce,this.strokeStyle=be,this.lineCap=Fe,this.lineWidth=Ze,this.lineJoin=pt;var Le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=qe===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Vt=qe===1?0:et+(qe-2)*wt;if(this.ctx.clip_path.length!==0){var rn=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Q,this.posX+this.margin[3],-Vt+Nt+this.ctx.prevPageLastElemOffset),Y.call(this,U,!0),this.path=rn}if(ne=JSON.parse(JSON.stringify(bt)),this.path=k(ne,this.posX+this.margin[3],-Vt+Nt+this.ctx.prevPageLastElemOffset),Z===!1||qe===0){var dn=(qe>rt||qe<Ee)&&S.call(this);dn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Le,wt,null).clip().discardPath()),Y.call(this,U,Z),dn&&this.pdf.restoreGraphicsState()}this.lineWidth=ze}else this.lineWidth=Ze,Y.call(this,U,Z),this.lineWidth=ze;this.path=bt},Y=function(U,Z){if((U!=="stroke"||Z||!E.call(this))&&(U==="stroke"||Z||!y.call(this))){for(var Q,ne,ce=[],be=this.path,Fe=0;Fe<be.length;Fe++){var ze=be[Fe];switch(ze.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:ze,deltas:[],abs:[]});break;case"lt":var Ze=ce.length;if(be[Fe-1]&&!isNaN(be[Fe-1].x)&&(Q=[ze.x-be[Fe-1].x,ze.y-be[Fe-1].y],Ze>0)){for(;Ze>=0;Ze--)if(ce[Ze-1].close!==!0&&ce[Ze-1].begin!==!0){ce[Ze-1].deltas.push(Q),ce[Ze-1].abs.push(ze);break}}break;case"bct":Q=[ze.x1-be[Fe-1].x,ze.y1-be[Fe-1].y,ze.x2-be[Fe-1].x,ze.y2-be[Fe-1].y,ze.x-be[Fe-1].x,ze.y-be[Fe-1].y],ce[ce.length-1].deltas.push(Q);break;case"qct":var pt=be[Fe-1].x+2/3*(ze.x1-be[Fe-1].x),bt=be[Fe-1].y+2/3*(ze.y1-be[Fe-1].y),Ye=ze.x+2/3*(ze.x1-ze.x),yt=ze.y+2/3*(ze.y1-ze.y),it=ze.x,fe=ze.y;Q=[pt-be[Fe-1].x,bt-be[Fe-1].y,Ye-be[Fe-1].x,yt-be[Fe-1].y,it-be[Fe-1].x,fe-be[Fe-1].y],ce[ce.length-1].deltas.push(Q);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(ze)}}ne=Z?null:U==="stroke"?"stroke":"fill";for(var He=!1,mt=0;mt<ce.length;mt++)if(ce[mt].arc)for(var rt=ce[mt].abs,Ee=0;Ee<rt.length;Ee++){var qe=rt[Ee];qe.type==="arc"?B.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,Z,!He):J.call(this,qe.x,qe.y),He=!0}else if(ce[mt].close===!0)this.pdf.internal.out("h"),He=!1;else if(ce[mt].begin!==!0){var Le=ce[mt].start.x,Nt=ce[mt].start.y;ue.call(this,ce[mt].deltas,Le,Nt),He=!0}ne&&q.call(this,ne),Z&&te.call(this)}},z=function(U){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-Q;case"top":return U+Z-Q;case"hanging":return U+Z-2*Q;case"middle":return U+Z/2-Q;case"ideographic":return U;case"alphabetic":default:return U}},R=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(Z,Q){this.colorStops.push([Z,Q])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(U,Z,Q,ne,ce,be,Fe,ze,Ze){for(var pt=ee.call(this,Q,ne,ce,be),bt=0;bt<pt.length;bt++){var Ye=pt[bt];bt===0&&(Ze?H.call(this,Ye.x1+U,Ye.y1+Z):J.call(this,Ye.x1+U,Ye.y1+Z)),se.call(this,U,Z,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}ze?te.call(this):q.call(this,Fe)},q=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},te=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(U,Z){this.pdf.internal.out(n(U)+" "+r(Z)+" m")},W=function(U){var Z;switch(U.align){case"right":case"end":Z="right";break;case"center":Z="center";break;case"left":case"start":default:Z="left"}var Q=this.pdf.getTextDimensions(U.text),ne=z.call(this,U.y),ce=R.call(this,ne)-Q.h,be=this.ctx.transform.applyToPoint(new o(U.x,ne)),Fe=this.ctx.transform.decompose(),ze=new u;ze=(ze=(ze=ze.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var Ze,pt,bt,Ye=this.ctx.transform.applyToRectangle(new c(U.x,ne,Q.w,Q.h)),yt=ze.applyToRectangle(new c(U.x,ce,Q.w,Q.h)),it=A.call(this,yt),fe=[],He=0;He<it.length;He+=1)fe.indexOf(it[He])===-1&&fe.push(it[He]);if(D(fe),this.autoPaging)for(var mt=fe[0],rt=fe[fe.length-1],Ee=mt;Ee<rt+1;Ee++){this.pdf.setPage(Ee);var qe=Ee===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[2],et=Nt-this.margin[0],wt=this.pdf.internal.pageSize.width-this.margin[1],Vt=wt-this.margin[3],rn=Ee===1?0:Le+(Ee-2)*et;if(this.ctx.clip_path.length!==0){var dn=this.path;Ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Ze,this.posX+this.margin[3],-1*rn+qe),Y.call(this,"fill",!0),this.path=dn}var Qt=k([JSON.parse(JSON.stringify(yt))],this.posX+this.margin[3],-rn+qe+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(pt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pt*U.scale),bt=this.lineWidth,this.lineWidth=bt*U.scale);var Tn=this.autoPaging!=="text";if(Tn||Qt.y+Qt.h<=Nt){if(Tn||Qt.y>=qe&&Qt.x<=wt){var Kt=Tn?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||wt-Qt.x)[0],Dr=k([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-rn+qe+this.ctx.prevPageLastElemOffset)[0],hn=Tn&&(Ee>mt||Ee<rt)&&S.call(this);hn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,et,null).clip().discardPath()),this.pdf.text(Kt,Dr.x,Dr.y,{angle:U.angle,align:Z,renderingMode:U.renderingMode}),hn&&this.pdf.restoreGraphicsState()}}else Qt.y<Nt&&(this.ctx.prevPageLastElemOffset+=Nt-Qt.y);U.scale>=.01&&(this.pdf.setFontSize(pt),this.lineWidth=bt)}else U.scale>=.01&&(pt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pt*U.scale),bt=this.lineWidth,this.lineWidth=bt*U.scale),this.pdf.text(U.text,be.x+this.posX,be.y+this.posY,{angle:U.angle,align:Z,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(pt),this.lineWidth=bt)},J=function(U,Z,Q,ne){Q=Q||0,ne=ne||0,this.pdf.internal.out(n(U+Q)+" "+r(Z+ne)+" l")},ue=function(U,Z,Q){return this.pdf.lines(U,Z,Q,null,null)},se=function(U,Z,Q,ne,ce,be,Fe,ze){this.pdf.internal.out([t(i(Q+U)),t(a(ne+Z)),t(i(ce+U)),t(a(be+Z)),t(i(Fe+U)),t(a(ze+Z)),"c"].join(" "))},ee=function(U,Z,Q,ne){for(var ce=2*Math.PI,be=Math.PI/2;Z>Q;)Z-=ce;var Fe=Math.abs(Q-Z);Fe<ce&&ne&&(Fe=ce-Fe);for(var ze=[],Ze=ne?-1:1,pt=Z;Fe>1e-5;){var bt=pt+Ze*Math.min(Fe,be);ze.push(Ae.call(this,U,pt,bt)),Fe-=Math.abs(bt-pt),pt=bt}return ze},Ae=function(U,Z,Q){var ne=(Q-Z)/2,ce=U*Math.cos(ne),be=U*Math.sin(ne),Fe=ce,ze=-be,Ze=Fe*Fe+ze*ze,pt=Ze+Fe*ce+ze*be,bt=4/3*(Math.sqrt(2*Ze*pt)-pt)/(Fe*be-ze*ce),Ye=Fe-bt*ze,yt=ze+bt*Fe,it=Ye,fe=-yt,He=ne+Z,mt=Math.cos(He),rt=Math.sin(He);return{x1:U*Math.cos(Z),y1:U*Math.sin(Z),x2:Ye*mt-yt*rt,y2:Ye*rt+yt*mt,x3:it*mt-fe*rt,y3:it*rt+fe*mt,x4:U*Math.cos(Q),y4:U*Math.sin(Q)}},ge=function(U){return 180*U/Math.PI},Be=function(U,Z,Q,ne,ce,be){var Fe=U+.5*(Q-U),ze=Z+.5*(ne-Z),Ze=ce+.5*(Q-ce),pt=be+.5*(ne-be),bt=Math.min(U,ce,Fe,Ze),Ye=Math.max(U,ce,Fe,Ze),yt=Math.min(Z,be,ze,pt),it=Math.max(Z,be,ze,pt);return new c(bt,yt,Ye-bt,it-yt)},_e=function(U,Z,Q,ne,ce,be,Fe,ze){var Ze,pt,bt,Ye,yt,it,fe,He,mt,rt,Ee,qe,Le,Nt,et=Q-U,wt=ne-Z,Vt=ce-Q,rn=be-ne,dn=Fe-ce,Qt=ze-be;for(pt=0;pt<41;pt++)mt=(fe=(bt=U+(Ze=pt/40)*et)+Ze*((yt=Q+Ze*Vt)-bt))+Ze*(yt+Ze*(ce+Ze*dn-yt)-fe),rt=(He=(Ye=Z+Ze*wt)+Ze*((it=ne+Ze*rn)-Ye))+Ze*(it+Ze*(be+Ze*Qt-it)-He),pt==0?(Ee=mt,qe=rt,Le=mt,Nt=rt):(Ee=Math.min(Ee,mt),qe=Math.min(qe,rt),Le=Math.max(Le,mt),Nt=Math.max(Nt,rt));return new c(Math.round(Ee),Math.round(qe),Math.round(Le-Ee),Math.round(Nt-qe))},ct=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,Z,Q=(U=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:Z}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Hn.API),function(e){var t=function(a){var o,c,u,f,p,g,w,y,E,S;for(c=[],u=0,f=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;f>u;u+=4)(p=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(g=(p=((p=((p=((p=(p-(S=p%85))/85)-(E=p%85))/85)-(y=p%85))/85)-(w=p%85))/85)%85,c.push(g+33,w+33,y+33,E+33,S+33)):c.push(122);return function(A,j){for(var k=j;k>0;k--)A.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var o,c,u,f,p,g=String,w="length",y=255,E="charCodeAt",S="slice",A="replace";for(a[S](-2),a=a[S](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),u=[],f=0,p=(a+=o="uuuuu"[S](a[w]%5||5))[w];p>f;f+=5)c=52200625*(a[E](f)-33)+614125*(a[E](f+1)-33)+7225*(a[E](f+2)-33)+85*(a[E](f+3)-33)+(a[E](f+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return function(j,k){for(var D=k;D>0;D--)j.pop()}(u,o[w]),g.fromCharCode.apply(g,u)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},i=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return a=(o=wb(o)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};e.processDataByFilters=function(a,o){var c=0,u=a||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(Hn.API),function(e){e.loadFile=function(t,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(u,f,p){var g=new XMLHttpRequest,w=0,y=function(E){var S=E.length,A=[],j=String.fromCharCode;for(w=0;w<S;w+=1)A.push(j(255&E.charCodeAt(w)));return A.join("")};if(g.open("GET",u,!f),g.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(g.onload=function(){g.status===200?p(y(this.responseText)):p(void 0)}),g.send(null),f&&g.status===200)return y(g.responseText)}(i,a,o)}catch{}return c}(t,n,r)},e.loadImageFile=e.loadFile}(Hn.API),function(e){function t(){return(Vn.html2canvas?Promise.resolve(Vn.html2canvas):Hp(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Vn.DOMPurify?Promise.resolve(Vn.DOMPurify):Hp(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=ti(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var u=document.createElement(o);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},a=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(f,p){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)p!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||g.appendChild(u(w,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var w=0;w<f.length;++w){var y=f[w],E=y.src.find(function(S){return S.format==="truetype"});E&&u.addFont(E.url,y.ref.name,y.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(o=o||Hn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,u,f){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,u,f){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(f,p){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,f),g}).then(f,p).then(function(g){return u.updateProgress(1),g})})},a.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),p=u.call(f,o,c);return a.convert(p,this.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Hn.getPageSize=function(o,c,u){if(ti(o)==="object"){var f=o;o=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+u).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var y,E=0,S=0;if(w.hasOwnProperty(g))E=w[g][1]/p,S=w[g][0]/p;else try{E=u[1],S=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",S>E&&(y=S,S=E,E=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",E>S&&(y=S,S=E,E=y)}return{width:S,height:E,unit:c,k:p,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Cb):null;var u=new a(c);return c.worker?u:u.from(o).doCallback()}}(Hn.API),Hn.API.addJS=function(e){return xS=e,this.internal.events.subscribe("postPutResources",function(){jx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jx!==void 0&&mS!==void 0&&this.internal.out("/Names <</JavaScript "+jx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],c=r.exec(o);if(c!=null){var u=c[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var g=n.internal.newObject();p.push(g);var w=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<p.length;a++)n.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var u=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(Hn.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,o,c){var u,f=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(g){for(var w,y=256*g.charCodeAt(4)+g.charCodeAt(5),E=g.length,S={width:0,height:0,numcomponents:1},A=4;A<E;A+=2){if(A+=y,t.indexOf(g.charCodeAt(A+1))!==-1){w=256*g.charCodeAt(A+5)+g.charCodeAt(A+6),S={width:256*g.charCodeAt(A+7)+g.charCodeAt(A+8),height:w,numcomponents:g.charCodeAt(A+9)};break}y=256*g.charCodeAt(A+2)+g.charCodeAt(A+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:n,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:f,index:r,alias:i}}return p}}(Hn.API);var qf,kx,gS,vS,wS,gQ=function(){var e,t,n;function r(a){var o,c,u,f,p,g,w,y,E,S,A,j,k,D;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(o=this.readUInt32(),E=(function(){var P,Y;for(Y=[],P=0;P<4;++P)Y.push(String.fromCharCode(this.data[this.pos++]));return Y}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,g.delay=1e3*p/f,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,o-=4),a=(g!=null?g.data:void 0)||this.imgData,j=0;0<=o?j<o:j>o;0<=o?++j:--j)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((S=u-this.transparency.indexed.length)>0)for(k=0;0<=S?k<S:k>S;0<=S?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":w=(A=this.read(o)).indexOf(0),y=String.fromCharCode.apply(String,A.slice(0,w)),this.text[y]=String.fromCharCode.apply(String,A.slice(w+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(D=this.colorType)===4||D===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,c;for(c=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),u=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function p(g,w,y,E){var S,A,j,k,D,P,Y,z,R,B,q,te,H,W,J,ue,se,ee,Ae,ge,Be,_e=Math.ceil((f.width-g)/y),ct=Math.ceil((f.height-w)/E),U=f.width==_e&&f.height==ct;for(W=o*_e,te=U?c:new Uint8Array(W*ct),P=a.length,H=0,A=0;H<ct&&u<P;){switch(a[u++]){case 0:for(k=se=0;se<W;k=se+=1)te[A++]=a[u++];break;case 1:for(k=ee=0;ee<W;k=ee+=1)S=a[u++],D=k<o?0:te[A-o],te[A++]=(S+D)%256;break;case 2:for(k=Ae=0;Ae<W;k=Ae+=1)S=a[u++],j=(k-k%o)/o,J=H&&te[(H-1)*W+j*o+k%o],te[A++]=(J+S)%256;break;case 3:for(k=ge=0;ge<W;k=ge+=1)S=a[u++],j=(k-k%o)/o,D=k<o?0:te[A-o],J=H&&te[(H-1)*W+j*o+k%o],te[A++]=(S+Math.floor((D+J)/2))%256;break;case 4:for(k=Be=0;Be<W;k=Be+=1)S=a[u++],j=(k-k%o)/o,D=k<o?0:te[A-o],H===0?J=ue=0:(J=te[(H-1)*W+j*o+k%o],ue=j&&te[(H-1)*W+(j-1)*o+k%o]),Y=D+J-ue,z=Math.abs(Y-D),B=Math.abs(Y-J),q=Math.abs(Y-ue),R=z<=B&&z<=q?D:B<=q?J:ue,te[A++]=(S+R)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!U){var Z=((w+H*E)*f.width+g)*o,Q=H*W;for(k=0;k<_e;k+=1){for(var ne=0;ne<o;ne+=1)c[Z++]=te[Q++];Z+=(y-1)*o}}H++}}return a=XK(a),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),c},r.prototype.decodePalette=function(){var a,o,c,u,f,p,g,w,y;for(c=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+c.length),u=0,a=0,o=g=0,w=c.length;g<w;o=g+=3)f[u++]=c[o],f[u++]=c[o+1],f[u++]=c[o+2],f[u++]=(y=p[a++])!=null?y:255;return f},r.prototype.copyToImageData=function(a,o){var c,u,f,p,g,w,y,E,S,A,j;if(u=this.colors,S=null,c=this.hasAlphaChannel,this.palette.length&&(S=(j=this._decodedPalette)!=null?j:this._decodedPalette=this.decodePalette(),u=4,c=!0),E=(f=a.data||a).length,g=S||o,p=w=0,u===1)for(;p<E;)y=S?4*o[p/4]:w,A=g[y++],f[p++]=A,f[p++]=A,f[p++]=A,f[p++]=c?g[y++]:255,w=y;else for(;p<E;)y=S?4*o[p/4]:w,f[p++]=g[y++],f[p++]=g[y++],f[p++]=g[y++],f[p++]=c?g[y++]:255,w=y},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Vn)==="[object Window]"){try{t=Vn.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,c,u,f,p,g,w,y;if(this.animation){for(y=[],c=p=0,g=(w=this.animation.frames).length;p<g;c=++p)o=w[c],u=a.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,f),o.imageData=u,y.push(o.image=e(u));return y}},r.prototype.renderFrame=function(a,o){var c,u,f;return c=(u=this.animation.frames)[o],f=u[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),c.blendOp===0&&a.clearRect(c.xOffset,c.yOffset,c.width,c.height),a.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(a){var o,c,u,f,p,g,w=this;return c=0,g=this.animation,f=g.numFrames,u=g.frames,p=g.numPlays,(o=function(){var y,E;if(y=c++%f,E=u[y],w.renderFrame(a,y),f>1&&c/f<p)return w.animation._timeout=setTimeout(o,E.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function vQ(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var c=null,u=null;a&&(c=t,u=o,t+=3*o);var f=!0,p=[],g=0,w=null,y=0,E=null;for(this.width=n,this.height=r;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,E=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var S=e[t++];g=e[t++]|e[t++]<<8,w=e[t++],!(1&S)&&(w=null),y=S>>2&7,t++;break;case 254:for(;;){if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var A=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,D=e[t++]|e[t++]<<8,P=e[t++],Y=P>>6&1,z=1<<(7&P)+1,R=c,B=u,q=!1;P>>7&&(q=!0,R=t,B=z,t+=3*z);var te=t;for(t++;;){var H;if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}p.push({x:A,y:j,width:k,height:D,has_local_palette:q,palette_offset:R,palette_size:B,data_offset:te,data_length:t-te,transparent_index:w,interlaced:!!Y,delay:g,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return E},this.frameInfo=function(W){if(W<0||W>=p.length)throw new Error("Frame index out of range.");return p[W]},this.decodeAndBlitFrameBGRA=function(W,J){var ue=this.frameInfo(W),se=ue.width*ue.height,ee=new Uint8Array(se);yS(e,ue.data_offset,ee,se);var Ae=ue.palette_offset,ge=ue.transparent_index;ge===null&&(ge=256);var Be=ue.width,_e=n-Be,ct=Be,U=4*(ue.y*n+ue.x),Z=4*((ue.y+ue.height)*n+ue.x),Q=U,ne=4*_e;ue.interlaced===!0&&(ne+=4*n*7);for(var ce=8,be=0,Fe=ee.length;be<Fe;++be){var ze=ee[be];if(ct===0&&(ct=Be,(Q+=ne)>=Z&&(ne=4*_e+4*n*(ce-1),Q=U+(Be+_e)*(ce<<1),ce>>=1)),ze===ge)Q+=4;else{var Ze=e[Ae+3*ze],pt=e[Ae+3*ze+1],bt=e[Ae+3*ze+2];J[Q++]=bt,J[Q++]=pt,J[Q++]=Ze,J[Q++]=255}--ct}},this.decodeAndBlitFrameRGBA=function(W,J){var ue=this.frameInfo(W),se=ue.width*ue.height,ee=new Uint8Array(se);yS(e,ue.data_offset,ee,se);var Ae=ue.palette_offset,ge=ue.transparent_index;ge===null&&(ge=256);var Be=ue.width,_e=n-Be,ct=Be,U=4*(ue.y*n+ue.x),Z=4*((ue.y+ue.height)*n+ue.x),Q=U,ne=4*_e;ue.interlaced===!0&&(ne+=4*n*7);for(var ce=8,be=0,Fe=ee.length;be<Fe;++be){var ze=ee[be];if(ct===0&&(ct=Be,(Q+=ne)>=Z&&(ne=4*_e+4*n*(ce-1),Q=U+(Be+_e)*(ce<<1),ce>>=1)),ze===ge)Q+=4;else{var Ze=e[Ae+3*ze],pt=e[Ae+3*ze+1],bt=e[Ae+3*ze+2];J[Q++]=Ze,J[Q++]=pt,J[Q++]=bt,J[Q++]=255}--ct}}}function yS(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,c=o+1,u=i+1,f=(1<<u)-1,p=0,g=0,w=0,y=e[t++],E=new Int32Array(4096),S=null;;){for(;p<16&&y!==0;)g|=e[t++]<<p,p+=8,y===1?y=e[t++]:--y;if(p<u)break;var A=g&f;if(g>>=u,p-=u,A!==a){if(A===o)break;for(var j=A<c?A:S,k=0,D=j;D>a;)D=E[D]>>8,++k;var P=D;if(w+k+(j!==A?1:0)>r)return void wi.log("Warning, gif stream longer than expected.");n[w++]=P;var Y=w+=k;for(j!==A&&(n[w++]=P),D=j;k--;)D=E[D],n[--Y]=255&D,D>>=8;S!==null&&c<4096&&(E[c++]=S<<8|P,c>=f+1&&u<12&&(++u,f=f<<1|1)),S=A}else c=o+1,f=(1<<(u=i+1))-1,S=null}return w!==r&&wi.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function by(e){var t,n,r,i,a,o=Math.floor,c=new Array(64),u=new Array(64),f=new Array(64),p=new Array(64),g=new Array(65535),w=new Array(65535),y=new Array(64),E=new Array(64),S=[],A=0,j=7,k=new Array(64),D=new Array(64),P=new Array(64),Y=new Array(256),z=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(U,Z){for(var Q=0,ne=0,ce=new Array,be=1;be<=16;be++){for(var Fe=1;Fe<=U[be];Fe++)ce[Z[ne]]=[],ce[Z[ne]][0]=Q,ce[Z[ne]][1]=be,ne++,Q++;Q*=2}return ce}function Ae(U){for(var Z=U[0],Q=U[1]-1;Q>=0;)Z&1<<Q&&(A|=1<<j),Q--,--j<0&&(A==255?(ge(255),ge(0)):ge(A),j=7,A=0)}function ge(U){S.push(U)}function Be(U){ge(U>>8&255),ge(255&U)}function _e(U,Z,Q,ne,ce){for(var be,Fe=ce[0],ze=ce[240],Ze=function(rt,Ee){var qe,Le,Nt,et,wt,Vt,rn,dn,Qt,Tn,Kt=0;for(Qt=0;Qt<8;++Qt){qe=rt[Kt],Le=rt[Kt+1],Nt=rt[Kt+2],et=rt[Kt+3],wt=rt[Kt+4],Vt=rt[Kt+5],rn=rt[Kt+6];var Dr=qe+(dn=rt[Kt+7]),hn=qe-dn,Ue=Le+rn,$t=Le-rn,nn=Nt+Vt,Dn=Nt-Vt,Nn=et+wt,yi=et-wt,jr=Dr+Nn,Bn=Dr-Nn,ea=Ue+nn,Or=Ue-nn;rt[Kt]=jr+ea,rt[Kt+4]=jr-ea;var Mn=.707106781*(Or+Bn);rt[Kt+2]=Bn+Mn,rt[Kt+6]=Bn-Mn;var Gn=.382683433*((jr=yi+Dn)-(Or=$t+hn)),qs=.5411961*jr+Gn,hr=1.306562965*Or+Gn,ha=.707106781*(ea=Dn+$t),Pa=hn+ha,vn=hn-ha;rt[Kt+5]=vn+qs,rt[Kt+3]=vn-qs,rt[Kt+1]=Pa+hr,rt[Kt+7]=Pa-hr,Kt+=8}for(Kt=0,Qt=0;Qt<8;++Qt){qe=rt[Kt],Le=rt[Kt+8],Nt=rt[Kt+16],et=rt[Kt+24],wt=rt[Kt+32],Vt=rt[Kt+40],rn=rt[Kt+48];var Fa=qe+(dn=rt[Kt+56]),Oi=qe-dn,Ri=Le+rn,gr=Le-rn,Rr=Nt+Vt,he=Nt-Vt,ye=et+wt,je=et-wt,Te=Fa+ye,Oe=Fa-ye,Pe=Ri+Rr,ot=Ri-Rr;rt[Kt]=Te+Pe,rt[Kt+32]=Te-Pe;var _t=.707106781*(ot+Oe);rt[Kt+16]=Oe+_t,rt[Kt+48]=Oe-_t;var at=.382683433*((Te=je+he)-(ot=gr+Oi)),ft=.5411961*Te+at,xt=1.306562965*ot+at,Ft=.707106781*(Pe=he+gr),Wt=Oi+Ft,zt=Oi-Ft;rt[Kt+40]=zt+ft,rt[Kt+24]=zt-ft,rt[Kt+8]=Wt+xt,rt[Kt+56]=Wt-xt,Kt++}for(Qt=0;Qt<64;++Qt)Tn=rt[Qt]*Ee[Qt],y[Qt]=Tn>0?Tn+.5|0:Tn-.5|0;return y}(U,Z),pt=0;pt<64;++pt)E[R[pt]]=Ze[pt];var bt=E[0]-Q;Q=E[0],bt==0?Ae(ne[0]):(Ae(ne[w[be=32767+bt]]),Ae(g[be]));for(var Ye=63;Ye>0&&E[Ye]==0;)Ye--;if(Ye==0)return Ae(Fe),Q;for(var yt,it=1;it<=Ye;){for(var fe=it;E[it]==0&&it<=Ye;)++it;var He=it-fe;if(He>=16){yt=He>>4;for(var mt=1;mt<=yt;++mt)Ae(ze);He&=15}be=32767+E[it],Ae(ce[(He<<4)+w[be]]),Ae(g[be]),it++}return Ye!=63&&Ae(Fe),Q}function ct(U){U=Math.min(Math.max(U,1),100),a!=U&&(function(Z){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ce=o((Q[ne]*Z+50)/100);ce=Math.min(Math.max(ce,1),255),c[R[ne]]=ce}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Fe=0;Fe<64;Fe++){var ze=o((be[Fe]*Z+50)/100);ze=Math.min(Math.max(ze,1),255),u[R[Fe]]=ze}for(var Ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pt=0,bt=0;bt<8;bt++)for(var Ye=0;Ye<8;Ye++)f[pt]=1/(c[R[pt]]*Ze[bt]*Ze[Ye]*8),p[pt]=1/(u[R[pt]]*Ze[bt]*Ze[Ye]*8),pt++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),a=U)}this.encode=function(U,Z){Z&&ct(Z),S=new Array,A=0,j=7,Be(65496),Be(65504),Be(16),ge(74),ge(70),ge(73),ge(70),ge(0),ge(1),ge(1),ge(0),Be(1),Be(1),ge(0),ge(0),function(){Be(65499),Be(132),ge(0);for(var Le=0;Le<64;Le++)ge(c[Le]);ge(1);for(var Nt=0;Nt<64;Nt++)ge(u[Nt])}(),function(Le,Nt){Be(65472),Be(17),ge(8),Be(Nt),Be(Le),ge(3),ge(1),ge(17),ge(0),ge(2),ge(17),ge(1),ge(3),ge(17),ge(1)}(U.width,U.height),function(){Be(65476),Be(418),ge(0);for(var Le=0;Le<16;Le++)ge(B[Le+1]);for(var Nt=0;Nt<=11;Nt++)ge(q[Nt]);ge(16);for(var et=0;et<16;et++)ge(te[et+1]);for(var wt=0;wt<=161;wt++)ge(H[wt]);ge(1);for(var Vt=0;Vt<16;Vt++)ge(W[Vt+1]);for(var rn=0;rn<=11;rn++)ge(J[rn]);ge(17);for(var dn=0;dn<16;dn++)ge(ue[dn+1]);for(var Qt=0;Qt<=161;Qt++)ge(se[Qt])}(),Be(65498),Be(12),ge(3),ge(1),ge(0),ge(2),ge(17),ge(3),ge(17),ge(0),ge(63),ge(0);var Q=0,ne=0,ce=0;A=0,j=7,this.encode.displayName="_encode_";for(var be,Fe,ze,Ze,pt,bt,Ye,yt,it,fe=U.data,He=U.width,mt=U.height,rt=4*He,Ee=0;Ee<mt;){for(be=0;be<rt;){for(pt=rt*Ee+be,Ye=-1,yt=0,it=0;it<64;it++)bt=pt+(yt=it>>3)*rt+(Ye=4*(7&it)),Ee+yt>=mt&&(bt-=rt*(Ee+1+yt-mt)),be+Ye>=rt&&(bt-=be+Ye-rt+4),Fe=fe[bt++],ze=fe[bt++],Ze=fe[bt++],k[it]=(z[Fe]+z[ze+256>>0]+z[Ze+512>>0]>>16)-128,D[it]=(z[Fe+768>>0]+z[ze+1024>>0]+z[Ze+1280>>0]>>16)-128,P[it]=(z[Fe+1280>>0]+z[ze+1536>>0]+z[Ze+1792>>0]>>16)-128;Q=_e(k,f,Q,t,r),ne=_e(D,p,ne,n,i),ce=_e(P,p,ce,n,i),be+=32}Ee+=8}if(j>=0){var qe=[];qe[1]=j+1,qe[0]=(1<<j+1)-1,Ae(qe)}return Be(65497),new Uint8Array(S)},e=e||50,function(){for(var U=String.fromCharCode,Z=0;Z<256;Z++)Y[Z]=U(Z)}(),t=ee(B,q),n=ee(W,J),r=ee(te,H),i=ee(ue,se),function(){for(var U=1,Z=2,Q=1;Q<=15;Q++){for(var ne=U;ne<Z;ne++)w[32767+ne]=Q,g[32767+ne]=[],g[32767+ne][1]=Q,g[32767+ne][0]=ne;for(var ce=-(Z-1);ce<=-U;ce++)w[32767+ce]=Q,g[32767+ce]=[],g[32767+ce][1]=Q,g[32767+ce][0]=Z-1+ce;U<<=1,Z<<=1}}(),function(){for(var U=0;U<256;U++)z[U]=19595*U,z[U+256>>0]=38470*U,z[U+512>>0]=7471*U+32768,z[U+768>>0]=-11059*U,z[U+1024>>0]=-21709*U,z[U+1280>>0]=32768*U+8421375,z[U+1536>>0]=-27439*U,z[U+1792>>0]=-5329*U}(),ct(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Yl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function bS(e){function t(B){if(!B)throw Error("assert :P")}function n(B,q,te){for(var H=0;4>H;H++)if(B[q+H]!=te.charCodeAt(H))return!0;return!1}function r(B,q,te,H,W){for(var J=0;J<W;J++)B[q+J]=te[H+J]}function i(B,q,te,H){for(var W=0;W<H;W++)B[q+W]=te}function a(B){return new Int32Array(B)}function o(B,q){for(var te=[],H=0;H<B;H++)te.push(new q);return te}function c(B,q){var te=[];return function H(W,J,ue){for(var se=ue[J],ee=0;ee<se&&(W.push(ue.length>J+1?[]:new q),!(ue.length<J+1));ee++)H(W[ee],J+1,ue)}(te,0,B),te}var u=function(){var B=this;function q(_,T){for(var F=1<<T-1>>>0;_&F;)F>>>=1;return F?(_&F-1)+F:_}function te(_,T,F,G,ae){t(!(G%F));do _[T+(G-=F)]=ae;while(0<G)}function H(_,T,F,G,ae){if(t(2328>=ae),512>=ae)var pe=a(512);else if((pe=a(ae))==null)return 0;return function(xe,ve,Se,Me,Qe,ut){var dt,tt,Rt=ve,St=1<<Se,Ke=a(16),Je=a(16);for(t(Qe!=0),t(Me!=null),t(xe!=null),t(0<Se),tt=0;tt<Qe;++tt){if(15<Me[tt])return 0;++Ke[Me[tt]]}if(Ke[0]==Qe)return 0;for(Je[1]=0,dt=1;15>dt;++dt){if(Ke[dt]>1<<dt)return 0;Je[dt+1]=Je[dt]+Ke[dt]}for(tt=0;tt<Qe;++tt)dt=Me[tt],0<Me[tt]&&(ut[Je[dt]++]=tt);if(Je[15]==1)return(Me=new W).g=0,Me.value=ut[0],te(xe,Rt,1,St,Me),St;var Ot,Bt=-1,It=St-1,ln=0,Jt=1,wn=1,an=1<<Se;for(tt=0,dt=1,Qe=2;dt<=Se;++dt,Qe<<=1){if(Jt+=wn<<=1,0>(wn-=Ke[dt]))return 0;for(;0<Ke[dt];--Ke[dt])(Me=new W).g=dt,Me.value=ut[tt++],te(xe,Rt+ln,Qe,an,Me),ln=q(ln,dt)}for(dt=Se+1,Qe=2;15>=dt;++dt,Qe<<=1){if(Jt+=wn<<=1,0>(wn-=Ke[dt]))return 0;for(;0<Ke[dt];--Ke[dt]){if(Me=new W,(ln&It)!=Bt){for(Rt+=an,Ot=1<<(Bt=dt)-Se;15>Bt&&!(0>=(Ot-=Ke[Bt]));)++Bt,Ot<<=1;St+=an=1<<(Ot=Bt-Se),xe[ve+(Bt=ln&It)].g=Ot+Se,xe[ve+Bt].value=Rt-ve-Bt}Me.g=dt-Se,Me.value=ut[tt++],te(xe,Rt+(ln>>Se),Qe,an,Me),ln=q(ln,dt)}}return Jt!=2*Je[15]-1?0:St}(_,T,F,G,ae,pe)}function W(){this.value=this.g=0}function J(){this.value=this.g=0}function ue(){this.G=o(5,W),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o($r,J)}function se(_,T,F,G){t(_!=null),t(T!=null),t(2147483648>G),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=T,_.pa=F,_.Jd=T,_.Yc=F+G,_.Zc=4<=G?F+G-4+1:F,be(_)}function ee(_,T){for(var F=0;0<T--;)F|=ze(_,128)<<T;return F}function Ae(_,T){var F=ee(_,T);return Fe(_)?-F:F}function ge(_,T,F,G){var ae,pe=0;for(t(_!=null),t(T!=null),t(4294967288>G),_.Sb=G,_.Ra=0,_.u=0,_.h=0,4<G&&(G=4),ae=0;ae<G;++ae)pe+=T[F+ae]<<8*ae;_.Ra=pe,_.bb=G,_.oa=T,_.pa=F}function Be(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<mo-8>>>0,++_.bb,_.u-=8;Q(_)&&(_.h=1,_.u=0)}function _e(_,T){if(t(0<=T),!_.h&&T<=sl){var F=Z(_)&Hs[T];return _.u+=T,Be(_),F}return _.h=1,_.u=0}function ct(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(_){return _.Ra>>>(_.u&mo-1)>>>0}function Q(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>mo}function ne(_,T){_.u=T,_.h=Q(_)}function ce(_){_.u>=tr&&(t(_.u>=tr),Be(_))}function be(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function Fe(_){return ee(_,1)}function ze(_,T){var F=_.Ca;0>_.b&&be(_);var G=_.b,ae=F*T>>>8,pe=(_.I>>>G>ae)+0;for(pe?(F-=ae,_.I-=ae+1<<G>>>0):F=ae+1,G=F,ae=0;256<=G;)ae+=8,G>>=8;return G=7^ae+na[G],_.b-=G,_.Ca=(F<<G)-1,pe}function Ze(_,T,F){_[T+0]=F>>24&255,_[T+1]=F>>16&255,_[T+2]=F>>8&255,_[T+3]=F>>0&255}function pt(_,T){return _[T+0]<<0|_[T+1]<<8}function bt(_,T){return pt(_,T)|_[T+2]<<16}function Ye(_,T){return pt(_,T)|pt(_,T+2)<<16}function yt(_,T){var F=1<<T;return t(_!=null),t(0<T),_.X=a(F),_.X==null?0:(_.Mb=32-T,_.Xa=T,1)}function it(_,T){t(_!=null),t(T!=null),t(_.Xa==T.Xa),r(T.X,0,_.X,0,1<<T.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function He(_,T,F,G){t(F!=null),t(G!=null);var ae=F[0],pe=G[0];return ae==0&&(ae=(_*pe+T/2)/T),pe==0&&(pe=(T*ae+_/2)/_),0>=ae||0>=pe?0:(F[0]=ae,G[0]=pe,1)}function mt(_,T){return _+(1<<T)-1>>>T}function rt(_,T){return((4278255360&_)+(4278255360&T)>>>0&4278255360)+((16711935&_)+(16711935&T)>>>0&16711935)>>>0}function Ee(_,T){B[T]=function(F,G,ae,pe,xe,ve,Se){var Me;for(Me=0;Me<xe;++Me){var Qe=B[_](ve[Se+Me-1],ae,pe+Me);ve[Se+Me]=rt(F[G+Me],Qe)}}}function qe(){this.ud=this.hd=this.jd=0}function Le(_,T){return((4278124286&(_^T))>>>1)+(_&T)>>>0}function Nt(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function et(_,T){return Nt(_+(_-T+.5>>1))}function wt(_,T,F){return Math.abs(T-F)-Math.abs(_-F)}function Vt(_,T,F,G,ae,pe,xe){for(G=pe[xe-1],F=0;F<ae;++F)pe[xe+F]=G=rt(_[T+F],G)}function rn(_,T,F,G,ae){var pe;for(pe=0;pe<F;++pe){var xe=_[T+pe],ve=xe>>8&255,Se=16711935&(Se=(Se=16711935&xe)+((ve<<16)+ve));G[ae+pe]=(4278255360&xe)+Se>>>0}}function dn(_,T){T.jd=_>>0&255,T.hd=_>>8&255,T.ud=_>>16&255}function Qt(_,T,F,G,ae,pe){var xe;for(xe=0;xe<G;++xe){var ve=T[F+xe],Se=ve>>>8,Me=ve,Qe=255&(Qe=(Qe=ve>>>16)+((_.jd<<24>>24)*(Se<<24>>24)>>>5));Me=255&(Me=(Me=Me+((_.hd<<24>>24)*(Se<<24>>24)>>>5))+((_.ud<<24>>24)*(Qe<<24>>24)>>>5)),ae[pe+xe]=(4278255360&ve)+(Qe<<16)+Me}}function Tn(_,T,F,G,ae){B[T]=function(pe,xe,ve,Se,Me,Qe,ut,dt,tt){for(Se=ut;Se<dt;++Se)for(ut=0;ut<tt;++ut)Me[Qe++]=ae(ve[G(pe[xe++])])},B[_]=function(pe,xe,ve,Se,Me,Qe,ut){var dt=8>>pe.b,tt=pe.Ea,Rt=pe.K[0],St=pe.w;if(8>dt)for(pe=(1<<pe.b)-1,St=(1<<dt)-1;xe<ve;++xe){var Ke,Je=0;for(Ke=0;Ke<tt;++Ke)Ke&pe||(Je=G(Se[Me++])),Qe[ut++]=ae(Rt[Je&St]),Je>>=dt}else B["VP8LMapColor"+F](Se,Me,Rt,St,Qe,ut,xe,ve,tt)}}function Kt(_,T,F,G,ae){for(F=T+F;T<F;){var pe=_[T++];G[ae++]=pe>>16&255,G[ae++]=pe>>8&255,G[ae++]=pe>>0&255}}function Dr(_,T,F,G,ae){for(F=T+F;T<F;){var pe=_[T++];G[ae++]=pe>>16&255,G[ae++]=pe>>8&255,G[ae++]=pe>>0&255,G[ae++]=pe>>24&255}}function hn(_,T,F,G,ae){for(F=T+F;T<F;){var pe=(xe=_[T++])>>16&240|xe>>12&15,xe=xe>>0&240|xe>>28&15;G[ae++]=pe,G[ae++]=xe}}function Ue(_,T,F,G,ae){for(F=T+F;T<F;){var pe=(xe=_[T++])>>16&248|xe>>13&7,xe=xe>>5&224|xe>>3&31;G[ae++]=pe,G[ae++]=xe}}function $t(_,T,F,G,ae){for(F=T+F;T<F;){var pe=_[T++];G[ae++]=pe>>0&255,G[ae++]=pe>>8&255,G[ae++]=pe>>16&255}}function nn(_,T,F,G,ae,pe){if(pe==0)for(F=T+F;T<F;)Ze(G,((pe=_[T++])[0]>>24|pe[1]>>8&65280|pe[2]<<8&16711680|pe[3]<<24)>>>0),ae+=32;else r(G,ae,_,T,F)}function Dn(_,T){B[T][0]=B[_+"0"],B[T][1]=B[_+"1"],B[T][2]=B[_+"2"],B[T][3]=B[_+"3"],B[T][4]=B[_+"4"],B[T][5]=B[_+"5"],B[T][6]=B[_+"6"],B[T][7]=B[_+"7"],B[T][8]=B[_+"8"],B[T][9]=B[_+"9"],B[T][10]=B[_+"10"],B[T][11]=B[_+"11"],B[T][12]=B[_+"12"],B[T][13]=B[_+"13"],B[T][14]=B[_+"0"],B[T][15]=B[_+"0"]}function Nn(_){return _==ad||_==sd||_==od||_==m1}function yi(){this.eb=[],this.size=this.A=this.fb=0}function jr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Bn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new yi,this.f.kb=new jr,this.sd=null}function ea(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Or(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Mn(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Gn(_,T){var F=_.T,G=T.ba.f.RGBA,ae=G.eb,pe=G.fb+_.ka*G.A,xe=Vs[T.ba.S],ve=_.y,Se=_.O,Me=_.f,Qe=_.N,ut=_.ea,dt=_.W,tt=T.cc,Rt=T.dc,St=T.Mc,Ke=T.Nc,Je=_.ka,Ot=_.ka+_.T,Bt=_.U,It=Bt+1>>1;for(Je==0?xe(ve,Se,null,null,Me,Qe,ut,dt,Me,Qe,ut,dt,ae,pe,null,null,Bt):(xe(T.ec,T.fc,ve,Se,tt,Rt,St,Ke,Me,Qe,ut,dt,ae,pe-G.A,ae,pe,Bt),++F);Je+2<Ot;Je+=2)tt=Me,Rt=Qe,St=ut,Ke=dt,Qe+=_.Rc,dt+=_.Rc,pe+=2*G.A,xe(ve,(Se+=2*_.fa)-_.fa,ve,Se,tt,Rt,St,Ke,Me,Qe,ut,dt,ae,pe-G.A,ae,pe,Bt);return Se+=_.fa,_.j+Ot<_.o?(r(T.ec,T.fc,ve,Se,Bt),r(T.cc,T.dc,Me,Qe,It),r(T.Mc,T.Nc,ut,dt,It),F--):1&Ot||xe(ve,Se,null,null,Me,Qe,ut,dt,Me,Qe,ut,dt,ae,pe+G.A,null,null,Bt),F}function qs(_,T,F){var G=_.F,ae=[_.J];if(G!=null){var pe=_.U,xe=T.ba.S,ve=xe==Nf||xe==od;T=T.ba.f.RGBA;var Se=[0],Me=_.ka;Se[0]=_.T,_.Kb&&(Me==0?--Se[0]:(--Me,ae[0]-=_.width),_.j+_.ka+_.T==_.o&&(Se[0]=_.o-_.j-Me));var Qe=T.eb;Me=T.fb+Me*T.A,_=fi(G,ae[0],_.width,pe,Se,Qe,Me+(ve?0:3),T.A),t(F==Se),_&&Nn(xe)&&us(Qe,Me,ve,pe,Se,T.A)}return 0}function hr(_){var T=_.ma,F=T.ba.S,G=11>F,ae=F==wc||F==lu||F==Nf||F==p1||F==12||Nn(F);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Ol(T.Oa,_,ae?11:12))return 0;if(ae&&Nn(F)&&Dt(),_.da)alert("todo:use_scaling");else{if(G){if(T.Ib=Mn,_.Kb){if(F=_.U+1>>1,T.memory=a(_.U+2*F),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+_.U,T.Mc=T.cc,T.Nc=T.dc+F,T.Ib=Gn,Dt()}}else alert("todo:EmitYUV");ae&&(T.Jb=qs,G&&nt())}if(G&&!Cm){for(_=0;256>_;++_)Bl[_]=89858*(_-128)+ol>>Sf,zv[_]=-22014*(_-128)+ol,Uv[_]=-45773*(_-128),Bv[_]=113618*(_-128)+ol>>Sf;for(_=N0;_<v1;++_)T=76283*(_-16)+ol>>Sf,Wv[_-N0]=_r(T,255),qv[_-N0]=_r(T+8>>4,15);Cm=1}return 1}function ha(_){var T=_.ma,F=_.U,G=_.T;return t(!(1&_.ka)),0>=F||0>=G?0:(F=T.Ib(_,T),T.Jb!=null&&T.Jb(_,T,F),T.Dc+=F,1)}function Pa(_){_.ma.memory=null}function vn(_,T,F,G){return _e(_,8)!=47?0:(T[0]=_e(_,14)+1,F[0]=_e(_,14)+1,G[0]=_e(_,1),_e(_,3)!=0?0:!_.h)}function Fa(_,T){if(4>_)return _+1;var F=_-2>>1;return(2+(1&_)<<F)+_e(T,F)+1}function Oi(_,T){return 120<T?T-120:1<=(F=((F=Dv[T-1])>>4)*_+(8-(15&F)))?F:1;var F}function Ri(_,T,F){var G=Z(F),ae=_[T+=255&G].g-8;return 0<ae&&(ne(F,F.u+8),G=Z(F),T+=_[T].value,T+=G&(1<<ae)-1),ne(F,F.u+_[T].g),_[T].value}function gr(_,T,F){return F.g+=_.g,F.value+=_.value<<T>>>0,t(8>=F.g),_.g}function Rr(_,T,F){var G=_.xc;return t((T=G==0?0:_.vc[_.md*(F>>G)+(T>>G)])<_.Wb),_.Ya[T]}function he(_,T,F,G){var ae=_.ab,pe=_.c*T,xe=_.C;T=xe+T;var ve=F,Se=G;for(G=_.Ta,F=_.Ua;0<ae--;){var Me=_.gc[ae],Qe=xe,ut=T,dt=ve,tt=Se,Rt=(Se=G,ve=F,Me.Ea);switch(t(Qe<ut),t(ut<=Me.nc),Me.hc){case 2:d(dt,tt,(ut-Qe)*Rt,Se,ve);break;case 0:var St=Qe,Ke=ut,Je=Se,Ot=ve,Bt=(an=Me).Ea;St==0&&(re(dt,tt,null,null,1,Je,Ot),Vt(dt,tt+1,0,0,Bt-1,Je,Ot+1),tt+=Bt,Ot+=Bt,++St);for(var It=1<<an.b,ln=It-1,Jt=mt(Bt,an.b),wn=an.K,an=an.w+(St>>an.b)*Jt;St<Ke;){var Ar=wn,Fr=an,mr=1;for(l(dt,tt,Je,Ot-Bt,1,Je,Ot);mr<Bt;){var Zn=(mr&~ln)+It;Zn>Bt&&(Zn=Bt),(0,C[Ar[Fr++]>>8&15])(dt,tt+ +mr,Je,Ot+mr-Bt,Zn-mr,Je,Ot+mr),mr=Zn}tt+=Bt,Ot+=Bt,++St&ln||(an+=Jt)}ut!=Me.nc&&r(Se,ve-Rt,Se,ve+(ut-Qe-1)*Rt,Rt);break;case 1:for(Rt=dt,Ke=tt,Bt=(dt=Me.Ea)-(Ot=dt&~(Je=(tt=1<<Me.b)-1)),St=mt(dt,Me.b),It=Me.K,Me=Me.w+(Qe>>Me.b)*St;Qe<ut;){for(ln=It,Jt=Me,wn=new qe,an=Ke+Ot,Ar=Ke+dt;Ke<an;)dn(ln[Jt++],wn),I(wn,Rt,Ke,tt,Se,ve),Ke+=tt,ve+=tt;Ke<Ar&&(dn(ln[Jt++],wn),I(wn,Rt,Ke,Bt,Se,ve),Ke+=Bt,ve+=Bt),++Qe&Je||(Me+=St)}break;case 3:if(dt==Se&&tt==ve&&0<Me.b){for(Ke=Se,dt=Rt=ve+(ut-Qe)*Rt-(Ot=(ut-Qe)*mt(Me.Ea,Me.b)),tt=Se,Je=ve,St=[],Ot=(Bt=Ot)-1;0<=Ot;--Ot)St[Ot]=tt[Je+Ot];for(Ot=Bt-1;0<=Ot;--Ot)Ke[dt+Ot]=St[Ot];h(Me,Qe,ut,Se,Rt,Se,ve)}else h(Me,Qe,ut,dt,tt,Se,ve)}ve=G,Se=F}Se!=F&&r(G,F,ve,Se,pe)}function ye(_,T){var F=_.V,G=_.Ba+_.c*_.C,ae=T-_.C;if(t(T<=_.l.o),t(16>=ae),0<ae){var pe=_.l,xe=_.Ta,ve=_.Ua,Se=pe.width;if(he(_,ae,F,G),ae=ve=[ve],t((F=_.C)<(G=T)),t(pe.v<pe.va),G>pe.o&&(G=pe.o),F<pe.j){var Me=pe.j-F;F=pe.j,ae[0]+=Me*Se}if(F>=G?F=0:(ae[0]+=4*pe.v,pe.ka=F-pe.j,pe.U=pe.va-pe.v,pe.T=G-F,F=1),F){if(ve=ve[0],11>(F=_.ca).S){var Qe=F.f.RGBA,ut=(G=F.S,ae=pe.U,pe=pe.T,Me=Qe.eb,Qe.A),dt=pe;for(Qe=Qe.fb+_.Ma*Qe.A;0<dt--;){var tt=xe,Rt=ve,St=ae,Ke=Me,Je=Qe;switch(G){case g0:M(tt,Rt,St,Ke,Je);break;case wc:X(tt,Rt,St,Ke,Je);break;case ad:X(tt,Rt,St,Ke,Je),us(Ke,Je,0,St,1,0);break;case yc:De(tt,Rt,St,Ke,Je);break;case lu:nn(tt,Rt,St,Ke,Je,1);break;case sd:nn(tt,Rt,St,Ke,Je,1),us(Ke,Je,0,St,1,0);break;case Nf:nn(tt,Rt,St,Ke,Je,0);break;case od:nn(tt,Rt,St,Ke,Je,0),us(Ke,Je,1,St,1,0);break;case p1:ie(tt,Rt,St,Ke,Je);break;case m1:ie(tt,Rt,St,Ke,Je),qr(Ke,Je,St,1,0);break;case wm:me(tt,Rt,St,Ke,Je);break;default:t(0)}ve+=Se,Qe+=ut}_.Ma+=pe}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=F.height)}}_.C=T,t(_.C<=_.i)}function je(_){var T;if(0<_.ua)return 0;for(T=0;T<_.Wb;++T){var F=_.Ya[T].G,G=_.Ya[T].H;if(0<F[1][G[1]+0].g||0<F[2][G[2]+0].g||0<F[3][G[3]+0].g)return 0}return 1}function Te(_,T,F,G,ae,pe){if(_.Z!=0){var xe=_.qd,ve=_.rd;for(t(vo[_.Z]!=null);T<F;++T)vo[_.Z](xe,ve,G,ae,G,ae,pe),xe=G,ve=ae,ae+=pe;_.qd=xe,_.rd=ve}}function Oe(_,T){var F=_.l.ma,G=F.Z==0||F.Z==1?_.l.j:_.C;if(G=_.C<G?G:_.C,t(T<=_.l.o),T>G){var ae=_.l.width,pe=F.ca,xe=F.tb+ae*G,ve=_.V,Se=_.Ba+_.c*G,Me=_.gc;t(_.ab==1),t(Me[0].hc==3),v(Me[0],G,T,ve,Se,pe,xe),Te(F,G,T,pe,xe,ae)}_.C=_.Ma=T}function Pe(_,T,F,G,ae,pe,xe){var ve=_.$/G,Se=_.$%G,Me=_.m,Qe=_.s,ut=F+_.$,dt=ut;ae=F+G*ae;var tt=F+G*pe,Rt=280+Qe.ua,St=_.Pb?ve:16777216,Ke=0<Qe.ua?Qe.Wa:null,Je=Qe.wc,Ot=ut<tt?Rr(Qe,Se,ve):null;t(_.C<pe),t(tt<=ae);var Bt=!1;e:for(;;){for(;Bt||ut<tt;){var It=0;if(ve>=St){var ln=ut-F;t((St=_).Pb),St.wd=St.m,St.xd=ln,0<St.s.ua&&it(St.s.Wa,St.s.vb),St=ve+Nm}if(Se&Je||(Ot=Rr(Qe,Se,ve)),t(Ot!=null),Ot.Qb&&(T[ut]=Ot.qb,Bt=!0),!Bt)if(ce(Me),Ot.jc){It=Me,ln=T;var Jt=ut,wn=Ot.pd[Z(It)&$r-1];t(Ot.jc),256>wn.g?(ne(It,It.u+wn.g),ln[Jt]=wn.value,It=0):(ne(It,It.u+wn.g-256),t(256<=wn.value),It=wn.value),It==0&&(Bt=!0)}else It=Ri(Ot.G[0],Ot.H[0],Me);if(Me.h)break;if(Bt||256>It){if(!Bt)if(Ot.nd)T[ut]=(Ot.qb|It<<8)>>>0;else{if(ce(Me),Bt=Ri(Ot.G[1],Ot.H[1],Me),ce(Me),ln=Ri(Ot.G[2],Ot.H[2],Me),Jt=Ri(Ot.G[3],Ot.H[3],Me),Me.h)break;T[ut]=(Jt<<24|Bt<<16|It<<8|ln)>>>0}if(Bt=!1,++ut,++Se>=G&&(Se=0,++ve,xe!=null&&ve<=pe&&!(ve%16)&&xe(_,ve),Ke!=null))for(;dt<ut;)It=T[dt++],Ke.X[(506832829*It&4294967295)>>>Ke.Mb]=It}else if(280>It){if(It=Fa(It-256,Me),ln=Ri(Ot.G[4],Ot.H[4],Me),ce(Me),ln=Oi(G,ln=Fa(ln,Me)),Me.h)break;if(ut-F<ln||ae-ut<It)break e;for(Jt=0;Jt<It;++Jt)T[ut+Jt]=T[ut+Jt-ln];for(ut+=It,Se+=It;Se>=G;)Se-=G,++ve,xe!=null&&ve<=pe&&!(ve%16)&&xe(_,ve);if(t(ut<=ae),Se&Je&&(Ot=Rr(Qe,Se,ve)),Ke!=null)for(;dt<ut;)It=T[dt++],Ke.X[(506832829*It&4294967295)>>>Ke.Mb]=It}else{if(!(It<Rt))break e;for(Bt=It-280,t(Ke!=null);dt<ut;)It=T[dt++],Ke.X[(506832829*It&4294967295)>>>Ke.Mb]=It;It=ut,t(!(Bt>>>(ln=Ke).Xa)),T[It]=ln.X[Bt],Bt=!0}Bt||t(Me.h==Q(Me))}if(_.Pb&&Me.h&&ut<ae)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&it(_.s.vb,_.s.Wa);else{if(Me.h)break e;xe!=null&&xe(_,ve>pe?pe:ve),_.a=0,_.$=ut-F}return 1}return _.a=3,0}function ot(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var T=_.Wa;T!=null&&(T.X=null),_.vb=null,t(_!=null)}function _t(){var _=new li;return _==null?null:(_.a=0,_.xb=y0,Dn("Predictor","VP8LPredictors"),Dn("Predictor","VP8LPredictors_C"),Dn("PredictorAdd","VP8LPredictorsAdd"),Dn("PredictorAdd","VP8LPredictorsAdd_C"),d=rn,I=Qt,M=Kt,X=Dr,ie=hn,me=Ue,De=$t,B.VP8LMapColor32b=x,B.VP8LMapColor8b=N,_)}function at(_,T,F,G,ae){var pe=1,xe=[_],ve=[T],Se=G.m,Me=G.s,Qe=null,ut=0;e:for(;;){if(F)for(;pe&&_e(Se,1);){var dt=xe,tt=ve,Rt=G,St=1,Ke=Rt.m,Je=Rt.gc[Rt.ab],Ot=_e(Ke,2);if(Rt.Oc&1<<Ot)pe=0;else{switch(Rt.Oc|=1<<Ot,Je.hc=Ot,Je.Ea=dt[0],Je.nc=tt[0],Je.K=[null],++Rt.ab,t(4>=Rt.ab),Ot){case 0:case 1:Je.b=_e(Ke,3)+2,St=at(mt(Je.Ea,Je.b),mt(Je.nc,Je.b),0,Rt,Je.K),Je.K=Je.K[0];break;case 3:var Bt,It=_e(Ke,8)+1,ln=16<It?0:4<It?1:2<It?2:3;if(dt[0]=mt(Je.Ea,ln),Je.b=ln,Bt=St=at(It,1,0,Rt,Je.K)){var Jt,wn=It,an=Je,Ar=1<<(8>>an.b),Fr=a(Ar);if(Fr==null)Bt=0;else{var mr=an.K[0],Zn=an.w;for(Fr[0]=an.K[0][0],Jt=1;Jt<1*wn;++Jt)Fr[Jt]=rt(mr[Zn+Jt],Fr[Jt-1]);for(;Jt<4*Ar;++Jt)Fr[Jt]=0;an.K[0]=null,an.K[0]=Fr,Bt=1}}St=Bt;break;case 2:break;default:t(0)}pe=St}}if(xe=xe[0],ve=ve[0],pe&&_e(Se,1)&&!(pe=1<=(ut=_e(Se,4))&&11>=ut)){G.a=3;break e}var Yr;if(Yr=pe)t:{var Gr,Yn,ra,fs=G,vr=xe,Qa=ve,Br=ut,Bi=F,hs=fs.m,Yi=fs.s,ji=[null],Za=1,hi=0,wo=Ov[Br];n:for(;;){if(Bi&&_e(hs,1)){var La=_e(hs,3)+2,Ul=mt(vr,La),cu=mt(Qa,La),Nc=Ul*cu;if(!at(Ul,cu,0,fs,ji))break n;for(ji=ji[0],Yi.xc=La,Gr=0;Gr<Nc;++Gr){var _c=ji[Gr]>>8&65535;ji[Gr]=_c,_c>=Za&&(Za=_c+1)}}if(hs.h)break n;for(Yn=0;5>Yn;++Yn){var pi=bm[Yn];!Yn&&0<Br&&(pi+=1<<Br),hi<pi&&(hi=pi)}var Ef=o(Za*wo,W),Am=Za,jm=o(Am,ue);if(jm==null)var Sc=null;else t(65536>=Am),Sc=jm;var _0=a(hi);if(Sc==null||_0==null||Ef==null){fs.a=1;break n}var Af=Ef;for(Gr=ra=0;Gr<Za;++Gr){var Ys=Sc[Gr],uu=Ys.G,fd=Ys.H,km=0,jf=1,w1=0;for(Yn=0;5>Yn;++Yn){pi=bm[Yn],uu[Yn]=Af,fd[Yn]=ra,!Yn&&0<Br&&(pi+=1<<Br);i:{var hd,y1=pi,pd=fs,md=_0,Tm=Af,Lm=ra,xd=0,Cc=pd.m,Im=_e(Cc,1);if(i(md,0,0,y1),Im){var Dm=_e(Cc,1)+1,$v=_e(Cc,1),b1=_e(Cc,$v==0?1:8);md[b1]=1,Dm==2&&(md[b1=_e(Cc,8)]=1);var kf=1}else{var Tf=a(19),N1=_e(Cc,4)+4;if(19<N1){pd.a=3;var gd=0;break i}for(hd=0;hd<N1;++hd)Tf[Ka[hd]]=_e(Cc,3);var _1=void 0,du=void 0,ir=pd,Yv=Tf,Lf=y1,vd=md,If=0,Ec=ir.m,Om=8,Gs=o(128,W);r:for(;H(Gs,0,7,Yv,19);){if(_e(Ec,1)){var Gv=2+2*_e(Ec,3);if((_1=2+_e(Ec,Gv))>Lf)break r}else _1=Lf;for(du=0;du<Lf&&_1--;){ce(Ec);var S0=Gs[0+(127&Z(Ec))];ne(Ec,Ec.u+S0.g);var Ac=S0.value;if(16>Ac)vd[du++]=Ac,Ac!=0&&(Om=Ac);else{var Rm=Ac==16,S1=Ac-16,Xs=Iv[S1],zl=_e(Ec,ym[S1])+Xs;if(du+zl>Lf)break r;for(var C1=Rm?Om:0;0<zl--;)vd[du++]=C1}}If=1;break r}If||(ir.a=3),kf=If}(kf=kf&&!Cc.h)&&(xd=H(Tm,Lm,8,md,y1)),kf&&xd!=0?gd=xd:(pd.a=3,gd=0)}if(gd==0)break n;if(jf&&va[Yn]==1&&(jf=Af[ra].g==0),km+=Af[ra].g,ra+=gd,3>=Yn){var wd,yd=_0[0];for(wd=1;wd<pi;++wd)_0[wd]>yd&&(yd=_0[wd]);w1+=yd}}if(Ys.nd=jf,Ys.Qb=0,jf&&(Ys.qb=(uu[3][fd[3]+0].value<<24|uu[1][fd[1]+0].value<<16|uu[2][fd[2]+0].value)>>>0,km==0&&256>uu[0][fd[0]+0].value&&(Ys.Qb=1,Ys.qb+=uu[0][fd[0]+0].value<<8)),Ys.jc=!Ys.Qb&&6>w1,Ys.jc){var C0,Bo=Ys;for(C0=0;C0<$r;++C0){var Wl=C0,cl=Bo.pd[Wl],bd=Bo.G[0][Bo.H[0]+Wl];256<=bd.value?(cl.g=bd.g+256,cl.value=bd.value):(cl.g=0,cl.value=0,Wl>>=gr(bd,8,cl),Wl>>=gr(Bo.G[1][Bo.H[1]+Wl],16,cl),Wl>>=gr(Bo.G[2][Bo.H[2]+Wl],0,cl),gr(Bo.G[3][Bo.H[3]+Wl],24,cl))}}}Yi.vc=ji,Yi.Wb=Za,Yi.Ya=Sc,Yi.yc=Ef,Yr=1;break t}Yr=0}if(!(pe=Yr)){G.a=3;break e}if(0<ut){if(Me.ua=1<<ut,!yt(Me.Wa,ut)){G.a=1,pe=0;break e}}else Me.ua=0;var ul=G,Mm=xe,jc=ve,Df=ul.s,Of=Df.xc;if(ul.c=Mm,ul.i=jc,Df.md=mt(Mm,Of),Df.wc=Of==0?-1:(1<<Of)-1,F){G.xb=Mv;break e}if((Qe=a(xe*ve))==null){G.a=1,pe=0;break e}pe=(pe=Pe(G,Qe,0,xe,ve,ve,null))&&!Se.h;break e}return pe?(ae!=null?ae[0]=Qe:(t(Qe==null),t(F)),G.$=0,F||ot(Me)):ot(Me),pe}function ft(_,T){var F=_.c*_.i,G=F+T+16*T;return t(_.c<=T),_.V=a(G),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+F+T,1)}function xt(_,T){var F=_.C,G=T-F,ae=_.V,pe=_.Ba+_.c*F;for(t(T<=_.l.o);0<G;){var xe=16<G?16:G,ve=_.l.ma,Se=_.l.width,Me=Se*xe,Qe=ve.ca,ut=ve.tb+Se*F,dt=_.Ta,tt=_.Ua;he(_,xe,ae,pe),$i(dt,tt,Qe,ut,Me),Te(ve,F,F+xe,Qe,ut,Se),G-=xe,ae+=xe*_.c,F+=xe}t(F==T),_.C=_.Ma=T}function Ft(){this.ub=this.yd=this.td=this.Rb=0}function Wt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Yt(){this.Yb=function(){var _=[];return function T(F,G,ae){for(var pe=ae[G],xe=0;xe<pe&&(F.push(ae.length>G+1?[]:0),!(ae.length<G+1));xe++)T(F[xe],G+1,ae)}(_,0,[3,11]),_}()}function Zt(){this.jb=a(3),this.Wc=c([4,8],Yt),this.Xc=c([4,17],Yt)}function On(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ct(){this.ld=this.La=this.dd=this.tc=0}function Mr(){this.Na=this.la=0}function Xn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pa(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function co(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ct),this.Y=0,this.ya=Array(new pa),this.aa=0,this.l=new $n}function er(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Qn(){this.cb=this.a=0,this.sc="",this.m=new ct,this.Od=new Ft,this.Kc=new Wt,this.ed=new On,this.Qa=new zt,this.Ic=this.$c=this.Aa=0,this.D=new co,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ct),this.ia=0,this.pb=o(4,Xn),this.Pa=new Zt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new er),this.Hd=0,this.rb=Array(new Mr),this.sb=0,this.wa=Array(new Ct),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pa),this.L=this.aa=0,this.gd=c([4,2],Ct),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $n(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ba(){var _=new Qn;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Pl||(Pl=ls)),_}function si(_,T,F){return _.a==0&&(_.a=T,_.sc=F,_.cb=0),0}function Al(_,T,F){return 3<=F&&_[T+0]==157&&_[T+1]==1&&_[T+2]==42}function xi(_,T){if(_==null)return 0;if(_.a=0,_.sc="OK",T==null)return si(_,2,"null VP8Io passed to VP8GetHeaders()");var F=T.data,G=T.w,ae=T.ha;if(4>ae)return si(_,7,"Truncated header.");var pe=F[G+0]|F[G+1]<<8|F[G+2]<<16,xe=_.Od;if(xe.Rb=!(1&pe),xe.td=pe>>1&7,xe.yd=pe>>4&1,xe.ub=pe>>5,3<xe.td)return si(_,3,"Incorrect keyframe parameters.");if(!xe.yd)return si(_,4,"Frame not displayable.");G+=3,ae-=3;var ve=_.Kc;if(xe.Rb){if(7>ae)return si(_,7,"cannot parse picture header");if(!Al(F,G,ae))return si(_,3,"Bad code word");ve.c=16383&(F[G+4]<<8|F[G+3]),ve.Td=F[G+4]>>6,ve.i=16383&(F[G+6]<<8|F[G+5]),ve.Ud=F[G+6]>>6,G+=7,ae-=7,_.za=ve.c+15>>4,_.Ub=ve.i+15>>4,T.width=ve.c,T.height=ve.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((pe=_.Pa).jb,0,255,pe.jb.length),t((pe=_.Qa)!=null),pe.Cb=0,pe.Bb=0,pe.Fb=1,i(pe.Zb,0,0,pe.Zb.length),i(pe.Lb,0,0,pe.Lb)}if(xe.ub>ae)return si(_,7,"bad partition length");se(pe=_.m,F,G,xe.ub),G+=xe.ub,ae-=xe.ub,xe.Rb&&(ve.Ld=Fe(pe),ve.Kd=Fe(pe)),ve=_.Qa;var Se,Me=_.Pa;if(t(pe!=null),t(ve!=null),ve.Cb=Fe(pe),ve.Cb){if(ve.Bb=Fe(pe),Fe(pe)){for(ve.Fb=Fe(pe),Se=0;4>Se;++Se)ve.Zb[Se]=Fe(pe)?Ae(pe,7):0;for(Se=0;4>Se;++Se)ve.Lb[Se]=Fe(pe)?Ae(pe,6):0}if(ve.Bb)for(Se=0;3>Se;++Se)Me.jb[Se]=Fe(pe)?ee(pe,8):255}else ve.Bb=0;if(pe.Ka)return si(_,3,"cannot parse segment header");if((ve=_.ed).zd=Fe(pe),ve.Tb=ee(pe,6),ve.wb=ee(pe,3),ve.Pc=Fe(pe),ve.Pc&&Fe(pe)){for(Me=0;4>Me;++Me)Fe(pe)&&(ve.vd[Me]=Ae(pe,6));for(Me=0;4>Me;++Me)Fe(pe)&&(ve.od[Me]=Ae(pe,6))}if(_.L=ve.Tb==0?0:ve.zd?1:2,pe.Ka)return si(_,3,"cannot parse filter header");var Qe=ae;if(ae=Se=G,G=Se+Qe,ve=Qe,_.Xb=(1<<ee(_.m,2))-1,Qe<3*(Me=_.Xb))F=7;else{for(Se+=3*Me,ve-=3*Me,Qe=0;Qe<Me;++Qe){var ut=F[ae+0]|F[ae+1]<<8|F[ae+2]<<16;ut>ve&&(ut=ve),se(_.Jc[+Qe],F,Se,ut),Se+=ut,ve-=ut,ae+=3}se(_.Jc[+Me],F,Se,ve),F=Se<G?0:5}if(F!=0)return si(_,F,"cannot parse partitions");for(F=ee(Se=_.m,7),ae=Fe(Se)?Ae(Se,4):0,G=Fe(Se)?Ae(Se,4):0,ve=Fe(Se)?Ae(Se,4):0,Me=Fe(Se)?Ae(Se,4):0,Se=Fe(Se)?Ae(Se,4):0,Qe=_.Qa,ut=0;4>ut;++ut){if(Qe.Cb){var dt=Qe.Zb[ut];Qe.Fb||(dt+=F)}else{if(0<ut){_.pb[ut]=_.pb[0];continue}dt=F}var tt=_.pb[ut];tt.Sc[0]=x1[_r(dt+ae,127)],tt.Sc[1]=v0[_r(dt+0,127)],tt.Eb[0]=2*x1[_r(dt+G,127)],tt.Eb[1]=101581*v0[_r(dt+ve,127)]>>16,8>tt.Eb[1]&&(tt.Eb[1]=8),tt.Qc[0]=x1[_r(dt+Me,117)],tt.Qc[1]=v0[_r(dt+Se,127)],tt.lc=dt+Se}if(!xe.Rb)return si(_,4,"Not a key frame.");for(Fe(pe),xe=_.Pa,F=0;4>F;++F){for(ae=0;8>ae;++ae)for(G=0;3>G;++G)for(ve=0;11>ve;++ve)Me=ze(pe,ud[F][ae][G][ve])?ee(pe,8):w0[F][ae][G][ve],xe.Wc[F][ae].Yb[G][ve]=Me;for(ae=0;17>ae;++ae)xe.Xc[F][ae]=xe.Wc[F][Rv[ae]]}return _.kc=Fe(pe),_.kc&&(_.Bd=ee(pe,8)),_.cb=1}function ls(_,T,F,G,ae,pe,xe){var ve=T[ae].Yb[F];for(F=0;16>ae;++ae){if(!ze(_,ve[F+0]))return ae;for(;!ze(_,ve[F+1]);)if(ve=T[++ae].Yb[0],F=0,ae==16)return 16;var Se=T[ae+1].Yb;if(ze(_,ve[F+2])){var Me=_,Qe=0;if(ze(Me,(dt=ve)[(ut=F)+3]))if(ze(Me,dt[ut+6])){for(ve=0,ut=2*(Qe=ze(Me,dt[ut+8]))+(dt=ze(Me,dt[ut+9+Qe])),Qe=0,dt=g1[ut];dt[ve];++ve)Qe+=Qe+ze(Me,dt[ve]);Qe+=3+(8<<ut)}else ze(Me,dt[ut+7])?(Qe=7+2*ze(Me,165),Qe+=ze(Me,145)):Qe=5+ze(Me,159);else Qe=ze(Me,dt[ut+4])?3+ze(Me,dt[ut+5]):2;ve=Se[2]}else Qe=1,ve=Se[1];Se=xe+ld[ae],0>(Me=_).b&&be(Me);var ut,dt=Me.b,tt=(ut=Me.Ca>>1)-(Me.I>>dt)>>31;--Me.b,Me.Ca+=tt,Me.Ca|=1,Me.I-=(ut+1&tt)<<dt,pe[Se]=((Qe^tt)-tt)*G[(0<ae)+0]}return 16}function eu(_){var T=_.rb[_.sb-1];T.la=0,T.Na=0,i(_.zc,0,0,_.zc.length),_.ja=0}function oi(_,T){if(_==null)return 0;if(T==null)return si(_,2,"NULL VP8Io parameter in VP8Decode().");if(!_.cb&&!xi(_,T))return 0;if(t(_.cb),T.ac==null||T.ac(T)){T.ob&&(_.L=0);var F=Cf[_.L];if(_.L==2?(_.yb=0,_.zb=0):(_.yb=T.v-F>>4,_.zb=T.j-F>>4,0>_.yb&&(_.yb=0),0>_.zb&&(_.zb=0)),_.Va=T.o+15+F>>4,_.Hb=T.va+15+F>>4,_.Hb>_.za&&(_.Hb=_.za),_.Va>_.Ub&&(_.Va=_.Ub),0<_.L){var G=_.ed;for(F=0;4>F;++F){var ae;if(_.Qa.Cb){var pe=_.Qa.Lb[F];_.Qa.Fb||(pe+=G.Tb)}else pe=G.Tb;for(ae=0;1>=ae;++ae){var xe=_.gd[F][ae],ve=pe;if(G.Pc&&(ve+=G.vd[0],ae&&(ve+=G.od[0])),0<(ve=0>ve?0:63<ve?63:ve)){var Se=ve;0<G.wb&&(Se=4<G.wb?Se>>2:Se>>1)>9-G.wb&&(Se=9-G.wb),1>Se&&(Se=1),xe.dd=Se,xe.tc=2*ve+Se,xe.ld=40<=ve?2:15<=ve?1:0}else xe.tc=0;xe.La=ae}}}F=0}else si(_,6,"Frame setup failed"),F=_.a;if(F=F==0){if(F){_.$c=0,0<_.Aa||(_.Ic=Vv);e:{F=_.Ic,G=4*(Se=_.za);var Me=32*Se,Qe=Se+1,ut=0<_.L?Se*(0<_.Aa?2:1):0,dt=(_.Aa==2?2:1)*Se;if((xe=G+832+(ae=3*(16*F+Cf[_.L])/2*Me)+(pe=_.Fa!=null&&0<_.Fa.length?_.Kc.c*_.Kc.i:0))!=xe)F=0;else{if(xe>_.Vb){if(_.Vb=0,_.Ec=a(xe),_.Fc=0,_.Ec==null){F=si(_,1,"no memory during frame initialization.");break e}_.Vb=xe}xe=_.Ec,ve=_.Fc,_.Ac=xe,_.Bc=ve,ve+=G,_.Gd=o(Me,er),_.Hd=0,_.rb=o(Qe+1,Mr),_.sb=1,_.wa=ut?o(ut,Ct):null,_.Y=0,_.D.Nb=0,_.D.wa=_.wa,_.D.Y=_.Y,0<_.Aa&&(_.D.Y+=Se),t(!0),_.oc=xe,_.pc=ve,ve+=832,_.ya=o(dt,pa),_.aa=0,_.D.ya=_.ya,_.D.aa=_.aa,_.Aa==2&&(_.D.aa+=Se),_.R=16*Se,_.B=8*Se,Se=(Me=Cf[_.L])*_.R,Me=Me/2*_.B,_.sa=xe,_.ta=ve+Se,_.qa=_.sa,_.ra=_.ta+16*F*_.R+Me,_.Ha=_.qa,_.Ia=_.ra+8*F*_.B+Me,_.$c=0,ve+=ae,_.mb=pe?xe:null,_.nb=pe?ve:null,t(ve+pe<=_.Fc+_.Vb),eu(_),i(_.Ac,_.Bc,0,G),F=1}}if(F){if(T.ka=0,T.y=_.sa,T.O=_.ta,T.f=_.qa,T.N=_.ra,T.ea=_.Ha,T.Vd=_.Ia,T.fa=_.R,T.Rc=_.B,T.F=null,T.J=0,!m0){for(F=-255;255>=F;++F)ga[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)xo[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)go[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)Ml[255+F]=0>F?0:255<F?255:F;m0=1}de=ja,Ne=lt,$e=Ie,vt=_n,jt=gi,Ce=Mi,Lt=Po,un=Wa,Rn=Kn,Fi=Ni,Pr=rd,di=gt,wr=Pi,Wr=au,Si=Ai,Ta=Ss,rr=za,Es=nd,Fo[0]=Sn,Fo[1]=mc,Fo[2]=Ll,Fo[3]=fo,Fo[4]=ed,Fo[5]=bi,Fo[6]=qn,Fo[7]=nu,Fo[8]=td,Fo[9]=ru,bc[0]=Tl,bc[1]=jn,bc[2]=Nr,bc[3]=il,bc[4]=Hi,bc[5]=tu,bc[6]=Ju,Fl[0]=_s,Fl[1]=Ua,Fl[2]=Ro,Fl[3]=kr,Fl[4]=al,Fl[5]=Il,Fl[6]=Mo,F=1}else F=0}F&&(F=function(tt,Rt){for(tt.M=0;tt.M<tt.Va;++tt.M){var St,Ke=tt.Jc[tt.M&tt.Xb],Je=tt.m,Ot=tt;for(St=0;St<Ot.za;++St){var Bt=Je,It=Ot,ln=It.Ac,Jt=It.Bc+4*St,wn=It.zc,an=It.ya[It.aa+St];if(It.Qa.Bb?an.$b=ze(Bt,It.Pa.jb[0])?2+ze(Bt,It.Pa.jb[2]):ze(Bt,It.Pa.jb[1]):an.$b=0,It.kc&&(an.Ad=ze(Bt,It.Bd)),an.Za=!ze(Bt,145)+0,an.Za){var Ar=an.Ob,Fr=0;for(It=0;4>It;++It){var mr,Zn=wn[0+It];for(mr=0;4>mr;++mr){Zn=_f[ln[Jt+mr]][Zn];for(var Yr=cd[ze(Bt,Zn[0])];0<Yr;)Yr=cd[2*Yr+ze(Bt,Zn[Yr])];Zn=-Yr,ln[Jt+mr]=Zn}r(Ar,Fr,ln,Jt,4),Fr+=4,wn[0+It]=Zn}}else Zn=ze(Bt,156)?ze(Bt,128)?1:3:ze(Bt,163)?2:0,an.Ob[0]=Zn,i(ln,Jt,Zn,4),i(wn,0,Zn,4);an.Dd=ze(Bt,142)?ze(Bt,114)?ze(Bt,183)?1:3:2:0}if(Ot.m.Ka)return si(tt,7,"Premature end-of-partition0 encountered.");for(;tt.ja<tt.za;++tt.ja){if(Ot=Ke,Bt=(Je=tt).rb[Je.sb-1],ln=Je.rb[Je.sb+Je.ja],St=Je.ya[Je.aa+Je.ja],Jt=Je.kc?St.Ad:0)Bt.la=ln.la=0,St.Za||(Bt.Na=ln.Na=0),St.Hc=0,St.Gc=0,St.ia=0;else{var Gr,Yn;if(Bt=ln,ln=Ot,Jt=Je.Pa.Xc,wn=Je.ya[Je.aa+Je.ja],an=Je.pb[wn.$b],It=wn.ad,Ar=0,Fr=Je.rb[Je.sb-1],Zn=mr=0,i(It,Ar,0,384),wn.Za)var ra=0,fs=Jt[3];else{Yr=a(16);var vr=Bt.Na+Fr.Na;if(vr=Pl(ln,Jt[1],vr,an.Eb,0,Yr,0),Bt.Na=Fr.Na=(0<vr)+0,1<vr)de(Yr,0,It,Ar);else{var Qa=Yr[0]+3>>3;for(Yr=0;256>Yr;Yr+=16)It[Ar+Yr]=Qa}ra=1,fs=Jt[0]}var Br=15&Bt.la,Bi=15&Fr.la;for(Yr=0;4>Yr;++Yr){var hs=1&Bi;for(Qa=Yn=0;4>Qa;++Qa)Br=Br>>1|(hs=(vr=Pl(ln,fs,vr=hs+(1&Br),an.Sc,ra,It,Ar))>ra)<<7,Yn=Yn<<2|(3<vr?3:1<vr?2:It[Ar+0]!=0),Ar+=16;Br>>=4,Bi=Bi>>1|hs<<7,mr=(mr<<8|Yn)>>>0}for(fs=Br,ra=Bi>>4,Gr=0;4>Gr;Gr+=2){for(Yn=0,Br=Bt.la>>4+Gr,Bi=Fr.la>>4+Gr,Yr=0;2>Yr;++Yr){for(hs=1&Bi,Qa=0;2>Qa;++Qa)vr=hs+(1&Br),Br=Br>>1|(hs=0<(vr=Pl(ln,Jt[2],vr,an.Qc,0,It,Ar)))<<3,Yn=Yn<<2|(3<vr?3:1<vr?2:It[Ar+0]!=0),Ar+=16;Br>>=2,Bi=Bi>>1|hs<<5}Zn|=Yn<<4*Gr,fs|=Br<<4<<Gr,ra|=(240&Bi)<<Gr}Bt.la=fs,Fr.la=ra,wn.Hc=mr,wn.Gc=Zn,wn.ia=43690&Zn?0:an.ia,Jt=!(mr|Zn)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[St.$b][St.Za],Je.wa[Je.Y+Je.ja].La|=!Jt),Ot.Ka)return si(tt,7,"Premature end-of-file encountered.")}if(eu(tt),Je=Rt,Ot=1,St=(Ke=tt).D,Bt=0<Ke.L&&Ke.M>=Ke.zb&&Ke.M<=Ke.Va,Ke.Aa==0)e:{if(St.M=Ke.M,St.uc=Bt,Va(Ke,St),Ot=1,St=(Yn=Ke.D).Nb,Bt=(Zn=Cf[Ke.L])*Ke.R,ln=Zn/2*Ke.B,Yr=16*St*Ke.R,Qa=8*St*Ke.B,Jt=Ke.sa,wn=Ke.ta-Bt+Yr,an=Ke.qa,It=Ke.ra-ln+Qa,Ar=Ke.Ha,Fr=Ke.Ia-ln+Qa,Bi=(Br=Yn.M)==0,mr=Br>=Ke.Va-1,Ke.Aa==2&&Va(Ke,Yn),Yn.uc)for(hs=(vr=Ke).D.M,t(vr.D.uc),Yn=vr.yb;Yn<vr.Hb;++Yn){ra=Yn,fs=hs;var Yi=(ji=(pi=vr).D).Nb;Gr=pi.R;var ji=ji.wa[ji.Y+ra],Za=pi.sa,hi=pi.ta+16*Yi*Gr+16*ra,wo=ji.dd,La=ji.tc;if(La!=0)if(t(3<=La),pi.L==1)0<ra&&Ta(Za,hi,Gr,La+4),ji.La&&Es(Za,hi,Gr,La),0<fs&&Si(Za,hi,Gr,La+4),ji.La&&rr(Za,hi,Gr,La);else{var Ul=pi.B,cu=pi.qa,Nc=pi.ra+8*Yi*Ul+8*ra,_c=pi.Ha,pi=pi.Ia+8*Yi*Ul+8*ra;Yi=ji.ld,0<ra&&(un(Za,hi,Gr,La+4,wo,Yi),Fi(cu,Nc,_c,pi,Ul,La+4,wo,Yi)),ji.La&&(di(Za,hi,Gr,La,wo,Yi),Wr(cu,Nc,_c,pi,Ul,La,wo,Yi)),0<fs&&(Lt(Za,hi,Gr,La+4,wo,Yi),Rn(cu,Nc,_c,pi,Ul,La+4,wo,Yi)),ji.La&&(Pr(Za,hi,Gr,La,wo,Yi),wr(cu,Nc,_c,pi,Ul,La,wo,Yi))}}if(Ke.ia&&alert("todo:DitherRow"),Je.put!=null){if(Yn=16*Br,Br=16*(Br+1),Bi?(Je.y=Ke.sa,Je.O=Ke.ta+Yr,Je.f=Ke.qa,Je.N=Ke.ra+Qa,Je.ea=Ke.Ha,Je.W=Ke.Ia+Qa):(Yn-=Zn,Je.y=Jt,Je.O=wn,Je.f=an,Je.N=It,Je.ea=Ar,Je.W=Fr),mr||(Br-=Zn),Br>Je.o&&(Br=Je.o),Je.F=null,Je.J=null,Ke.Fa!=null&&0<Ke.Fa.length&&Yn<Br&&(Je.J=Cr(Ke,Je,Yn,Br-Yn),Je.F=Ke.mb,Je.F==null&&Je.F.length==0)){Ot=si(Ke,3,"Could not decode alpha data.");break e}Yn<Je.j&&(Zn=Je.j-Yn,Yn=Je.j,t(!(1&Zn)),Je.O+=Ke.R*Zn,Je.N+=Ke.B*(Zn>>1),Je.W+=Ke.B*(Zn>>1),Je.F!=null&&(Je.J+=Je.width*Zn)),Yn<Br&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Yn-Je.j,Je.U=Je.va-Je.v,Je.T=Br-Yn,Ot=Je.put(Je))}St+1!=Ke.Ic||mr||(r(Ke.sa,Ke.ta-Bt,Jt,wn+16*Ke.R,Bt),r(Ke.qa,Ke.ra-ln,an,It+8*Ke.B,ln),r(Ke.Ha,Ke.Ia-ln,Ar,Fr+8*Ke.B,ln))}if(!Ot)return si(tt,6,"Output aborted.")}return 1}(_,T)),T.bc!=null&&T.bc(T),F&=1}return F?(_.cb=0,F):0}function Ei(_,T,F,G,ae){ae=_[T+F+32*G]+(ae>>3),_[T+F+32*G]=-256&ae?0>ae?0:255:ae}function jl(_,T,F,G,ae,pe){Ei(_,T,0,F,G+ae),Ei(_,T,1,F,G+pe),Ei(_,T,2,F,G-pe),Ei(_,T,3,F,G-ae)}function qi(_){return(20091*_>>16)+_}function Sr(_,T,F,G){var ae,pe=0,xe=a(16);for(ae=0;4>ae;++ae){var ve=_[T+0]+_[T+8],Se=_[T+0]-_[T+8],Me=(35468*_[T+4]>>16)-qi(_[T+12]),Qe=qi(_[T+4])+(35468*_[T+12]>>16);xe[pe+0]=ve+Qe,xe[pe+1]=Se+Me,xe[pe+2]=Se-Me,xe[pe+3]=ve-Qe,pe+=4,T++}for(ae=pe=0;4>ae;++ae)ve=(_=xe[pe+0]+4)+xe[pe+8],Se=_-xe[pe+8],Me=(35468*xe[pe+4]>>16)-qi(xe[pe+12]),Ei(F,G,0,0,ve+(Qe=qi(xe[pe+4])+(35468*xe[pe+12]>>16))),Ei(F,G,1,0,Se+Me),Ei(F,G,2,0,Se-Me),Ei(F,G,3,0,ve-Qe),pe++,G+=32}function Mi(_,T,F,G){var ae=_[T+0]+4,pe=35468*_[T+4]>>16,xe=qi(_[T+4]),ve=35468*_[T+1]>>16;jl(F,G,0,ae+xe,_=qi(_[T+1]),ve),jl(F,G,1,ae+pe,_,ve),jl(F,G,2,ae-pe,_,ve),jl(F,G,3,ae-xe,_,ve)}function lt(_,T,F,G,ae){Sr(_,T,F,G),ae&&Sr(_,T+16,F,G+4)}function Ie(_,T,F,G){Ne(_,T+0,F,G,1),Ne(_,T+32,F,G+128,1)}function _n(_,T,F,G){var ae;for(_=_[T+0]+4,ae=0;4>ae;++ae)for(T=0;4>T;++T)Ei(F,G,T,ae,_)}function gi(_,T,F,G){_[T+0]&&vt(_,T+0,F,G),_[T+16]&&vt(_,T+16,F,G+4),_[T+32]&&vt(_,T+32,F,G+128),_[T+48]&&vt(_,T+48,F,G+128+4)}function ja(_,T,F,G){var ae,pe=a(16);for(ae=0;4>ae;++ae){var xe=_[T+0+ae]+_[T+12+ae],ve=_[T+4+ae]+_[T+8+ae],Se=_[T+4+ae]-_[T+8+ae],Me=_[T+0+ae]-_[T+12+ae];pe[0+ae]=xe+ve,pe[8+ae]=xe-ve,pe[4+ae]=Me+Se,pe[12+ae]=Me-Se}for(ae=0;4>ae;++ae)xe=(_=pe[0+4*ae]+3)+pe[3+4*ae],ve=pe[1+4*ae]+pe[2+4*ae],Se=pe[1+4*ae]-pe[2+4*ae],Me=_-pe[3+4*ae],F[G+0]=xe+ve>>3,F[G+16]=Me+Se>>3,F[G+32]=xe-ve>>3,F[G+48]=Me-Se>>3,G+=64}function uo(_,T,F){var G,ae=T-32,pe=As,xe=255-_[ae-1];for(G=0;G<F;++G){var ve,Se=pe,Me=xe+_[T-1];for(ve=0;ve<F;++ve)_[T+ve]=Se[Me+_[ae+ve]];T+=32}}function mc(_,T){uo(_,T,4)}function Ua(_,T){uo(_,T,8)}function jn(_,T){uo(_,T,16)}function Nr(_,T){var F;for(F=0;16>F;++F)r(_,T+32*F,_,T-32,16)}function il(_,T){var F;for(F=16;0<F;--F)i(_,T,_[T-1],16),T+=32}function kl(_,T,F){var G;for(G=0;16>G;++G)i(T,F+32*G,_,16)}function Tl(_,T){var F,G=16;for(F=0;16>F;++F)G+=_[T-1+32*F]+_[T+F-32];kl(G>>5,_,T)}function Hi(_,T){var F,G=8;for(F=0;16>F;++F)G+=_[T-1+32*F];kl(G>>4,_,T)}function tu(_,T){var F,G=8;for(F=0;16>F;++F)G+=_[T+F-32];kl(G>>4,_,T)}function Ju(_,T){kl(128,_,T)}function pn(_,T,F){return _+2*T+F+2>>2}function Ll(_,T){var F,G=T-32;for(G=new Uint8Array([pn(_[G-1],_[G+0],_[G+1]),pn(_[G+0],_[G+1],_[G+2]),pn(_[G+1],_[G+2],_[G+3]),pn(_[G+2],_[G+3],_[G+4])]),F=0;4>F;++F)r(_,T+32*F,G,0,G.length)}function fo(_,T){var F=_[T-1],G=_[T-1+32],ae=_[T-1+64],pe=_[T-1+96];Ze(_,T+0,16843009*pn(_[T-1-32],F,G)),Ze(_,T+32,16843009*pn(F,G,ae)),Ze(_,T+64,16843009*pn(G,ae,pe)),Ze(_,T+96,16843009*pn(ae,pe,pe))}function Sn(_,T){var F,G=4;for(F=0;4>F;++F)G+=_[T+F-32]+_[T-1+32*F];for(G>>=3,F=0;4>F;++F)i(_,T+32*F,G,4)}function ed(_,T){var F=_[T-1+0],G=_[T-1+32],ae=_[T-1+64],pe=_[T-1-32],xe=_[T+0-32],ve=_[T+1-32],Se=_[T+2-32],Me=_[T+3-32];_[T+0+96]=pn(G,ae,_[T-1+96]),_[T+1+96]=_[T+0+64]=pn(F,G,ae),_[T+2+96]=_[T+1+64]=_[T+0+32]=pn(pe,F,G),_[T+3+96]=_[T+2+64]=_[T+1+32]=_[T+0+0]=pn(xe,pe,F),_[T+3+64]=_[T+2+32]=_[T+1+0]=pn(ve,xe,pe),_[T+3+32]=_[T+2+0]=pn(Se,ve,xe),_[T+3+0]=pn(Me,Se,ve)}function qn(_,T){var F=_[T+1-32],G=_[T+2-32],ae=_[T+3-32],pe=_[T+4-32],xe=_[T+5-32],ve=_[T+6-32],Se=_[T+7-32];_[T+0+0]=pn(_[T+0-32],F,G),_[T+1+0]=_[T+0+32]=pn(F,G,ae),_[T+2+0]=_[T+1+32]=_[T+0+64]=pn(G,ae,pe),_[T+3+0]=_[T+2+32]=_[T+1+64]=_[T+0+96]=pn(ae,pe,xe),_[T+3+32]=_[T+2+64]=_[T+1+96]=pn(pe,xe,ve),_[T+3+64]=_[T+2+96]=pn(xe,ve,Se),_[T+3+96]=pn(ve,Se,Se)}function bi(_,T){var F=_[T-1+0],G=_[T-1+32],ae=_[T-1+64],pe=_[T-1-32],xe=_[T+0-32],ve=_[T+1-32],Se=_[T+2-32],Me=_[T+3-32];_[T+0+0]=_[T+1+64]=pe+xe+1>>1,_[T+1+0]=_[T+2+64]=xe+ve+1>>1,_[T+2+0]=_[T+3+64]=ve+Se+1>>1,_[T+3+0]=Se+Me+1>>1,_[T+0+96]=pn(ae,G,F),_[T+0+64]=pn(G,F,pe),_[T+0+32]=_[T+1+96]=pn(F,pe,xe),_[T+1+32]=_[T+2+96]=pn(pe,xe,ve),_[T+2+32]=_[T+3+96]=pn(xe,ve,Se),_[T+3+32]=pn(ve,Se,Me)}function nu(_,T){var F=_[T+0-32],G=_[T+1-32],ae=_[T+2-32],pe=_[T+3-32],xe=_[T+4-32],ve=_[T+5-32],Se=_[T+6-32],Me=_[T+7-32];_[T+0+0]=F+G+1>>1,_[T+1+0]=_[T+0+64]=G+ae+1>>1,_[T+2+0]=_[T+1+64]=ae+pe+1>>1,_[T+3+0]=_[T+2+64]=pe+xe+1>>1,_[T+0+32]=pn(F,G,ae),_[T+1+32]=_[T+0+96]=pn(G,ae,pe),_[T+2+32]=_[T+1+96]=pn(ae,pe,xe),_[T+3+32]=_[T+2+96]=pn(pe,xe,ve),_[T+3+64]=pn(xe,ve,Se),_[T+3+96]=pn(ve,Se,Me)}function ru(_,T){var F=_[T-1+0],G=_[T-1+32],ae=_[T-1+64],pe=_[T-1+96];_[T+0+0]=F+G+1>>1,_[T+2+0]=_[T+0+32]=G+ae+1>>1,_[T+2+32]=_[T+0+64]=ae+pe+1>>1,_[T+1+0]=pn(F,G,ae),_[T+3+0]=_[T+1+32]=pn(G,ae,pe),_[T+3+32]=_[T+1+64]=pn(ae,pe,pe),_[T+3+64]=_[T+2+64]=_[T+0+96]=_[T+1+96]=_[T+2+96]=_[T+3+96]=pe}function td(_,T){var F=_[T-1+0],G=_[T-1+32],ae=_[T-1+64],pe=_[T-1+96],xe=_[T-1-32],ve=_[T+0-32],Se=_[T+1-32],Me=_[T+2-32];_[T+0+0]=_[T+2+32]=F+xe+1>>1,_[T+0+32]=_[T+2+64]=G+F+1>>1,_[T+0+64]=_[T+2+96]=ae+G+1>>1,_[T+0+96]=pe+ae+1>>1,_[T+3+0]=pn(ve,Se,Me),_[T+2+0]=pn(xe,ve,Se),_[T+1+0]=_[T+3+32]=pn(F,xe,ve),_[T+1+32]=_[T+3+64]=pn(G,F,xe),_[T+1+64]=_[T+3+96]=pn(ae,G,F),_[T+1+96]=pn(pe,ae,G)}function Ro(_,T){var F;for(F=0;8>F;++F)r(_,T+32*F,_,T-32,8)}function kr(_,T){var F;for(F=0;8>F;++F)i(_,T,_[T-1],8),T+=32}function ur(_,T,F){var G;for(G=0;8>G;++G)i(T,F+32*G,_,8)}function _s(_,T){var F,G=8;for(F=0;8>F;++F)G+=_[T+F-32]+_[T-1+32*F];ur(G>>4,_,T)}function Il(_,T){var F,G=4;for(F=0;8>F;++F)G+=_[T+F-32];ur(G>>3,_,T)}function al(_,T){var F,G=4;for(F=0;8>F;++F)G+=_[T-1+32*F];ur(G>>3,_,T)}function Mo(_,T){ur(128,_,T)}function ho(_,T,F){var G=_[T-F],ae=_[T+0],pe=3*(ae-G)+id[1020+_[T-2*F]-_[T+F]],xe=x0[112+(pe+4>>3)];_[T-F]=As[255+G+x0[112+(pe+3>>3)]],_[T+0]=As[255+ae-xe]}function ma(_,T,F,G){var ae=_[T+0],pe=_[T+F];return ds[255+_[T-2*F]-_[T-F]]>G||ds[255+pe-ae]>G}function xc(_,T,F,G){return 4*ds[255+_[T-F]-_[T+0]]+ds[255+_[T-2*F]-_[T+F]]<=G}function iu(_,T,F,G,ae){var pe=_[T-3*F],xe=_[T-2*F],ve=_[T-F],Se=_[T+0],Me=_[T+F],Qe=_[T+2*F],ut=_[T+3*F];return 4*ds[255+ve-Se]+ds[255+xe-Me]>G?0:ds[255+_[T-4*F]-pe]<=ae&&ds[255+pe-xe]<=ae&&ds[255+xe-ve]<=ae&&ds[255+ut-Qe]<=ae&&ds[255+Qe-Me]<=ae&&ds[255+Me-Se]<=ae}function Ai(_,T,F,G){var ae=2*G+1;for(G=0;16>G;++G)xc(_,T+G,F,ae)&&ho(_,T+G,F)}function Ss(_,T,F,G){var ae=2*G+1;for(G=0;16>G;++G)xc(_,T+G*F,1,ae)&&ho(_,T+G*F,1)}function za(_,T,F,G){var ae;for(ae=3;0<ae;--ae)Ai(_,T+=4*F,F,G)}function nd(_,T,F,G){var ae;for(ae=3;0<ae;--ae)Ss(_,T+=4,F,G)}function sr(_,T,F,G,ae,pe,xe,ve){for(pe=2*pe+1;0<ae--;){if(iu(_,T,F,pe,xe))if(ma(_,T,F,ve))ho(_,T,F);else{var Se=_,Me=T,Qe=F,ut=Se[Me-2*Qe],dt=Se[Me-Qe],tt=Se[Me+0],Rt=Se[Me+Qe],St=Se[Me+2*Qe],Ke=27*(Ot=id[1020+3*(tt-dt)+id[1020+ut-Rt]])+63>>7,Je=18*Ot+63>>7,Ot=9*Ot+63>>7;Se[Me-3*Qe]=As[255+Se[Me-3*Qe]+Ot],Se[Me-2*Qe]=As[255+ut+Je],Se[Me-Qe]=As[255+dt+Ke],Se[Me+0]=As[255+tt-Ke],Se[Me+Qe]=As[255+Rt-Je],Se[Me+2*Qe]=As[255+St-Ot]}T+=G}}function vi(_,T,F,G,ae,pe,xe,ve){for(pe=2*pe+1;0<ae--;){if(iu(_,T,F,pe,xe))if(ma(_,T,F,ve))ho(_,T,F);else{var Se=_,Me=T,Qe=F,ut=Se[Me-Qe],dt=Se[Me+0],tt=Se[Me+Qe],Rt=x0[112+((St=3*(dt-ut))+4>>3)],St=x0[112+(St+3>>3)],Ke=Rt+1>>1;Se[Me-2*Qe]=As[255+Se[Me-2*Qe]+Ke],Se[Me-Qe]=As[255+ut+St],Se[Me+0]=As[255+dt-Rt],Se[Me+Qe]=As[255+tt-Ke]}T+=G}}function Po(_,T,F,G,ae,pe){sr(_,T,F,1,16,G,ae,pe)}function Wa(_,T,F,G,ae,pe){sr(_,T,1,F,16,G,ae,pe)}function rd(_,T,F,G,ae,pe){var xe;for(xe=3;0<xe;--xe)vi(_,T+=4*F,F,1,16,G,ae,pe)}function gt(_,T,F,G,ae,pe){var xe;for(xe=3;0<xe;--xe)vi(_,T+=4,1,F,16,G,ae,pe)}function Kn(_,T,F,G,ae,pe,xe,ve){sr(_,T,ae,1,8,pe,xe,ve),sr(F,G,ae,1,8,pe,xe,ve)}function Ni(_,T,F,G,ae,pe,xe,ve){sr(_,T,1,ae,8,pe,xe,ve),sr(F,G,1,ae,8,pe,xe,ve)}function Pi(_,T,F,G,ae,pe,xe,ve){vi(_,T+4*ae,ae,1,8,pe,xe,ve),vi(F,G+4*ae,ae,1,8,pe,xe,ve)}function au(_,T,F,G,ae,pe,xe,ve){vi(_,T+4,1,ae,8,pe,xe,ve),vi(F,G+4,1,ae,8,pe,xe,ve)}function xa(){this.ba=new Bn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Or,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function su(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cs(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new W}function li(){this.xb=this.a=0,this.l=new $n,this.ca=new Bn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cs,this.ab=0,this.gc=o(4,gc),this.Oc=0}function po(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $n,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function In(_,T,F,G,ae,pe,xe){for(_=_==null?0:_[T+0],T=0;T<xe;++T)ae[pe+T]=_+F[G+T]&255,_=ae[pe+T]}function qa(_,T,F,G,ae,pe,xe){var ve;if(_==null)In(null,null,F,G,ae,pe,xe);else for(ve=0;ve<xe;++ve)ae[pe+ve]=_[T+ve]+F[G+ve]&255}function ka(_,T,F,G,ae,pe,xe){if(_==null)In(null,null,F,G,ae,pe,xe);else{var ve,Se=_[T+0],Me=Se,Qe=Se;for(ve=0;ve<xe;++ve)Me=Qe+(Se=_[T+ve])-Me,Qe=F[G+ve]+(-256&Me?0>Me?0:255:Me)&255,Me=Se,ae[pe+ve]=Qe}}function Cr(_,T,F,G){var ae=T.width,pe=T.o;if(t(_!=null&&T!=null),0>F||0>=G||F+G>pe)return null;if(!_.Cc){if(_.ga==null){var xe;if(_.ga=new po,(xe=_.ga==null)||(xe=T.width*T.o,t(_.Gb.length==0),_.Gb=a(xe),_.Uc=0,_.Gb==null?xe=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,xe=1),xe=!xe),!xe){xe=_.ga;var ve=_.Fa,Se=_.P,Me=_.qc,Qe=_.mb,ut=_.nb,dt=Se+1,tt=Me-1,Rt=xe.l;if(t(ve!=null&&Qe!=null&&T!=null),vo[0]=null,vo[1]=In,vo[2]=qa,vo[3]=ka,xe.ca=Qe,xe.tb=ut,xe.c=T.width,xe.i=T.height,t(0<xe.c&&0<xe.i),1>=Me)T=0;else if(xe.$a=ve[Se+0]>>0&3,xe.Z=ve[Se+0]>>2&3,xe.Lc=ve[Se+0]>>4&3,Se=ve[Se+0]>>6&3,0>xe.$a||1<xe.$a||4<=xe.Z||1<xe.Lc||Se)T=0;else if(Rt.put=ha,Rt.ac=hr,Rt.bc=Pa,Rt.ma=xe,Rt.width=T.width,Rt.height=T.height,Rt.Da=T.Da,Rt.v=T.v,Rt.va=T.va,Rt.j=T.j,Rt.o=T.o,xe.$a)e:{t(xe.$a==1),T=_t();t:for(;;){if(T==null){T=0;break e}if(t(xe!=null),xe.mc=T,T.c=xe.c,T.i=xe.i,T.l=xe.l,T.l.ma=xe,T.l.width=xe.c,T.l.height=xe.i,T.a=0,ge(T.m,ve,dt,tt),!at(xe.c,xe.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&je(T.s)?(xe.ic=1,ve=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(ve),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(xe.ic=0,T=ft(T,xe.c)),!T))break t;T=1;break e}xe.mc=null,T=0}else T=tt>=xe.c*xe.i;xe=!T}if(xe)return null;_.ga.Lc!=1?_.Ga=0:G=pe-F}t(_.ga!=null),t(F+G<=pe);e:{if(T=(ve=_.ga).c,pe=ve.l.o,ve.$a==0){if(dt=_.rc,tt=_.Vc,Rt=_.Fa,Se=_.P+1+F*T,Me=_.mb,Qe=_.nb+F*T,t(Se<=_.P+_.qc),ve.Z!=0)for(t(vo[ve.Z]!=null),xe=0;xe<G;++xe)vo[ve.Z](dt,tt,Rt,Se,Me,Qe,T),dt=Me,tt=Qe,Qe+=T,Se+=T;else for(xe=0;xe<G;++xe)r(Me,Qe,Rt,Se,T),dt=Me,tt=Qe,Qe+=T,Se+=T;_.rc=dt,_.Vc=tt}else{if(t(ve.mc!=null),T=F+G,t((xe=ve.mc)!=null),t(T<=xe.i),xe.C>=T)T=1;else if(ve.ic||nt(),ve.ic){ve=xe.V,dt=xe.Ba,tt=xe.c;var St=xe.i,Ke=(Rt=1,Se=xe.$/tt,Me=xe.$%tt,Qe=xe.m,ut=xe.s,xe.$),Je=tt*St,Ot=tt*T,Bt=ut.wc,It=Ke<Ot?Rr(ut,Me,Se):null;t(Ke<=Je),t(T<=St),t(je(ut));t:for(;;){for(;!Qe.h&&Ke<Ot;){if(Me&Bt||(It=Rr(ut,Me,Se)),t(It!=null),ce(Qe),256>(St=Ri(It.G[0],It.H[0],Qe)))ve[dt+Ke]=St,++Ke,++Me>=tt&&(Me=0,++Se<=T&&!(Se%16)&&Oe(xe,Se));else{if(!(280>St)){Rt=0;break t}St=Fa(St-256,Qe);var ln,Jt=Ri(It.G[4],It.H[4],Qe);if(ce(Qe),!(Ke>=(Jt=Oi(tt,Jt=Fa(Jt,Qe)))&&Je-Ke>=St)){Rt=0;break t}for(ln=0;ln<St;++ln)ve[dt+Ke+ln]=ve[dt+Ke+ln-Jt];for(Ke+=St,Me+=St;Me>=tt;)Me-=tt,++Se<=T&&!(Se%16)&&Oe(xe,Se);Ke<Ot&&Me&Bt&&(It=Rr(ut,Me,Se))}t(Qe.h==Q(Qe))}Oe(xe,Se>T?T:Se);break t}!Rt||Qe.h&&Ke<Je?(Rt=0,xe.a=Qe.h?5:3):xe.$=Ke,T=Rt}else T=Pe(xe,xe.V,xe.Ba,xe.c,xe.i,T,xt);if(!T){G=0;break e}}F+G>=pe&&(_.Cc=1),G=1}if(!G)return null;if(_.Cc&&((G=_.ga)!=null&&(G.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+F*ae}function O(_,T,F,G,ae,pe){for(;0<ae--;){var xe,ve=_,Se=T+(F?1:0),Me=_,Qe=T+(F?0:3);for(xe=0;xe<G;++xe){var ut=Me[Qe+4*xe];ut!=255&&(ut*=32897,ve[Se+4*xe+0]=ve[Se+4*xe+0]*ut>>23,ve[Se+4*xe+1]=ve[Se+4*xe+1]*ut>>23,ve[Se+4*xe+2]=ve[Se+4*xe+2]*ut>>23)}T+=pe}}function oe(_,T,F,G,ae){for(;0<G--;){var pe;for(pe=0;pe<F;++pe){var xe=_[T+2*pe+0],ve=15&(Me=_[T+2*pe+1]),Se=4369*ve,Me=(240&Me|Me>>4)*Se>>16;_[T+2*pe+0]=(240&xe|xe>>4)*Se>>16&240|(15&xe|xe<<4)*Se>>16>>4&15,_[T+2*pe+1]=240&Me|ve}T+=ae}}function Re(_,T,F,G,ae,pe,xe,ve){var Se,Me,Qe=255;for(Me=0;Me<ae;++Me){for(Se=0;Se<G;++Se){var ut=_[T+Se];pe[xe+4*Se]=ut,Qe&=ut}T+=F,xe+=ve}return Qe!=255}function Ve(_,T,F,G,ae){var pe;for(pe=0;pe<ae;++pe)F[G+pe]=_[T+pe]>>8}function nt(){us=O,qr=oe,fi=Re,$i=Ve}function Et(_,T,F){B[_]=function(G,ae,pe,xe,ve,Se,Me,Qe,ut,dt,tt,Rt,St,Ke,Je,Ot,Bt){var It,ln=Bt-1>>1,Jt=ve[Se+0]|Me[Qe+0]<<16,wn=ut[dt+0]|tt[Rt+0]<<16;t(G!=null);var an=3*Jt+wn+131074>>2;for(T(G[ae+0],255&an,an>>16,St,Ke),pe!=null&&(an=3*wn+Jt+131074>>2,T(pe[xe+0],255&an,an>>16,Je,Ot)),It=1;It<=ln;++It){var Ar=ve[Se+It]|Me[Qe+It]<<16,Fr=ut[dt+It]|tt[Rt+It]<<16,mr=Jt+Ar+wn+Fr+524296,Zn=mr+2*(Ar+wn)>>3;an=Zn+Jt>>1,Jt=(mr=mr+2*(Jt+Fr)>>3)+Ar>>1,T(G[ae+2*It-1],255&an,an>>16,St,Ke+(2*It-1)*F),T(G[ae+2*It-0],255&Jt,Jt>>16,St,Ke+(2*It-0)*F),pe!=null&&(an=mr+wn>>1,Jt=Zn+Fr>>1,T(pe[xe+2*It-1],255&an,an>>16,Je,Ot+(2*It-1)*F),T(pe[xe+2*It+0],255&Jt,Jt>>16,Je,Ot+(2*It+0)*F)),Jt=Ar,wn=Fr}1&Bt||(an=3*Jt+wn+131074>>2,T(G[ae+Bt-1],255&an,an>>16,St,Ke+(Bt-1)*F),pe!=null&&(an=3*wn+Jt+131074>>2,T(pe[xe+Bt-1],255&an,an>>16,Je,Ot+(Bt-1)*F)))}}function Dt(){Vs[g0]=we,Vs[wc]=b0,Vs[yc]=dd,Vs[lu]=$s,Vs[Nf]=pr,Vs[p1]=_m,Vs[wm]=Pv,Vs[ad]=b0,Vs[sd]=$s,Vs[od]=pr,Vs[m1]=_m}function sn(_){return _&~Fv?0>_?0:255:_>>Sm}function Cn(_,T){return sn((19077*_>>8)+(26149*T>>8)-14234)}function Un(_,T,F){return sn((19077*_>>8)-(6419*T>>8)-(13320*F>>8)+8708)}function Pn(_,T){return sn((19077*_>>8)+(33050*T>>8)-17685)}function or(_,T,F,G,ae){G[ae+0]=Cn(_,F),G[ae+1]=Un(_,T,F),G[ae+2]=Pn(_,T)}function ci(_,T,F,G,ae){G[ae+0]=Pn(_,T),G[ae+1]=Un(_,T,F),G[ae+2]=Cn(_,F)}function zr(_,T,F,G,ae){var pe=Un(_,T,F);T=pe<<3&224|Pn(_,T)>>3,G[ae+0]=248&Cn(_,F)|pe>>5,G[ae+1]=T}function ui(_,T,F,G,ae){var pe=240&Pn(_,T)|15;G[ae+0]=240&Cn(_,F)|Un(_,T,F)>>4,G[ae+1]=pe}function ta(_,T,F,G,ae){G[ae+0]=255,or(_,T,F,G,ae+1)}function _i(_,T,F,G,ae){ci(_,T,F,G,ae),G[ae+3]=255}function Cs(_,T,F,G,ae){or(_,T,F,G,ae),G[ae+3]=255}function _r(_,T){return 0>_?0:_>T?T:_}function Ha(_,T,F){B[_]=function(G,ae,pe,xe,ve,Se,Me,Qe,ut){for(var dt=Qe+(-2&ut)*F;Qe!=dt;)T(G[ae+0],pe[xe+0],ve[Se+0],Me,Qe),T(G[ae+1],pe[xe+0],ve[Se+0],Me,Qe+F),ae+=2,++xe,++Se,Qe+=2*F;1&ut&&T(G[ae+0],pe[xe+0],ve[Se+0],Me,Qe)}}function Vi(_,T,F){return F==0?_==0?T==0?6:5:T==0?4:0:F}function Dl(_,T,F,G,ae){switch(_>>>30){case 3:Ne(T,F,G,ae,0);break;case 2:Ce(T,F,G,ae);break;case 1:vt(T,F,G,ae)}}function Va(_,T){var F,G,ae=T.M,pe=T.Nb,xe=_.oc,ve=_.pc+40,Se=_.oc,Me=_.pc+584,Qe=_.oc,ut=_.pc+600;for(F=0;16>F;++F)xe[ve+32*F-1]=129;for(F=0;8>F;++F)Se[Me+32*F-1]=129,Qe[ut+32*F-1]=129;for(0<ae?xe[ve-1-32]=Se[Me-1-32]=Qe[ut-1-32]=129:(i(xe,ve-32-1,127,21),i(Se,Me-32-1,127,9),i(Qe,ut-32-1,127,9)),G=0;G<_.za;++G){var dt=T.ya[T.aa+G];if(0<G){for(F=-1;16>F;++F)r(xe,ve+32*F-4,xe,ve+32*F+12,4);for(F=-1;8>F;++F)r(Se,Me+32*F-4,Se,Me+32*F+4,4),r(Qe,ut+32*F-4,Qe,ut+32*F+4,4)}var tt=_.Gd,Rt=_.Hd+G,St=dt.ad,Ke=dt.Hc;if(0<ae&&(r(xe,ve-32,tt[Rt].y,0,16),r(Se,Me-32,tt[Rt].f,0,8),r(Qe,ut-32,tt[Rt].ea,0,8)),dt.Za){var Je=xe,Ot=ve-32+16;for(0<ae&&(G>=_.za-1?i(Je,Ot,tt[Rt].y[15],4):r(Je,Ot,tt[Rt+1].y,0,4)),F=0;4>F;F++)Je[Ot+128+F]=Je[Ot+256+F]=Je[Ot+384+F]=Je[Ot+0+F];for(F=0;16>F;++F,Ke<<=2)Je=xe,Ot=ve+ll[F],Fo[dt.Ob[F]](Je,Ot),Dl(Ke,St,16*+F,Je,Ot)}else if(Je=Vi(G,ae,dt.Ob[0]),bc[Je](xe,ve),Ke!=0)for(F=0;16>F;++F,Ke<<=2)Dl(Ke,St,16*+F,xe,ve+ll[F]);for(F=dt.Gc,Je=Vi(G,ae,dt.Dd),Fl[Je](Se,Me),Fl[Je](Qe,ut),Ke=St,Je=Se,Ot=Me,255&(dt=F>>0)&&(170&dt?$e(Ke,256,Je,Ot):jt(Ke,256,Je,Ot)),dt=Qe,Ke=ut,255&(F>>=8)&&(170&F?$e(St,320,dt,Ke):jt(St,320,dt,Ke)),ae<_.Ub-1&&(r(tt[Rt].y,0,xe,ve+480,16),r(tt[Rt].f,0,Se,Me+224,8),r(tt[Rt].ea,0,Qe,ut+224,8)),F=8*pe*_.B,tt=_.sa,Rt=_.ta+16*G+16*pe*_.R,St=_.qa,dt=_.ra+8*G+F,Ke=_.Ha,Je=_.Ia+8*G+F,F=0;16>F;++F)r(tt,Rt+F*_.R,xe,ve+32*F,16);for(F=0;8>F;++F)r(St,dt+F*_.B,Se,Me+32*F,8),r(Ke,Je+F*_.B,Qe,ut+32*F,8)}}function vc(_,T,F,G,ae,pe,xe,ve,Se){var Me=[0],Qe=[0],ut=0,dt=Se!=null?Se.kd:0,tt=Se??new su;if(_==null||12>F)return 7;tt.data=_,tt.w=T,tt.ha=F,T=[T],F=[F],tt.gb=[tt.gb];e:{var Rt=T,St=F,Ke=tt.gb;if(t(_!=null),t(St!=null),t(Ke!=null),Ke[0]=0,12<=St[0]&&!n(_,Rt[0],"RIFF")){if(n(_,Rt[0]+8,"WEBP")){Ke=3;break e}var Je=Ye(_,Rt[0]+4);if(12>Je||4294967286<Je){Ke=3;break e}if(dt&&Je>St[0]-8){Ke=7;break e}Ke[0]=Je,Rt[0]+=12,St[0]-=12}Ke=0}if(Ke!=0)return Ke;for(Je=0<tt.gb[0],F=F[0];;){e:{var Ot=_;St=T,Ke=F;var Bt=Me,It=Qe,ln=Rt=[0];if((an=ut=[ut])[0]=0,8>Ke[0])Ke=7;else{if(!n(Ot,St[0],"VP8X")){if(Ye(Ot,St[0]+4)!=10){Ke=3;break e}if(18>Ke[0]){Ke=7;break e}var Jt=Ye(Ot,St[0]+8),wn=1+bt(Ot,St[0]+12);if(2147483648<=wn*(Ot=1+bt(Ot,St[0]+15))){Ke=3;break e}ln!=null&&(ln[0]=Jt),Bt!=null&&(Bt[0]=wn),It!=null&&(It[0]=Ot),St[0]+=18,Ke[0]-=18,an[0]=1}Ke=0}}if(ut=ut[0],Rt=Rt[0],Ke!=0)return Ke;if(St=!!(2&Rt),!Je&&ut)return 3;if(pe!=null&&(pe[0]=!!(16&Rt)),xe!=null&&(xe[0]=St),ve!=null&&(ve[0]=0),xe=Me[0],Rt=Qe[0],ut&&St&&Se==null){Ke=0;break}if(4>F){Ke=7;break}if(Je&&ut||!Je&&!ut&&!n(_,T[0],"ALPH")){F=[F],tt.na=[tt.na],tt.P=[tt.P],tt.Sa=[tt.Sa];e:{Jt=_,Ke=T,Je=F;var an=tt.gb;Bt=tt.na,It=tt.P,ln=tt.Sa,wn=22,t(Jt!=null),t(Je!=null),Ot=Ke[0];var Ar=Je[0];for(t(Bt!=null),t(ln!=null),Bt[0]=null,It[0]=null,ln[0]=0;;){if(Ke[0]=Ot,Je[0]=Ar,8>Ar){Ke=7;break e}var Fr=Ye(Jt,Ot+4);if(4294967286<Fr){Ke=3;break e}var mr=8+Fr+1&-2;if(wn+=mr,0<an&&wn>an){Ke=3;break e}if(!n(Jt,Ot,"VP8 ")||!n(Jt,Ot,"VP8L")){Ke=0;break e}if(Ar[0]<mr){Ke=7;break e}n(Jt,Ot,"ALPH")||(Bt[0]=Jt,It[0]=Ot+8,ln[0]=Fr),Ot+=mr,Ar-=mr}}if(F=F[0],tt.na=tt.na[0],tt.P=tt.P[0],tt.Sa=tt.Sa[0],Ke!=0)break}F=[F],tt.Ja=[tt.Ja],tt.xa=[tt.xa];e:if(an=_,Ke=T,Je=F,Bt=tt.gb[0],It=tt.Ja,ln=tt.xa,Jt=Ke[0],Ot=!n(an,Jt,"VP8 "),wn=!n(an,Jt,"VP8L"),t(an!=null),t(Je!=null),t(It!=null),t(ln!=null),8>Je[0])Ke=7;else{if(Ot||wn){if(an=Ye(an,Jt+4),12<=Bt&&an>Bt-12){Ke=3;break e}if(dt&&an>Je[0]-8){Ke=7;break e}It[0]=an,Ke[0]+=8,Je[0]-=8,ln[0]=wn}else ln[0]=5<=Je[0]&&an[Jt+0]==47&&!(an[Jt+4]>>5),It[0]=Je[0];Ke=0}if(F=F[0],tt.Ja=tt.Ja[0],tt.xa=tt.xa[0],T=T[0],Ke!=0)break;if(4294967286<tt.Ja)return 3;if(ve==null||St||(ve[0]=tt.xa?2:1),xe=[xe],Rt=[Rt],tt.xa){if(5>F){Ke=7;break}ve=xe,dt=Rt,St=pe,_==null||5>F?_=0:5<=F&&_[T+0]==47&&!(_[T+4]>>5)?(Je=[0],an=[0],Bt=[0],ge(It=new U,_,T,F),vn(It,Je,an,Bt)?(ve!=null&&(ve[0]=Je[0]),dt!=null&&(dt[0]=an[0]),St!=null&&(St[0]=Bt[0]),_=1):_=0):_=0}else{if(10>F){Ke=7;break}ve=Rt,_==null||10>F||!Al(_,T+3,F-3)?_=0:(dt=_[T+0]|_[T+1]<<8|_[T+2]<<16,St=16383&(_[T+7]<<8|_[T+6]),_=16383&(_[T+9]<<8|_[T+8]),1&dt||3<(dt>>1&7)||!(dt>>4&1)||dt>>5>=tt.Ja||!St||!_?_=0:(xe&&(xe[0]=St),ve&&(ve[0]=_),_=1))}if(!_||(xe=xe[0],Rt=Rt[0],ut&&(Me[0]!=xe||Qe[0]!=Rt)))return 3;Se!=null&&(Se[0]=tt,Se.offset=T-Se.w,t(4294967286>T-Se.w),t(Se.offset==Se.ha-F));break}return Ke==0||Ke==7&&ut&&Se==null?(pe!=null&&(pe[0]|=tt.na!=null&&0<tt.na.length),G!=null&&(G[0]=xe),ae!=null&&(ae[0]=Rt),0):Ke}function Ol(_,T,F){var G=T.width,ae=T.height,pe=0,xe=0,ve=G,Se=ae;if(T.Da=_!=null&&0<_.Da,T.Da&&(ve=_.cd,Se=_.bd,pe=_.v,xe=_.j,11>F||(pe&=-2,xe&=-2),0>pe||0>xe||0>=ve||0>=Se||pe+ve>G||xe+Se>ae))return 0;if(T.v=pe,T.j=xe,T.va=pe+ve,T.o=xe+Se,T.U=ve,T.T=Se,T.da=_!=null&&0<_.da,T.da){if(!He(ve,Se,F=[_.ib],pe=[_.hb]))return 0;T.ib=F[0],T.hb=pe[0]}return T.ob=_!=null&&_.ob,T.Kb=_==null||!_.Sd,T.da&&(T.ob=T.ib<3*G/4&&T.hb<3*ae/4,T.Kb=0),1}function ou(_){if(_==null)return 2;if(11>_.S){var T=_.f.RGBA;T.fb+=(_.height-1)*T.A,T.A=-T.A}else T=_.f.kb,_=_.height,T.O+=(_-1)*T.fa,T.fa=-T.fa,T.N+=(_-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(_-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(_-1)*T.lb,T.lb=-T.lb);return 0}function Rl(_,T,F,G){if(G==null||0>=_||0>=T)return 2;if(F!=null){if(F.Da){var ae=F.cd,pe=F.bd,xe=-2&F.v,ve=-2&F.j;if(0>xe||0>ve||0>=ae||0>=pe||xe+ae>_||ve+pe>T)return 2;_=ae,T=pe}if(F.da){if(!He(_,T,ae=[F.ib],pe=[F.hb]))return 2;_=ae[0],T=pe[0]}}G.width=_,G.height=T;e:{var Se=G.width,Me=G.height;if(_=G.S,0>=Se||0>=Me||!(_>=g0&&13>_))_=2;else{if(0>=G.Rd&&G.sd==null){xe=pe=ae=T=0;var Qe=(ve=Se*Em[_])*Me;if(11>_||(pe=(Me+1)/2*(T=(Se+1)/2),_==12&&(xe=(ae=Se)*Me)),(Me=a(Qe+2*pe+xe))==null){_=1;break e}G.sd=Me,11>_?((Se=G.f.RGBA).eb=Me,Se.fb=0,Se.A=ve,Se.size=Qe):((Se=G.f.kb).y=Me,Se.O=0,Se.fa=ve,Se.Fd=Qe,Se.f=Me,Se.N=0+Qe,Se.Ab=T,Se.Cd=pe,Se.ea=Me,Se.W=0+Qe+pe,Se.Db=T,Se.Ed=pe,_==12&&(Se.F=Me,Se.J=0+Qe+2*pe),Se.Tc=xe,Se.lb=ae)}if(T=1,ae=G.S,pe=G.width,xe=G.height,ae>=g0&&13>ae)if(11>ae)_=G.f.RGBA,T&=(ve=Math.abs(_.A))*(xe-1)+pe<=_.size,T&=ve>=pe*Em[ae],T&=_.eb!=null;else{_=G.f.kb,ve=(pe+1)/2,Qe=(xe+1)/2,Se=Math.abs(_.fa),Me=Math.abs(_.Ab);var ut=Math.abs(_.Db),dt=Math.abs(_.lb),tt=dt*(xe-1)+pe;T&=Se*(xe-1)+pe<=_.Fd,T&=Me*(Qe-1)+ve<=_.Cd,T=(T&=ut*(Qe-1)+ve<=_.Ed)&Se>=pe&Me>=ve&ut>=ve,T&=_.y!=null,T&=_.f!=null,T&=_.ea!=null,ae==12&&(T&=dt>=pe,T&=tt<=_.Tc,T&=_.F!=null)}else T=0;_=T?0:2}}return _!=0||F!=null&&F.fd&&(_=ou(G)),_}var $r=64,Hs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],sl=24,mo=32,tr=8,na=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(_){return _},B.Predictor2=function(_,T,F){return T[F+0]},B.Predictor3=function(_,T,F){return T[F+1]},B.Predictor4=function(_,T,F){return T[F-1]},B.Predictor5=function(_,T,F){return Le(Le(_,T[F+1]),T[F+0])},B.Predictor6=function(_,T,F){return Le(_,T[F-1])},B.Predictor7=function(_,T,F){return Le(_,T[F+0])},B.Predictor8=function(_,T,F){return Le(T[F-1],T[F+0])},B.Predictor9=function(_,T,F){return Le(T[F+0],T[F+1])},B.Predictor10=function(_,T,F){return Le(Le(_,T[F-1]),Le(T[F+0],T[F+1]))},B.Predictor11=function(_,T,F){var G=T[F+0];return 0>=wt(G>>24&255,_>>24&255,(T=T[F-1])>>24&255)+wt(G>>16&255,_>>16&255,T>>16&255)+wt(G>>8&255,_>>8&255,T>>8&255)+wt(255&G,255&_,255&T)?G:_},B.Predictor12=function(_,T,F){var G=T[F+0];return(Nt((_>>24&255)+(G>>24&255)-((T=T[F-1])>>24&255))<<24|Nt((_>>16&255)+(G>>16&255)-(T>>16&255))<<16|Nt((_>>8&255)+(G>>8&255)-(T>>8&255))<<8|Nt((255&_)+(255&G)-(255&T)))>>>0},B.Predictor13=function(_,T,F){var G=T[F-1];return(et((_=Le(_,T[F+0]))>>24&255,G>>24&255)<<24|et(_>>16&255,G>>16&255)<<16|et(_>>8&255,G>>8&255)<<8|et(_>>0&255,G>>0&255))>>>0};var re=B.PredictorAdd0;B.PredictorAdd1=Vt,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var l=B.PredictorAdd2;Tn("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),Tn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var d,h=B.ColorIndexInverseTransform,x=B.MapARGB,v=B.VP8LColorIndexInverseTransformAlpha,N=B.MapAlpha,C=B.VP8LPredictorsAdd=[];C.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var I,M,X,ie,me,De,de,Ne,Ce,$e,vt,jt,Lt,un,Rn,Fi,Pr,di,wr,Wr,Si,Ta,rr,Es,us,qr,fi,$i,ga=a(511),xo=a(2041),go=a(225),Ml=a(767),m0=0,id=xo,x0=go,As=Ml,ds=ga,g0=0,wc=1,yc=2,lu=3,Nf=4,p1=5,wm=6,ad=7,sd=8,od=9,m1=10,ym=[2,3,7],Iv=[3,3,11],bm=[280,256,256,256,40],va=[0,1,1,1,0],Ka=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Dv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ov=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Nm=8,x1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],v0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Pl=null,g1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ld=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],w0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_f=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ud=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Rv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],bc=[],Fo=[],Fl=[],Mv=1,y0=2,vo=[],Vs=[];Et("UpsampleRgbLinePair",or,3),Et("UpsampleBgrLinePair",ci,3),Et("UpsampleRgbaLinePair",Cs,4),Et("UpsampleBgraLinePair",_i,4),Et("UpsampleArgbLinePair",ta,4),Et("UpsampleRgba4444LinePair",ui,2),Et("UpsampleRgb565LinePair",zr,2);var we=B.UpsampleRgbLinePair,dd=B.UpsampleBgrLinePair,b0=B.UpsampleRgbaLinePair,$s=B.UpsampleBgraLinePair,pr=B.UpsampleArgbLinePair,_m=B.UpsampleRgba4444LinePair,Pv=B.UpsampleRgb565LinePair,Sf=16,ol=1<<Sf-1,N0=-227,v1=482,Sm=6,Fv=(256<<Sm)-1,Cm=0,Bl=a(256),Bv=a(256),Uv=a(256),zv=a(256),Wv=a(v1-N0),qv=a(v1-N0);Ha("YuvToRgbRow",or,3),Ha("YuvToBgrRow",ci,3),Ha("YuvToRgbaRow",Cs,4),Ha("YuvToBgraRow",_i,4),Ha("YuvToArgbRow",ta,4),Ha("YuvToRgba4444Row",ui,2),Ha("YuvToRgb565Row",zr,2);var ll=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cf=[0,2,8],Hv=[8,7,6,4,4,2,2,2,1,1,1,1],Vv=1;this.WebPDecodeRGBA=function(_,T,F,G,ae){var pe=wc,xe=new xa,ve=new Bn;xe.ba=ve,ve.S=pe,ve.width=[ve.width],ve.height=[ve.height];var Se=ve.width,Me=ve.height,Qe=new ea;if(Qe==null||_==null)var ut=2;else t(Qe!=null),ut=vc(_,T,F,Qe.width,Qe.height,Qe.Pd,Qe.Qd,Qe.format,null);if(ut!=0?Se=0:(Se!=null&&(Se[0]=Qe.width[0]),Me!=null&&(Me[0]=Qe.height[0]),Se=1),Se){ve.width=ve.width[0],ve.height=ve.height[0],G!=null&&(G[0]=ve.width),ae!=null&&(ae[0]=ve.height);e:{if(G=new $n,(ae=new su).data=_,ae.w=T,ae.ha=F,ae.kd=1,T=[0],t(ae!=null),((_=vc(ae.data,ae.w,ae.ha,null,null,null,T,null,ae))==0||_==7)&&T[0]&&(_=4),(T=_)==0){if(t(xe!=null),G.data=ae.data,G.w=ae.w+ae.offset,G.ha=ae.ha-ae.offset,G.put=ha,G.ac=hr,G.bc=Pa,G.ma=xe,ae.xa){if((_=_t())==null){xe=1;break e}if(function(dt,tt){var Rt=[0],St=[0],Ke=[0];t:for(;;){if(dt==null)return 0;if(tt==null)return dt.a=2,0;if(dt.l=tt,dt.a=0,ge(dt.m,tt.data,tt.w,tt.ha),!vn(dt.m,Rt,St,Ke)){dt.a=3;break t}if(dt.xb=y0,tt.width=Rt[0],tt.height=St[0],!at(Rt[0],St[0],1,dt,null))break t;return 1}return t(dt.a!=0),0}(_,G)){if(G=(T=Rl(G.width,G.height,xe.Oa,xe.ba))==0){t:{G=_;n:for(;;){if(G==null){G=0;break t}if(t(G.s.yc!=null),t(G.s.Ya!=null),t(0<G.s.Wb),t((F=G.l)!=null),t((ae=F.ma)!=null),G.xb!=0){if(G.ca=ae.ba,G.tb=ae.tb,t(G.ca!=null),!Ol(ae.Oa,F,lu)){G.a=2;break n}if(!ft(G,F.width)||F.da)break n;if((F.da||Nn(G.ca.S))&&nt(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&nt()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!yt(G.s.vb,G.s.Wa.Xa)){G.a=1;break n}G.xb=0}if(!Pe(G,G.V,G.Ba,G.c,G.i,F.o,ye))break n;ae.Dc=G.Ma,G=1;break t}t(G.a!=0),G=0}G=!G}G&&(T=_.a)}else T=_.a}else{if((_=new Ba)==null){xe=1;break e}if(_.Fa=ae.na,_.P=ae.P,_.qc=ae.Sa,xi(_,G)){if((T=Rl(G.width,G.height,xe.Oa,xe.ba))==0){if(_.Aa=0,F=xe.Oa,t((ae=_)!=null),F!=null){if(0<(Se=0>(Se=F.Md)?0:100<Se?255:255*Se/100)){for(Me=Qe=0;4>Me;++Me)12>(ut=ae.pb[Me]).lc&&(ut.ia=Se*Hv[0>ut.lc?0:ut.lc]>>3),Qe|=ut.ia;Qe&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=F.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}oi(_,G)||(T=_.a)}}else T=_.a}T==0&&xe.Oa!=null&&xe.Oa.fd&&(T=ou(xe.ba))}xe=T}pe=xe!=0?null:11>pe?ve.f.RGBA.eb:ve.f.kb.y}else pe=null;return pe};var Em=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(B,q){for(var te="",H=0;H<4;H++)te+=String.fromCharCode(B[q++]);return te}function p(B,q){return(B[q+0]<<0|B[q+1]<<8|B[q+2]<<16)>>>0}function g(B,q){return(B[q+0]<<0|B[q+1]<<8|B[q+2]<<16|B[q+3]<<24)>>>0}new u;var w=[0],y=[0],E=[],S=new u,A=e,j=function(B,q){var te={},H=0,W=!1,J=0,ue=0;if(te.frames=[],!function(Z,Q,ne,ce){for(var be=0;be<ce;be++)if(Z[Q+be]!=ne.charCodeAt(be))return!0;return!1}(B,q,"RIFF",4)){for(g(B,q+=4),q+=8;q<B.length;){var se=f(B,q),ee=g(B,q+=4);q+=4;var Ae=ee+(1&ee);switch(se){case"VP8 ":case"VP8L":te.frames[H]===void 0&&(te.frames[H]={}),(_e=te.frames[H]).src_off=W?ue:q-8,_e.src_size=J+ee+8,H++,W&&(W=!1,J=0,ue=0);break;case"VP8X":(_e=te.header={}).feature_flags=B[q];var ge=q+4;_e.canvas_width=1+p(B,ge),ge+=3,_e.canvas_height=1+p(B,ge),ge+=3;break;case"ALPH":W=!0,J=Ae+8,ue=q-8;break;case"ANIM":(_e=te.header).bgcolor=g(B,q),ge=q+4,_e.loop_count=(ct=B)[(U=ge)+0]<<0|ct[U+1]<<8,ge+=2;break;case"ANMF":var Be,_e;(_e=te.frames[H]={}).offset_x=2*p(B,q),q+=3,_e.offset_y=2*p(B,q),q+=3,_e.width=1+p(B,q),q+=3,_e.height=1+p(B,q),q+=3,_e.duration=p(B,q),q+=3,Be=B[q++],_e.dispose=1&Be,_e.blend=Be>>1&1}se!="ANMF"&&(q+=Ae)}var ct,U;return te}}(A,0);j.response=A,j.rgbaoutput=!0,j.dataurl=!1;var k=j.header?j.header:null,D=j.frames?j.frames:null;if(k){k.loop_counter=k.loop_count,w=[k.canvas_height],y=[k.canvas_width];for(var P=0;P<D.length&&D[P].blend!=0;P++);}var Y=D[0],z=S.WebPDecodeRGBA(A,Y.src_off,Y.src_size,y,w);Y.rgba=z,Y.imgwidth=y[0],Y.imgheight=w[0];for(var R=0;R<y[0]*w[0]*4;R++)E[R]=z[R];return this.width=y,this.height=w,this.data=E,this}(function(e){var t=function(){return typeof wb=="function"},n=function(w,y,E,S){var A=4,j=o;switch(S){case e.image_compression.FAST:A=1,j=a;break;case e.image_compression.MEDIUM:A=6,j=c;break;case e.image_compression.SLOW:A=9,j=u}w=r(w,y,E,j);var k=wb(w,{level:A});return e.__addimage__.arrayBufferToBinaryString(k)},r=function(w,y,E,S){for(var A,j,k,D=w.length/y,P=new Uint8Array(w.length+D),Y=p(),z=0;z<D;z+=1){if(k=z*y,A=w.subarray(k,k+y),S)P.set(S(A,E,j),k+z);else{for(var R,B=Y.length,q=[];R<B;R+=1)q[R]=Y[R](A,E,j);var te=g(q.concat());P.set(q[te],k+z)}j=A}return P},i=function(w){var y=Array.apply([],w);return y.unshift(0),y},a=function(w,y){var E,S=[],A=w.length;S[0]=1;for(var j=0;j<A;j+=1)E=w[j-y]||0,S[j+1]=w[j]-E+256&255;return S},o=function(w,y,E){var S,A=[],j=w.length;A[0]=2;for(var k=0;k<j;k+=1)S=E&&E[k]||0,A[k+1]=w[k]-S+256&255;return A},c=function(w,y,E){var S,A,j=[],k=w.length;j[0]=3;for(var D=0;D<k;D+=1)S=w[D-y]||0,A=E&&E[D]||0,j[D+1]=w[D]+256-(S+A>>>1)&255;return j},u=function(w,y,E){var S,A,j,k,D=[],P=w.length;D[0]=4;for(var Y=0;Y<P;Y+=1)S=w[Y-y]||0,A=E&&E[Y]||0,j=E&&E[Y-y]||0,k=f(S,A,j),D[Y+1]=w[Y]-k+256&255;return D},f=function(w,y,E){if(w===y&&y===E)return w;var S=Math.abs(y-E),A=Math.abs(w-E),j=Math.abs(w+y-E-E);return S<=A&&S<=j?w:A<=j?y:E},p=function(){return[i,a,o,c,u]},g=function(w){var y=w.map(function(E){return E.reduce(function(S,A){return S+Math.abs(A)},0)});return y.indexOf(Math.min.apply(null,y))};e.processPNG=function(w,y,E,S){var A,j,k,D,P,Y,z,R,B,q,te,H,W,J,ue,se=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(k=new gQ(w)).imgData,j=k.bits,A=k.colorSpace,P=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){B=(R=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,te=new Uint8Array(B*k.colors),q=new Uint8Array(B);var Ae,ge=k.pixelBitlength-k.bits;for(J=0,ue=0;J<B;J++){for(W=R[J],Ae=0;Ae<ge;)te[ue++]=W>>>Ae&255,Ae+=k.bits;q[J]=W>>>Ae&255}}if(k.bits===16){B=(R=new Uint32Array(k.decodePixels().buffer)).length,te=new Uint8Array(B*(32/k.pixelBitlength)*k.colors),q=new Uint8Array(B*(32/k.pixelBitlength)),H=k.colors>1,J=0,ue=0;for(var Be=0;J<B;)W=R[J++],te[ue++]=W>>>0&255,H&&(te[ue++]=W>>>16&255,W=R[J++],te[ue++]=W>>>0&255),q[Be++]=W>>>16&255;j=8}S!==e.image_compression.NONE&&t()?(w=n(te,k.width*k.colors,k.colors,S),z=n(q,k.width,1,S)):(w=te,z=q,se=void 0)}if(k.colorType===3&&(A=this.color_spaces.INDEXED,Y=k.palette,k.transparency.indexed)){var _e=k.transparency.indexed,ct=0;for(J=0,B=_e.length;J<B;++J)ct+=_e[J];if((ct/=255)===B-1&&_e.indexOf(0)!==-1)D=[_e.indexOf(0)];else if(ct!==B){for(R=k.decodePixels(),q=new Uint8Array(R.length),J=0,B=R.length;J<B;J++)q[J]=_e[R[J]];z=n(q,k.width,1)}}var U=function(Z){var Q;switch(Z){case e.image_compression.FAST:Q=11;break;case e.image_compression.MEDIUM:Q=13;break;case e.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(S);return se===this.decode.FLATE_DECODE&&(ee="/Predictor "+U+" "),ee+="/Colors "+P+" /BitsPerComponent "+j+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:E,data:w,index:y,filter:se,decodeParameters:ee,transparency:D,palette:Y,sMask:z,predictor:U,width:k.width,height:k.height,bitsPerComponent:j,colorSpace:A}}}})(Hn.API),function(e){e.processGIF89A=function(t,n,r,i){var a=new vQ(t),o=a.width,c=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:o,height:c},p=new by(100).encode(f,100);return e.processJPEG.call(this,p,n,r,i)},e.processGIF87A=e.processGIF89A}(Hn.API),Yl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Yl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){wi.log("bit decode error:"+n)}},Yl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var u=this.palette[a>>7-c&1];this.data[o+4*c]=u.blue,this.data[o+4*c+1]=u.green,this.data[o+4*c+2]=u.red,this.data[o+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Yl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,c=a>>4,u=15&a,f=this.palette[c];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*i+1>=this.width)break;f=this.palette[u],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Yl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Yl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,c=(a>>5&t)/t*255|0,u=(a>>10&t)/t*255|0,f=a>>15?255:0,p=r*this.width*4+4*i;this.data[p]=u,this.data[p+1]=c,this.data[p+2]=o,this.data[p+3]=f}this.pos+=e}},Yl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,u=(o>>5&n)/n*255|0,f=(o>>11)/t*255|0,p=i*this.width*4+4*a;this.data[p]=f,this.data[p+1]=u,this.data[p+2]=c,this.data[p+3]=255}this.pos+=e}},Yl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Yl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*n;this.data[c]=a,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=o}},Yl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new Yl(t,!1),o=a.width,c=a.height,u={data:a.getData(),width:o,height:c},f=new by(100).encode(u,100);return e.processJPEG.call(this,f,n,r,i)}}(Hn.API),bS.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new bS(t),o=a.width,c=a.height,u={data:a.getData(),width:o,height:c},f=new by(100).encode(u,100);return e.processJPEG.call(this,f,n,r,i)}}(Hn.API),Hn.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),c=0,u=0,f=0;f<i;f+=4){var p=r[f],g=r[f+1],w=r[f+2],y=r[f+3];a[c++]=p,a[c++]=g,a[c++]=w,o[u++]=y}var E=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Hn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qf=Hn.API,kx=qf.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:i.metadata.Unicode.widths,u=c.fof?c.fof:1,f=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,g=t.doKerning!==!1,w=0,y=e.length,E=0,S=c[0]||u,A=[];for(n=0;n<y;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(w=g&&ti(f[r])==="object"&&!isNaN(parseInt(f[r][E],10))?f[r][E]/p:0,A.push((c[r]||S)/u+w)),E=r;return A},gS=qf.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return qf.processArabic&&(e=qf.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:kx.apply(this,arguments).reduce(function(a,o){return a+o},0)},vS=function(e,t,n,r){for(var i=[],a=0,o=e.length,c=0;a!==o&&c+t[a]<n;)c+=t[a],a++;i.push(e.slice(0,a));var u=a;for(c=0;a!==o;)c+t[a]>r&&(i.push(e.slice(u,a)),c=0,u=a),c+=t[a],a++;return u!==a&&i.push(e.slice(u,a)),i},wS=function(e,t,n){n||(n={});var r,i,a,o,c,u,f,p=[],g=[p],w=n.textIndent||0,y=0,E=0,S=e.split(" "),A=kx.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var j=Array(u).join(" "),k=[];S.map(function(P){(P=P.split(/\s*\n/)).length>1?k=k.concat(P.map(function(Y,z){return(z&&Y.length?`
`:"")+Y})):k.push(P[0])}),S=k,u=gS.apply(this,[j,n])}for(a=0,o=S.length;a<o;a++){var D=0;if(r=S[a],u&&r[0]==`
`&&(r=r.substr(1),D=1),w+y+(E=(i=kx.apply(this,[r,n])).reduce(function(P,Y){return P+Y},0))>t||D){if(E>t){for(c=vS.apply(this,[r,i,t-(w+y),t]),p.push(c.shift()),p=[c.pop()];c.length;)g.push([c.shift()]);E=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(P,Y){return P+Y},0)}else p=[r];g.push(p),w=E+u,y=A}else p.push(r),w+=y+E,y=A}return f=u?function(P,Y){return(Y?j:"")+P.join(" ")}:function(P){return P.join(" ")},g.map(f)},qf.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var g=this.internal.getFont(p.fontName,p.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var c,u,f=[];for(c=0,u=r.length;c<u;c++)f=f.concat(wS.apply(this,[r[c],o,a]));return f},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=e.__fontmetrics__.compress=function(g){var w,y,E,S,A=["{"];for(var j in g){if(w=g[j],isNaN(parseInt(j,10))?y="'"+j+"'":(j=parseInt(j,10),y=(y=a(j).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof w=="number")w<0?(E=a(w).slice(3),S="-"):(E=a(w).slice(2),S=""),E=S+E.slice(0,-1)+r[E.slice(-1)];else{if(ti(w)!=="object")throw new Error("Don't know what to do with value type "+ti(w)+".");E=o(w)}A.push(y+E)}return A.push("}"),A.join("")},c=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,y,E,S,A={},j=1,k=A,D=[],P="",Y="",z=g.length-1,R=1;R<z;R+=1)(S=g[R])=="'"?w?(E=w.join(""),w=void 0):w=[]:w?w.push(S):S=="{"?(D.push([k,E]),k={},E=void 0):S=="}"?((y=D.pop())[0][y[1]]=k,E=void 0,k=y[0]):S=="-"?j=-1:E===void 0?n.hasOwnProperty(S)?(P+=n[S],E=parseInt(P,16)*j,j=1,P=""):P+=S:n.hasOwnProperty(S)?(Y+=n[S],k[E]=parseInt(Y,16)*j,j=1,E=void 0,Y=""):Y+=S;return A},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var w=g.font,y=p.Unicode[w.postScriptName];y&&(w.metadata.Unicode={},w.metadata.Unicode.widths=y.widths,w.metadata.Unicode.kerning=y.kerning);var E=f.Unicode[w.postScriptName];E&&(w.metadata.Unicode.encoding=E,w.encoding=E.codePages[0])}])}(Hn.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(cp(c)),o.metadata=e.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Hn),function(e){function t(){return(Vn.canvg?Promise.resolve(Vn.canvg):Hp(()=>import("./index.es-57e635cd.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Hn.API.addSvgAsImage=function(n,r,i,a,o,c,u,f){if(isNaN(r)||isNaN(i))throw wi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw wi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=a,p.height=o;var g=p.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,p.width,p.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return t().then(function(E){return E.fromString(g,n,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(w)}).then(function(){y.addImage(p.toDataURL("image/jpeg",1),r,i,a,o,u,f)})}}(),Hn.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Hn.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),u=[],f=0,p=0,g=0;function w(E,S){var A,j=!1;for(A=0;A<E.length;A+=1)E[A]===S&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var y=c.length;for(g=0;g<y;g+=1)n[c[g]].value=n[c[g]].defaultValue,n[c[g]].explicitSet=!1}if(ti(e)==="object"){for(i in e)if(a=e[i],w(c,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&w(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")u.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(r=!1);r===!0&&u.push([a[f][0]-1,a[f][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,S=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?S.push("/"+E+" /"+n[E].value):S.push("/"+E+" "+n[E].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+o.length+c.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+c+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Hn.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var c,u=o.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],g=0,w=a.length;g<w;++g){if(c=o.metadata.characterToGlyph(a.charCodeAt(g)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=a.charCodeAt(g),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(f[4-c.length],c)}return p.join("")},r=function(a){var o,c,u,f,p,g,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,w=(c=Object.keys(a).sort(function(y,E){return y-E})).length;g<w;g++)o=c[g],u.length>=100&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(f=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+f+">"));return u.length&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var c=o.font,u=o.out,f=o.newObject,p=o.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var g=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",E=0;E<w.length;E++)y+=String.fromCharCode(w[E]);var S=f();p({data:y,addLength1:!0,objectId:S}),u("endobj");var A=f();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var j=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Kf(c.fontName)),u("/FontFile2 "+S+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var k=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+Kf(c.fontName)),u("/FontDescriptor "+j+" 0 R"),u("/W "+e.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+A+" 0 R"),u("/BaseFont /"+Kf(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+k+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var c=o.font,u=o.out,f=o.newObject,p=o.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var g=c.metadata.rawData,w="",y=0;y<g.length;y++)w+=String.fromCharCode(g[y]);var E=f();p({data:w,addLength1:!0,objectId:E}),u("endobj");var S=f();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var A=f();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+E+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Kf(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=f();for(var j=0;j<c.metadata.hmtx.widths.length;j++)c.metadata.hmtx.widths[j]=parseInt(c.metadata.hmtx.widths[j]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Kf(c.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,c=a.text||"",u=a.x,f=a.y,p=a.options||{},g=a.mutex||{},w=g.pdfEscape,y=g.activeFontKey,E=g.fonts,S=y,A="",j=0,k="",D=E[S].encoding;if(E[S].encoding!=="Identity-H")return{text:c,x:u,y:f,options:p,mutex:g};for(k=c,S=y,Array.isArray(c)&&(k=c[0]),j=0;j<k.length;j+=1)E[S].metadata.hasOwnProperty("cmap")&&(o=E[S].metadata.cmap.unicode.codeMap[k[j].charCodeAt(0)]),o||k[j].charCodeAt(0)<256&&E[S].metadata.hasOwnProperty("Unicode")?A+=k[j]:A+="";var P="";return parseInt(S.slice(1))<14||D==="WinAnsiEncoding"?P=w(A,S).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(P=n(A,E[S])),g.isHex=!0,{text:P,x:u,y:f,options:p,mutex:g}};t.events.push(["postProcessText",function(a){var o=a.text||"",c=[],u={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?c.push([i(Object.assign({},u,{text:o[f][0]})).text,o[f][1],o[f][2]]):c.push(i(Object.assign({},u,{text:o[f]})).text);a.text=c}else a.text=i(Object.assign({},u,{text:o})).text}])}(Hn),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Hn.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,o,c,u,f,p,g=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,D=0;this.__bidiEngine__={};var P=function(H){var W=H.charCodeAt(),J=W>>8,ue=S[J];return ue!==void 0?g[256*ue+(255&W)]:J===252||J===253?"AL":j.test(J)?"L":J===8?"R":"N"},Y=function(H){for(var W,J=0;J<H.length;J++){if((W=P(H.charAt(J)))==="L")return!1;if(W==="R")return!0}return!1},z=function(H,W,J,ue){var se,ee,Ae,ge,Be=W[ue];switch(Be){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(Be="AN");break;case"AL":k=!0,Be="R";break;case"WS":Be="N";break;case"CS":ue<1||ue+1>=W.length||(se=J[ue-1])!=="EN"&&se!=="AN"||(ee=W[ue+1])!=="EN"&&ee!=="AN"?Be="N":k&&(ee="AN"),Be=ee===se?ee:"N";break;case"ES":Be=(se=ue>0?J[ue-1]:"B")==="EN"&&ue+1<W.length&&W[ue+1]==="EN"?"EN":"N";break;case"ET":if(ue>0&&J[ue-1]==="EN"){Be="EN";break}if(k){Be="N";break}for(Ae=ue+1,ge=W.length;Ae<ge&&W[Ae]==="ET";)Ae++;Be=Ae<ge&&W[Ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(ge=W.length,Ae=ue+1;Ae<ge&&W[Ae]==="NSM";)Ae++;if(Ae<ge){var _e=H[ue],ct=_e>=1425&&_e<=2303||_e===64286;if(se=W[Ae],ct&&(se==="R"||se==="AL")){Be="R";break}}}Be=ue<1||(se=W[ue-1])==="B"?"N":J[ue-1];break;case"B":k=!1,i=!0,Be=D;break;case"S":a=!0,Be="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":Be="N"}return Be},R=function(H,W,J){var ue=H.split("");return J&&B(ue,J,{hiLevel:D}),ue.reverse(),W&&W.reverse(),ue.join("")},B=function(H,W,J){var ue,se,ee,Ae,ge,Be=-1,_e=H.length,ct=0,U=[],Z=D?y:w,Q=[];for(k=!1,i=!1,a=!1,se=0;se<_e;se++)Q[se]=P(H[se]);for(ee=0;ee<_e;ee++){if(ge=ct,U[ee]=z(H,Q,U,ee),ue=240&(ct=Z[ge][E[U[ee]]]),ct&=15,W[ee]=Ae=Z[ct][5],ue>0)if(ue===16){for(se=Be;se<ee;se++)W[se]=1;Be=-1}else Be=-1;if(Z[ct][6])Be===-1&&(Be=ee);else if(Be>-1){for(se=Be;se<ee;se++)W[se]=Ae;Be=-1}Q[ee]==="B"&&(W[ee]=0),J.hiLevel|=Ae}a&&function(ne,ce,be){for(var Fe=0;Fe<be;Fe++)if(ne[Fe]==="S"){ce[Fe]=D;for(var ze=Fe-1;ze>=0&&ne[ze]==="WS";ze--)ce[ze]=D}}(Q,W,_e)},q=function(H,W,J,ue,se){if(!(se.hiLevel<H)){if(H===1&&D===1&&!i)return W.reverse(),void(J&&J.reverse());for(var ee,Ae,ge,Be,_e=W.length,ct=0;ct<_e;){if(ue[ct]>=H){for(ge=ct+1;ge<_e&&ue[ge]>=H;)ge++;for(Be=ct,Ae=ge-1;Be<Ae;Be++,Ae--)ee=W[Be],W[Be]=W[Ae],W[Ae]=ee,J&&(ee=J[Be],J[Be]=J[Ae],J[Ae]=ee);ct=ge}ct++}}},te=function(H,W,J){var ue=H.split(""),se={hiLevel:D};return J||(J=[]),B(ue,J,se),function(ee,Ae,ge){if(ge.hiLevel!==0&&p)for(var Be,_e=0;_e<ee.length;_e++)Ae[_e]===1&&(Be=A.indexOf(ee[_e]))>=0&&(ee[_e]=A[Be+1])}(ue,J,se),q(2,ue,W,J,se),q(1,ue,W,J,se),ue.join("")};return this.__bidiEngine__.doBidiReorder=function(H,W,J){if(function(se,ee){if(ee)for(var Ae=0;Ae<se.length;Ae++)ee[Ae]=Ae;c===void 0&&(c=Y(se)),f===void 0&&(f=Y(se))}(H,W),o||!u||f)if(o&&u&&c^f)D=c?1:0,H=R(H,W,J);else if(!o&&u&&f)D=c?1:0,H=te(H,W,J),H=R(H,W);else if(!o||c||u||f){if(o&&!u&&c^f)H=R(H,W),c?(D=0,H=te(H,W,J)):(D=1,H=te(H,W,J),H=R(H,W));else if(o&&c&&!u&&f)D=1,H=te(H,W,J),H=R(H,W);else if(!o&&!u&&c^f){var ue=p;c?(D=1,H=te(H,W,J),D=0,p=!1,H=te(H,W,J),p=ue):(D=0,H=te(H,W,J),H=R(H,W),D=1,p=!1,H=te(H,W,J),p=ue,H=R(H,W))}}else D=0,H=te(H,W,J);else D=c?1:0,H=te(H,W,J);return H},this.__bidiEngine__.setOptions=function(H){H&&(o=H.isInputVisual,u=H.isOutputVisual,c=H.isInputRtl,f=H.isOutputRtl,p=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(o=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?o.push([n.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):o.push([n.doBidiReorder(i[c])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Hn),Hn.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new i0(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new DQ(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new wQ(this.contents),this.head=new bQ(this),this.name=new EQ(this),this.cmap=new Bk(this),this.toUnicode={},this.hhea=new NQ(this),this.maxp=new AQ(this),this.hmtx=new jQ(this),this.post=new SQ(this),this.os2=new _Q(this),this.loca=new IQ(this),this.glyf=new kQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,u,f;for(f=[],o=0,c=(u=this.bbox).length;o<c;o++)t=u[o],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,o,c;for(o=0,a=0,c=(t=""+t).length;0<=c?a<c:a>c;a=0<=c?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var pc,i0=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,o,c,u;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^c)+(255^u)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*c+u},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),wQ=function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,o,c,u,f,p,g,w,y,E,S;for(S in y=Object.keys(n).length,u=Math.log(2),g=16*Math.floor(Math.log(y)/u),o=Math.floor(g/u),p=16*y-g,(i=new i0).writeInt(this.scalarType),i.writeShort(y),i.writeShort(g),i.writeShort(o),i.writeShort(p),a=16*y,f=i.pos+a,c=null,E=[],n)for(w=n[S],i.writeString(S),i.writeInt(e(w)),i.writeInt(f),i.writeInt(w.length),E=E.concat(w),S==="head"&&(c=f),f+=w.length;f%4;)E.push(0),f++;return i.write(E),r=2981146554-e(i.data),i.pos=c+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,o;for(n=Uk.call(n);n.length%4;)n.push(0);for(a=new i0(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},t}(),yQ={}.hasOwnProperty,Jc=function(e,t){for(var n in t)yQ.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};pc=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var bQ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,pc),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new i0).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),NS=function(){function e(t,n){var r,i,a,o,c,u,f,p,g,w,y,E,S,A,j,k,D;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(y=t.readUInt16(),w=y/2,t.pos+=6,a=function(){var P,Y;for(Y=[],u=P=0;0<=w?P<w:P>w;u=0<=w?++P:--P)Y.push(t.readUInt16());return Y}(),t.pos+=2,S=function(){var P,Y;for(Y=[],u=P=0;0<=w?P<w:P>w;u=0<=w?++P:--P)Y.push(t.readUInt16());return Y}(),f=function(){var P,Y;for(Y=[],u=P=0;0<=w?P<w:P>w;u=0<=w?++P:--P)Y.push(t.readUInt16());return Y}(),p=function(){var P,Y;for(Y=[],u=P=0;0<=w?P<w:P>w;u=0<=w?++P:--P)Y.push(t.readUInt16());return Y}(),i=(this.length-t.pos+this.offset)/2,c=function(){var P,Y;for(Y=[],u=P=0;0<=i?P<i:P>i;u=0<=i?++P:--P)Y.push(t.readUInt16());return Y}(),u=j=0,D=a.length;j<D;u=++j)for(A=a[u],r=k=E=S[u];E<=A?k<=A:k>=A;r=E<=A?++k:--k)p[u]===0?o=r+f[u]:(o=c[p[u]/2+(r-E)-(w-u)]||0)!==0&&(o+=f[u]),this.codeMap[r]=65535&o}t.pos=g}return e.encode=function(t,n){var r,i,a,o,c,u,f,p,g,w,y,E,S,A,j,k,D,P,Y,z,R,B,q,te,H,W,J,ue,se,ee,Ae,ge,Be,_e,ct,U,Z,Q,ne,ce,be,Fe,ze,Ze,pt,bt;switch(ue=new i0,o=Object.keys(t).sort(function(Ye,yt){return Ye-yt}),n){case"macroman":for(S=0,A=function(){var Ye=[];for(E=0;E<256;++E)Ye.push(0);return Ye}(),k={0:0},a={},se=0,Be=o.length;se<Be;se++)k[ze=t[i=o[se]]]==null&&(k[ze]=++S),a[i]={old:t[i],new:k[t[i]]},A[i]=k[t[i]];return ue.writeUInt16(1),ue.writeUInt16(0),ue.writeUInt32(12),ue.writeUInt16(0),ue.writeUInt16(262),ue.writeUInt16(0),ue.write(A),{charMap:a,subtable:ue.data,maxGlyphID:S+1};case"unicode":for(W=[],g=[],D=0,k={},r={},j=f=null,ee=0,_e=o.length;ee<_e;ee++)k[Y=t[i=o[ee]]]==null&&(k[Y]=++D),r[i]={old:Y,new:k[Y]},c=k[Y]-i,j!=null&&c===f||(j&&g.push(j),W.push(i),f=c),j=i;for(j&&g.push(j),g.push(65535),W.push(65535),te=2*(q=W.length),B=2*Math.pow(Math.log(q)/Math.LN2,2),w=Math.log(B/2)/Math.LN2,R=2*q-B,u=[],z=[],y=[],E=Ae=0,ct=W.length;Ae<ct;E=++Ae){if(H=W[E],p=g[E],H===65535){u.push(0),z.push(0);break}if(H-(J=r[H].new)>=32768)for(u.push(0),z.push(2*(y.length+q-E)),i=ge=H;H<=p?ge<=p:ge>=p;i=H<=p?++ge:--ge)y.push(r[i].new);else u.push(J-H),z.push(0)}for(ue.writeUInt16(3),ue.writeUInt16(1),ue.writeUInt32(12),ue.writeUInt16(4),ue.writeUInt16(16+8*q+2*y.length),ue.writeUInt16(0),ue.writeUInt16(te),ue.writeUInt16(B),ue.writeUInt16(w),ue.writeUInt16(R),be=0,U=g.length;be<U;be++)i=g[be],ue.writeUInt16(i);for(ue.writeUInt16(0),Fe=0,Z=W.length;Fe<Z;Fe++)i=W[Fe],ue.writeUInt16(i);for(Ze=0,Q=u.length;Ze<Q;Ze++)c=u[Ze],ue.writeUInt16(c);for(pt=0,ne=z.length;pt<ne;pt++)P=z[pt],ue.writeUInt16(P);for(bt=0,ce=y.length;bt<ce;bt++)S=y[bt],ue.writeUInt16(S);return{charMap:r,subtable:ue.data,maxGlyphID:D+1}}},e}(),Bk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,pc),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new NS(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=NS.encode(n,r),(a=new i0).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),NQ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,pc),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),_Q=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,pc),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),SQ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,pc),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var c,u,f;for(f=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)f.push(n.readUInt32());return f}).call(this)}},t}(),CQ=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},EQ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,pc),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,a,o,c,u,f,p,g,w,y;for(n.pos=this.offset,n.readShort(),r=n.readShort(),u=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(f={},o=g=0,w=i.length;g<w;o=++g)a=i[o],n.pos=a.offset,p=n.readString(a.length),c=new CQ(p,a),f[y=a.nameID]==null&&(f[y]=[]),f[a.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),AQ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,pc),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),jQ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,pc),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,a,o,c,u,f;for(n.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,g;for(g=[],r=p=0;0<=a?p<a:p>a;r=0<=a?++p:--p)g.push(n.readInt16());return g}(),this.widths=(function(){var p,g,w,y;for(y=[],p=0,g=(w=this.metrics).length;p<g;p++)o=w[p],y.push(o.advance);return y}).call(this),i=this.widths[this.widths.length-1],f=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)f.push(this.widths.push(i));return f},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),Uk=[].slice,kQ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,pc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,a,o,c,u,f,p,g,w;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,c=(u=new i0(r.read(a))).readShort(),p=u.readShort(),w=u.readShort(),f=u.readShort(),g=u.readShort(),this.cache[n]=c===-1?new LQ(u,p,w,f,g):new TQ(u,c,p,w,f,g),this.cache[n]))},t.prototype.encode=function(n,r,i){var a,o,c,u,f;for(c=[],o=[],u=0,f=r.length;u<f;u++)a=n[r[u]],o.push(c.length),a&&(c=c.concat(a.encode(i)));return o.push(c.length),{table:c,offsets:o}},t}(),TQ=function(){function e(t,n,r,i,a,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),LQ=function(){function e(t,n,r,i,a){var o,c;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new i0(Uk.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),IQ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,pc),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<i.length;++c)if(i[c]=a,o<r.length&&r[o]==c){++o,i[c]=a;var u=this.offsets[c],f=this.offsets[c+1]-u;f>0&&(a+=f)}for(var p=new Array(4*i.length),g=0;g<i.length;++g)p[4*g+3]=255&i[g],p[4*g+2]=(65280&i[g])>>8,p[4*g+1]=(16711680&i[g])>>16,p[4*g]=(4278190080&i[g])>>24;return p},t}(),DQ=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,o,c,u;for(i={},o=0,c=t.length;o<c;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in u=this.glyphsFor(n))r=u[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,o,c,u,f,p,g,w,y,E,S,A,j;for(i in r=Bk.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),y={0:0},j=r.charMap)y[(u=j[i]).old]=u.new;for(E in w=r.maxGlyphID,o)E in y||(y[E]=w++);return p=function(k){var D,P;for(D in P={},k)P[k[D]]=D;return P}(y),g=Object.keys(p).sort(function(k,D){return k-D}),S=function(){var k,D,P;for(P=[],k=0,D=g.length;k<D;k++)c=g[k],P.push(p[c]);return P}(),a=this.font.glyf.encode(o,S,y),f=this.font.loca.encode(a.offsets,S),A={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();Hn.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var c,u,f;for(f=[],c=0,u=n.length;c<u;c++)r=n[c],f.push(t.convert(r));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t}();function zk(e,t,n,r,i){r=r||{};var a=1.15,o=i.internal.scaleFactor,c=i.internal.getFontSize()/o,u=i.getLineHeightFactor?i.getLineHeightFactor():a,f=c*u,p=/\r\n|\r|\n/g,g="",w=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(g=typeof e=="string"?e.split(p):e,w=g.length||1),n+=c*(2-a),r.valign==="middle"?n-=w/2*f:r.valign==="bottom"&&(n-=w*f),r.halign==="center"||r.halign==="right"){var y=c;if(r.halign==="center"&&(y*=.5),g&&w>=1){for(var E=0;E<g.length;E++)i.text(g[E],t-i.getStringUnitWidth(g[E])*y,n),n+=f;return i}t-=i.getStringUnitWidth(e)*y}return r.halign==="justify"?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}var _S={},Ah=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:_S=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,i,a;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),c=o.fontStyle,u=o.fontName;if(t.font&&(u=t.font),t.fontStyle){c=t.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(u,c),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var p=e.unifyColor(t.fillColor);p&&(r=this.jsPDFDocument).setFillColor.apply(r,p),p=e.unifyColor(t.textColor),p&&(i=this.jsPDFDocument).setTextColor.apply(i,p),p=e.unifyColor(t.lineColor),p&&(a=this.jsPDFDocument).setDrawColor.apply(a,p),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,i,a){return this.jsPDFDocument.rect(t,n,r,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return _S||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Eb=function(e,t){return Eb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Eb(e,t)};function Wk(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Eb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var qk=function(e){Wk(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t}(Array);function OQ(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function RQ(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function pg(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function Hk(e,t,n,r){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var o=Vk(i,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,o)}function Vk(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function _v(e,t){var n,r,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function $k(e,t){var n=_v(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function MQ(e,t,n,r,i){var a={},o=1.3333333333333333,c=Ny(t,function(D){return i.getComputedStyle(D).backgroundColor});c!=null&&(a.fillColor=c);var u=Ny(t,function(D){return i.getComputedStyle(D).color});u!=null&&(a.textColor=u);var f=FQ(r,n);f&&(a.cellPadding=f);var p="borderTopColor",g=o*n,w=r.borderTopWidth;if(r.borderBottomWidth===w&&r.borderRightWidth===w&&r.borderLeftWidth===w){var y=(parseFloat(w)||0)/g;y&&(a.lineWidth=y)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/g,right:(parseFloat(r.borderRightWidth)||0)/g,bottom:(parseFloat(r.borderBottomWidth)||0)/g,left:(parseFloat(r.borderLeftWidth)||0)/g},a.lineWidth.top||(a.lineWidth.right?p="borderRightColor":a.lineWidth.bottom?p="borderBottomColor":a.lineWidth.left&&(p="borderLeftColor"));var E=Ny(t,function(D){return i.getComputedStyle(D)[p]});E!=null&&(a.lineColor=E);var S=["left","right","center","justify"];S.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),S=["middle","bottom","top"],S.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var A=parseInt(r.fontSize||"");isNaN(A)||(a.fontSize=A/o);var j=PQ(r);j&&(a.fontStyle=j);var k=(r.fontFamily||"").toLowerCase();return e.indexOf(k)!==-1&&(a.font=k),a}function PQ(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Ny(e,t){var n=Yk(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Yk(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:Yk(e.parentElement,t):n}function FQ(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=n.map(function(c){return parseInt(c||"0")/r}),o=_v(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function Gk(e,t,n,r,i){var a,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var c;typeof t=="string"?c=n.document.querySelector(t):c=t;var u=Object.keys(e.getFontList()),f=e.scaleFactor(),p=[],g=[],w=[];if(!c)return console.error("Html table could not be found with input: ",t),{head:p,body:g,foot:w};for(var y=0;y<c.rows.length;y++){var E=c.rows[y],S=(o=(a=E==null?void 0:E.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),A=BQ(u,f,n,E,r,i);A&&(S==="thead"?p.push(A):S==="tfoot"?w.push(A):g.push(A))}return{head:p,body:g,foot:w}}function BQ(e,t,n,r,i,a){for(var o=new qk(r),c=0;c<r.cells.length;c++){var u=r.cells[c],f=n.getComputedStyle(u);if(i||f.display!=="none"){var p=void 0;a&&(p=MQ(e,u,t,f,n)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:p,_element:u,content:UQ(u)})}}var g=n.getComputedStyle(r);if(o.length>0&&(i||g.display!=="none"))return o}function UQ(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function zQ(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Au(e,t,n,r,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),o=1;o<arguments.length;o++){var c=arguments[o];if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(a[u]=c[u])}return a}function WQ(e,t){var n=new Ah(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();zQ(i,r,t);var a=Au({},i,r,t),o;typeof window<"u"&&(o=window);var c=qQ(i,r,t),u=HQ(i,r,t),f=VQ(n,a),p=YQ(n,a,o);return{id:t.tableId,content:p,hooks:u,styles:c,settings:f}}function qQ(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var f=e[u],p=t[u],g=n[u];r.columnStyles=Au({},f,p,g)}else{var w=[e,t,n],y=w.map(function(E){return E[u]||{}});r[u]=Au({},y[0],y[1],y[2])}},a=0,o=Object.keys(r);a<o.length;a++){var c=o[a];i(c)}return r}function HQ(e,t,n){for(var r=[e,t,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=r;a<o.length;a++){var c=o[a];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function VQ(e,t){var n,r,i,a,o,c,u,f,p,g,w,y,E=_v(t.margin,40/e.scaleFactor()),S=(n=$Q(e,t.startY))!==null&&n!==void 0?n:E.top,A;t.showFoot===!0?A="everyPage":t.showFoot===!1?A="never":A=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var j;t.showHead===!0?j="everyPage":t.showHead===!1?j="never":j=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var k=(a=t.useCss)!==null&&a!==void 0?a:!1,D=t.theme||(k?"plain":"striped"),P=!!t.horizontalPageBreak,Y=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(c=t.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:k,theme:D,startY:S,margin:E,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(p=t.tableWidth)!==null&&p!==void 0?p:"auto",showHead:j,showFoot:A,tableLineWidth:(g=t.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(w=t.tableLineColor)!==null&&w!==void 0?w:200,horizontalPageBreak:P,horizontalPageBreakRepeat:Y,horizontalPageBreakBehaviour:(y=t.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function $Q(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),a=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;a=o===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function YQ(e,t,n){var r=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var c=Gk(e,t.html,n,o,t.useCss)||{};r=c.head||r,i=c.body||r,a=c.foot||r}else console.error("Cannot parse html in non browser environment")}var u=t.columns||GQ(r,i,a);return{columns:u,head:r,body:i,foot:a}}function GQ(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,c;Array.isArray(r)?c=r[parseInt(a)]:c=r[a],typeof c=="object"&&!Array.isArray(c)&&(o=(c==null?void 0:c.colSpan)||1);for(var u=0;u<o;u++){var f=void 0;Array.isArray(r)?f=i.length:f=a+(u>0?"_".concat(u):"");var p={dataKey:f};i.push(p)}}),i}var Ab=function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e}(),XQ=function(e){Wk(t,e);function t(n,r,i,a,o,c){var u=e.call(this,n,r,c)||this;return u.cell=i,u.row=a,u.column=o,u.section=a.section,u}return t}(Ab),KQ=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,i,a,o){for(var c=0,u=n;c<u.length;c++){var f=u[c],p=new XQ(t,this,r,i,a,o),g=f(p)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],g)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new Ab(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new Ab(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e}(),Xk=function(){function e(t,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof qk&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(i,a){var o=r.cells[a.index];if(!o)return 0;var c=n.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),f=u+c;return f>i?f:i},0)},e}(),Kk=function(){function e(t,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",c=/\r\n|\r|\n/g;this.text=o.split(c)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=_v(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),QQ=function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,i=t.allRows();r<i.length;r++){var a=i[r],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},e}();function ZQ(e,t){JQ(e,t);var n=[],r=0;t.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(t);o?a.width=o:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=t.getWidth(e.pageSize().width)-r;i&&(i=jb(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=jb(n,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),tZ(t),nZ(t,e),eZ(t)}function JQ(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=$k(e,t);t.allRows().forEach(function(a){for(var o=0,c=t.columns;o<c.length;o++){var u=c[o],f=a.cells[u.index];if(f){var p=t.hooks.didParseCell;t.callCellHooks(e,p,f,a,u,null);var g=f.padding("horizontal");f.contentWidth=pg(f.text,f.styles,e)+g;var w=pg(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,e);if(f.minReadableWidth=w+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||r===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var y=10/n;f.minWidth=f.styles.minCellWidth||y,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(a){for(var o=0,c=t.columns;o<c.length;o++){var u=c[o],f=a.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var p=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},g=p.cellWidth||p.minCellWidth;g&&typeof g=="number"&&(u.minWidth=g,u.wrappedWidth=g)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function jb(e,t,n){for(var r=t,i=e.reduce(function(y,E){return y+E.wrappedWidth},0),a=0;a<e.length;a++){var o=e[a],c=o.wrappedWidth/i,u=r*c,f=o.width+u,p=n(o),g=f<p?p:f;t-=g-o.width,o.width=g}if(t=Math.round(t*1e10)/1e10,t){var w=e.filter(function(y){return t<0?y.width>n(y):!0});w.length&&(t=jb(w,t,n))}return t}function eZ(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var a=r[i],o=0,c=e.columns;o<c.length;o++){var u=c[o],f=t[u.index];if(n>1)n--,delete a.cells[u.index];else if(f)f.cell.height+=a.height,n=f.cell.colSpan,delete a.cells[u.index],f.left--,f.left<=1&&delete t[u.index];else{var p=a.cells[u.index];if(!p)continue;if(p.height=a.height,p.rowSpan>1){var g=r.length-i,w=p.rowSpan>g?g:p.rowSpan;t[u.index]={cell:p,left:w,row:a}}}}}function tZ(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,a=0,o=0,c=0;c<e.columns.length;c++){var u=e.columns[c];if(o-=1,o>1&&e.columns[c+1])a+=u.width,delete r.cells[u.index];else if(i){var f=i;delete r.cells[u.index],i=null,f.width=u.width+a}else{var f=r.cells[u.index];if(!f)continue;if(o=f.colSpan,a=0,f.colSpan>1){i=f,a+=u.width;continue}f.width=u.width+a}}}function nZ(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var a=i[r],o=0,c=e.columns;o<c.length;o++){var u=c[o],f=a.cells[u.index];if(f){t.applyStyles(f.styles,!0);var p=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,p+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=SS(f.text,p,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=SS(f.text,p,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var g=f.styles.overflow(f.text,p);typeof g=="string"?f.text=[g]:f.text=g}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var w=f.contentHeight/f.rowSpan;f.rowSpan>1&&n.count*n.height<w*f.rowSpan?n={height:w,count:f.rowSpan}:n&&n.count>0&&n.height>w&&(w=n.height),w>a.height&&(a.height=w)}}n.count--}}function SS(e,t,n,r,i){return e.map(function(a){return rZ(a,t,n,r,i)})}function rZ(e,t,n,r,i){var a=1e4*r.scaleFactor();if(t=Math.ceil(t*a)/a,t>=pg(e,n,r))return e;for(;t<pg(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function iZ(e,t){var n=new Ah(e),r=aZ(t,n.scaleFactor()),i=new KQ(t,r);return ZQ(n,i),n.applyStyles(n.userStyles),i}function aZ(e,t){var n=e.content,r=oZ(n.columns);if(n.head.length===0){var i=CS(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=CS(r,"foot");i&&n.foot.push(i)}var a=e.settings.theme,o=e.styles;return{columns:r,head:_y("head",n.head,r,o,a,t),body:_y("body",n.body,r,o,a,t),foot:_y("foot",n.foot,r,o,a,t)}}function _y(e,t,n,r,i,a){var o={},c=t.map(function(u,f){for(var p=0,g={},w=0,y=0,E=0,S=n;E<S.length;E++){var A=S[E];if(o[A.index]==null||o[A.index].left===0)if(y===0){var j=void 0;Array.isArray(u)?j=u[A.index-w-p]:j=u[A.dataKey];var k={};typeof j=="object"&&!Array.isArray(j)&&(k=(j==null?void 0:j.styles)||{});var D=lZ(e,A,f,i,r,a,k),P=new Kk(j,D,e);g[A.dataKey]=P,g[A.index]=P,y=P.colSpan-1,o[A.index]={left:P.rowSpan-1,times:y}}else y--,w++;else o[A.index].left--,y=o[A.index].times,p++}return new Xk(u,f,e,g)});return c}function CS(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var i=sZ(t,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function sZ(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function oZ(e){return e.map(function(t,n){var r,i;return typeof t=="object"?i=(r=t.dataKey)!==null&&r!==void 0?r:n:i=n,new QQ(i,t,n)})}function lZ(e,t,n,r,i,a,o){var c=RQ(r),u;e==="head"?u=i.headStyles:e==="body"?u=i.bodyStyles:e==="foot"&&(u=i.footStyles);var f=Au({},c.table,c[e],i.styles,u),p=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},g=e==="body"?p:{},w=e==="body"&&n%2===0?Au({},c.alternateRow,i.alternateRowStyles):{},y=OQ(a),E=Au({},y,f,w,g);return Au(E,o)}function cZ(e,t,n){var r;n===void 0&&(n={});var i=$k(e,t),a=new Map,o=[],c=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(w){var y=t.columns.find(function(E){return E.dataKey===w||E.index===w});y&&!a.has(y.index)&&(a.set(y.index,!0),o.push(y.index),c.push(t.columns[y.index]),i-=y.wrappedWidth)});for(var f=!0,p=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;p<t.columns.length;){if(a.has(p)){p++;continue}var g=t.columns[p].wrappedWidth;if(f||i>=g)f=!1,o.push(p),c.push(t.columns[p]),i-=g;else break;p++}return{colIndexes:o,columns:c,lastIndex:p-1}}function uZ(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=cZ(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function dZ(e,t){var n=t.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),c=r+i.bottom+o;if(n.pageBreak==="avoid"){var u=t.body,f=u.reduce(function(w,y){return w+y.height},0);c+=f}var p=new Ah(e);(n.pageBreak==="always"||n.startY!=null&&c>p.pageSize().height)&&(Zk(p),a.y=i.top),t.callWillDrawPageHooks(p,a);var g=Au({},a);t.startPageNumber=p.pageNumber(),n.horizontalPageBreak?fZ(p,t,g,a):(p.applyStyles(p.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(w){return $u(p,t,w,a,t.columns)}),p.applyStyles(p.userStyles),t.body.forEach(function(w,y){var E=y===t.body.length-1;mg(p,t,w,E,g,a,t.columns)}),p.applyStyles(p.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(w){return $u(p,t,w,a,t.columns)})),Hk(p,t,g,a),t.callEndPageHooks(p,a),t.finalY=a.y,e.lastAutoTable=t,p.applyStyles(p.userStyles)}function fZ(e,t,n,r){var i=uZ(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,p){e.applyStyles(e.userStyles),p>0?up(e,t,n,r,f.columns,!0):ES(e,t,r,f.columns),hZ(e,t,n,r,f.columns),Sy(e,t,r,f.columns)});else for(var o=-1,c=i[0],u=function(){var f=o;if(c){e.applyStyles(e.userStyles);var p=c.columns;o>=0?up(e,t,n,r,p,!0):ES(e,t,r,p),f=AS(e,t,o+1,r,p),Sy(e,t,r,p)}var g=f-o;i.slice(1).forEach(function(w){e.applyStyles(e.userStyles),up(e,t,n,r,w.columns,!0),AS(e,t,o+1,r,w.columns,g),Sy(e,t,r,w.columns)}),o=f};o<t.body.length-1;)u()}function ES(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return $u(e,t,a,n,r)})}function hZ(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,o){var c=o===t.body.length-1;mg(e,t,a,c,n,r,i)})}function AS(e,t,n,r,i,a){e.applyStyles(e.userStyles),a=a??t.body.length;var o=Math.min(n+a,t.body.length),c=-1;return t.body.slice(n,o).forEach(function(u,f){var p=n+f===t.body.length-1,g=Qk(e,t,p,r);u.canEntireRowFit(g,i)&&($u(e,t,u,r,i),c=n+f)}),c}function Sy(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return $u(e,t,a,n,r)})}function pZ(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/r);return Math.max(0,a)}function mZ(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,o=0,c=n.columns;o<c.length;o++){var u=c[o],f=e.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var p=new Kk(f.raw,f.styles,f.section);p=Au(p,f),p.text=[];var g=pZ(f,t,r);f.text.length>g&&(p.text=f.text.splice(g,f.text.length));var w=r.scaleFactor(),y=r.getLineHeightFactor();f.contentHeight=f.getContentHeight(w,y),f.contentHeight>=t&&(f.contentHeight=t,p.styles.minCellHeight-=t),f.contentHeight>e.height&&(e.height=f.contentHeight),p.contentHeight=p.getContentHeight(w,y),p.contentHeight>a&&(a=p.contentHeight),i[u.index]=p}}var E=new Xk(e.raw,-1,e.section,i,!0);E.height=a;for(var S=0,A=n.columns;S<A.length;S++){var u=A[S],p=E.cells[u.index];p&&(p.height=E.height);var f=e.cells[u.index];f&&(f.height=e.height)}return E}function xZ(e,t,n,r){var i=e.pageSize().height,a=r.settings.margin,o=a.top+a.bottom,c=i-o;t.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var u=t.getMinimumRowHeight(r.columns,e),f=u<n;if(u>c)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var p=t.hasRowSpan(r.columns),g=t.getMaxCellHeight(r.columns)>c;return g?(p&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||r.settings.rowPageBreak==="avoid")}function mg(e,t,n,r,i,a,o){var c=Qk(e,t,r,a);if(n.canEntireRowFit(c,o))$u(e,t,n,a,o);else if(xZ(e,n,c,t)){var u=mZ(n,c,t,e);$u(e,t,n,a,o),up(e,t,i,a,o),mg(e,t,u,r,i,a,o)}else up(e,t,i,a,o),mg(e,t,n,r,i,a,o)}function $u(e,t,n,r,i){r.x=t.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var c=o[a],u=n.cells[c.index];if(!u){r.x+=c.width;continue}e.applyStyles(u.styles),u.x=r.x,u.y=r.y;var f=t.callCellHooks(e,t.hooks.willDrawCell,u,n,c,r);if(f===!1){r.x+=c.width;continue}gZ(e,u,r);var p=u.getTextPos();zk(u.text,p.x,p.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,n,c,r),r.x+=c.width}r.y+=n.height}function gZ(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=Vk(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),vZ(e,t,n,r.lineWidth))}function vZ(e,t,n,r){var i,a,o,c;r.top&&(i=n.x,a=n.y,o=n.x+t.width,c=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),u(r.top,i,a,o,c)),r.bottom&&(i=n.x,a=n.y+t.height,o=n.x+t.width,c=n.y+t.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),u(r.bottom,i,a,o,c)),r.left&&(i=n.x,a=n.y,o=n.x,c=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(c+=.5*r.bottom),u(r.left,i,a,o,c)),r.right&&(i=n.x+t.width,a=n.y,o=n.x+t.width,c=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(c+=.5*r.bottom),u(r.right,i,a,o,c));function u(f,p,g,w,y){e.getDocument().setLineWidth(f),e.getDocument().line(p,g,w,y,"S")}}function Qk(e,t,n,r){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function up(e,t,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(c){return $u(e,t,c,r,i)}),t.callEndPageHooks(e,r);var o=t.settings.margin;Hk(e,t,n,r),Zk(e),t.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(c){return $u(e,t,c,r,i)}),e.applyStyles(e.userStyles))}function Zk(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function wZ(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=WQ(this,r),a=iZ(this,i);return dZ(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,i){zk(t,n,r,i,this)},e.API.autoTableSetDefaults=function(t){return Ah.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){Ah.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Ah(this),a=Gk(i,t,window,n,!1),o=a.head,c=a.body,u=((r=o[0])===null||r===void 0?void 0:r.map(function(f){return f.content}))||[];return{columns:u,rows:c,data:c}}}var Cy;try{if(typeof window<"u"&&window){var jS=window,kS=jS.jsPDF||((Cy=jS.jspdf)===null||Cy===void 0?void 0:Cy.jsPDF);kS&&wZ(kS)}}catch(e){console.error("Could not apply autoTable plugin",e)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var xg={};xg.version="0.18.5";var Jk=1252,yZ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],eT=function(e){yZ.indexOf(e)!=-1&&(Jk=e)};function bZ(){eT(1252)}var $p=function(e){eT(e)};function NZ(){$p(1200),bZ()}function _Z(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var Tx=function(t){return String.fromCharCode(t)},TS=function(t){return String.fromCharCode(t)},R0,Bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Yp(e){for(var t="",n=0,r=0,i=0,a=0,o=0,c=0,u=0,f=0;f<e.length;)n=e.charCodeAt(f++),a=n>>2,r=e.charCodeAt(f++),o=(n&3)<<4|r>>4,i=e.charCodeAt(f++),c=(r&15)<<2|i>>6,u=i&63,isNaN(r)?c=u=64:isNaN(i)&&(u=64),t+=Bd.charAt(a)+Bd.charAt(o)+Bd.charAt(c)+Bd.charAt(u);return t}function Yu(e){var t="",n=0,r=0,i=0,a=0,o=0,c=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)a=Bd.indexOf(e.charAt(f++)),o=Bd.indexOf(e.charAt(f++)),n=a<<2|o>>4,t+=String.fromCharCode(n),c=Bd.indexOf(e.charAt(f++)),r=(o&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(r)),u=Bd.indexOf(e.charAt(f++)),i=(c&3)<<6|u,u!==64&&(t+=String.fromCharCode(i));return t}var Hr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Zu=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function lf(e){return Hr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function LS(e){return Hr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var tc=function(t){return Hr?Zu(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function Sv(e){if(typeof ArrayBuffer>"u")return tc(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function hm(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function SZ(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var gs=Hr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Zu(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function CZ(e){for(var t=[],n=0,r=e.length+250,i=lf(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=e.charCodeAt(++a)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|c>>6&15|(o&3)<<4,i[n++]=128|c&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(t.push(i.slice(0,n)),n=0,i=lf(65535),r=65530)}return t.push(i.slice(0,n)),gs(t)}var dp=/\u0000/g,Lx=/[\u0001-\u0006]/g;function jh(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function nc(e,t){var n=""+e;return n.length>=t?n:la("0",t-n.length)+n}function _3(e,t){var n=""+e;return n.length>=t?n:la(" ",t-n.length)+n}function gg(e,t){var n=""+e;return n.length>=t?n:n+la(" ",t-n.length)}function EZ(e,t){var n=""+Math.round(e);return n.length>=t?n:la("0",t-n.length)+n}function AZ(e,t){var n=""+e;return n.length>=t?n:la("0",t-n.length)+n}var IS=Math.pow(2,32);function Hf(e,t){if(e>IS||e<-IS)return EZ(e,t);var n=Math.round(e);return AZ(n,t)}function vg(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var DS=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ey=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function jZ(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var da={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},OS={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},kZ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function wg(e,t,n){for(var r=e<0?-1:1,i=e*r,a=0,o=1,c=0,u=1,f=0,p=0,g=Math.floor(i);f<t&&(g=Math.floor(i),c=g*o+a,p=g*f+u,!(i-g<5e-8));)i=1/(i-g),a=o,o=c,u=f,f=p;if(p>t&&(f>t?(p=u,c=a):(p=f,c=o)),!n)return[0,r*c,p];var w=Math.floor(r*c/p);return[w,r*c-w*p,p]}function Ix(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),a=0,o=[],c={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)o=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],a=u.getDay(),r<60&&(a=(a+6)%7),n&&(a=MZ(u,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=a,c}var tT=new Date(1899,11,31,0,0,0),TZ=tT.getTime(),LZ=new Date(1900,2,1,0,0,0);function nT(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=LZ&&(n+=24*60*60*1e3),(n-(TZ+(e.getTimezoneOffset()-tT.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function S3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function IZ(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function DZ(e){var t=e<0?12:11,n=S3(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function OZ(e){var t=S3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function RZ(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=DZ(e):t===10?n=e.toFixed(10).substr(0,12):n=OZ(e),S3(IZ(n.toUpperCase()))}function kb(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):RZ(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return a0(14,nT(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function MZ(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function PZ(e,t,n,r){var i="",a=0,o=0,c=n.y,u,f=0;switch(e){case 98:c=n.y+543;case 121:switch(t.length){case 1:case 2:u=c%100,f=2;break;default:u=c%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=n.m,f=t.length;break;case 3:return Ey[n.m-1][1];case 5:return Ey[n.m-1][0];default:return Ey[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=n.d,f=t.length;break;case 3:return DS[n.q][0];default:return DS[n.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(n.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=n.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=n.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?nc(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,a=Math.round(o*(n.S+n.u)),a>=60*o&&(a=0),t==="s"?a===0?"0":""+a/o:(i=nc(a,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=c,f=1;break}var p=f>0?nc(u,f):"";return p}function Ud(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var rT=/%/g;function FZ(e,t,n){var r=t.replace(rT,""),i=t.length-r.length;return Ru(e,r,n*Math.pow(10,2*i))+la("%",i)}function BZ(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Ru(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function iT(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+iT(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(t/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+a):n+="E+"+(o-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,f,p){return u+f+p.substr(0,(i+a)%i)+"."+p.substr(a)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var aT=/# (\?+)( ?)\/( ?)(\d+)/;function UZ(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),a=Math.floor(i/r),o=i-a*r,c=r;return n+(a===0?"":""+a)+" "+(o===0?la(" ",e[1].length+1+e[4].length):_3(o,e[1].length)+e[2]+"/"+e[3]+nc(c,e[4].length))}function zZ(e,t,n){return n+(t===0?"":""+t)+la(" ",e[1].length+2+e[4].length)}var sT=/^#*0*\.([0#]+)/,oT=/\).*[0#]/,lT=/\(###\) ###\\?-####/;function eo(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function RS(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function MS(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function WZ(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function qZ(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function hl(e,t,n){if(e.charCodeAt(0)===40&&!t.match(oT)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?hl("n",r,n):"("+hl("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return BZ(e,t,n);if(t.indexOf("%")!==-1)return FZ(e,t,n);if(t.indexOf("E")!==-1)return iT(t,n);if(t.charCodeAt(0)===36)return"$"+hl(e,t.substr(t.charAt(1)==" "?2:1),n);var i,a,o,c,u=Math.abs(n),f=n<0?"-":"";if(t.match(/^00+$/))return f+Hf(u,t.length);if(t.match(/^[#?]+$/))return i=Hf(n,0),i==="0"&&(i=""),i.length>t.length?i:eo(t.substr(0,t.length-i.length))+i;if(a=t.match(aT))return UZ(a,u,f);if(t.match(/^#+0+$/))return f+Hf(u,t.length-t.indexOf("0"));if(a=t.match(sT))return i=RS(n,a[1].length).replace(/^([^\.]+)$/,"$1."+eo(a[1])).replace(/\.$/,"."+eo(a[1])).replace(/\.(\d*)$/,function(E,S){return"."+S+la("0",eo(a[1]).length-S.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return f+RS(u,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return f+Ud(Hf(u,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+hl(e,t,-n):Ud(""+(Math.floor(n)+WZ(n,a[1].length)))+"."+nc(MS(n,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return hl(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=jh(hl(e,t.replace(/[\\-]/g,""),n)),o=0,jh(jh(t.replace(/\\/g,"")).replace(/[0#]/g,function(E){return o<i.length?i.charAt(o++):E==="0"?"0":""}));if(t.match(lT))return i=hl(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),c=wg(u,Math.pow(10,o)-1,!1),i=""+f,p=Ru("n",a[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+a[2]+"/"+a[3],p=gg(c[2],o),p.length<a[4].length&&(p=eo(a[4].substr(a[4].length-p.length))+p),i+=p,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),c=wg(u,Math.pow(10,o)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?_3(c[1],o)+a[2]+"/"+a[3]+gg(c[2],o):la(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Hf(n,0),t.length<=i.length?i:eo(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=t.indexOf(".")-o,w=t.length-i.length-g;return eo(t.substr(0,g)+i+t.substr(t.length-w))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=MS(n,a[1].length),n<0?"-"+hl(e,t,-n):Ud(qZ(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?nc(0,3-E.length):"")+E})+"."+nc(o,a[1].length);switch(t){case"###,##0.00":return hl(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var y=Ud(Hf(u,0));return y!=="0"?f+y:"";case"###,###.00":return hl(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return hl(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function HZ(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Ru(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function VZ(e,t,n){var r=t.replace(rT,""),i=t.length-r.length;return Ru(e,r,n*Math.pow(10,2*i))+la("%",i)}function cT(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+cT(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(t/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+a):n+="E+"+(o-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,f,p){return u+f+p.substr(0,(i+a)%i)+"."+p.substr(a)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Rc(e,t,n){if(e.charCodeAt(0)===40&&!t.match(oT)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Rc("n",r,n):"("+Rc("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return HZ(e,t,n);if(t.indexOf("%")!==-1)return VZ(e,t,n);if(t.indexOf("E")!==-1)return cT(t,n);if(t.charCodeAt(0)===36)return"$"+Rc(e,t.substr(t.charAt(1)==" "?2:1),n);var i,a,o,c,u=Math.abs(n),f=n<0?"-":"";if(t.match(/^00+$/))return f+nc(u,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:eo(t.substr(0,t.length-i.length))+i;if(a=t.match(aT))return zZ(a,u,f);if(t.match(/^#+0+$/))return f+nc(u,t.length-t.indexOf("0"));if(a=t.match(sT))return i=(""+n).replace(/^([^\.]+)$/,"$1."+eo(a[1])).replace(/\.$/,"."+eo(a[1])),i=i.replace(/\.(\d*)$/,function(E,S){return"."+S+la("0",eo(a[1]).length-S.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return f+Ud(""+u);if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Rc(e,t,-n):Ud(""+n)+"."+la("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Rc(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=jh(Rc(e,t.replace(/[\\-]/g,""),n)),o=0,jh(jh(t.replace(/\\/g,"")).replace(/[0#]/g,function(E){return o<i.length?i.charAt(o++):E==="0"?"0":""}));if(t.match(lT))return i=Rc(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),c=wg(u,Math.pow(10,o)-1,!1),i=""+f,p=Ru("n",a[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+a[2]+"/"+a[3],p=gg(c[2],o),p.length<a[4].length&&(p=eo(a[4].substr(a[4].length-p.length))+p),i+=p,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),c=wg(u,Math.pow(10,o)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?_3(c[1],o)+a[2]+"/"+a[3]+gg(c[2],o):la(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:eo(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=t.indexOf(".")-o,w=t.length-i.length-g;return eo(t.substr(0,g)+i+t.substr(t.length-w))}if(a=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Rc(e,t,-n):Ud(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?nc(0,3-E.length):"")+E})+"."+nc(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var y=Ud(""+u);return y!=="0"?f+y:"";default:if(t.match(/\.[0#?]*$/))return Rc(e,t.slice(0,t.lastIndexOf(".")),n)+eo(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ru(e,t,n){return(n|0)===n?Rc(e,t,n):hl(e,t,n)}function $Z(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var uT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function dT(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":vg(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(uT))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function YZ(e,t,n,r){for(var i=[],a="",o=0,c="",u="t",f,p,g,w="H";o<e.length;)switch(c=e.charAt(o)){case"G":if(!vg(e,o))throw new Error("unrecognized character "+c+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(g=e.charCodeAt(++o))!==34&&o<e.length;)a+=String.fromCharCode(g);i[i.length]={t:"t",v:a},++o;break;case"\\":var y=e.charAt(++o),E=y==="("||y===")"?y:"t";i[i.length]={t:E,v:y},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(f==null&&(f=Ix(t,n,e.charAt(o+1)==="2"),f==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},u=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=Ix(t,n),f==null))return"";for(a=c;++o<e.length&&e.charAt(o).toLowerCase()===c;)a+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=w),i[i.length]={t:c,v:a},u=c;break;case"A":case"a":case"":var S={t:c,v:c};if(f==null&&(f=Ix(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(f!=null&&(S.v=f.H>=12?"P":"A"),S.t="T",w="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(f!=null&&(S.v=f.H>=12?"PM":"AM"),S.t="T",o+=5,w="h"):e.substr(o,5).toUpperCase()==="/"?(f!=null&&(S.v=f.H>=12?"":""),S.t="T",o+=5,w="h"):(S.t="t",++o),f==null&&S.t==="T")return"";i[i.length]=S,u=c;break;case"[":for(a=c;e.charAt(o++)!=="]"&&o<e.length;)a+=e.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(uT)){if(f==null&&(f=Ix(t,n),f==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},u=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",dT(e)||(i[i.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=c;++o<e.length&&(c=e.charAt(o))==="0";)a+=c;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=c;++o<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(o))>-1;)a+=c;i[i.length]={t:"n",v:a};break;case"?":for(a=c;e.charAt(++o)===c;)a+=c;i[i.length]={t:c,v:a},u=c;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=c;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)a+=e.charAt(o);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:c,v:c},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);i[i.length]={t:"t",v:c},++o;break}var A=0,j=0,k;for(o=i.length-1,u="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=w,u="h",A<1&&(A=1);break;case"s":(k=i[o].v.match(/\.0+$/))&&(j=Math.max(j,k[0].length-1)),A<3&&(A=3);case"d":case"y":case"M":case"e":u=i[o].t;break;case"m":u==="s"&&(i[o].t="M",A<2&&(A=2));break;case"X":break;case"Z":A<1&&i[o].v.match(/[Hh]/)&&(A=1),A<2&&i[o].v.match(/[Mm]/)&&(A=2),A<3&&i[o].v.match(/[Ss]/)&&(A=3)}switch(A){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var D="",P;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=PZ(i[o].t.charCodeAt(0),i[o].v,f,j),i[o].t="t";break;case"n":case"?":for(P=o+1;i[P]!=null&&((c=i[P].t)==="?"||c==="D"||(c===" "||c==="t")&&i[P+1]!=null&&(i[P+1].t==="?"||i[P+1].t==="t"&&i[P+1].v==="/")||i[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[P].v==="/"||i[P].v===" "&&i[P+1]!=null&&i[P+1].t=="?"));)i[o].v+=i[P].v,i[P]={v:"",t:";"},++P;D+=i[o].v,o=P-1;break;case"G":i[o].t="t",i[o].v=kb(t,n);break}var Y="",z,R;if(D.length>0){D.charCodeAt(0)==40?(z=t<0&&D.charCodeAt(0)===45?-t:t,R=Ru("n",D,z)):(z=t<0&&r>1?-t:t,R=Ru("n",D,z),z<0&&i[0]&&i[0].t=="t"&&(R=R.substr(1),i[0].v="-"+i[0].v)),P=R.length-1;var B=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){B=o;break}var q=i.length;if(B===i.length&&R.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(P>=i[o].v.length-1?(P-=i[o].v.length,i[o].v=R.substr(P+1,i[o].v.length)):P<0?i[o].v="":(i[o].v=R.substr(0,P+1),P=-1),i[o].t="t",q=o);P>=0&&q<i.length&&(i[q].v=R.substr(0,P+1)+i[q].v)}else if(B!==i.length&&R.indexOf("E")===-1){for(P=R.indexOf(".")-1,o=B;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(p=i[o].v.indexOf(".")>-1&&o===B?i[o].v.indexOf(".")-1:i[o].v.length-1,Y=i[o].v.substr(p+1);p>=0;--p)P>=0&&(i[o].v.charAt(p)==="0"||i[o].v.charAt(p)==="#")&&(Y=R.charAt(P--)+Y);i[o].v=Y,i[o].t="t",q=o}for(P>=0&&q<i.length&&(i[q].v=R.substr(0,P+1)+i[q].v),P=R.indexOf(".")+1,o=B;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==B)){for(p=i[o].v.indexOf(".")>-1&&o===B?i[o].v.indexOf(".")+1:0,Y=i[o].v.substr(0,p);p<i[o].v.length;++p)P<R.length&&(Y+=R.charAt(P++));i[o].v=Y,i[o].t="t",q=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(z=r>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=Ru(i[o].t,i[o].v,z),i[o].t="t");var te="";for(o=0;o!==i.length;++o)i[o]!=null&&(te+=i[o].v);return te}var PS=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function FS(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function GZ(e,t){var n=$Z(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(PS),c=n[1].match(PS);return FS(t,o)?[r,n[0]]:FS(t,c)?[r,n[1]]:[r,n[o!=null&&c!=null?2:1]]}return[r,a]}function a0(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:da)[e],r==null&&(r=n.table&&n.table[OS[e]]||da[OS[e]]),r==null&&(r=kZ[e]||"General");break}if(vg(r,0))return kb(t,n);t instanceof Date&&(t=nT(t,n.date1904));var i=GZ(r,t);if(vg(i[1]))return kb(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return YZ(i[1],t,n,i[0])}function fT(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(da[n]==null){t<0&&(t=n);continue}if(da[n]==e){t=n;break}}t<0&&(t=391)}return da[t]=e,t}function Cv(e){for(var t=0;t!=392;++t)e[t]!==void 0&&fT(e[t],t)}function Ev(){da=jZ()}var hT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function XZ(e){var t=typeof e=="number"?da[e]:e;return t=t.replace(hT,"(\\d+)"),new RegExp("^"+t+"$")}function KZ(e,t,n){var r=-1,i=-1,a=-1,o=-1,c=-1,u=-1;(t.match(hT)||[]).forEach(function(g,w){var y=parseInt(n[w+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=y;break;case"d":a=y;break;case"h":o=y;break;case"s":u=y;break;case"m":o>=0?c=y:i=y;break}}),u>=0&&c==-1&&i>=0&&(c=i,i=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&c==-1&&u==-1?f:r==-1&&i==-1&&a==-1?p:f+"T"+p}var QZ=function(){var e={};e.version="1.2.0";function t(){for(var R=0,B=new Array(256),q=0;q!=256;++q)R=q,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,B[q]=R;return typeof Int32Array<"u"?new Int32Array(B):B}var n=t();function r(R){var B=0,q=0,te=0,H=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(te=0;te!=256;++te)H[te]=R[te];for(te=0;te!=256;++te)for(q=R[te],B=256+te;B<4096;B+=256)q=H[B]=q>>>8^R[q&255];var W=[];for(te=1;te!=16;++te)W[te-1]=typeof Int32Array<"u"?H.subarray(te*256,te*256+256):H.slice(te*256,te*256+256);return W}var i=r(n),a=i[0],o=i[1],c=i[2],u=i[3],f=i[4],p=i[5],g=i[6],w=i[7],y=i[8],E=i[9],S=i[10],A=i[11],j=i[12],k=i[13],D=i[14];function P(R,B){for(var q=B^-1,te=0,H=R.length;te<H;)q=q>>>8^n[(q^R.charCodeAt(te++))&255];return~q}function Y(R,B){for(var q=B^-1,te=R.length-15,H=0;H<te;)q=D[R[H++]^q&255]^k[R[H++]^q>>8&255]^j[R[H++]^q>>16&255]^A[R[H++]^q>>>24]^S[R[H++]]^E[R[H++]]^y[R[H++]]^w[R[H++]]^g[R[H++]]^p[R[H++]]^f[R[H++]]^u[R[H++]]^c[R[H++]]^o[R[H++]]^a[R[H++]]^n[R[H++]];for(te+=15;H<te;)q=q>>>8^n[(q^R[H++])&255];return~q}function z(R,B){for(var q=B^-1,te=0,H=R.length,W=0,J=0;te<H;)W=R.charCodeAt(te++),W<128?q=q>>>8^n[(q^W)&255]:W<2048?(q=q>>>8^n[(q^(192|W>>6&31))&255],q=q>>>8^n[(q^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,J=R.charCodeAt(te++)&1023,q=q>>>8^n[(q^(240|W>>8&7))&255],q=q>>>8^n[(q^(128|W>>2&63))&255],q=q>>>8^n[(q^(128|J>>6&15|(W&3)<<4))&255],q=q>>>8^n[(q^(128|J&63))&255]):(q=q>>>8^n[(q^(224|W>>12&15))&255],q=q>>>8^n[(q^(128|W>>6&63))&255],q=q>>>8^n[(q^(128|W&63))&255]);return~q}return e.table=n,e.bstr=P,e.buf=Y,e.str=z,e}(),mi=function(){var t={};t.version="1.2.1";function n(he,ye){for(var je=he.split("/"),Te=ye.split("/"),Oe=0,Pe=0,ot=Math.min(je.length,Te.length);Oe<ot;++Oe){if(Pe=je[Oe].length-Te[Oe].length)return Pe;if(je[Oe]!=Te[Oe])return je[Oe]<Te[Oe]?-1:1}return je.length-Te.length}function r(he){if(he.charAt(he.length-1)=="/")return he.slice(0,-1).indexOf("/")===-1?he:r(he.slice(0,-1));var ye=he.lastIndexOf("/");return ye===-1?he:he.slice(0,ye+1)}function i(he){if(he.charAt(he.length-1)=="/")return i(he.slice(0,-1));var ye=he.lastIndexOf("/");return ye===-1?he:he.slice(ye+1)}function a(he,ye){typeof ye=="string"&&(ye=new Date(ye));var je=ye.getHours();je=je<<6|ye.getMinutes(),je=je<<5|ye.getSeconds()>>>1,he.write_shift(2,je);var Te=ye.getFullYear()-1980;Te=Te<<4|ye.getMonth()+1,Te=Te<<5|ye.getDate(),he.write_shift(2,Te)}function o(he){var ye=he.read_shift(2)&65535,je=he.read_shift(2)&65535,Te=new Date,Oe=je&31;je>>>=5;var Pe=je&15;je>>>=4,Te.setMilliseconds(0),Te.setFullYear(je+1980),Te.setMonth(Pe-1),Te.setDate(Oe);var ot=ye&31;ye>>>=5;var _t=ye&63;return ye>>>=6,Te.setHours(ye),Te.setMinutes(_t),Te.setSeconds(ot<<1),Te}function c(he){$o(he,0);for(var ye={},je=0;he.l<=he.length-4;){var Te=he.read_shift(2),Oe=he.read_shift(2),Pe=he.l+Oe,ot={};switch(Te){case 21589:je=he.read_shift(1),je&1&&(ot.mtime=he.read_shift(4)),Oe>5&&(je&2&&(ot.atime=he.read_shift(4)),je&4&&(ot.ctime=he.read_shift(4))),ot.mtime&&(ot.mt=new Date(ot.mtime*1e3));break}he.l=Pe,ye[Te]=ot}return ye}var u;function f(){return u||(u={})}function p(he,ye){if(he[0]==80&&he[1]==75)return jr(he,ye);if((he[0]|32)==109&&(he[1]|32)==105)return Pa(he,ye);if(he.length<512)throw new Error("CFB file size "+he.length+" < 512");var je=3,Te=512,Oe=0,Pe=0,ot=0,_t=0,at=0,ft=[],xt=he.slice(0,512);$o(xt,0);var Ft=g(xt);switch(je=Ft[0],je){case 3:Te=512;break;case 4:Te=4096;break;case 0:if(Ft[1]==0)return jr(he,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+je)}Te!==512&&(xt=he.slice(0,Te),$o(xt,28));var Wt=he.slice(0,Te);w(xt,je);var zt=xt.read_shift(4,"i");if(je===3&&zt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+zt);xt.l+=4,ot=xt.read_shift(4,"i"),xt.l+=4,xt.chk("00100000","Mini Stream Cutoff Size: "),_t=xt.read_shift(4,"i"),Oe=xt.read_shift(4,"i"),at=xt.read_shift(4,"i"),Pe=xt.read_shift(4,"i");for(var Yt=-1,Zt=0;Zt<109&&(Yt=xt.read_shift(4,"i"),!(Yt<0));++Zt)ft[Zt]=Yt;var On=y(he,Te);A(at,Pe,On,Te,ft);var Ct=k(On,ot,ft,Te);Ct[ot].name="!Directory",Oe>0&&_t!==J&&(Ct[_t].name="!MiniFAT"),Ct[ft[0]].name="!FAT",Ct.fat_addrs=ft,Ct.ssz=Te;var Mr={},Xn=[],pa=[],co=[];D(ot,Ct,On,Xn,Oe,Mr,pa,_t),E(pa,co,Xn),Xn.shift();var er={FileIndex:pa,FullPaths:co};return ye&&ye.raw&&(er.raw={header:Wt,sectors:On}),er}function g(he){if(he[he.l]==80&&he[he.l+1]==75)return[0,0];he.chk(ue,"Header Signature: "),he.l+=16;var ye=he.read_shift(2,"u");return[he.read_shift(2,"u"),ye]}function w(he,ye){var je=9;switch(he.l+=2,je=he.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+je);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+je);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+je)}he.chk("0600","Mini Sector Shift: "),he.chk("000000000000","Reserved: ")}function y(he,ye){for(var je=Math.ceil(he.length/ye)-1,Te=[],Oe=1;Oe<je;++Oe)Te[Oe-1]=he.slice(Oe*ye,(Oe+1)*ye);return Te[je-1]=he.slice(je*ye),Te}function E(he,ye,je){for(var Te=0,Oe=0,Pe=0,ot=0,_t=0,at=je.length,ft=[],xt=[];Te<at;++Te)ft[Te]=xt[Te]=Te,ye[Te]=je[Te];for(;_t<xt.length;++_t)Te=xt[_t],Oe=he[Te].L,Pe=he[Te].R,ot=he[Te].C,ft[Te]===Te&&(Oe!==-1&&ft[Oe]!==Oe&&(ft[Te]=ft[Oe]),Pe!==-1&&ft[Pe]!==Pe&&(ft[Te]=ft[Pe])),ot!==-1&&(ft[ot]=Te),Oe!==-1&&Te!=ft[Te]&&(ft[Oe]=ft[Te],xt.lastIndexOf(Oe)<_t&&xt.push(Oe)),Pe!==-1&&Te!=ft[Te]&&(ft[Pe]=ft[Te],xt.lastIndexOf(Pe)<_t&&xt.push(Pe));for(Te=1;Te<at;++Te)ft[Te]===Te&&(Pe!==-1&&ft[Pe]!==Pe?ft[Te]=ft[Pe]:Oe!==-1&&ft[Oe]!==Oe&&(ft[Te]=ft[Oe]));for(Te=1;Te<at;++Te)if(he[Te].type!==0){if(_t=Te,_t!=ft[_t])do _t=ft[_t],ye[Te]=ye[_t]+"/"+ye[Te];while(_t!==0&&ft[_t]!==-1&&_t!=ft[_t]);ft[Te]=-1}for(ye[0]+="/",Te=1;Te<at;++Te)he[Te].type!==2&&(ye[Te]+="/")}function S(he,ye,je){for(var Te=he.start,Oe=he.size,Pe=[],ot=Te;je&&Oe>0&&ot>=0;)Pe.push(ye.slice(ot*W,ot*W+W)),Oe-=W,ot=M0(je,ot*4);return Pe.length===0?Tt(0):gs(Pe).slice(0,he.size)}function A(he,ye,je,Te,Oe){var Pe=J;if(he===J){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(he!==-1){var ot=je[he],_t=(Te>>>2)-1;if(!ot)return;for(var at=0;at<_t&&(Pe=M0(ot,at*4))!==J;++at)Oe.push(Pe);A(M0(ot,Te-4),ye-1,je,Te,Oe)}}function j(he,ye,je,Te,Oe){var Pe=[],ot=[];Oe||(Oe=[]);var _t=Te-1,at=0,ft=0;for(at=ye;at>=0;){Oe[at]=!0,Pe[Pe.length]=at,ot.push(he[at]);var xt=je[Math.floor(at*4/Te)];if(ft=at*4&_t,Te<4+ft)throw new Error("FAT boundary crossed: "+at+" 4 "+Te);if(!he[xt])break;at=M0(he[xt],ft)}return{nodes:Pe,data:$S([ot])}}function k(he,ye,je,Te){var Oe=he.length,Pe=[],ot=[],_t=[],at=[],ft=Te-1,xt=0,Ft=0,Wt=0,zt=0;for(xt=0;xt<Oe;++xt)if(_t=[],Wt=xt+ye,Wt>=Oe&&(Wt-=Oe),!ot[Wt]){at=[];var Yt=[];for(Ft=Wt;Ft>=0;){Yt[Ft]=!0,ot[Ft]=!0,_t[_t.length]=Ft,at.push(he[Ft]);var Zt=je[Math.floor(Ft*4/Te)];if(zt=Ft*4&ft,Te<4+zt)throw new Error("FAT boundary crossed: "+Ft+" 4 "+Te);if(!he[Zt]||(Ft=M0(he[Zt],zt),Yt[Ft]))break}Pe[Wt]={nodes:_t,data:$S([at])}}return Pe}function D(he,ye,je,Te,Oe,Pe,ot,_t){for(var at=0,ft=Te.length?2:0,xt=ye[he].data,Ft=0,Wt=0,zt;Ft<xt.length;Ft+=128){var Yt=xt.slice(Ft,Ft+128);$o(Yt,64),Wt=Yt.read_shift(2),zt=k3(Yt,0,Wt-ft),Te.push(zt);var Zt={name:zt,type:Yt.read_shift(1),color:Yt.read_shift(1),L:Yt.read_shift(4,"i"),R:Yt.read_shift(4,"i"),C:Yt.read_shift(4,"i"),clsid:Yt.read_shift(16),state:Yt.read_shift(4,"i"),start:0,size:0},On=Yt.read_shift(2)+Yt.read_shift(2)+Yt.read_shift(2)+Yt.read_shift(2);On!==0&&(Zt.ct=P(Yt,Yt.l-8));var Ct=Yt.read_shift(2)+Yt.read_shift(2)+Yt.read_shift(2)+Yt.read_shift(2);Ct!==0&&(Zt.mt=P(Yt,Yt.l-8)),Zt.start=Yt.read_shift(4,"i"),Zt.size=Yt.read_shift(4,"i"),Zt.size<0&&Zt.start<0&&(Zt.size=Zt.type=0,Zt.start=J,Zt.name=""),Zt.type===5?(at=Zt.start,Oe>0&&at!==J&&(ye[at].name="!StreamData")):Zt.size>=4096?(Zt.storage="fat",ye[Zt.start]===void 0&&(ye[Zt.start]=j(je,Zt.start,ye.fat_addrs,ye.ssz)),ye[Zt.start].name=Zt.name,Zt.content=ye[Zt.start].data.slice(0,Zt.size)):(Zt.storage="minifat",Zt.size<0?Zt.size=0:at!==J&&Zt.start!==J&&ye[at]&&(Zt.content=S(Zt,ye[at].data,(ye[_t]||{}).data))),Zt.content&&$o(Zt.content,0),Pe[zt]=Zt,ot.push(Zt)}}function P(he,ye){return new Date((Xo(he,ye+4)/1e7*Math.pow(2,32)+Xo(he,ye)/1e7-11644473600)*1e3)}function Y(he,ye){return f(),p(u.readFileSync(he),ye)}function z(he,ye){var je=ye&&ye.type;switch(je||Hr&&Buffer.isBuffer(he)&&(je="buffer"),je||"base64"){case"file":return Y(he,ye);case"base64":return p(tc(Yu(he)),ye);case"binary":return p(tc(he),ye)}return p(he,ye)}function R(he,ye){var je=ye||{},Te=je.root||"Root Entry";if(he.FullPaths||(he.FullPaths=[]),he.FileIndex||(he.FileIndex=[]),he.FullPaths.length!==he.FileIndex.length)throw new Error("inconsistent CFB structure");he.FullPaths.length===0&&(he.FullPaths[0]=Te+"/",he.FileIndex[0]={name:Te,type:5}),je.CLSID&&(he.FileIndex[0].clsid=je.CLSID),B(he)}function B(he){var ye="Sh33tJ5";if(!mi.find(he,"/"+ye)){var je=Tt(4);je[0]=55,je[1]=je[3]=50,je[2]=54,he.FileIndex.push({name:ye,type:2,content:je,size:4,L:69,R:69,C:69}),he.FullPaths.push(he.FullPaths[0]+ye),q(he)}}function q(he,ye){R(he);for(var je=!1,Te=!1,Oe=he.FullPaths.length-1;Oe>=0;--Oe){var Pe=he.FileIndex[Oe];switch(Pe.type){case 0:Te?je=!0:(he.FileIndex.pop(),he.FullPaths.pop());break;case 1:case 2:case 5:Te=!0,isNaN(Pe.R*Pe.L*Pe.C)&&(je=!0),Pe.R>-1&&Pe.L>-1&&Pe.R==Pe.L&&(je=!0);break;default:je=!0;break}}if(!(!je&&!ye)){var ot=new Date(1987,1,19),_t=0,at=Object.create?Object.create(null):{},ft=[];for(Oe=0;Oe<he.FullPaths.length;++Oe)at[he.FullPaths[Oe]]=!0,he.FileIndex[Oe].type!==0&&ft.push([he.FullPaths[Oe],he.FileIndex[Oe]]);for(Oe=0;Oe<ft.length;++Oe){var xt=r(ft[Oe][0]);Te=at[xt],Te||(ft.push([xt,{name:i(xt).replace("/",""),type:1,clsid:ee,ct:ot,mt:ot,content:null}]),at[xt]=!0)}for(ft.sort(function(zt,Yt){return n(zt[0],Yt[0])}),he.FullPaths=[],he.FileIndex=[],Oe=0;Oe<ft.length;++Oe)he.FullPaths[Oe]=ft[Oe][0],he.FileIndex[Oe]=ft[Oe][1];for(Oe=0;Oe<ft.length;++Oe){var Ft=he.FileIndex[Oe],Wt=he.FullPaths[Oe];if(Ft.name=i(Wt).replace("/",""),Ft.L=Ft.R=Ft.C=-(Ft.color=1),Ft.size=Ft.content?Ft.content.length:0,Ft.start=0,Ft.clsid=Ft.clsid||ee,Oe===0)Ft.C=ft.length>1?1:-1,Ft.size=0,Ft.type=5;else if(Wt.slice(-1)=="/"){for(_t=Oe+1;_t<ft.length&&r(he.FullPaths[_t])!=Wt;++_t);for(Ft.C=_t>=ft.length?-1:_t,_t=Oe+1;_t<ft.length&&r(he.FullPaths[_t])!=r(Wt);++_t);Ft.R=_t>=ft.length?-1:_t,Ft.type=1}else r(he.FullPaths[Oe+1]||"")==r(Wt)&&(Ft.R=Oe+1),Ft.type=2}}}function te(he,ye){var je=ye||{};if(je.fileType=="mad")return vn(he,je);switch(q(he),je.fileType){case"zip":return ea(he,je)}var Te=function(zt){for(var Yt=0,Zt=0,On=0;On<zt.FileIndex.length;++On){var Ct=zt.FileIndex[On];if(Ct.content){var Mr=Ct.content.length;Mr>0&&(Mr<4096?Yt+=Mr+63>>6:Zt+=Mr+511>>9)}}for(var Xn=zt.FullPaths.length+3>>2,pa=Yt+7>>3,co=Yt+127>>7,er=pa+Zt+Xn+co,Qn=er+127>>7,$n=Qn<=109?0:Math.ceil((Qn-109)/127);er+Qn+$n+127>>7>Qn;)$n=++Qn<=109?0:Math.ceil((Qn-109)/127);var Ba=[1,$n,Qn,co,Xn,Zt,Yt,0];return zt.FileIndex[0].size=Yt<<6,Ba[7]=(zt.FileIndex[0].start=Ba[0]+Ba[1]+Ba[2]+Ba[3]+Ba[4]+Ba[5])+(Ba[6]+7>>3),Ba}(he),Oe=Tt(Te[7]<<9),Pe=0,ot=0;{for(Pe=0;Pe<8;++Pe)Oe.write_shift(1,se[Pe]);for(Pe=0;Pe<8;++Pe)Oe.write_shift(2,0);for(Oe.write_shift(2,62),Oe.write_shift(2,3),Oe.write_shift(2,65534),Oe.write_shift(2,9),Oe.write_shift(2,6),Pe=0;Pe<3;++Pe)Oe.write_shift(2,0);for(Oe.write_shift(4,0),Oe.write_shift(4,Te[2]),Oe.write_shift(4,Te[0]+Te[1]+Te[2]+Te[3]-1),Oe.write_shift(4,0),Oe.write_shift(4,4096),Oe.write_shift(4,Te[3]?Te[0]+Te[1]+Te[2]-1:J),Oe.write_shift(4,Te[3]),Oe.write_shift(-4,Te[1]?Te[0]-1:J),Oe.write_shift(4,Te[1]),Pe=0;Pe<109;++Pe)Oe.write_shift(-4,Pe<Te[2]?Te[1]+Pe:-1)}if(Te[1])for(ot=0;ot<Te[1];++ot){for(;Pe<236+ot*127;++Pe)Oe.write_shift(-4,Pe<Te[2]?Te[1]+Pe:-1);Oe.write_shift(-4,ot===Te[1]-1?J:ot+1)}var _t=function(zt){for(ot+=zt;Pe<ot-1;++Pe)Oe.write_shift(-4,Pe+1);zt&&(++Pe,Oe.write_shift(-4,J))};for(ot=Pe=0,ot+=Te[1];Pe<ot;++Pe)Oe.write_shift(-4,Ae.DIFSECT);for(ot+=Te[2];Pe<ot;++Pe)Oe.write_shift(-4,Ae.FATSECT);_t(Te[3]),_t(Te[4]);for(var at=0,ft=0,xt=he.FileIndex[0];at<he.FileIndex.length;++at)xt=he.FileIndex[at],xt.content&&(ft=xt.content.length,!(ft<4096)&&(xt.start=ot,_t(ft+511>>9)));for(_t(Te[6]+7>>3);Oe.l&511;)Oe.write_shift(-4,Ae.ENDOFCHAIN);for(ot=Pe=0,at=0;at<he.FileIndex.length;++at)xt=he.FileIndex[at],xt.content&&(ft=xt.content.length,!(!ft||ft>=4096)&&(xt.start=ot,_t(ft+63>>6)));for(;Oe.l&511;)Oe.write_shift(-4,Ae.ENDOFCHAIN);for(Pe=0;Pe<Te[4]<<2;++Pe){var Ft=he.FullPaths[Pe];if(!Ft||Ft.length===0){for(at=0;at<17;++at)Oe.write_shift(4,0);for(at=0;at<3;++at)Oe.write_shift(4,-1);for(at=0;at<12;++at)Oe.write_shift(4,0);continue}xt=he.FileIndex[Pe],Pe===0&&(xt.start=xt.size?xt.start-1:J);var Wt=Pe===0&&je.root||xt.name;if(ft=2*(Wt.length+1),Oe.write_shift(64,Wt,"utf16le"),Oe.write_shift(2,ft),Oe.write_shift(1,xt.type),Oe.write_shift(1,xt.color),Oe.write_shift(-4,xt.L),Oe.write_shift(-4,xt.R),Oe.write_shift(-4,xt.C),xt.clsid)Oe.write_shift(16,xt.clsid,"hex");else for(at=0;at<4;++at)Oe.write_shift(4,0);Oe.write_shift(4,xt.state||0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,xt.start),Oe.write_shift(4,xt.size),Oe.write_shift(4,0)}for(Pe=1;Pe<he.FileIndex.length;++Pe)if(xt=he.FileIndex[Pe],xt.size>=4096)if(Oe.l=xt.start+1<<9,Hr&&Buffer.isBuffer(xt.content))xt.content.copy(Oe,Oe.l,0,xt.size),Oe.l+=xt.size+511&-512;else{for(at=0;at<xt.size;++at)Oe.write_shift(1,xt.content[at]);for(;at&511;++at)Oe.write_shift(1,0)}for(Pe=1;Pe<he.FileIndex.length;++Pe)if(xt=he.FileIndex[Pe],xt.size>0&&xt.size<4096)if(Hr&&Buffer.isBuffer(xt.content))xt.content.copy(Oe,Oe.l,0,xt.size),Oe.l+=xt.size+63&-64;else{for(at=0;at<xt.size;++at)Oe.write_shift(1,xt.content[at]);for(;at&63;++at)Oe.write_shift(1,0)}if(Hr)Oe.l=Oe.length;else for(;Oe.l<Oe.length;)Oe.write_shift(1,0);return Oe}function H(he,ye){var je=he.FullPaths.map(function(at){return at.toUpperCase()}),Te=je.map(function(at){var ft=at.split("/");return ft[ft.length-(at.slice(-1)=="/"?2:1)]}),Oe=!1;ye.charCodeAt(0)===47?(Oe=!0,ye=je[0].slice(0,-1)+ye):Oe=ye.indexOf("/")!==-1;var Pe=ye.toUpperCase(),ot=Oe===!0?je.indexOf(Pe):Te.indexOf(Pe);if(ot!==-1)return he.FileIndex[ot];var _t=!Pe.match(Lx);for(Pe=Pe.replace(dp,""),_t&&(Pe=Pe.replace(Lx,"!")),ot=0;ot<je.length;++ot)if((_t?je[ot].replace(Lx,"!"):je[ot]).replace(dp,"")==Pe||(_t?Te[ot].replace(Lx,"!"):Te[ot]).replace(dp,"")==Pe)return he.FileIndex[ot];return null}var W=64,J=-2,ue="d0cf11e0a1b11ae1",se=[208,207,17,224,161,177,26,225],ee="00000000000000000000000000000000",Ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:J,FREESECT:-1,HEADER_SIGNATURE:ue,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ee,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ge(he,ye,je){f();var Te=te(he,je);u.writeFileSync(ye,Te)}function Be(he){for(var ye=new Array(he.length),je=0;je<he.length;++je)ye[je]=String.fromCharCode(he[je]);return ye.join("")}function _e(he,ye){var je=te(he,ye);switch(ye&&ye.type||"buffer"){case"file":return f(),u.writeFileSync(ye.filename,je),je;case"binary":return typeof je=="string"?je:Be(je);case"base64":return Yp(typeof je=="string"?je:Be(je));case"buffer":if(Hr)return Buffer.isBuffer(je)?je:Zu(je);case"array":return typeof je=="string"?tc(je):je}return je}var ct;function U(he){try{var ye=he.InflateRaw,je=new ye;if(je._processChunk(new Uint8Array([3,0]),je._finishFlushFlag),je.bytesRead)ct=he;else throw new Error("zlib does not expose bytesRead")}catch(Te){console.error("cannot use native zlib: "+(Te.message||Te))}}function Z(he,ye){if(!ct)return Nn(he,ye);var je=ct.InflateRaw,Te=new je,Oe=Te._processChunk(he.slice(he.l),Te._finishFlushFlag);return he.l+=Te.bytesRead,Oe}function Q(he){return ct?ct.deflateRawSync(he):Tn(he)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],be=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Fe(he){var ye=(he<<1|he<<11)&139536|(he<<5|he<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var ze=typeof Uint8Array<"u",Ze=ze?new Uint8Array(256):[],pt=0;pt<256;++pt)Ze[pt]=Fe(pt);function bt(he,ye){var je=Ze[he&255];return ye<=8?je>>>8-ye:(je=je<<8|Ze[he>>8&255],ye<=16?je>>>16-ye:(je=je<<8|Ze[he>>16&255],je>>>24-ye))}function Ye(he,ye){var je=ye&7,Te=ye>>>3;return(he[Te]|(je<=6?0:he[Te+1]<<8))>>>je&3}function yt(he,ye){var je=ye&7,Te=ye>>>3;return(he[Te]|(je<=5?0:he[Te+1]<<8))>>>je&7}function it(he,ye){var je=ye&7,Te=ye>>>3;return(he[Te]|(je<=4?0:he[Te+1]<<8))>>>je&15}function fe(he,ye){var je=ye&7,Te=ye>>>3;return(he[Te]|(je<=3?0:he[Te+1]<<8))>>>je&31}function He(he,ye){var je=ye&7,Te=ye>>>3;return(he[Te]|(je<=1?0:he[Te+1]<<8))>>>je&127}function mt(he,ye,je){var Te=ye&7,Oe=ye>>>3,Pe=(1<<je)-1,ot=he[Oe]>>>Te;return je<8-Te||(ot|=he[Oe+1]<<8-Te,je<16-Te)||(ot|=he[Oe+2]<<16-Te,je<24-Te)||(ot|=he[Oe+3]<<24-Te),ot&Pe}function rt(he,ye,je){var Te=ye&7,Oe=ye>>>3;return Te<=5?he[Oe]|=(je&7)<<Te:(he[Oe]|=je<<Te&255,he[Oe+1]=(je&7)>>8-Te),ye+3}function Ee(he,ye,je){var Te=ye&7,Oe=ye>>>3;return je=(je&1)<<Te,he[Oe]|=je,ye+1}function qe(he,ye,je){var Te=ye&7,Oe=ye>>>3;return je<<=Te,he[Oe]|=je&255,je>>>=8,he[Oe+1]=je,ye+8}function Le(he,ye,je){var Te=ye&7,Oe=ye>>>3;return je<<=Te,he[Oe]|=je&255,je>>>=8,he[Oe+1]=je&255,he[Oe+2]=je>>>8,ye+16}function Nt(he,ye){var je=he.length,Te=2*je>ye?2*je:ye+5,Oe=0;if(je>=ye)return he;if(Hr){var Pe=LS(Te);if(he.copy)he.copy(Pe);else for(;Oe<he.length;++Oe)Pe[Oe]=he[Oe];return Pe}else if(ze){var ot=new Uint8Array(Te);if(ot.set)ot.set(he);else for(;Oe<je;++Oe)ot[Oe]=he[Oe];return ot}return he.length=Te,he}function et(he){for(var ye=new Array(he),je=0;je<he;++je)ye[je]=0;return ye}function wt(he,ye,je){var Te=1,Oe=0,Pe=0,ot=0,_t=0,at=he.length,ft=ze?new Uint16Array(32):et(32);for(Pe=0;Pe<32;++Pe)ft[Pe]=0;for(Pe=at;Pe<je;++Pe)he[Pe]=0;at=he.length;var xt=ze?new Uint16Array(at):et(at);for(Pe=0;Pe<at;++Pe)ft[Oe=he[Pe]]++,Te<Oe&&(Te=Oe),xt[Pe]=0;for(ft[0]=0,Pe=1;Pe<=Te;++Pe)ft[Pe+16]=_t=_t+ft[Pe-1]<<1;for(Pe=0;Pe<at;++Pe)_t=he[Pe],_t!=0&&(xt[Pe]=ft[_t+16]++);var Ft=0;for(Pe=0;Pe<at;++Pe)if(Ft=he[Pe],Ft!=0)for(_t=bt(xt[Pe],Te)>>Te-Ft,ot=(1<<Te+4-Ft)-1;ot>=0;--ot)ye[_t|ot<<Ft]=Ft&15|Pe<<4;return Te}var Vt=ze?new Uint16Array(512):et(512),rn=ze?new Uint16Array(32):et(32);if(!ze){for(var dn=0;dn<512;++dn)Vt[dn]=0;for(dn=0;dn<32;++dn)rn[dn]=0}(function(){for(var he=[],ye=0;ye<32;ye++)he.push(5);wt(he,rn,32);var je=[];for(ye=0;ye<=143;ye++)je.push(8);for(;ye<=255;ye++)je.push(9);for(;ye<=279;ye++)je.push(7);for(;ye<=287;ye++)je.push(8);wt(je,Vt,288)})();var Qt=function(){for(var ye=ze?new Uint8Array(32768):[],je=0,Te=0;je<be.length-1;++je)for(;Te<be[je+1];++Te)ye[Te]=je;for(;Te<32768;++Te)ye[Te]=29;var Oe=ze?new Uint8Array(259):[];for(je=0,Te=0;je<ce.length-1;++je)for(;Te<ce[je+1];++Te)Oe[Te]=je;function Pe(_t,at){for(var ft=0;ft<_t.length;){var xt=Math.min(65535,_t.length-ft),Ft=ft+xt==_t.length;for(at.write_shift(1,+Ft),at.write_shift(2,xt),at.write_shift(2,~xt&65535);xt-- >0;)at[at.l++]=_t[ft++]}return at.l}function ot(_t,at){for(var ft=0,xt=0,Ft=ze?new Uint16Array(32768):[];xt<_t.length;){var Wt=Math.min(65535,_t.length-xt);if(Wt<10){for(ft=rt(at,ft,+(xt+Wt==_t.length)),ft&7&&(ft+=8-(ft&7)),at.l=ft/8|0,at.write_shift(2,Wt),at.write_shift(2,~Wt&65535);Wt-- >0;)at[at.l++]=_t[xt++];ft=at.l*8;continue}ft=rt(at,ft,+(xt+Wt==_t.length)+2);for(var zt=0;Wt-- >0;){var Yt=_t[xt];zt=(zt<<5^Yt)&32767;var Zt=-1,On=0;if((Zt=Ft[zt])&&(Zt|=xt&-32768,Zt>xt&&(Zt-=32768),Zt<xt))for(;_t[Zt+On]==_t[xt+On]&&On<250;)++On;if(On>2){Yt=Oe[On],Yt<=22?ft=qe(at,ft,Ze[Yt+1]>>1)-1:(qe(at,ft,3),ft+=5,qe(at,ft,Ze[Yt-23]>>5),ft+=3);var Ct=Yt<8?0:Yt-4>>2;Ct>0&&(Le(at,ft,On-ce[Yt]),ft+=Ct),Yt=ye[xt-Zt],ft=qe(at,ft,Ze[Yt]>>3),ft-=3;var Mr=Yt<4?0:Yt-2>>1;Mr>0&&(Le(at,ft,xt-Zt-be[Yt]),ft+=Mr);for(var Xn=0;Xn<On;++Xn)Ft[zt]=xt&32767,zt=(zt<<5^_t[xt])&32767,++xt;Wt-=On-1}else Yt<=143?Yt=Yt+48:ft=Ee(at,ft,1),ft=qe(at,ft,Ze[Yt]),Ft[zt]=xt&32767,++xt}ft=qe(at,ft,0)-1}return at.l=(ft+7)/8|0,at.l}return function(at,ft){return at.length<8?Pe(at,ft):ot(at,ft)}}();function Tn(he){var ye=Tt(50+Math.floor(he.length*1.1)),je=Qt(he,ye);return ye.slice(0,je)}var Kt=ze?new Uint16Array(32768):et(32768),Dr=ze?new Uint16Array(32768):et(32768),hn=ze?new Uint16Array(128):et(128),Ue=1,$t=1;function nn(he,ye){var je=fe(he,ye)+257;ye+=5;var Te=fe(he,ye)+1;ye+=5;var Oe=it(he,ye)+4;ye+=4;for(var Pe=0,ot=ze?new Uint8Array(19):et(19),_t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],at=1,ft=ze?new Uint8Array(8):et(8),xt=ze?new Uint8Array(8):et(8),Ft=ot.length,Wt=0;Wt<Oe;++Wt)ot[ne[Wt]]=Pe=yt(he,ye),at<Pe&&(at=Pe),ft[Pe]++,ye+=3;var zt=0;for(ft[0]=0,Wt=1;Wt<=at;++Wt)xt[Wt]=zt=zt+ft[Wt-1]<<1;for(Wt=0;Wt<Ft;++Wt)(zt=ot[Wt])!=0&&(_t[Wt]=xt[zt]++);var Yt=0;for(Wt=0;Wt<Ft;++Wt)if(Yt=ot[Wt],Yt!=0){zt=Ze[_t[Wt]]>>8-Yt;for(var Zt=(1<<7-Yt)-1;Zt>=0;--Zt)hn[zt|Zt<<Yt]=Yt&7|Wt<<3}var On=[];for(at=1;On.length<je+Te;)switch(zt=hn[He(he,ye)],ye+=zt&7,zt>>>=3){case 16:for(Pe=3+Ye(he,ye),ye+=2,zt=On[On.length-1];Pe-- >0;)On.push(zt);break;case 17:for(Pe=3+yt(he,ye),ye+=3;Pe-- >0;)On.push(0);break;case 18:for(Pe=11+He(he,ye),ye+=7;Pe-- >0;)On.push(0);break;default:On.push(zt),at<zt&&(at=zt);break}var Ct=On.slice(0,je),Mr=On.slice(je);for(Wt=je;Wt<286;++Wt)Ct[Wt]=0;for(Wt=Te;Wt<30;++Wt)Mr[Wt]=0;return Ue=wt(Ct,Kt,286),$t=wt(Mr,Dr,30),ye}function Dn(he,ye){if(he[0]==3&&!(he[1]&3))return[lf(ye),2];for(var je=0,Te=0,Oe=LS(ye||1<<18),Pe=0,ot=Oe.length>>>0,_t=0,at=0;!(Te&1);){if(Te=yt(he,je),je+=3,Te>>>1)Te>>1==1?(_t=9,at=5):(je=nn(he,je),_t=Ue,at=$t);else{je&7&&(je+=8-(je&7));var ft=he[je>>>3]|he[(je>>>3)+1]<<8;if(je+=32,ft>0)for(!ye&&ot<Pe+ft&&(Oe=Nt(Oe,Pe+ft),ot=Oe.length);ft-- >0;)Oe[Pe++]=he[je>>>3],je+=8;continue}for(;;){!ye&&ot<Pe+32767&&(Oe=Nt(Oe,Pe+32767),ot=Oe.length);var xt=mt(he,je,_t),Ft=Te>>>1==1?Vt[xt]:Kt[xt];if(je+=Ft&15,Ft>>>=4,!(Ft>>>8&255))Oe[Pe++]=Ft;else{if(Ft==256)break;Ft-=257;var Wt=Ft<8?0:Ft-4>>2;Wt>5&&(Wt=0);var zt=Pe+ce[Ft];Wt>0&&(zt+=mt(he,je,Wt),je+=Wt),xt=mt(he,je,at),Ft=Te>>>1==1?rn[xt]:Dr[xt],je+=Ft&15,Ft>>>=4;var Yt=Ft<4?0:Ft-2>>1,Zt=be[Ft];for(Yt>0&&(Zt+=mt(he,je,Yt),je+=Yt),!ye&&ot<zt&&(Oe=Nt(Oe,zt+100),ot=Oe.length);Pe<zt;)Oe[Pe]=Oe[Pe-Zt],++Pe}}}return ye?[Oe,je+7>>>3]:[Oe.slice(0,Pe),je+7>>>3]}function Nn(he,ye){var je=he.slice(he.l||0),Te=Dn(je,ye);return he.l+=Te[1],Te[0]}function yi(he,ye){if(he)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function jr(he,ye){var je=he;$o(je,0);var Te=[],Oe=[],Pe={FileIndex:Te,FullPaths:Oe};R(Pe,{root:ye.root});for(var ot=je.length-4;(je[ot]!=80||je[ot+1]!=75||je[ot+2]!=5||je[ot+3]!=6)&&ot>=0;)--ot;je.l=ot+4,je.l+=4;var _t=je.read_shift(2);je.l+=6;var at=je.read_shift(4);for(je.l=at,ot=0;ot<_t;++ot){je.l+=20;var ft=je.read_shift(4),xt=je.read_shift(4),Ft=je.read_shift(2),Wt=je.read_shift(2),zt=je.read_shift(2);je.l+=8;var Yt=je.read_shift(4),Zt=c(je.slice(je.l+Ft,je.l+Ft+Wt));je.l+=Ft+Wt+zt;var On=je.l;je.l=Yt+4,Bn(je,ft,xt,Pe,Zt),je.l=On}return Pe}function Bn(he,ye,je,Te,Oe){he.l+=2;var Pe=he.read_shift(2),ot=he.read_shift(2),_t=o(he);if(Pe&8257)throw new Error("Unsupported ZIP encryption");for(var at=he.read_shift(4),ft=he.read_shift(4),xt=he.read_shift(4),Ft=he.read_shift(2),Wt=he.read_shift(2),zt="",Yt=0;Yt<Ft;++Yt)zt+=String.fromCharCode(he[he.l++]);if(Wt){var Zt=c(he.slice(he.l,he.l+Wt));(Zt[21589]||{}).mt&&(_t=Zt[21589].mt),((Oe||{})[21589]||{}).mt&&(_t=Oe[21589].mt)}he.l+=Wt;var On=he.slice(he.l,he.l+ft);switch(ot){case 8:On=Z(he,xt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ot)}var Ct=!1;Pe&8&&(at=he.read_shift(4),at==134695760&&(at=he.read_shift(4),Ct=!0),ft=he.read_shift(4),xt=he.read_shift(4)),ft!=ye&&yi(Ct,"Bad compressed size: "+ye+" != "+ft),xt!=je&&yi(Ct,"Bad uncompressed size: "+je+" != "+xt),Oi(Te,zt,On,{unsafe:!0,mt:_t})}function ea(he,ye){var je=ye||{},Te=[],Oe=[],Pe=Tt(1),ot=je.compression?8:0,_t=0,at=0,ft=0,xt=0,Ft=0,Wt=he.FullPaths[0],zt=Wt,Yt=he.FileIndex[0],Zt=[],On=0;for(at=1;at<he.FullPaths.length;++at)if(zt=he.FullPaths[at].slice(Wt.length),Yt=he.FileIndex[at],!(!Yt.size||!Yt.content||zt=="Sh33tJ5")){var Ct=xt,Mr=Tt(zt.length);for(ft=0;ft<zt.length;++ft)Mr.write_shift(1,zt.charCodeAt(ft)&127);Mr=Mr.slice(0,Mr.l),Zt[Ft]=QZ.buf(Yt.content,0);var Xn=Yt.content;ot==8&&(Xn=Q(Xn)),Pe=Tt(30),Pe.write_shift(4,67324752),Pe.write_shift(2,20),Pe.write_shift(2,_t),Pe.write_shift(2,ot),Yt.mt?a(Pe,Yt.mt):Pe.write_shift(4,0),Pe.write_shift(-4,Zt[Ft]),Pe.write_shift(4,Xn.length),Pe.write_shift(4,Yt.content.length),Pe.write_shift(2,Mr.length),Pe.write_shift(2,0),xt+=Pe.length,Te.push(Pe),xt+=Mr.length,Te.push(Mr),xt+=Xn.length,Te.push(Xn),Pe=Tt(46),Pe.write_shift(4,33639248),Pe.write_shift(2,0),Pe.write_shift(2,20),Pe.write_shift(2,_t),Pe.write_shift(2,ot),Pe.write_shift(4,0),Pe.write_shift(-4,Zt[Ft]),Pe.write_shift(4,Xn.length),Pe.write_shift(4,Yt.content.length),Pe.write_shift(2,Mr.length),Pe.write_shift(2,0),Pe.write_shift(2,0),Pe.write_shift(2,0),Pe.write_shift(2,0),Pe.write_shift(4,0),Pe.write_shift(4,Ct),On+=Pe.l,Oe.push(Pe),On+=Mr.length,Oe.push(Mr),++Ft}return Pe=Tt(22),Pe.write_shift(4,101010256),Pe.write_shift(2,0),Pe.write_shift(2,0),Pe.write_shift(2,Ft),Pe.write_shift(2,Ft),Pe.write_shift(4,On),Pe.write_shift(4,xt),Pe.write_shift(2,0),gs([gs(Te),gs(Oe),Pe])}var Or={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Mn(he,ye){if(he.ctype)return he.ctype;var je=he.name||"",Te=je.match(/\.([^\.]+)$/);return Te&&Or[Te[1]]||ye&&(Te=(je=ye).match(/[\.\\]([^\.\\])+$/),Te&&Or[Te[1]])?Or[Te[1]]:"application/octet-stream"}function Gn(he){for(var ye=Yp(he),je=[],Te=0;Te<ye.length;Te+=76)je.push(ye.slice(Te,Te+76));return je.join(`\r
`)+`\r
`}function qs(he){var ye=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ft){var xt=ft.charCodeAt(0).toString(16).toUpperCase();return"="+(xt.length==1?"0"+xt:xt)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var je=[],Te=ye.split(`\r
`),Oe=0;Oe<Te.length;++Oe){var Pe=Te[Oe];if(Pe.length==0){je.push("");continue}for(var ot=0;ot<Pe.length;){var _t=76,at=Pe.slice(ot,ot+_t);at.charAt(_t-1)=="="?_t--:at.charAt(_t-2)=="="?_t-=2:at.charAt(_t-3)=="="&&(_t-=3),at=Pe.slice(ot,ot+_t),ot+=_t,ot<Pe.length&&(at+="="),je.push(at)}}return je.join(`\r
`)}function hr(he){for(var ye=[],je=0;je<he.length;++je){for(var Te=he[je];je<=he.length&&Te.charAt(Te.length-1)=="=";)Te=Te.slice(0,Te.length-1)+he[++je];ye.push(Te)}for(var Oe=0;Oe<ye.length;++Oe)ye[Oe]=ye[Oe].replace(/[=][0-9A-Fa-f]{2}/g,function(Pe){return String.fromCharCode(parseInt(Pe.slice(1),16))});return tc(ye.join(`\r
`))}function ha(he,ye,je){for(var Te="",Oe="",Pe="",ot,_t=0;_t<10;++_t){var at=ye[_t];if(!at||at.match(/^\s*$/))break;var ft=at.match(/^(.*?):\s*([^\s].*)$/);if(ft)switch(ft[1].toLowerCase()){case"content-location":Te=ft[2].trim();break;case"content-type":Pe=ft[2].trim();break;case"content-transfer-encoding":Oe=ft[2].trim();break}}switch(++_t,Oe.toLowerCase()){case"base64":ot=tc(Yu(ye.slice(_t).join("")));break;case"quoted-printable":ot=hr(ye.slice(_t));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Oe)}var xt=Oi(he,Te.slice(je.length),ot,{unsafe:!0});Pe&&(xt.ctype=Pe)}function Pa(he,ye){if(Be(he.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var je=ye&&ye.root||"",Te=(Hr&&Buffer.isBuffer(he)?he.toString("binary"):Be(he)).split(`\r
`),Oe=0,Pe="";for(Oe=0;Oe<Te.length;++Oe)if(Pe=Te[Oe],!!/^Content-Location:/i.test(Pe)&&(Pe=Pe.slice(Pe.indexOf("file")),je||(je=Pe.slice(0,Pe.lastIndexOf("/")+1)),Pe.slice(0,je.length)!=je))for(;je.length>0&&(je=je.slice(0,je.length-1),je=je.slice(0,je.lastIndexOf("/")+1),Pe.slice(0,je.length)!=je););var ot=(Te[1]||"").match(/boundary="(.*?)"/);if(!ot)throw new Error("MAD cannot find boundary");var _t="--"+(ot[1]||""),at=[],ft=[],xt={FileIndex:at,FullPaths:ft};R(xt);var Ft,Wt=0;for(Oe=0;Oe<Te.length;++Oe){var zt=Te[Oe];zt!==_t&&zt!==_t+"--"||(Wt++&&ha(xt,Te.slice(Ft,Oe),je),Ft=Oe)}return xt}function vn(he,ye){var je=ye||{},Te=je.boundary||"SheetJS";Te="------="+Te;for(var Oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Te.slice(2)+'"',"","",""],Pe=he.FullPaths[0],ot=Pe,_t=he.FileIndex[0],at=1;at<he.FullPaths.length;++at)if(ot=he.FullPaths[at].slice(Pe.length),_t=he.FileIndex[at],!(!_t.size||!_t.content||ot=="Sh33tJ5")){ot=ot.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(On){return"_x"+On.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(On){return"_u"+On.charCodeAt(0).toString(16)+"_"});for(var ft=_t.content,xt=Hr&&Buffer.isBuffer(ft)?ft.toString("binary"):Be(ft),Ft=0,Wt=Math.min(1024,xt.length),zt=0,Yt=0;Yt<=Wt;++Yt)(zt=xt.charCodeAt(Yt))>=32&&zt<128&&++Ft;var Zt=Ft>=Wt*4/5;Oe.push(Te),Oe.push("Content-Location: "+(je.root||"file:///C:/SheetJS/")+ot),Oe.push("Content-Transfer-Encoding: "+(Zt?"quoted-printable":"base64")),Oe.push("Content-Type: "+Mn(_t,ot)),Oe.push(""),Oe.push(Zt?qs(xt):Gn(xt))}return Oe.push(Te+`--\r
`),Oe.join(`\r
`)}function Fa(he){var ye={};return R(ye,he),ye}function Oi(he,ye,je,Te){var Oe=Te&&Te.unsafe;Oe||R(he);var Pe=!Oe&&mi.find(he,ye);if(!Pe){var ot=he.FullPaths[0];ye.slice(0,ot.length)==ot?ot=ye:(ot.slice(-1)!="/"&&(ot+="/"),ot=(ot+ye).replace("//","/")),Pe={name:i(ye),type:2},he.FileIndex.push(Pe),he.FullPaths.push(ot),Oe||mi.utils.cfb_gc(he)}return Pe.content=je,Pe.size=je?je.length:0,Te&&(Te.CLSID&&(Pe.clsid=Te.CLSID),Te.mt&&(Pe.mt=Te.mt),Te.ct&&(Pe.ct=Te.ct)),Pe}function Ri(he,ye){R(he);var je=mi.find(he,ye);if(je){for(var Te=0;Te<he.FileIndex.length;++Te)if(he.FileIndex[Te]==je)return he.FileIndex.splice(Te,1),he.FullPaths.splice(Te,1),!0}return!1}function gr(he,ye,je){R(he);var Te=mi.find(he,ye);if(Te){for(var Oe=0;Oe<he.FileIndex.length;++Oe)if(he.FileIndex[Oe]==Te)return he.FileIndex[Oe].name=i(je),he.FullPaths[Oe]=je,!0}return!1}function Rr(he){q(he,!0)}return t.find=H,t.read=z,t.parse=p,t.write=_e,t.writeFile=ge,t.utils={cfb_new:Fa,cfb_add:Oi,cfb_del:Ri,cfb_mov:gr,cfb_gc:Rr,ReadShift:hp,CheckField:LT,prep_blob:$o,bconcat:gs,use_zlib:U,_deflateRaw:Tn,_inflateRaw:Nn,consts:Ae},t}();function ZZ(e){return typeof e=="string"?Sv(e):Array.isArray(e)?SZ(e):e}function pm(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=Sv(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r=n=="utf8"?ju(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var i=new Blob([ZZ(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(e);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=hm(t)),c.write(t),c.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function Ns(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function BS(e,t){for(var n=[],r=Ns(e),i=0;i!==r.length;++i)n[e[r[i]][t]]==null&&(n[e[r[i]][t]]=r[i]);return n}function C3(e){for(var t=[],n=Ns(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function Av(e){for(var t=[],n=Ns(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function JZ(e){for(var t=[],n=Ns(e),r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var yg=new Date(1899,11,30,0,0,0);function Lo(e,t){var n=e.getTime();t&&(n-=1462*24*60*60*1e3);var r=yg.getTime()+(e.getTimezoneOffset()-yg.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var pT=new Date,eJ=yg.getTime()+(pT.getTimezoneOffset()-yg.getTimezoneOffset())*6e4,US=pT.getTimezoneOffset();function mT(e){var t=new Date;return t.setTime(e*24*60*60*1e3+eJ),t.getTimezoneOffset()!==US&&t.setTime(t.getTime()+(t.getTimezoneOffset()-US)*6e4),t}var zS=new Date("2017-02-19T19:06:09.000Z"),xT=isNaN(zS.getFullYear())?new Date("2/19/17"):zS,tJ=xT.getFullYear()==2017;function so(e,t){var n=new Date(e);if(tJ)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(xT.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function jv(e,t){if(Hr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ju(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ju(_Z(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ju(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ju(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function Io(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Io(e[n]));return t}function la(e,t){for(var n="";n.length<t;)n+=e;return n}function Mu(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return n=-n,a}),!isNaN(t=Number(r)))?t/n:t}var nJ=["january","february","march","april","may","june","july","august","september","october","november","december"];function Gp(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&nJ.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}function fr(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return Hr?r=Zu(n):r=CZ(n),mi.utils.cfb_add(e,t,r)}mi.utils.cfb_add(e,t,n)}else e.file(t,n)}function E3(){return mi.utils.cfb_new()}var Ma=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,rJ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},A3=C3(rJ),j3=/[&<>'"]/g,iJ=/[\u0000-\u0008\u000b-\u001f]/g;function ni(e){var t=e+"";return t.replace(j3,function(n){return A3[n]}).replace(iJ,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function WS(e){return ni(e).replace(/ /g,"_x0020_")}var gT=/[\u0000-\u001f]/g;function aJ(e){var t=e+"";return t.replace(j3,function(n){return A3[n]}).replace(/\n/g,"<br/>").replace(gT,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function sJ(e){var t=e+"";return t.replace(j3,function(n){return A3[n]}).replace(gT,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function oJ(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function lJ(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ay(e){for(var t="",n=0,r=0,i=0,a=0,o=0,c=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(a=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}o=e.charCodeAt(n++),c=((r&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function qS(e){var t=lf(2*e.length),n,r,i=1,a=0,o=0,c;for(r=0;r<e.length;r+=i)i=1,(c=e.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(e.charCodeAt(r+1)&63),i=2):c<240?(n=(c&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(c&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=n%256,t[a++]=n>>>8;return t.slice(0,a).toString("ucs2")}function HS(e){return Zu(e,"binary").toString("utf8")}var Dx="foo bar baz",fp=Hr&&(HS(Dx)==Ay(Dx)&&HS||qS(Dx)==Ay(Dx)&&qS)||Ay,ju=Hr?function(e){return Zu(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},cJ=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}}(),vT=/(^\s|\s$|\n)/;function vs(e,t){return"<"+e+(t.match(vT)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Xp(e){return Ns(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function en(e,t,n){return"<"+e+(n!=null?Xp(n):"")+(t!=null?(t.match(vT)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Tb(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function uJ(e,t){switch(typeof e){case"string":var n=en("vt:lpwstr",ni(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return en((e|0)==e?"vt:i4":"vt:r8",ni(String(e)));case"boolean":return en("vt:bool",e?"true":"false")}if(e instanceof Date)return en("vt:filetime",Tb(e));throw new Error("Unable to serialize "+e)}var ns={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},u1=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Go={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function dJ(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function fJ(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,o=r?-t:t;isFinite(o)?o==0?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var c=0;c<=5;++c,a/=256)e[n+c]=a&255;e[n+6]=(i&15)<<4|a&15,e[n+7]=i>>4|r}var VS=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,a=e[0][r].length;i<a;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},$S=Hr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Zu(t)})):VS(e)}:VS,YS=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(Z1(e,i)));return r.join("").replace(dp,"")},k3=Hr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(dp,""):YS(e,t,n)}:YS,GS=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},wT=Hr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):GS(e,t,n)}:GS,XS=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(Qf(e,i)));return r.join("")},mm=Hr?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):XS(t,n,r)}:XS,yT=function(e,t){var n=Xo(e,t);return n>0?mm(e,t+4,t+4+n-1):""},bT=yT,NT=function(e,t){var n=Xo(e,t);return n>0?mm(e,t+4,t+4+n-1):""},_T=NT,ST=function(e,t){var n=2*Xo(e,t);return n>0?mm(e,t+4,t+4+n-1):""},CT=ST,ET=function(t,n){var r=Xo(t,n);return r>0?k3(t,n+4,n+4+r):""},AT=ET,jT=function(e,t){var n=Xo(e,t);return n>0?mm(e,t+4,t+4+n):""},kT=jT,TT=function(e,t){return dJ(e,t)},bg=TT,T3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Hr&&(bT=function(t,n){if(!Buffer.isBuffer(t))return yT(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},_T=function(t,n){if(!Buffer.isBuffer(t))return NT(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},CT=function(t,n){if(!Buffer.isBuffer(t))return ST(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},AT=function(t,n){if(!Buffer.isBuffer(t))return ET(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},kT=function(t,n){if(!Buffer.isBuffer(t))return jT(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},bg=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):TT(t,n)},T3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Qf=function(e,t){return e[t]},Z1=function(e,t){return e[t+1]*256+e[t]},hJ=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Xo=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},M0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},pJ=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function hp(e,t){var n="",r,i,a=[],o,c,u,f;switch(t){case"dbcs":if(f=this.l,Hr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)n+=String.fromCharCode(Z1(this,f)),f+=2;e*=2;break;case"utf8":n=mm(this,this.l,this.l+e);break;case"utf16le":e*=2,n=k3(this,this.l,this.l+e);break;case"wstr":return hp.call(this,e,"dbcs");case"lpstr-ansi":n=bT(this,this.l),e=4+Xo(this,this.l);break;case"lpstr-cp":n=_T(this,this.l),e=4+Xo(this,this.l);break;case"lpwstr":n=CT(this,this.l),e=4+2*Xo(this,this.l);break;case"lpp4":e=4+Xo(this,this.l),n=AT(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Xo(this,this.l),n=kT(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=Qf(this,this.l+e++))!==0;)a.push(Tx(o));n=a.join("");break;case"_wstr":for(e=0,n="";(o=Z1(this,this.l+e))!==0;)a.push(Tx(o)),e+=2;e+=2,n=a.join("");break;case"dbcs-cont":for(n="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return o=Qf(this,f),this.l=f+1,c=hp.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),a.join("")+c;a.push(Tx(Z1(this,f))),f+=2}n=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return o=Qf(this,f),this.l=f+1,c=hp.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),a.join("")+c;a.push(Tx(Qf(this,f))),f+=1}n=a.join("");break;default:switch(e){case 1:return r=Qf(this,this.l),this.l++,r;case 2:return r=(t==="i"?hJ:Z1)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(r=(e>0?M0:pJ)(this,this.l),this.l+=4,r):(i=Xo(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=bg(this,this.l):i=bg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=wT(this,this.l,e);break}}return this.l+=e,n}var mJ=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},xJ=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},gJ=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function vJ(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)gJ(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,mJ(this,t,this.l);break;case 8:if(r=8,n==="f"){fJ(this,t,this.l);break}case 16:break;case-4:r=4,xJ(this,t,this.l);break}return this.l+=r,this}function LT(e,t){var n=wT(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function $o(e,t){e.l=t,e.read_shift=hp,e.chk=LT,e.write_shift=vJ}function Qc(e,t){e.l+=t}function Tt(e){var t=lf(e);return $o(t,0),t}function To(){var e=[],t=Hr?256:2048,n=function(f){var p=Tt(f);return $o(p,0),p},r=n(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},a=function(f){return r&&f<r.length-r.l?r:(i(),r=n(Math.max(f+1,t)))},o=function(){return i(),gs(e)},c=function(f){i(),r=f,r.l==null&&(r.l=r.length),a(t)};return{next:a,push:c,end:o,_bufs:e}}function Ut(e,t,n,r){var i=+t,a;if(!isNaN(i)){r||(r=dae[i].p||(n||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var o=e.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&T3(n)&&e.push(n)}}function pp(e,t,n){var r=Io(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function KS(e,t,n){var r=Io(e);return r.s=pp(r.s,t.s,n),r.e=pp(r.e,t.s,n),r}function mp(e,t){if(e.cRel&&e.c<0)for(e=Io(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Io(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=ii(e);return!e.cRel&&e.cRel!=null&&(n=bJ(n)),!e.rRel&&e.rRel!=null&&(n=wJ(n)),n}function jy(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Us(e.s.c)+":"+(e.e.cRel?"":"$")+Us(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ys(e.s.r)+":"+(e.e.rRel?"":"$")+ys(e.e.r):mp(e.s,t.biff)+":"+mp(e.e,t.biff)}function L3(e){return parseInt(yJ(e),10)-1}function ys(e){return""+(e+1)}function wJ(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function yJ(e){return e.replace(/\$(\d+)$/,"$1")}function I3(e){for(var t=NJ(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Us(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function bJ(e){return e.replace(/^([A-Z])/,"$$$1")}function NJ(e){return e.replace(/^\$([A-Z])/,"$1")}function _J(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function rs(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function ii(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function tl(e){var t=e.indexOf(":");return t==-1?{s:rs(e),e:rs(e)}:{s:rs(e.slice(0,t)),e:rs(e.slice(t+1))}}function Oa(e,t){return typeof t>"u"||typeof t=="number"?Oa(e.s,e.e):(typeof e!="string"&&(e=ii(e)),typeof t!="string"&&(t=ii(t)),e==t?e:e+":"+t)}function Di(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=e.length;for(n=0;r<a&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<a&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=a&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=a&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function QS(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=a0(e.z,n?Lo(t):t)}catch{}try{return e.w=a0((e.XF||{}).numFmtId||(n?14:0),n?Lo(t):t)}catch{return""+t}}function Gu(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?xm[e.v]||e.v:t==null?QS(e,e.v):QS(e,t))}function gf(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function IT(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,a=e||(i?[]:{}),o=0,c=0;if(a&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?rs(r.origin):r.origin;o=u.r,c=u.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=Di(a["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),o==-1&&(f.e.r=o=p.e.r+1)}for(var g=0;g!=t.length;++g)if(t[g]){if(!Array.isArray(t[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var w=0;w!=t[g].length;++w)if(!(typeof t[g][w]>"u")){var y={v:t[g][w]},E=o+g,S=c+w;if(f.s.r>E&&(f.s.r=E),f.s.c>S&&(f.s.c=S),f.e.r<E&&(f.e.r=E),f.e.c<S&&(f.e.c=S),t[g][w]&&typeof t[g][w]=="object"&&!Array.isArray(t[g][w])&&!(t[g][w]instanceof Date))y=t[g][w];else if(Array.isArray(y.v)&&(y.f=t[g][w][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(r.nullError)y.t="e",y.v=0;else if(r.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=r.dateNF||da[14],r.cellDates?(y.t="d",y.w=a0(y.z,Lo(y.v))):(y.t="n",y.v=Lo(y.v),y.w=a0(y.z,y.v))):y.t="s";if(i)a[E]||(a[E]=[]),a[E][S]&&a[E][S].z&&(y.z=a[E][S].z),a[E][S]=y;else{var A=ii({c:S,r:E});a[A]&&a[A].z&&(y.z=a[A].z),a[A]=y}}}return f.s.c<1e7&&(a["!ref"]=Oa(f)),a}function d1(e,t){return IT(null,e,t)}function SJ(e){return e.read_shift(4,"i")}function lc(e,t){return t||(t=Tt(4)),t.write_shift(4,e),t}function zs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function is(e,t){var n=!1;return t==null&&(n=!0,t=Tt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function CJ(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function EJ(e,t){return t||(t=Tt(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0),t}function D3(e,t){var n=e.l,r=e.read_shift(1),i=zs(e),a=[],o={t:i,h:i};if(r&1){for(var c=e.read_shift(4),u=0;u!=c;++u)a.push(CJ(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function AJ(e,t){var n=!1;return t==null&&(n=!0,t=Tt(15+4*e.t.length)),t.write_shift(1,0),is(e.t,t),n?t.slice(0,t.l):t}var jJ=D3;function kJ(e,t){var n=!1;return t==null&&(n=!0,t=Tt(23+4*e.t.length)),t.write_shift(1,1),is(e.t,t),t.write_shift(4,1),EJ({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function El(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function vf(e,t){return t==null&&(t=Tt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function wf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function yf(e,t){return t==null&&(t=Tt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var TJ=zs,DT=is;function O3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Ng(e,t){var n=!1;return t==null&&(n=!0,t=Tt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var LJ=zs,Lb=O3,R3=Ng;function OT(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?bg([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):M0(t,0)>>2;return n?i/100:i}function RT(e,t){t==null&&(t=Tt(4));var n=0,r=0,i=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?r=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?i:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function MT(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function IJ(e,t){return t||(t=Tt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var bf=MT,f1=IJ;function h1(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function cf(e,t){return(t||Tt(8)).write_shift(8,e,"f")}function DJ(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),o=e.read_shift(1),c=e.read_shift(1),u=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var f=WJ[i];f&&(t.rgb=lC(f));break;case 2:t.rgb=lC([o,c,u]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function _g(e,t){if(t||(t=Tt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function OJ(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function RJ(e,t){t||(t=Tt(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}var PT=2,Ho=3,Ox=11,Sg=19,Rx=64,MJ=65,PJ=71,FJ=4108,BJ=4126,xs=80,ZS={1:{n:"CodePage",t:PT},2:{n:"Category",t:xs},3:{n:"PresentationFormat",t:xs},4:{n:"ByteCount",t:Ho},5:{n:"LineCount",t:Ho},6:{n:"ParagraphCount",t:Ho},7:{n:"SlideCount",t:Ho},8:{n:"NoteCount",t:Ho},9:{n:"HiddenCount",t:Ho},10:{n:"MultimediaClipCount",t:Ho},11:{n:"ScaleCrop",t:Ox},12:{n:"HeadingPairs",t:FJ},13:{n:"TitlesOfParts",t:BJ},14:{n:"Manager",t:xs},15:{n:"Company",t:xs},16:{n:"LinksUpToDate",t:Ox},17:{n:"CharacterCount",t:Ho},19:{n:"SharedDoc",t:Ox},22:{n:"HyperlinksChanged",t:Ox},23:{n:"AppVersion",t:Ho,p:"version"},24:{n:"DigSig",t:MJ},26:{n:"ContentType",t:xs},27:{n:"ContentStatus",t:xs},28:{n:"Language",t:xs},29:{n:"Version",t:xs},255:{},2147483648:{n:"Locale",t:Sg},2147483651:{n:"Behavior",t:Sg},1919054434:{}},JS={1:{n:"CodePage",t:PT},2:{n:"Title",t:xs},3:{n:"Subject",t:xs},4:{n:"Author",t:xs},5:{n:"Keywords",t:xs},6:{n:"Comments",t:xs},7:{n:"Template",t:xs},8:{n:"LastAuthor",t:xs},9:{n:"RevNumber",t:xs},10:{n:"EditTime",t:Rx},11:{n:"LastPrinted",t:Rx},12:{n:"CreatedDate",t:Rx},13:{n:"ModifiedDate",t:Rx},14:{n:"PageCount",t:Ho},15:{n:"WordCount",t:Ho},16:{n:"CharCount",t:Ho},17:{n:"Thumbnail",t:PJ},18:{n:"Application",t:xs},19:{n:"DocSecurity",t:Ho},255:{},2147483648:{n:"Locale",t:Sg},2147483651:{n:"Behavior",t:Sg},1919054434:{}};function UJ(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var zJ=UJ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),WJ=Io(zJ),xm={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},qJ={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Mx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function FT(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function BT(e,t){var n=JZ(qJ),r=[],i;r[r.length]=Ma,r[r.length]=en("Types",null,{xmlns:ns.CT,"xmlns:xsd":ns.xsd,"xmlns:xsi":ns.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return en("Default",null,{Extension:u[0],ContentType:u[1]})}));var a=function(u){e[u]&&e[u].length>0&&(i=e[u][0],r[r.length]=en("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Mx[u][t.bookType]||Mx[u].xlsx}))},o=function(u){(e[u]||[]).forEach(function(f){r[r.length]=en("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:Mx[u][t.bookType]||Mx[u].xlsx})})},c=function(u){(e[u]||[]).forEach(function(f){r[r.length]=en("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:n[u][0]})})};return a("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Ur={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function UT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function kh(e){var t=[Ma,en("Relationships",null,{xmlns:ns.RELS})];return Ns(e["!id"]).forEach(function(n){t[t.length]=en("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ei(e,t,n,r,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,a?i.TargetMode=a:[Ur.HLINK,Ur.XPATH,Ur.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function HJ(e){var t=[Ma];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function eC(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function VJ(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function $J(e){var t=[Ma];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(eC(e[n][0],e[n][1])),t.push(VJ("",e[n][0]));return t.push(eC("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function zT(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+xg.version+"</meta:generator></office:meta></office:document-meta>"}var K0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function ky(e,t,n,r,i){i[e]!=null||t==null||t===""||(i[e]=t,t=ni(t),r[r.length]=n?en(e,t,n):vs(e,t))}function WT(e,t){var n=t||{},r=[Ma,en("cp:coreProperties",null,{"xmlns:cp":ns.CORE_PROPS,"xmlns:dc":ns.dc,"xmlns:dcterms":ns.dcterms,"xmlns:dcmitype":ns.dcmitype,"xmlns:xsi":ns.xsi})],i={};if(!e&&!n.Props)return r.join("");e&&(e.CreatedDate!=null&&ky("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Tb(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),e.ModifiedDate!=null&&ky("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Tb(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var a=0;a!=K0.length;++a){var o=K0[a],c=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&ky(o[0],c,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Th=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],qT=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function HT(e){var t=[],n=en;return e||(e={}),e.Application="SheetJS",t[t.length]=Ma,t[t.length]=en("Properties",null,{xmlns:ns.EXT_PROPS,"xmlns:vt":ns.vt}),Th.forEach(function(r){if(e[r[1]]!==void 0){var i;switch(r[2]){case"string":i=ni(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false";break}i!==void 0&&(t[t.length]=n(r[0],i))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+ni(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function VT(e){var t=[Ma,en("Properties",null,{xmlns:ns.CUST_PROPS,"xmlns:vt":ns.vt})];if(!e)return t.join("");var n=1;return Ns(e).forEach(function(i){++n,t[t.length]=en("property",uJ(e[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:ni(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var tC={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function YJ(e,t){var n=[];return Ns(tC).map(function(r){for(var i=0;i<K0.length;++i)if(K0[i][1]==r)return K0[i];for(i=0;i<Th.length;++i)if(Th[i][1]==r)return Th[i];throw r}).forEach(function(r){if(e[r[1]]!=null){var i=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(vs(tC[r[1]]||r[1],i))}}),en("DocumentProperties",n.join(""),{xmlns:Go.o})}function GJ(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&Ns(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var o=0;o<K0.length;++o)if(a==K0[o][1])return;for(o=0;o<Th.length;++o)if(a==Th[o][1])return;for(o=0;o<n.length;++o)if(a==n[o])return;var c=e[a],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c=String(c),i.push(en(WS(a),c,{"dt:dt":u}))}}),t&&Ns(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var o=t[a],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),i.push(en(WS(a),o,{"dt:dt":c}))}}),"<"+r+' xmlns="'+Go.o+'">'+i.join("")+"</"+r+">"}function XJ(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),i+=a);var o=Tt(8);return o.write_shift(4,r),o.write_shift(4,i),o}function nC(e,t){var n=Tt(4),r=Tt(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=Tt(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=XJ(t);break;case 31:case 80:for(r=Tt(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return gs([n,r])}var $T=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function KJ(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function rC(e,t,n){var r=Tt(8),i=[],a=[],o=8,c=0,u=Tt(8),f=Tt(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),a.push(u),i.push(f),o+=8+u.length,!t){f=Tt(8),f.write_shift(4,0),i.unshift(f);var p=[Tt(4)];for(p[0].write_shift(4,e.length),c=0;c<e.length;++c){var g=e[c][0];for(u=Tt(4+4+2*(g.length+1)+(g.length%2?0:2)),u.write_shift(4,c+2),u.write_shift(4,g.length+1),u.write_shift(0,g,"dbcs");u.l!=u.length;)u.write_shift(1,0);p.push(u)}u=gs(p),a.unshift(u),o+=8+u.length}for(c=0;c<e.length;++c)if(!(t&&!t[e[c][0]])&&!($T.indexOf(e[c][0])>-1||qT.indexOf(e[c][0])>-1)&&e[c][1]!=null){var w=e[c][1],y=0;if(t){y=+t[e[c][0]];var E=n[y];if(E.p=="version"&&typeof w=="string"){var S=w.split(".");w=(+S[0]<<16)+(+S[1]||0)}u=nC(E.t,w)}else{var A=KJ(w);A==-1&&(A=31,w=String(w)),u=nC(A,w)}a.push(u),f=Tt(8),f.write_shift(4,t?y:2+c),i.push(f),o+=8+u.length}var j=8*(a.length+1);for(c=0;c<a.length;++c)i[c].write_shift(4,j),j+=a[c].length;return r.write_shift(4,o),r.write_shift(4,a.length),gs([r].concat(i).concat(a))}function iC(e,t,n,r,i,a){var o=Tt(i?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,mi.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,i?68:48);var u=rC(e,n,r);if(c.push(u),i){var f=rC(i,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+u.length),c.push(f)}return gs(c)}function QJ(e,t){t||(t=Tt(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function ZJ(e,t){return e.read_shift(t)===1}function to(e,t){return t||(t=Tt(2)),t.write_shift(2,+!!e),t}function YT(e){return e.read_shift(2,"u")}function xl(e,t){return t||(t=Tt(2)),t.write_shift(2,e),t}function GT(e,t,n){return n||(n=Tt(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function XT(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?e.read_shift(r,i):"";return o}function JJ(e){var t=e.t||"",n=Tt(3+0);n.write_shift(2,t.length),n.write_shift(1,1);var r=Tt(2*t.length);r.write_shift(2*t.length,t,"utf16le");var i=[n,r];return gs(i)}function eee(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function tee(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):eee(e,r,n)}function nee(e,t,n){if(n.biff>5)return tee(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function KT(e,t,n){return n||(n=Tt(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function aC(e,t){t||(t=Tt(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function ree(e){var t=Tt(512),n=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),a=i>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(a==28)r=r.slice(1),aC(r,t);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var c=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(c.length+1)),n=0;n<c.length;++n)t.write_shift(2,c.charCodeAt(n));t.write_shift(2,0),a&8&&aC(i>-1?r.slice(i+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var u=0;r.slice(u*3,u*3+3)=="../"||r.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,r.length-3*u+1),n=0;n<r.length-3*u;++n)t.write_shift(1,r.charCodeAt(n+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function uf(e,t,n,r){return r||(r=Tt(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function iee(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),a=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[i,a,o]}function aee(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function QT(e,t){return t||(t=Tt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function M3(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Tt(i);return a.write_shift(2,r),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function see(e,t){var n=!t||t.biff==8,r=Tt(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function oee(e,t){var n=!t||t.biff>=8?2:1,r=Tt(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function lee(e,t){var n=Tt(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],i=0;i<e.length;++i)r[i]=JJ(e[i]);var a=gs([n].concat(r));return a.parts=[n.length].concat(r.map(function(o){return o.length})),a}function cee(){var e=Tt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function uee(e){var t=Tt(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function dee(e,t){var n=e.name||"Arial",r=t&&t.biff==5,i=r?15+n.length:16+2*n.length,a=Tt(i);return a.write_shift(2,(e.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}function fee(e,t,n,r){var i=Tt(10);return uf(e,t,r,i),i.write_shift(4,n),i}function hee(e,t,n,r,i){var a=!i||i.biff==8,o=Tt(6+2+ +a+(1+a)*n.length);return uf(e,t,r,o),o.write_shift(2,n.length),a&&o.write_shift(1,1),o.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),o}function pee(e,t,n,r){var i=n&&n.biff==5;r||(r=Tt(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}function mee(e,t){var n=t.biff==8||!t.biff?4:2,r=Tt(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function sC(e,t,n,r){var i=n&&n.biff==5;r||(r=Tt(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function xee(e){var t=Tt(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}function gee(e,t,n,r,i,a){var o=Tt(8);return uf(e,t,r,o),GT(n,a,o),o}function vee(e,t,n,r){var i=Tt(14);return uf(e,t,r,i),cf(n,i),i}function wee(e,t,n){if(n.biff<8)return yee(e,t,n);for(var r=[],i=e.l+t,a=e.read_shift(n.biff>8?4:2);a--!==0;)r.push(iee(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function yee(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=XT(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function bee(e){var t=Tt(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)QT(e[n],t);return t}function Nee(e){var t=Tt(24),n=rs(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return gs([t,ree(e[1])])}function _ee(e){var t=e[1].Tooltip,n=Tt(10+2*(t.length+1));n.write_shift(2,2048);var r=rs(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}function See(e){return e||(e=Tt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Cee(e,t,n){if(!n.cellStyles)return Qc(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),a=e.read_shift(r),o=e.read_shift(r),c=e.read_shift(r),u=e.read_shift(2);r==2&&(e.l+=2);var f={s:i,e:a,w:o,ixfe:c,flags:u};return(n.biff>=5||!n.biff)&&(f.level=u>>8&7),f}function Eee(e,t){var n=Tt(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function Aee(e){for(var t=Tt(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}function jee(e,t,n){var r=Tt(15);return vm(r,e,t),r.write_shift(8,n,"f"),r}function kee(e,t,n){var r=Tt(9);return vm(r,e,t),r.write_shift(2,n),r}var Tee=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=C3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,u){var f=[],p=lf(1);switch(u.type){case"base64":p=tc(Yu(c));break;case"binary":p=tc(c);break;case"buffer":case"array":p=c;break}$o(p,0);var g=p.read_shift(1),w=!!(g&136),y=!1,E=!1;switch(g){case 2:break;case 3:break;case 48:y=!0,w=!0;break;case 49:y=!0,w=!0;break;case 131:break;case 139:break;case 140:E=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var S=0,A=521;g==2&&(S=p.read_shift(2)),p.l+=3,g!=2&&(S=p.read_shift(4)),S>1048576&&(S=1e6),g!=2&&(A=p.read_shift(2));var j=p.read_shift(2),k=u.codepage||1252;g!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(k=e[p[p.l]]),p.l+=1,p.l+=2),E&&(p.l+=36);for(var D=[],P={},Y=Math.min(p.length,g==2?521:A-10-(y?264:0)),z=E?32:11;p.l<Y&&p[p.l]!=13;)switch(P={},P.name=R0.utils.decode(k,p.slice(p.l,p.l+z)).replace(/[\u0000\r\n].*$/g,""),p.l+=z,P.type=String.fromCharCode(p.read_shift(1)),g!=2&&!E&&(P.offset=p.read_shift(4)),P.len=p.read_shift(1),g==2&&(P.offset=p.read_shift(2)),P.dec=p.read_shift(1),P.name.length&&D.push(P),g!=2&&(p.l+=E?13:14),P.type){case"B":(!y||P.len!=8)&&u.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+P.type)}if(p[p.l]!==13&&(p.l=A-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=A;var R=0,B=0;for(f[0]=[],B=0;B!=D.length;++B)f[0][B]=D[B].name;for(;S-- >0;){if(p[p.l]===42){p.l+=j;continue}for(++p.l,f[++R]=[],B=0,B=0;B!=D.length;++B){var q=p.slice(p.l,p.l+D[B].len);p.l+=D[B].len,$o(q,0);var te=R0.utils.decode(k,q);switch(D[B].type){case"C":te.trim().length&&(f[R][B]=te.replace(/\s+$/,""));break;case"D":te.length===8?f[R][B]=new Date(+te.slice(0,4),+te.slice(4,6)-1,+te.slice(6,8)):f[R][B]=te;break;case"F":f[R][B]=parseFloat(te.trim());break;case"+":case"I":f[R][B]=E?q.read_shift(-4,"i")^2147483648:q.read_shift(4,"i");break;case"L":switch(te.trim().toUpperCase()){case"Y":case"T":f[R][B]=!0;break;case"N":case"F":f[R][B]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+te+"|")}break;case"M":if(!w)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));f[R][B]="##MEMO##"+(E?parseInt(te.trim(),10):q.read_shift(4));break;case"N":te=te.replace(/\u0000/g,"").trim(),te&&te!="."&&(f[R][B]=+te||0);break;case"@":f[R][B]=new Date(q.read_shift(-8,"f")-621356832e5);break;case"T":f[R][B]=new Date((q.read_shift(4)-2440588)*864e5+q.read_shift(4));break;case"Y":f[R][B]=q.read_shift(4,"i")/1e4+q.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[R][B]=-q.read_shift(-8,"f");break;case"B":if(y&&D[B].len==8){f[R][B]=q.read_shift(8,"f");break}case"G":case"P":q.l+=D[B].len;break;case"0":if(D[B].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+D[B].type)}}}if(g!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=D,f}function r(c,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var p=d1(n(c,f),f);return p["!cols"]=f.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete f.DBF,p}function i(c,u){try{return gf(r(c,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,u){var f=u||{};if(+f.codepage>=0&&$p(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=To(),g=kg(c,{header:1,raw:!0,cellDates:!0}),w=g[0],y=g.slice(1),E=c["!cols"]||[],S=0,A=0,j=0,k=1;for(S=0;S<w.length;++S){if(((E[S]||{}).DBF||{}).name){w[S]=E[S].DBF.name,++j;continue}if(w[S]!=null){if(++j,typeof w[S]=="number"&&(w[S]=w[S].toString(10)),typeof w[S]!="string")throw new Error("DBF Invalid column name "+w[S]+" |"+typeof w[S]+"|");if(w.indexOf(w[S])!==S){for(A=0;A<1024;++A)if(w.indexOf(w[S]+"_"+A)==-1){w[S]+="_"+A;break}}}}var D=Di(c["!ref"]),P=[],Y=[],z=[];for(S=0;S<=D.e.c-D.s.c;++S){var R="",B="",q=0,te=[];for(A=0;A<y.length;++A)y[A][S]!=null&&te.push(y[A][S]);if(te.length==0||w[S]==null){P[S]="?";continue}for(A=0;A<te.length;++A){switch(typeof te[A]){case"number":B="B";break;case"string":B="C";break;case"boolean":B="L";break;case"object":B=te[A]instanceof Date?"D":"C";break;default:B="C"}q=Math.max(q,String(te[A]).length),R=R&&R!=B?"C":B}q>250&&(q=250),B=((E[S]||{}).DBF||{}).type,B=="C"&&E[S].DBF.len>q&&(q=E[S].DBF.len),R=="B"&&B=="N"&&(R="N",z[S]=E[S].DBF.dec,q=E[S].DBF.len),Y[S]=R=="C"||B=="N"?q:a[R]||0,k+=Y[S],P[S]=R}var H=p.next(32);for(H.write_shift(4,318902576),H.write_shift(4,y.length),H.write_shift(2,296+32*j),H.write_shift(2,k),S=0;S<4;++S)H.write_shift(4,0);for(H.write_shift(4,0|(+t[Jk]||3)<<8),S=0,A=0;S<w.length;++S)if(w[S]!=null){var W=p.next(32),J=(w[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,J,"sbcs"),W.write_shift(1,P[S]=="?"?"C":P[S],"sbcs"),W.write_shift(4,A),W.write_shift(1,Y[S]||a[P[S]]||0),W.write_shift(1,z[S]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),A+=Y[S]||a[P[S]]||0}var ue=p.next(264);for(ue.write_shift(4,13),S=0;S<65;++S)ue.write_shift(4,0);for(S=0;S<y.length;++S){var se=p.next(k);for(se.write_shift(1,0),A=0;A<w.length;++A)if(w[A]!=null)switch(P[A]){case"L":se.write_shift(1,y[S][A]==null?63:y[S][A]?84:70);break;case"B":se.write_shift(8,y[S][A]||0,"f");break;case"N":var ee="0";for(typeof y[S][A]=="number"&&(ee=y[S][A].toFixed(z[A]||0)),j=0;j<Y[A]-ee.length;++j)se.write_shift(1,32);se.write_shift(1,ee,"sbcs");break;case"D":y[S][A]?(se.write_shift(4,("0000"+y[S][A].getFullYear()).slice(-4),"sbcs"),se.write_shift(2,("00"+(y[S][A].getMonth()+1)).slice(-2),"sbcs"),se.write_shift(2,("00"+y[S][A].getDate()).slice(-2),"sbcs")):se.write_shift(8,"00000000","sbcs");break;case"C":var Ae=String(y[S][A]!=null?y[S][A]:"").slice(0,Y[A]);for(se.write_shift(1,Ae,"sbcs"),j=0;j<Y[A]-Ae.length;++j)se.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),Lee=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ns(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(w,y){var E=e[y];return typeof E=="number"?TS(E):E},r=function(w,y,E){var S=y.charCodeAt(0)-32<<4|E.charCodeAt(0)-48;return S==59?w:TS(S)};e["|"]=254;function i(w,y){switch(y.type){case"base64":return a(Yu(w),y);case"binary":return a(w,y);case"buffer":return a(Hr&&Buffer.isBuffer(w)?w.toString("binary"):hm(w),y);case"array":return a(jv(w),y)}throw new Error("Unrecognized type "+y.type)}function a(w,y){var E=w.split(/[\n\r]+/),S=-1,A=-1,j=0,k=0,D=[],P=[],Y=null,z={},R=[],B=[],q=[],te=0,H;for(+y.codepage>=0&&$p(+y.codepage);j!==E.length;++j){te=0;var W=E[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),J=W.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),ue=J[0],se;if(W.length>0)switch(ue){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":J[1].charAt(0)=="P"&&P.push(W.slice(3).replace(/;;/g,";"));break;case"C":var ee=!1,Ae=!1,ge=!1,Be=!1,_e=-1,ct=-1;for(k=1;k<J.length;++k)switch(J[k].charAt(0)){case"A":break;case"X":A=parseInt(J[k].slice(1))-1,Ae=!0;break;case"Y":for(S=parseInt(J[k].slice(1))-1,Ae||(A=0),H=D.length;H<=S;++H)D[H]=[];break;case"K":se=J[k].slice(1),se.charAt(0)==='"'?se=se.slice(1,se.length-1):se==="TRUE"?se=!0:se==="FALSE"?se=!1:isNaN(Mu(se))?isNaN(Gp(se).getDate())||(se=so(se)):(se=Mu(se),Y!==null&&dT(Y)&&(se=mT(se))),ee=!0;break;case"E":Be=!0;var U=kte(J[k].slice(1),{r:S,c:A});D[S][A]=[D[S][A],U];break;case"S":ge=!0,D[S][A]=[D[S][A],"S5S"];break;case"G":break;case"R":_e=parseInt(J[k].slice(1))-1;break;case"C":ct=parseInt(J[k].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+W)}if(ee&&(D[S][A]&&D[S][A].length==2?D[S][A][0]=se:D[S][A]=se,Y=null),ge){if(Be)throw new Error("SYLK shared formula cannot have own formula");var Z=_e>-1&&D[_e][ct];if(!Z||!Z[1])throw new Error("SYLK shared formula cannot find base");D[S][A][1]=Tte(Z[1],{r:S-_e,c:A-ct})}break;case"F":var Q=0;for(k=1;k<J.length;++k)switch(J[k].charAt(0)){case"X":A=parseInt(J[k].slice(1))-1,++Q;break;case"Y":for(S=parseInt(J[k].slice(1))-1,H=D.length;H<=S;++H)D[H]=[];break;case"M":te=parseInt(J[k].slice(1))/20;break;case"F":break;case"G":break;case"P":Y=P[parseInt(J[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(q=J[k].slice(1).split(" "),H=parseInt(q[0],10);H<=parseInt(q[1],10);++H)te=parseInt(q[2],10),B[H-1]=te===0?{hidden:!0}:{wch:te},P3(B[H-1]);break;case"C":A=parseInt(J[k].slice(1))-1,B[A]||(B[A]={});break;case"R":S=parseInt(J[k].slice(1))-1,R[S]||(R[S]={}),te>0?(R[S].hpt=te,R[S].hpx=nL(te)):te===0&&(R[S].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+W)}Q<1&&(Y=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+W)}}return R.length>0&&(z["!rows"]=R),B.length>0&&(z["!cols"]=B),y&&y.sheetRows&&(D=D.slice(0,y.sheetRows)),[D,z]}function o(w,y){var E=i(w,y),S=E[0],A=E[1],j=d1(S,y);return Ns(A).forEach(function(k){j[k]=A[k]}),j}function c(w,y){return gf(o(w,y),y)}function u(w,y,E,S){var A="C;Y"+(E+1)+";X"+(S+1)+";K";switch(w.t){case"n":A+=w.v||0,w.f&&!w.F&&(A+=";E"+B3(w.f,{r:E,c:S}));break;case"b":A+=w.v?"TRUE":"FALSE";break;case"e":A+=w.w||w.v;break;case"d":A+='"'+(w.w||w.v)+'"';break;case"s":A+='"'+w.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return A}function f(w,y){y.forEach(function(E,S){var A="F;W"+(S+1)+" "+(S+1)+" ";E.hidden?A+="0":(typeof E.width=="number"&&!E.wpx&&(E.wpx=Cg(E.width)),typeof E.wpx=="number"&&!E.wch&&(E.wch=Eg(E.wpx)),typeof E.wch=="number"&&(A+=Math.round(E.wch))),A.charAt(A.length-1)!=" "&&w.push(A)})}function p(w,y){y.forEach(function(E,S){var A="F;";E.hidden?A+="M0;":E.hpt?A+="M"+20*E.hpt+";":E.hpx&&(A+="M"+20*Ag(E.hpx)+";"),A.length>2&&w.push(A+"R"+(S+1))})}function g(w,y){var E=["ID;PWXL;N;E"],S=[],A=Di(w["!ref"]),j,k=Array.isArray(w),D=`\r
`;E.push("P;PGeneral"),E.push("F;P0;DG0G8;M255"),w["!cols"]&&f(E,w["!cols"]),w["!rows"]&&p(E,w["!rows"]),E.push("B;Y"+(A.e.r-A.s.r+1)+";X"+(A.e.c-A.s.c+1)+";D"+[A.s.c,A.s.r,A.e.c,A.e.r].join(" "));for(var P=A.s.r;P<=A.e.r;++P)for(var Y=A.s.c;Y<=A.e.c;++Y){var z=ii({r:P,c:Y});j=k?(w[P]||[])[Y]:w[z],!(!j||j.v==null&&(!j.f||j.F))&&S.push(u(j,w,P,Y))}return E.join(D)+D+S.join(D)+D+"E"+D}return{to_workbook:c,to_sheet:o,from_sheet:g}}(),Iee=function(){function e(a,o){switch(o.type){case"base64":return t(Yu(a),o);case"binary":return t(a,o);case"buffer":return t(Hr&&Buffer.isBuffer(a)?a.toString("binary"):hm(a),o);case"array":return t(jv(a),o)}throw new Error("Unrecognized type "+o.type)}function t(a,o){for(var c=a.split(`
`),u=-1,f=-1,p=0,g=[];p!==c.length;++p){if(c[p].trim()==="BOT"){g[++u]=[],f=0;continue}if(!(u<0)){var w=c[p].trim().split(","),y=w[0],E=w[1];++p;for(var S=c[p]||"";(S.match(/["]/g)||[]).length&1&&p<c.length-1;)S+=`
`+c[++p];switch(S=S.trim(),+y){case-1:if(S==="BOT"){g[++u]=[],f=0;continue}else if(S!=="EOD")throw new Error("Unrecognized DIF special command "+S);break;case 0:S==="TRUE"?g[u][f]=!0:S==="FALSE"?g[u][f]=!1:isNaN(Mu(E))?isNaN(Gp(E).getDate())?g[u][f]=E:g[u][f]=so(E):g[u][f]=Mu(E),++f;break;case 1:S=S.slice(1,S.length-1),S=S.replace(/""/g,'"'),S&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),g[u][f++]=S!==""?S:null;break}if(S==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function n(a,o){return d1(e(a,o),o)}function r(a,o){return gf(n(a,o),o)}var i=function(){var a=function(u,f,p,g,w){u.push(f),u.push(p+","+g),u.push('"'+w.replace(/"/g,'""')+'"')},o=function(u,f,p,g){u.push(f+","+p),u.push(f==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(u){var f=[],p=Di(u["!ref"]),g,w=Array.isArray(u);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,p.e.r-p.s.r+1,""),a(f,"TUPLES",0,p.e.c-p.s.c+1,""),a(f,"DATA",0,0,"");for(var y=p.s.r;y<=p.e.r;++y){o(f,-1,0,"BOT");for(var E=p.s.c;E<=p.e.c;++E){var S=ii({r:y,c:E});if(g=w?(u[y]||[])[E]:u[S],!g){o(f,1,0,"");continue}switch(g.t){case"n":var A=g.w;!A&&g.v!=null&&(A=g.v),A==null?g.f&&!g.F?o(f,1,0,"="+g.f):o(f,1,0,""):o(f,0,A,"V");break;case"b":o(f,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(f,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=a0(g.z||da[14],Lo(so(g.v)))),o(f,0,g.w,"V");break;default:o(f,1,0,"")}}}o(f,-1,0,"EOD");var j=`\r
`,k=f.join(j);return k}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),ZT=function(){function e(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(g,w){for(var y=g.split(`
`),E=-1,S=-1,A=0,j=[];A!==y.length;++A){var k=y[A].trim().split(":");if(k[0]==="cell"){var D=rs(k[1]);if(j.length<=D.r)for(E=j.length;E<=D.r;++E)j[E]||(j[E]=[]);switch(E=D.r,S=D.c,k[2]){case"t":j[E][S]=e(k[3]);break;case"v":j[E][S]=+k[3];break;case"vtf":var P=k[k.length-1];case"vtc":switch(k[3]){case"nl":j[E][S]=!!+k[4];break;default:j[E][S]=+k[4];break}k[2]=="vtf"&&(j[E][S]=[j[E][S],P])}}}return w&&w.sheetRows&&(j=j.slice(0,w.sheetRows)),j}function r(g,w){return d1(n(g,w),w)}function i(g,w){return gf(r(g,w),w)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(g){if(!g||!g["!ref"])return"";for(var w=[],y=[],E,S="",A=tl(g["!ref"]),j=Array.isArray(g),k=A.s.r;k<=A.e.r;++k)for(var D=A.s.c;D<=A.e.c;++D)if(S=ii({r:k,c:D}),E=j?(g[k]||[])[D]:g[S],!(!E||E.v==null||E.t==="z")){switch(y=["cell",S,"t"],E.t){case"s":case"str":y.push(t(E.v));break;case"n":E.f?(y[2]="vtf",y[3]="n",y[4]=E.v,y[5]=t(E.f)):(y[2]="v",y[3]=E.v);break;case"b":y[2]="vt"+(E.f?"f":"c"),y[3]="nl",y[4]=E.v?"1":"0",y[5]=t(E.f||(E.v?"TRUE":"FALSE"));break;case"d":var P=Lo(so(E.v));y[2]="vtc",y[3]="nd",y[4]=""+P,y[5]=E.w||a0(E.z||da[14],P);break;case"e":continue}w.push(y.join(":"))}return w.push("sheet:c:"+(A.e.c-A.s.c+1)+":r:"+(A.e.r-A.s.r+1)+":tvf:1"),w.push("valueformat:1:text-wiki"),w.join(`
`)}function p(g){return[a,o,c,o,f(g),u].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:p}}(),Dee=function(){function e(p,g,w,y,E){E.raw?g[w][y]=p:p===""||(p==="TRUE"?g[w][y]=!0:p==="FALSE"?g[w][y]=!1:isNaN(Mu(p))?isNaN(Gp(p).getDate())?g[w][y]=p:g[w][y]=so(p):g[w][y]=Mu(p))}function t(p,g){var w=g||{},y=[];if(!p||p.length===0)return y;for(var E=p.split(/[\r\n]/),S=E.length-1;S>=0&&E[S].length===0;)--S;for(var A=10,j=0,k=0;k<=S;++k)j=E[k].indexOf(" "),j==-1?j=E[k].length:j++,A=Math.max(A,j);for(k=0;k<=S;++k){y[k]=[];var D=0;for(e(E[k].slice(0,A).trim(),y,k,D,w),D=1;D<=(E[k].length-A)/10+1;++D)e(E[k].slice(A+(D-1)*10,A+D*10).trim(),y,k,D,w)}return w.sheetRows&&(y=y.slice(0,w.sheetRows)),y}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(p){for(var g={},w=!1,y=0,E=0;y<p.length;++y)(E=p.charCodeAt(y))==34?w=!w:!w&&E in n&&(g[E]=(g[E]||0)+1);E=[];for(y in g)Object.prototype.hasOwnProperty.call(g,y)&&E.push([g[y],y]);if(!E.length){g=r;for(y in g)Object.prototype.hasOwnProperty.call(g,y)&&E.push([g[y],y])}return E.sort(function(S,A){return S[0]-A[0]||r[S[1]]-r[A[1]]}),n[E.pop()[1]]||44}function a(p,g){var w=g||{},y="",E=w.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(y=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(y=p.charAt(4),p=p.slice(6)):y=i(p.slice(0,1024)):w&&w.FS?y=w.FS:y=i(p.slice(0,1024));var A=0,j=0,k=0,D=0,P=0,Y=y.charCodeAt(0),z=!1,R=0,B=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var q=w.dateNF!=null?XZ(w.dateNF):null;function te(){var H=p.slice(D,P),W={};if(H.charAt(0)=='"'&&H.charAt(H.length-1)=='"'&&(H=H.slice(1,-1).replace(/""/g,'"')),H.length===0)W.t="z";else if(w.raw)W.t="s",W.v=H;else if(H.trim().length===0)W.t="s",W.v=H;else if(H.charCodeAt(0)==61)H.charCodeAt(1)==34&&H.charCodeAt(H.length-1)==34?(W.t="s",W.v=H.slice(2,-1).replace(/""/g,'"')):Lte(H)?(W.t="n",W.f=H.slice(1)):(W.t="s",W.v=H);else if(H=="TRUE")W.t="b",W.v=!0;else if(H=="FALSE")W.t="b",W.v=!1;else if(!isNaN(k=Mu(H)))W.t="n",w.cellText!==!1&&(W.w=H),W.v=k;else if(!isNaN(Gp(H).getDate())||q&&H.match(q)){W.z=w.dateNF||da[14];var J=0;q&&H.match(q)&&(H=KZ(H,w.dateNF,H.match(q)||[]),J=1),w.cellDates?(W.t="d",W.v=so(H,J)):(W.t="n",W.v=Lo(so(H,J))),w.cellText!==!1&&(W.w=a0(W.z,W.v instanceof Date?Lo(W.v):W.v)),w.cellNF||delete W.z}else W.t="s",W.v=H;if(W.t=="z"||(w.dense?(E[A]||(E[A]=[]),E[A][j]=W):E[ii({c:j,r:A})]=W),D=P+1,B=p.charCodeAt(D),S.e.c<j&&(S.e.c=j),S.e.r<A&&(S.e.r=A),R==Y)++j;else if(j=0,++A,w.sheetRows&&w.sheetRows<=A)return!0}e:for(;P<p.length;++P)switch(R=p.charCodeAt(P)){case 34:B===34&&(z=!z);break;case Y:case 10:case 13:if(!z&&te())break e;break}return P-D>0&&te(),E["!ref"]=Oa(S),E}function o(p,g){return!(g&&g.PRN)||g.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,g):d1(t(p,g),g)}function c(p,g){var w="",y=g.type=="string"?[0,0,0,0]:Vae(p,g);switch(g.type){case"base64":w=Yu(p);break;case"binary":w=p;break;case"buffer":g.codepage==65001?w=p.toString("utf8"):g.codepage&&typeof R0<"u"?w=R0.utils.decode(g.codepage,p):w=Hr&&Buffer.isBuffer(p)?p.toString("binary"):hm(p);break;case"array":w=jv(p);break;case"string":w=p;break;default:throw new Error("Unrecognized type "+g.type)}return y[0]==239&&y[1]==187&&y[2]==191?w=fp(w.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?w=fp(w):g.type=="binary"&&typeof R0<"u"&&g.codepage&&(w=R0.utils.decode(g.codepage,R0.utils.encode(28591,w))),w.slice(0,19)=="socialcalc:version:"?ZT.to_sheet(g.type=="string"?w:fp(w),g):o(w,g)}function u(p,g){return gf(c(p,g),g)}function f(p){for(var g=[],w=Di(p["!ref"]),y,E=Array.isArray(p),S=w.s.r;S<=w.e.r;++S){for(var A=[],j=w.s.c;j<=w.e.c;++j){var k=ii({r:S,c:j});if(y=E?(p[S]||[])[j]:p[k],!y||y.v==null){A.push("          ");continue}for(var D=(y.w||(Gu(y),y.w)||"").slice(0,10);D.length<10;)D+=" ";A.push(D+(j===0?" ":""))}g.push(A.join(""))}return g.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:f}}(),oC=function(){function e(U,Z,Q){if(U){$o(U,U.l||0);for(var ne=Q.Enum||_e;U.l<U.length;){var ce=U.read_shift(2),be=ne[ce]||ne[65535],Fe=U.read_shift(2),ze=U.l+Fe,Ze=be.f&&be.f(U,Fe,Q);if(U.l=ze,Z(Ze,be,ce))return}}}function t(U,Z){switch(Z.type){case"base64":return n(tc(Yu(U)),Z);case"binary":return n(tc(U),Z);case"buffer":case"array":return n(U,Z)}throw"Unsupported type "+Z.type}function n(U,Z){if(!U)return U;var Q=Z||{},ne=Q.dense?[]:{},ce="Sheet1",be="",Fe=0,ze={},Ze=[],pt=[],bt={s:{r:0,c:0},e:{r:0,c:0}},Ye=Q.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)Q.Enum=_e,e(U,function(He,mt,rt){switch(rt){case 0:Q.vers=He,He>=4096&&(Q.qpro=!0);break;case 6:bt=He;break;case 204:He&&(be=He);break;case 222:be=He;break;case 15:case 51:Q.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:rt==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=Q.dateNF||da[14],Q.cellDates&&(He[1].t="d",He[1].v=mT(He[1].v))),Q.qpro&&He[3]>Fe&&(ne["!ref"]=Oa(bt),ze[ce]=ne,Ze.push(ce),ne=Q.dense?[]:{},bt={s:{r:0,c:0},e:{r:0,c:0}},Fe=He[3],ce=be||"Sheet"+(Fe+1),be="");var Ee=Q.dense?(ne[He[0].r]||[])[He[0].c]:ne[ii(He[0])];if(Ee){Ee.t=He[1].t,Ee.v=He[1].v,He[1].z!=null&&(Ee.z=He[1].z),He[1].f!=null&&(Ee.f=He[1].f);break}Q.dense?(ne[He[0].r]||(ne[He[0].r]=[]),ne[He[0].r][He[0].c]=He[1]):ne[ii(He[0])]=He[1];break}},Q);else if(U[2]==26||U[2]==14)Q.Enum=ct,U[2]==14&&(Q.qpro=!0,U.l=0),e(U,function(He,mt,rt){switch(rt){case 204:ce=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>Fe&&(ne["!ref"]=Oa(bt),ze[ce]=ne,Ze.push(ce),ne=Q.dense?[]:{},bt={s:{r:0,c:0},e:{r:0,c:0}},Fe=He[3],ce="Sheet"+(Fe+1)),Ye>0&&He[0].r>=Ye)break;Q.dense?(ne[He[0].r]||(ne[He[0].r]=[]),ne[He[0].r][He[0].c]=He[1]):ne[ii(He[0])]=He[1],bt.e.c<He[0].c&&(bt.e.c=He[0].c),bt.e.r<He[0].r&&(bt.e.r=He[0].r);break;case 27:He[14e3]&&(pt[He[14e3][0]]=He[14e3][1]);break;case 1537:pt[He[0]]=He[1],He[0]==Fe&&(ce=He[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(ne["!ref"]=Oa(bt),ze[be||ce]=ne,Ze.push(be||ce),!pt.length)return{SheetNames:Ze,Sheets:ze};for(var yt={},it=[],fe=0;fe<pt.length;++fe)ze[Ze[fe]]?(it.push(pt[fe]||Ze[fe]),yt[pt[fe]]=ze[pt[fe]]||ze[Ze[fe]]):(it.push(pt[fe]),yt[pt[fe]]={"!ref":"A1"});return{SheetNames:it,Sheets:yt}}function r(U,Z){var Q=Z||{};if(+Q.codepage>=0&&$p(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=To(),ce=Di(U["!ref"]),be=Array.isArray(U),Fe=[];tn(ne,0,a(1030)),tn(ne,6,u(ce));for(var ze=Math.min(ce.e.r,8191),Ze=ce.s.r;Ze<=ze;++Ze)for(var pt=ys(Ze),bt=ce.s.c;bt<=ce.e.c;++bt){Ze===ce.s.r&&(Fe[bt]=Us(bt));var Ye=Fe[bt]+pt,yt=be?(U[Ze]||[])[bt]:U[Ye];if(!(!yt||yt.t=="z"))if(yt.t=="n")(yt.v|0)==yt.v&&yt.v>=-32768&&yt.v<=32767?tn(ne,13,y(Ze,bt,yt.v)):tn(ne,14,S(Ze,bt,yt.v));else{var it=Gu(yt);tn(ne,15,g(Ze,bt,it.slice(0,239)))}}return tn(ne,1),ne.end()}function i(U,Z){var Q=Z||{};if(+Q.codepage>=0&&$p(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=To();tn(ne,0,o(U));for(var ce=0,be=0;ce<U.SheetNames.length;++ce)(U.Sheets[U.SheetNames[ce]]||{})["!ref"]&&tn(ne,27,Be(U.SheetNames[ce],be++));var Fe=0;for(ce=0;ce<U.SheetNames.length;++ce){var ze=U.Sheets[U.SheetNames[ce]];if(!(!ze||!ze["!ref"])){for(var Ze=Di(ze["!ref"]),pt=Array.isArray(ze),bt=[],Ye=Math.min(Ze.e.r,8191),yt=Ze.s.r;yt<=Ye;++yt)for(var it=ys(yt),fe=Ze.s.c;fe<=Ze.e.c;++fe){yt===Ze.s.r&&(bt[fe]=Us(fe));var He=bt[fe]+it,mt=pt?(ze[yt]||[])[fe]:ze[He];if(!(!mt||mt.t=="z"))if(mt.t=="n")tn(ne,23,te(yt,fe,Fe,mt.v));else{var rt=Gu(mt);tn(ne,22,R(yt,fe,Fe,rt.slice(0,239)))}}++Fe}}return tn(ne,1),ne.end()}function a(U){var Z=Tt(2);return Z.write_shift(2,U),Z}function o(U){var Z=Tt(26);Z.write_shift(2,4096),Z.write_shift(2,4),Z.write_shift(4,0);for(var Q=0,ne=0,ce=0,be=0;be<U.SheetNames.length;++be){var Fe=U.SheetNames[be],ze=U.Sheets[Fe];if(!(!ze||!ze["!ref"])){++ce;var Ze=tl(ze["!ref"]);Q<Ze.e.r&&(Q=Ze.e.r),ne<Ze.e.c&&(ne=Ze.e.c)}}return Q>8191&&(Q=8191),Z.write_shift(2,Q),Z.write_shift(1,ce),Z.write_shift(1,ne),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(1,1),Z.write_shift(1,2),Z.write_shift(4,0),Z.write_shift(4,0),Z}function c(U,Z,Q){var ne={s:{c:0,r:0},e:{c:0,r:0}};return Z==8&&Q.qpro?(ne.s.c=U.read_shift(1),U.l++,ne.s.r=U.read_shift(2),ne.e.c=U.read_shift(1),U.l++,ne.e.r=U.read_shift(2),ne):(ne.s.c=U.read_shift(2),ne.s.r=U.read_shift(2),Z==12&&Q.qpro&&(U.l+=2),ne.e.c=U.read_shift(2),ne.e.r=U.read_shift(2),Z==12&&Q.qpro&&(U.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function u(U){var Z=Tt(8);return Z.write_shift(2,U.s.c),Z.write_shift(2,U.s.r),Z.write_shift(2,U.e.c),Z.write_shift(2,U.e.r),Z}function f(U,Z,Q){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(ne[0].c=U.read_shift(1),ne[3]=U.read_shift(1),ne[0].r=U.read_shift(2),U.l+=2):(ne[2]=U.read_shift(1),ne[0].c=U.read_shift(2),ne[0].r=U.read_shift(2)),ne}function p(U,Z,Q){var ne=U.l+Z,ce=f(U,Z,Q);if(ce[1].t="s",Q.vers==20768){U.l++;var be=U.read_shift(1);return ce[1].v=U.read_shift(be,"utf8"),ce}return Q.qpro&&U.l++,ce[1].v=U.read_shift(ne-U.l,"cstr"),ce}function g(U,Z,Q){var ne=Tt(7+Q.length);ne.write_shift(1,255),ne.write_shift(2,Z),ne.write_shift(2,U),ne.write_shift(1,39);for(var ce=0;ce<ne.length;++ce){var be=Q.charCodeAt(ce);ne.write_shift(1,be>=128?95:be)}return ne.write_shift(1,0),ne}function w(U,Z,Q){var ne=f(U,Z,Q);return ne[1].v=U.read_shift(2,"i"),ne}function y(U,Z,Q){var ne=Tt(7);return ne.write_shift(1,255),ne.write_shift(2,Z),ne.write_shift(2,U),ne.write_shift(2,Q,"i"),ne}function E(U,Z,Q){var ne=f(U,Z,Q);return ne[1].v=U.read_shift(8,"f"),ne}function S(U,Z,Q){var ne=Tt(13);return ne.write_shift(1,255),ne.write_shift(2,Z),ne.write_shift(2,U),ne.write_shift(8,Q,"f"),ne}function A(U,Z,Q){var ne=U.l+Z,ce=f(U,Z,Q);if(ce[1].v=U.read_shift(8,"f"),Q.qpro)U.l=ne;else{var be=U.read_shift(2);P(U.slice(U.l,U.l+be),ce),U.l+=be}return ce}function j(U,Z,Q){var ne=Z&32768;return Z&=-32769,Z=(ne?U:0)+(Z>=8192?Z-16384:Z),(ne?"":"$")+(Q?Us(Z):ys(Z))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},D=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function P(U,Z){$o(U,0);for(var Q=[],ne=0,ce="",be="",Fe="",ze="";U.l<U.length;){var Ze=U[U.l++];switch(Ze){case 0:Q.push(U.read_shift(8,"f"));break;case 1:be=j(Z[0].c,U.read_shift(2),!0),ce=j(Z[0].r,U.read_shift(2),!1),Q.push(be+ce);break;case 2:{var pt=j(Z[0].c,U.read_shift(2),!0),bt=j(Z[0].r,U.read_shift(2),!1);be=j(Z[0].c,U.read_shift(2),!0),ce=j(Z[0].r,U.read_shift(2),!1),Q.push(pt+bt+":"+be+ce)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(U.read_shift(2));break;case 6:{for(var Ye="";Ze=U[U.l++];)Ye+=String.fromCharCode(Ze);Q.push('"'+Ye.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:ze=Q.pop(),Fe=Q.pop(),Q.push(["AND","OR"][Ze-20]+"("+Fe+","+ze+")");break;default:if(Ze<32&&D[Ze])ze=Q.pop(),Fe=Q.pop(),Q.push(Fe+D[Ze]+ze);else if(k[Ze]){if(ne=k[Ze][1],ne==69&&(ne=U[U.l++]),ne>Q.length){console.error("WK1 bad formula parse 0x"+Ze.toString(16)+":|"+Q.join("|")+"|");return}var yt=Q.slice(-ne);Q.length-=ne,Q.push(k[Ze][0]+"("+yt.join(",")+")")}else return Ze<=7?console.error("WK1 invalid opcode "+Ze.toString(16)):Ze<=24?console.error("WK1 unsupported op "+Ze.toString(16)):Ze<=30?console.error("WK1 invalid opcode "+Ze.toString(16)):Ze<=115?console.error("WK1 unsupported function opcode "+Ze.toString(16)):console.error("WK1 unrecognized opcode "+Ze.toString(16))}}Q.length==1?Z[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function Y(U){var Z=[{c:0,r:0},{t:"n",v:0},0];return Z[0].r=U.read_shift(2),Z[3]=U[U.l++],Z[0].c=U[U.l++],Z}function z(U,Z){var Q=Y(U);return Q[1].t="s",Q[1].v=U.read_shift(Z-4,"cstr"),Q}function R(U,Z,Q,ne){var ce=Tt(6+ne.length);ce.write_shift(2,U),ce.write_shift(1,Q),ce.write_shift(1,Z),ce.write_shift(1,39);for(var be=0;be<ne.length;++be){var Fe=ne.charCodeAt(be);ce.write_shift(1,Fe>=128?95:Fe)}return ce.write_shift(1,0),ce}function B(U,Z){var Q=Y(U);Q[1].v=U.read_shift(2);var ne=Q[1].v>>1;if(Q[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return Q[1].v=ne,Q}function q(U,Z){var Q=Y(U),ne=U.read_shift(4),ce=U.read_shift(4),be=U.read_shift(2);if(be==65535)return ne===0&&ce===3221225472?(Q[1].t="e",Q[1].v=15):ne===0&&ce===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var Fe=be&32768;return be=(be&32767)-16446,Q[1].v=(1-Fe*2)*(ce*Math.pow(2,be+32)+ne*Math.pow(2,be)),Q}function te(U,Z,Q,ne){var ce=Tt(14);if(ce.write_shift(2,U),ce.write_shift(1,Q),ce.write_shift(1,Z),ne==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var be=0,Fe=0,ze=0,Ze=0;return ne<0&&(be=1,ne=-ne),Fe=Math.log2(ne)|0,ne/=Math.pow(2,Fe-31),Ze=ne>>>0,Ze&2147483648||(ne/=2,++Fe,Ze=ne>>>0),ne-=Ze,Ze|=2147483648,Ze>>>=0,ne*=Math.pow(2,32),ze=ne>>>0,ce.write_shift(4,ze),ce.write_shift(4,Ze),Fe+=16383+(be?32768:0),ce.write_shift(2,Fe),ce}function H(U,Z){var Q=q(U);return U.l+=Z-14,Q}function W(U,Z){var Q=Y(U),ne=U.read_shift(4);return Q[1].v=ne>>6,Q}function J(U,Z){var Q=Y(U),ne=U.read_shift(8,"f");return Q[1].v=ne,Q}function ue(U,Z){var Q=J(U);return U.l+=Z-10,Q}function se(U,Z){return U[U.l+Z-1]==0?U.read_shift(Z,"cstr"):""}function ee(U,Z){var Q=U[U.l++];Q>Z-1&&(Q=Z-1);for(var ne="";ne.length<Q;)ne+=String.fromCharCode(U[U.l++]);return ne}function Ae(U,Z,Q){if(!(!Q.qpro||Z<21)){var ne=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var ce=U.read_shift(Z-21,"cstr");return[ne,ce]}}function ge(U,Z){for(var Q={},ne=U.l+Z;U.l<ne;){var ce=U.read_shift(2);if(ce==14e3){for(Q[ce]=[0,""],Q[ce][0]=U.read_shift(2);U[U.l];)Q[ce][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return Q}function Be(U,Z){var Q=Tt(5+U.length);Q.write_shift(2,14e3),Q.write_shift(2,Z);for(var ne=0;ne<U.length;++ne){var ce=U.charCodeAt(ne);Q[Q.l++]=ce>127?95:ce}return Q[Q.l++]=0,Q}var _e={0:{n:"BOF",f:YT},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:w},14:{n:"NUMBER",f:E},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:A},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:se},222:{n:"SHEETNAMELP",f:ee},65535:{n:""}},ct={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:z},23:{n:"NUMBER17",f:q},24:{n:"NUMBER18",f:B},25:{n:"FORMULA19",f:H},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ge},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:J},40:{n:"FORMULA28",f:ue},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}}(),Oee=/^\s|\s$|[\t\n\r]/;function JT(e,t){if(!t.bookSST)return"";var n=[Ma];n[n.length]=en("sst",null,{xmlns:u1[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var i=e[r],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(Oee)&&(a+=' xml:space="preserve"'),a+=">"+ni(i.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function Ree(e){return[e.read_shift(4),e.read_shift(4)]}function Mee(e,t){return t||(t=Tt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Pee=AJ;function Fee(e){var t=To();Ut(t,159,Mee(e));for(var n=0;n<e.length;++n)Ut(t,19,Pee(e[n]));return Ut(t,160),t.end()}function Bee(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function eL(e){var t=0,n,r=Bee(e),i=r.length+1,a,o,c,u,f;for(n=lf(i),n[0]=r.length,a=1;a!=i;++a)n[a]=r[a-1];for(a=i-1;a>=0;--a)o=n[a],c=t&16384?1:0,u=t<<1&32767,f=c|u,t=f^o;return t^52811}var Uee=function(){function e(i,a){switch(a.type){case"base64":return t(Yu(i),a);case"binary":return t(i,a);case"buffer":return t(Hr&&Buffer.isBuffer(i)?i.toString("binary"):hm(i),a);case"array":return t(jv(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var o=a||{},c=o.dense?[]:{},u=i.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(p,g){Array.isArray(c)&&(c[g]=[]);for(var w=/\\\w+\b/g,y=0,E,S=-1;E=w.exec(p);){switch(E[0]){case"\\cell":var A=p.slice(y,w.lastIndex-E[0].length);if(A[0]==" "&&(A=A.slice(1)),++S,A.length){var j={v:A,t:"s"};Array.isArray(c)?c[g][S]=j:c[ii({r:g,c:S})]=j}break}y=w.lastIndex}S>f.e.c&&(f.e.c=S)}),c["!ref"]=Oa(f),c}function n(i,a){return gf(e(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],o=Di(i["!ref"]),c,u=Array.isArray(i),f=o.s.r;f<=o.e.r;++f){a.push("\\trowd\\trautofit1");for(var p=o.s.c;p<=o.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=o.s.c;p<=o.e.c;++p){var g=ii({r:f,c:p});c=u?(i[f]||[])[p]:i[g],!(!c||c.v==null&&(!c.f||c.F))&&(a.push(" "+(c.w||(Gu(c),c.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function lC(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var zee=6,Pu=zee;function Cg(e){return Math.floor((e+Math.round(128/Pu)/256)*Pu)}function Eg(e){return Math.floor((e-5)/Pu*100+.5)/100}function Ib(e){return Math.round((e*Pu+5)/Pu*256)/256}function P3(e){e.width?(e.wpx=Cg(e.width),e.wch=Eg(e.wpx),e.MDW=Pu):e.wpx?(e.wch=Eg(e.wpx),e.width=Ib(e.wch),e.MDW=Pu):typeof e.wch=="number"&&(e.width=Ib(e.wch),e.wpx=Cg(e.width),e.MDW=Pu),e.customWidth&&delete e.customWidth}var Wee=96,tL=Wee;function Ag(e){return e*96/tL}function nL(e){return e*tL/96}function qee(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=en("numFmt",null,{numFmtId:r,formatCode:ni(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=en("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Hee(e){var t=[];return t[t.length]=en("cellXfs",null),e.forEach(function(n){t[t.length]=en("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=en("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function rL(e,t){var n=[Ma,en("styleSheet",null,{xmlns:u1[0],"xmlns:vt":ns.vt})],r;return e.SSF&&(r=qee(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Hee(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Vee(e,t){var n=e.read_shift(2),r=zs(e);return[n,r]}function $ee(e,t,n){n||(n=Tt(6+4*t.length)),n.write_shift(2,e),is(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function Yee(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=OJ(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=e.read_shift(2);switch(a===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var c=e.read_shift(1);c>0&&(r.family=c);var u=e.read_shift(1);switch(u>0&&(r.charset=u),e.l++,r.color=DJ(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=zs(e),r}function Gee(e,t){t||(t=Tt(25+4*32)),t.write_shift(2,e.sz*20),RJ(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),_g(e.color,t);var r=0;return e.scheme=="major"&&(r=1),e.scheme=="minor"&&(r=2),t.write_shift(1,r),is(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Xee=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Ty,Kee=Qc;function cC(e,t){t||(t=Tt(4*3+8*7+16*1)),Ty||(Ty=C3(Xee));var n=Ty[e.patternType];n==null&&(n=40),t.write_shift(4,n);var r=0;if(n!=40)for(_g({auto:1},t),_g({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Qee(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}function iL(e,t,n){n||(n=Tt(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function V1(e,t){return t||(t=Tt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Zee=Qc;function Jee(e,t){return t||(t=Tt(51)),t.write_shift(1,0),V1(null,t),V1(null,t),V1(null,t),V1(null,t),V1(null,t),t.length>t.l?t.slice(0,t.l):t}function ete(e,t){return t||(t=Tt(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Ng(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function tte(e,t,n){var r=Tt(2052);return r.write_shift(4,e),Ng(t,r),Ng(n,r),r.length>r.l?r.slice(0,r.l):r}function nte(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&++n}),n!=0&&(Ut(e,615,lc(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&Ut(e,44,$ee(i,t[i]))}),Ut(e,616))}}function rte(e){var t=1;Ut(e,611,lc(t)),Ut(e,43,Gee({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ut(e,612)}function ite(e){var t=2;Ut(e,603,lc(t)),Ut(e,45,cC({patternType:"none"})),Ut(e,45,cC({patternType:"gray125"})),Ut(e,604)}function ate(e){var t=1;Ut(e,613,lc(t)),Ut(e,46,Jee()),Ut(e,614)}function ste(e){var t=1;Ut(e,626,lc(t)),Ut(e,47,iL({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ut(e,627)}function ote(e,t){Ut(e,617,lc(t.length)),t.forEach(function(n){Ut(e,47,iL(n,0))}),Ut(e,618)}function lte(e){var t=1;Ut(e,619,lc(t)),Ut(e,48,ete({xfId:0,builtinId:0,name:"Normal"})),Ut(e,620)}function cte(e){var t=0;Ut(e,505,lc(t)),Ut(e,506)}function ute(e){var t=0;Ut(e,508,tte(t,"TableStyleMedium9","PivotStyleMedium4")),Ut(e,509)}function dte(e,t){var n=To();return Ut(n,278),nte(n,e.SSF),rte(n),ite(n),ate(n),ste(n),ote(n,t.cellXfs),lte(n),cte(n),ute(n),Ut(n,279),n.end()}function aL(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[Ma];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function fte(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:zs(e)}}function hte(e){var t=Tt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),is(e.name,t),t.slice(0,t.l)}function pte(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function mte(e){var t=Tt(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function xte(e,t){var n=Tt(8+2*t.length);return n.write_shift(4,e),is(t,n),n.slice(0,n.l)}function gte(e){return e.l+=4,e.read_shift(4)!=0}function vte(e,t){var n=Tt(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}function wte(){var e=To();return Ut(e,332),Ut(e,334,lc(1)),Ut(e,335,hte({name:"XLDAPR",version:12e4,flags:3496657072})),Ut(e,336),Ut(e,339,xte(1,"XLDAPR")),Ut(e,52),Ut(e,35,lc(514)),Ut(e,4096,lc(0)),Ut(e,4097,xl(1)),Ut(e,36),Ut(e,53),Ut(e,340),Ut(e,337,vte(1,!0)),Ut(e,51,mte([[1,0]])),Ut(e,338),Ut(e,333),e.end()}function sL(){var e=[Ma];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function yte(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=ii(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}var ph=1024;function oL(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[en("xml",null,{"xmlns:v":Go.v,"xmlns:o":Go.o,"xmlns:x":Go.x,"xmlns:mv":Go.mv}).replace(/\/>/,">"),en("o:shapelayout",en("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),en("v:shapetype",[en("v:stroke",null,{joinstyle:"miter"}),en("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];ph<e*1e3;)ph+=1e3;return t.forEach(function(a){var o=rs(a[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var u=c.type=="gradient"?en("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=en("v:fill",u,c),p={on:"t",obscured:"t"};++ph,i=i.concat(["<v:shape"+Xp({id:"_x0000_s"+ph,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,en("v:shadow",null,p),en("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",vs("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),vs("x:AutoFill","False"),vs("x:Row",String(o.r)),vs("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function lL(e){var t=[Ma,en("comments",null,{xmlns:u1[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(i){var a=ni(i.a);n.indexOf(a)==-1&&(n.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var i=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(u){u.a&&(i=n.indexOf(ni(u.a))),a.push(u.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),a.length<=1)t.push(vs("t",ni(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,c=1;c<a.length;++c)o+=`Reply:
    `+a[c]+`
`;t.push(vs("t",ni(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function bte(e,t,n){var r=[Ma,en("ThreadedComments",null,{xmlns:ns.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(o,c){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var u={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};c==0?a=u.id:u.parentId=a,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(en("threadedComment",vs("text",o.t||""),u))})}),r.push("</ThreadedComments>"),r.join("")}function Nte(e){var t=[Ma,en("personList",null,{xmlns:ns.TCMNT,"xmlns:x":u1[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(en("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function _te(e){var t={};t.iauthor=e.read_shift(4);var n=bf(e);return t.rfx=n.s,t.ref=ii(n.s),e.l+=16,t}function Ste(e,t){return t==null&&(t=Tt(36)),t.write_shift(4,e[1].iauthor),f1(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Cte=zs;function Ete(e){return is(e.slice(0,54))}function Ate(e){var t=To(),n=[];return Ut(t,628),Ut(t,630),e.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Ut(t,632,Ete(i.a)))})}),Ut(t,631),Ut(t,633),e.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var a={s:rs(r[0]),e:rs(r[0])};Ut(t,635,Ste([a,i])),i.t&&i.t.length>0&&Ut(t,637,kJ(i)),Ut(t,636),delete i.iauthor})}),Ut(t,634),Ut(t,629),t.end()}function jte(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&mi.utils.cfb_add(e,i,t.FileIndex[r].content)}})}var cL=["xlsb","xlsm","xlam","biff8","xla"],kte=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,a,o){var c=!1,u=!1;a.length==0?u=!0:a.charAt(0)=="["&&(u=!0,a=a.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,p=o.length>0?parseInt(o,10)|0:0;return c?p+=t.c:--p,u?f+=t.r:--f,i+(c?"":"$")+Us(p)+(u?"":"$")+ys(f)}return function(i,a){return t=a,i.replace(e,n)}}(),F3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,B3=function(){return function(t,n){return t.replace(F3,function(r,i,a,o,c,u){var f=I3(o)-(a?0:n.c),p=L3(u)-(c?0:n.r),g=p==0?"":c?p+1:"["+p+"]",w=f==0?"":a?f+1:"["+f+"]";return i+"R"+g+"C"+w})}}();function Tte(e,t){return e.replace(F3,function(n,r,i,a,o,c){return r+(i=="$"?i+a:Us(I3(a)+t.c))+(o=="$"?o+c:ys(L3(c)+t.r))})}function Lte(e){return e.length!=1}function Ia(e){e.l+=1}function s0(e,t){var n=e.read_shift(t==1?1:2);return[n&16383,n>>14&1,n>>15&1]}function uL(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return dL(e);n.biff==12&&(r=4)}var i=e.read_shift(r),a=e.read_shift(r),o=s0(e,2),c=s0(e,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function dL(e){var t=s0(e,2),n=s0(e,2),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function Ite(e,t,n){if(n.biff<8)return dL(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),a=s0(e,2),o=s0(e,2);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function fL(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return Dte(e);var r=e.read_shift(n&&n.biff==12?4:2),i=s0(e,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Dte(e){var t=s0(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function Ote(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Rte(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return Mte(e);var i=e.read_shift(r>=12?4:2),a=e.read_shift(2),o=(a&16384)>>14,c=(a&32768)>>15;if(a&=16383,c==1)for(;i>524287;)i-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:o,rRel:c}}function Mte(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function Pte(e,t,n){var r=(e[e.l++]&96)>>5,i=uL(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function Fte(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var o=uL(e,a,n);return[r,i,o]}function Bte(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function Ute(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[r,i]}function zte(e,t,n){var r=(e[e.l++]&96)>>5,i=Ite(e,t-1,n);return[r,i]}function Wte(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function uC(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function qte(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function Hte(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function Vte(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function $te(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Yte(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function hL(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function Gte(e){return e.read_shift(2),hL(e)}function Xte(e){return e.read_shift(2),hL(e)}function Kte(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=fL(e,0,n);return[r,i]}function Qte(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=Rte(e,0,n);return[r,i]}function Zte(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var a=fL(e,0,n);return[r,i,a]}function Jte(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[Jne[i],xL[i],r]}function ene(e,t,n){var r=e[e.l++],i=e.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:tne(e);return[i,(a[0]===0?xL:Zne)[a[1]]]}function tne(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function nne(e,t,n){e.l+=n&&n.biff==2?3:4}function rne(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function ine(e){return e.l++,xm[e.read_shift(1)]}function ane(e){return e.l++,e.read_shift(2)}function sne(e){return e.l++,e.read_shift(1)!==0}function one(e){return e.l++,h1(e)}function lne(e,t,n){return e.l++,XT(e,t-1,n)}function cne(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=ZJ(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=xm[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=h1(e);break;case 2:n[1]=nee(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function une(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((n.biff==12?bf:aee)(e));return i}function dne(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var a=0,o=[];a!=r&&(o[a]=[]);++a)for(var c=0;c!=i;++c)o[a][c]=cne(e,n.biff);return o}function fne(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,a]}function hne(e,t,n){if(n.biff==5)return pne(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[r,i,a]}function pne(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function mne(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function xne(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function gne(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function vne(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[r,i]}var wne=Qc,yne=Qc,bne=Qc;function gm(e,t,n){return e.l+=2,[Ote(e)]}function U3(e){return e.l+=6,[]}var Nne=gm,_ne=U3,Sne=U3,Cne=gm;function pL(e){return e.l+=2,[YT(e),e.read_shift(2)&1]}var Ene=gm,Ane=pL,jne=U3,kne=gm,Tne=gm,Lne=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Ine(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),o=Lne[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:i,C:a}}function Dne(e){return e.l+=2,[e.read_shift(4)]}function One(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function Rne(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function Mne(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Pne(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Fne(e){return e.l+=4,[0,0]}var dC={1:{n:"PtgExp",f:rne},2:{n:"PtgTbl",f:bne},3:{n:"PtgAdd",f:Ia},4:{n:"PtgSub",f:Ia},5:{n:"PtgMul",f:Ia},6:{n:"PtgDiv",f:Ia},7:{n:"PtgPower",f:Ia},8:{n:"PtgConcat",f:Ia},9:{n:"PtgLt",f:Ia},10:{n:"PtgLe",f:Ia},11:{n:"PtgEq",f:Ia},12:{n:"PtgGe",f:Ia},13:{n:"PtgGt",f:Ia},14:{n:"PtgNe",f:Ia},15:{n:"PtgIsect",f:Ia},16:{n:"PtgUnion",f:Ia},17:{n:"PtgRange",f:Ia},18:{n:"PtgUplus",f:Ia},19:{n:"PtgUminus",f:Ia},20:{n:"PtgPercent",f:Ia},21:{n:"PtgParen",f:Ia},22:{n:"PtgMissArg",f:Ia},23:{n:"PtgStr",f:lne},26:{n:"PtgSheet",f:One},27:{n:"PtgEndSheet",f:Rne},28:{n:"PtgErr",f:ine},29:{n:"PtgBool",f:sne},30:{n:"PtgInt",f:ane},31:{n:"PtgNum",f:one},32:{n:"PtgArray",f:Wte},33:{n:"PtgFunc",f:Jte},34:{n:"PtgFuncVar",f:ene},35:{n:"PtgName",f:fne},36:{n:"PtgRef",f:Kte},37:{n:"PtgArea",f:Pte},38:{n:"PtgMemArea",f:mne},39:{n:"PtgMemErr",f:wne},40:{n:"PtgMemNoMem",f:yne},41:{n:"PtgMemFunc",f:xne},42:{n:"PtgRefErr",f:gne},43:{n:"PtgAreaErr",f:Bte},44:{n:"PtgRefN",f:Qte},45:{n:"PtgAreaN",f:zte},46:{n:"PtgMemAreaN",f:Mne},47:{n:"PtgMemNoMemN",f:Pne},57:{n:"PtgNameX",f:hne},58:{n:"PtgRef3d",f:Zte},59:{n:"PtgArea3d",f:Fte},60:{n:"PtgRefErr3d",f:vne},61:{n:"PtgAreaErr3d",f:Ute},255:{}},Bne={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Une={1:{n:"PtgElfLel",f:pL},2:{n:"PtgElfRw",f:kne},3:{n:"PtgElfCol",f:Nne},6:{n:"PtgElfRwV",f:Tne},7:{n:"PtgElfColV",f:Cne},10:{n:"PtgElfRadical",f:Ene},11:{n:"PtgElfRadicalS",f:jne},13:{n:"PtgElfColS",f:_ne},15:{n:"PtgElfColSV",f:Sne},16:{n:"PtgElfRadicalLel",f:Ane},25:{n:"PtgList",f:Ine},29:{n:"PtgSxName",f:Dne},255:{}},zne={0:{n:"PtgAttrNoop",f:Fne},1:{n:"PtgAttrSemi",f:Yte},2:{n:"PtgAttrIf",f:Vte},4:{n:"PtgAttrChoose",f:qte},8:{n:"PtgAttrGoto",f:Hte},16:{n:"PtgAttrSum",f:nne},32:{n:"PtgAttrBaxcel",f:uC},33:{n:"PtgAttrBaxcel",f:uC},64:{n:"PtgAttrSpace",f:Gte},65:{n:"PtgAttrSpaceSemi",f:Xte},128:{n:"PtgAttrIfError",f:$te},255:{}};function Wne(e,t,n,r){if(r.biff<8)return Qc(e,t);for(var i=e.l+t,a=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=dne(e,0,r),a.push(n[o][1]);break;case"PtgMemArea":n[o][2]=une(e,n[o][1],r),a.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),a.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=i-e.l,t!==0&&a.push(Qc(e,t)),a}function qne(e,t,n){for(var r=e.l+t,i,a,o=[];r!=e.l;)t=r-e.l,a=e[e.l],i=dC[a]||dC[Bne[a]],(a===24||a===25)&&(i=(a===24?Une:zne)[e[e.l+1]]),!i||!i.f?Qc(e,t):o.push([i.n,i.f(e,t,n)]);return o}function Hne(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],a=0;a<r.length;++a){var o=r[a];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var Vne={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function $ne(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function mL(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function fC(e,t,n){var r=mL(e,t,n);return r=="#REF"?r:$ne(r,n)}function Kh(e,t,n,r,i){var a=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},c=[],u,f,p,g=0,w=0,y,E="";if(!e[0]||!e[0][0])return"";for(var S=-1,A="",j=0,k=e[0].length;j<k;++j){var D=e[0][j];switch(D[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),f=c.pop(),S>=0){switch(e[0][S][1][0]){case 0:A=la(" ",e[0][S][1][1]);break;case 1:A=la("\r",e[0][S][1][1]);break;default:if(A="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][S][1][0])}f=f+A,S=-1}c.push(f+Vne[D[0]]+u);break;case"PtgIsect":u=c.pop(),f=c.pop(),c.push(f+" "+u);break;case"PtgUnion":u=c.pop(),f=c.pop(),c.push(f+","+u);break;case"PtgRange":u=c.pop(),f=c.pop(),c.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=pp(D[1][1],o,i),c.push(mp(p,a));break;case"PtgRefN":p=n?pp(D[1][1],n,i):D[1][1],c.push(mp(p,a));break;case"PtgRef3d":g=D[1][1],p=pp(D[1][2],o,i),E=fC(r,g,i),c.push(E+"!"+mp(p,a));break;case"PtgFunc":case"PtgFuncVar":var P=D[1][0],Y=D[1][1];P||(P=0),P&=127;var z=P==0?[]:c.slice(-P);c.length-=P,Y==="User"&&(Y=z.shift()),c.push(Y+"("+z.join(",")+")");break;case"PtgBool":c.push(D[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(D[1]);break;case"PtgNum":c.push(String(D[1]));break;case"PtgStr":c.push('"'+D[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(D[1]);break;case"PtgAreaN":y=KS(D[1][1],n?{s:n}:o,i),c.push(jy(y,i));break;case"PtgArea":y=KS(D[1][1],o,i),c.push(jy(y,i));break;case"PtgArea3d":g=D[1][1],y=D[1][2],E=fC(r,g,i),c.push(E+"!"+jy(y,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":w=D[1][2];var R=(r.names||[])[w-1]||(r[0]||[])[w],B=R?R.Name:"SH33TJSNAME"+String(w);B&&B.slice(0,6)=="_xlfn."&&!i.xlfn&&(B=B.slice(6)),c.push(B);break;case"PtgNameX":var q=D[1][1];w=D[1][2];var te;if(i.biff<=5)q<0&&(q=-q),r[q]&&(te=r[q][w]);else{var H="";if(((r[q]||[])[0]||[])[0]==14849||(((r[q]||[])[0]||[])[0]==1025?r[q][w]&&r[q][w].itab>0&&(H=r.SheetNames[r[q][w].itab-1]+"!"):H=r.SheetNames[w-1]+"!"),r[q]&&r[q][w])H+=r[q][w].Name;else if(r[0]&&r[0][w])H+=r[0][w].Name;else{var W=(mL(r,q,i)||"").split(";;");W[w-1]?H=W[w-1]:H+="SH33TJSERRX"}c.push(H);break}te||(te={Name:"SH33TJSERRY"}),c.push(te.Name);break;case"PtgParen":var J="(",ue=")";if(S>=0){switch(A="",e[0][S][1][0]){case 2:J=la(" ",e[0][S][1][1])+J;break;case 3:J=la("\r",e[0][S][1][1])+J;break;case 4:ue=la(" ",e[0][S][1][1])+ue;break;case 5:ue=la("\r",e[0][S][1][1])+ue;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][S][1][0])}S=-1}c.push(J+c.pop()+ue);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":p={c:D[1][1],r:D[1][0]};var se={c:n.c,r:n.r};if(r.sharedf[ii(p)]){var ee=r.sharedf[ii(p)];c.push(Kh(ee,o,se,r,i))}else{var Ae=!1;for(u=0;u!=r.arrayf.length;++u)if(f=r.arrayf[u],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){c.push(Kh(f[1],o,se,r,i)),Ae=!0;break}Ae||c.push(D[1])}break;case"PtgArray":c.push("{"+Hne(D[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+D[1].idx+"[#"+D[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(D));default:throw new Error("Unrecognized Formula Token: "+String(D))}var ge=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&S>=0&&ge.indexOf(e[0][j][0])==-1){D=e[0][S];var Be=!0;switch(D[1][0]){case 4:Be=!1;case 0:A=la(" ",D[1][1]);break;case 5:Be=!1;case 1:A=la("\r",D[1][1]);break;default:if(A="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+D[1][0])}c.push((Be?A:"")+c.pop()+(Be?"":A)),S=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function Yne(e){if(e==null){var t=Tt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return cf(e);return cf(0)}function Gne(e,t,n,r,i){var a=uf(t,n,i),o=Yne(e.v),c=Tt(6),u=33;c.write_shift(2,u),c.write_shift(4,0);for(var f=Tt(e.bf.length),p=0;p<e.bf.length;++p)f[p]=e.bf[p];var g=gs([a,o,c,f]);return g}function kv(e,t,n){var r=e.read_shift(4),i=qne(e,r,n),a=e.read_shift(4),o=a>0?Wne(e,a,i,n):null;return[i,o]}var Xne=kv,Tv=kv,Kne=kv,Qne=kv,Zne={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},xL={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Jne={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ere(e){var t="of:="+e.replace(F3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function tre(e){return e.replace(/\./,"!")}var xp=typeof Map<"u";function z3(e,t,n){var r=0,i=e.length;if(n){if(xp?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var a=xp?n.get(t):n[t];r<a.length;++r)if(e[a[r]].t===t)return e.Count++,a[r]}}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t},e.Count++,e.Unique++,n&&(xp?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function Lv(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(Pu=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?r=Eg(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(n.width=Ib(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function gL(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function p0(e,t,n){var r=n.revssf[t.z!=null?t.z:"General"],i=60,a=e.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){fT(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===r)return i;return e[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function nre(e,t,n){if(e&&e["!ref"]){var r=Di(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function rre(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Oa(e[n])+'"/>';return t+"</mergeCells>"}function ire(e,t,n,r,i){var a=!1,o={},c=null;if(r.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[n];try{t.Workbook&&(u=t.Workbook.Sheets[n].CodeName||u)}catch{}a=!0,o.codeName=ju(ni(u))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),c=(c||"")+en("outlinePr",null,f)}!a&&!c||(i[i.length]=en("sheetPr",c,o))}var are=["objects","scenarios","selectLockedCells","selectUnlockedCells"],sre=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ore(e){var t={sheet:1};return are.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),sre.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=eL(e.password).toString(16).toUpperCase()),en("sheetProtection",null,t)}function lre(e){return gL(e),en("pageMargins",null,e)}function cre(e,t){for(var n=["<cols>"],r,i=0;i!=t.length;++i)(r=t[i])&&(n[n.length]=en("col",null,Lv(i,r)));return n[n.length]="</cols>",n.join("")}function ure(e,t,n,r){var i=typeof e.ref=="string"?e.ref:Oa(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=tl(i);o.s.r==o.e.r&&(o.e.r=tl(t["!ref"]).e.r,i=Oa(o));for(var c=0;c<a.length;++c){var u=a[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),en("autoFilter",null,{ref:i})}function dre(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),en("sheetViews",en("sheetView",null,i),{})}function fre(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=xm[e.v];break;case"d":r&&r.cellDates?i=so(e.v,-1).toISOString():(e=Io(e),e.t="n",i=""+(e.v=Lo(so(e.v)))),typeof e.z>"u"&&(e.z=da[14]);break;default:i=e.v;break}var c=vs("v",ni(i)),u={r:t},f=p0(r.cellXfs,e,r);switch(f!==0&&(u.s=f),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=vs("v",""+z3(r.Strings,e.v,r.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=a&&(e.t=a,e.v=o),typeof e.f=="string"&&e.f){var p=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;c=en("f",ni(e.f),p)+(e.v!=null?c:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(u.cm=1),en("c",c,u)}function hre(e,t,n,r){var i=[],a=[],o=Di(e["!ref"]),c="",u,f="",p=[],g=0,w=0,y=e["!rows"],E=Array.isArray(e),S={r:f},A,j=-1;for(w=o.s.c;w<=o.e.c;++w)p[w]=Us(w);for(g=o.s.r;g<=o.e.r;++g){for(a=[],f=ys(g),w=o.s.c;w<=o.e.c;++w){u=p[w]+f;var k=E?(e[g]||[])[w]:e[u];k!==void 0&&(c=fre(k,u,e,t))!=null&&a.push(c)}(a.length>0||y&&y[g])&&(S={r:f},y&&y[g]&&(A=y[g],A.hidden&&(S.hidden=1),j=-1,A.hpx?j=Ag(A.hpx):A.hpt&&(j=A.hpt),j>-1&&(S.ht=j,S.customHeight=1),A.level&&(S.outlineLevel=A.level)),i[i.length]=en("row",a.join(""),S))}if(y)for(;g<y.length;++g)y&&y[g]&&(S={r:g+1},A=y[g],A.hidden&&(S.hidden=1),j=-1,A.hpx?j=Ag(A.hpx):A.hpt&&(j=A.hpt),j>-1&&(S.ht=j,S.customHeight=1),A.level&&(S.outlineLevel=A.level),i[i.length]=en("row","",S));return i.join("")}function vL(e,t,n,r){var i=[Ma,en("worksheet",null,{xmlns:u1[0],"xmlns:r":ns.r})],a=n.SheetNames[e],o=0,c="",u=n.Sheets[a];u==null&&(u={});var f=u["!ref"]||"A1",p=Di(f);if(p.e.c>16383||p.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),f=Oa(p)}r||(r={}),u["!comments"]=[];var g=[];ire(u,n,e,t,i),i[i.length]=en("dimension",null,{ref:f}),i[i.length]=dre(u,t,e,n),t.sheetFormat&&(i[i.length]=en("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(i[i.length]=cre(u,u["!cols"])),i[o=i.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(c=hre(u,t),c.length>0&&(i[i.length]=c)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),u["!protect"]&&(i[i.length]=ore(u["!protect"])),u["!autofilter"]!=null&&(i[i.length]=ure(u["!autofilter"],u,n,e)),u["!merges"]!=null&&u["!merges"].length>0&&(i[i.length]=rre(u["!merges"]));var w=-1,y,E=-1;return u["!links"].length>0&&(i[i.length]="<hyperlinks>",u["!links"].forEach(function(S){S[1].Target&&(y={ref:S[0]},S[1].Target.charAt(0)!="#"&&(E=ei(r,-1,ni(S[1].Target).replace(/#.*$/,""),Ur.HLINK),y["r:id"]="rId"+E),(w=S[1].Target.indexOf("#"))>-1&&(y.location=ni(S[1].Target.slice(w+1))),S[1].Tooltip&&(y.tooltip=ni(S[1].Tooltip)),i[i.length]=en("hyperlink",null,y))}),i[i.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(i[i.length]=lre(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=vs("ignoredErrors",en("ignoredError",null,{numberStoredAsText:1,sqref:f}))),g.length>0&&(E=ei(r,-1,"../drawings/drawing"+(e+1)+".xml",Ur.DRAW),i[i.length]=en("drawing",null,{"r:id":"rId"+E}),u["!drawing"]=g),u["!comments"].length>0&&(E=ei(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ur.VML),i[i.length]=en("legacyDrawing",null,{"r:id":"rId"+E}),u["!legacy"]=E),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function pre(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=i/20),n}function mre(e,t,n){var r=Tt(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var a=320;i.hpx?a=Ag(i.hpx)*20:i.hpt&&(a=i.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var c=0,u=r.l;r.l+=4;for(var f={r:e,c:0},p=0;p<16;++p)if(!(t.s.c>p+1<<10||t.e.c<p<<10)){for(var g=-1,w=-1,y=p<<10;y<p+1<<10;++y){f.c=y;var E=Array.isArray(n)?(n[f.r]||[])[f.c]:n[ii(f)];E&&(g<0&&(g=y),w=y)}g<0||(++c,r.write_shift(4,g),r.write_shift(4,w))}var S=r.l;return r.l=u,r.write_shift(4,c),r.l=S,r.length>r.l?r.slice(0,r.l):r}function xre(e,t,n,r){var i=mre(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&Ut(e,0,i)}var gre=bf,vre=f1;function wre(){}function yre(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=TJ(e),n}function bre(e,t,n){n==null&&(n=Tt(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return _g({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),DT(e,n),n.slice(0,n.l)}function Nre(e){var t=El(e);return[t]}function _re(e,t,n){return n==null&&(n=Tt(8)),vf(t,n)}function Sre(e){var t=wf(e);return[t]}function Cre(e,t,n){return n==null&&(n=Tt(4)),yf(t,n)}function Ere(e){var t=El(e),n=e.read_shift(1);return[t,n,"b"]}function Are(e,t,n){return n==null&&(n=Tt(9)),vf(t,n),n.write_shift(1,e.v?1:0),n}function jre(e){var t=wf(e),n=e.read_shift(1);return[t,n,"b"]}function kre(e,t,n){return n==null&&(n=Tt(5)),yf(t,n),n.write_shift(1,e.v?1:0),n}function Tre(e){var t=El(e),n=e.read_shift(1);return[t,n,"e"]}function Lre(e,t,n){return n==null&&(n=Tt(9)),vf(t,n),n.write_shift(1,e.v),n}function Ire(e){var t=wf(e),n=e.read_shift(1);return[t,n,"e"]}function Dre(e,t,n){return n==null&&(n=Tt(8)),yf(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function Ore(e){var t=El(e),n=e.read_shift(4);return[t,n,"s"]}function Rre(e,t,n){return n==null&&(n=Tt(12)),vf(t,n),n.write_shift(4,t.v),n}function Mre(e){var t=wf(e),n=e.read_shift(4);return[t,n,"s"]}function Pre(e,t,n){return n==null&&(n=Tt(8)),yf(t,n),n.write_shift(4,t.v),n}function Fre(e){var t=El(e),n=h1(e);return[t,n,"n"]}function Bre(e,t,n){return n==null&&(n=Tt(16)),vf(t,n),cf(e.v,n),n}function Ure(e){var t=wf(e),n=h1(e);return[t,n,"n"]}function zre(e,t,n){return n==null&&(n=Tt(12)),yf(t,n),cf(e.v,n),n}function Wre(e){var t=El(e),n=OT(e);return[t,n,"n"]}function qre(e,t,n){return n==null&&(n=Tt(12)),vf(t,n),RT(e.v,n),n}function Hre(e){var t=wf(e),n=OT(e);return[t,n,"n"]}function Vre(e,t,n){return n==null&&(n=Tt(8)),yf(t,n),RT(e.v,n),n}function $re(e){var t=El(e),n=D3(e);return[t,n,"is"]}function Yre(e){var t=El(e),n=zs(e);return[t,n,"str"]}function Gre(e,t,n){return n==null&&(n=Tt(12+4*e.v.length)),vf(t,n),is(e.v,n),n.length>n.l?n.slice(0,n.l):n}function Xre(e){var t=wf(e),n=zs(e);return[t,n,"str"]}function Kre(e,t,n){return n==null&&(n=Tt(8+4*e.v.length)),yf(t,n),is(e.v,n),n.length>n.l?n.slice(0,n.l):n}function Qre(e,t,n){var r=e.l+t,i=El(e);i.r=n["!row"];var a=e.read_shift(1),o=[i,a,"b"];if(n.cellFormula){e.l+=2;var c=Tv(e,r-e.l,n);o[3]=Kh(c,null,i,n.supbooks,n)}else e.l=r;return o}function Zre(e,t,n){var r=e.l+t,i=El(e);i.r=n["!row"];var a=e.read_shift(1),o=[i,a,"e"];if(n.cellFormula){e.l+=2;var c=Tv(e,r-e.l,n);o[3]=Kh(c,null,i,n.supbooks,n)}else e.l=r;return o}function Jre(e,t,n){var r=e.l+t,i=El(e);i.r=n["!row"];var a=h1(e),o=[i,a,"n"];if(n.cellFormula){e.l+=2;var c=Tv(e,r-e.l,n);o[3]=Kh(c,null,i,n.supbooks,n)}else e.l=r;return o}function eie(e,t,n){var r=e.l+t,i=El(e);i.r=n["!row"];var a=zs(e),o=[i,a,"str"];if(n.cellFormula){e.l+=2;var c=Tv(e,r-e.l,n);o[3]=Kh(c,null,i,n.supbooks,n)}else e.l=r;return o}var tie=bf,nie=f1;function rie(e,t){return t==null&&(t=Tt(4)),t.write_shift(4,e),t}function iie(e,t){var n=e.l+t,r=bf(e),i=O3(e),a=zs(e),o=zs(e),c=zs(e);e.l=n;var u={rfx:r,relId:i,loc:a,display:c};return o&&(u.Tooltip=o),u}function aie(e,t){var n=Tt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));f1({s:rs(e[0]),e:rs(e[0])},n),R3("rId"+t,n);var r=e[1].Target.indexOf("#"),i=r==-1?"":e[1].Target.slice(r+1);return is(i||"",n),is(e[1].Tooltip||"",n),is("",n),n.slice(0,n.l)}function sie(){}function oie(e,t,n){var r=e.l+t,i=MT(e),a=e.read_shift(1),o=[i];if(o[2]=a,n.cellFormula){var c=Xne(e,r-e.l,n);o[1]=c}else e.l=r;return o}function lie(e,t,n){var r=e.l+t,i=bf(e),a=[i];if(n.cellFormula){var o=Qne(e,r-e.l,n);a[1]=o,e.l=r}else e.l=r;return a}function cie(e,t,n){n==null&&(n=Tt(18));var r=Lv(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}var wL=["left","right","top","bottom","header","footer"];function uie(e){var t={};return wL.forEach(function(n){t[n]=h1(e)}),t}function die(e,t){return t==null&&(t=Tt(6*8)),gL(e),wL.forEach(function(n){cf(e[n],t)}),t}function fie(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function hie(e,t,n){n==null&&(n=Tt(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function pie(e){var t=Tt(24);return t.write_shift(4,4),t.write_shift(4,1),f1(e,t),t}function mie(e,t){return t==null&&(t=Tt(16*4+2)),t.write_shift(2,e.password?eL(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function xie(){}function gie(){}function vie(e,t,n,r,i,a,o){if(t.v===void 0)return!1;var c="";switch(t.t){case"b":c=t.v?"1":"0";break;case"d":t=Io(t),t.z=t.z||da[14],t.v=Lo(so(t.v)),t.t="n";break;case"n":case"e":c=""+t.v;break;default:c=t.v;break}var u={r:n,c:r};switch(u.s=p0(i.cellXfs,t,i),t.l&&a["!links"].push([ii(u),t.l]),t.c&&a["!comments"].push([ii(u),t.c]),t.t){case"s":case"str":return i.bookSST?(c=z3(i.Strings,t.v,i.revStrings),u.t="s",u.v=c,o?Ut(e,18,Pre(t,u)):Ut(e,7,Rre(t,u))):(u.t="str",o?Ut(e,17,Kre(t,u)):Ut(e,6,Gre(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ut(e,13,Vre(t,u)):Ut(e,2,qre(t,u)):o?Ut(e,16,zre(t,u)):Ut(e,5,Bre(t,u)),!0;case"b":return u.t="b",o?Ut(e,15,kre(t,u)):Ut(e,4,Are(t,u)),!0;case"e":return u.t="e",o?Ut(e,14,Dre(t,u)):Ut(e,3,Lre(t,u)),!0}return o?Ut(e,12,Cre(t,u)):Ut(e,1,_re(t,u)),!0}function wie(e,t,n,r){var i=Di(t["!ref"]||"A1"),a,o="",c=[];Ut(e,145);var u=Array.isArray(t),f=i.e.r;t["!rows"]&&(f=Math.max(i.e.r,t["!rows"].length-1));for(var p=i.s.r;p<=f;++p){o=ys(p),xre(e,t,i,p);var g=!1;if(p<=i.e.r)for(var w=i.s.c;w<=i.e.c;++w){p===i.s.r&&(c[w]=Us(w)),a=c[w]+o;var y=u?(t[p]||[])[w]:t[a];if(!y){g=!1;continue}g=vie(e,y,p,w,r,t,g)}}Ut(e,146)}function yie(e,t){!t||!t["!merges"]||(Ut(e,177,rie(t["!merges"].length)),t["!merges"].forEach(function(n){Ut(e,176,nie(n))}),Ut(e,178))}function bie(e,t){!t||!t["!cols"]||(Ut(e,390),t["!cols"].forEach(function(n,r){n&&Ut(e,60,cie(r,n))}),Ut(e,391))}function Nie(e,t){!t||!t["!ref"]||(Ut(e,648),Ut(e,649,pie(Di(t["!ref"]))),Ut(e,650))}function _ie(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var i=ei(n,-1,r[1].Target.replace(/#.*$/,""),Ur.HLINK);Ut(e,494,aie(r,i))}}),delete t["!links"]}function Sie(e,t,n,r){if(t["!comments"].length>0){var i=ei(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Ur.VML);Ut(e,551,R3("rId"+i)),t["!legacy"]=i}}function Cie(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:Oa(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,c=tl(a);c.s.r==c.e.r&&(c.e.r=tl(t["!ref"]).e.r,a=Oa(c));for(var u=0;u<o.length;++u){var f=o[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+n.SheetNames[r]+"'!"+a;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),Ut(e,161,f1(Di(a))),Ut(e,162)}}function Eie(e,t,n){Ut(e,133),Ut(e,137,hie(t,n)),Ut(e,138),Ut(e,134)}function Aie(e,t){t["!protect"]&&Ut(e,535,mie(t["!protect"]))}function jie(e,t,n,r){var i=To(),a=n.SheetNames[e],o=n.Sheets[a]||{},c=a;try{n&&n.Workbook&&(c=n.Workbook.Sheets[e].CodeName||c)}catch{}var u=Di(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ut(i,129),(n.vbaraw||o["!outline"])&&Ut(i,147,bre(c,o["!outline"])),Ut(i,148,vre(u)),Eie(i,o,n.Workbook),bie(i,o),wie(i,o,e,t),Aie(i,o),Cie(i,o,n,e),yie(i,o),_ie(i,o,r),o["!margins"]&&Ut(i,476,die(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Nie(i,o),Sie(i,o,e,r),Ut(i,130),i.end()}function kie(e,t){e.l+=10;var n=zs(e);return{name:n}}var Tie=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Lie(e){return!e.Workbook||!e.Workbook.WBProps?"false":lJ(e.Workbook.WBProps.date1904)?"true":"false"}var Iie="][*?/\\".split("");function yL(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return Iie.forEach(function(r){if(e.indexOf(r)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}function Die(e,t,n){e.forEach(function(r,i){yL(r);for(var a=0;a<i;++a)if(r==e[a])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[i]&&t[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Oie(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Die(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)nre(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function bL(e){var t=[Ma];t[t.length]=en("workbook",null,{xmlns:u1[0],"xmlns:r":ns.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Tie.forEach(function(c){e.Workbook.WBProps[c[0]]!=null&&e.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=e.Workbook.WBProps[c[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=en("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var o={name:ni(e.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=en("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(c){var u={name:c.Name};c.Comment&&(u.comment=c.Comment),c.Sheet!=null&&(u.localSheetId=""+c.Sheet),c.Hidden&&(u.hidden="1"),c.Ref&&(t[t.length]=en("definedName",ni(c.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Rie(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=Lb(e),n.name=zs(e),n}function Mie(e,t){return t||(t=Tt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),R3(e.strRelID,t),is(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Pie(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?zs(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function Fie(e,t){t||(t=Tt(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),DT(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Bie(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=LJ(e),o=Kne(e,0,n),c=O3(e);e.l=r;var u={Name:a,Ptg:o};return i<268435455&&(u.Sheet=i),c&&(u.Comment=c),u}function Uie(e,t){Ut(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};Ut(e,156,Mie(i))}Ut(e,144)}function zie(e,t){t||(t=Tt(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return is("SheetJS",t),is(xg.version,t),is(xg.version,t),is("7262",t),t.length>t.l?t.slice(0,t.l):t}function Wie(e,t){t||(t=Tt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function qie(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,i=-1,a=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&a==-1&&(a=r);a>i||(Ut(e,135),Ut(e,158,Wie(i)),Ut(e,136))}}function Hie(e,t){var n=To();return Ut(n,131),Ut(n,128,zie()),Ut(n,153,Fie(e.Workbook&&e.Workbook.WBProps||null)),qie(n,e),Uie(n,e),Ut(n,132),n.end()}function Vie(e,t,n){return(t.slice(-4)===".bin"?Hie:bL)(e)}function $ie(e,t,n,r,i){return(t.slice(-4)===".bin"?jie:vL)(e,n,r,i)}function Yie(e,t,n){return(t.slice(-4)===".bin"?dte:rL)(e,n)}function Gie(e,t,n){return(t.slice(-4)===".bin"?Fee:JT)(e,n)}function Xie(e,t,n){return(t.slice(-4)===".bin"?Ate:lL)(e)}function Kie(e){return(e.slice(-4)===".bin"?wte:sL)()}function Qie(e,t){var n=[];return e.Props&&n.push(YJ(e.Props,t)),e.Custprops&&n.push(GJ(e.Props,e.Custprops)),n.join("")}function Zie(){return""}function Jie(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,i){var a=[];a.push(en("NumberFormat",null,{"ss:Format":ni(da[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};n.push(en("Style",a.join(""),o))}),en("Styles",n.join(""))}function NL(e){return en("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+B3(e.Ref,{r:0,c:0})})}function eae(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(NL(i)))}return en("Names",n.join(""))}function tae(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,a=[],o=0;o<i.length;++o){var c=i[o];c.Sheet==n&&(c.Name.match(/^_xlfn\./)||a.push(NL(c)))}return a.join("")}function nae(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(en("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(en("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(en("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(en("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(vs("ProtectContents","True")),e["!protect"].objects&&i.push(vs("ProtectObjects","True")),e["!protect"].scenarios&&i.push(vs("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(vs("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(vs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":en("WorksheetOptions",i.join(""),{xmlns:Go.x})}function rae(e){return e.map(function(t){var n=oJ(t.t||""),r=en("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return en("Comment",r,{"ss:Author":t.a})}).join("")}function iae(e,t,n,r,i,a,o){if(!e||e.v==null&&e.f==null)return"";var c={};if(e.f&&(c["ss:Formula"]="="+ni(B3(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var u=rs(e.F.slice(t.length+1));c["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(e.l&&e.l.Target&&(c["ss:HRef"]=ni(e.l.Target),e.l.Tooltip&&(c["x:HRefScreenTip"]=ni(e.l.Tooltip))),n["!merges"])for(var f=n["!merges"],p=0;p!=f.length;++p)f[p].s.c!=o.c||f[p].s.r!=o.r||(f[p].e.c>f[p].s.c&&(c["ss:MergeAcross"]=f[p].e.c-f[p].s.c),f[p].e.r>f[p].s.r&&(c["ss:MergeDown"]=f[p].e.r-f[p].s.r));var g="",w="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":g="Number",w=String(e.v);break;case"b":g="Boolean",w=e.v?"1":"0";break;case"e":g="Error",w=xm[e.v];break;case"d":g="DateTime",w=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||da[14]);break;case"s":g="String",w=sJ(e.v||"");break}var y=p0(r.cellXfs,e,r);c["ss:StyleID"]="s"+(21+y),c["ss:Index"]=o.c+1;var E=e.v!=null?w:"",S=e.t=="z"?"":'<Data ss:Type="'+g+'">'+E+"</Data>";return(e.c||[]).length>0&&(S+=rae(e.c)),en("Cell",S,c)}function aae(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=nL(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function sae(e,t,n,r){if(!e["!ref"])return"";var i=Di(e["!ref"]),a=e["!merges"]||[],o=0,c=[];e["!cols"]&&e["!cols"].forEach(function(A,j){P3(A);var k=!!A.width,D=Lv(j,A),P={"ss:Index":j+1};k&&(P["ss:Width"]=Cg(D.width)),A.hidden&&(P["ss:Hidden"]="1"),c.push(en("Column",null,P))});for(var u=Array.isArray(e),f=i.s.r;f<=i.e.r;++f){for(var p=[aae(f,(e["!rows"]||[])[f])],g=i.s.c;g<=i.e.c;++g){var w=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>g)&&!(a[o].s.r>f)&&!(a[o].e.c<g)&&!(a[o].e.r<f)){(a[o].s.c!=g||a[o].s.r!=f)&&(w=!0);break}if(!w){var y={r:f,c:g},E=ii(y),S=u?(e[f]||[])[g]:e[E];p.push(iae(S,E,e,t,n,r,y))}}p.push("</Row>"),p.length>2&&c.push(p.join(""))}return c.join("")}function oae(e,t,n){var r=[],i=n.SheetNames[e],a=n.Sheets[i],o=a?tae(a,t,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=a?sae(a,t,e,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(nae(a,t,e,n)),r.join("")}function lae(e,t){t||(t={}),e.SSF||(e.SSF=Io(da)),e.SSF&&(Ev(),Cv(e.SSF),t.revssf=Av(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],p0(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(Qie(e,t)),n.push(Zie()),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(en("Worksheet",oae(r,t,e),{"ss:Name":ni(e.SheetNames[r])}));return n[2]=Jie(e,t),n[3]=eae(e),Ma+en("Workbook",n.join(""),{xmlns:Go.ss,"xmlns:o":Go.o,"xmlns:x":Go.x,"xmlns:ss":Go.ss,"xmlns:dt":Go.dt,"xmlns:html":Go.html})}var Ly={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function cae(e,t){var n=[],r=[],i=[],a=0,o,c=BS(ZS,"n"),u=BS(JS,"n");if(e.Props)for(o=Ns(e.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(c,o[a])?n:Object.prototype.hasOwnProperty.call(u,o[a])?r:i).push([o[a],e.Props[o[a]]]);if(e.Custprops)for(o=Ns(e.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(c,o[a])?n:Object.prototype.hasOwnProperty.call(u,o[a])?r:i).push([o[a],e.Custprops[o[a]]]);var f=[];for(a=0;a<i.length;++a)$T.indexOf(i[a][0])>-1||qT.indexOf(i[a][0])>-1||i[a][1]!=null&&f.push(i[a]);r.length&&mi.utils.cfb_add(t,"/SummaryInformation",iC(r,Ly.SI,u,JS)),(n.length||f.length)&&mi.utils.cfb_add(t,"/DocumentSummaryInformation",iC(n,Ly.DSI,c,ZS,f.length?f:null,Ly.UDI))}function uae(e,t){var n=t||{},r=mi.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return mi.utils.cfb_add(r,i,_L(e,n)),n.biff==8&&(e.Props||e.Custprops)&&cae(e,r),n.biff==8&&e.vbaraw&&jte(r,mi.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var dae={0:{f:pre},1:{f:Nre},2:{f:Wre},3:{f:Tre},4:{f:Ere},5:{f:Fre},6:{f:Yre},7:{f:Ore},8:{f:eie},9:{f:Jre},10:{f:Qre},11:{f:Zre},12:{f:Sre},13:{f:Hre},14:{f:Ire},15:{f:jre},16:{f:Ure},17:{f:Xre},18:{f:Mre},19:{f:D3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Bie},40:{},42:{},43:{f:Yee},44:{f:Vee},45:{f:Kee},46:{f:Zee},47:{f:Qee},48:{},49:{f:SJ},50:{},51:{f:pte},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Cee},62:{f:$re},63:{f:yte},64:{f:xie},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Qc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:fie},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:yre},148:{f:gre,p:16},151:{f:sie},152:{},153:{f:Pie},154:{},155:{},156:{f:Rie},157:{},158:{},159:{T:1,f:Ree},160:{T:-1},161:{T:1,f:bf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:tie},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:fte},336:{T:-1},337:{f:gte,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Lb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:wee},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:oie},427:{f:lie},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:uie},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:wre},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:iie},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Lb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Cte},633:{T:1},634:{T:-1},635:{T:1,f:_te},636:{T:-1},637:{f:jJ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:kie},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:gie},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function tn(e,t,n,r){var i=t;if(!isNaN(i)){var a=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&T3(n)&&e.push(n)}}function fae(e,t,n,r){var i=r||(n||[]).length||0;if(i<=8224)return tn(e,t,n,i);var a=t;if(!isNaN(a)){for(var o=n.parts||[],c=0,u=0,f=0;f+(o[c]||8224)<=8224;)f+=o[c]||8224,c++;var p=e.next(4);for(p.write_shift(2,a),p.write_shift(2,f),e.push(n.slice(u,u+f)),u+=f;u<i;){for(p=e.next(4),p.write_shift(2,60),f=0;f+(o[c]||8224)<=8224;)f+=o[c]||8224,c++;p.write_shift(2,f),e.push(n.slice(u,u+f)),u+=f}}}function vm(e,t,n){return e||(e=Tt(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function hae(e,t,n,r){var i=Tt(9);return vm(i,e,t),GT(n,r||"b",i),i}function pae(e,t,n){var r=Tt(8+2*n.length);return vm(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function mae(e,t,n,r){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?Lo(so(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?tn(e,2,kee(n,r,i)):tn(e,3,jee(n,r,i));return;case"b":case"e":tn(e,5,hae(n,r,t.v,t.t));return;case"s":case"str":tn(e,4,pae(n,r,(t.v||"").slice(0,255)));return}tn(e,1,vm(null,n,r))}function xae(e,t,n,r){var i=Array.isArray(t),a=Di(t["!ref"]||"A1"),o,c="",u=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=Oa(a)}for(var f=a.s.r;f<=a.e.r;++f){c=ys(f);for(var p=a.s.c;p<=a.e.c;++p){f===a.s.r&&(u[p]=Us(p)),o=u[p]+c;var g=i?(t[f]||[])[p]:t[o];g&&mae(e,g,f,p)}}}function gae(e,t){for(var n=t||{},r=To(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==n.sheet&&(i=a);if(i==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return tn(r,n.biff==4?1033:n.biff==3?521:9,M3(e,16,n)),xae(r,e.Sheets[e.SheetNames[i]],i,n),tn(r,10),r.end()}function vae(e,t,n){tn(e,49,dee({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function wae(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&tn(e,1054,pee(i,t[i],n))})}function yae(e,t){var n=Tt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),tn(e,2151,n),n=Tt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),QT(Di(t["!ref"]||"A1"),n),n.write_shift(4,4),tn(e,2152,n)}function bae(e,t){for(var n=0;n<16;++n)tn(e,224,sC({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){tn(e,224,sC(r,0,t))})}function Nae(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];tn(e,440,Nee(r)),r[1].Tooltip&&tn(e,2048,_ee(r))}delete t["!links"]}function _ae(e,t){if(t){var n=0;t.forEach(function(r,i){++n<=256&&r&&tn(e,125,Eee(Lv(i,r),i))})}}function Sae(e,t,n,r,i){var a=16+p0(i.cellXfs,t,i);if(t.v==null&&!t.bf){tn(e,513,uf(n,r,a));return}if(t.bf)tn(e,6,Gne(t,n,r,i,a));else switch(t.t){case"d":case"n":var o=t.t=="d"?Lo(so(t.v)):t.v;tn(e,515,vee(n,r,o,a));break;case"b":case"e":tn(e,517,gee(n,r,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var c=z3(i.Strings,t.v,i.revStrings);tn(e,253,fee(n,r,c,a))}else tn(e,516,hee(n,r,(t.v||"").slice(0,255),a,i));break;default:tn(e,513,uf(n,r,a))}}function Cae(e,t,n){var r=To(),i=n.SheetNames[e],a=n.Sheets[i]||{},o=(n||{}).Workbook||{},c=(o.Sheets||[])[e]||{},u=Array.isArray(a),f=t.biff==8,p,g="",w=[],y=Di(a["!ref"]||"A1"),E=f?65536:16384;if(y.e.c>255||y.e.r>=E){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,E-1)}tn(r,2057,M3(n,16,t)),tn(r,13,xl(1)),tn(r,12,xl(100)),tn(r,15,to(!0)),tn(r,17,to(!1)),tn(r,16,cf(.001)),tn(r,95,to(!0)),tn(r,42,to(!1)),tn(r,43,to(!1)),tn(r,130,xl(1)),tn(r,128,xee([0,0])),tn(r,131,to(!1)),tn(r,132,to(!1)),f&&_ae(r,a["!cols"]),tn(r,512,mee(y,t)),f&&(a["!links"]=[]);for(var S=y.s.r;S<=y.e.r;++S){g=ys(S);for(var A=y.s.c;A<=y.e.c;++A){S===y.s.r&&(w[A]=Us(A)),p=w[A]+g;var j=u?(a[S]||[])[A]:a[p];j&&(Sae(r,j,S,A,t),f&&j.l&&a["!links"].push([p,j.l]))}}var k=c.CodeName||c.name||i;return f&&tn(r,574,uee((o.Views||[])[0])),f&&(a["!merges"]||[]).length&&tn(r,229,bee(a["!merges"])),f&&Nae(r,a),tn(r,442,KT(k)),f&&yae(r,a),tn(r,10),r.end()}function Eae(e,t,n){var r=To(),i=(e||{}).Workbook||{},a=i.Sheets||[],o=i.WBProps||{},c=n.biff==8,u=n.biff==5;if(tn(r,2057,M3(e,5,n)),n.bookType=="xla"&&tn(r,135),tn(r,225,c?xl(1200):null),tn(r,193,QJ(2)),u&&tn(r,191),u&&tn(r,192),tn(r,226),tn(r,92,see("SheetJS",n)),tn(r,66,xl(c?1200:1252)),c&&tn(r,353,xl(0)),c&&tn(r,448),tn(r,317,Aee(e.SheetNames.length)),c&&e.vbaraw&&tn(r,211),c&&e.vbaraw){var f=o.CodeName||"ThisWorkbook";tn(r,442,KT(f))}tn(r,156,xl(17)),tn(r,25,to(!1)),tn(r,18,to(!1)),tn(r,19,xl(0)),c&&tn(r,431,to(!1)),c&&tn(r,444,xl(0)),tn(r,61,cee()),tn(r,64,to(!1)),tn(r,141,xl(0)),tn(r,34,to(Lie(e)=="true")),tn(r,14,to(!0)),c&&tn(r,439,to(!1)),tn(r,218,xl(0)),vae(r,e,n),wae(r,e.SSF,n),bae(r,n),c&&tn(r,352,to(!1));var p=r.end(),g=To();c&&tn(g,140,See()),c&&n.Strings&&fae(g,252,lee(n.Strings)),tn(g,10);var w=g.end(),y=To(),E=0,S=0;for(S=0;S<e.SheetNames.length;++S)E+=(c?12:11)+(c?2:1)*e.SheetNames[S].length;var A=p.length+E+w.length;for(S=0;S<e.SheetNames.length;++S){var j=a[S]||{};tn(y,133,oee({pos:A,hs:j.Hidden||0,dt:0,name:e.SheetNames[S]},n)),A+=t[S].length}var k=y.end();if(E!=k.length)throw new Error("BS8 "+E+" != "+k.length);var D=[];return p.length&&D.push(p),k.length&&D.push(k),w.length&&D.push(w),gs(D)}function Aae(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=Io(da)),e&&e.SSF&&(Ev(),Cv(e.SSF),n.revssf=Av(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,W3(n),n.cellXfs=[],p0(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=Cae(i,n,e);return r.unshift(Eae(e,r,n)),gs(r)}function _L(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(!(!r||!r["!ref"])){var i=tl(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return Aae(e,t);case 4:case 3:case 2:return gae(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function jae(e,t,n,r){for(var i=e["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var c=0,u=0,f=0;f<i.length;++f)if(!(i[f].s.r>n||i[f].s.c>o)&&!(i[f].e.r<n||i[f].e.c<o)){if(i[f].s.r<n||i[f].s.c<o){c=-1;break}c=i[f].e.r-i[f].s.r+1,u=i[f].e.c-i[f].s.c+1;break}if(!(c<0)){var p=ii({r:n,c:o}),g=r.dense?(e[n]||[])[o]:e[p],w=g&&g.v!=null&&(g.h||aJ(g.w||(Gu(g),g.w)||""))||"",y={};c>1&&(y.rowspan=c),u>1&&(y.colspan=u),r.editable?w='<span contenteditable="true">'+w+"</span>":g&&(y["data-t"]=g&&g.t||"z",g.v!=null&&(y["data-v"]=g.v),g.z!=null&&(y["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(w='<a href="'+g.l.Target+'">'+w+"</a>")),y.id=(r.id||"sjs")+"-"+p,a.push(en("td",w,y))}}var E="<tr>";return E+a.join("")+"</tr>"}var kae='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Tae="</body></html>";function Lae(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function SL(e,t){var n=t||{},r=n.header!=null?n.header:kae,i=n.footer!=null?n.footer:Tae,a=[r],o=tl(e["!ref"]);n.dense=Array.isArray(e),a.push(Lae(e,o,n));for(var c=o.s.r;c<=o.e.r;++c)a.push(jae(e,o,c,n));return a.push("</table>"+i),a.join("")}function CL(e,t,n){var r=n||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?rs(r.origin):r.origin;i=o.r,a=o.c}var c=t.getElementsByTagName("tr"),u=Math.min(r.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var p=tl(e["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),i==-1&&(f.e.r=i=p.e.r+1)}var g=[],w=0,y=e["!rows"]||(e["!rows"]=[]),E=0,S=0,A=0,j=0,k=0,D=0;for(e["!cols"]||(e["!cols"]=[]);E<c.length&&S<u;++E){var P=c[E];if(hC(P)){if(r.display)continue;y[S]={hidden:!0}}var Y=P.children;for(A=j=0;A<Y.length;++A){var z=Y[A];if(!(r.display&&hC(z))){var R=z.hasAttribute("data-v")?z.getAttribute("data-v"):z.hasAttribute("v")?z.getAttribute("v"):cJ(z.innerHTML),B=z.getAttribute("data-z")||z.getAttribute("z");for(w=0;w<g.length;++w){var q=g[w];q.s.c==j+a&&q.s.r<S+i&&S+i<=q.e.r&&(j=q.e.c+1-a,w=-1)}D=+z.getAttribute("colspan")||1,((k=+z.getAttribute("rowspan")||1)>1||D>1)&&g.push({s:{r:S+i,c:j+a},e:{r:S+i+(k||1)-1,c:j+a+(D||1)-1}});var te={t:"s",v:R},H=z.getAttribute("data-t")||z.getAttribute("t")||"";R!=null&&(R.length==0?te.t=H||"z":r.raw||R.trim().length==0||H=="s"||(R==="TRUE"?te={t:"b",v:!0}:R==="FALSE"?te={t:"b",v:!1}:isNaN(Mu(R))?isNaN(Gp(R).getDate())||(te={t:"d",v:so(R)},r.cellDates||(te={t:"n",v:Lo(te.v)}),te.z=r.dateNF||da[14]):te={t:"n",v:Mu(R)})),te.z===void 0&&B!=null&&(te.z=B);var W="",J=z.getElementsByTagName("A");if(J&&J.length)for(var ue=0;ue<J.length&&!(J[ue].hasAttribute("href")&&(W=J[ue].getAttribute("href"),W.charAt(0)!="#"));++ue);W&&W.charAt(0)!="#"&&(te.l={Target:W}),r.dense?(e[S+i]||(e[S+i]=[]),e[S+i][j+a]=te):e[ii({c:j+a,r:S+i})]=te,f.e.c<j+a&&(f.e.c=j+a),j+=D}}++S}return g.length&&(e["!merges"]=(e["!merges"]||[]).concat(g)),f.e.r=Math.max(f.e.r,S-1+i),e["!ref"]=Oa(f),S>=u&&(e["!fullref"]=Oa((f.e.r=c.length-E+S-1+i,f))),e}function EL(e,t){var n=t||{},r=n.dense?[]:{};return CL(r,e,t)}function Iae(e,t){return gf(EL(e,t),t)}function hC(e){var t="",n=Dae(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Dae(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Oae=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Xp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ma+t}}(),pC=function(){var e=function(a){return ni(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(a,o,c){var u=[];u.push('      <table:table table:name="'+ni(o.SheetNames[c])+`" table:style-name="ta1">
`);var f=0,p=0,g=tl(a["!ref"]||"A1"),w=a["!merges"]||[],y=0,E=Array.isArray(a);if(a["!cols"])for(p=0;p<=g.e.c;++p)u.push("        <table:table-column"+(a["!cols"][p]?' table:style-name="co'+a["!cols"][p].ods+'"':"")+`></table:table-column>
`);var S="",A=a["!rows"]||[];for(f=0;f<g.s.r;++f)S=A[f]?' table:style-name="ro'+A[f].ods+'"':"",u.push("        <table:table-row"+S+`></table:table-row>
`);for(;f<=g.e.r;++f){for(S=A[f]?' table:style-name="ro'+A[f].ods+'"':"",u.push("        <table:table-row"+S+`>
`),p=0;p<g.s.c;++p)u.push(t);for(;p<=g.e.c;++p){var j=!1,k={},D="";for(y=0;y!=w.length;++y)if(!(w[y].s.c>p)&&!(w[y].s.r>f)&&!(w[y].e.c<p)&&!(w[y].e.r<f)){(w[y].s.c!=p||w[y].s.r!=f)&&(j=!0),k["table:number-columns-spanned"]=w[y].e.c-w[y].s.c+1,k["table:number-rows-spanned"]=w[y].e.r-w[y].s.r+1;break}if(j){u.push(n);continue}var P=ii({r:f,c:p}),Y=E?(a[f]||[])[p]:a[P];if(Y&&Y.f&&(k["table:formula"]=ni(ere(Y.f)),Y.F&&Y.F.slice(0,P.length)==P)){var z=tl(Y.F);k["table:number-matrix-columns-spanned"]=z.e.c-z.s.c+1,k["table:number-matrix-rows-spanned"]=z.e.r-z.s.r+1}if(!Y){u.push(t);continue}switch(Y.t){case"b":D=Y.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=Y.v?"true":"false";break;case"n":D=Y.w||String(Y.v||0),k["office:value-type"]="float",k["office:value"]=Y.v||0;break;case"s":case"str":D=Y.v==null?"":Y.v,k["office:value-type"]="string";break;case"d":D=Y.w||so(Y.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=so(Y.v).toISOString(),k["table:style-name"]="ce1";break;default:u.push(t);continue}var R=e(D);if(Y.l&&Y.l.Target){var B=Y.l.Target;B=B.charAt(0)=="#"?"#"+tre(B.slice(1)):B,B.charAt(0)!="#"&&!B.match(/^\w+:/)&&(B="../"+B),R=en("text:a",R,{"xlink:href":B.replace(/&/g,"&amp;")})}u.push("          "+en("table:table-cell",en("text:p",R,{}),k)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},i=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var c=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var p=0;p<f["!cols"].length;++p)if(f["!cols"][p]){var g=f["!cols"][p];if(g.width==null&&g.wpx==null&&g.wch==null)continue;P3(g),g.ods=c;var w=f["!cols"][p].wpx+"px";a.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+w+`"/>
`),a.push(`  </style:style>
`),++c}}});var u=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var p=0;p<f["!rows"].length;++p)if(f["!rows"][p]){f["!rows"][p].ods=u;var g=f["!rows"][p].hpx+"px";a.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),a.push(`  </style:style>
`),++u}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,c){var u=[Ma],f=Xp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=Xp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(u.push("<office:document"+f+p+`>
`),u.push(zT().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),i(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var g=0;g!=o.SheetNames.length;++g)u.push(r(o.Sheets[o.SheetNames[g]],o,g));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),c.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function AL(e,t){if(t.bookType=="fods")return pC(e,t);var n=E3(),r="",i=[],a=[];return r="mimetype",fr(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",fr(n,r,pC(e,t)),i.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",fr(n,r,Oae(e,t)),i.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",fr(n,r,Ma+zT()),i.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",fr(n,r,$J(a)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",fr(n,r,HJ(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function jg(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Rae(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):tc(ju(e))}function Mae(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}function o0(e){var t=e.reduce(function(i,a){return i+a.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(i){n.set(i,r),r+=i.length}),n}function Pae(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=i&255;e[t+15]|=n>=0?0:128}function Kp(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function Zr(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function Lh(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function $a(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],i=Kp(e,n),a=i&7;i=Math.floor(i/8);var o=0,c;if(i==0)break;switch(a){case 0:{for(var u=n[0];e[n[0]++]>=128;);c=e.slice(u,n[0])}break;case 5:o=4,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Kp(e,n),c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var f={data:c,type:a};t[i]==null?t[i]=[f]:t[i].push(f)}return t}function ps(e){var t=[];return e.forEach(function(n,r){n.forEach(function(i){i.data&&(t.push(Zr(r*8+i.type)),i.type==2&&t.push(Zr(i.data.length)),t.push(i.data))})}),o0(t)}function Gl(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=Kp(e,r),a=$a(e.slice(r[0],r[0]+i));r[0]+=i;var o={id:Lh(a[1][0].data),messages:[]};a[2].forEach(function(c){var u=$a(c.data),f=Lh(u[3][0].data);o.messages.push({meta:u,data:e.slice(r[0],r[0]+f)}),r[0]+=f}),(t=a[3])!=null&&t[0]&&(o.merge=Lh(a[3][0].data)>>>0>0),n.push(o)}return n}function Vf(e){var t=[];return e.forEach(function(n){var r=[];r[1]=[{data:Zr(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Zr(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Zr(o.data.length)}],r[2].push({data:ps(o.meta),type:2})});var a=ps(r);t.push(Zr(a.length)),t.push(a),i.forEach(function(o){return t.push(o)})}),o0(t)}function Fae(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Kp(t,n),i=[];n[0]<t.length;){var a=t[n[0]]&3;if(a==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var c=o-59;o=t[n[0]],c>1&&(o|=t[n[0]+1]<<8),c>2&&(o|=t[n[0]+2]<<16),c>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=c}i.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var u=0,f=0;if(a==1?(f=(t[n[0]]>>2&7)+4,u=(t[n[0]++]&224)<<3,u|=t[n[0]++]):(f=(t[n[0]++]>>2)+1,a==2?(u=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(u=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[o0(i)],u==0)throw new Error("Invalid offset 0");if(u>i[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(i.push(i[0].slice(-u)),f-=u;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-u,-u+f))}}var p=o0(i);if(p.length!=r)throw new Error("Unexpected length: ".concat(p.length," != ").concat(r));return p}function Xl(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(Fae(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return o0(t)}function $f(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var a=Zr(r),o=a.length;t.push(a),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,n+=r}return o0(t)}function Iy(e,t){var n=new Uint8Array(32),r=jg(n),i=12,a=0;switch(n[0]=5,e.t){case"n":n[1]=2,Pae(n,i,e.v),a|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,a,!0),n.slice(0,i)}function Dy(e,t){var n=new Uint8Array(32),r=jg(n),i=12,a=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,a,!0),n.slice(0,i)}function Ad(e){var t=$a(e);return Kp(t[1][0].data)}function Bae(e,t,n){var r,i,a,o;if(!((r=e[6])!=null&&r[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((o=(a=e[8])==null?void 0:a[0])==null?void 0:o.data)&&Lh(e[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var u=0,f=jg(e[7][0].data),p=0,g=[],w=jg(e[4][0].data),y=0,E=[],S=0;S<t.length;++S){if(t[S]==null){f.setUint16(S*2,65535,!0),w.setUint16(S*2,65535);continue}f.setUint16(S*2,p,!0),w.setUint16(S*2,y,!0);var A,j;switch(typeof t[S]){case"string":A=Iy({t:"s",v:t[S]},n),j=Dy({t:"s",v:t[S]},n);break;case"number":A=Iy({t:"n",v:t[S]},n),j=Dy({t:"n",v:t[S]},n);break;case"boolean":A=Iy({t:"b",v:t[S]},n),j=Dy({t:"b",v:t[S]},n);break;default:throw new Error("Unsupported value "+t[S])}g.push(A),p+=A.length,E.push(j),y+=j.length,++u}for(e[2][0].data=Zr(u);S<e[7][0].data.length/2;++S)f.setUint16(S*2,65535,!0),w.setUint16(S*2,65535,!0);return e[6][0].data=o0(g),e[3][0].data=o0(E),u}function Uae(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=tl(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Oa(r)));var a=kg(n,{range:r,header:1}),o=["~Sh33tJ5~"];a.forEach(function(Z){return Z.forEach(function(Q){typeof Q=="string"&&o.push(Q)})});var c={},u=[],f=mi.read(t.numbers,{type:"base64"});f.FileIndex.map(function(Z,Q){return[Z,f.FullPaths[Q]]}).forEach(function(Z){var Q=Z[0],ne=Z[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var ce=Q.content,be=Xl(ce),Fe=Gl(be);Fe.forEach(function(ze){u.push(ze.id),c[ze.id]={deps:[],location:ne,type:Lh(ze.messages[0].meta[1][0].data)}})}}),u.sort(function(Z,Q){return Z-Q});var p=u.filter(function(Z){return Z>1}).map(function(Z){return[Z,Zr(Z)]});f.FileIndex.map(function(Z,Q){return[Z,f.FullPaths[Q]]}).forEach(function(Z){var Q=Z[0];if(Z[1],!!Q.name.match(/\.iwa/)){var ne=Gl(Xl(Q.content));ne.forEach(function(ce){ce.messages.forEach(function(be){p.forEach(function(Fe){ce.messages.some(function(ze){return Lh(ze.meta[1][0].data)!=11006&&Mae(ze.data,Fe[1])})&&c[Fe[0]].deps.push(ce.id)})})})}});for(var g=mi.find(f,c[1].location),w=Gl(Xl(g.content)),y,E=0;E<w.length;++E){var S=w[E];S.id==1&&(y=S)}var A=Ad($a(y.messages[0].data)[1][0].data);for(g=mi.find(f,c[A].location),w=Gl(Xl(g.content)),E=0;E<w.length;++E)S=w[E],S.id==A&&(y=S);for(A=Ad($a(y.messages[0].data)[2][0].data),g=mi.find(f,c[A].location),w=Gl(Xl(g.content)),E=0;E<w.length;++E)S=w[E],S.id==A&&(y=S);for(A=Ad($a(y.messages[0].data)[2][0].data),g=mi.find(f,c[A].location),w=Gl(Xl(g.content)),E=0;E<w.length;++E)S=w[E],S.id==A&&(y=S);var j=$a(y.messages[0].data);{j[6][0].data=Zr(r.e.r+1),j[7][0].data=Zr(r.e.c+1);var k=Ad(j[46][0].data),D=mi.find(f,c[k].location),P=Gl(Xl(D.content));{for(var Y=0;Y<P.length&&P[Y].id!=k;++Y);if(P[Y].id!=k)throw"Bad ColumnRowUIDMapArchive";var z=$a(P[Y].messages[0].data);z[1]=[],z[2]=[],z[3]=[];for(var R=0;R<=r.e.c;++R){var B=[];B[1]=B[2]=[{type:0,data:Zr(R+420690)}],z[1].push({type:2,data:ps(B)}),z[2].push({type:0,data:Zr(R)}),z[3].push({type:0,data:Zr(R)})}z[4]=[],z[5]=[],z[6]=[];for(var q=0;q<=r.e.r;++q)B=[],B[1]=B[2]=[{type:0,data:Zr(q+726270)}],z[4].push({type:2,data:ps(B)}),z[5].push({type:0,data:Zr(q)}),z[6].push({type:0,data:Zr(q)});P[Y].messages[0].data=ps(z)}D.content=$f(Vf(P)),D.size=D.content.length,delete j[46];var te=$a(j[4][0].data);{te[7][0].data=Zr(r.e.r+1);var H=$a(te[1][0].data),W=Ad(H[2][0].data);D=mi.find(f,c[W].location),P=Gl(Xl(D.content));{if(P[0].id!=W)throw"Bad HeaderStorageBucket";var J=$a(P[0].messages[0].data);for(q=0;q<a.length;++q){var ue=$a(J[2][0].data);ue[1][0].data=Zr(q),ue[4][0].data=Zr(a[q].length),J[2][q]={type:J[2][0].type,data:ps(ue)}}P[0].messages[0].data=ps(J)}D.content=$f(Vf(P)),D.size=D.content.length;var se=Ad(te[2][0].data);D=mi.find(f,c[se].location),P=Gl(Xl(D.content));{if(P[0].id!=se)throw"Bad HeaderStorageBucket";for(J=$a(P[0].messages[0].data),R=0;R<=r.e.c;++R)ue=$a(J[2][0].data),ue[1][0].data=Zr(R),ue[4][0].data=Zr(r.e.r+1),J[2][R]={type:J[2][0].type,data:ps(ue)};P[0].messages[0].data=ps(J)}D.content=$f(Vf(P)),D.size=D.content.length;var ee=Ad(te[4][0].data);(function(){for(var Z=mi.find(f,c[ee].location),Q=Gl(Xl(Z.content)),ne,ce=0;ce<Q.length;++ce){var be=Q[ce];be.id==ee&&(ne=be)}var Fe=$a(ne.messages[0].data);{Fe[3]=[];var ze=[];o.forEach(function(bt,Ye){ze[1]=[{type:0,data:Zr(Ye)}],ze[2]=[{type:0,data:Zr(1)}],ze[3]=[{type:2,data:Rae(bt)}],Fe[3].push({type:2,data:ps(ze)})})}ne.messages[0].data=ps(Fe);var Ze=Vf(Q),pt=$f(Ze);Z.content=pt,Z.size=Z.content.length})();var Ae=$a(te[3][0].data);{var ge=Ae[1][0];delete Ae[2];var Be=$a(ge.data);{var _e=Ad(Be[2][0].data);(function(){for(var Z=mi.find(f,c[_e].location),Q=Gl(Xl(Z.content)),ne,ce=0;ce<Q.length;++ce){var be=Q[ce];be.id==_e&&(ne=be)}var Fe=$a(ne.messages[0].data);{delete Fe[6],delete Ae[7];var ze=new Uint8Array(Fe[5][0].data);Fe[5]=[];for(var Ze=0,pt=0;pt<=r.e.r;++pt){var bt=$a(ze);Ze+=Bae(bt,a[pt],o),bt[1][0].data=Zr(pt),Fe[5].push({data:ps(bt),type:2})}Fe[1]=[{type:0,data:Zr(r.e.c+1)}],Fe[2]=[{type:0,data:Zr(r.e.r+1)}],Fe[3]=[{type:0,data:Zr(Ze)}],Fe[4]=[{type:0,data:Zr(r.e.r+1)}]}ne.messages[0].data=ps(Fe);var Ye=Vf(Q),yt=$f(Ye);Z.content=yt,Z.size=Z.content.length})()}ge.data=ps(Be)}te[3][0].data=ps(Ae)}j[4][0].data=ps(te)}y.messages[0].data=ps(j);var ct=Vf(w),U=$f(ct);return g.content=U,g.size=g.content.length,f}function zae(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function W3(e){zae([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Wae(e,t){return t.bookType=="ods"?AL(e,t):t.bookType=="numbers"?Uae(e,t):t.bookType=="xlsb"?qae(e,t):Hae(e,t)}function qae(e,t){ph=1024,e&&!e.SSF&&(e.SSF=Io(da)),e&&e.SSF&&(Ev(),Cv(e.SSF),t.revssf=Av(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,xp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",r=cL.indexOf(t.bookType)>-1,i=FT();W3(t=t||{});var a=E3(),o="",c=0;if(t.cellXfs=[],p0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",fr(a,o,WT(e.Props,t)),i.coreprops.push(o),ei(t.rels,2,o,Ur.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,fr(a,o,HT(e.Props)),i.extprops.push(o),ei(t.rels,3,o,Ur.EXT_PROPS),e.Custprops!==e.Props&&Ns(e.Custprops||{}).length>0&&(o="docProps/custom.xml",fr(a,o,VT(e.Custprops)),i.custprops.push(o),ei(t.rels,4,o,Ur.CUST_PROPS)),c=1;c<=e.SheetNames.length;++c){var p={"!id":{}},g=e.Sheets[e.SheetNames[c-1]],w=(g||{})["!type"]||"sheet";switch(w){case"chart":default:o="xl/worksheets/sheet"+c+"."+n,fr(a,o,$ie(c-1,o,t,e,p)),i.sheets.push(o),ei(t.wbrels,-1,"worksheets/sheet"+c+"."+n,Ur.WS[0])}if(g){var y=g["!comments"],E=!1,S="";y&&y.length>0&&(S="xl/comments"+c+"."+n,fr(a,S,Xie(y,S)),i.comments.push(S),ei(p,-1,"../comments"+c+"."+n,Ur.CMNT),E=!0),g["!legacy"]&&E&&fr(a,"xl/drawings/vmlDrawing"+c+".vml",oL(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&fr(a,UT(o),kh(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,fr(a,o,Gie(t.Strings,o,t)),i.strs.push(o),ei(t.wbrels,-1,"sharedStrings."+n,Ur.SST)),o="xl/workbook."+n,fr(a,o,Vie(e,o)),i.workbooks.push(o),ei(t.rels,1,o,Ur.WB),o="xl/theme/theme1.xml",fr(a,o,aL(e.Themes,t)),i.themes.push(o),ei(t.wbrels,-1,"theme/theme1.xml",Ur.THEME),o="xl/styles."+n,fr(a,o,Yie(e,o,t)),i.styles.push(o),ei(t.wbrels,-1,"styles."+n,Ur.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",fr(a,o,e.vbaraw),i.vba.push(o),ei(t.wbrels,-1,"vbaProject.bin",Ur.VBA)),o="xl/metadata."+n,fr(a,o,Kie(o)),i.metadata.push(o),ei(t.wbrels,-1,"metadata."+n,Ur.XLMETA),fr(a,"[Content_Types].xml",BT(i,t)),fr(a,"_rels/.rels",kh(t.rels)),fr(a,"xl/_rels/workbook."+n+".rels",kh(t.wbrels)),delete t.revssf,delete t.ssf,a}function Hae(e,t){ph=1024,e&&!e.SSF&&(e.SSF=Io(da)),e&&e.SSF&&(Ev(),Cv(e.SSF),t.revssf=Av(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,xp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=cL.indexOf(t.bookType)>-1,i=FT();W3(t=t||{});var a=E3(),o="",c=0;if(t.cellXfs=[],p0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",fr(a,o,WT(e.Props,t)),i.coreprops.push(o),ei(t.rels,2,o,Ur.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,fr(a,o,HT(e.Props)),i.extprops.push(o),ei(t.rels,3,o,Ur.EXT_PROPS),e.Custprops!==e.Props&&Ns(e.Custprops||{}).length>0&&(o="docProps/custom.xml",fr(a,o,VT(e.Custprops)),i.custprops.push(o),ei(t.rels,4,o,Ur.CUST_PROPS));var p=["SheetJ5"];for(t.tcid=0,c=1;c<=e.SheetNames.length;++c){var g={"!id":{}},w=e.Sheets[e.SheetNames[c-1]],y=(w||{})["!type"]||"sheet";switch(y){case"chart":default:o="xl/worksheets/sheet"+c+"."+n,fr(a,o,vL(c-1,t,e,g)),i.sheets.push(o),ei(t.wbrels,-1,"worksheets/sheet"+c+"."+n,Ur.WS[0])}if(w){var E=w["!comments"],S=!1,A="";if(E&&E.length>0){var j=!1;E.forEach(function(k){k[1].forEach(function(D){D.T==!0&&(j=!0)})}),j&&(A="xl/threadedComments/threadedComment"+c+"."+n,fr(a,A,bte(E,p,t)),i.threadedcomments.push(A),ei(g,-1,"../threadedComments/threadedComment"+c+"."+n,Ur.TCMNT)),A="xl/comments"+c+"."+n,fr(a,A,lL(E)),i.comments.push(A),ei(g,-1,"../comments"+c+"."+n,Ur.CMNT),S=!0}w["!legacy"]&&S&&fr(a,"xl/drawings/vmlDrawing"+c+".vml",oL(c,w["!comments"])),delete w["!comments"],delete w["!legacy"]}g["!id"].rId1&&fr(a,UT(o),kh(g))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,fr(a,o,JT(t.Strings,t)),i.strs.push(o),ei(t.wbrels,-1,"sharedStrings."+n,Ur.SST)),o="xl/workbook."+n,fr(a,o,bL(e)),i.workbooks.push(o),ei(t.rels,1,o,Ur.WB),o="xl/theme/theme1.xml",fr(a,o,aL(e.Themes,t)),i.themes.push(o),ei(t.wbrels,-1,"theme/theme1.xml",Ur.THEME),o="xl/styles."+n,fr(a,o,rL(e,t)),i.styles.push(o),ei(t.wbrels,-1,"styles."+n,Ur.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",fr(a,o,e.vbaraw),i.vba.push(o),ei(t.wbrels,-1,"vbaProject.bin",Ur.VBA)),o="xl/metadata."+n,fr(a,o,sL()),i.metadata.push(o),ei(t.wbrels,-1,"metadata."+n,Ur.XLMETA),p.length>1&&(o="xl/persons/person.xml",fr(a,o,Nte(p)),i.people.push(o),ei(t.wbrels,-1,"persons/person.xml",Ur.PEOPLE)),fr(a,"[Content_Types].xml",BT(i,t)),fr(a,"_rels/.rels",kh(t.rels)),fr(a,"xl/_rels/workbook."+n+".rels",kh(t.wbrels)),delete t.revssf,delete t.ssf,a}function Vae(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Yu(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function jL(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return pm(t.file,mi.write(e,{type:Hr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return mi.write(e,t)}function $ae(e,t){var n=Io(t||{}),r=Wae(e,n);return Yae(r,n)}function Yae(e,t){var n={},r=Hr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?mi.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(Sv(i))}return t.password&&typeof encrypt_agile<"u"?jL(encrypt_agile(i,t.password),t):t.type==="file"?pm(t.file,i):t.type=="string"?fp(i):i}function Gae(e,t){var n=t||{},r=uae(e,n);return jL(r,n)}function Mc(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return Yp(ju(r));case"binary":return ju(r);case"string":return e;case"file":return pm(t.file,r,"utf8");case"buffer":return Hr?Zu(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Mc(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Xae(e,t){switch(t.type){case"base64":return Yp(e);case"binary":return e;case"string":return e;case"file":return pm(t.file,e,"binary");case"buffer":return Hr?Zu(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Px(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type=="base64"?Yp(n):t.type=="string"?fp(n):n;case"file":return pm(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function kL(e,t){NZ(),Oie(e);var n=Io(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=kL(e,n);return n.type="array",Sv(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Mc(lae(e,n),n);case"slk":case"sylk":return Mc(Lee.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"htm":case"html":return Mc(SL(e.Sheets[e.SheetNames[i]],n),n);case"txt":return Xae(TL(e.Sheets[e.SheetNames[i]],n),n);case"csv":return Mc(q3(e.Sheets[e.SheetNames[i]],n),n,"\uFEFF");case"dif":return Mc(Iee.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return Px(Tee.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return Mc(Dee.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return Mc(Uee.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"eth":return Mc(ZT.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return Mc(AL(e,n),n);case"wk1":return Px(oC.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return Px(oC.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Px(_L(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),Gae(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return $ae(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function Kae(e,t,n,r,i,a,o,c){var u=ys(n),f=c.defval,p=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,w=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(w,"__rowNum__",{value:n,enumerable:!1})}catch{w.__rowNum__=n}else w.__rowNum__=n;if(!o||e[n])for(var y=t.s.c;y<=t.e.c;++y){var E=o?e[n][y]:e[r[y]+u];if(E===void 0||E.t===void 0){if(f===void 0)continue;a[y]!=null&&(w[a[y]]=f);continue}var S=E.v;switch(E.t){case"z":if(S==null)break;continue;case"e":S=S==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+E.t)}if(a[y]!=null){if(S==null)if(E.t=="e"&&S===null)w[a[y]]=null;else if(f!==void 0)w[a[y]]=f;else if(p&&S===null)w[a[y]]=null;else continue;else w[a[y]]=p&&(E.t!=="n"||E.t==="n"&&c.rawNumbers!==!1)?S:Gu(E,S,c);S!=null&&(g=!1)}}return{row:w,isempty:g}}function kg(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,a=[],o=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},p=f.range!=null?f.range:e["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof p){case"string":u=Di(p);break;case"number":u=Di(e["!ref"]),u.s.r=p;break;default:u=p}r>0&&(i=0);var g=ys(u.s.r),w=[],y=[],E=0,S=0,A=Array.isArray(e),j=u.s.r,k=0,D={};A&&!e[j]&&(e[j]=[]);var P=f.skipHidden&&e["!cols"]||[],Y=f.skipHidden&&e["!rows"]||[];for(k=u.s.c;k<=u.e.c;++k)if(!(P[k]||{}).hidden)switch(w[k]=Us(k),n=A?e[j][k]:e[w[k]+g],r){case 1:a[k]=k-u.s.c;break;case 2:a[k]=w[k];break;case 3:a[k]=f.header[k-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=Gu(n,null,f),S=D[o]||0,!S)D[o]=1;else{do c=o+"_"+S++;while(D[c]);D[o]=S,D[c]=1}a[k]=c}for(j=u.s.r+i;j<=u.e.r;++j)if(!(Y[j]||{}).hidden){var z=Kae(e,u,j,w,r,a,A,f);(z.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(y[E++]=z.row)}return y.length=E,y}var mC=/"/g;function Qae(e,t,n,r,i,a,o,c){for(var u=!0,f=[],p="",g=ys(n),w=t.s.c;w<=t.e.c;++w)if(r[w]){var y=c.dense?(e[n]||[])[w]:e[r[w]+g];if(y==null)p="";else if(y.v!=null){u=!1,p=""+(c.rawNumbers&&y.t=="n"?y.v:Gu(y,null,c));for(var E=0,S=0;E!==p.length;++E)if((S=p.charCodeAt(E))===i||S===a||S===34||c.forceQuotes){p='"'+p.replace(mC,'""')+'"';break}p=="ID"&&(p='"ID"')}else y.f!=null&&!y.F?(u=!1,p="="+y.f,p.indexOf(",")>=0&&(p='"'+p.replace(mC,'""')+'"')):p="";f.push(p)}return c.blankrows===!1&&u?null:f.join(o)}function q3(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var i=Di(e["!ref"]),a=r.FS!==void 0?r.FS:",",o=a.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,u=c.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),p="",g=[];r.dense=Array.isArray(e);for(var w=r.skipHidden&&e["!cols"]||[],y=r.skipHidden&&e["!rows"]||[],E=i.s.c;E<=i.e.c;++E)(w[E]||{}).hidden||(g[E]=Us(E));for(var S=0,A=i.s.r;A<=i.e.r;++A)(y[A]||{}).hidden||(p=Qae(e,i,A,g,o,u,a,r),p!=null&&(r.strip&&(p=p.replace(f,"")),(p||r.blankrows!==!1)&&n.push((S++?c:"")+p)));return delete r.dense,n.join("")}function TL(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=q3(e,t);return n}function Zae(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var i=Di(e["!ref"]),a="",o=[],c,u=[],f=Array.isArray(e);for(c=i.s.c;c<=i.e.c;++c)o[c]=Us(c);for(var p=i.s.r;p<=i.e.r;++p)for(a=ys(p),c=i.s.c;c<=i.e.c;++c)if(t=o[c]+a,n=f?(e[p]||[])[c]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}u[u.length]=t+"="+r}return u}function LL(e,t,n){var r=n||{},i=+!r.skipHeader,a=e||{},o=0,c=0;if(a&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?rs(r.origin):r.origin;o=u.r,c=u.c}var f,p={s:{c:0,r:0},e:{c,r:o+t.length-1+i}};if(a["!ref"]){var g=Di(a["!ref"]);p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),o==-1&&(o=g.e.r+1,p.e.r=o+t.length-1+i)}else o==-1&&(o=0,p.e.r=t.length-1+i);var w=r.header||[],y=0;t.forEach(function(S,A){Ns(S).forEach(function(j){(y=w.indexOf(j))==-1&&(w[y=w.length]=j);var k=S[j],D="z",P="",Y=ii({c:c+y,r:o+A+i});f=Qp(a,Y),k&&typeof k=="object"&&!(k instanceof Date)?a[Y]=k:(typeof k=="number"?D="n":typeof k=="boolean"?D="b":typeof k=="string"?D="s":k instanceof Date?(D="d",r.cellDates||(D="n",k=Lo(k)),P=r.dateNF||da[14]):k===null&&r.nullError&&(D="e",k=0),f?(f.t=D,f.v=k,delete f.w,delete f.R,P&&(f.z=P)):a[Y]=f={t:D,v:k},P&&(f.z=P))})}),p.e.c=Math.max(p.e.c,c+w.length-1);var E=ys(o);if(i)for(y=0;y<w.length;++y)a[Us(y+c)+E]={t:"s",v:w[y]};return a["!ref"]=Oa(p),a}function Jae(e,t){return LL(null,e,t)}function Qp(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=rs(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Qp(e,ii(t)):Qp(e,ii({r:t,c:n||0}))}function ese(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function tse(){return{SheetNames:[],Sheets:{}}}function nse(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=o+i)!=-1;++i);}if(yL(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function rse(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=ese(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function ise(e,t){return e.z=t,e}function IL(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function ase(e,t,n){return IL(e,"#"+t,n)}function sse(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function ose(e,t,n,r){for(var i=typeof t!="string"?t:Di(t),a=typeof t=="string"?t:Oa(t),o=i.s.r;o<=i.e.r;++o)for(var c=i.s.c;c<=i.e.c;++c){var u=Qp(e,o,c);u.t="n",u.F=a,delete u.v,o==i.s.r&&c==i.s.c&&(u.f=n,r&&(u.D=!0))}return e}var Oy={encode_col:Us,encode_row:ys,encode_cell:ii,encode_range:Oa,decode_col:I3,decode_row:L3,split_cell:_J,decode_cell:rs,decode_range:tl,format_cell:Gu,sheet_add_aoa:IT,sheet_add_json:LL,sheet_add_dom:CL,aoa_to_sheet:d1,json_to_sheet:Jae,table_to_sheet:EL,table_to_book:Iae,sheet_to_csv:q3,sheet_to_txt:TL,sheet_to_json:kg,sheet_to_html:SL,sheet_to_formulae:Zae,sheet_to_row_object_array:kg,sheet_get_cell:Qp,book_new:tse,book_append_sheet:nse,book_set_sheet_visibility:rse,cell_set_number_format:ise,cell_set_hyperlink:IL,cell_set_internal_link:ase,cell_add_comment:sse,sheet_set_array_formula:ose,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},DL={exports:{}};(function(e,t){(function(n,r){r()})(no,function(){function n(f,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function r(f,p,g){var w=new XMLHttpRequest;w.open("GET",f),w.responseType="blob",w.onload=function(){u(w.response,p,g)},w.onerror=function(){console.error("could not download file")},w.send()}function i(f){var p=new XMLHttpRequest;p.open("HEAD",f,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function a(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(p)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof no=="object"&&no.global===no?no:void 0,c=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(f,p,g){var w=o.URL||o.webkitURL,y=document.createElement("a");p=p||f.name||"download",y.download=p,y.rel="noopener",typeof f=="string"?(y.href=f,y.origin===location.origin?a(y):i(y.href)?r(f,p,g):a(y,y.target="_blank")):(y.href=w.createObjectURL(f),setTimeout(function(){w.revokeObjectURL(y.href)},4e4),setTimeout(function(){a(y)},0))}:"msSaveOrOpenBlob"in navigator?function(f,p,g){if(p=p||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(n(f,g),p);else if(i(f))r(f,p,g);else{var w=document.createElement("a");w.href=f,w.target="_blank",setTimeout(function(){a(w)})}}:function(f,p,g,w){if(w=w||open("","_blank"),w&&(w.document.title=w.document.body.innerText="downloading..."),typeof f=="string")return r(f,p,g);var y=f.type==="application/octet-stream",E=/constructor/i.test(o.HTMLElement)||o.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||y&&E||c)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var D=A.result;D=S?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),w?w.location.href=D:location=D,w=null},A.readAsDataURL(f)}else{var j=o.URL||o.webkitURL,k=j.createObjectURL(f);w?w.location=k:location.href=k,w=null,setTimeout(function(){j.revokeObjectURL(k)},4e4)}});o.saveAs=u.saveAs=u,e.exports=u})})(DL);var lse=DL.exports;const Yf=210,Fx=297,cse=(e,t,n={})=>{const{includeImages:r=!1,includeNotes:i=!0,includeQuantities:a=!0,includeStatus:o=!0,orientation:c="portrait"}=n,u=new Hn({orientation:c,unit:"mm",format:"a4"}),f=[59,130,246],p=[71,85,105],g=[15,23,42];u.setFillColor(...f),u.rect(0,0,Yf,25,"F"),u.setTextColor(255,255,255),u.setFontSize(20),u.setFont("helvetica","bold"),u.text("EQUIPMENT LIST",15,16),u.setTextColor(...g),u.setFontSize(12),u.setFont("helvetica","normal");let w=35;const y=15,E=110;u.setFont("helvetica","bold"),u.text("Show:",y,w),u.setFont("helvetica","normal"),u.text(e.name||"Untitled Show",y+20,w),e.date&&(u.setFont("helvetica","bold"),u.text("Date:",E,w),u.setFont("helvetica","normal"),u.text(new Date(e.date).toLocaleDateString(),E+20,w)),w+=8,e.venue&&(u.setFont("helvetica","bold"),u.text("Venue:",y,w),u.setFont("helvetica","normal"),u.text(e.venue,y+20,w)),e.status&&(u.setFont("helvetica","bold"),u.text("Status:",E,w),u.setFont("helvetica","normal"),u.text(e.status.charAt(0).toUpperCase()+e.status.slice(1),E+20,w)),w+=8,u.setFont("helvetica","bold"),u.text("Generated:",y,w),u.setFont("helvetica","normal"),u.text(new Date().toLocaleString(),y+25,w),u.setFont("helvetica","bold"),u.text("Total Items:",E,w),u.setFont("helvetica","normal"),u.text(t.length.toString(),E+25,w),w+=15;const S=["Item","Brand + Model","Serial Number"];a&&S.push("Qty"),o&&S.push("Status"),i&&S.push("Notes");const A=t.map((D,P)=>{const Y=D.equipment||D,z=Y.type||Y.name||D.equipment_type||"Unknown",R=Y.brand||D.equipment_brand||"",B=Y.model||D.equipment_model||"",q=Y.serial_number||D.equipment_serial_number||"N/A";let te="";R&&B?te=`${R} ${B}`:R?te=R:B?te=B:te="Not specified";const H=[`${P+1}. ${z}`,te,q];return a&&H.push((D.quantity_allocated||0).toString()),o&&H.push((D.status||"Unknown").charAt(0).toUpperCase()+(D.status||"unknown").slice(1)),i&&H.push(D.notes||""),H});u.setFillColor(...f),u.rect(15,w,Yf-30,8,"F"),u.setTextColor(255,255,255),u.setFontSize(10),u.setFont("helvetica","bold");let j=20;S.forEach((D,P)=>{u.text(D,j,w+6),j+=c==="landscape"?50:35}),w+=10,u.setTextColor(...g),u.setFontSize(9),u.setFont("helvetica","normal"),A.forEach((D,P)=>{if(w>Fx-30){u.addPage(),w=20,u.setFillColor(...f),u.rect(15,w,Yf-30,8,"F"),u.setTextColor(255,255,255),u.setFontSize(10),u.setFont("helvetica","bold");let Y=20;S.forEach((z,R)=>{u.text(z,Y,w+6),Y+=c==="landscape"?50:35}),w+=10,u.setTextColor(...g),u.setFontSize(9),u.setFont("helvetica","normal")}P%2===0&&(u.setFillColor(248,250,252),u.rect(15,w-2,Yf-30,8,"F")),j=20,D.forEach((Y,z)=>{const R=String(Y||"").substring(0,30);u.text(R,j,w+4),j+=c==="landscape"?50:35}),w+=8});const k=u.internal.getNumberOfPages();for(let D=1;D<=k;D++)u.setPage(D),u.setFontSize(8),u.setTextColor(...p),u.text(`Page ${D} of ${k}`,Yf-30,Fx-10),u.text("Theater Equipment Catalog",15,Fx-10);if(w<Fx-50){w+=15,u.setDrawColor(...f),u.setLineWidth(.5),u.rect(15,w,Yf-30,25),u.setFontSize(12),u.setFont("helvetica","bold"),u.setTextColor(...f),u.text("SUMMARY",20,w+8),u.setFontSize(10),u.setFont("helvetica","normal"),u.setTextColor(...g);const D=t.reduce((z,R)=>z+(parseInt(R.quantity_allocated)||0),0),P=t.filter(z=>(parseInt(z.quantity_allocated)||0)>0).length,Y=t.filter(z=>(parseInt(z.quantity_needed)||0)>(parseInt(z.quantity_allocated)||0)).length;u.text(`Total Equipment Types: ${t.length}`,20,w+16),u.text(`Items Allocated: ${P}`,20,w+22),u.text(`Total Quantity Allocated: ${D}`,110,w+16),u.text(`Missing Items: ${Y}`,110,w+22)}return u},use=(e,t,n={})=>{const{includeNotes:r=!0,includeQuantities:i=!0,includeStatus:a=!0,includeDetails:o=!0}=n,c=Oy.book_new(),u=[],f=["","","#","Type","Brand + Model","Serial Number"];i&&f.push("Qty Needed","Qty Allocated","Missing"),a&&f.push("Status"),o&&f.push("Location","Category"),r&&f.push("Notes"),u.push(f),u.push(["SHOW INFORMATION"]),u.push(["Show Name:",e.name||"Untitled Show"]),u.push(["Date:",e.date?new Date(e.date).toLocaleDateString():"Not specified"]),u.push(["Venue:",e.venue||"Not specified"]),u.push(["Status:",e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"Unknown"]),u.push(["Generated:",new Date().toLocaleString()]),u.push(["Total Items:",t.length]),u.push([]),t.forEach((w,y)=>{const E=w.equipment||w,S=E.type||E.name||w.equipment_type||"Unknown",A=E.brand||w.equipment_brand||"",j=E.model||w.equipment_model||"",k=E.serial_number||w.equipment_serial_number||"N/A",D=E.location||w.equipment_location||"Not specified",P=E.category||w.equipment_category||"Not specified";let Y="";A&&j?Y=`${A} ${j}`:A?Y=A:j?Y=j:Y="Not specified";const z=["","",y+1,S,Y,k];if(i){const R=parseInt(w.quantity_needed)||0,B=parseInt(w.quantity_allocated)||0,q=Math.max(0,R-B);z.push(R,B,q)}a&&z.push((w.status||"Unknown").charAt(0).toUpperCase()+(w.status||"unknown").slice(1)),o&&z.push(D,P),r&&z.push(w.notes||""),u.push(z)});const p=Oy.aoa_to_sheet(u),g=[{wch:5},{wch:5},{wch:5},{wch:25},{wch:25},{wch:20}];return i&&g.push({wch:12},{wch:12},{wch:10}),a&&g.push({wch:12}),o&&g.push({wch:15},{wch:15}),r&&g.push({wch:30}),p["!cols"]=g,Oy.book_append_sheet(c,p,"Equipment List"),c},dse=(e,t)=>{e.save(t)},fse=(e,t)=>{const n=kL(e,{bookType:"xlsx",type:"array"}),r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});lse.saveAs(r,t)},xC=(e,t)=>{const n=(e.name||"Show").replace(/[^a-zA-Z0-9]/g,"_"),r=e.date?new Date(e.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],i=new Date().toISOString().split("T")[0];return`${n}_Equipment_List_${r}_${i}.${t==="excel"?"xlsx":t}`},hse=({isOpen:e,onClose:t,show:n,equipmentList:r=[]})=>{const[i,a]=K.useState("pdf"),[o,c]=K.useState({includeImages:!1,includeNotes:!0,includeQuantities:!0,includeStatus:!0,includeDetails:!0,orientation:"portrait"}),[u,f]=K.useState(""),[p,g]=K.useState(!1),w=(S,A)=>{c(j=>({...j,[S]:A}))},y=async()=>{if(!n||!r.length){An.error("No data to export");return}g(!0);try{const S=u||xC(n,i);if(i==="pdf"){const A=cse(n,r,o);dse(A,S),An.success("PDF exported successfully!")}else if(i==="excel"){const A=use(n,r,o);fse(A,S),An.success("Excel file exported successfully!")}t()}catch(S){console.error("Export error:",S),An.error("Failed to export file. Please try again.")}finally{g(!1)}},E=u||xC(n,i);return s.jsxs("div",{className:`fixed inset-0 z-50 ${e?"block":"hidden"}`,children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),s.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Export Equipment List"}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[n==null?void 0:n.name,"  ",r.length," items"]})]})]})}),s.jsxs("div",{className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Export Format"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>a("pdf"),className:`p-4 border-2 rounded-lg transition-colors ${i==="pdf"?"border-blue-500 bg-blue-50 text-blue-700":"border-slate-200 hover:border-slate-300"}`,children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),s.jsx("div",{className:"font-medium",children:"PDF"}),s.jsx("div",{className:"text-xs text-slate-500",children:"Professional format for printing"})]}),s.jsxs("button",{type:"button",onClick:()=>a("excel"),className:`p-4 border-2 rounded-lg transition-colors ${i==="excel"?"border-blue-500 bg-blue-50 text-blue-700":"border-slate-200 hover:border-slate-300"}`,children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),s.jsx("div",{className:"font-medium",children:"Excel"}),s.jsx("div",{className:"text-xs text-slate-500",children:"Editable spreadsheet format"})]})]})]}),i==="pdf"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"PDF Options"}),s.jsx("div",{className:"space-y-3",children:s.jsxs("select",{value:o.orientation,onChange:S=>w("orientation",S.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"portrait",children:"Portrait (Recommended)"}),s.jsx("option",{value:"landscape",children:"Landscape (More columns)"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Include in Export"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.includeQuantities,onChange:S=>w("includeQuantities",S.target.checked),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Quantities (Needed/Allocated)"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.includeStatus,onChange:S=>w("includeStatus",S.target.checked),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Equipment Status"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.includeDetails,onChange:S=>w("includeDetails",S.target.checked),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Location & Category Details"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.includeNotes,onChange:S=>w("includeNotes",S.target.checked),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Notes & Comments"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Custom Filename (Optional)"}),s.jsx("input",{type:"text",value:u,onChange:S=>f(S.target.value),placeholder:E,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Default: ",E]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Export Preview"}),s.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[s.jsxs("div",{children:["Format: ",s.jsx("span",{className:"font-medium",children:i.toUpperCase()})]}),s.jsxs("div",{children:["Items: ",s.jsx("span",{className:"font-medium",children:r.length})]}),s.jsxs("div",{children:["Filename: ",s.jsx("span",{className:"font-medium",children:E})]}),i==="pdf"&&s.jsxs("div",{children:["Orientation: ",s.jsx("span",{className:"font-medium",children:o.orientation})]})]})]})]}),s.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 flex justify-between",children:[s.jsx("button",{onClick:t,disabled:p,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-md hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsx("button",{onClick:y,disabled:p||!r.length,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:p?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export ",i.toUpperCase()]})})]})]})})]})},gC=(e,t)=>{const n=parseInt(e)||0,r=parseInt(t)||0;return Math.max(0,n-r)},OL=()=>{const{showId:e}=Gg(),t=Do(),n=ai(),[r,i]=K.useState("list"),[a,o]=K.useState(!1),[c,u]=K.useState(null),[f,p]=K.useState([]),[g,w]=K.useState(!1),[y,E]=K.useState(1),[S,A]=K.useState(""),[j,k]=K.useState(""),[D,P]=K.useState(!1),[Y,z]=K.useState(null),[R,B]=K.useState(!1),[q,te]=K.useState(null),[H,W]=K.useState(null),[J,ue]=K.useState(null),[se,ee]=K.useState(!1),{data:Ae,isLoading:ge}=Ln({queryKey:["show",e],queryFn:()=>xk(e),onError:Le=>{An.error(`Failed to load show: ${Le.message}`)}}),{data:Be,isLoading:_e}=Ln({queryKey:["showEquipment",e],queryFn:()=>gK(e),onError:Le=>{An.error(`Failed to load show equipment: ${Le.message}`)}}),{data:ct}=Ln({queryKey:["equipment"],queryFn:()=>qc({status:"available"}),enabled:a}),U=(Be==null?void 0:Be.equipment)||[],Z=(ct==null?void 0:ct.equipment)||[],Q=cr({mutationFn:Le=>vK(e,Le),onSuccess:()=>{n.invalidateQueries(["showEquipment",e]),n.invalidateQueries(["show",e]),An.success("Equipment added to show"),o(!1),u(null),E(1),A("")},onError:Le=>{An.error(`Failed to add equipment: ${Le.message}`)}});cr({mutationFn:({id:Le,...Nt})=>wk(Le,Nt),onSuccess:()=>{n.invalidateQueries(["showEquipment",e]),An.success("Equipment updated")},onError:Le=>{An.error(`Failed to update equipment: ${Le.message}`)}});const ne=cr({mutationFn:wK,onSuccess:()=>{n.invalidateQueries(["showEquipment",e]),n.invalidateQueries(["show",e]),An.success("Equipment removed from show")},onError:Le=>{An.error(`Failed to remove equipment: ${Le.message}`)}}),ce=cr({mutationFn:async Le=>{var wt;const Nt=await Xt.post(`/api/show-equipment/allocation/${Le}/validate-status`,{newStatus:"checked-out",quantity:1});if(!Nt.data.valid)throw new Error(((wt=Nt.data.conflicts[0])==null?void 0:wt.message)||"Status change not allowed");return(await Xt.put(`/api/show-equipment/allocation/${Le}`,{status:"checked-out"})).data},onSuccess:()=>{n.invalidateQueries(["showEquipment",e]),n.invalidateQueries(["equipmentAvailability"]),An.success("Equipment checked out")},onError:Le=>{var et,wt,Vt,rn;const Nt=((rn=(Vt=(wt=(et=Le.response)==null?void 0:et.data)==null?void 0:wt.conflicts)==null?void 0:Vt[0])==null?void 0:rn.message)||Le.message;An.error(`Failed to checkout equipment: ${Nt}`)}}),be=cr({mutationFn:async Le=>{var wt;const Nt=await Xt.post(`/api/show-equipment/allocation/${Le}/validate-status`,{newStatus:"returned",quantity:1});if(!Nt.data.valid)throw new Error(((wt=Nt.data.conflicts[0])==null?void 0:wt.message)||"Status change not allowed");return(await Xt.put(`/api/show-equipment/allocation/${Le}`,{status:"returned"})).data},onSuccess:()=>{n.invalidateQueries(["showEquipment",e]),n.invalidateQueries(["equipmentAvailability"]),An.success("Equipment returned")},onError:Le=>{var et,wt,Vt,rn;const Nt=((rn=(Vt=(wt=(et=Le.response)==null?void 0:et.data)==null?void 0:wt.conflicts)==null?void 0:Vt[0])==null?void 0:rn.message)||Le.message;An.error(`Failed to return equipment: ${Nt}`)}}),Fe=()=>{g&&f.length>0?f.forEach(Le=>{Q.mutate({equipmentId:Le.id,quantityNeeded:Le.quantity||1,notes:Le.notes||""})}):c&&y>0&&Q.mutate({equipmentId:c.id,quantityNeeded:y,notes:S})},ze=Le=>{p(Nt=>Nt.find(wt=>wt.id===Le.id)?Nt.filter(wt=>wt.id!==Le.id):[...Nt,{...Le,quantity:1,notes:""}])},Ze=(Le,Nt)=>{p(et=>et.map(wt=>wt.id===Le?{...wt,quantity:parseInt(Nt)||1}:wt))},pt=(Le,Nt)=>{p(et=>et.map(wt=>wt.id===Le?{...wt,notes:Nt}:wt))},bt=Le=>{window.confirm("Are you sure you want to remove this equipment from the show?")&&ne.mutate(Le)},Ye=Le=>{ce.mutate(Le)},yt=Le=>{be.mutate(Le)},it=Le=>{z(Le),P(!0)},fe=Le=>{t(`/equipment/${Le}`)},He=Le=>{te(Le),B(!0)},mt=(Le,Nt)=>{W(Le),ue(Nt)},rt=()=>{W(null),ue(null)},Ee=Le=>{const Nt={requested:"bg-yellow-100 text-yellow-800",allocated:"bg-blue-100 text-blue-800","checked-out":"bg-orange-100 text-orange-800","in-use":"bg-green-100 text-green-800",returned:"bg-gray-100 text-gray-800"};return s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Nt[Le]||"bg-gray-100 text-gray-800"}`,children:Le.charAt(0).toUpperCase()+Le.slice(1).replace("-"," ")})},qe=Z.filter(Le=>{var Nt,et,wt;return((Nt=Le.type)==null?void 0:Nt.toLowerCase().includes(j.toLowerCase()))||((et=Le.brand)==null?void 0:et.toLowerCase().includes(j.toLowerCase()))||((wt=Le.model)==null?void 0:wt.toLowerCase().includes(j.toLowerCase()))});return ge||_e?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"Loading equipment management..."})]})}):Ae?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Equipment Management"}),s.jsx("p",{className:"text-slate-600",children:"Manage equipment allocation for this show"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>i("list"),className:`p-2 rounded-md transition-colors ${r==="list"?"bg-white text-primary-600 shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:s.jsx(s1,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>i("card"),className:`p-2 rounded-md transition-colors ${r==="card"?"bg-white text-primary-600 shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:s.jsx(o1,{className:"w-4 h-4"})})]}),U.length>0&&s.jsxs(kt,{variant:"outline",onClick:()=>ee(!0),className:"flex items-center space-x-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("span",{children:"Export List"})]}),s.jsxs(kt,{onClick:()=>o(!0),className:"flex items-center space-x-2",children:[s.jsx(cv,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Equipment"})]})]})]}),U.length===0?s.jsx(Ht,{className:"text-center py-12",children:s.jsxs(Ht.Body,{children:[s.jsx("div",{className:"text-slate-300 mb-4",children:""}),s.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:"No equipment allocated"}),s.jsx("p",{className:"text-slate-600 mb-4",children:"Start by adding equipment to this show"}),s.jsx(kt,{onClick:()=>o(!0),children:"Add Equipment"})]})}):r==="list"?s.jsx(Ht,{children:s.jsx(Ht.Body,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table-wide",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Equipment"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Quantity"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Notes"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-slate-700",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:U.map(Le=>{var Nt,et,wt,Vt;return s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>fe(Le.equipment_id),className:"font-medium text-slate-800 hover:text-primary-600 hover:underline transition-colors text-left flex items-center space-x-1 group",title:"Click to view equipment details",children:[s.jsx("span",{children:((Nt=Le.equipment)==null?void 0:Nt.name)||((et=Le.equipment)==null?void 0:et.type)}),s.jsx(z_,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),s.jsxs("div",{className:"text-sm text-slate-600",children:[(wt=Le.equipment)==null?void 0:wt.brand," ",(Vt=Le.equipment)==null?void 0:Vt.model]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-slate-600",children:"Needed:"}),H===Le.id&&J==="quantityNeeded"?s.jsx(Cx,{showEquipment:Le,field:"quantityNeeded",showId:e,onCancel:rt}):s.jsx("button",{onClick:()=>mt(Le.id,"quantityNeeded"),className:"font-medium text-slate-800 hover:text-primary-600 hover:bg-primary-50 px-1 py-0.5 rounded transition-colors",title:"Click to edit",children:Le.quantity_needed})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-slate-600",children:"Allocated:"}),H===Le.id&&J==="quantityAllocated"?s.jsx(Cx,{showEquipment:Le,field:"quantityAllocated",showId:e,onCancel:rt}):s.jsx("button",{onClick:()=>mt(Le.id,"quantityAllocated"),className:"font-medium text-slate-800 hover:text-primary-600 hover:bg-primary-50 px-1 py-0.5 rounded transition-colors",title:"Click to edit",children:Le.quantity_allocated})]}),(()=>{const rn=gC(Le.quantity_needed,Le.quantity_allocated);return rn>0?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-red-600 font-medium",children:"Missing:"}),s.jsx("span",{className:"font-bold text-red-600 bg-red-50 px-2 py-0.5 rounded text-xs",children:rn})]}):null})()]})}),s.jsx("td",{className:"py-3 px-4",children:H===Le.id&&J==="status"?s.jsx(nS,{showEquipment:Le,showId:e,onCancel:rt}):s.jsx("button",{onClick:()=>mt(Le.id,"status"),className:"hover:bg-slate-50 p-1 rounded transition-colors",title:"Click to edit status",children:Ee(Le.status)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"text-sm text-slate-600 max-w-xs truncate",children:Le.notes||"No notes"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>He(Le),className:"text-slate-600 hover:text-slate-700",title:"Edit allocation",children:s.jsx(sc,{className:"w-3 h-3"})}),s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>it(Le.equipment_id),className:"text-blue-600 hover:text-blue-700",title:"View availability",children:s.jsx(X5,{className:"w-3 h-3"})}),Le.status==="requested"&&s.jsx(kt,{size:"sm",onClick:()=>Ye(Le.id),disabled:ce.isLoading,children:""}),(Le.status==="checked-out"||Le.status==="in-use")&&s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>yt(Le.id),disabled:be.isLoading,children:"Return"}),s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>bt(Le.id),disabled:ne.isLoading,className:"text-red-600 hover:text-red-700",children:s.jsx(Uh,{className:"w-3 h-3"})})]})})]},Le.id)})})]})})})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(Le=>{var Nt,et,wt,Vt;return s.jsx(Ht,{children:s.jsxs(Ht.Body,{children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>fe(Le.equipment_id),className:"font-medium text-slate-800 hover:text-primary-600 hover:underline transition-colors text-left flex items-center space-x-1 group",title:"Click to view equipment details",children:[s.jsx("span",{children:((Nt=Le.equipment)==null?void 0:Nt.name)||((et=Le.equipment)==null?void 0:et.type)}),s.jsx(z_,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),s.jsxs("p",{className:"text-sm text-slate-600",children:[(wt=Le.equipment)==null?void 0:wt.brand," ",(Vt=Le.equipment)==null?void 0:Vt.model]})]}),Ee(Le.status)]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Needed:"}),H===Le.id&&J==="quantityNeeded"?s.jsx(Cx,{showEquipment:Le,field:"quantityNeeded",showId:e,onCancel:rt}):s.jsx("button",{onClick:()=>mt(Le.id,"quantityNeeded"),className:"font-medium text-slate-800 hover:text-primary-600 hover:bg-primary-50 px-1 py-0.5 rounded transition-colors",title:"Click to edit",children:Le.quantity_needed})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Allocated:"}),H===Le.id&&J==="quantityAllocated"?s.jsx(Cx,{showEquipment:Le,field:"quantityAllocated",showId:e,onCancel:rt}):s.jsx("button",{onClick:()=>mt(Le.id,"quantityAllocated"),className:"font-medium text-slate-800 hover:text-primary-600 hover:bg-primary-50 px-1 py-0.5 rounded transition-colors",title:"Click to edit",children:Le.quantity_allocated})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Status:"}),H===Le.id&&J==="status"?s.jsx(nS,{showEquipment:Le,showId:e,onCancel:rt}):s.jsx("button",{onClick:()=>mt(Le.id,"status"),className:"hover:bg-slate-50 p-1 rounded transition-colors",title:"Click to edit status",children:Ee(Le.status)})]}),(()=>{const rn=gC(Le.quantity_needed,Le.quantity_allocated);return rn>0?s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-red-600 font-medium",children:"Missing:"}),s.jsxs("span",{className:"font-bold text-red-600 bg-red-50 px-2 py-1 rounded text-xs",children:[rn," item",rn!==1?"s":""]})]}):null})(),Le.notes&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Notes:"}),s.jsx("p",{className:"text-slate-800 mt-1",children:Le.notes})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>He(Le),className:"text-slate-600 hover:text-slate-700",title:"Edit allocation",children:s.jsx(sc,{className:"w-4 h-4"})}),s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>it(Le.equipment_id),className:"text-blue-600 hover:text-blue-700",title:"View availability",children:s.jsx(X5,{className:"w-4 h-4"})}),Le.status==="requested"&&s.jsx(kt,{size:"sm",onClick:()=>Ye(Le.id),disabled:ce.isLoading,className:"flex-1",children:"Check Out"}),(Le.status==="checked-out"||Le.status==="in-use")&&s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>yt(Le.id),disabled:be.isLoading,className:"flex-1",children:"Return"}),s.jsx(kt,{size:"sm",variant:"outline",onClick:()=>bt(Le.id),disabled:ne.isLoading,className:"text-red-600 hover:text-red-700",children:s.jsx(Uh,{className:"w-4 h-4"})})]})]})},Le.id)})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Add Equipment to Show"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Bulk Mode"}),s.jsx("button",{onClick:()=>{w(!g),u(null),p([])},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${g?"bg-primary-600":"bg-slate-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${g?"translate-x-6":"translate-x-1"}`})})]})]}),s.jsx("div",{className:"mb-4",children:s.jsx(kn,{placeholder:"Search equipment...",value:j,onChange:Le=>k(Le.target.value)})}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[g?"Select Multiple Equipment":"Select Equipment",g&&f.length>0&&s.jsxs("span",{className:"ml-2 text-primary-600",children:["(",f.length," selected)"]})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto border border-slate-200 rounded-lg",children:qe.map(Le=>{const Nt=g?f.some(et=>et.id===Le.id):(c==null?void 0:c.id)===Le.id;return s.jsx("div",{onClick:()=>g?ze(Le):u(Le),className:`p-3 cursor-pointer border-b border-slate-100 hover:bg-slate-50 ${Nt?"bg-primary-50 border-primary-200":""}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-800",children:Le.type}),s.jsxs("div",{className:"text-sm text-slate-600",children:[Le.brand," ",Le.model," - Qty: ",Le.quantity]})]}),g&&s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${Nt?"bg-primary-600 border-primary-600":"border-slate-300"}`,children:Nt&&s.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})},Le.id)})})]}),!g&&c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Quantity Needed"}),s.jsx(kn,{type:"number",min:"1",max:c.quantity,value:y,onChange:Le=>E(parseInt(Le.target.value)||1)})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notes (Optional)"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:"3",value:S,onChange:Le=>A(Le.target.value),placeholder:"Add any notes about this equipment allocation..."})]})]}),g&&f.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Selected Equipment Details"}),s.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:f.map(Le=>s.jsxs("div",{className:"border border-slate-200 rounded-lg p-3",children:[s.jsxs("div",{className:"font-medium text-slate-800 mb-2",children:[Le.type," - ",Le.brand," ",Le.model]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Quantity"}),s.jsx(kn,{type:"number",min:"1",max:Le.quantity,value:Le.quantity||1,onChange:Nt=>Ze(Le.id,Nt.target.value),size:"sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Notes"}),s.jsx(kn,{value:Le.notes||"",onChange:Nt=>pt(Le.id,Nt.target.value),placeholder:"Notes...",size:"sm"})]})]})]},Le.id))})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(kt,{variant:"outline",onClick:()=>{o(!1),u(null),p([]),w(!1),E(1),A(""),k("")},children:"Cancel"}),s.jsx(kt,{onClick:Fe,disabled:g?f.length===0||Q.isLoading:!c||y<=0||Q.isLoading,children:Q.isLoading?"Adding...":g?`Add ${f.length} Equipment${f.length!==1?"s":""}`:"Add Equipment"})]})]})}),D&&Y&&s.jsx(MK,{equipmentId:Y,onClose:()=>{P(!1),z(null)}}),R&&q&&s.jsx(w3,{showEquipment:q,showId:e,onClose:()=>{B(!1),te(null)}}),se&&s.jsx(hse,{isOpen:se,onClose:()=>ee(!1),show:Ae,equipmentList:U})]}):s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 mb-4",children:" Show not found"}),s.jsx(kt,{onClick:()=>t("/show-list"),children:"Back to Show List"})]})})},pse=()=>{const{showId:e}=Gg(),t=Do(),n=ai(),[r,i]=K.useState("details"),[a,o]=K.useState(!1),[c,u]=K.useState({name:"",date:"",venue:"",director:"",description:"",status:"planning"}),{data:f,isLoading:p,error:g}=Ln({queryKey:["show",e],queryFn:()=>xk(e),onSuccess:k=>{u({name:k.name||"",date:k.date?k.date.split("T")[0]:"",venue:k.venue||"",director:k.director||"",description:k.description||"",status:k.status||"planning"})},onError:k=>{An.error(`Failed to load show: ${k.message}`)}}),w=cr({mutationFn:k=>gk(e,k),onSuccess:()=>{n.invalidateQueries(["show",e]),n.invalidateQueries(["shows"]),An.success("Show updated successfully"),o(!1)},onError:k=>{An.error(`Failed to update show: ${k.message}`)}}),y=cr({mutationFn:()=>vk(e),onSuccess:()=>{n.invalidateQueries(["shows"]),An.success("Show deleted successfully"),t("/show-list")},onError:k=>{An.error(`Failed to delete show: ${k.message}`)}}),E=()=>{f&&(u({name:f.name||"",date:f.date?f.date.split("T")[0]:"",venue:f.venue||"",director:f.director||"",description:f.description||"",status:f.status||"planning"}),o(!0))},S=()=>{c.name&&c.date&&w.mutate(c)},A=()=>{window.confirm("Are you sure you want to delete this show?")&&y.mutate()},j=k=>{const D={planning:"bg-blue-100 text-blue-800","in-progress":"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",archived:"bg-gray-100 text-gray-800"};return s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${D[k]||"bg-gray-100 text-gray-800"}`,children:k.charAt(0).toUpperCase()+k.slice(1).replace("-"," ")})};return p?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"Loading show details..."})]})}):g||!f?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 mb-4",children:" Show not found"}),s.jsx("p",{className:"text-slate-600 mb-4",children:(g==null?void 0:g.message)||"Show not found"}),s.jsx(kt,{onClick:()=>t("/show-list"),children:"Back to Show List"})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(kt,{variant:"outline",onClick:()=>t("/show-list"),className:"flex items-center space-x-2",children:[s.jsx(q7,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Shows"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:f.name}),s.jsx("p",{className:"text-slate-600",children:new Date(f.date).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[j(f.status),!a&&s.jsxs(s.Fragment,{children:[s.jsxs(kt,{variant:"outline",onClick:E,className:"flex items-center space-x-2",children:[s.jsx(sc,{className:"w-4 h-4"}),s.jsx("span",{children:"Edit"})]}),s.jsxs(kt,{variant:"outline",onClick:A,disabled:y.isLoading,className:"flex items-center space-x-2 text-red-600 hover:text-red-700",children:[s.jsx(Uh,{className:"w-4 h-4"}),s.jsx("span",{children:"Delete"})]})]})]})]}),s.jsx("div",{className:"border-b border-slate-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>i("details"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="details"?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:"Show Details"}),s.jsxs("button",{onClick:()=>i("equipment"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="equipment"?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:["Equipment Management",f.equipmentCount>0&&s.jsx("span",{className:"ml-2 bg-primary-100 text-primary-600 py-0.5 px-2 rounded-full text-xs",children:f.equipmentCount})]})]})}),r==="details"&&s.jsxs(Ht,{children:[s.jsx(Ht.Header,{children:s.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Show Information"})}),s.jsx(Ht.Body,{children:a?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Show Name *"}),s.jsx(kn,{value:c.name,onChange:k=>u({...c,name:k.target.value}),placeholder:"Enter show name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date *"}),s.jsx(kn,{type:"date",value:c.date,onChange:k=>u({...c,date:k.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Venue"}),s.jsx(kn,{value:c.venue,onChange:k=>u({...c,venue:k.target.value}),placeholder:"Enter venue"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Director"}),s.jsx(kn,{value:c.director,onChange:k=>u({...c,director:k.target.value}),placeholder:"Enter director name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),s.jsxs("select",{value:c.status,onChange:k=>u({...c,status:k.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"archived",children:"Archived"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),s.jsx("textarea",{value:c.description,onChange:k=>u({...c,description:k.target.value}),rows:"4",className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter show description"})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(kt,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(kt,{onClick:S,disabled:!c.name||!c.date||w.isLoading,children:w.isLoading?"Saving...":"Save Changes"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Show Name"}),s.jsx("p",{className:"mt-1 text-lg text-slate-900",children:f.name})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Date"}),s.jsx("p",{className:"mt-1 text-lg text-slate-900",children:new Date(f.date).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Venue"}),s.jsx("p",{className:"mt-1 text-lg text-slate-900",children:f.venue||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Director"}),s.jsx("p",{className:"mt-1 text-lg text-slate-900",children:f.director||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Status"}),s.jsx("div",{className:"mt-1",children:j(f.status)})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Equipment Count"}),s.jsxs("p",{className:"mt-1 text-lg text-slate-900",children:[f.equipmentCount||0," items"]})]})]}),f.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Description"}),s.jsx("p",{className:"mt-1 text-slate-900",children:f.description})]}),f.creator&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Created By"}),s.jsx("p",{className:"mt-1 text-slate-900",children:f.creator.username})]})]})})]}),r==="equipment"&&s.jsx(OL,{})]})},mse=new uB({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),Kl=({children:e})=>{const{user:t,loading:n}=ss();return n?s.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?e:s.jsx(B2,{to:"/login"})},vC=({children:e})=>{const{user:t,loading:n,isAdmin:r}=ss();return n?s.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?r()?e:s.jsx(B2,{to:"/dashboard"}):s.jsx(B2,{to:"/login"})},Ry=({children:e})=>{const[t,n]=K.useState(!0),[r,i]=K.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(cj,{}),s.jsx(oj,{}),s.jsx(lj,{isOpen:t,isCollapsed:r,toggleSidebar:n,toggleCollapse:i}),s.jsx("main",{className:`main-content pt-16 ${t?r?"main-content-with-sidebar-collapsed":"main-content-with-sidebar":""}`,children:s.jsx("div",{className:"container-app",children:s.jsx("div",{className:"space-y-6",children:e})})})]})},yu=({children:e})=>{const[t,n]=K.useState(!0),[r,i]=K.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx(cj,{}),s.jsx(oj,{}),s.jsx(lj,{isOpen:t,isCollapsed:r,toggleSidebar:n,toggleCollapse:i}),s.jsx("main",{className:`main-content pt-16 ${t?r?"main-content-with-sidebar-collapsed":"main-content-with-sidebar":""}`,children:s.jsx("div",{className:"container-app-wide",children:s.jsx("div",{className:"space-y-6",children:e})})})]})},xse=()=>s.jsx($F,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsxs(BF,{children:[s.jsx(Rs,{path:"/login",element:s.jsx(aV,{})}),s.jsx(Rs,{path:"/",element:s.jsx(Kl,{children:s.jsx(yu,{children:s.jsx(M8,{})})})}),s.jsx(Rs,{path:"/dashboard",element:s.jsx(Kl,{children:s.jsx(yu,{children:s.jsx(M8,{})})})}),s.jsx(Rs,{path:"/simple-dashboard",element:s.jsx(Kl,{children:s.jsx(Ry,{children:s.jsx(FY,{})})})}),s.jsx(Rs,{path:"/equipment/new",element:s.jsx(Kl,{children:s.jsx(LK,{})})}),s.jsx(Rs,{path:"/equipment/:id/edit",element:s.jsx(Kl,{children:s.jsx(yu,{children:s.jsx(_K,{})})})}),s.jsx(Rs,{path:"/equipment/:id",element:s.jsx(Kl,{children:s.jsx(yu,{children:s.jsx(NK,{})})})}),s.jsx(Rs,{path:"/equipment",element:s.jsx(Kl,{children:s.jsx(yu,{children:s.jsx(dK,{})})})}),s.jsx(Rs,{path:"/show-list",element:s.jsx(Kl,{children:s.jsx(yu,{children:s.jsx(OK,{})})})}),s.jsx(Rs,{path:"/show/:showId",element:s.jsx(Kl,{children:s.jsx(yu,{children:s.jsx(pse,{})})})}),s.jsx(Rs,{path:"/show/:showId/manage-equipment",element:s.jsx(Kl,{children:s.jsx(yu,{children:s.jsx(OL,{})})})}),s.jsx(Rs,{path:"/admin",element:s.jsx(vC,{children:s.jsx(Ry,{children:s.jsx(IK,{})})})}),s.jsx(Rs,{path:"/equipment-logs",element:s.jsx(vC,{children:s.jsx(yu,{children:s.jsx(DK,{})})})}),s.jsx(Rs,{path:"/settings",element:s.jsx(Kl,{children:s.jsx(Ry,{children:s.jsx(dX,{})})})}),s.jsx(Rs,{path:"*",element:s.jsx(B2,{to:"/"})})]})}),gse=()=>s.jsx(CB,{client:mse,children:s.jsx(gz,{children:s.jsxs(W7,{children:[s.jsx(ov,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),s.jsx(xse,{})]})})});const vse=async()=>{try{return(await Xt.get("/api/csrf-token",{withCredentials:!0})).data.csrfToken}catch(e){return console.error("Failed to fetch CSRF token:",e),null}},wse=async()=>{Xt.defaults.withCredentials=!0;const e=localStorage.getItem("token");e&&(Xt.defaults.headers.common.Authorization=`Bearer ${e}`),Xt.interceptors.response.use(t=>t,async t=>{var r;const n=t.config;if(n&&(n.url.includes("/files/")||n.url.includes("/public-files/")))return console.log("File access error:",t),Promise.reject(t);if(((r=t.response)==null?void 0:r.status)===401&&!n._retry){n._retry=!0;try{return window.location.pathname!=="/login"&&(localStorage.removeItem("token"),delete Xt.defaults.headers.common.Authorization,alert("Your session has expired. Please log in again."),window.location.href="/login"),Promise.reject(t)}catch(i){return Promise.reject(i)}}return Promise.reject(t)});{const t=await vse();t&&Xt.interceptors.request.use(async n=>(n.method!=="get"&&(n.headers["CSRF-Token"]=t),n),n=>Promise.reject(n))}return Xt};let Db;window.location.hostname,Db="";Xt.defaults.baseURL=Db;const yse=async()=>{await wse(),My.createRoot(document.getElementById("root")).render(s.jsx(ht.StrictMode,{children:s.jsx(gse,{})}))};yse();export{kt as B,CK as E,ca as L,ti as _,ai as a,ss as b,Ln as c,Xt as d,cr as e,l1 as f,Qu as g,hf as h,rW as i,s as j,xj as k,An as l,no as m,Tg as n,K as r,Do as u};
//# sourceMappingURL=index-9c7d832e.js.map
