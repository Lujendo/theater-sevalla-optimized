var JA=Object.defineProperty;var eT=(e,n,t)=>n in e?JA(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Le=(e,n,t)=>(eT(e,typeof n!="symbol"?n+"":n,t),t);function t3(e,n){for(var t=0;t<n.length;t++){const r=n[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var Ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n3={exports:{}},bh={},r3={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.element"),tT=Symbol.for("react.portal"),nT=Symbol.for("react.fragment"),rT=Symbol.for("react.strict_mode"),iT=Symbol.for("react.profiler"),sT=Symbol.for("react.provider"),aT=Symbol.for("react.context"),oT=Symbol.for("react.forward_ref"),lT=Symbol.for("react.suspense"),cT=Symbol.for("react.memo"),uT=Symbol.for("react.lazy"),ny=Symbol.iterator;function dT(e){return e===null||typeof e!="object"?null:(e=ny&&e[ny]||e["@@iterator"],typeof e=="function"?e:null)}var i3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s3=Object.assign,a3={};function Ec(e,n,t){this.props=e,this.context=n,this.refs=a3,this.updater=t||i3}Ec.prototype.isReactComponent={};Ec.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Ec.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function o3(){}o3.prototype=Ec.prototype;function Og(e,n,t){this.props=e,this.context=n,this.refs=a3,this.updater=t||i3}var jg=Og.prototype=new o3;jg.constructor=Og;s3(jg,Ec.prototype);jg.isPureReactComponent=!0;var ry=Array.isArray,l3=Object.prototype.hasOwnProperty,Mg={current:null},c3={key:!0,ref:!0,__self:!0,__source:!0};function u3(e,n,t){var r,s={},a=null,d=null;if(n!=null)for(r in n.ref!==void 0&&(d=n.ref),n.key!==void 0&&(a=""+n.key),n)l3.call(n,r)&&!c3.hasOwnProperty(r)&&(s[r]=n[r]);var g=arguments.length-2;if(g===1)s.children=t;else if(1<g){for(var v=Array(g),x=0;x<g;x++)v[x]=arguments[x+2];s.children=v}if(e&&e.defaultProps)for(r in g=e.defaultProps,g)s[r]===void 0&&(s[r]=g[r]);return{$$typeof:fd,type:e,key:a,ref:d,props:s,_owner:Mg.current}}function fT(e,n){return{$$typeof:fd,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Lg(e){return typeof e=="object"&&e!==null&&e.$$typeof===fd}function hT(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var iy=/\/+/g;function f1(e,n){return typeof e=="object"&&e!==null&&e.key!=null?hT(""+e.key):n.toString(36)}function Kf(e,n,t,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(a){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case fd:case tT:d=!0}}if(d)return d=e,s=s(d),e=r===""?"."+f1(d,0):r,ry(s)?(t="",e!=null&&(t=e.replace(iy,"$&/")+"/"),Kf(s,n,t,"",function(x){return x})):s!=null&&(Lg(s)&&(s=fT(s,t+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(iy,"$&/")+"/")+e)),n.push(s)),1;if(d=0,r=r===""?".":r+":",ry(e))for(var g=0;g<e.length;g++){a=e[g];var v=r+f1(a,g);d+=Kf(a,n,t,v,s)}else if(v=dT(e),typeof v=="function")for(e=v.call(e),g=0;!(a=e.next()).done;)a=a.value,v=r+f1(a,g++),d+=Kf(a,n,t,v,s);else if(a==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return d}function _f(e,n,t){if(e==null)return e;var r=[],s=0;return Kf(e,r,"","",function(a){return n.call(t,a,s++)}),r}function pT(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var qr={current:null},Zf={transition:null},mT={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:Zf,ReactCurrentOwner:Mg};function d3(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:_f,forEach:function(e,n,t){_f(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return _f(e,function(){n++}),n},toArray:function(e){return _f(e,function(n){return n})||[]},only:function(e){if(!Lg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xt.Component=Ec;xt.Fragment=nT;xt.Profiler=iT;xt.PureComponent=Og;xt.StrictMode=rT;xt.Suspense=lT;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mT;xt.act=d3;xt.cloneElement=function(e,n,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=s3({},e.props),s=e.key,a=e.ref,d=e._owner;if(n!=null){if(n.ref!==void 0&&(a=n.ref,d=Mg.current),n.key!==void 0&&(s=""+n.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(v in n)l3.call(n,v)&&!c3.hasOwnProperty(v)&&(r[v]=n[v]===void 0&&g!==void 0?g[v]:n[v])}var v=arguments.length-2;if(v===1)r.children=t;else if(1<v){g=Array(v);for(var x=0;x<v;x++)g[x]=arguments[x+2];r.children=g}return{$$typeof:fd,type:e.type,key:s,ref:a,props:r,_owner:d}};xt.createContext=function(e){return e={$$typeof:aT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sT,_context:e},e.Consumer=e};xt.createElement=u3;xt.createFactory=function(e){var n=u3.bind(null,e);return n.type=e,n};xt.createRef=function(){return{current:null}};xt.forwardRef=function(e){return{$$typeof:oT,render:e}};xt.isValidElement=Lg;xt.lazy=function(e){return{$$typeof:uT,_payload:{_status:-1,_result:e},_init:pT}};xt.memo=function(e,n){return{$$typeof:cT,type:e,compare:n===void 0?null:n}};xt.startTransition=function(e){var n=Zf.transition;Zf.transition={};try{e()}finally{Zf.transition=n}};xt.unstable_act=d3;xt.useCallback=function(e,n){return qr.current.useCallback(e,n)};xt.useContext=function(e){return qr.current.useContext(e)};xt.useDebugValue=function(){};xt.useDeferredValue=function(e){return qr.current.useDeferredValue(e)};xt.useEffect=function(e,n){return qr.current.useEffect(e,n)};xt.useId=function(){return qr.current.useId()};xt.useImperativeHandle=function(e,n,t){return qr.current.useImperativeHandle(e,n,t)};xt.useInsertionEffect=function(e,n){return qr.current.useInsertionEffect(e,n)};xt.useLayoutEffect=function(e,n){return qr.current.useLayoutEffect(e,n)};xt.useMemo=function(e,n){return qr.current.useMemo(e,n)};xt.useReducer=function(e,n,t){return qr.current.useReducer(e,n,t)};xt.useRef=function(e){return qr.current.useRef(e)};xt.useState=function(e){return qr.current.useState(e)};xt.useSyncExternalStore=function(e,n,t){return qr.current.useSyncExternalStore(e,n,t)};xt.useTransition=function(){return qr.current.useTransition()};xt.version="18.3.1";r3.exports=xt;var L=r3.exports;const de=wh(L),Pg=t3({__proto__:null,default:de},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT=L,xT=Symbol.for("react.element"),vT=Symbol.for("react.fragment"),yT=Object.prototype.hasOwnProperty,wT=gT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bT={key:!0,ref:!0,__self:!0,__source:!0};function f3(e,n,t){var r,s={},a=null,d=null;t!==void 0&&(a=""+t),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(d=n.ref);for(r in n)yT.call(n,r)&&!bT.hasOwnProperty(r)&&(s[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps,n)s[r]===void 0&&(s[r]=n[r]);return{$$typeof:xT,type:e,key:a,ref:d,props:s,_owner:wT.current}}bh.Fragment=vT;bh.jsx=f3;bh.jsxs=f3;n3.exports=bh;var c=n3.exports,nm={},h3={exports:{}},wi={},p3={exports:{}},m3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(ue,_e){var Re=ue.length;ue.push(_e);e:for(;0<Re;){var We=Re-1>>>1,tt=ue[We];if(0<s(tt,_e))ue[We]=_e,ue[Re]=tt,Re=We;else break e}}function t(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var _e=ue[0],Re=ue.pop();if(Re!==_e){ue[0]=Re;e:for(var We=0,tt=ue.length,Rn=tt>>>1;We<Rn;){var vt=2*(We+1)-1,On=ue[vt],De=vt+1,Hn=ue[De];if(0>s(On,Re))De<tt&&0>s(Hn,On)?(ue[We]=Hn,ue[De]=Re,We=De):(ue[We]=On,ue[vt]=Re,We=vt);else if(De<tt&&0>s(Hn,Re))ue[We]=Hn,ue[De]=Re,We=De;else break e}}return _e}function s(ue,_e){var Re=ue.sortIndex-_e.sortIndex;return Re!==0?Re:ue.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var v=[],x=[],w=1,E=null,_=3,k=!1,S=!1,R=!1,j=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(ue){for(var _e=t(x);_e!==null;){if(_e.callback===null)r(x);else if(_e.startTime<=ue)r(x),_e.sortIndex=_e.expirationTime,n(v,_e);else break;_e=t(x)}}function q(ue){if(R=!1,O(ue),!S)if(t(v)!==null)S=!0,xe(Q);else{var _e=t(x);_e!==null&&ge(q,_e.startTime-ue)}}function Q(ue,_e){S=!1,R&&(R=!1,I(V),V=-1),k=!0;var Re=_;try{for(O(_e),E=t(v);E!==null&&(!(E.expirationTime>_e)||ue&&!ce());){var We=E.callback;if(typeof We=="function"){E.callback=null,_=E.priorityLevel;var tt=We(E.expirationTime<=_e);_e=e.unstable_now(),typeof tt=="function"?E.callback=tt:E===t(v)&&r(v),O(_e)}else r(v);E=t(v)}if(E!==null)var Rn=!0;else{var vt=t(x);vt!==null&&ge(q,vt.startTime-_e),Rn=!1}return Rn}finally{E=null,_=Re,k=!1}}var z=!1,P=null,V=-1,W=5,se=-1;function ce(){return!(e.unstable_now()-se<W)}function ae(){if(P!==null){var ue=e.unstable_now();se=ue;var _e=!0;try{_e=P(!0,ue)}finally{_e?ie():(z=!1,P=null)}}else z=!1}var ie;if(typeof D=="function")ie=function(){D(ae)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ee=he.port2;he.port1.onmessage=ae,ie=function(){ee.postMessage(null)}}else ie=function(){j(ae,0)};function xe(ue){P=ue,z||(z=!0,ie())}function ge(ue,_e){V=j(function(){ue(e.unstable_now())},_e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ue){ue.callback=null},e.unstable_continueExecution=function(){S||k||(S=!0,xe(Q))},e.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ue?Math.floor(1e3/ue):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return t(v)},e.unstable_next=function(ue){switch(_){case 1:case 2:case 3:var _e=3;break;default:_e=_}var Re=_;_=_e;try{return ue()}finally{_=Re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ue,_e){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Re=_;_=ue;try{return _e()}finally{_=Re}},e.unstable_scheduleCallback=function(ue,_e,Re){var We=e.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?We+Re:We):Re=We,ue){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=Re+tt,ue={id:w++,callback:_e,priorityLevel:ue,startTime:Re,expirationTime:tt,sortIndex:-1},Re>We?(ue.sortIndex=Re,n(x,ue),t(v)===null&&ue===t(x)&&(R?(I(V),V=-1):R=!0,ge(q,Re-We))):(ue.sortIndex=tt,n(v,ue),S||k||(S=!0,xe(Q))),ue},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(ue){var _e=_;return function(){var Re=_;_=_e;try{return ue.apply(this,arguments)}finally{_=Re}}}})(m3);p3.exports=m3;var CT=p3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET=L,yi=CT;function Se(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g3=new Set,Bu={};function dl(e,n){ac(e,n),ac(e+"Capture",n)}function ac(e,n){for(Bu[e]=n,e=0;e<n.length;e++)g3.add(n[e])}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rm=Object.prototype.hasOwnProperty,NT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sy={},ay={};function _T(e){return rm.call(ay,e)?!0:rm.call(sy,e)?!1:NT.test(e)?ay[e]=!0:(sy[e]=!0,!1)}function ST(e,n,t,r){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AT(e,n,t,r){if(n===null||typeof n>"u"||ST(e,n,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Vr(e,n,t,r,s,a,d){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=d}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new Vr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];vr[n]=new Vr(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new Vr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new Vr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new Vr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new Vr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new Vr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new Vr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new Vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fg=/[\-:]([a-z])/g;function Bg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Fg,Bg);vr[n]=new Vr(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Fg,Bg);vr[n]=new Vr(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Fg,Bg);vr[n]=new Vr(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new Vr(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new Vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ug(e,n,t,r){var s=vr.hasOwnProperty(n)?vr[n]:null;(s!==null?s.type!==0:r||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(AT(n,t,s,r)&&(t=null),r||s===null?_T(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):s.mustUseProperty?e[s.propertyName]=t===null?s.type===3?!1:"":t:(n=s.attributeName,r=s.attributeNamespace,t===null?e.removeAttribute(n):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}var va=ET.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sf=Symbol.for("react.element"),Pl=Symbol.for("react.portal"),Fl=Symbol.for("react.fragment"),zg=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),x3=Symbol.for("react.provider"),v3=Symbol.for("react.context"),Wg=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),am=Symbol.for("react.suspense_list"),Hg=Symbol.for("react.memo"),Fa=Symbol.for("react.lazy"),y3=Symbol.for("react.offscreen"),oy=Symbol.iterator;function uu(e){return e===null||typeof e!="object"?null:(e=oy&&e[oy]||e["@@iterator"],typeof e=="function"?e:null)}var Cn=Object.assign,h1;function Eu(e){if(h1===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);h1=n&&n[1]||""}return`
`+h1+e}var p1=!1;function m1(e,n){if(!e||p1)return"";p1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(x){var r=x}Reflect.construct(e,[],n)}else{try{n.call()}catch(x){r=x}e.call(n.prototype)}else{try{throw Error()}catch(x){r=x}e()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var s=x.stack.split(`
`),a=r.stack.split(`
`),d=s.length-1,g=a.length-1;1<=d&&0<=g&&s[d]!==a[g];)g--;for(;1<=d&&0<=g;d--,g--)if(s[d]!==a[g]){if(d!==1||g!==1)do if(d--,g--,0>g||s[d]!==a[g]){var v=`
`+s[d].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=d&&0<=g);break}}}finally{p1=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?Eu(e):""}function TT(e){switch(e.tag){case 5:return Eu(e.type);case 16:return Eu("Lazy");case 13:return Eu("Suspense");case 19:return Eu("SuspenseList");case 0:case 2:case 15:return e=m1(e.type,!1),e;case 11:return e=m1(e.type.render,!1),e;case 1:return e=m1(e.type,!0),e;default:return""}}function om(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fl:return"Fragment";case Pl:return"Portal";case im:return"Profiler";case zg:return"StrictMode";case sm:return"Suspense";case am:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case v3:return(e.displayName||"Context")+".Consumer";case x3:return(e._context.displayName||"Context")+".Provider";case Wg:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hg:return n=e.displayName||null,n!==null?n:om(e.type)||"Memo";case Fa:n=e._payload,e=e._init;try{return om(e(n))}catch{}}return null}function kT(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return om(n);case 8:return n===zg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function so(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function w3(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function DT(e){var n=w3(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return s.call(this)},set:function(d){r=""+d,a.call(this,d)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Af(e){e._valueTracker||(e._valueTracker=DT(e))}function b3(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=w3(e)?e.checked?"true":"false":e.value),e=r,e!==t?(n.setValue(e),!0):!1}function b0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lm(e,n){var t=n.checked;return Cn({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function ly(e,n){var t=n.defaultValue==null?"":n.defaultValue,r=n.checked!=null?n.checked:n.defaultChecked;t=so(n.value!=null?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function C3(e,n){n=n.checked,n!=null&&Ug(e,"checked",n,!1)}function cm(e,n){C3(e,n);var t=so(n.value),r=n.type;if(t!=null)r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?um(e,n.type,t):n.hasOwnProperty("defaultValue")&&um(e,n.type,so(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function cy(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!(r!=="submit"&&r!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function um(e,n,t){(n!=="number"||b0(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var Nu=Array.isArray;function Kl(e,n,t,r){if(e=e.options,n){n={};for(var s=0;s<t.length;s++)n["$"+t[s]]=!0;for(t=0;t<e.length;t++)s=n.hasOwnProperty("$"+e[t].value),e[t].selected!==s&&(e[t].selected=s),s&&r&&(e[t].defaultSelected=!0)}else{for(t=""+so(t),n=null,s=0;s<e.length;s++){if(e[s].value===t){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}n!==null||e[s].disabled||(n=e[s])}n!==null&&(n.selected=!0)}}function dm(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(Se(91));return Cn({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uy(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(Se(92));if(Nu(t)){if(1<t.length)throw Error(Se(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:so(t)}}function E3(e,n){var t=so(n.value),r=so(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),r!=null&&(e.defaultValue=""+r)}function dy(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function N3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fm(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?N3(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tf,_3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,r,s){MSApp.execUnsafeLocalFunction(function(){return e(n,t,r,s)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Tf=Tf||document.createElement("div"),Tf.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Tf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Uu(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var ku={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IT=["Webkit","ms","Moz","O"];Object.keys(ku).forEach(function(e){IT.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ku[n]=ku[e]})});function S3(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||ku.hasOwnProperty(e)&&ku[e]?(""+n).trim():n+"px"}function A3(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=S3(t,n[t],r);t==="float"&&(t="cssFloat"),r?e.setProperty(t,s):e[t]=s}}var RT=Cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hm(e,n){if(n){if(RT[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(Se(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(Se(61))}if(n.style!=null&&typeof n.style!="object")throw Error(Se(62))}}function pm(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mm=null;function qg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gm=null,Zl=null,Jl=null;function fy(e){if(e=md(e)){if(typeof gm!="function")throw Error(Se(280));var n=e.stateNode;n&&(n=Sh(n),gm(e.stateNode,e.type,n))}}function T3(e){Zl?Jl?Jl.push(e):Jl=[e]:Zl=e}function k3(){if(Zl){var e=Zl,n=Jl;if(Jl=Zl=null,fy(e),n)for(e=0;e<n.length;e++)fy(n[e])}}function D3(e,n){return e(n)}function I3(){}var g1=!1;function R3(e,n,t){if(g1)return e(n,t);g1=!0;try{return D3(e,n,t)}finally{g1=!1,(Zl!==null||Jl!==null)&&(I3(),k3())}}function zu(e,n){var t=e.stateNode;if(t===null)return null;var r=Sh(t);if(r===null)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(Se(231,n,typeof t));return t}var xm=!1;if(da)try{var du={};Object.defineProperty(du,"passive",{get:function(){xm=!0}}),window.addEventListener("test",du,du),window.removeEventListener("test",du,du)}catch{xm=!1}function OT(e,n,t,r,s,a,d,g,v){var x=Array.prototype.slice.call(arguments,3);try{n.apply(t,x)}catch(w){this.onError(w)}}var Du=!1,C0=null,E0=!1,vm=null,jT={onError:function(e){Du=!0,C0=e}};function MT(e,n,t,r,s,a,d,g,v){Du=!1,C0=null,OT.apply(jT,arguments)}function LT(e,n,t,r,s,a,d,g,v){if(MT.apply(this,arguments),Du){if(Du){var x=C0;Du=!1,C0=null}else throw Error(Se(198));E0||(E0=!0,vm=x)}}function fl(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function O3(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function hy(e){if(fl(e)!==e)throw Error(Se(188))}function PT(e){var n=e.alternate;if(!n){if(n=fl(e),n===null)throw Error(Se(188));return n!==e?null:e}for(var t=e,r=n;;){var s=t.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===t)return hy(s),e;if(a===r)return hy(s),n;a=a.sibling}throw Error(Se(188))}if(t.return!==r.return)t=s,r=a;else{for(var d=!1,g=s.child;g;){if(g===t){d=!0,t=s,r=a;break}if(g===r){d=!0,r=s,t=a;break}g=g.sibling}if(!d){for(g=a.child;g;){if(g===t){d=!0,t=a,r=s;break}if(g===r){d=!0,r=a,t=s;break}g=g.sibling}if(!d)throw Error(Se(189))}}if(t.alternate!==r)throw Error(Se(190))}if(t.tag!==3)throw Error(Se(188));return t.stateNode.current===t?e:n}function j3(e){return e=PT(e),e!==null?M3(e):null}function M3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=M3(e);if(n!==null)return n;e=e.sibling}return null}var L3=yi.unstable_scheduleCallback,py=yi.unstable_cancelCallback,FT=yi.unstable_shouldYield,BT=yi.unstable_requestPaint,Fn=yi.unstable_now,UT=yi.unstable_getCurrentPriorityLevel,Vg=yi.unstable_ImmediatePriority,P3=yi.unstable_UserBlockingPriority,N0=yi.unstable_NormalPriority,zT=yi.unstable_LowPriority,F3=yi.unstable_IdlePriority,Ch=null,ks=null;function WT(e){if(ks&&typeof ks.onCommitFiberRoot=="function")try{ks.onCommitFiberRoot(Ch,e,void 0,(e.current.flags&128)===128)}catch{}}var is=Math.clz32?Math.clz32:VT,HT=Math.log,qT=Math.LN2;function VT(e){return e>>>=0,e===0?32:31-(HT(e)/qT|0)|0}var kf=64,Df=4194304;function _u(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _0(e,n){var t=e.pendingLanes;if(t===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,d=t&268435455;if(d!==0){var g=d&~s;g!==0?r=_u(g):(a&=d,a!==0&&(r=_u(a)))}else d=t&~s,d!==0?r=_u(d):a!==0&&(r=_u(a));if(r===0)return 0;if(n!==0&&n!==r&&!(n&s)&&(s=r&-r,a=n&-n,s>=a||s===16&&(a&4194240)!==0))return n;if(r&4&&(r|=t&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=r;0<n;)t=31-is(n),s=1<<t,r|=e[t],n&=~s;return r}function YT(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GT(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var d=31-is(a),g=1<<d,v=s[d];v===-1?(!(g&t)||g&r)&&(s[d]=YT(g,n)):v<=n&&(e.expiredLanes|=g),a&=~g}}function ym(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function B3(){var e=kf;return kf<<=1,!(kf&4194240)&&(kf=64),e}function x1(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function hd(e,n,t){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-is(n),e[n]=t}function $T(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var s=31-is(t),a=1<<s;n[s]=0,r[s]=-1,e[s]=-1,t&=~a}}function Yg(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-is(t),s=1<<r;s&n|e[r]&n&&(e[r]|=n),t&=~s}}var Xt=0;function U3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var z3,Gg,W3,H3,q3,wm=!1,If=[],$a=null,Xa=null,Qa=null,Wu=new Map,Hu=new Map,za=[],XT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function my(e,n){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":Wu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(n.pointerId)}}function fu(e,n,t,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},n!==null&&(n=md(n),n!==null&&Gg(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,s!==null&&n.indexOf(s)===-1&&n.push(s),e)}function QT(e,n,t,r,s){switch(n){case"focusin":return $a=fu($a,e,n,t,r,s),!0;case"dragenter":return Xa=fu(Xa,e,n,t,r,s),!0;case"mouseover":return Qa=fu(Qa,e,n,t,r,s),!0;case"pointerover":var a=s.pointerId;return Wu.set(a,fu(Wu.get(a)||null,e,n,t,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Hu.set(a,fu(Hu.get(a)||null,e,n,t,r,s)),!0}return!1}function V3(e){var n=Ho(e.target);if(n!==null){var t=fl(n);if(t!==null){if(n=t.tag,n===13){if(n=O3(t),n!==null){e.blockedOn=n,q3(e.priority,function(){W3(t)});return}}else if(n===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jf(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=bm(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var r=new t.constructor(t.type,t);mm=r,t.target.dispatchEvent(r),mm=null}else return n=md(t),n!==null&&Gg(n),e.blockedOn=t,!1;n.shift()}return!0}function gy(e,n,t){Jf(e)&&t.delete(n)}function KT(){wm=!1,$a!==null&&Jf($a)&&($a=null),Xa!==null&&Jf(Xa)&&(Xa=null),Qa!==null&&Jf(Qa)&&(Qa=null),Wu.forEach(gy),Hu.forEach(gy)}function hu(e,n){e.blockedOn===n&&(e.blockedOn=null,wm||(wm=!0,yi.unstable_scheduleCallback(yi.unstable_NormalPriority,KT)))}function qu(e){function n(s){return hu(s,e)}if(0<If.length){hu(If[0],e);for(var t=1;t<If.length;t++){var r=If[t];r.blockedOn===e&&(r.blockedOn=null)}}for($a!==null&&hu($a,e),Xa!==null&&hu(Xa,e),Qa!==null&&hu(Qa,e),Wu.forEach(n),Hu.forEach(n),t=0;t<za.length;t++)r=za[t],r.blockedOn===e&&(r.blockedOn=null);for(;0<za.length&&(t=za[0],t.blockedOn===null);)V3(t),t.blockedOn===null&&za.shift()}var ec=va.ReactCurrentBatchConfig,S0=!0;function ZT(e,n,t,r){var s=Xt,a=ec.transition;ec.transition=null;try{Xt=1,$g(e,n,t,r)}finally{Xt=s,ec.transition=a}}function JT(e,n,t,r){var s=Xt,a=ec.transition;ec.transition=null;try{Xt=4,$g(e,n,t,r)}finally{Xt=s,ec.transition=a}}function $g(e,n,t,r){if(S0){var s=bm(e,n,t,r);if(s===null)A1(e,n,r,A0,t),my(e,r);else if(QT(s,e,n,t,r))r.stopPropagation();else if(my(e,r),n&4&&-1<XT.indexOf(e)){for(;s!==null;){var a=md(s);if(a!==null&&z3(a),a=bm(e,n,t,r),a===null&&A1(e,n,r,A0,t),a===s)break;s=a}s!==null&&r.stopPropagation()}else A1(e,n,r,null,t)}}var A0=null;function bm(e,n,t,r){if(A0=null,e=qg(r),e=Ho(e),e!==null)if(n=fl(e),n===null)e=null;else if(t=n.tag,t===13){if(e=O3(n),e!==null)return e;e=null}else if(t===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return A0=e,null}function Y3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UT()){case Vg:return 1;case P3:return 4;case N0:case zT:return 16;case F3:return 536870912;default:return 16}default:return 16}}var qa=null,Xg=null,e0=null;function G3(){if(e0)return e0;var e,n=Xg,t=n.length,r,s="value"in qa?qa.value:qa.textContent,a=s.length;for(e=0;e<t&&n[e]===s[e];e++);var d=t-e;for(r=1;r<=d&&n[t-r]===s[a-r];r++);return e0=s.slice(e,1<r?1-r:void 0)}function t0(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Rf(){return!0}function xy(){return!1}function bi(e){function n(t,r,s,a,d){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(t=e[g],this[g]=t?t(a):a[g]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Rf:xy,this.isPropagationStopped=xy,this}return Cn(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),n}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qg=bi(Nc),pd=Cn({},Nc,{view:0,detail:0}),ek=bi(pd),v1,y1,pu,Eh=Cn({},pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pu&&(pu&&e.type==="mousemove"?(v1=e.screenX-pu.screenX,y1=e.screenY-pu.screenY):y1=v1=0,pu=e),v1)},movementY:function(e){return"movementY"in e?e.movementY:y1}}),vy=bi(Eh),tk=Cn({},Eh,{dataTransfer:0}),nk=bi(tk),rk=Cn({},pd,{relatedTarget:0}),w1=bi(rk),ik=Cn({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),sk=bi(ik),ak=Cn({},Nc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ok=bi(ak),lk=Cn({},Nc,{data:0}),yy=bi(lk),ck={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fk(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=dk[e])?!!n[e]:!1}function Kg(){return fk}var hk=Cn({},pd,{key:function(e){if(e.key){var n=ck[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=t0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kg,charCode:function(e){return e.type==="keypress"?t0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?t0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pk=bi(hk),mk=Cn({},Eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=bi(mk),gk=Cn({},pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kg}),xk=bi(gk),vk=Cn({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),yk=bi(vk),wk=Cn({},Eh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bk=bi(wk),Ck=[9,13,27,32],Zg=da&&"CompositionEvent"in window,Iu=null;da&&"documentMode"in document&&(Iu=document.documentMode);var Ek=da&&"TextEvent"in window&&!Iu,$3=da&&(!Zg||Iu&&8<Iu&&11>=Iu),by=String.fromCharCode(32),Cy=!1;function X3(e,n){switch(e){case"keyup":return Ck.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bl=!1;function Nk(e,n){switch(e){case"compositionend":return Q3(n);case"keypress":return n.which!==32?null:(Cy=!0,by);case"textInput":return e=n.data,e===by&&Cy?null:e;default:return null}}function _k(e,n){if(Bl)return e==="compositionend"||!Zg&&X3(e,n)?(e=G3(),e0=Xg=qa=null,Bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return $3&&n.locale!=="ko"?null:n.data;default:return null}}var Sk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Sk[e.type]:n==="textarea"}function K3(e,n,t,r){T3(r),n=T0(n,"onChange"),0<n.length&&(t=new Qg("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Ru=null,Vu=null;function Ak(e){l4(e,0)}function Nh(e){var n=Wl(e);if(b3(n))return e}function Tk(e,n){if(e==="change")return n}var Z3=!1;if(da){var b1;if(da){var C1="oninput"in document;if(!C1){var Ny=document.createElement("div");Ny.setAttribute("oninput","return;"),C1=typeof Ny.oninput=="function"}b1=C1}else b1=!1;Z3=b1&&(!document.documentMode||9<document.documentMode)}function _y(){Ru&&(Ru.detachEvent("onpropertychange",J3),Vu=Ru=null)}function J3(e){if(e.propertyName==="value"&&Nh(Vu)){var n=[];K3(n,Vu,e,qg(e)),R3(Ak,n)}}function kk(e,n,t){e==="focusin"?(_y(),Ru=n,Vu=t,Ru.attachEvent("onpropertychange",J3)):e==="focusout"&&_y()}function Dk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nh(Vu)}function Ik(e,n){if(e==="click")return Nh(n)}function Rk(e,n){if(e==="input"||e==="change")return Nh(n)}function Ok(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ls=typeof Object.is=="function"?Object.is:Ok;function Yu(e,n){if(ls(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!rm.call(n,s)||!ls(e[s],n[s]))return!1}return!0}function Sy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ay(e,n){var t=Sy(e);e=0;for(var r;t;){if(t.nodeType===3){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Sy(t)}}function e4(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?e4(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function t4(){for(var e=window,n=b0();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=b0(e.document)}return n}function Jg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function jk(e){var n=t4(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&e4(t.ownerDocument.documentElement,t)){if(r!==null&&Jg(t)){if(n=r.start,e=r.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var s=t.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Ay(t,a);var d=Ay(t,r);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(n=n.createRange(),n.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(n),e.extend(d.node,d.offset)):(n.setEnd(d.node,d.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mk=da&&"documentMode"in document&&11>=document.documentMode,Ul=null,Cm=null,Ou=null,Em=!1;function Ty(e,n,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Em||Ul==null||Ul!==b0(r)||(r=Ul,"selectionStart"in r&&Jg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ou&&Yu(Ou,r)||(Ou=r,r=T0(Cm,"onSelect"),0<r.length&&(n=new Qg("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=Ul)))}function Of(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var zl={animationend:Of("Animation","AnimationEnd"),animationiteration:Of("Animation","AnimationIteration"),animationstart:Of("Animation","AnimationStart"),transitionend:Of("Transition","TransitionEnd")},E1={},n4={};da&&(n4=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function _h(e){if(E1[e])return E1[e];if(!zl[e])return e;var n=zl[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in n4)return E1[e]=n[t];return e}var r4=_h("animationend"),i4=_h("animationiteration"),s4=_h("animationstart"),a4=_h("transitionend"),o4=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(e,n){o4.set(e,n),dl(n,[e])}for(var N1=0;N1<ky.length;N1++){var _1=ky[N1],Lk=_1.toLowerCase(),Pk=_1[0].toUpperCase()+_1.slice(1);co(Lk,"on"+Pk)}co(r4,"onAnimationEnd");co(i4,"onAnimationIteration");co(s4,"onAnimationStart");co("dblclick","onDoubleClick");co("focusin","onFocus");co("focusout","onBlur");co(a4,"onTransitionEnd");ac("onMouseEnter",["mouseout","mouseover"]);ac("onMouseLeave",["mouseout","mouseover"]);ac("onPointerEnter",["pointerout","pointerover"]);ac("onPointerLeave",["pointerout","pointerover"]);dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Su));function Dy(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,LT(r,n,void 0,e),e.currentTarget=null}function l4(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var r=e[t],s=r.event;r=r.listeners;e:{var a=void 0;if(n)for(var d=r.length-1;0<=d;d--){var g=r[d],v=g.instance,x=g.currentTarget;if(g=g.listener,v!==a&&s.isPropagationStopped())break e;Dy(s,g,x),a=v}else for(d=0;d<r.length;d++){if(g=r[d],v=g.instance,x=g.currentTarget,g=g.listener,v!==a&&s.isPropagationStopped())break e;Dy(s,g,x),a=v}}}if(E0)throw e=vm,E0=!1,vm=null,e}function on(e,n){var t=n[Tm];t===void 0&&(t=n[Tm]=new Set);var r=e+"__bubble";t.has(r)||(c4(n,e,2,!1),t.add(r))}function S1(e,n,t){var r=0;n&&(r|=4),c4(t,e,r,n)}var jf="_reactListening"+Math.random().toString(36).slice(2);function Gu(e){if(!e[jf]){e[jf]=!0,g3.forEach(function(t){t!=="selectionchange"&&(Fk.has(t)||S1(t,!1,e),S1(t,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[jf]||(n[jf]=!0,S1("selectionchange",!1,n))}}function c4(e,n,t,r){switch(Y3(n)){case 1:var s=ZT;break;case 4:s=JT;break;default:s=$g}t=s.bind(null,n,t,e),s=void 0,!xm||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(n,t,{capture:!0,passive:s}):e.addEventListener(n,t,!0):s!==void 0?e.addEventListener(n,t,{passive:s}):e.addEventListener(n,t,!1)}function A1(e,n,t,r,s){var a=r;if(!(n&1)&&!(n&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var g=r.stateNode.containerInfo;if(g===s||g.nodeType===8&&g.parentNode===s)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&(v=d.stateNode.containerInfo,v===s||v.nodeType===8&&v.parentNode===s))return;d=d.return}for(;g!==null;){if(d=Ho(g),d===null)return;if(v=d.tag,v===5||v===6){r=a=d;continue e}g=g.parentNode}}r=r.return}R3(function(){var x=a,w=qg(t),E=[];e:{var _=o4.get(e);if(_!==void 0){var k=Qg,S=e;switch(e){case"keypress":if(t0(t)===0)break e;case"keydown":case"keyup":k=pk;break;case"focusin":S="focus",k=w1;break;case"focusout":S="blur",k=w1;break;case"beforeblur":case"afterblur":k=w1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=nk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=xk;break;case r4:case i4:case s4:k=sk;break;case a4:k=yk;break;case"scroll":k=ek;break;case"wheel":k=bk;break;case"copy":case"cut":case"paste":k=ok;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=wy}var R=(n&4)!==0,j=!R&&e==="scroll",I=R?_!==null?_+"Capture":null:_;R=[];for(var D=x,O;D!==null;){O=D;var q=O.stateNode;if(O.tag===5&&q!==null&&(O=q,I!==null&&(q=zu(D,I),q!=null&&R.push($u(D,q,O)))),j)break;D=D.return}0<R.length&&(_=new k(_,S,null,t,w),E.push({event:_,listeners:R}))}}if(!(n&7)){e:{if(_=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",_&&t!==mm&&(S=t.relatedTarget||t.fromElement)&&(Ho(S)||S[fa]))break e;if((k||_)&&(_=w.window===w?w:(_=w.ownerDocument)?_.defaultView||_.parentWindow:window,k?(S=t.relatedTarget||t.toElement,k=x,S=S?Ho(S):null,S!==null&&(j=fl(S),S!==j||S.tag!==5&&S.tag!==6)&&(S=null)):(k=null,S=x),k!==S)){if(R=vy,q="onMouseLeave",I="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(R=wy,q="onPointerLeave",I="onPointerEnter",D="pointer"),j=k==null?_:Wl(k),O=S==null?_:Wl(S),_=new R(q,D+"leave",k,t,w),_.target=j,_.relatedTarget=O,q=null,Ho(w)===x&&(R=new R(I,D+"enter",S,t,w),R.target=O,R.relatedTarget=j,q=R),j=q,k&&S)t:{for(R=k,I=S,D=0,O=R;O;O=jl(O))D++;for(O=0,q=I;q;q=jl(q))O++;for(;0<D-O;)R=jl(R),D--;for(;0<O-D;)I=jl(I),O--;for(;D--;){if(R===I||I!==null&&R===I.alternate)break t;R=jl(R),I=jl(I)}R=null}else R=null;k!==null&&Iy(E,_,k,R,!1),S!==null&&j!==null&&Iy(E,j,S,R,!0)}}e:{if(_=x?Wl(x):window,k=_.nodeName&&_.nodeName.toLowerCase(),k==="select"||k==="input"&&_.type==="file")var Q=Tk;else if(Ey(_))if(Z3)Q=Rk;else{Q=Dk;var z=kk}else(k=_.nodeName)&&k.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(Q=Ik);if(Q&&(Q=Q(e,x))){K3(E,Q,t,w);break e}z&&z(e,_,x),e==="focusout"&&(z=_._wrapperState)&&z.controlled&&_.type==="number"&&um(_,"number",_.value)}switch(z=x?Wl(x):window,e){case"focusin":(Ey(z)||z.contentEditable==="true")&&(Ul=z,Cm=x,Ou=null);break;case"focusout":Ou=Cm=Ul=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,Ty(E,t,w);break;case"selectionchange":if(Mk)break;case"keydown":case"keyup":Ty(E,t,w)}var P;if(Zg)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Bl?X3(e,t)&&(V="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(V="onCompositionStart");V&&($3&&t.locale!=="ko"&&(Bl||V!=="onCompositionStart"?V==="onCompositionEnd"&&Bl&&(P=G3()):(qa=w,Xg="value"in qa?qa.value:qa.textContent,Bl=!0)),z=T0(x,V),0<z.length&&(V=new yy(V,e,null,t,w),E.push({event:V,listeners:z}),P?V.data=P:(P=Q3(t),P!==null&&(V.data=P)))),(P=Ek?Nk(e,t):_k(e,t))&&(x=T0(x,"onBeforeInput"),0<x.length&&(w=new yy("onBeforeInput","beforeinput",null,t,w),E.push({event:w,listeners:x}),w.data=P))}l4(E,n)})}function $u(e,n,t){return{instance:e,listener:n,currentTarget:t}}function T0(e,n){for(var t=n+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=zu(e,t),a!=null&&r.unshift($u(e,a,s)),a=zu(e,n),a!=null&&r.push($u(e,a,s))),e=e.return}return r}function jl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Iy(e,n,t,r,s){for(var a=n._reactName,d=[];t!==null&&t!==r;){var g=t,v=g.alternate,x=g.stateNode;if(v!==null&&v===r)break;g.tag===5&&x!==null&&(g=x,s?(v=zu(t,a),v!=null&&d.unshift($u(t,v,g))):s||(v=zu(t,a),v!=null&&d.push($u(t,v,g)))),t=t.return}d.length!==0&&e.push({event:n,listeners:d})}var Bk=/\r\n?/g,Uk=/\u0000|\uFFFD/g;function Ry(e){return(typeof e=="string"?e:""+e).replace(Bk,`
`).replace(Uk,"")}function Mf(e,n,t){if(n=Ry(n),Ry(e)!==n&&t)throw Error(Se(425))}function k0(){}var Nm=null,_m=null;function Sm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Am=typeof setTimeout=="function"?setTimeout:void 0,zk=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,Wk=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(e){return Oy.resolve(null).then(e).catch(Hk)}:Am;function Hk(e){setTimeout(function(){throw e})}function T1(e,n){var t=n,r=0;do{var s=t.nextSibling;if(e.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){e.removeChild(s),qu(n);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);qu(n)}function Ka(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function jy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var _c=Math.random().toString(36).slice(2),_s="__reactFiber$"+_c,Xu="__reactProps$"+_c,fa="__reactContainer$"+_c,Tm="__reactEvents$"+_c,qk="__reactListeners$"+_c,Vk="__reactHandles$"+_c;function Ho(e){var n=e[_s];if(n)return n;for(var t=e.parentNode;t;){if(n=t[fa]||t[_s]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=jy(e);e!==null;){if(t=e[_s])return t;e=jy(e)}return n}e=t,t=e.parentNode}return null}function md(e){return e=e[_s]||e[fa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function Sh(e){return e[Xu]||null}var km=[],Hl=-1;function uo(e){return{current:e}}function cn(e){0>Hl||(e.current=km[Hl],km[Hl]=null,Hl--)}function rn(e,n){Hl++,km[Hl]=e.current,e.current=n}var ao={},Ir=uo(ao),ei=uo(!1),tl=ao;function oc(e,n){var t=e.type.contextTypes;if(!t)return ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in t)s[a]=n[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),s}function ti(e){return e=e.childContextTypes,e!=null}function D0(){cn(ei),cn(Ir)}function My(e,n,t){if(Ir.current!==ao)throw Error(Se(168));rn(Ir,n),rn(ei,t)}function u4(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in n))throw Error(Se(108,kT(e)||"Unknown",s));return Cn({},t,r)}function I0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ao,tl=Ir.current,rn(Ir,e),rn(ei,ei.current),!0}function Ly(e,n,t){var r=e.stateNode;if(!r)throw Error(Se(169));t?(e=u4(e,n,tl),r.__reactInternalMemoizedMergedChildContext=e,cn(ei),cn(Ir),rn(Ir,e)):cn(ei),rn(ei,t)}var ta=null,Ah=!1,k1=!1;function d4(e){ta===null?ta=[e]:ta.push(e)}function Yk(e){Ah=!0,d4(e)}function fo(){if(!k1&&ta!==null){k1=!0;var e=0,n=Xt;try{var t=ta;for(Xt=1;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}ta=null,Ah=!1}catch(s){throw ta!==null&&(ta=ta.slice(e+1)),L3(Vg,fo),s}finally{Xt=n,k1=!1}}return null}var ql=[],Vl=0,R0=null,O0=0,Bi=[],Ui=0,nl=null,na=1,ra="";function Bo(e,n){ql[Vl++]=O0,ql[Vl++]=R0,R0=e,O0=n}function f4(e,n,t){Bi[Ui++]=na,Bi[Ui++]=ra,Bi[Ui++]=nl,nl=e;var r=na;e=ra;var s=32-is(r)-1;r&=~(1<<s),t+=1;var a=32-is(n)+s;if(30<a){var d=s-s%5;a=(r&(1<<d)-1).toString(32),r>>=d,s-=d,na=1<<32-is(n)+s|t<<s|r,ra=a+e}else na=1<<a|t<<s|r,ra=e}function ex(e){e.return!==null&&(Bo(e,1),f4(e,1,0))}function tx(e){for(;e===R0;)R0=ql[--Vl],ql[Vl]=null,O0=ql[--Vl],ql[Vl]=null;for(;e===nl;)nl=Bi[--Ui],Bi[Ui]=null,ra=Bi[--Ui],Bi[Ui]=null,na=Bi[--Ui],Bi[Ui]=null}var xi=null,gi=null,pn=!1,rs=null;function h4(e,n){var t=Wi(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)}function Py(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,xi=e,gi=Ka(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,xi=e,gi=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(t=nl!==null?{id:na,overflow:ra}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},t=Wi(18,null,null,0),t.stateNode=n,t.return=e,e.child=t,xi=e,gi=null,!0):!1;default:return!1}}function Dm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Im(e){if(pn){var n=gi;if(n){var t=n;if(!Py(e,n)){if(Dm(e))throw Error(Se(418));n=Ka(t.nextSibling);var r=xi;n&&Py(e,n)?h4(r,t):(e.flags=e.flags&-4097|2,pn=!1,xi=e)}}else{if(Dm(e))throw Error(Se(418));e.flags=e.flags&-4097|2,pn=!1,xi=e}}}function Fy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xi=e}function Lf(e){if(e!==xi)return!1;if(!pn)return Fy(e),pn=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Sm(e.type,e.memoizedProps)),n&&(n=gi)){if(Dm(e))throw p4(),Error(Se(418));for(;n;)h4(e,n),n=Ka(n.nextSibling)}if(Fy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){gi=Ka(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}gi=null}}else gi=xi?Ka(e.stateNode.nextSibling):null;return!0}function p4(){for(var e=gi;e;)e=Ka(e.nextSibling)}function lc(){gi=xi=null,pn=!1}function nx(e){rs===null?rs=[e]:rs.push(e)}var Gk=va.ReactCurrentBatchConfig;function mu(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Se(309));var r=t.stateNode}if(!r)throw Error(Se(147,e));var s=r,a=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===a?n.ref:(n=function(d){var g=s.refs;d===null?delete g[a]:g[a]=d},n._stringRef=a,n)}if(typeof e!="string")throw Error(Se(284));if(!t._owner)throw Error(Se(290,e))}return e}function Pf(e,n){throw e=Object.prototype.toString.call(n),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function By(e){var n=e._init;return n(e._payload)}function m4(e){function n(I,D){if(e){var O=I.deletions;O===null?(I.deletions=[D],I.flags|=16):O.push(D)}}function t(I,D){if(!e)return null;for(;D!==null;)n(I,D),D=D.sibling;return null}function r(I,D){for(I=new Map;D!==null;)D.key!==null?I.set(D.key,D):I.set(D.index,D),D=D.sibling;return I}function s(I,D){return I=to(I,D),I.index=0,I.sibling=null,I}function a(I,D,O){return I.index=O,e?(O=I.alternate,O!==null?(O=O.index,O<D?(I.flags|=2,D):O):(I.flags|=2,D)):(I.flags|=1048576,D)}function d(I){return e&&I.alternate===null&&(I.flags|=2),I}function g(I,D,O,q){return D===null||D.tag!==6?(D=L1(O,I.mode,q),D.return=I,D):(D=s(D,O),D.return=I,D)}function v(I,D,O,q){var Q=O.type;return Q===Fl?w(I,D,O.props.children,q,O.key):D!==null&&(D.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Fa&&By(Q)===D.type)?(q=s(D,O.props),q.ref=mu(I,D,O),q.return=I,q):(q=l0(O.type,O.key,O.props,null,I.mode,q),q.ref=mu(I,D,O),q.return=I,q)}function x(I,D,O,q){return D===null||D.tag!==4||D.stateNode.containerInfo!==O.containerInfo||D.stateNode.implementation!==O.implementation?(D=P1(O,I.mode,q),D.return=I,D):(D=s(D,O.children||[]),D.return=I,D)}function w(I,D,O,q,Q){return D===null||D.tag!==7?(D=Ko(O,I.mode,q,Q),D.return=I,D):(D=s(D,O),D.return=I,D)}function E(I,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return D=L1(""+D,I.mode,O),D.return=I,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Sf:return O=l0(D.type,D.key,D.props,null,I.mode,O),O.ref=mu(I,null,D),O.return=I,O;case Pl:return D=P1(D,I.mode,O),D.return=I,D;case Fa:var q=D._init;return E(I,q(D._payload),O)}if(Nu(D)||uu(D))return D=Ko(D,I.mode,O,null),D.return=I,D;Pf(I,D)}return null}function _(I,D,O,q){var Q=D!==null?D.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return Q!==null?null:g(I,D,""+O,q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Sf:return O.key===Q?v(I,D,O,q):null;case Pl:return O.key===Q?x(I,D,O,q):null;case Fa:return Q=O._init,_(I,D,Q(O._payload),q)}if(Nu(O)||uu(O))return Q!==null?null:w(I,D,O,q,null);Pf(I,O)}return null}function k(I,D,O,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return I=I.get(O)||null,g(D,I,""+q,Q);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Sf:return I=I.get(q.key===null?O:q.key)||null,v(D,I,q,Q);case Pl:return I=I.get(q.key===null?O:q.key)||null,x(D,I,q,Q);case Fa:var z=q._init;return k(I,D,O,z(q._payload),Q)}if(Nu(q)||uu(q))return I=I.get(O)||null,w(D,I,q,Q,null);Pf(D,q)}return null}function S(I,D,O,q){for(var Q=null,z=null,P=D,V=D=0,W=null;P!==null&&V<O.length;V++){P.index>V?(W=P,P=null):W=P.sibling;var se=_(I,P,O[V],q);if(se===null){P===null&&(P=W);break}e&&P&&se.alternate===null&&n(I,P),D=a(se,D,V),z===null?Q=se:z.sibling=se,z=se,P=W}if(V===O.length)return t(I,P),pn&&Bo(I,V),Q;if(P===null){for(;V<O.length;V++)P=E(I,O[V],q),P!==null&&(D=a(P,D,V),z===null?Q=P:z.sibling=P,z=P);return pn&&Bo(I,V),Q}for(P=r(I,P);V<O.length;V++)W=k(P,I,V,O[V],q),W!==null&&(e&&W.alternate!==null&&P.delete(W.key===null?V:W.key),D=a(W,D,V),z===null?Q=W:z.sibling=W,z=W);return e&&P.forEach(function(ce){return n(I,ce)}),pn&&Bo(I,V),Q}function R(I,D,O,q){var Q=uu(O);if(typeof Q!="function")throw Error(Se(150));if(O=Q.call(O),O==null)throw Error(Se(151));for(var z=Q=null,P=D,V=D=0,W=null,se=O.next();P!==null&&!se.done;V++,se=O.next()){P.index>V?(W=P,P=null):W=P.sibling;var ce=_(I,P,se.value,q);if(ce===null){P===null&&(P=W);break}e&&P&&ce.alternate===null&&n(I,P),D=a(ce,D,V),z===null?Q=ce:z.sibling=ce,z=ce,P=W}if(se.done)return t(I,P),pn&&Bo(I,V),Q;if(P===null){for(;!se.done;V++,se=O.next())se=E(I,se.value,q),se!==null&&(D=a(se,D,V),z===null?Q=se:z.sibling=se,z=se);return pn&&Bo(I,V),Q}for(P=r(I,P);!se.done;V++,se=O.next())se=k(P,I,V,se.value,q),se!==null&&(e&&se.alternate!==null&&P.delete(se.key===null?V:se.key),D=a(se,D,V),z===null?Q=se:z.sibling=se,z=se);return e&&P.forEach(function(ae){return n(I,ae)}),pn&&Bo(I,V),Q}function j(I,D,O,q){if(typeof O=="object"&&O!==null&&O.type===Fl&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Sf:e:{for(var Q=O.key,z=D;z!==null;){if(z.key===Q){if(Q=O.type,Q===Fl){if(z.tag===7){t(I,z.sibling),D=s(z,O.props.children),D.return=I,I=D;break e}}else if(z.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Fa&&By(Q)===z.type){t(I,z.sibling),D=s(z,O.props),D.ref=mu(I,z,O),D.return=I,I=D;break e}t(I,z);break}else n(I,z);z=z.sibling}O.type===Fl?(D=Ko(O.props.children,I.mode,q,O.key),D.return=I,I=D):(q=l0(O.type,O.key,O.props,null,I.mode,q),q.ref=mu(I,D,O),q.return=I,I=q)}return d(I);case Pl:e:{for(z=O.key;D!==null;){if(D.key===z)if(D.tag===4&&D.stateNode.containerInfo===O.containerInfo&&D.stateNode.implementation===O.implementation){t(I,D.sibling),D=s(D,O.children||[]),D.return=I,I=D;break e}else{t(I,D);break}else n(I,D);D=D.sibling}D=P1(O,I.mode,q),D.return=I,I=D}return d(I);case Fa:return z=O._init,j(I,D,z(O._payload),q)}if(Nu(O))return S(I,D,O,q);if(uu(O))return R(I,D,O,q);Pf(I,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,D!==null&&D.tag===6?(t(I,D.sibling),D=s(D,O),D.return=I,I=D):(t(I,D),D=L1(O,I.mode,q),D.return=I,I=D),d(I)):t(I,D)}return j}var cc=m4(!0),g4=m4(!1),j0=uo(null),M0=null,Yl=null,rx=null;function ix(){rx=Yl=M0=null}function sx(e){var n=j0.current;cn(j0),e._currentValue=n}function Rm(e,n,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function tc(e,n){M0=e,rx=Yl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Jr=!0),e.firstContext=null)}function qi(e){var n=e._currentValue;if(rx!==e)if(e={context:e,memoizedValue:n,next:null},Yl===null){if(M0===null)throw Error(Se(308));Yl=e,M0.dependencies={lanes:0,firstContext:e}}else Yl=Yl.next=e;return n}var qo=null;function ax(e){qo===null?qo=[e]:qo.push(e)}function x4(e,n,t,r){var s=n.interleaved;return s===null?(t.next=t,ax(n)):(t.next=s.next,s.next=t),n.interleaved=t,ha(e,r)}function ha(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}var Ba=!1;function ox(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v4(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Za(e,n,t){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Rt&2){var s=r.pending;return s===null?n.next=n:(n.next=s.next,s.next=n),r.pending=n,ha(e,t)}return s=r.interleaved,s===null?(n.next=n,ax(r)):(n.next=s.next,s.next=n),r.interleaved=n,ha(e,t)}function n0(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194240)!==0)){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Yg(e,t)}}function Uy(e,n){var t=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var d={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};a===null?s=a=d:a=a.next=d,t=t.next}while(t!==null);a===null?s=a=n:a=a.next=n}else s=a=n;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function L0(e,n,t,r){var s=e.updateQueue;Ba=!1;var a=s.firstBaseUpdate,d=s.lastBaseUpdate,g=s.shared.pending;if(g!==null){s.shared.pending=null;var v=g,x=v.next;v.next=null,d===null?a=x:d.next=x,d=v;var w=e.alternate;w!==null&&(w=w.updateQueue,g=w.lastBaseUpdate,g!==d&&(g===null?w.firstBaseUpdate=x:g.next=x,w.lastBaseUpdate=v))}if(a!==null){var E=s.baseState;d=0,w=x=v=null,g=a;do{var _=g.lane,k=g.eventTime;if((r&_)===_){w!==null&&(w=w.next={eventTime:k,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var S=e,R=g;switch(_=n,k=t,R.tag){case 1:if(S=R.payload,typeof S=="function"){E=S.call(k,E,_);break e}E=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=R.payload,_=typeof S=="function"?S.call(k,E,_):S,_==null)break e;E=Cn({},E,_);break e;case 2:Ba=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,_=s.effects,_===null?s.effects=[g]:_.push(g))}else k={eventTime:k,lane:_,tag:g.tag,payload:g.payload,callback:g.callback,next:null},w===null?(x=w=k,v=E):w=w.next=k,d|=_;if(g=g.next,g===null){if(g=s.shared.pending,g===null)break;_=g,g=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(1);if(w===null&&(v=E),s.baseState=v,s.firstBaseUpdate=x,s.lastBaseUpdate=w,n=s.shared.interleaved,n!==null){s=n;do d|=s.lane,s=s.next;while(s!==n)}else a===null&&(s.shared.lanes=0);il|=d,e.lanes=d,e.memoizedState=E}}function zy(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var r=e[n],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(Se(191,s));s.call(r)}}}var gd={},Ds=uo(gd),Qu=uo(gd),Ku=uo(gd);function Vo(e){if(e===gd)throw Error(Se(174));return e}function lx(e,n){switch(rn(Ku,n),rn(Qu,e),rn(Ds,gd),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:fm(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=fm(n,e)}cn(Ds),rn(Ds,n)}function uc(){cn(Ds),cn(Qu),cn(Ku)}function y4(e){Vo(Ku.current);var n=Vo(Ds.current),t=fm(n,e.type);n!==t&&(rn(Qu,e),rn(Ds,t))}function cx(e){Qu.current===e&&(cn(Ds),cn(Qu))}var yn=uo(0);function P0(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var D1=[];function ux(){for(var e=0;e<D1.length;e++)D1[e]._workInProgressVersionPrimary=null;D1.length=0}var r0=va.ReactCurrentDispatcher,I1=va.ReactCurrentBatchConfig,rl=0,bn=null,er=null,or=null,F0=!1,ju=!1,Zu=0,$k=0;function Sr(){throw Error(Se(321))}function dx(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!ls(e[t],n[t]))return!1;return!0}function fx(e,n,t,r,s,a){if(rl=a,bn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,r0.current=e===null||e.memoizedState===null?Zk:Jk,e=t(r,s),ju){a=0;do{if(ju=!1,Zu=0,25<=a)throw Error(Se(301));a+=1,or=er=null,n.updateQueue=null,r0.current=eD,e=t(r,s)}while(ju)}if(r0.current=B0,n=er!==null&&er.next!==null,rl=0,or=er=bn=null,F0=!1,n)throw Error(Se(300));return e}function hx(){var e=Zu!==0;return Zu=0,e}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?bn.memoizedState=or=e:or=or.next=e,or}function Vi(){if(er===null){var e=bn.alternate;e=e!==null?e.memoizedState:null}else e=er.next;var n=or===null?bn.memoizedState:or.next;if(n!==null)or=n,er=e;else{if(e===null)throw Error(Se(310));er=e,e={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},or===null?bn.memoizedState=or=e:or=or.next=e}return or}function Ju(e,n){return typeof n=="function"?n(e):n}function R1(e){var n=Vi(),t=n.queue;if(t===null)throw Error(Se(311));t.lastRenderedReducer=e;var r=er,s=r.baseQueue,a=t.pending;if(a!==null){if(s!==null){var d=s.next;s.next=a.next,a.next=d}r.baseQueue=s=a,t.pending=null}if(s!==null){a=s.next,r=r.baseState;var g=d=null,v=null,x=a;do{var w=x.lane;if((rl&w)===w)v!==null&&(v=v.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:e(r,x.action);else{var E={lane:w,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};v===null?(g=v=E,d=r):v=v.next=E,bn.lanes|=w,il|=w}x=x.next}while(x!==null&&x!==a);v===null?d=r:v.next=g,ls(r,n.memoizedState)||(Jr=!0),n.memoizedState=r,n.baseState=d,n.baseQueue=v,t.lastRenderedState=r}if(e=t.interleaved,e!==null){s=e;do a=s.lane,bn.lanes|=a,il|=a,s=s.next;while(s!==e)}else s===null&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function O1(e){var n=Vi(),t=n.queue;if(t===null)throw Error(Se(311));t.lastRenderedReducer=e;var r=t.dispatch,s=t.pending,a=n.memoizedState;if(s!==null){t.pending=null;var d=s=s.next;do a=e(a,d.action),d=d.next;while(d!==s);ls(a,n.memoizedState)||(Jr=!0),n.memoizedState=a,n.baseQueue===null&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function w4(){}function b4(e,n){var t=bn,r=Vi(),s=n(),a=!ls(r.memoizedState,s);if(a&&(r.memoizedState=s,Jr=!0),r=r.queue,px(N4.bind(null,t,r,e),[e]),r.getSnapshot!==n||a||or!==null&&or.memoizedState.tag&1){if(t.flags|=2048,ed(9,E4.bind(null,t,r,s,n),void 0,null),lr===null)throw Error(Se(349));rl&30||C4(t,n,s)}return s}function C4(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=bn.updateQueue,n===null?(n={lastEffect:null,stores:null},bn.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function E4(e,n,t,r){n.value=t,n.getSnapshot=r,_4(n)&&S4(e)}function N4(e,n,t){return t(function(){_4(n)&&S4(e)})}function _4(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!ls(e,t)}catch{return!0}}function S4(e){var n=ha(e,1);n!==null&&ss(n,e,1,-1)}function Wy(e){var n=bs();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:e},n.queue=e,e=e.dispatch=Kk.bind(null,bn,e),[n.memoizedState,e]}function ed(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},n=bn.updateQueue,n===null?(n={lastEffect:null,stores:null},bn.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e)),e}function A4(){return Vi().memoizedState}function i0(e,n,t,r){var s=bs();bn.flags|=e,s.memoizedState=ed(1|n,t,void 0,r===void 0?null:r)}function Th(e,n,t,r){var s=Vi();r=r===void 0?null:r;var a=void 0;if(er!==null){var d=er.memoizedState;if(a=d.destroy,r!==null&&dx(r,d.deps)){s.memoizedState=ed(n,t,a,r);return}}bn.flags|=e,s.memoizedState=ed(1|n,t,a,r)}function Hy(e,n){return i0(8390656,8,e,n)}function px(e,n){return Th(2048,8,e,n)}function T4(e,n){return Th(4,2,e,n)}function k4(e,n){return Th(4,4,e,n)}function D4(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function I4(e,n,t){return t=t!=null?t.concat([e]):null,Th(4,4,D4.bind(null,n,e),t)}function mx(){}function R4(e,n){var t=Vi();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&dx(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function O4(e,n){var t=Vi();n=n===void 0?null:n;var r=t.memoizedState;return r!==null&&n!==null&&dx(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function j4(e,n,t){return rl&21?(ls(t,n)||(t=B3(),bn.lanes|=t,il|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Jr=!0),e.memoizedState=t)}function Xk(e,n){var t=Xt;Xt=t!==0&&4>t?t:4,e(!0);var r=I1.transition;I1.transition={};try{e(!1),n()}finally{Xt=t,I1.transition=r}}function M4(){return Vi().memoizedState}function Qk(e,n,t){var r=eo(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},L4(e))P4(n,t);else if(t=x4(e,n,t,r),t!==null){var s=Hr();ss(t,e,r,s),F4(t,n,r)}}function Kk(e,n,t){var r=eo(e),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(L4(e))P4(n,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=n.lastRenderedReducer,a!==null))try{var d=n.lastRenderedState,g=a(d,t);if(s.hasEagerState=!0,s.eagerState=g,ls(g,d)){var v=n.interleaved;v===null?(s.next=s,ax(n)):(s.next=v.next,v.next=s),n.interleaved=s;return}}catch{}finally{}t=x4(e,n,s,r),t!==null&&(s=Hr(),ss(t,e,r,s),F4(t,n,r))}}function L4(e){var n=e.alternate;return e===bn||n!==null&&n===bn}function P4(e,n){ju=F0=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function F4(e,n,t){if(t&4194240){var r=n.lanes;r&=e.pendingLanes,t|=r,n.lanes=t,Yg(e,t)}}var B0={readContext:qi,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},Zk={readContext:qi,useCallback:function(e,n){return bs().memoizedState=[e,n===void 0?null:n],e},useContext:qi,useEffect:Hy,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,i0(4194308,4,D4.bind(null,n,e),t)},useLayoutEffect:function(e,n){return i0(4194308,4,e,n)},useInsertionEffect:function(e,n){return i0(4,2,e,n)},useMemo:function(e,n){var t=bs();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=bs();return n=t!==void 0?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=Qk.bind(null,bn,e),[r.memoizedState,e]},useRef:function(e){var n=bs();return e={current:e},n.memoizedState=e},useState:Wy,useDebugValue:mx,useDeferredValue:function(e){return bs().memoizedState=e},useTransition:function(){var e=Wy(!1),n=e[0];return e=Xk.bind(null,e[1]),bs().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=bn,s=bs();if(pn){if(t===void 0)throw Error(Se(407));t=t()}else{if(t=n(),lr===null)throw Error(Se(349));rl&30||C4(r,n,t)}s.memoizedState=t;var a={value:t,getSnapshot:n};return s.queue=a,Hy(N4.bind(null,r,a,e),[e]),r.flags|=2048,ed(9,E4.bind(null,r,a,t,n),void 0,null),t},useId:function(){var e=bs(),n=lr.identifierPrefix;if(pn){var t=ra,r=na;t=(r&~(1<<32-is(r)-1)).toString(32)+t,n=":"+n+"R"+t,t=Zu++,0<t&&(n+="H"+t.toString(32)),n+=":"}else t=$k++,n=":"+n+"r"+t.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Jk={readContext:qi,useCallback:R4,useContext:qi,useEffect:px,useImperativeHandle:I4,useInsertionEffect:T4,useLayoutEffect:k4,useMemo:O4,useReducer:R1,useRef:A4,useState:function(){return R1(Ju)},useDebugValue:mx,useDeferredValue:function(e){var n=Vi();return j4(n,er.memoizedState,e)},useTransition:function(){var e=R1(Ju)[0],n=Vi().memoizedState;return[e,n]},useMutableSource:w4,useSyncExternalStore:b4,useId:M4,unstable_isNewReconciler:!1},eD={readContext:qi,useCallback:R4,useContext:qi,useEffect:px,useImperativeHandle:I4,useInsertionEffect:T4,useLayoutEffect:k4,useMemo:O4,useReducer:O1,useRef:A4,useState:function(){return O1(Ju)},useDebugValue:mx,useDeferredValue:function(e){var n=Vi();return er===null?n.memoizedState=e:j4(n,er.memoizedState,e)},useTransition:function(){var e=O1(Ju)[0],n=Vi().memoizedState;return[e,n]},useMutableSource:w4,useSyncExternalStore:b4,useId:M4,unstable_isNewReconciler:!1};function ts(e,n){if(e&&e.defaultProps){n=Cn({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}function Om(e,n,t,r){n=e.memoizedState,t=t(r,n),t=t==null?n:Cn({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var kh={isMounted:function(e){return(e=e._reactInternals)?fl(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=Hr(),s=eo(e),a=sa(r,s);a.payload=n,t!=null&&(a.callback=t),n=Za(e,a,s),n!==null&&(ss(n,e,s,r),n0(n,e,s))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=Hr(),s=eo(e),a=sa(r,s);a.tag=1,a.payload=n,t!=null&&(a.callback=t),n=Za(e,a,s),n!==null&&(ss(n,e,s,r),n0(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Hr(),r=eo(e),s=sa(t,r);s.tag=2,n!=null&&(s.callback=n),n=Za(e,s,r),n!==null&&(ss(n,e,r,t),n0(n,e,r))}};function qy(e,n,t,r,s,a,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,d):n.prototype&&n.prototype.isPureReactComponent?!Yu(t,r)||!Yu(s,a):!0}function B4(e,n,t){var r=!1,s=ao,a=n.contextType;return typeof a=="object"&&a!==null?a=qi(a):(s=ti(n)?tl:Ir.current,r=n.contextTypes,a=(r=r!=null)?oc(e,s):ao),n=new n(t,a),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=kh,e.stateNode=n,n._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),n}function Vy(e,n,t,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&kh.enqueueReplaceState(n,n.state,null)}function jm(e,n,t,r){var s=e.stateNode;s.props=t,s.state=e.memoizedState,s.refs={},ox(e);var a=n.contextType;typeof a=="object"&&a!==null?s.context=qi(a):(a=ti(n)?tl:Ir.current,s.context=oc(e,a)),s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Om(e,n,a,t),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(n=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),n!==s.state&&kh.enqueueReplaceState(s,s.state,null),L0(e,t,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function dc(e,n){try{var t="",r=n;do t+=TT(r),r=r.return;while(r);var s=t}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:n,stack:s,digest:null}}function j1(e,n,t){return{value:e,source:null,stack:t??null,digest:n??null}}function Mm(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var tD=typeof WeakMap=="function"?WeakMap:Map;function U4(e,n,t){t=sa(-1,t),t.tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){z0||(z0=!0,Vm=r),Mm(e,n)},t}function z4(e,n,t){t=sa(-1,t),t.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=n.value;t.payload=function(){return r(s)},t.callback=function(){Mm(e,n)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Mm(e,n),typeof r!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var d=n.stack;this.componentDidCatch(n.value,{componentStack:d!==null?d:""})}),t}function Yy(e,n,t){var r=e.pingCache;if(r===null){r=e.pingCache=new tD;var s=new Set;r.set(n,s)}else s=r.get(n),s===void 0&&(s=new Set,r.set(n,s));s.has(t)||(s.add(t),e=mD.bind(null,e,n,t),n.then(e,e))}function Gy(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function $y(e,n,t,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(n=sa(-1,1),n.tag=2,Za(t,n,1))),t.lanes|=1),e)}var nD=va.ReactCurrentOwner,Jr=!1;function Pr(e,n,t,r){n.child=e===null?g4(n,null,t,r):cc(n,e.child,t,r)}function Xy(e,n,t,r,s){t=t.render;var a=n.ref;return tc(n,s),r=fx(e,n,t,r,a,s),t=hx(),e!==null&&!Jr?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s,pa(e,n,s)):(pn&&t&&ex(n),n.flags|=1,Pr(e,n,r,s),n.child)}function Qy(e,n,t,r,s){if(e===null){var a=t.type;return typeof a=="function"&&!Ex(a)&&a.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=a,W4(e,n,a,r,s)):(e=l0(t.type,null,r,n,n.mode,s),e.ref=n.ref,e.return=n,n.child=e)}if(a=e.child,!(e.lanes&s)){var d=a.memoizedProps;if(t=t.compare,t=t!==null?t:Yu,t(d,r)&&e.ref===n.ref)return pa(e,n,s)}return n.flags|=1,e=to(a,r),e.ref=n.ref,e.return=n,n.child=e}function W4(e,n,t,r,s){if(e!==null){var a=e.memoizedProps;if(Yu(a,r)&&e.ref===n.ref)if(Jr=!1,n.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Jr=!0);else return n.lanes=e.lanes,pa(e,n,s)}return Lm(e,n,t,r,s)}function H4(e,n,t){var r=n.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn($l,mi),mi|=t;else{if(!(t&1073741824))return e=a!==null?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,rn($l,mi),mi|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:t,rn($l,mi),mi|=r}else a!==null?(r=a.baseLanes|t,n.memoizedState=null):r=t,rn($l,mi),mi|=r;return Pr(e,n,s,t),n.child}function q4(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Lm(e,n,t,r,s){var a=ti(t)?tl:Ir.current;return a=oc(n,a),tc(n,s),t=fx(e,n,t,r,a,s),r=hx(),e!==null&&!Jr?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s,pa(e,n,s)):(pn&&r&&ex(n),n.flags|=1,Pr(e,n,t,s),n.child)}function Ky(e,n,t,r,s){if(ti(t)){var a=!0;I0(n)}else a=!1;if(tc(n,s),n.stateNode===null)s0(e,n),B4(n,t,r),jm(n,t,r,s),r=!0;else if(e===null){var d=n.stateNode,g=n.memoizedProps;d.props=g;var v=d.context,x=t.contextType;typeof x=="object"&&x!==null?x=qi(x):(x=ti(t)?tl:Ir.current,x=oc(n,x));var w=t.getDerivedStateFromProps,E=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function";E||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==r||v!==x)&&Vy(n,d,r,x),Ba=!1;var _=n.memoizedState;d.state=_,L0(n,r,d,s),v=n.memoizedState,g!==r||_!==v||ei.current||Ba?(typeof w=="function"&&(Om(n,t,w,r),v=n.memoizedState),(g=Ba||qy(n,t,g,r,_,v,x))?(E||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=v),d.props=r,d.state=v,d.context=x,r=g):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{d=n.stateNode,v4(e,n),g=n.memoizedProps,x=n.type===n.elementType?g:ts(n.type,g),d.props=x,E=n.pendingProps,_=d.context,v=t.contextType,typeof v=="object"&&v!==null?v=qi(v):(v=ti(t)?tl:Ir.current,v=oc(n,v));var k=t.getDerivedStateFromProps;(w=typeof k=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==E||_!==v)&&Vy(n,d,r,v),Ba=!1,_=n.memoizedState,d.state=_,L0(n,r,d,s);var S=n.memoizedState;g!==E||_!==S||ei.current||Ba?(typeof k=="function"&&(Om(n,t,k,r),S=n.memoizedState),(x=Ba||qy(n,t,x,r,_,S,v)||!1)?(w||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,S,v),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,S,v)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=S),d.props=r,d.state=S,d.context=v,r=x):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&_===e.memoizedState||(n.flags|=1024),r=!1)}return Pm(e,n,t,r,a,s)}function Pm(e,n,t,r,s,a){q4(e,n);var d=(n.flags&128)!==0;if(!r&&!d)return s&&Ly(n,t,!1),pa(e,n,a);r=n.stateNode,nD.current=n;var g=d&&typeof t.getDerivedStateFromError!="function"?null:r.render();return n.flags|=1,e!==null&&d?(n.child=cc(n,e.child,null,a),n.child=cc(n,null,g,a)):Pr(e,n,g,a),n.memoizedState=r.state,s&&Ly(n,t,!0),n.child}function V4(e){var n=e.stateNode;n.pendingContext?My(e,n.pendingContext,n.pendingContext!==n.context):n.context&&My(e,n.context,!1),lx(e,n.containerInfo)}function Zy(e,n,t,r,s){return lc(),nx(s),n.flags|=256,Pr(e,n,t,r),n.child}var Fm={dehydrated:null,treeContext:null,retryLane:0};function Bm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Y4(e,n,t){var r=n.pendingProps,s=yn.current,a=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(s&2)!==0),g?(a=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),rn(yn,s&1),e===null)return Im(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(d=r.children,e=r.fallback,a?(r=n.mode,a=n.child,d={mode:"hidden",children:d},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=d):a=Rh(d,r,0,null),e=Ko(e,r,t,null),a.return=n,e.return=n,a.sibling=e,n.child=a,n.child.memoizedState=Bm(t),n.memoizedState=Fm,e):gx(n,d));if(s=e.memoizedState,s!==null&&(g=s.dehydrated,g!==null))return rD(e,n,d,r,g,s,t);if(a){a=r.fallback,d=n.mode,s=e.child,g=s.sibling;var v={mode:"hidden",children:r.children};return!(d&1)&&n.child!==s?(r=n.child,r.childLanes=0,r.pendingProps=v,n.deletions=null):(r=to(s,v),r.subtreeFlags=s.subtreeFlags&14680064),g!==null?a=to(g,a):(a=Ko(a,d,t,null),a.flags|=2),a.return=n,r.return=n,r.sibling=a,n.child=r,r=a,a=n.child,d=e.child.memoizedState,d=d===null?Bm(t):{baseLanes:d.baseLanes|t,cachePool:null,transitions:d.transitions},a.memoizedState=d,a.childLanes=e.childLanes&~t,n.memoizedState=Fm,r}return a=e.child,e=a.sibling,r=to(a,{mode:"visible",children:r.children}),!(n.mode&1)&&(r.lanes=t),r.return=n,r.sibling=null,e!==null&&(t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=r,n.memoizedState=null,r}function gx(e,n){return n=Rh({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ff(e,n,t,r){return r!==null&&nx(r),cc(n,e.child,null,t),e=gx(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function rD(e,n,t,r,s,a,d){if(t)return n.flags&256?(n.flags&=-257,r=j1(Error(Se(422))),Ff(e,n,d,r)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(a=r.fallback,s=n.mode,r=Rh({mode:"visible",children:r.children},s,0,null),a=Ko(a,s,d,null),a.flags|=2,r.return=n,a.return=n,r.sibling=a,n.child=r,n.mode&1&&cc(n,e.child,null,d),n.child.memoizedState=Bm(d),n.memoizedState=Fm,a);if(!(n.mode&1))return Ff(e,n,d,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var g=r.dgst;return r=g,a=Error(Se(419)),r=j1(a,r,void 0),Ff(e,n,d,r)}if(g=(d&e.childLanes)!==0,Jr||g){if(r=lr,r!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|d)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ha(e,s),ss(r,e,s,-1))}return Cx(),r=j1(Error(Se(421))),Ff(e,n,d,r)}return s.data==="$?"?(n.flags|=128,n.child=e.child,n=gD.bind(null,e),s._reactRetry=n,null):(e=a.treeContext,gi=Ka(s.nextSibling),xi=n,pn=!0,rs=null,e!==null&&(Bi[Ui++]=na,Bi[Ui++]=ra,Bi[Ui++]=nl,na=e.id,ra=e.overflow,nl=n),n=gx(n,r.children),n.flags|=4096,n)}function Jy(e,n,t){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),Rm(e.return,n,t)}function M1(e,n,t,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=s)}function G4(e,n,t){var r=n.pendingProps,s=r.revealOrder,a=r.tail;if(Pr(e,n,r.children,t),r=yn.current,r&2)r=r&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jy(e,t,n);else if(e.tag===19)Jy(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rn(yn,r),!(n.mode&1))n.memoizedState=null;else switch(s){case"forwards":for(t=n.child,s=null;t!==null;)e=t.alternate,e!==null&&P0(e)===null&&(s=t),t=t.sibling;t=s,t===null?(s=n.child,n.child=null):(s=t.sibling,t.sibling=null),M1(n,!1,s,t,a);break;case"backwards":for(t=null,s=n.child,n.child=null;s!==null;){if(e=s.alternate,e!==null&&P0(e)===null){n.child=s;break}e=s.sibling,s.sibling=t,t=s,s=e}M1(n,!0,t,null,a);break;case"together":M1(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function s0(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function pa(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),il|=n.lanes,!(t&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(Se(153));if(n.child!==null){for(e=n.child,t=to(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=to(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function iD(e,n,t){switch(n.tag){case 3:V4(n),lc();break;case 5:y4(n);break;case 1:ti(n.type)&&I0(n);break;case 4:lx(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,s=n.memoizedProps.value;rn(j0,r._currentValue),r._currentValue=s;break;case 13:if(r=n.memoizedState,r!==null)return r.dehydrated!==null?(rn(yn,yn.current&1),n.flags|=128,null):t&n.child.childLanes?Y4(e,n,t):(rn(yn,yn.current&1),e=pa(e,n,t),e!==null?e.sibling:null);rn(yn,yn.current&1);break;case 19:if(r=(t&n.childLanes)!==0,e.flags&128){if(r)return G4(e,n,t);n.flags|=128}if(s=n.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rn(yn,yn.current),r)break;return null;case 22:case 23:return n.lanes=0,H4(e,n,t)}return pa(e,n,t)}var $4,Um,X4,Q4;$4=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Um=function(){};X4=function(e,n,t,r){var s=e.memoizedProps;if(s!==r){e=n.stateNode,Vo(Ds.current);var a=null;switch(t){case"input":s=lm(e,s),r=lm(e,r),a=[];break;case"select":s=Cn({},s,{value:void 0}),r=Cn({},r,{value:void 0}),a=[];break;case"textarea":s=dm(e,s),r=dm(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=k0)}hm(t,r);var d;t=null;for(x in s)if(!r.hasOwnProperty(x)&&s.hasOwnProperty(x)&&s[x]!=null)if(x==="style"){var g=s[x];for(d in g)g.hasOwnProperty(d)&&(t||(t={}),t[d]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Bu.hasOwnProperty(x)?a||(a=[]):(a=a||[]).push(x,null));for(x in r){var v=r[x];if(g=s!=null?s[x]:void 0,r.hasOwnProperty(x)&&v!==g&&(v!=null||g!=null))if(x==="style")if(g){for(d in g)!g.hasOwnProperty(d)||v&&v.hasOwnProperty(d)||(t||(t={}),t[d]="");for(d in v)v.hasOwnProperty(d)&&g[d]!==v[d]&&(t||(t={}),t[d]=v[d])}else t||(a||(a=[]),a.push(x,t)),t=v;else x==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,g=g?g.__html:void 0,v!=null&&g!==v&&(a=a||[]).push(x,v)):x==="children"?typeof v!="string"&&typeof v!="number"||(a=a||[]).push(x,""+v):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(x)?(v!=null&&x==="onScroll"&&on("scroll",e),a||g===v||(a=[])):(a=a||[]).push(x,v))}t&&(a=a||[]).push("style",t);var x=a;(n.updateQueue=x)&&(n.flags|=4)}};Q4=function(e,n,t,r){t!==r&&(n.flags|=4)};function gu(e,n){if(!pn)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ar(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,r=0;if(n)for(var s=e.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function sD(e,n,t){var r=n.pendingProps;switch(tx(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(n),null;case 1:return ti(n.type)&&D0(),Ar(n),null;case 3:return r=n.stateNode,uc(),cn(ei),cn(Ir),ux(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Lf(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,rs!==null&&($m(rs),rs=null))),Um(e,n),Ar(n),null;case 5:cx(n);var s=Vo(Ku.current);if(t=n.type,e!==null&&n.stateNode!=null)X4(e,n,t,r,s),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(n.stateNode===null)throw Error(Se(166));return Ar(n),null}if(e=Vo(Ds.current),Lf(n)){r=n.stateNode,t=n.type;var a=n.memoizedProps;switch(r[_s]=n,r[Xu]=a,e=(n.mode&1)!==0,t){case"dialog":on("cancel",r),on("close",r);break;case"iframe":case"object":case"embed":on("load",r);break;case"video":case"audio":for(s=0;s<Su.length;s++)on(Su[s],r);break;case"source":on("error",r);break;case"img":case"image":case"link":on("error",r),on("load",r);break;case"details":on("toggle",r);break;case"input":ly(r,a),on("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},on("invalid",r);break;case"textarea":uy(r,a),on("invalid",r)}hm(t,a),s=null;for(var d in a)if(a.hasOwnProperty(d)){var g=a[d];d==="children"?typeof g=="string"?r.textContent!==g&&(a.suppressHydrationWarning!==!0&&Mf(r.textContent,g,e),s=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(a.suppressHydrationWarning!==!0&&Mf(r.textContent,g,e),s=["children",""+g]):Bu.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&on("scroll",r)}switch(t){case"input":Af(r),cy(r,a,!0);break;case"textarea":Af(r),dy(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=k0)}r=s,n.updateQueue=r,r!==null&&(n.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=N3(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(t,{is:r.is}):(e=d.createElement(t),t==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,t),e[_s]=n,e[Xu]=r,$4(e,n,!1,!1),n.stateNode=e;e:{switch(d=pm(t,r),t){case"dialog":on("cancel",e),on("close",e),s=r;break;case"iframe":case"object":case"embed":on("load",e),s=r;break;case"video":case"audio":for(s=0;s<Su.length;s++)on(Su[s],e);s=r;break;case"source":on("error",e),s=r;break;case"img":case"image":case"link":on("error",e),on("load",e),s=r;break;case"details":on("toggle",e),s=r;break;case"input":ly(e,r),s=lm(e,r),on("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Cn({},r,{value:void 0}),on("invalid",e);break;case"textarea":uy(e,r),s=dm(e,r),on("invalid",e);break;default:s=r}hm(t,s),g=s;for(a in g)if(g.hasOwnProperty(a)){var v=g[a];a==="style"?A3(e,v):a==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&_3(e,v)):a==="children"?typeof v=="string"?(t!=="textarea"||v!=="")&&Uu(e,v):typeof v=="number"&&Uu(e,""+v):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bu.hasOwnProperty(a)?v!=null&&a==="onScroll"&&on("scroll",e):v!=null&&Ug(e,a,v,d))}switch(t){case"input":Af(e),cy(e,r,!1);break;case"textarea":Af(e),dy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+so(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Kl(e,!!r.multiple,a,!1):r.defaultValue!=null&&Kl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=k0)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ar(n),null;case 6:if(e&&n.stateNode!=null)Q4(e,n,e.memoizedProps,r);else{if(typeof r!="string"&&n.stateNode===null)throw Error(Se(166));if(t=Vo(Ku.current),Vo(Ds.current),Lf(n)){if(r=n.stateNode,t=n.memoizedProps,r[_s]=n,(a=r.nodeValue!==t)&&(e=xi,e!==null))switch(e.tag){case 3:Mf(r.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mf(r.nodeValue,t,(e.mode&1)!==0)}a&&(n.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[_s]=n,n.stateNode=r}return Ar(n),null;case 13:if(cn(yn),r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pn&&gi!==null&&n.mode&1&&!(n.flags&128))p4(),lc(),n.flags|=98560,a=!1;else if(a=Lf(n),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Se(318));if(a=n.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Se(317));a[_s]=n}else lc(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ar(n),a=!1}else rs!==null&&($m(rs),rs=null),a=!0;if(!a)return n.flags&65536?n:null}return n.flags&128?(n.lanes=t,n):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(n.child.flags|=8192,n.mode&1&&(e===null||yn.current&1?tr===0&&(tr=3):Cx())),n.updateQueue!==null&&(n.flags|=4),Ar(n),null);case 4:return uc(),Um(e,n),e===null&&Gu(n.stateNode.containerInfo),Ar(n),null;case 10:return sx(n.type._context),Ar(n),null;case 17:return ti(n.type)&&D0(),Ar(n),null;case 19:if(cn(yn),a=n.memoizedState,a===null)return Ar(n),null;if(r=(n.flags&128)!==0,d=a.rendering,d===null)if(r)gu(a,!1);else{if(tr!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(d=P0(e),d!==null){for(n.flags|=128,gu(a,!1),r=d.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;t!==null;)a=t,e=r,a.flags&=14680066,d=a.alternate,d===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,e=d.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return rn(yn,yn.current&1|2),n.child}e=e.sibling}a.tail!==null&&Fn()>fc&&(n.flags|=128,r=!0,gu(a,!1),n.lanes=4194304)}else{if(!r)if(e=P0(d),e!==null){if(n.flags|=128,r=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),gu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!pn)return Ar(n),null}else 2*Fn()-a.renderingStartTime>fc&&t!==1073741824&&(n.flags|=128,r=!0,gu(a,!1),n.lanes=4194304);a.isBackwards?(d.sibling=n.child,n.child=d):(t=a.last,t!==null?t.sibling=d:n.child=d,a.last=d)}return a.tail!==null?(n=a.tail,a.rendering=n,a.tail=n.sibling,a.renderingStartTime=Fn(),n.sibling=null,t=yn.current,rn(yn,r?t&1|2:t&1),n):(Ar(n),null);case 22:case 23:return bx(),r=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(n.flags|=8192),r&&n.mode&1?mi&1073741824&&(Ar(n),n.subtreeFlags&6&&(n.flags|=8192)):Ar(n),null;case 24:return null;case 25:return null}throw Error(Se(156,n.tag))}function aD(e,n){switch(tx(n),n.tag){case 1:return ti(n.type)&&D0(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return uc(),cn(ei),cn(Ir),ux(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return cx(n),null;case 13:if(cn(yn),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(Se(340));lc()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return cn(yn),null;case 4:return uc(),null;case 10:return sx(n.type._context),null;case 22:case 23:return bx(),null;case 24:return null;default:return null}}var Bf=!1,Tr=!1,oD=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Gl(e,n){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){kn(e,n,r)}else t.current=null}function zm(e,n,t){try{t()}catch(r){kn(e,n,r)}}var ew=!1;function lD(e,n){if(Nm=S0,e=t4(),Jg(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{t.nodeType,a.nodeType}catch{t=null;break e}var d=0,g=-1,v=-1,x=0,w=0,E=e,_=null;t:for(;;){for(var k;E!==t||s!==0&&E.nodeType!==3||(g=d+s),E!==a||r!==0&&E.nodeType!==3||(v=d+r),E.nodeType===3&&(d+=E.nodeValue.length),(k=E.firstChild)!==null;)_=E,E=k;for(;;){if(E===e)break t;if(_===t&&++x===s&&(g=d),_===a&&++w===r&&(v=d),(k=E.nextSibling)!==null)break;E=_,_=E.parentNode}E=k}t=g===-1||v===-1?null:{start:g,end:v}}else t=null}t=t||{start:0,end:0}}else t=null;for(_m={focusedElem:e,selectionRange:t},S0=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){n=Fe;try{var S=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var R=S.memoizedProps,j=S.memoizedState,I=n.stateNode,D=I.getSnapshotBeforeUpdate(n.elementType===n.type?R:ts(n.type,R),j);I.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var O=n.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(q){kn(n,n.return,q)}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}return S=ew,ew=!1,S}function Mu(e,n,t){var r=n.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&zm(n,t,a)}s=s.next}while(s!==r)}}function Dh(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function Wm(e){var n=e.ref;if(n!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof n=="function"?n(e):n.current=e}}function K4(e){var n=e.alternate;n!==null&&(e.alternate=null,K4(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[_s],delete n[Xu],delete n[Tm],delete n[qk],delete n[Vk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Z4(e){return e.tag===5||e.tag===3||e.tag===4}function tw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Z4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hm(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=k0));else if(r!==4&&(e=e.child,e!==null))for(Hm(e,n,t),e=e.sibling;e!==null;)Hm(e,n,t),e=e.sibling}function qm(e,n,t){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qm(e,n,t),e=e.sibling;e!==null;)qm(e,n,t),e=e.sibling}var gr=null,ns=!1;function Ma(e,n,t){for(t=t.child;t!==null;)J4(e,n,t),t=t.sibling}function J4(e,n,t){if(ks&&typeof ks.onCommitFiberUnmount=="function")try{ks.onCommitFiberUnmount(Ch,t)}catch{}switch(t.tag){case 5:Tr||Gl(t,n);case 6:var r=gr,s=ns;gr=null,Ma(e,n,t),gr=r,ns=s,gr!==null&&(ns?(e=gr,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):gr.removeChild(t.stateNode));break;case 18:gr!==null&&(ns?(e=gr,t=t.stateNode,e.nodeType===8?T1(e.parentNode,t):e.nodeType===1&&T1(e,t),qu(e)):T1(gr,t.stateNode));break;case 4:r=gr,s=ns,gr=t.stateNode.containerInfo,ns=!0,Ma(e,n,t),gr=r,ns=s;break;case 0:case 11:case 14:case 15:if(!Tr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,d=a.destroy;a=a.tag,d!==void 0&&(a&2||a&4)&&zm(t,n,d),s=s.next}while(s!==r)}Ma(e,n,t);break;case 1:if(!Tr&&(Gl(t,n),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(g){kn(t,n,g)}Ma(e,n,t);break;case 21:Ma(e,n,t);break;case 22:t.mode&1?(Tr=(r=Tr)||t.memoizedState!==null,Ma(e,n,t),Tr=r):Ma(e,n,t);break;default:Ma(e,n,t)}}function nw(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new oD),n.forEach(function(r){var s=xD.bind(null,e,r);t.has(r)||(t.add(r),r.then(s,s))})}}function es(e,n){var t=n.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var a=e,d=n,g=d;e:for(;g!==null;){switch(g.tag){case 5:gr=g.stateNode,ns=!1;break e;case 3:gr=g.stateNode.containerInfo,ns=!0;break e;case 4:gr=g.stateNode.containerInfo,ns=!0;break e}g=g.return}if(gr===null)throw Error(Se(160));J4(a,d,s),gr=null,ns=!1;var v=s.alternate;v!==null&&(v.return=null),s.return=null}catch(x){kn(s,n,x)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)eC(n,e),n=n.sibling}function eC(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(es(n,e),vs(e),r&4){try{Mu(3,e,e.return),Dh(3,e)}catch(R){kn(e,e.return,R)}try{Mu(5,e,e.return)}catch(R){kn(e,e.return,R)}}break;case 1:es(n,e),vs(e),r&512&&t!==null&&Gl(t,t.return);break;case 5:if(es(n,e),vs(e),r&512&&t!==null&&Gl(t,t.return),e.flags&32){var s=e.stateNode;try{Uu(s,"")}catch(R){kn(e,e.return,R)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,d=t!==null?t.memoizedProps:a,g=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{g==="input"&&a.type==="radio"&&a.name!=null&&C3(s,a),pm(g,d);var x=pm(g,a);for(d=0;d<v.length;d+=2){var w=v[d],E=v[d+1];w==="style"?A3(s,E):w==="dangerouslySetInnerHTML"?_3(s,E):w==="children"?Uu(s,E):Ug(s,w,E,x)}switch(g){case"input":cm(s,a);break;case"textarea":E3(s,a);break;case"select":var _=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var k=a.value;k!=null?Kl(s,!!a.multiple,k,!1):_!==!!a.multiple&&(a.defaultValue!=null?Kl(s,!!a.multiple,a.defaultValue,!0):Kl(s,!!a.multiple,a.multiple?[]:"",!1))}s[Xu]=a}catch(R){kn(e,e.return,R)}}break;case 6:if(es(n,e),vs(e),r&4){if(e.stateNode===null)throw Error(Se(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(R){kn(e,e.return,R)}}break;case 3:if(es(n,e),vs(e),r&4&&t!==null&&t.memoizedState.isDehydrated)try{qu(n.containerInfo)}catch(R){kn(e,e.return,R)}break;case 4:es(n,e),vs(e);break;case 13:es(n,e),vs(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(yx=Fn())),r&4&&nw(e);break;case 22:if(w=t!==null&&t.memoizedState!==null,e.mode&1?(Tr=(x=Tr)||w,es(n,e),Tr=x):es(n,e),vs(e),r&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!w&&e.mode&1)for(Fe=e,w=e.child;w!==null;){for(E=Fe=w;Fe!==null;){switch(_=Fe,k=_.child,_.tag){case 0:case 11:case 14:case 15:Mu(4,_,_.return);break;case 1:Gl(_,_.return);var S=_.stateNode;if(typeof S.componentWillUnmount=="function"){r=_,t=_.return;try{n=r,S.props=n.memoizedProps,S.state=n.memoizedState,S.componentWillUnmount()}catch(R){kn(r,t,R)}}break;case 5:Gl(_,_.return);break;case 22:if(_.memoizedState!==null){iw(E);continue}}k!==null?(k.return=_,Fe=k):iw(E)}w=w.sibling}e:for(w=null,E=e;;){if(E.tag===5){if(w===null){w=E;try{s=E.stateNode,x?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(g=E.stateNode,v=E.memoizedProps.style,d=v!=null&&v.hasOwnProperty("display")?v.display:null,g.style.display=S3("display",d))}catch(R){kn(e,e.return,R)}}}else if(E.tag===6){if(w===null)try{E.stateNode.nodeValue=x?"":E.memoizedProps}catch(R){kn(e,e.return,R)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;w===E&&(w=null),E=E.return}w===E&&(w=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:es(n,e),vs(e),r&4&&nw(e);break;case 21:break;default:es(n,e),vs(e)}}function vs(e){var n=e.flags;if(n&2){try{e:{for(var t=e.return;t!==null;){if(Z4(t)){var r=t;break e}t=t.return}throw Error(Se(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Uu(s,""),r.flags&=-33);var a=tw(e);qm(e,a,s);break;case 3:case 4:var d=r.stateNode.containerInfo,g=tw(e);Hm(e,g,d);break;default:throw Error(Se(161))}}catch(v){kn(e,e.return,v)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cD(e,n,t){Fe=e,tC(e)}function tC(e,n,t){for(var r=(e.mode&1)!==0;Fe!==null;){var s=Fe,a=s.child;if(s.tag===22&&r){var d=s.memoizedState!==null||Bf;if(!d){var g=s.alternate,v=g!==null&&g.memoizedState!==null||Tr;g=Bf;var x=Tr;if(Bf=d,(Tr=v)&&!x)for(Fe=s;Fe!==null;)d=Fe,v=d.child,d.tag===22&&d.memoizedState!==null?sw(s):v!==null?(v.return=d,Fe=v):sw(s);for(;a!==null;)Fe=a,tC(a),a=a.sibling;Fe=s,Bf=g,Tr=x}rw(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Fe=a):rw(e)}}function rw(e){for(;Fe!==null;){var n=Fe;if(n.flags&8772){var t=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Tr||Dh(5,n);break;case 1:var r=n.stateNode;if(n.flags&4&&!Tr)if(t===null)r.componentDidMount();else{var s=n.elementType===n.type?t.memoizedProps:ts(n.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=n.updateQueue;a!==null&&zy(n,a,r);break;case 3:var d=n.updateQueue;if(d!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}zy(n,d,t)}break;case 5:var g=n.stateNode;if(t===null&&n.flags&4){t=g;var v=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&t.focus();break;case"img":v.src&&(t.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var x=n.alternate;if(x!==null){var w=x.memoizedState;if(w!==null){var E=w.dehydrated;E!==null&&qu(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}Tr||n.flags&512&&Wm(n)}catch(_){kn(n,n.return,_)}}if(n===e){Fe=null;break}if(t=n.sibling,t!==null){t.return=n.return,Fe=t;break}Fe=n.return}}function iw(e){for(;Fe!==null;){var n=Fe;if(n===e){Fe=null;break}var t=n.sibling;if(t!==null){t.return=n.return,Fe=t;break}Fe=n.return}}function sw(e){for(;Fe!==null;){var n=Fe;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{Dh(4,n)}catch(v){kn(n,t,v)}break;case 1:var r=n.stateNode;if(typeof r.componentDidMount=="function"){var s=n.return;try{r.componentDidMount()}catch(v){kn(n,s,v)}}var a=n.return;try{Wm(n)}catch(v){kn(n,a,v)}break;case 5:var d=n.return;try{Wm(n)}catch(v){kn(n,d,v)}}}catch(v){kn(n,n.return,v)}if(n===e){Fe=null;break}var g=n.sibling;if(g!==null){g.return=n.return,Fe=g;break}Fe=n.return}}var uD=Math.ceil,U0=va.ReactCurrentDispatcher,xx=va.ReactCurrentOwner,Hi=va.ReactCurrentBatchConfig,Rt=0,lr=null,Yn=null,xr=0,mi=0,$l=uo(0),tr=0,td=null,il=0,Ih=0,vx=0,Lu=null,Zr=null,yx=0,fc=1/0,ea=null,z0=!1,Vm=null,Ja=null,Uf=!1,Va=null,W0=0,Pu=0,Ym=null,a0=-1,o0=0;function Hr(){return Rt&6?Fn():a0!==-1?a0:a0=Fn()}function eo(e){return e.mode&1?Rt&2&&xr!==0?xr&-xr:Gk.transition!==null?(o0===0&&(o0=B3()),o0):(e=Xt,e!==0||(e=window.event,e=e===void 0?16:Y3(e.type)),e):1}function ss(e,n,t,r){if(50<Pu)throw Pu=0,Ym=null,Error(Se(185));hd(e,t,r),(!(Rt&2)||e!==lr)&&(e===lr&&(!(Rt&2)&&(Ih|=t),tr===4&&Wa(e,xr)),ni(e,r),t===1&&Rt===0&&!(n.mode&1)&&(fc=Fn()+500,Ah&&fo()))}function ni(e,n){var t=e.callbackNode;GT(e,n);var r=_0(e,e===lr?xr:0);if(r===0)t!==null&&py(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(t!=null&&py(t),n===1)e.tag===0?Yk(aw.bind(null,e)):d4(aw.bind(null,e)),Wk(function(){!(Rt&6)&&fo()}),t=null;else{switch(U3(r)){case 1:t=Vg;break;case 4:t=P3;break;case 16:t=N0;break;case 536870912:t=F3;break;default:t=N0}t=cC(t,nC.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function nC(e,n){if(a0=-1,o0=0,Rt&6)throw Error(Se(327));var t=e.callbackNode;if(nc()&&e.callbackNode!==t)return null;var r=_0(e,e===lr?xr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||n)n=H0(e,r);else{n=r;var s=Rt;Rt|=2;var a=iC();(lr!==e||xr!==n)&&(ea=null,fc=Fn()+500,Qo(e,n));do try{hD();break}catch(g){rC(e,g)}while(1);ix(),U0.current=a,Rt=s,Yn!==null?n=0:(lr=null,xr=0,n=tr)}if(n!==0){if(n===2&&(s=ym(e),s!==0&&(r=s,n=Gm(e,s))),n===1)throw t=td,Qo(e,0),Wa(e,r),ni(e,Fn()),t;if(n===6)Wa(e,r);else{if(s=e.current.alternate,!(r&30)&&!dD(s)&&(n=H0(e,r),n===2&&(a=ym(e),a!==0&&(r=a,n=Gm(e,a))),n===1))throw t=td,Qo(e,0),Wa(e,r),ni(e,Fn()),t;switch(e.finishedWork=s,e.finishedLanes=r,n){case 0:case 1:throw Error(Se(345));case 2:Uo(e,Zr,ea);break;case 3:if(Wa(e,r),(r&130023424)===r&&(n=yx+500-Fn(),10<n)){if(_0(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Hr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Am(Uo.bind(null,e,Zr,ea),n);break}Uo(e,Zr,ea);break;case 4:if(Wa(e,r),(r&4194240)===r)break;for(n=e.eventTimes,s=-1;0<r;){var d=31-is(r);a=1<<d,d=n[d],d>s&&(s=d),r&=~a}if(r=s,r=Fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uD(r/1960))-r,10<r){e.timeoutHandle=Am(Uo.bind(null,e,Zr,ea),r);break}Uo(e,Zr,ea);break;case 5:Uo(e,Zr,ea);break;default:throw Error(Se(329))}}}return ni(e,Fn()),e.callbackNode===t?nC.bind(null,e):null}function Gm(e,n){var t=Lu;return e.current.memoizedState.isDehydrated&&(Qo(e,n).flags|=256),e=H0(e,n),e!==2&&(n=Zr,Zr=t,n!==null&&$m(n)),e}function $m(e){Zr===null?Zr=e:Zr.push.apply(Zr,e)}function dD(e){for(var n=e;;){if(n.flags&16384){var t=n.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],a=s.getSnapshot;s=s.value;try{if(!ls(a(),s))return!1}catch{return!1}}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wa(e,n){for(n&=~vx,n&=~Ih,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-is(n),r=1<<t;e[t]=-1,n&=~r}}function aw(e){if(Rt&6)throw Error(Se(327));nc();var n=_0(e,0);if(!(n&1))return ni(e,Fn()),null;var t=H0(e,n);if(e.tag!==0&&t===2){var r=ym(e);r!==0&&(n=r,t=Gm(e,r))}if(t===1)throw t=td,Qo(e,0),Wa(e,n),ni(e,Fn()),t;if(t===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Uo(e,Zr,ea),ni(e,Fn()),null}function wx(e,n){var t=Rt;Rt|=1;try{return e(n)}finally{Rt=t,Rt===0&&(fc=Fn()+500,Ah&&fo())}}function sl(e){Va!==null&&Va.tag===0&&!(Rt&6)&&nc();var n=Rt;Rt|=1;var t=Hi.transition,r=Xt;try{if(Hi.transition=null,Xt=1,e)return e()}finally{Xt=r,Hi.transition=t,Rt=n,!(Rt&6)&&fo()}}function bx(){mi=$l.current,cn($l)}function Qo(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,zk(t)),Yn!==null)for(t=Yn.return;t!==null;){var r=t;switch(tx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&D0();break;case 3:uc(),cn(ei),cn(Ir),ux();break;case 5:cx(r);break;case 4:uc();break;case 13:cn(yn);break;case 19:cn(yn);break;case 10:sx(r.type._context);break;case 22:case 23:bx()}t=t.return}if(lr=e,Yn=e=to(e.current,null),xr=mi=n,tr=0,td=null,vx=Ih=il=0,Zr=Lu=null,qo!==null){for(n=0;n<qo.length;n++)if(t=qo[n],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,a=t.pending;if(a!==null){var d=a.next;a.next=s,r.next=d}t.pending=r}qo=null}return e}function rC(e,n){do{var t=Yn;try{if(ix(),r0.current=B0,F0){for(var r=bn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}F0=!1}if(rl=0,or=er=bn=null,ju=!1,Zu=0,xx.current=null,t===null||t.return===null){tr=1,td=n,Yn=null;break}e:{var a=e,d=t.return,g=t,v=n;if(n=xr,g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var x=v,w=g,E=w.tag;if(!(w.mode&1)&&(E===0||E===11||E===15)){var _=w.alternate;_?(w.updateQueue=_.updateQueue,w.memoizedState=_.memoizedState,w.lanes=_.lanes):(w.updateQueue=null,w.memoizedState=null)}var k=Gy(d);if(k!==null){k.flags&=-257,$y(k,d,g,a,n),k.mode&1&&Yy(a,x,n),n=k,v=x;var S=n.updateQueue;if(S===null){var R=new Set;R.add(v),n.updateQueue=R}else S.add(v);break e}else{if(!(n&1)){Yy(a,x,n),Cx();break e}v=Error(Se(426))}}else if(pn&&g.mode&1){var j=Gy(d);if(j!==null){!(j.flags&65536)&&(j.flags|=256),$y(j,d,g,a,n),nx(dc(v,g));break e}}a=v=dc(v,g),tr!==4&&(tr=2),Lu===null?Lu=[a]:Lu.push(a),a=d;do{switch(a.tag){case 3:a.flags|=65536,n&=-n,a.lanes|=n;var I=U4(a,v,n);Uy(a,I);break e;case 1:g=v;var D=a.type,O=a.stateNode;if(!(a.flags&128)&&(typeof D.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ja===null||!Ja.has(O)))){a.flags|=65536,n&=-n,a.lanes|=n;var q=z4(a,g,n);Uy(a,q);break e}}a=a.return}while(a!==null)}aC(t)}catch(Q){n=Q,Yn===t&&t!==null&&(Yn=t=t.return);continue}break}while(1)}function iC(){var e=U0.current;return U0.current=B0,e===null?B0:e}function Cx(){(tr===0||tr===3||tr===2)&&(tr=4),lr===null||!(il&268435455)&&!(Ih&268435455)||Wa(lr,xr)}function H0(e,n){var t=Rt;Rt|=2;var r=iC();(lr!==e||xr!==n)&&(ea=null,Qo(e,n));do try{fD();break}catch(s){rC(e,s)}while(1);if(ix(),Rt=t,U0.current=r,Yn!==null)throw Error(Se(261));return lr=null,xr=0,tr}function fD(){for(;Yn!==null;)sC(Yn)}function hD(){for(;Yn!==null&&!FT();)sC(Yn)}function sC(e){var n=lC(e.alternate,e,mi);e.memoizedProps=e.pendingProps,n===null?aC(e):Yn=n,xx.current=null}function aC(e){var n=e;do{var t=n.alternate;if(e=n.return,n.flags&32768){if(t=aD(t,n),t!==null){t.flags&=32767,Yn=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tr=6,Yn=null;return}}else if(t=sD(t,n,mi),t!==null){Yn=t;return}if(n=n.sibling,n!==null){Yn=n;return}Yn=n=e}while(n!==null);tr===0&&(tr=5)}function Uo(e,n,t){var r=Xt,s=Hi.transition;try{Hi.transition=null,Xt=1,pD(e,n,t,r)}finally{Hi.transition=s,Xt=r}return null}function pD(e,n,t,r){do nc();while(Va!==null);if(Rt&6)throw Error(Se(327));t=e.finishedWork;var s=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var a=t.lanes|t.childLanes;if($T(e,a),e===lr&&(Yn=lr=null,xr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Uf||(Uf=!0,cC(N0,function(){return nc(),null})),a=(t.flags&15990)!==0,t.subtreeFlags&15990||a){a=Hi.transition,Hi.transition=null;var d=Xt;Xt=1;var g=Rt;Rt|=4,xx.current=null,lD(e,t),eC(t,e),jk(_m),S0=!!Nm,_m=Nm=null,e.current=t,cD(t),BT(),Rt=g,Xt=d,Hi.transition=a}else e.current=t;if(Uf&&(Uf=!1,Va=e,W0=s),a=e.pendingLanes,a===0&&(Ja=null),WT(t.stateNode),ni(e,Fn()),n!==null)for(r=e.onRecoverableError,t=0;t<n.length;t++)s=n[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(z0)throw z0=!1,e=Vm,Vm=null,e;return W0&1&&e.tag!==0&&nc(),a=e.pendingLanes,a&1?e===Ym?Pu++:(Pu=0,Ym=e):Pu=0,fo(),null}function nc(){if(Va!==null){var e=U3(W0),n=Hi.transition,t=Xt;try{if(Hi.transition=null,Xt=16>e?16:e,Va===null)var r=!1;else{if(e=Va,Va=null,W0=0,Rt&6)throw Error(Se(331));var s=Rt;for(Rt|=4,Fe=e.current;Fe!==null;){var a=Fe,d=a.child;if(Fe.flags&16){var g=a.deletions;if(g!==null){for(var v=0;v<g.length;v++){var x=g[v];for(Fe=x;Fe!==null;){var w=Fe;switch(w.tag){case 0:case 11:case 15:Mu(8,w,a)}var E=w.child;if(E!==null)E.return=w,Fe=E;else for(;Fe!==null;){w=Fe;var _=w.sibling,k=w.return;if(K4(w),w===x){Fe=null;break}if(_!==null){_.return=k,Fe=_;break}Fe=k}}}var S=a.alternate;if(S!==null){var R=S.child;if(R!==null){S.child=null;do{var j=R.sibling;R.sibling=null,R=j}while(R!==null)}}Fe=a}}if(a.subtreeFlags&2064&&d!==null)d.return=a,Fe=d;else e:for(;Fe!==null;){if(a=Fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Mu(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,Fe=I;break e}Fe=a.return}}var D=e.current;for(Fe=D;Fe!==null;){d=Fe;var O=d.child;if(d.subtreeFlags&2064&&O!==null)O.return=d,Fe=O;else e:for(d=D;Fe!==null;){if(g=Fe,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Dh(9,g)}}catch(Q){kn(g,g.return,Q)}if(g===d){Fe=null;break e}var q=g.sibling;if(q!==null){q.return=g.return,Fe=q;break e}Fe=g.return}}if(Rt=s,fo(),ks&&typeof ks.onPostCommitFiberRoot=="function")try{ks.onPostCommitFiberRoot(Ch,e)}catch{}r=!0}return r}finally{Xt=t,Hi.transition=n}}return!1}function ow(e,n,t){n=dc(t,n),n=U4(e,n,1),e=Za(e,n,1),n=Hr(),e!==null&&(hd(e,1,n),ni(e,n))}function kn(e,n,t){if(e.tag===3)ow(e,e,t);else for(;n!==null;){if(n.tag===3){ow(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ja===null||!Ja.has(r))){e=dc(t,e),e=z4(n,e,1),n=Za(n,e,1),e=Hr(),n!==null&&(hd(n,1,e),ni(n,e));break}}n=n.return}}function mD(e,n,t){var r=e.pingCache;r!==null&&r.delete(n),n=Hr(),e.pingedLanes|=e.suspendedLanes&t,lr===e&&(xr&t)===t&&(tr===4||tr===3&&(xr&130023424)===xr&&500>Fn()-yx?Qo(e,0):vx|=t),ni(e,n)}function oC(e,n){n===0&&(e.mode&1?(n=Df,Df<<=1,!(Df&130023424)&&(Df=4194304)):n=1);var t=Hr();e=ha(e,n),e!==null&&(hd(e,n,t),ni(e,t))}function gD(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),oC(e,t)}function xD(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Se(314))}r!==null&&r.delete(n),oC(e,t)}var lC;lC=function(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps||ei.current)Jr=!0;else{if(!(e.lanes&t)&&!(n.flags&128))return Jr=!1,iD(e,n,t);Jr=!!(e.flags&131072)}else Jr=!1,pn&&n.flags&1048576&&f4(n,O0,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;s0(e,n),e=n.pendingProps;var s=oc(n,Ir.current);tc(n,t),s=fx(null,n,r,e,s,t);var a=hx();return n.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ti(r)?(a=!0,I0(n)):a=!1,n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ox(n),s.updater=kh,n.stateNode=s,s._reactInternals=n,jm(n,r,e,t),n=Pm(null,n,r,!0,a,t)):(n.tag=0,pn&&a&&ex(n),Pr(null,n,s,t),n=n.child),n;case 16:r=n.elementType;e:{switch(s0(e,n),e=n.pendingProps,s=r._init,r=s(r._payload),n.type=r,s=n.tag=yD(r),e=ts(r,e),s){case 0:n=Lm(null,n,r,e,t);break e;case 1:n=Ky(null,n,r,e,t);break e;case 11:n=Xy(null,n,r,e,t);break e;case 14:n=Qy(null,n,r,ts(r.type,e),t);break e}throw Error(Se(306,r,""))}return n;case 0:return r=n.type,s=n.pendingProps,s=n.elementType===r?s:ts(r,s),Lm(e,n,r,s,t);case 1:return r=n.type,s=n.pendingProps,s=n.elementType===r?s:ts(r,s),Ky(e,n,r,s,t);case 3:e:{if(V4(n),e===null)throw Error(Se(387));r=n.pendingProps,a=n.memoizedState,s=a.element,v4(e,n),L0(n,r,null,t);var d=n.memoizedState;if(r=d.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},n.updateQueue.baseState=a,n.memoizedState=a,n.flags&256){s=dc(Error(Se(423)),n),n=Zy(e,n,r,t,s);break e}else if(r!==s){s=dc(Error(Se(424)),n),n=Zy(e,n,r,t,s);break e}else for(gi=Ka(n.stateNode.containerInfo.firstChild),xi=n,pn=!0,rs=null,t=g4(n,null,r,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(lc(),r===s){n=pa(e,n,t);break e}Pr(e,n,r,t)}n=n.child}return n;case 5:return y4(n),e===null&&Im(n),r=n.type,s=n.pendingProps,a=e!==null?e.memoizedProps:null,d=s.children,Sm(r,s)?d=null:a!==null&&Sm(r,a)&&(n.flags|=32),q4(e,n),Pr(e,n,d,t),n.child;case 6:return e===null&&Im(n),null;case 13:return Y4(e,n,t);case 4:return lx(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=cc(n,null,r,t):Pr(e,n,r,t),n.child;case 11:return r=n.type,s=n.pendingProps,s=n.elementType===r?s:ts(r,s),Xy(e,n,r,s,t);case 7:return Pr(e,n,n.pendingProps,t),n.child;case 8:return Pr(e,n,n.pendingProps.children,t),n.child;case 12:return Pr(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,s=n.pendingProps,a=n.memoizedProps,d=s.value,rn(j0,r._currentValue),r._currentValue=d,a!==null)if(ls(a.value,d)){if(a.children===s.children&&!ei.current){n=pa(e,n,t);break e}}else for(a=n.child,a!==null&&(a.return=n);a!==null;){var g=a.dependencies;if(g!==null){d=a.child;for(var v=g.firstContext;v!==null;){if(v.context===r){if(a.tag===1){v=sa(-1,t&-t),v.tag=2;var x=a.updateQueue;if(x!==null){x=x.shared;var w=x.pending;w===null?v.next=v:(v.next=w.next,w.next=v),x.pending=v}}a.lanes|=t,v=a.alternate,v!==null&&(v.lanes|=t),Rm(a.return,t,n),g.lanes|=t;break}v=v.next}}else if(a.tag===10)d=a.type===n.type?null:a.child;else if(a.tag===18){if(d=a.return,d===null)throw Error(Se(341));d.lanes|=t,g=d.alternate,g!==null&&(g.lanes|=t),Rm(d,t,n),d=a.sibling}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===n){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}Pr(e,n,s.children,t),n=n.child}return n;case 9:return s=n.type,r=n.pendingProps.children,tc(n,t),s=qi(s),r=r(s),n.flags|=1,Pr(e,n,r,t),n.child;case 14:return r=n.type,s=ts(r,n.pendingProps),s=ts(r.type,s),Qy(e,n,r,s,t);case 15:return W4(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,s=n.pendingProps,s=n.elementType===r?s:ts(r,s),s0(e,n),n.tag=1,ti(r)?(e=!0,I0(n)):e=!1,tc(n,t),B4(n,r,s),jm(n,r,s,t),Pm(null,n,r,!0,e,t);case 19:return G4(e,n,t);case 22:return H4(e,n,t)}throw Error(Se(156,n.tag))};function cC(e,n){return L3(e,n)}function vD(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(e,n,t,r){return new vD(e,n,t,r)}function Ex(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yD(e){if(typeof e=="function")return Ex(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wg)return 11;if(e===Hg)return 14}return 2}function to(e,n){var t=e.alternate;return t===null?(t=Wi(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function l0(e,n,t,r,s,a){var d=2;if(r=e,typeof e=="function")Ex(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Fl:return Ko(t.children,s,a,n);case zg:d=8,s|=8;break;case im:return e=Wi(12,t,n,s|2),e.elementType=im,e.lanes=a,e;case sm:return e=Wi(13,t,n,s),e.elementType=sm,e.lanes=a,e;case am:return e=Wi(19,t,n,s),e.elementType=am,e.lanes=a,e;case y3:return Rh(t,s,a,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x3:d=10;break e;case v3:d=9;break e;case Wg:d=11;break e;case Hg:d=14;break e;case Fa:d=16,r=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return n=Wi(d,t,n,s),n.elementType=e,n.type=r,n.lanes=a,n}function Ko(e,n,t,r){return e=Wi(7,e,r,n),e.lanes=t,e}function Rh(e,n,t,r){return e=Wi(22,e,r,n),e.elementType=y3,e.lanes=t,e.stateNode={isHidden:!1},e}function L1(e,n,t){return e=Wi(6,e,null,n),e.lanes=t,e}function P1(e,n,t){return n=Wi(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function wD(e,n,t,r,s){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x1(0),this.expirationTimes=x1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x1(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nx(e,n,t,r,s,a,d,g,v){return e=new wD(e,n,t,g,v),n===1?(n=1,a===!0&&(n|=8)):n=0,a=Wi(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},ox(a),e}function bD(e,n,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pl,key:r==null?null:""+r,children:e,containerInfo:n,implementation:t}}function uC(e){if(!e)return ao;e=e._reactInternals;e:{if(fl(e)!==e||e.tag!==1)throw Error(Se(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ti(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(Se(171))}if(e.tag===1){var t=e.type;if(ti(t))return u4(e,t,n)}return n}function dC(e,n,t,r,s,a,d,g,v){return e=Nx(t,r,!0,e,s,a,d,g,v),e.context=uC(null),t=e.current,r=Hr(),s=eo(t),a=sa(r,s),a.callback=n??null,Za(t,a,s),e.current.lanes=s,hd(e,s,r),ni(e,r),e}function Oh(e,n,t,r){var s=n.current,a=Hr(),d=eo(s);return t=uC(t),n.context===null?n.context=t:n.pendingContext=t,n=sa(a,d),n.payload={element:e},r=r===void 0?null:r,r!==null&&(n.callback=r),e=Za(s,n,d),e!==null&&(ss(e,s,d,a),n0(e,s,d)),d}function q0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lw(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function _x(e,n){lw(e,n),(e=e.alternate)&&lw(e,n)}function CD(){return null}var fC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sx(e){this._internalRoot=e}jh.prototype.render=Sx.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(Se(409));Oh(e,n,null,null)};jh.prototype.unmount=Sx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;sl(function(){Oh(null,e,null,null)}),n[fa]=null}};function jh(e){this._internalRoot=e}jh.prototype.unstable_scheduleHydration=function(e){if(e){var n=H3();e={blockedOn:null,target:e,priority:n};for(var t=0;t<za.length&&n!==0&&n<za[t].priority;t++);za.splice(t,0,e),t===0&&V3(e)}};function Ax(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cw(){}function ED(e,n,t,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var x=q0(d);a.call(x)}}var d=dC(n,r,e,0,null,!1,!1,"",cw);return e._reactRootContainer=d,e[fa]=d.current,Gu(e.nodeType===8?e.parentNode:e),sl(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var g=r;r=function(){var x=q0(v);g.call(x)}}var v=Nx(e,0,!1,null,null,!1,!1,"",cw);return e._reactRootContainer=v,e[fa]=v.current,Gu(e.nodeType===8?e.parentNode:e),sl(function(){Oh(n,v,t,r)}),v}function Lh(e,n,t,r,s){var a=t._reactRootContainer;if(a){var d=a;if(typeof s=="function"){var g=s;s=function(){var v=q0(d);g.call(v)}}Oh(n,d,e,s)}else d=ED(t,n,e,s,r);return q0(d)}z3=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=_u(n.pendingLanes);t!==0&&(Yg(n,t|1),ni(n,Fn()),!(Rt&6)&&(fc=Fn()+500,fo()))}break;case 13:sl(function(){var r=ha(e,1);if(r!==null){var s=Hr();ss(r,e,1,s)}}),_x(e,1)}};Gg=function(e){if(e.tag===13){var n=ha(e,134217728);if(n!==null){var t=Hr();ss(n,e,134217728,t)}_x(e,134217728)}};W3=function(e){if(e.tag===13){var n=eo(e),t=ha(e,n);if(t!==null){var r=Hr();ss(t,e,n,r)}_x(e,n)}};H3=function(){return Xt};q3=function(e,n){var t=Xt;try{return Xt=e,n()}finally{Xt=t}};gm=function(e,n,t){switch(n){case"input":if(cm(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var s=Sh(r);if(!s)throw Error(Se(90));b3(r),cm(r,s)}}}break;case"textarea":E3(e,t);break;case"select":n=t.value,n!=null&&Kl(e,!!t.multiple,n,!1)}};D3=wx;I3=sl;var ND={usingClientEntryPoint:!1,Events:[md,Wl,Sh,T3,k3,wx]},xu={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_D={bundleType:xu.bundleType,version:xu.version,rendererPackageName:xu.rendererPackageName,rendererConfig:xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:va.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=j3(e),e===null?null:e.stateNode},findFiberByHostInstance:xu.findFiberByHostInstance||CD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{Ch=zf.inject(_D),ks=zf}catch{}}wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ND;wi.createPortal=function(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ax(n))throw Error(Se(200));return bD(e,n,null,t)};wi.createRoot=function(e,n){if(!Ax(e))throw Error(Se(299));var t=!1,r="",s=fC;return n!=null&&(n.unstable_strictMode===!0&&(t=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),n=Nx(e,1,!1,null,null,t,!1,r,s),e[fa]=n.current,Gu(e.nodeType===8?e.parentNode:e),new Sx(n)};wi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=j3(n),e=e===null?null:e.stateNode,e};wi.flushSync=function(e){return sl(e)};wi.hydrate=function(e,n,t){if(!Mh(n))throw Error(Se(200));return Lh(null,e,n,!0,t)};wi.hydrateRoot=function(e,n,t){if(!Ax(e))throw Error(Se(405));var r=t!=null&&t.hydratedSources||null,s=!1,a="",d=fC;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),n=dC(n,null,e,1,t??null,s,!1,a,d),e[fa]=n.current,Gu(e),r)for(e=0;e<r.length;e++)t=r[e],s=t._getVersion,s=s(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,s]:n.mutableSourceEagerHydrationData.push(t,s);return new jh(n)};wi.render=function(e,n,t){if(!Mh(n))throw Error(Se(200));return Lh(null,e,n,!1,t)};wi.unmountComponentAtNode=function(e){if(!Mh(e))throw Error(Se(40));return e._reactRootContainer?(sl(function(){Lh(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0):!1};wi.unstable_batchedUpdates=wx;wi.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Mh(t))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return Lh(e,n,t,!1,r)};wi.version="18.3.1-next-f1338f8080-20240426";function hC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hC)}catch(e){console.error(e)}}hC(),h3.exports=wi;var Tx=h3.exports;const SD=wh(Tx);var uw=Tx;nm.createRoot=uw.createRoot,nm.hydrateRoot=uw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},nd.apply(this,arguments)}var Ya;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ya||(Ya={}));const dw="popstate";function AD(e){e===void 0&&(e={});function n(r,s){let{pathname:a,search:d,hash:g}=r.location;return Xm("",{pathname:a,search:d,hash:g},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:V0(s)}return kD(n,t,null,e)}function zn(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function pC(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function TD(){return Math.random().toString(36).substr(2,8)}function fw(e,n){return{usr:e.state,key:e.key,idx:n}}function Xm(e,n,t,r){return t===void 0&&(t=null),nd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Sc(n):n,{state:t,key:n&&n.key||r||TD()})}function V0(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Sc(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function kD(e,n,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,d=s.history,g=Ya.Pop,v=null,x=w();x==null&&(x=0,d.replaceState(nd({},d.state,{idx:x}),""));function w(){return(d.state||{idx:null}).idx}function E(){g=Ya.Pop;let j=w(),I=j==null?null:j-x;x=j,v&&v({action:g,location:R.location,delta:I})}function _(j,I){g=Ya.Push;let D=Xm(R.location,j,I);t&&t(D,j),x=w()+1;let O=fw(D,x),q=R.createHref(D);try{d.pushState(O,"",q)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign(q)}a&&v&&v({action:g,location:R.location,delta:1})}function k(j,I){g=Ya.Replace;let D=Xm(R.location,j,I);t&&t(D,j),x=w();let O=fw(D,x),q=R.createHref(D);d.replaceState(O,"",q),a&&v&&v({action:g,location:R.location,delta:0})}function S(j){let I=s.location.origin!=="null"?s.location.origin:s.location.href,D=typeof j=="string"?j:V0(j);return D=D.replace(/ $/,"%20"),zn(I,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,I)}let R={get action(){return g},get location(){return e(s,d)},listen(j){if(v)throw new Error("A history only accepts one active listener");return s.addEventListener(dw,E),v=j,()=>{s.removeEventListener(dw,E),v=null}},createHref(j){return n(s,j)},createURL:S,encodeLocation(j){let I=S(j);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:k,go(j){return d.go(j)}};return R}var hw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hw||(hw={}));function DD(e,n,t){return t===void 0&&(t="/"),ID(e,n,t,!1)}function ID(e,n,t,r){let s=typeof n=="string"?Sc(n):n,a=kx(s.pathname||"/",t);if(a==null)return null;let d=mC(e);RD(d);let g=null;for(let v=0;g==null&&v<d.length;++v){let x=HD(a);g=zD(d[v],x,r)}return g}function mC(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,d,g)=>{let v={relativePath:g===void 0?a.path||"":g,caseSensitive:a.caseSensitive===!0,childrenIndex:d,route:a};v.relativePath.startsWith("/")&&(zn(v.relativePath.startsWith(r),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(r.length));let x=no([r,v.relativePath]),w=t.concat(v);a.children&&a.children.length>0&&(zn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),mC(a.children,n,w,x)),!(a.path==null&&!a.index)&&n.push({path:x,score:BD(x,a.index),routesMeta:w})};return e.forEach((a,d)=>{var g;if(a.path===""||!((g=a.path)!=null&&g.includes("?")))s(a,d);else for(let v of gC(a.path))s(a,d,v)}),n}function gC(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let d=gC(r.join("/")),g=[];return g.push(...d.map(v=>v===""?a:[a,v].join("/"))),s&&g.push(...d),g.map(v=>e.startsWith("/")&&v===""?"/":v)}function RD(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:UD(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const OD=/^:[\w-]+$/,jD=3,MD=2,LD=1,PD=10,FD=-2,pw=e=>e==="*";function BD(e,n){let t=e.split("/"),r=t.length;return t.some(pw)&&(r+=FD),n&&(r+=MD),t.filter(s=>!pw(s)).reduce((s,a)=>s+(OD.test(a)?jD:a===""?LD:PD),r)}function UD(e,n){return e.length===n.length&&e.slice(0,-1).every((r,s)=>r===n[s])?e[e.length-1]-n[n.length-1]:0}function zD(e,n,t){t===void 0&&(t=!1);let{routesMeta:r}=e,s={},a="/",d=[];for(let g=0;g<r.length;++g){let v=r[g],x=g===r.length-1,w=a==="/"?n:n.slice(a.length)||"/",E=mw({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},w),_=v.route;if(!E&&x&&t&&!r[r.length-1].route.index&&(E=mw({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},w)),!E)return null;Object.assign(s,E.params),d.push({params:s,pathname:no([a,E.pathname]),pathnameBase:GD(no([a,E.pathnameBase])),route:_}),E.pathnameBase!=="/"&&(a=no([a,E.pathnameBase]))}return d}function mw(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=WD(e.path,e.caseSensitive,e.end),s=n.match(t);if(!s)return null;let a=s[0],d=a.replace(/(.)\/+$/,"$1"),g=s.slice(1);return{params:r.reduce((x,w,E)=>{let{paramName:_,isOptional:k}=w;if(_==="*"){let R=g[E]||"";d=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const S=g[E];return k&&!S?x[_]=void 0:x[_]=(S||"").replace(/%2F/g,"/"),x},{}),pathname:a,pathnameBase:d,pattern:e}}function WD(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),pC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,v)=>(r.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,n?void 0:"i"),r]}function HD(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return pC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function kx(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function qD(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:s=""}=typeof e=="string"?Sc(e):e;return{pathname:t?t.startsWith("/")?t:VD(t,n):n,search:$D(r),hash:XD(s)}}function VD(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function F1(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YD(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function Dx(e,n){let t=YD(e);return n?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Ix(e,n,t,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Sc(e):(s=nd({},e),zn(!s.pathname||!s.pathname.includes("?"),F1("?","pathname","search",s)),zn(!s.pathname||!s.pathname.includes("#"),F1("#","pathname","hash",s)),zn(!s.search||!s.search.includes("#"),F1("#","search","hash",s)));let a=e===""||s.pathname==="",d=a?"/":s.pathname,g;if(d==null)g=t;else{let E=n.length-1;if(!r&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),E-=1;s.pathname=_.join("/")}g=E>=0?n[E]:"/"}let v=qD(s,g),x=d&&d!=="/"&&d.endsWith("/"),w=(a||d===".")&&t.endsWith("/");return!v.pathname.endsWith("/")&&(x||w)&&(v.pathname+="/"),v}const no=e=>e.join("/").replace(/\/\/+/g,"/"),GD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$D=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function QD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xC=["post","put","patch","delete"];new Set(xC);const KD=["get",...xC];new Set(KD);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},rd.apply(this,arguments)}const Rx=L.createContext(null),ZD=L.createContext(null),ho=L.createContext(null),Ph=L.createContext(null),ya=L.createContext({outlet:null,matches:[],isDataRoute:!1}),vC=L.createContext(null);function JD(e,n){let{relative:t}=n===void 0?{}:n;Ac()||zn(!1);let{basename:r,navigator:s}=L.useContext(ho),{hash:a,pathname:d,search:g}=bC(e,{relative:t}),v=d;return r!=="/"&&(v=d==="/"?r:no([r,d])),s.createHref({pathname:v,search:g,hash:a})}function Ac(){return L.useContext(Ph)!=null}function Tc(){return Ac()||zn(!1),L.useContext(Ph).location}function yC(e){L.useContext(ho).static||L.useLayoutEffect(e)}function us(){let{isDataRoute:e}=L.useContext(ya);return e?fI():eI()}function eI(){Ac()||zn(!1);let e=L.useContext(Rx),{basename:n,future:t,navigator:r}=L.useContext(ho),{matches:s}=L.useContext(ya),{pathname:a}=Tc(),d=JSON.stringify(Dx(s,t.v7_relativeSplatPath)),g=L.useRef(!1);return yC(()=>{g.current=!0}),L.useCallback(function(x,w){if(w===void 0&&(w={}),!g.current)return;if(typeof x=="number"){r.go(x);return}let E=Ix(x,JSON.parse(d),a,w.relative==="path");e==null&&n!=="/"&&(E.pathname=E.pathname==="/"?n:no([n,E.pathname])),(w.replace?r.replace:r.push)(E,w.state,w)},[n,r,d,a,e])}function wC(){let{matches:e}=L.useContext(ya),n=e[e.length-1];return n?n.params:{}}function bC(e,n){let{relative:t}=n===void 0?{}:n,{future:r}=L.useContext(ho),{matches:s}=L.useContext(ya),{pathname:a}=Tc(),d=JSON.stringify(Dx(s,r.v7_relativeSplatPath));return L.useMemo(()=>Ix(e,JSON.parse(d),a,t==="path"),[e,d,a,t])}function tI(e,n){return nI(e,n)}function nI(e,n,t,r){Ac()||zn(!1);let{navigator:s,static:a}=L.useContext(ho),{matches:d}=L.useContext(ya),g=d[d.length-1],v=g?g.params:{};g&&g.pathname;let x=g?g.pathnameBase:"/";g&&g.route;let w=Tc(),E;if(n){var _;let I=typeof n=="string"?Sc(n):n;x==="/"||(_=I.pathname)!=null&&_.startsWith(x)||zn(!1),E=I}else E=w;let k=E.pathname||"/",S=k;if(x!=="/"){let I=x.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(I.length).join("/")}let R=!a&&t&&t.matches&&t.matches.length>0?t.matches:DD(e,{pathname:S}),j=oI(R&&R.map(I=>Object.assign({},I,{params:Object.assign({},v,I.params),pathname:no([x,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?x:no([x,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),d,t,r);return n&&j?L.createElement(Ph.Provider,{value:{location:rd({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Ya.Pop}},j):j}function rI(){let e=dI(),n=QD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},n),t?L.createElement("pre",{style:s},t):null,a)}const iI=L.createElement(rI,null);class sI extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?L.createElement(ya.Provider,{value:this.props.routeContext},L.createElement(vC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aI(e){let{routeContext:n,match:t,children:r}=e,s=L.useContext(Rx);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(ya.Provider,{value:n},r)}function oI(e,n,t,r){var s;if(n===void 0&&(n=[]),t===void 0&&(t=null),r===void 0&&(r=null),e==null){var a;if(!t)return null;if(t.errors)e=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let d=e,g=(s=t)==null?void 0:s.errors;if(g!=null){let w=d.findIndex(E=>E.route.id&&(g==null?void 0:g[E.route.id])!==void 0);w>=0||zn(!1),d=d.slice(0,Math.min(d.length,w+1))}let v=!1,x=-1;if(t&&r&&r.v7_partialHydration)for(let w=0;w<d.length;w++){let E=d[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(x=w),E.route.id){let{loaderData:_,errors:k}=t,S=E.route.loader&&_[E.route.id]===void 0&&(!k||k[E.route.id]===void 0);if(E.route.lazy||S){v=!0,x>=0?d=d.slice(0,x+1):d=[d[0]];break}}}return d.reduceRight((w,E,_)=>{let k,S=!1,R=null,j=null;t&&(k=g&&E.route.id?g[E.route.id]:void 0,R=E.route.errorElement||iI,v&&(x<0&&_===0?(hI("route-fallback",!1),S=!0,j=null):x===_&&(S=!0,j=E.route.hydrateFallbackElement||null)));let I=n.concat(d.slice(0,_+1)),D=()=>{let O;return k?O=R:S?O=j:E.route.Component?O=L.createElement(E.route.Component,null):E.route.element?O=E.route.element:O=w,L.createElement(aI,{match:E,routeContext:{outlet:w,matches:I,isDataRoute:t!=null},children:O})};return t&&(E.route.ErrorBoundary||E.route.errorElement||_===0)?L.createElement(sI,{location:t.location,revalidation:t.revalidation,component:R,error:k,children:D(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):D()},null)}var CC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(CC||{}),Y0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Y0||{});function lI(e){let n=L.useContext(Rx);return n||zn(!1),n}function cI(e){let n=L.useContext(ZD);return n||zn(!1),n}function uI(e){let n=L.useContext(ya);return n||zn(!1),n}function EC(e){let n=uI(),t=n.matches[n.matches.length-1];return t.route.id||zn(!1),t.route.id}function dI(){var e;let n=L.useContext(vC),t=cI(Y0.UseRouteError),r=EC(Y0.UseRouteError);return n!==void 0?n:(e=t.errors)==null?void 0:e[r]}function fI(){let{router:e}=lI(CC.UseNavigateStable),n=EC(Y0.UseNavigateStable),t=L.useRef(!1);return yC(()=>{t.current=!0}),L.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,rd({fromRouteId:n},a)))},[e,n])}const gw={};function hI(e,n,t){!n&&!gw[e]&&(gw[e]=!0)}function pI(e,n){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!n||n.v7_relativeSplatPath),n&&(n.v7_fetcherPersist,n.v7_normalizeFormMethod,n.v7_partialHydration,n.v7_skipActionErrorRevalidation)}function G0(e){let{to:n,replace:t,state:r,relative:s}=e;Ac()||zn(!1);let{future:a,static:d}=L.useContext(ho),{matches:g}=L.useContext(ya),{pathname:v}=Tc(),x=us(),w=Ix(n,Dx(g,a.v7_relativeSplatPath),v,s==="path"),E=JSON.stringify(w);return L.useEffect(()=>x(JSON.parse(E),{replace:t,state:r,relative:s}),[x,E,s,t,r]),null}function Mi(e){zn(!1)}function mI(e){let{basename:n="/",children:t=null,location:r,navigationType:s=Ya.Pop,navigator:a,static:d=!1,future:g}=e;Ac()&&zn(!1);let v=n.replace(/^\/*/,"/"),x=L.useMemo(()=>({basename:v,navigator:a,static:d,future:rd({v7_relativeSplatPath:!1},g)}),[v,g,a,d]);typeof r=="string"&&(r=Sc(r));let{pathname:w="/",search:E="",hash:_="",state:k=null,key:S="default"}=r,R=L.useMemo(()=>{let j=kx(w,v);return j==null?null:{location:{pathname:j,search:E,hash:_,state:k,key:S},navigationType:s}},[v,w,E,_,k,S,s]);return R==null?null:L.createElement(ho.Provider,{value:x},L.createElement(Ph.Provider,{children:t,value:R}))}function gI(e){let{children:n,location:t}=e;return tI(Qm(n),t)}new Promise(()=>{});function Qm(e,n){n===void 0&&(n=[]);let t=[];return L.Children.forEach(e,(r,s)=>{if(!L.isValidElement(r))return;let a=[...n,s];if(r.type===L.Fragment){t.push.apply(t,Qm(r.props.children,a));return}r.type!==Mi&&zn(!1),!r.props.index||!r.props.children||zn(!1);let d={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Qm(r.props.children,a)),t.push(d)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Km.apply(this,arguments)}function xI(e,n){if(e==null)return{};var t={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(n.indexOf(s)>=0)&&(t[s]=e[s]);return t}function vI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yI(e,n){return e.button===0&&(!n||n==="_self")&&!vI(e)}const wI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bI="6";try{window.__reactRouterVersion=bI}catch{}const CI="startTransition",xw=Pg[CI];function EI(e){let{basename:n,children:t,future:r,window:s}=e,a=L.useRef();a.current==null&&(a.current=AD({window:s,v5Compat:!0}));let d=a.current,[g,v]=L.useState({action:d.action,location:d.location}),{v7_startTransition:x}=r||{},w=L.useCallback(E=>{x&&xw?xw(()=>v(E)):v(E)},[v,x]);return L.useLayoutEffect(()=>d.listen(w),[d,w]),L.useEffect(()=>pI(r),[r]),L.createElement(mI,{basename:n,children:t,location:g.location,navigationType:g.action,navigator:d,future:r})}const NI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Br=L.forwardRef(function(n,t){let{onClick:r,relative:s,reloadDocument:a,replace:d,state:g,target:v,to:x,preventScrollReset:w,viewTransition:E}=n,_=xI(n,wI),{basename:k}=L.useContext(ho),S,R=!1;if(typeof x=="string"&&_I.test(x)&&(S=x,NI))try{let O=new URL(window.location.href),q=x.startsWith("//")?new URL(O.protocol+x):new URL(x),Q=kx(q.pathname,k);q.origin===O.origin&&Q!=null?x=Q+q.search+q.hash:R=!0}catch{}let j=JD(x,{relative:s}),I=SI(x,{replace:d,state:g,target:v,preventScrollReset:w,relative:s,viewTransition:E});function D(O){r&&r(O),O.defaultPrevented||I(O)}return L.createElement("a",Km({},_,{href:S||j,onClick:R||a?r:D,ref:t,target:v}))});var vw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vw||(vw={}));var yw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yw||(yw={}));function SI(e,n){let{target:t,replace:r,state:s,preventScrollReset:a,relative:d,viewTransition:g}=n===void 0?{}:n,v=us(),x=Tc(),w=bC(e,{relative:d});return L.useCallback(E=>{if(yI(E,t)){E.preventDefault();let _=r!==void 0?r:V0(x)===V0(w);v(e,{replace:_,state:s,preventScrollReset:a,relative:d,viewTransition:g})}},[x,v,w,r,s,t,e,a,d,g])}class kc{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){const t={listener:n};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const id=typeof window>"u"||"Deno"in window;function Li(){}function AI(e,n){return typeof e=="function"?e(n):e}function Zm(e){return typeof e=="number"&&e>=0&&e!==1/0}function NC(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Xl(e,n,t){return xd(e)?typeof n=="function"?{...t,queryKey:e,queryFn:n}:{...n,queryKey:e}:e}function TI(e,n,t){return xd(e)?typeof n=="function"?{...t,mutationKey:e,mutationFn:n}:{...n,mutationKey:e}:typeof e=="function"?{...n,mutationFn:e}:{...e}}function Ua(e,n,t){return xd(e)?[{...n,queryKey:e},t]:[e||{},n]}function ww(e,n){const{type:t="all",exact:r,fetchStatus:s,predicate:a,queryKey:d,stale:g}=e;if(xd(d)){if(r){if(n.queryHash!==Ox(d,n.options))return!1}else if(!$0(n.queryKey,d))return!1}if(t!=="all"){const v=n.isActive();if(t==="active"&&!v||t==="inactive"&&v)return!1}return!(typeof g=="boolean"&&n.isStale()!==g||typeof s<"u"&&s!==n.state.fetchStatus||a&&!a(n))}function bw(e,n){const{exact:t,fetching:r,predicate:s,mutationKey:a}=e;if(xd(a)){if(!n.options.mutationKey)return!1;if(t){if(Yo(n.options.mutationKey)!==Yo(a))return!1}else if(!$0(n.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&n.state.status==="loading"!==r||s&&!s(n))}function Ox(e,n){return((n==null?void 0:n.queryKeyHashFn)||Yo)(e)}function Yo(e){return JSON.stringify(e,(n,t)=>Jm(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function $0(e,n){return _C(e,n)}function _C(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?!Object.keys(n).some(t=>!_C(e[t],n[t])):!1}function SC(e,n){if(e===n)return e;const t=Cw(e)&&Cw(n);if(t||Jm(e)&&Jm(n)){const r=t?e.length:Object.keys(e).length,s=t?n:Object.keys(n),a=s.length,d=t?[]:{};let g=0;for(let v=0;v<a;v++){const x=t?v:s[v];d[x]=SC(e[x],n[x]),d[x]===e[x]&&g++}return r===a&&g===r?e:d}return n}function X0(e,n){if(e&&!n||n&&!e)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}function Cw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jm(e){if(!Ew(e))return!1;const n=e.constructor;if(typeof n>"u")return!0;const t=n.prototype;return!(!Ew(t)||!t.hasOwnProperty("isPrototypeOf"))}function Ew(e){return Object.prototype.toString.call(e)==="[object Object]"}function xd(e){return Array.isArray(e)}function AC(e){return new Promise(n=>{setTimeout(n,e)})}function Nw(e){AC(0).then(e)}function kI(){if(typeof AbortController=="function")return new AbortController}function eg(e,n,t){return t.isDataEqual!=null&&t.isDataEqual(e,n)?e:typeof t.structuralSharing=="function"?t.structuralSharing(e,n):t.structuralSharing!==!1?SC(e,n):n}class DI extends kc{constructor(){super(),this.setup=n=>{if(!id&&window.addEventListener){const t=()=>n();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}}setEventListener(n){var t;this.setup=n,(t=this.cleanup)==null||t.call(this),this.cleanup=n(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(n){this.focused!==n&&(this.focused=n,this.onFocus())}onFocus(){this.listeners.forEach(({listener:n})=>{n()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Q0=new DI,_w=["online","offline"];class II extends kc{constructor(){super(),this.setup=n=>{if(!id&&window.addEventListener){const t=()=>n();return _w.forEach(r=>{window.addEventListener(r,t,!1)}),()=>{_w.forEach(r=>{window.removeEventListener(r,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}}setEventListener(n){var t;this.setup=n,(t=this.cleanup)==null||t.call(this),this.cleanup=n(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(n){this.online!==n&&(this.online=n,this.onOnline())}onOnline(){this.listeners.forEach(({listener:n})=>{n()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const K0=new II;function RI(e){return Math.min(1e3*2**e,3e4)}function Fh(e){return(e??"online")==="online"?K0.isOnline():!0}class TC{constructor(n){this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}}function c0(e){return e instanceof TC}function kC(e){let n=!1,t=0,r=!1,s,a,d;const g=new Promise((j,I)=>{a=j,d=I}),v=j=>{r||(k(new TC(j)),e.abort==null||e.abort())},x=()=>{n=!0},w=()=>{n=!1},E=()=>!Q0.isFocused()||e.networkMode!=="always"&&!K0.isOnline(),_=j=>{r||(r=!0,e.onSuccess==null||e.onSuccess(j),s==null||s(),a(j))},k=j=>{r||(r=!0,e.onError==null||e.onError(j),s==null||s(),d(j))},S=()=>new Promise(j=>{s=I=>{const D=r||!E();return D&&j(I),D},e.onPause==null||e.onPause()}).then(()=>{s=void 0,r||e.onContinue==null||e.onContinue()}),R=()=>{if(r)return;let j;try{j=e.fn()}catch(I){j=Promise.reject(I)}Promise.resolve(j).then(_).catch(I=>{var D,O;if(r)return;const q=(D=e.retry)!=null?D:3,Q=(O=e.retryDelay)!=null?O:RI,z=typeof Q=="function"?Q(t,I):Q,P=q===!0||typeof q=="number"&&t<q||typeof q=="function"&&q(t,I);if(n||!P){k(I);return}t++,e.onFail==null||e.onFail(t,I),AC(z).then(()=>{if(E())return S()}).then(()=>{n?k(I):R()})})};return Fh(e.networkMode)?R():S().then(R),{promise:g,cancel:v,continue:()=>(s==null?void 0:s())?g:Promise.resolve(),cancelRetry:x,continueRetry:w}}const jx=console;function OI(){let e=[],n=0,t=w=>{w()},r=w=>{w()};const s=w=>{let E;n++;try{E=w()}finally{n--,n||g()}return E},a=w=>{n?e.push(w):Nw(()=>{t(w)})},d=w=>(...E)=>{a(()=>{w(...E)})},g=()=>{const w=e;e=[],w.length&&Nw(()=>{r(()=>{w.forEach(E=>{t(E)})})})};return{batch:s,batchCalls:d,schedule:a,setNotifyFunction:w=>{t=w},setBatchNotifyFunction:w=>{r=w}}}const Dn=OI();class DC{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zm(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(n){this.cacheTime=Math.max(this.cacheTime||0,n??(id?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class jI extends DC{constructor(n){super(),this.abortSignalConsumed=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.logger=n.logger||jx,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||MI(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(n){this.options={...this.defaultOptions,...n},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(n,t){const r=eg(this.state.data,n,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(n,t){this.dispatch({type:"setState",state:n,setStateOptions:t})}cancel(n){var t;const r=this.promise;return(t=this.retryer)==null||t.cancel(n),r?r.then(Li).catch(Li):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(n=>n.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(n=>n.getCurrentResult().isStale)}isStaleByTime(n=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!NC(this.state.dataUpdatedAt,n)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(n=this.retryer)==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(n=this.retryer)==null||n.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(t=>t!==n),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(n,t){var r,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){const k=this.observers.find(S=>S.options.queryFn);k&&this.setOptions(k.options)}const d=kI(),g={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},v=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{if(d)return this.abortSignalConsumed=!0,d.signal}})};v(g);const x=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(g)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),w={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:x};if(v(w),(r=this.options.behavior)==null||r.onFetch(w),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=w.fetchOptions)==null?void 0:s.meta)){var E;this.dispatch({type:"fetch",meta:(E=w.fetchOptions)==null?void 0:E.meta})}const _=k=>{if(c0(k)&&k.silent||this.dispatch({type:"error",error:k}),!c0(k)){var S,R,j,I;(S=(R=this.cache.config).onError)==null||S.call(R,k,this),(j=(I=this.cache.config).onSettled)==null||j.call(I,this.state.data,k,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=kC({fn:w.fetchFn,abort:d==null?void 0:d.abort.bind(d),onSuccess:k=>{var S,R,j,I;if(typeof k>"u"){_(new Error(this.queryHash+" data is undefined"));return}this.setData(k),(S=(R=this.cache.config).onSuccess)==null||S.call(R,k,this),(j=(I=this.cache.config).onSettled)==null||j.call(I,k,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:_,onFail:(k,S)=>{this.dispatch({type:"failed",failureCount:k,error:S})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:w.options.retry,retryDelay:w.options.retryDelay,networkMode:w.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(n){const t=r=>{var s,a;switch(n.type){case"failed":return{...r,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=n.meta)!=null?s:null,fetchStatus:Fh(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:n.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=n.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const d=n.error;return c0(d)&&d.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:d,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...n.state}}};this.state=t(this.state),Dn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(n)}),this.cache.notify({query:this,type:"updated",action:n})})}}function MI(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,t=typeof n<"u",r=t?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"loading",fetchStatus:"idle"}}class LI extends kc{constructor(n){super(),this.config=n||{},this.queries=[],this.queriesMap={}}build(n,t,r){var s;const a=t.queryKey,d=(s=t.queryHash)!=null?s:Ox(a,t);let g=this.get(d);return g||(g=new jI({cache:this,logger:n.getLogger(),queryKey:a,queryHash:d,options:n.defaultQueryOptions(t),state:r,defaultOptions:n.getQueryDefaults(a)}),this.add(g)),g}add(n){this.queriesMap[n.queryHash]||(this.queriesMap[n.queryHash]=n,this.queries.push(n),this.notify({type:"added",query:n}))}remove(n){const t=this.queriesMap[n.queryHash];t&&(n.destroy(),this.queries=this.queries.filter(r=>r!==n),t===n&&delete this.queriesMap[n.queryHash],this.notify({type:"removed",query:n}))}clear(){Dn.batch(()=>{this.queries.forEach(n=>{this.remove(n)})})}get(n){return this.queriesMap[n]}getAll(){return this.queries}find(n,t){const[r]=Ua(n,t);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(s=>ww(r,s))}findAll(n,t){const[r]=Ua(n,t);return Object.keys(r).length>0?this.queries.filter(s=>ww(r,s)):this.queries}notify(n){Dn.batch(()=>{this.listeners.forEach(({listener:t})=>{t(n)})})}onFocus(){Dn.batch(()=>{this.queries.forEach(n=>{n.onFocus()})})}onOnline(){Dn.batch(()=>{this.queries.forEach(n=>{n.onOnline()})})}}class PI extends DC{constructor(n){super(),this.defaultOptions=n.defaultOptions,this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.logger=n.logger||jx,this.observers=[],this.state=n.state||IC(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options={...this.defaultOptions,...n},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(n){this.dispatch({type:"setState",state:n})}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.observers=this.observers.filter(t=>t!==n),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var n,t;return(n=(t=this.retryer)==null?void 0:t.continue())!=null?n:this.execute()}async execute(){const n=()=>{var P;return this.retryer=kC({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(V,W)=>{this.dispatch({type:"failed",failureCount:V,error:W})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(P=this.options.retry)!=null?P:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var r,s,a,d,g,v,x,w;if(!t){var E,_,k,S;this.dispatch({type:"loading",variables:this.options.variables}),await((E=(_=this.mutationCache.config).onMutate)==null?void 0:E.call(_,this.state.variables,this));const V=await((k=(S=this.options).onMutate)==null?void 0:k.call(S,this.state.variables));V!==this.state.context&&this.dispatch({type:"loading",context:V,variables:this.state.variables})}const P=await n();return await((r=(s=this.mutationCache.config).onSuccess)==null?void 0:r.call(s,P,this.state.variables,this.state.context,this)),await((a=(d=this.options).onSuccess)==null?void 0:a.call(d,P,this.state.variables,this.state.context)),await((g=(v=this.mutationCache.config).onSettled)==null?void 0:g.call(v,P,null,this.state.variables,this.state.context,this)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,P,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:P}),P}catch(P){try{var R,j,I,D,O,q,Q,z;throw await((R=(j=this.mutationCache.config).onError)==null?void 0:R.call(j,P,this.state.variables,this.state.context,this)),await((I=(D=this.options).onError)==null?void 0:I.call(D,P,this.state.variables,this.state.context)),await((O=(q=this.mutationCache.config).onSettled)==null?void 0:O.call(q,void 0,P,this.state.variables,this.state.context,this)),await((Q=(z=this.options).onSettled)==null?void 0:Q.call(z,void 0,P,this.state.variables,this.state.context)),P}finally{this.dispatch({type:"error",error:P})}}}dispatch(n){const t=r=>{switch(n.type){case"failed":return{...r,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Fh(this.options.networkMode),status:"loading",variables:n.variables};case"success":return{...r,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:n.error,failureCount:r.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"};case"setState":return{...r,...n.state}}};this.state=t(this.state),Dn.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(n)}),this.mutationCache.notify({mutation:this,type:"updated",action:n})})}}function IC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class FI extends kc{constructor(n){super(),this.config=n||{},this.mutations=[],this.mutationId=0}build(n,t,r){const s=new PI({mutationCache:this,logger:n.getLogger(),mutationId:++this.mutationId,options:n.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?n.getMutationDefaults(t.mutationKey):void 0});return this.add(s),s}add(n){this.mutations.push(n),this.notify({type:"added",mutation:n})}remove(n){this.mutations=this.mutations.filter(t=>t!==n),this.notify({type:"removed",mutation:n})}clear(){Dn.batch(()=>{this.mutations.forEach(n=>{this.remove(n)})})}getAll(){return this.mutations}find(n){return typeof n.exact>"u"&&(n.exact=!0),this.mutations.find(t=>bw(n,t))}findAll(n){return this.mutations.filter(t=>bw(n,t))}notify(n){Dn.batch(()=>{this.listeners.forEach(({listener:t})=>{t(n)})})}resumePausedMutations(){var n;return this.resuming=((n=this.resuming)!=null?n:Promise.resolve()).then(()=>{const t=this.mutations.filter(r=>r.state.isPaused);return Dn.batch(()=>t.reduce((r,s)=>r.then(()=>s.continue().catch(Li)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function tg(){return{onFetch:e=>{e.fetchFn=()=>{var n,t,r,s,a,d;const g=(n=e.fetchOptions)==null||(t=n.meta)==null?void 0:t.refetchPage,v=(r=e.fetchOptions)==null||(s=r.meta)==null?void 0:s.fetchMore,x=v==null?void 0:v.pageParam,w=(v==null?void 0:v.direction)==="forward",E=(v==null?void 0:v.direction)==="backward",_=((a=e.state.data)==null?void 0:a.pages)||[],k=((d=e.state.data)==null?void 0:d.pageParams)||[];let S=k,R=!1;const j=z=>{Object.defineProperty(z,"signal",{enumerable:!0,get:()=>{var P;if((P=e.signal)!=null&&P.aborted)R=!0;else{var V;(V=e.signal)==null||V.addEventListener("abort",()=>{R=!0})}return e.signal}})},I=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),D=(z,P,V,W)=>(S=W?[P,...S]:[...S,P],W?[V,...z]:[...z,V]),O=(z,P,V,W)=>{if(R)return Promise.reject("Cancelled");if(typeof V>"u"&&!P&&z.length)return Promise.resolve(z);const se={queryKey:e.queryKey,pageParam:V,meta:e.options.meta};j(se);const ce=I(se);return Promise.resolve(ce).then(ie=>D(z,V,ie,W))};let q;if(!_.length)q=O([]);else if(w){const z=typeof x<"u",P=z?x:ng(e.options,_);q=O(_,z,P)}else if(E){const z=typeof x<"u",P=z?x:RC(e.options,_);q=O(_,z,P,!0)}else{S=[];const z=typeof e.options.getNextPageParam>"u";q=(g&&_[0]?g(_[0],0,_):!0)?O([],z,k[0]):Promise.resolve(D([],k[0],_[0]));for(let V=1;V<_.length;V++)q=q.then(W=>{if(g&&_[V]?g(_[V],V,_):!0){const ce=z?k[V]:ng(e.options,W);return O(W,z,ce)}return Promise.resolve(D(W,k[V],_[V]))})}return q.then(z=>({pages:z,pageParams:S}))}}}}function ng(e,n){return e.getNextPageParam==null?void 0:e.getNextPageParam(n[n.length-1],n)}function RC(e,n){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(n[0],n)}function BI(e,n){if(e.getNextPageParam&&Array.isArray(n)){const t=ng(e,n);return typeof t<"u"&&t!==null&&t!==!1}}function UI(e,n){if(e.getPreviousPageParam&&Array.isArray(n)){const t=RC(e,n);return typeof t<"u"&&t!==null&&t!==!1}}class zI{constructor(n={}){this.queryCache=n.queryCache||new LI,this.mutationCache=n.mutationCache||new FI,this.logger=n.logger||jx,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Q0.subscribe(()=>{Q0.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=K0.subscribe(()=>{K0.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var n,t;this.mountCount--,this.mountCount===0&&((n=this.unsubscribeFocus)==null||n.call(this),this.unsubscribeFocus=void 0,(t=this.unsubscribeOnline)==null||t.call(this),this.unsubscribeOnline=void 0)}isFetching(n,t){const[r]=Ua(n,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(n){return this.mutationCache.findAll({...n,fetching:!0}).length}getQueryData(n,t){var r;return(r=this.queryCache.find(n,t))==null?void 0:r.state.data}ensureQueryData(n,t,r){const s=Xl(n,t,r),a=this.getQueryData(s.queryKey);return a?Promise.resolve(a):this.fetchQuery(s)}getQueriesData(n){return this.getQueryCache().findAll(n).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(n,t,r){const s=this.queryCache.find(n),a=s==null?void 0:s.state.data,d=AI(t,a);if(typeof d>"u")return;const g=Xl(n),v=this.defaultQueryOptions(g);return this.queryCache.build(this,v).setData(d,{...r,manual:!0})}setQueriesData(n,t,r){return Dn.batch(()=>this.getQueryCache().findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(n,t){var r;return(r=this.queryCache.find(n,t))==null?void 0:r.state}removeQueries(n,t){const[r]=Ua(n,t),s=this.queryCache;Dn.batch(()=>{s.findAll(r).forEach(a=>{s.remove(a)})})}resetQueries(n,t,r){const[s,a]=Ua(n,t,r),d=this.queryCache,g={type:"active",...s};return Dn.batch(()=>(d.findAll(s).forEach(v=>{v.reset()}),this.refetchQueries(g,a)))}cancelQueries(n,t,r){const[s,a={}]=Ua(n,t,r);typeof a.revert>"u"&&(a.revert=!0);const d=Dn.batch(()=>this.queryCache.findAll(s).map(g=>g.cancel(a)));return Promise.all(d).then(Li).catch(Li)}invalidateQueries(n,t,r){const[s,a]=Ua(n,t,r);return Dn.batch(()=>{var d,g;if(this.queryCache.findAll(s).forEach(x=>{x.invalidate()}),s.refetchType==="none")return Promise.resolve();const v={...s,type:(d=(g=s.refetchType)!=null?g:s.type)!=null?d:"active"};return this.refetchQueries(v,a)})}refetchQueries(n,t,r){const[s,a]=Ua(n,t,r),d=Dn.batch(()=>this.queryCache.findAll(s).filter(v=>!v.isDisabled()).map(v=>{var x;return v.fetch(void 0,{...a,cancelRefetch:(x=a==null?void 0:a.cancelRefetch)!=null?x:!0,meta:{refetchPage:s.refetchPage}})}));let g=Promise.all(d).then(Li);return a!=null&&a.throwOnError||(g=g.catch(Li)),g}fetchQuery(n,t,r){const s=Xl(n,t,r),a=this.defaultQueryOptions(s);typeof a.retry>"u"&&(a.retry=!1);const d=this.queryCache.build(this,a);return d.isStaleByTime(a.staleTime)?d.fetch(a):Promise.resolve(d.state.data)}prefetchQuery(n,t,r){return this.fetchQuery(n,t,r).then(Li).catch(Li)}fetchInfiniteQuery(n,t,r){const s=Xl(n,t,r);return s.behavior=tg(),this.fetchQuery(s)}prefetchInfiniteQuery(n,t,r){return this.fetchInfiniteQuery(n,t,r).then(Li).catch(Li)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(n){this.defaultOptions=n}setQueryDefaults(n,t){const r=this.queryDefaults.find(s=>Yo(n)===Yo(s.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:n,defaultOptions:t})}getQueryDefaults(n){if(!n)return;const t=this.queryDefaults.find(r=>$0(n,r.queryKey));return t==null?void 0:t.defaultOptions}setMutationDefaults(n,t){const r=this.mutationDefaults.find(s=>Yo(n)===Yo(s.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:n,defaultOptions:t})}getMutationDefaults(n){if(!n)return;const t=this.mutationDefaults.find(r=>$0(n,r.mutationKey));return t==null?void 0:t.defaultOptions}defaultQueryOptions(n){if(n!=null&&n._defaulted)return n;const t={...this.defaultOptions.queries,...this.getQueryDefaults(n==null?void 0:n.queryKey),...n,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=Ox(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...this.defaultOptions.mutations,...this.getMutationDefaults(n==null?void 0:n.mutationKey),...n,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class OC extends kc{constructor(n,t){super(),this.client=n,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Sw(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rg(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rg(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(n,t){const r=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryOptions(n),X0(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&Aw(this.currentQuery,s,this.options,r)&&this.executeFetch(),this.updateResult(t),a&&(this.currentQuery!==s||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const d=this.computeRefetchInterval();a&&(this.currentQuery!==s||this.options.enabled!==r.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)}getOptimisticResult(n){const t=this.client.getQueryCache().build(this.client,n),r=this.createResult(t,n);return HI(this,r,n)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(n){const t={};return Object.keys(n).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),n[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:n,...t}={}){return this.fetch({...t,meta:{refetchPage:n}})}fetchOptimistic(n){const t=this.client.defaultQueryOptions(n),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(n){var t;return this.executeFetch({...n,cancelRefetch:(t=n.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(n){this.updateQuery();let t=this.currentQuery.fetch(this.options,n);return n!=null&&n.throwOnError||(t=t.catch(Li)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),id||this.currentResult.isStale||!Zm(this.options.staleTime))return;const t=NC(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var n;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(n=this.options.refetchInterval)!=null?n:!1}updateRefetchInterval(n){this.clearRefetchInterval(),this.currentRefetchInterval=n,!(id||this.options.enabled===!1||!Zm(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Q0.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(n,t){const r=this.currentQuery,s=this.options,a=this.currentResult,d=this.currentResultState,g=this.currentResultOptions,v=n!==r,x=v?n.state:this.currentQueryInitialState,w=v?this.currentResult:this.previousQueryResult,{state:E}=n;let{dataUpdatedAt:_,error:k,errorUpdatedAt:S,fetchStatus:R,status:j}=E,I=!1,D=!1,O;if(t._optimisticResults){const V=this.hasListeners(),W=!V&&Sw(n,t),se=V&&Aw(n,r,t,s);(W||se)&&(R=Fh(n.options.networkMode)?"fetching":"paused",_||(j="loading")),t._optimisticResults==="isRestoring"&&(R="idle")}if(t.keepPreviousData&&!E.dataUpdatedAt&&w!=null&&w.isSuccess&&j!=="error")O=w.data,_=w.dataUpdatedAt,j=w.status,I=!0;else if(t.select&&typeof E.data<"u")if(a&&E.data===(d==null?void 0:d.data)&&t.select===this.selectFn)O=this.selectResult;else try{this.selectFn=t.select,O=t.select(E.data),O=eg(a==null?void 0:a.data,O,t),this.selectResult=O,this.selectError=null}catch(V){this.selectError=V}else O=E.data;if(typeof t.placeholderData<"u"&&typeof O>"u"&&j==="loading"){let V;if(a!=null&&a.isPlaceholderData&&t.placeholderData===(g==null?void 0:g.placeholderData))V=a.data;else if(V=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof V<"u")try{V=t.select(V),this.selectError=null}catch(W){this.selectError=W}typeof V<"u"&&(j="success",O=eg(a==null?void 0:a.data,V,t),D=!0)}this.selectError&&(k=this.selectError,O=this.selectResult,S=Date.now(),j="error");const q=R==="fetching",Q=j==="loading",z=j==="error";return{status:j,fetchStatus:R,isLoading:Q,isSuccess:j==="success",isError:z,isInitialLoading:Q&&q,data:O,dataUpdatedAt:_,error:k,errorUpdatedAt:S,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>x.dataUpdateCount||E.errorUpdateCount>x.errorUpdateCount,isFetching:q,isRefetching:q&&!Q,isLoadingError:z&&E.dataUpdatedAt===0,isPaused:R==="paused",isPlaceholderData:D,isPreviousData:I,isRefetchError:z&&E.dataUpdatedAt!==0,isStale:Mx(n,t),refetch:this.refetch,remove:this.remove}}updateResult(n){const t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,X0(r,t))return;this.currentResult=r;const s={cache:!0},a=()=>{if(!t)return!0;const{notifyOnChangeProps:d}=this.options,g=typeof d=="function"?d():d;if(g==="all"||!g&&!this.trackedProps.size)return!0;const v=new Set(g??this.trackedProps);return this.options.useErrorBoundary&&v.add("error"),Object.keys(this.currentResult).some(x=>{const w=x;return this.currentResult[w]!==t[w]&&v.has(w)})};(n==null?void 0:n.listeners)!==!1&&a()&&(s.listeners=!0),this.notify({...s,...n})}updateQuery(){const n=this.client.getQueryCache().build(this.client,this.options);if(n===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=n,this.currentQueryInitialState=n.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),n.addObserver(this))}onQueryUpdate(n){const t={};n.type==="success"?t.onSuccess=!n.manual:n.type==="error"&&!c0(n.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(n){Dn.batch(()=>{if(n.onSuccess){var t,r,s,a;(t=(r=this.options).onSuccess)==null||t.call(r,this.currentResult.data),(s=(a=this.options).onSettled)==null||s.call(a,this.currentResult.data,null)}else if(n.onError){var d,g,v,x;(d=(g=this.options).onError)==null||d.call(g,this.currentResult.error),(v=(x=this.options).onSettled)==null||v.call(x,void 0,this.currentResult.error)}n.listeners&&this.listeners.forEach(({listener:w})=>{w(this.currentResult)}),n.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function WI(e,n){return n.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Sw(e,n){return WI(e,n)||e.state.dataUpdatedAt>0&&rg(e,n,n.refetchOnMount)}function rg(e,n,t){if(n.enabled!==!1){const r=typeof t=="function"?t(e):t;return r==="always"||r!==!1&&Mx(e,n)}return!1}function Aw(e,n,t,r){return t.enabled!==!1&&(e!==n||r.enabled===!1)&&(!t.suspense||e.state.status!=="error")&&Mx(e,t)}function Mx(e,n){return e.isStaleByTime(n.staleTime)}function HI(e,n,t){return t.keepPreviousData?!1:t.placeholderData!==void 0?n.isPlaceholderData:!X0(e.getCurrentResult(),n)}class qI extends OC{constructor(n,t){super(n,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n,t){super.setOptions({...n,behavior:tg()},t)}getOptimisticResult(n){return n.behavior=tg(),super.getOptimisticResult(n)}fetchNextPage({pageParam:n,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:n}}})}fetchPreviousPage({pageParam:n,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:n}}})}createResult(n,t){var r,s,a,d,g,v;const{state:x}=n,w=super.createResult(n,t),{isFetching:E,isRefetching:_}=w,k=E&&((r=x.fetchMeta)==null||(s=r.fetchMore)==null?void 0:s.direction)==="forward",S=E&&((a=x.fetchMeta)==null||(d=a.fetchMore)==null?void 0:d.direction)==="backward";return{...w,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:BI(t,(g=x.data)==null?void 0:g.pages),hasPreviousPage:UI(t,(v=x.data)==null?void 0:v.pages),isFetchingNextPage:k,isFetchingPreviousPage:S,isRefetching:_&&!k&&!S}}}let VI=class extends kc{constructor(n,t){super(),this.client=n,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var t;const r=this.options;this.options=this.client.defaultMutationOptions(n),X0(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(t=this.currentMutation)==null||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var n;(n=this.currentMutation)==null||n.removeObserver(this)}}onMutationUpdate(n){this.updateResult();const t={listeners:!0};n.type==="success"?t.onSuccess=!0:n.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(n,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof n<"u"?n:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const n=this.currentMutation?this.currentMutation.state:IC(),t={...n,isLoading:n.status==="loading",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(n){Dn.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(n.onSuccess){var t,r,s,a;(t=(r=this.mutateOptions).onSuccess)==null||t.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(s=(a=this.mutateOptions).onSettled)==null||s.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(n.onError){var d,g,v,x;(d=(g=this.mutateOptions).onError)==null||d.call(g,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(v=(x=this.mutateOptions).onSettled)==null||v.call(x,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}n.listeners&&this.listeners.forEach(({listener:w})=>{w(this.currentResult)})})}};var jC={exports:{}},MC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=L;function YI(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var GI=typeof Object.is=="function"?Object.is:YI,$I=hc.useState,XI=hc.useEffect,QI=hc.useLayoutEffect,KI=hc.useDebugValue;function ZI(e,n){var t=n(),r=$I({inst:{value:t,getSnapshot:n}}),s=r[0].inst,a=r[1];return QI(function(){s.value=t,s.getSnapshot=n,B1(s)&&a({inst:s})},[e,t,n]),XI(function(){return B1(s)&&a({inst:s}),e(function(){B1(s)&&a({inst:s})})},[e]),KI(t),t}function B1(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!GI(e,t)}catch{return!0}}function JI(e,n){return n()}var e7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JI:ZI;MC.useSyncExternalStore=hc.useSyncExternalStore!==void 0?hc.useSyncExternalStore:e7;jC.exports=MC;var t7=jC.exports;const LC=t7.useSyncExternalStore,Tw=L.createContext(void 0),PC=L.createContext(!1);function FC(e,n){return e||(n&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Tw),window.ReactQueryClientContext):Tw)}const nr=({context:e}={})=>{const n=L.useContext(FC(e,L.useContext(PC)));if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},n7=({client:e,children:n,context:t,contextSharing:r=!1})=>{L.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const s=FC(t,r);return L.createElement(PC.Provider,{value:!t&&r},L.createElement(s.Provider,{value:e},n))},BC=L.createContext(!1),r7=()=>L.useContext(BC);BC.Provider;function i7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const s7=L.createContext(i7()),a7=()=>L.useContext(s7);function UC(e,n){return typeof e=="function"?e(...n):!!e}const o7=(e,n)=>{(e.suspense||e.useErrorBoundary)&&(n.isReset()||(e.retryOnMount=!1))},l7=e=>{L.useEffect(()=>{e.clearReset()},[e])},c7=({result:e,errorResetBoundary:n,useErrorBoundary:t,query:r})=>e.isError&&!n.isReset()&&!e.isFetching&&UC(t,[e.error,r]),u7=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},d7=(e,n)=>e.isLoading&&e.isFetching&&!n,f7=(e,n,t)=>(e==null?void 0:e.suspense)&&d7(n,t),h7=(e,n,t)=>n.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{t.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function zC(e,n){const t=nr({context:e.context}),r=r7(),s=a7(),a=t.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=Dn.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Dn.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Dn.batchCalls(a.onSettled)),u7(a),o7(a,s),l7(s);const[d]=L.useState(()=>new n(t,a)),g=d.getOptimisticResult(a);if(LC(L.useCallback(v=>{const x=r?()=>{}:d.subscribe(Dn.batchCalls(v));return d.updateResult(),x},[d,r]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),L.useEffect(()=>{d.setOptions(a,{listeners:!1})},[a,d]),f7(a,g,r))throw h7(a,d,s);if(c7({result:g,errorResetBoundary:s,useErrorBoundary:a.useErrorBoundary,query:d.getCurrentQuery()}))throw g.error;return a.notifyOnChangeProps?g:d.trackResult(g)}function Lt(e,n,t){const r=Xl(e,n,t);return zC(r,OC)}function Wn(e,n,t){const r=TI(e,n,t),s=nr({context:r.context}),[a]=L.useState(()=>new VI(s,r));L.useEffect(()=>{a.setOptions(r)},[a,r]);const d=LC(L.useCallback(v=>a.subscribe(Dn.batchCalls(v)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),g=L.useCallback((v,x)=>{a.mutate(v,x).catch(p7)},[a]);if(d.error&&UC(a.options.useErrorBoundary,[d.error]))throw d.error;return{...d,mutate:g,mutateAsync:d.mutate}}function p7(){}function WC(e,n,t){const r=Xl(e,n,t);return zC(r,qI)}function HC(e,n){return function(){return e.apply(n,arguments)}}const{toString:m7}=Object.prototype,{getPrototypeOf:Lx}=Object,{iterator:Bh,toStringTag:qC}=Symbol,Uh=(e=>n=>{const t=m7.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ds=e=>(e=e.toLowerCase(),n=>Uh(n)===e),zh=e=>n=>typeof n===e,{isArray:Dc}=Array,sd=zh("undefined");function g7(e){return e!==null&&!sd(e)&&e.constructor!==null&&!sd(e.constructor)&&ri(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const VC=ds("ArrayBuffer");function x7(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&VC(e.buffer),n}const v7=zh("string"),ri=zh("function"),YC=zh("number"),Wh=e=>e!==null&&typeof e=="object",y7=e=>e===!0||e===!1,u0=e=>{if(Uh(e)!=="object")return!1;const n=Lx(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(qC in e)&&!(Bh in e)},w7=ds("Date"),b7=ds("File"),C7=ds("Blob"),E7=ds("FileList"),N7=e=>Wh(e)&&ri(e.pipe),_7=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||ri(e.append)&&((n=Uh(e))==="formdata"||n==="object"&&ri(e.toString)&&e.toString()==="[object FormData]"))},S7=ds("URLSearchParams"),[A7,T7,k7,D7]=["ReadableStream","Request","Response","Headers"].map(ds),I7=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vd(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Dc(e))for(r=0,s=e.length;r<s;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),d=a.length;let g;for(r=0;r<d;r++)g=a[r],n.call(null,e[g],g,e)}}function GC(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,s;for(;r-- >0;)if(s=t[r],n===s.toLowerCase())return s;return null}const Go=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),$C=e=>!sd(e)&&e!==Go;function ig(){const{caseless:e}=$C(this)&&this||{},n={},t=(r,s)=>{const a=e&&GC(n,s)||s;u0(n[a])&&u0(r)?n[a]=ig(n[a],r):u0(r)?n[a]=ig({},r):Dc(r)?n[a]=r.slice():n[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&vd(arguments[r],t);return n}const R7=(e,n,t,{allOwnKeys:r}={})=>(vd(n,(s,a)=>{t&&ri(s)?e[a]=HC(s,t):e[a]=s},{allOwnKeys:r}),e),O7=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),j7=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},M7=(e,n,t,r)=>{let s,a,d;const g={};if(n=n||{},e==null)return n;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)d=s[a],(!r||r(d,e,n))&&!g[d]&&(n[d]=e[d],g[d]=!0);e=t!==!1&&Lx(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},L7=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},P7=e=>{if(!e)return null;if(Dc(e))return e;let n=e.length;if(!YC(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},F7=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&Lx(Uint8Array)),B7=(e,n)=>{const r=(e&&e[Bh]).call(e);let s;for(;(s=r.next())&&!s.done;){const a=s.value;n.call(e,a[0],a[1])}},U7=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},z7=ds("HTMLFormElement"),W7=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),kw=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),H7=ds("RegExp"),XC=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};vd(t,(s,a)=>{let d;(d=n(s,a,e))!==!1&&(r[a]=d||s)}),Object.defineProperties(e,r)},q7=e=>{XC(e,(n,t)=>{if(ri(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(ri(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},V7=(e,n)=>{const t={},r=s=>{s.forEach(a=>{t[a]=!0})};return Dc(e)?r(e):r(String(e).split(n)),t},Y7=()=>{},G7=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function $7(e){return!!(e&&ri(e.append)&&e[qC]==="FormData"&&e[Bh])}const X7=e=>{const n=new Array(10),t=(r,s)=>{if(Wh(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[s]=r;const a=Dc(r)?[]:{};return vd(r,(d,g)=>{const v=t(d,s+1);!sd(v)&&(a[g]=v)}),n[s]=void 0,a}}return r};return t(e,0)},Q7=ds("AsyncFunction"),K7=e=>e&&(Wh(e)||ri(e))&&ri(e.then)&&ri(e.catch),QC=((e,n)=>e?setImmediate:n?((t,r)=>(Go.addEventListener("message",({source:s,data:a})=>{s===Go&&a===t&&r.length&&r.shift()()},!1),s=>{r.push(s),Go.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ri(Go.postMessage)),Z7=typeof queueMicrotask<"u"?queueMicrotask.bind(Go):typeof process<"u"&&process.nextTick||QC,J7=e=>e!=null&&ri(e[Bh]),me={isArray:Dc,isArrayBuffer:VC,isBuffer:g7,isFormData:_7,isArrayBufferView:x7,isString:v7,isNumber:YC,isBoolean:y7,isObject:Wh,isPlainObject:u0,isReadableStream:A7,isRequest:T7,isResponse:k7,isHeaders:D7,isUndefined:sd,isDate:w7,isFile:b7,isBlob:C7,isRegExp:H7,isFunction:ri,isStream:N7,isURLSearchParams:S7,isTypedArray:F7,isFileList:E7,forEach:vd,merge:ig,extend:R7,trim:I7,stripBOM:O7,inherits:j7,toFlatObject:M7,kindOf:Uh,kindOfTest:ds,endsWith:L7,toArray:P7,forEachEntry:B7,matchAll:U7,isHTMLForm:z7,hasOwnProperty:kw,hasOwnProp:kw,reduceDescriptors:XC,freezeMethods:q7,toObjectSet:V7,toCamelCase:W7,noop:Y7,toFiniteNumber:G7,findKey:GC,global:Go,isContextDefined:$C,isSpecCompliantForm:$7,toJSONObject:X7,isAsyncFn:Q7,isThenable:K7,setImmediate:QC,asap:Z7,isIterable:J7};function lt(e,n,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}me.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const KC=lt.prototype,ZC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ZC[e]={value:e}});Object.defineProperties(lt,ZC);Object.defineProperty(KC,"isAxiosError",{value:!0});lt.from=(e,n,t,r,s,a)=>{const d=Object.create(KC);return me.toFlatObject(e,d,function(v){return v!==Error.prototype},g=>g!=="isAxiosError"),lt.call(d,e.message,n,t,r,s),d.cause=e,d.name=e.name,a&&Object.assign(d,a),d};const eR=null;function sg(e){return me.isPlainObject(e)||me.isArray(e)}function JC(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function Dw(e,n,t){return e?e.concat(n).map(function(s,a){return s=JC(s),!t&&a?"["+s+"]":s}).join(t?".":""):n}function tR(e){return me.isArray(e)&&!e.some(sg)}const nR=me.toFlatObject(me,{},null,function(n){return/^is[A-Z]/.test(n)});function Hh(e,n,t){if(!me.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=me.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,j){return!me.isUndefined(j[R])});const r=t.metaTokens,s=t.visitor||w,a=t.dots,d=t.indexes,v=(t.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(n);if(!me.isFunction(s))throw new TypeError("visitor must be a function");function x(S){if(S===null)return"";if(me.isDate(S))return S.toISOString();if(!v&&me.isBlob(S))throw new lt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(S)||me.isTypedArray(S)?v&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function w(S,R,j){let I=S;if(S&&!j&&typeof S=="object"){if(me.endsWith(R,"{}"))R=r?R:R.slice(0,-2),S=JSON.stringify(S);else if(me.isArray(S)&&tR(S)||(me.isFileList(S)||me.endsWith(R,"[]"))&&(I=me.toArray(S)))return R=JC(R),I.forEach(function(O,q){!(me.isUndefined(O)||O===null)&&n.append(d===!0?Dw([R],q,a):d===null?R:R+"[]",x(O))}),!1}return sg(S)?!0:(n.append(Dw(j,R,a),x(S)),!1)}const E=[],_=Object.assign(nR,{defaultVisitor:w,convertValue:x,isVisitable:sg});function k(S,R){if(!me.isUndefined(S)){if(E.indexOf(S)!==-1)throw Error("Circular reference detected in "+R.join("."));E.push(S),me.forEach(S,function(I,D){(!(me.isUndefined(I)||I===null)&&s.call(n,I,me.isString(D)?D.trim():D,R,_))===!0&&k(I,R?R.concat(D):[D])}),E.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return k(e),n}function Iw(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function Px(e,n){this._pairs=[],e&&Hh(e,this,n)}const eE=Px.prototype;eE.append=function(n,t){this._pairs.push([n,t])};eE.toString=function(n){const t=n?function(r){return n.call(this,r,Iw)}:Iw;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function rR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tE(e,n,t){if(!n)return e;const r=t&&t.encode||rR;me.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let a;if(s?a=s(n,t):a=me.isURLSearchParams(n)?n.toString():new Px(n,t).toString(r),a){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class iR{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){me.forEach(this.handlers,function(r){r!==null&&n(r)})}}const Rw=iR,nE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sR=typeof URLSearchParams<"u"?URLSearchParams:Px,aR=typeof FormData<"u"?FormData:null,oR=typeof Blob<"u"?Blob:null,lR={isBrowser:!0,classes:{URLSearchParams:sR,FormData:aR,Blob:oR},protocols:["http","https","file","blob","url","data"]},Fx=typeof window<"u"&&typeof document<"u",ag=typeof navigator=="object"&&navigator||void 0,cR=Fx&&(!ag||["ReactNative","NativeScript","NS"].indexOf(ag.product)<0),uR=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),dR=Fx&&window.location.href||"http://localhost",fR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fx,hasStandardBrowserEnv:cR,hasStandardBrowserWebWorkerEnv:uR,navigator:ag,origin:dR},Symbol.toStringTag,{value:"Module"})),kr={...fR,...lR};function hR(e,n){return Hh(e,new kr.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,a){return kr.isNode&&me.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function pR(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function mR(e){const n={},t=Object.keys(e);let r;const s=t.length;let a;for(r=0;r<s;r++)a=t[r],n[a]=e[a];return n}function rE(e){function n(t,r,s,a){let d=t[a++];if(d==="__proto__")return!0;const g=Number.isFinite(+d),v=a>=t.length;return d=!d&&me.isArray(s)?s.length:d,v?(me.hasOwnProp(s,d)?s[d]=[s[d],r]:s[d]=r,!g):((!s[d]||!me.isObject(s[d]))&&(s[d]=[]),n(t,r,s[d],a)&&me.isArray(s[d])&&(s[d]=mR(s[d])),!g)}if(me.isFormData(e)&&me.isFunction(e.entries)){const t={};return me.forEachEntry(e,(r,s)=>{n(pR(r),s,t,0)}),t}return null}function gR(e,n,t){if(me.isString(e))try{return(n||JSON.parse)(e),me.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const Bx={transitional:nE,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,a=me.isObject(n);if(a&&me.isHTMLForm(n)&&(n=new FormData(n)),me.isFormData(n))return s?JSON.stringify(rE(n)):n;if(me.isArrayBuffer(n)||me.isBuffer(n)||me.isStream(n)||me.isFile(n)||me.isBlob(n)||me.isReadableStream(n))return n;if(me.isArrayBufferView(n))return n.buffer;if(me.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let g;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return hR(n,this.formSerializer).toString();if((g=me.isFileList(n))||r.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Hh(g?{"files[]":n}:n,v&&new v,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),gR(n)):n}],transformResponse:[function(n){const t=this.transitional||Bx.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(me.isResponse(n)||me.isReadableStream(n))return n;if(n&&me.isString(n)&&(r&&!this.responseType||s)){const d=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(n)}catch(g){if(d)throw g.name==="SyntaxError"?lt.from(g,lt.ERR_BAD_RESPONSE,this,null,this.response):g}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kr.classes.FormData,Blob:kr.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{Bx.headers[e]={}});const Ux=Bx,xR=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vR=e=>{const n={};let t,r,s;return e&&e.split(`
`).forEach(function(d){s=d.indexOf(":"),t=d.substring(0,s).trim().toLowerCase(),r=d.substring(s+1).trim(),!(!t||n[t]&&xR[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},Ow=Symbol("internals");function vu(e){return e&&String(e).trim().toLowerCase()}function d0(e){return e===!1||e==null?e:me.isArray(e)?e.map(d0):String(e)}function yR(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const wR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function U1(e,n,t,r,s){if(me.isFunction(r))return r.call(this,n,t);if(s&&(n=t),!!me.isString(n)){if(me.isString(r))return n.indexOf(r)!==-1;if(me.isRegExp(r))return r.test(n)}}function bR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function CR(e,n){const t=me.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(s,a,d){return this[r].call(this,n,s,a,d)},configurable:!0})})}class qh{constructor(n){n&&this.set(n)}set(n,t,r){const s=this;function a(g,v,x){const w=vu(v);if(!w)throw new Error("header name must be a non-empty string");const E=me.findKey(s,w);(!E||s[E]===void 0||x===!0||x===void 0&&s[E]!==!1)&&(s[E||v]=d0(g))}const d=(g,v)=>me.forEach(g,(x,w)=>a(x,w,v));if(me.isPlainObject(n)||n instanceof this.constructor)d(n,t);else if(me.isString(n)&&(n=n.trim())&&!wR(n))d(vR(n),t);else if(me.isObject(n)&&me.isIterable(n)){let g={},v,x;for(const w of n){if(!me.isArray(w))throw TypeError("Object iterator must return a key-value pair");g[x=w[0]]=(v=g[x])?me.isArray(v)?[...v,w[1]]:[v,w[1]]:w[1]}d(g,t)}else n!=null&&a(t,n,r);return this}get(n,t){if(n=vu(n),n){const r=me.findKey(this,n);if(r){const s=this[r];if(!t)return s;if(t===!0)return yR(s);if(me.isFunction(t))return t.call(this,s,r);if(me.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=vu(n),n){const r=me.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||U1(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let s=!1;function a(d){if(d=vu(d),d){const g=me.findKey(r,d);g&&(!t||U1(r,r[g],g,t))&&(delete r[g],s=!0)}}return me.isArray(n)?n.forEach(a):a(n),s}clear(n){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const a=t[r];(!n||U1(this,this[a],a,n,!0))&&(delete this[a],s=!0)}return s}normalize(n){const t=this,r={};return me.forEach(this,(s,a)=>{const d=me.findKey(r,a);if(d){t[d]=d0(s),delete t[a];return}const g=n?bR(a):String(a).trim();g!==a&&delete t[a],t[g]=d0(s),r[g]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return me.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=n&&me.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(s=>r.set(s)),r}static accessor(n){const r=(this[Ow]=this[Ow]={accessors:{}}).accessors,s=this.prototype;function a(d){const g=vu(d);r[g]||(CR(s,d),r[g]=!0)}return me.isArray(n)?n.forEach(a):a(n),this}}qh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(qh.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});me.freezeMethods(qh);const as=qh;function z1(e,n){const t=this||Ux,r=n||t,s=as.from(r.headers);let a=r.data;return me.forEach(e,function(g){a=g.call(t,a,s.normalize(),n?n.status:void 0)}),s.normalize(),a}function iE(e){return!!(e&&e.__CANCEL__)}function Ic(e,n,t){lt.call(this,e??"canceled",lt.ERR_CANCELED,n,t),this.name="CanceledError"}me.inherits(Ic,lt,{__CANCEL__:!0});function sE(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new lt("Request failed with status code "+t.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ER(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function NR(e,n){e=e||10;const t=new Array(e),r=new Array(e);let s=0,a=0,d;return n=n!==void 0?n:1e3,function(v){const x=Date.now(),w=r[a];d||(d=x),t[s]=v,r[s]=x;let E=a,_=0;for(;E!==s;)_+=t[E++],E=E%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),x-d<n)return;const k=w&&x-w;return k?Math.round(_*1e3/k):void 0}}function _R(e,n){let t=0,r=1e3/n,s,a;const d=(x,w=Date.now())=>{t=w,s=null,a&&(clearTimeout(a),a=null),e.apply(null,x)};return[(...x)=>{const w=Date.now(),E=w-t;E>=r?d(x,w):(s=x,a||(a=setTimeout(()=>{a=null,d(s)},r-E)))},()=>s&&d(s)]}const Z0=(e,n,t=3)=>{let r=0;const s=NR(50,250);return _R(a=>{const d=a.loaded,g=a.lengthComputable?a.total:void 0,v=d-r,x=s(v),w=d<=g;r=d;const E={loaded:d,total:g,progress:g?d/g:void 0,bytes:v,rate:x||void 0,estimated:x&&g&&w?(g-d)/x:void 0,event:a,lengthComputable:g!=null,[n?"download":"upload"]:!0};e(E)},t)},jw=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},Mw=e=>(...n)=>me.asap(()=>e(...n)),SR=kr.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,kr.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(kr.origin),kr.navigator&&/(msie|trident)/i.test(kr.navigator.userAgent)):()=>!0,AR=kr.hasStandardBrowserEnv?{write(e,n,t,r,s,a){const d=[e+"="+encodeURIComponent(n)];me.isNumber(t)&&d.push("expires="+new Date(t).toGMTString()),me.isString(r)&&d.push("path="+r),me.isString(s)&&d.push("domain="+s),a===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function TR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function kR(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function aE(e,n,t){let r=!TR(n);return e&&(r||t==!1)?kR(e,n):n}const Lw=e=>e instanceof as?{...e}:e;function al(e,n){n=n||{};const t={};function r(x,w,E,_){return me.isPlainObject(x)&&me.isPlainObject(w)?me.merge.call({caseless:_},x,w):me.isPlainObject(w)?me.merge({},w):me.isArray(w)?w.slice():w}function s(x,w,E,_){if(me.isUndefined(w)){if(!me.isUndefined(x))return r(void 0,x,E,_)}else return r(x,w,E,_)}function a(x,w){if(!me.isUndefined(w))return r(void 0,w)}function d(x,w){if(me.isUndefined(w)){if(!me.isUndefined(x))return r(void 0,x)}else return r(void 0,w)}function g(x,w,E){if(E in n)return r(x,w);if(E in e)return r(void 0,x)}const v={url:a,method:a,data:a,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:g,headers:(x,w,E)=>s(Lw(x),Lw(w),E,!0)};return me.forEach(Object.keys(Object.assign({},e,n)),function(w){const E=v[w]||s,_=E(e[w],n[w],w);me.isUndefined(_)&&E!==g||(t[w]=_)}),t}const oE=e=>{const n=al({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:d,auth:g}=n;n.headers=d=as.from(d),n.url=tE(aE(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&d.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let v;if(me.isFormData(t)){if(kr.hasStandardBrowserEnv||kr.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((v=d.getContentType())!==!1){const[x,...w]=v?v.split(";").map(E=>E.trim()).filter(Boolean):[];d.setContentType([x||"multipart/form-data",...w].join("; "))}}if(kr.hasStandardBrowserEnv&&(r&&me.isFunction(r)&&(r=r(n)),r||r!==!1&&SR(n.url))){const x=s&&a&&AR.read(a);x&&d.set(s,x)}return n},DR=typeof XMLHttpRequest<"u",IR=DR&&function(e){return new Promise(function(t,r){const s=oE(e);let a=s.data;const d=as.from(s.headers).normalize();let{responseType:g,onUploadProgress:v,onDownloadProgress:x}=s,w,E,_,k,S;function R(){k&&k(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(w),s.signal&&s.signal.removeEventListener("abort",w)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function I(){if(!j)return;const O=as.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),Q={data:!g||g==="text"||g==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:O,config:e,request:j};sE(function(P){t(P),R()},function(P){r(P),R()},Q),j=null}"onloadend"in j?j.onloadend=I:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(I)},j.onabort=function(){j&&(r(new lt("Request aborted",lt.ECONNABORTED,e,j)),j=null)},j.onerror=function(){r(new lt("Network Error",lt.ERR_NETWORK,e,j)),j=null},j.ontimeout=function(){let q=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const Q=s.transitional||nE;s.timeoutErrorMessage&&(q=s.timeoutErrorMessage),r(new lt(q,Q.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,e,j)),j=null},a===void 0&&d.setContentType(null),"setRequestHeader"in j&&me.forEach(d.toJSON(),function(q,Q){j.setRequestHeader(Q,q)}),me.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),g&&g!=="json"&&(j.responseType=s.responseType),x&&([_,S]=Z0(x,!0),j.addEventListener("progress",_)),v&&j.upload&&([E,k]=Z0(v),j.upload.addEventListener("progress",E),j.upload.addEventListener("loadend",k)),(s.cancelToken||s.signal)&&(w=O=>{j&&(r(!O||O.type?new Ic(null,e,j):O),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(w),s.signal&&(s.signal.aborted?w():s.signal.addEventListener("abort",w)));const D=ER(s.url);if(D&&kr.protocols.indexOf(D)===-1){r(new lt("Unsupported protocol "+D+":",lt.ERR_BAD_REQUEST,e));return}j.send(a||null)})},RR=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,s;const a=function(x){if(!s){s=!0,g();const w=x instanceof Error?x:this.reason;r.abort(w instanceof lt?w:new Ic(w instanceof Error?w.message:w))}};let d=n&&setTimeout(()=>{d=null,a(new lt(`timeout ${n} of ms exceeded`,lt.ETIMEDOUT))},n);const g=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(x=>{x.unsubscribe?x.unsubscribe(a):x.removeEventListener("abort",a)}),e=null)};e.forEach(x=>x.addEventListener("abort",a));const{signal:v}=r;return v.unsubscribe=()=>me.asap(g),v}},OR=RR,jR=function*(e,n){let t=e.byteLength;if(!n||t<n){yield e;return}let r=0,s;for(;r<t;)s=r+n,yield e.slice(r,s),r=s},MR=async function*(e,n){for await(const t of LR(e))yield*jR(t,n)},LR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},Pw=(e,n,t,r)=>{const s=MR(e,n);let a=0,d,g=v=>{d||(d=!0,r&&r(v))};return new ReadableStream({async pull(v){try{const{done:x,value:w}=await s.next();if(x){g(),v.close();return}let E=w.byteLength;if(t){let _=a+=E;t(_)}v.enqueue(new Uint8Array(w))}catch(x){throw g(x),x}},cancel(v){return g(v),s.return()}},{highWaterMark:2})},Vh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lE=Vh&&typeof ReadableStream=="function",PR=Vh&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),cE=(e,...n)=>{try{return!!e(...n)}catch{return!1}},FR=lE&&cE(()=>{let e=!1;const n=new Request(kr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),Fw=64*1024,og=lE&&cE(()=>me.isReadableStream(new Response("").body)),J0={stream:og&&(e=>e.body)};Vh&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!J0[n]&&(J0[n]=me.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new lt(`Response type '${n}' is not supported`,lt.ERR_NOT_SUPPORT,r)})})})(new Response);const BR=async e=>{if(e==null)return 0;if(me.isBlob(e))return e.size;if(me.isSpecCompliantForm(e))return(await new Request(kr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(me.isArrayBufferView(e)||me.isArrayBuffer(e))return e.byteLength;if(me.isURLSearchParams(e)&&(e=e+""),me.isString(e))return(await PR(e)).byteLength},UR=async(e,n)=>{const t=me.toFiniteNumber(e.getContentLength());return t??BR(n)},zR=Vh&&(async e=>{let{url:n,method:t,data:r,signal:s,cancelToken:a,timeout:d,onDownloadProgress:g,onUploadProgress:v,responseType:x,headers:w,withCredentials:E="same-origin",fetchOptions:_}=oE(e);x=x?(x+"").toLowerCase():"text";let k=OR([s,a&&a.toAbortSignal()],d),S;const R=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let j;try{if(v&&FR&&t!=="get"&&t!=="head"&&(j=await UR(w,r))!==0){let Q=new Request(n,{method:"POST",body:r,duplex:"half"}),z;if(me.isFormData(r)&&(z=Q.headers.get("content-type"))&&w.setContentType(z),Q.body){const[P,V]=jw(j,Z0(Mw(v)));r=Pw(Q.body,Fw,P,V)}}me.isString(E)||(E=E?"include":"omit");const I="credentials"in Request.prototype;S=new Request(n,{..._,signal:k,method:t.toUpperCase(),headers:w.normalize().toJSON(),body:r,duplex:"half",credentials:I?E:void 0});let D=await fetch(S);const O=og&&(x==="stream"||x==="response");if(og&&(g||O&&R)){const Q={};["status","statusText","headers"].forEach(W=>{Q[W]=D[W]});const z=me.toFiniteNumber(D.headers.get("content-length")),[P,V]=g&&jw(z,Z0(Mw(g),!0))||[];D=new Response(Pw(D.body,Fw,P,()=>{V&&V(),R&&R()}),Q)}x=x||"text";let q=await J0[me.findKey(J0,x)||"text"](D,e);return!O&&R&&R(),await new Promise((Q,z)=>{sE(Q,z,{data:q,headers:as.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:S})})}catch(I){throw R&&R(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,e,S),{cause:I.cause||I}):lt.from(I,I&&I.code,e,S)}}),lg={http:eR,xhr:IR,fetch:zR};me.forEach(lg,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const Bw=e=>`- ${e}`,WR=e=>me.isFunction(e)||e===null||e===!1,uE={getAdapter:e=>{e=me.isArray(e)?e:[e];const{length:n}=e;let t,r;const s={};for(let a=0;a<n;a++){t=e[a];let d;if(r=t,!WR(t)&&(r=lg[(d=String(t)).toLowerCase()],r===void 0))throw new lt(`Unknown adapter '${d}'`);if(r)break;s[d||"#"+a]=r}if(!r){const a=Object.entries(s).map(([g,v])=>`adapter ${g} `+(v===!1?"is not supported by the environment":"is not available in the build"));let d=n?a.length>1?`since :
`+a.map(Bw).join(`
`):" "+Bw(a[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:lg};function W1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ic(null,e)}function Uw(e){return W1(e),e.headers=as.from(e.headers),e.data=z1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),uE.getAdapter(e.adapter||Ux.adapter)(e).then(function(r){return W1(e),r.data=z1.call(e,e.transformResponse,r),r.headers=as.from(r.headers),r},function(r){return iE(r)||(W1(e),r&&r.response&&(r.response.data=z1.call(e,e.transformResponse,r.response),r.response.headers=as.from(r.response.headers))),Promise.reject(r)})}const dE="1.9.0",Yh={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Yh[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const zw={};Yh.transitional=function(n,t,r){function s(a,d){return"[Axios v"+dE+"] Transitional option '"+a+"'"+d+(r?". "+r:"")}return(a,d,g)=>{if(n===!1)throw new lt(s(d," has been removed"+(t?" in "+t:"")),lt.ERR_DEPRECATED);return t&&!zw[d]&&(zw[d]=!0,console.warn(s(d," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(a,d,g):!0}};Yh.spelling=function(n){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function HR(e,n,t){if(typeof e!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],d=n[a];if(d){const g=e[a],v=g===void 0||d(g,a,e);if(v!==!0)throw new lt("option "+a+" must be "+v,lt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new lt("Unknown option "+a,lt.ERR_BAD_OPTION)}}const f0={assertOptions:HR,validators:Yh},ys=f0.validators;class eh{constructor(n){this.defaults=n||{},this.interceptors={request:new Rw,response:new Rw}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=al(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:a}=t;r!==void 0&&f0.assertOptions(r,{silentJSONParsing:ys.transitional(ys.boolean),forcedJSONParsing:ys.transitional(ys.boolean),clarifyTimeoutError:ys.transitional(ys.boolean)},!1),s!=null&&(me.isFunction(s)?t.paramsSerializer={serialize:s}:f0.assertOptions(s,{encode:ys.function,serialize:ys.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),f0.assertOptions(t,{baseUrl:ys.spelling("baseURL"),withXsrfToken:ys.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let d=a&&me.merge(a.common,a[t.method]);a&&me.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),t.headers=as.concat(d,a);const g=[];let v=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(v=v&&R.synchronous,g.unshift(R.fulfilled,R.rejected))});const x=[];this.interceptors.response.forEach(function(R){x.push(R.fulfilled,R.rejected)});let w,E=0,_;if(!v){const S=[Uw.bind(this),void 0];for(S.unshift.apply(S,g),S.push.apply(S,x),_=S.length,w=Promise.resolve(t);E<_;)w=w.then(S[E++],S[E++]);return w}_=g.length;let k=t;for(E=0;E<_;){const S=g[E++],R=g[E++];try{k=S(k)}catch(j){R.call(this,j);break}}try{w=Uw.call(this,k)}catch(S){return Promise.reject(S)}for(E=0,_=x.length;E<_;)w=w.then(x[E++],x[E++]);return w}getUri(n){n=al(this.defaults,n);const t=aE(n.baseURL,n.url,n.allowAbsoluteUrls);return tE(t,n.params,n.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(n){eh.prototype[n]=function(t,r){return this.request(al(r||{},{method:n,url:t,data:(r||{}).data}))}});me.forEach(["post","put","patch"],function(n){function t(r){return function(a,d,g){return this.request(al(g||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:d}))}}eh.prototype[n]=t(),eh.prototype[n+"Form"]=t(!0)});const h0=eh;class zx{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const d=new Promise(g=>{r.subscribe(g),a=g}).then(s);return d.cancel=function(){r.unsubscribe(a)},d},n(function(a,d,g){r.reason||(r.reason=new Ic(a,d,g),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new zx(function(s){n=s}),cancel:n}}}const qR=zx;function VR(e){return function(t){return e.apply(null,t)}}function YR(e){return me.isObject(e)&&e.isAxiosError===!0}const cg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cg).forEach(([e,n])=>{cg[n]=e});const GR=cg;function fE(e){const n=new h0(e),t=HC(h0.prototype.request,n);return me.extend(t,h0.prototype,n,{allOwnKeys:!0}),me.extend(t,n,null,{allOwnKeys:!0}),t.create=function(s){return fE(al(e,s))},t}const Gn=fE(Ux);Gn.Axios=h0;Gn.CanceledError=Ic;Gn.CancelToken=qR;Gn.isCancel=iE;Gn.VERSION=dE;Gn.toFormData=Hh;Gn.AxiosError=lt;Gn.Cancel=Gn.CanceledError;Gn.all=function(n){return Promise.all(n)};Gn.spread=VR;Gn.isAxiosError=YR;Gn.mergeConfig=al;Gn.AxiosHeaders=as;Gn.formToJSON=e=>rE(me.isHTMLForm(e)?new FormData(e):e);Gn.getAdapter=uE.getAdapter;Gn.HttpStatusCode=GR;Gn.default=Gn;const Ke=Gn,hE=L.createContext(),cr=()=>L.useContext(hE),$R=({children:e})=>{const[n,t]=L.useState(null),[r,s]=L.useState(localStorage.getItem("token")),[a,d]=L.useState(!0),[g,v]=L.useState(null);L.useEffect(()=>{r?Ke.defaults.headers.common.Authorization=`Bearer ${r}`:delete Ke.defaults.headers.common.Authorization},[r]),L.useEffect(()=>{const Q=async()=>{if(!r){d(!1);return}try{const P=await Ke.get("/api/auth/me");t(P.data),v(null)}catch(P){console.error("Token verification failed:",P),P.response&&P.response.status===401?(w(),v("Session expired. Please log in again.")):v("Error verifying session. Please try again.")}finally{d(!1)}};Q();const z=setInterval(()=>{r&&Q()},60*60*1e3);return()=>{clearInterval(z)}},[r]);const x=async(Q,z)=>{var P,V;try{d(!0);const W=await Ke.post("/api/auth/login",{username:Q,password:z}),{token:se,user:ce}=W.data;return localStorage.setItem("token",se),Ke.defaults.headers.common.Authorization=`Bearer ${se}`,s(se),t(ce),v(null),ce}catch(W){throw console.error("Login error:",W),v(((V=(P=W.response)==null?void 0:P.data)==null?void 0:V.message)||"Login failed"),W}finally{d(!1)}},w=()=>{localStorage.removeItem("token"),s(null),t(null),delete Ke.defaults.headers.common.Authorization},q={user:n,token:r,loading:a,error:g,login:x,logout:w,register:async Q=>{var z,P;try{return d(!0),(await Ke.post("/api/auth/users",Q)).data}catch(V){throw console.error("Register error:",V),v(((P=(z=V.response)==null?void 0:z.data)==null?void 0:P.message)||"Registration failed"),V}finally{d(!1)}},isAdmin:()=>(n==null?void 0:n.role)==="admin",isAdvanced:()=>(n==null?void 0:n.role)==="advanced",isBasic:()=>(n==null?void 0:n.role)==="basic",canEditEquipment:()=>(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="advanced",isImpersonating:()=>!!(n!=null&&n.impersonated),impersonateUser:async Q=>{var z,P;try{d(!0);const V=await Ke.post(`/api/auth/impersonate/${Q}`),{token:W,user:se}=V.data;return localStorage.setItem("token",W),s(W),t(se),v(null),se}catch(V){throw console.error("Impersonation error:",V),v(((P=(z=V.response)==null?void 0:z.data)==null?void 0:P.message)||"Impersonation failed"),V}finally{d(!1)}},stopImpersonation:async()=>{var Q,z;try{d(!0);const P=await Ke.post("/api/auth/stop-impersonation"),{token:V,user:W}=P.data;return localStorage.setItem("token",V),s(V),t(W),v(null),W}catch(P){throw console.error("Stop impersonation error:",P),v(((z=(Q=P.response)==null?void 0:Q.data)==null?void 0:z.message)||"Failed to stop impersonation"),P}finally{d(!1)}},getUsers:async()=>{var Q,z;try{return(await Ke.get("/api/auth/users")).data}catch(P){throw console.error("Get users error:",P),v(((z=(Q=P.response)==null?void 0:Q.data)==null?void 0:z.message)||"Failed to get users"),P}}};return c.jsx(hE.Provider,{value:q,children:e})};function pE(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(n=0;n<s;n++)e[n]&&(t=pE(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function mn(){for(var e,n,t=0,r="",s=arguments.length;t<s;t++)(e=arguments[t])&&(n=pE(e))&&(r&&(r+=" "),r+=n);return r}function XR(e){if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}XR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var yd=e=>typeof e=="number"&&!isNaN(e),ol=e=>typeof e=="string",ma=e=>typeof e=="function",QR=e=>ol(e)||yd(e),ug=e=>ol(e)||ma(e)?e:null,KR=(e,n)=>e===!1||yd(e)&&e>0?e:n,dg=e=>L.isValidElement(e)||ol(e)||ma(e)||yd(e);function ZR(e,n,t=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(n,t)})})}function JR({enter:e,exit:n,appendPosition:t=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:a,position:d,preventExitTransition:g,done:v,nodeRef:x,isIn:w,playToast:E}){let _=t?`${e}--${d}`:e,k=t?`${n}--${d}`:n,S=L.useRef(0);return L.useLayoutEffect(()=>{let R=x.current,j=_.split(" "),I=D=>{D.target===x.current&&(E(),R.removeEventListener("animationend",I),R.removeEventListener("animationcancel",I),S.current===0&&D.type!=="animationcancel"&&R.classList.remove(...j))};R.classList.add(...j),R.addEventListener("animationend",I),R.addEventListener("animationcancel",I)},[]),L.useEffect(()=>{let R=x.current,j=()=>{R.removeEventListener("animationend",j),r?ZR(R,v,s):v()};w||(g?j():(S.current=1,R.className+=` ${k}`,R.addEventListener("animationend",j)))},[w]),de.createElement(de.Fragment,null,a)}}function Ww(e,n){return{content:mE(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:n}}function mE(e,n,t=!1){return L.isValidElement(e)&&!ol(e.type)?L.cloneElement(e,{closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:t}):ma(e)?e({closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:t}):e}function eO({closeToast:e,theme:n,ariaLabel:t="close"}){return de.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":t},de.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},de.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function tO({delay:e,isRunning:n,closeToast:t,type:r="default",hide:s,className:a,controlledProgress:d,progress:g,rtl:v,isIn:x,theme:w}){let E=s||d&&g===0,_={animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};d&&(_.transform=`scaleX(${g})`);let k=mn("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${w}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":v}),S=ma(a)?a({rtl:v,type:r,defaultClassName:k}):mn(k,a),R={[d&&g>=1?"onTransitionEnd":"onAnimationEnd"]:d&&g<1?null:()=>{x&&t()}};return de.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},de.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${w} Toastify__progress-bar--${r}`}),de.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:S,style:_,...R}))}var nO=1,gE=()=>`${nO++}`;function rO(e,n,t){let r=1,s=0,a=[],d=[],g=n,v=new Map,x=new Set,w=D=>(x.add(D),()=>x.delete(D)),E=()=>{d=Array.from(v.values()),x.forEach(D=>D())},_=({containerId:D,toastId:O,updateId:q})=>{let Q=D?D!==e:e!==1,z=v.has(O)&&q==null;return Q||z},k=(D,O)=>{v.forEach(q=>{var Q;(O==null||O===q.props.toastId)&&((Q=q.toggle)==null||Q.call(q,D))})},S=D=>{var O,q;(q=(O=D.props)==null?void 0:O.onClose)==null||q.call(O,D.removalReason),D.isActive=!1},R=D=>{if(D==null)v.forEach(S);else{let O=v.get(D);O&&S(O)}E()},j=()=>{s-=a.length,a=[]},I=D=>{var O,q;let{toastId:Q,updateId:z}=D.props,P=z==null;D.staleId&&v.delete(D.staleId),D.isActive=!0,v.set(Q,D),E(),t(Ww(D,P?"added":"updated")),P&&((q=(O=D.props).onOpen)==null||q.call(O))};return{id:e,props:g,observe:w,toggle:k,removeToast:R,toasts:v,clearQueue:j,buildToast:(D,O)=>{if(_(O))return;let{toastId:q,updateId:Q,data:z,staleId:P,delay:V}=O,W=Q==null;W&&s++;let se={...g,style:g.toastStyle,key:r++,...Object.fromEntries(Object.entries(O).filter(([ae,ie])=>ie!=null)),toastId:q,updateId:Q,data:z,isIn:!1,className:ug(O.className||g.toastClassName),progressClassName:ug(O.progressClassName||g.progressClassName),autoClose:O.isLoading?!1:KR(O.autoClose,g.autoClose),closeToast(ae){v.get(q).removalReason=ae,R(q)},deleteToast(){let ae=v.get(q);if(ae!=null){if(t(Ww(ae,"removed")),v.delete(q),s--,s<0&&(s=0),a.length>0){I(a.shift());return}E()}}};se.closeButton=g.closeButton,O.closeButton===!1||dg(O.closeButton)?se.closeButton=O.closeButton:O.closeButton===!0&&(se.closeButton=dg(g.closeButton)?g.closeButton:!0);let ce={content:D,props:se,staleId:P};g.limit&&g.limit>0&&s>g.limit&&W?a.push(ce):yd(V)?setTimeout(()=>{I(ce)},V):I(ce)},setProps(D){g=D},setToggle:(D,O)=>{let q=v.get(D);q&&(q.toggle=O)},isToastActive:D=>{var O;return(O=v.get(D))==null?void 0:O.isActive},getSnapshot:()=>d}}var zr=new Map,ad=[],fg=new Set,iO=e=>fg.forEach(n=>n(e)),xE=()=>zr.size>0;function sO(){ad.forEach(e=>yE(e.content,e.options)),ad=[]}var aO=(e,{containerId:n})=>{var t;return(t=zr.get(n||1))==null?void 0:t.toasts.get(e)};function vE(e,n){var t;if(n)return!!((t=zr.get(n))!=null&&t.isToastActive(e));let r=!1;return zr.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function oO(e){if(!xE()){ad=ad.filter(n=>e!=null&&n.options.toastId!==e);return}if(e==null||QR(e))zr.forEach(n=>{n.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let n=zr.get(e.containerId);n?n.removeToast(e.id):zr.forEach(t=>{t.removeToast(e.id)})}}var lO=(e={})=>{zr.forEach(n=>{n.props.limit&&(!e.containerId||n.id===e.containerId)&&n.clearQueue()})};function yE(e,n){dg(e)&&(xE()||ad.push({content:e,options:n}),zr.forEach(t=>{t.buildToast(e,n)}))}function cO(e){var n;(n=zr.get(e.containerId||1))==null||n.setToggle(e.id,e.fn)}function wE(e,n){zr.forEach(t=>{(n==null||!(n!=null&&n.containerId)||(n==null?void 0:n.containerId)===t.id)&&t.toggle(e,n==null?void 0:n.id)})}function uO(e){let n=e.containerId||1;return{subscribe(t){let r=rO(n,e,iO);zr.set(n,r);let s=r.observe(t);return sO(),()=>{s(),zr.delete(n)}},setProps(t){var r;(r=zr.get(n))==null||r.setProps(t)},getSnapshot(){var t;return(t=zr.get(n))==null?void 0:t.getSnapshot()}}}function dO(e){return fg.add(e),()=>{fg.delete(e)}}function fO(e){return e&&(ol(e.toastId)||yd(e.toastId))?e.toastId:gE()}function wd(e,n){return yE(e,n),n.toastId}function Gh(e,n){return{...n,type:n&&n.type||e,toastId:fO(n)}}function $h(e){return(n,t)=>wd(n,Gh(e,t))}function ct(e,n){return wd(e,Gh("default",n))}ct.loading=(e,n)=>wd(e,Gh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...n}));function hO(e,{pending:n,error:t,success:r},s){let a;n&&(a=ol(n)?ct.loading(n,s):ct.loading(n.render,{...s,...n}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(x,w,E)=>{if(w==null){ct.dismiss(a);return}let _={type:x,...d,...s,data:E},k=ol(w)?{render:w}:w;return a?ct.update(a,{..._,...k}):ct(k.render,{..._,...k}),E},v=ma(e)?e():e;return v.then(x=>g("success",r,x)).catch(x=>g("error",t,x)),v}ct.promise=hO;ct.success=$h("success");ct.info=$h("info");ct.error=$h("error");ct.warning=$h("warning");ct.warn=ct.warning;ct.dark=(e,n)=>wd(e,Gh("default",{theme:"dark",...n}));function pO(e){oO(e)}ct.dismiss=pO;ct.clearWaitingQueue=lO;ct.isActive=vE;ct.update=(e,n={})=>{let t=aO(e,n);if(t){let{props:r,content:s}=t,a={delay:100,...r,...n,toastId:n.toastId||e,updateId:gE()};a.toastId!==e&&(a.staleId=e);let d=a.render||s;delete a.render,wd(d,a)}};ct.done=e=>{ct.update(e,{progress:1})};ct.onChange=dO;ct.play=e=>wE(!0,e);ct.pause=e=>wE(!1,e);function mO(e){var n;let{subscribe:t,getSnapshot:r,setProps:s}=L.useRef(uO(e)).current;s(e);let a=(n=L.useSyncExternalStore(t,r,r))==null?void 0:n.slice();function d(g){if(!a)return[];let v=new Map;return e.newestOnTop&&a.reverse(),a.forEach(x=>{let{position:w}=x.props;v.has(w)||v.set(w,[]),v.get(w).push(x)}),Array.from(v,x=>g(x[0],x[1]))}return{getToastToRender:d,isToastActive:vE,count:a==null?void 0:a.length}}function gO(e){let[n,t]=L.useState(!1),[r,s]=L.useState(!1),a=L.useRef(null),d=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:g,pauseOnHover:v,closeToast:x,onClick:w,closeOnClick:E}=e;cO({id:e.toastId,containerId:e.containerId,fn:t}),L.useEffect(()=>{if(e.pauseOnFocusLoss)return _(),()=>{k()}},[e.pauseOnFocusLoss]);function _(){document.hasFocus()||I(),window.addEventListener("focus",j),window.addEventListener("blur",I)}function k(){window.removeEventListener("focus",j),window.removeEventListener("blur",I)}function S(P){if(e.draggable===!0||e.draggable===P.pointerType){D();let V=a.current;d.canCloseOnClick=!0,d.canDrag=!0,V.style.transition="none",e.draggableDirection==="x"?(d.start=P.clientX,d.removalDistance=V.offsetWidth*(e.draggablePercent/100)):(d.start=P.clientY,d.removalDistance=V.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function R(P){let{top:V,bottom:W,left:se,right:ce}=a.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&e.pauseOnHover&&P.clientX>=se&&P.clientX<=ce&&P.clientY>=V&&P.clientY<=W?I():j()}function j(){t(!0)}function I(){t(!1)}function D(){d.didMove=!1,document.addEventListener("pointermove",q),document.addEventListener("pointerup",Q)}function O(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",Q)}function q(P){let V=a.current;if(d.canDrag&&V){d.didMove=!0,n&&I(),e.draggableDirection==="x"?d.delta=P.clientX-d.start:d.delta=P.clientY-d.start,d.start!==P.clientX&&(d.canCloseOnClick=!1);let W=e.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;V.style.transform=`translate3d(${W},0)`,V.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function Q(){O();let P=a.current;if(d.canDrag&&d.didMove&&P){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let z={onPointerDown:S,onPointerUp:R};return g&&v&&(z.onMouseEnter=I,e.stacked||(z.onMouseLeave=j)),E&&(z.onClick=P=>{w&&w(P),d.canCloseOnClick&&x(!0)}),{playToast:j,pauseToast:I,isRunning:n,preventExitTransition:r,toastRef:a,eventHandlers:z}}var xO=typeof window<"u"?L.useLayoutEffect:L.useEffect,Xh=({theme:e,type:n,isLoading:t,...r})=>de.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r});function vO(e){return de.createElement(Xh,{...e},de.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function yO(e){return de.createElement(Xh,{...e},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function wO(e){return de.createElement(Xh,{...e},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function bO(e){return de.createElement(Xh,{...e},de.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function CO(){return de.createElement("div",{className:"Toastify__spinner"})}var hg={info:yO,warning:vO,success:wO,error:bO,spinner:CO},EO=e=>e in hg;function NO({theme:e,type:n,isLoading:t,icon:r}){let s=null,a={theme:e,type:n};return r===!1||(ma(r)?s=r({...a,isLoading:t}):L.isValidElement(r)?s=L.cloneElement(r,a):t?s=hg.spinner():EO(n)&&(s=hg[n](a))),s}var _O=e=>{let{isRunning:n,preventExitTransition:t,toastRef:r,eventHandlers:s,playToast:a}=gO(e),{closeButton:d,children:g,autoClose:v,onClick:x,type:w,hideProgressBar:E,closeToast:_,transition:k,position:S,className:R,style:j,progressClassName:I,updateId:D,role:O,progress:q,rtl:Q,toastId:z,deleteToast:P,isIn:V,isLoading:W,closeOnClick:se,theme:ce,ariaLabel:ae}=e,ie=mn("Toastify__toast",`Toastify__toast-theme--${ce}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":se}),he=ma(R)?R({rtl:Q,position:S,type:w,defaultClassName:ie}):mn(ie,R),ee=NO(e),xe=!!q||!v,ge={closeToast:_,type:w,theme:ce},ue=null;return d===!1||(ma(d)?ue=d(ge):L.isValidElement(d)?ue=L.cloneElement(d,ge):ue=eO(ge)),de.createElement(k,{isIn:V,done:P,position:S,preventExitTransition:t,nodeRef:r,playToast:a},de.createElement("div",{id:z,tabIndex:0,onClick:x,"data-in":V,className:he,...s,style:j,ref:r,...V&&{role:O,"aria-label":ae}},ee!=null&&de.createElement("div",{className:mn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!W})},ee),mE(g,e,!n),ue,!e.customProgressBar&&de.createElement(tO,{...D&&!xe?{key:`p-${D}`}:{},rtl:Q,theme:ce,delay:v,isRunning:n,isIn:V,closeToast:_,hide:E,type:w,className:I,controlledProgress:xe,progress:q||0})))},SO=(e,n=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:n}),AO=JR(SO("bounce",!0)),TO={position:"top-right",transition:AO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Wx(e){let n={...TO,...e},t=e.stacked,[r,s]=L.useState(!0),a=L.useRef(null),{getToastToRender:d,isToastActive:g,count:v}=mO(n),{className:x,style:w,rtl:E,containerId:_,hotKeys:k}=n;function S(j){let I=mn("Toastify__toast-container",`Toastify__toast-container--${j}`,{"Toastify__toast-container--rtl":E});return ma(x)?x({position:j,rtl:E,defaultClassName:I}):mn(I,ug(x))}function R(){t&&(s(!0),ct.play())}return xO(()=>{var j;if(t){let I=a.current.querySelectorAll('[data-in="true"]'),D=12,O=(j=n.position)==null?void 0:j.includes("top"),q=0,Q=0;Array.from(I).reverse().forEach((z,P)=>{let V=z;V.classList.add("Toastify__toast--stacked"),P>0&&(V.dataset.collapsed=`${r}`),V.dataset.pos||(V.dataset.pos=O?"top":"bot");let W=q*(r?.2:1)+(r?0:D*P);V.style.setProperty("--y",`${O?W:W*-1}px`),V.style.setProperty("--g",`${D}`),V.style.setProperty("--s",`${1-(r?Q:0)}`),q+=V.offsetHeight,Q+=.025})}},[r,v,t]),L.useEffect(()=>{function j(I){var D;let O=a.current;k(I)&&((D=O.querySelector('[tabIndex="0"]'))==null||D.focus(),s(!1),ct.pause()),I.key==="Escape"&&(document.activeElement===O||O!=null&&O.contains(document.activeElement))&&(s(!0),ct.play())}return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[k]),de.createElement("section",{ref:a,className:"Toastify",id:_,onMouseEnter:()=>{t&&(s(!1),ct.pause())},onMouseLeave:R,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":n["aria-label"]},d((j,I)=>{let D=I.length?{...w}:{...w,pointerEvents:"none"};return de.createElement("div",{tabIndex:-1,className:S(j),"data-stacked":t,style:D,key:`c-${j}`},I.map(({content:O,props:q})=>de.createElement(_O,{...q,stacked:t,collapseAll:R,isIn:g(q.toastId,q.containerId),key:`t-${q.key}`},O)))}))}var bE={exports:{}},kO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DO=kO,IO=DO;function CE(){}function EE(){}EE.resetWarningCache=CE;var RO=function(){function e(r,s,a,d,g,v){if(v!==IO){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}e.isRequired=e;function n(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:EE,resetWarningCache:CE};return t.PropTypes=t,t};bE.exports=RO();var OO=bE.exports;const re=wh(OO),Fu=async({page:e=1,limit:n=10,type:t,brand:r,status:s,location_id:a,search:d,sortBy:g="updated_at",sortOrder:v="desc",startDate:x,endDate:w})=>{const E={page:e,limit:n};return t&&(E.type=t),r&&(E.brand=r),s&&(E.status=s),a&&(E.location_id=a),d&&(E.search=d),g&&(E.sortBy=g),v&&(E.sortOrder=v),x&&(E.startDate=x),w&&(E.endDate=w),(await Ke.get("/api/equipment",{params:E})).data},Qh=async e=>(await Ke.get(`/api/equipment/${e}`)).data,Hx=async(e,n=[],t=null)=>{const r=new FormData;if(!e.type_id)throw console.error("Missing required field: type_id"),new Error("Equipment type is required");if(!e.brand)throw console.error("Missing required field: brand"),new Error("Brand is required");if(!e.model)throw console.error("Missing required field: model"),new Error("Model is required");if(!e.serial_number)throw console.error("Missing required field: serial_number"),new Error("Serial number is required");const s=Object.fromEntries(Object.entries(e).filter(([a,d])=>d!==void 0));console.log("Creating equipment with data:",s),Object.keys(s).forEach(a=>{a==="type_id"&&typeof s[a]=="string"?r.append(a,parseInt(s[a],10)):r.append(a,s[a])}),t&&r.append("referenceImage",t),n&&n.length>0&&n.forEach(a=>{r.append("files",a)});try{return(await Ke.post("/api/equipment",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error in createEquipment:",a),a}},NE=async(e,n,t=[],r=[],s=null,a=!1)=>{try{const d=new FormData,g=Object.fromEntries(Object.entries(n).filter(([w,E])=>E!==void 0));console.log("Full equipment data:",n);const v=["location_id","type_id"];return Object.keys(g).forEach(w=>{w!=="reference_image_id"&&(v.includes(w)&&(g[w]===""||g[w]==="0")?(d.append(w,""),d.append(`${w}_is_null`,"true")):d.append(w,g[w]))}),s&&d.append("referenceImage",s),a&&d.append("removeReferenceImage","true"),t&&t.length>0&&t.forEach(w=>{d.append("files",w)}),r&&r.length>0&&d.append("filesToDelete",JSON.stringify(r)),console.log("Updating equipment with data:",g),console.log("Files to delete:",r),console.log("Reference image file:",s?s.name:"None"),console.log("Remove reference image:",a),(await Ke.put(`/api/equipment/${e}`,d,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(d){throw console.error("Error in updateEquipment:",d),d}},jO=async e=>(await Ke.delete(`/api/equipment/${e}`)).data,_E=async e=>{try{console.log(`Deleting file with ID: ${e}`);const n=await Ke.delete(`/api/files/${e}`);return console.log("File deletion response:",n.data),n.data}catch(n){throw console.error(`Error deleting file with ID ${e}:`,n),n}},th=(e,n=!1,t=!0)=>{if(!e)return null;const r=`/api/files/${e}`;let s=n?`${r}?thumbnail=true`:r;return t&&(s+=(s.includes("?")?"&":"?")+`t=${new Date().getTime()}`),s},MO=async(e,n)=>{try{return console.log(`Updating equipment ${e} status to ${n}`),(await Ke.patch(`/api/equipment/${e}/status`,{status:n})).data}catch(t){throw console.error("Error updating equipment status:",t),t}},LO=async(e,n)=>{try{return console.log(`Updating equipment ${e} location:`,n),(await Ke.patch(`/api/equipment/${e}/location`,n)).data}catch(t){throw console.error("Error updating equipment location:",t),t}},PO=async(e,n)=>{try{return console.log(`Updating equipment ${e} type to ${n}`),(await Ke.patch(`/api/equipment/${e}/type`,{type_id:n})).data}catch(t){throw console.error("Error updating equipment type:",t),t}},FO=async(e,n)=>{try{return console.log(`Updating equipment ${e} category to ${n}`),(await Ke.patch(`/api/equipment/${e}/category`,{category_id:n})).data}catch(t){throw console.error("Error updating equipment category:",t),t}},BO=async(e,n)=>{try{return console.log(`Updating equipment ${e} brand/model:`,n),(await Ke.patch(`/api/equipment/${e}/brand-model`,n)).data}catch(t){throw console.error("Error updating equipment brand/model:",t),t}},wa=async()=>{try{return(await Ke.get("/api/equipment-types")).data.types}catch(e){throw console.error("Error fetching equipment types:",e),e}},UO=async e=>(await Ke.post("/api/equipment-types",{name:e})).data,zO=async(e,n)=>(await Ke.put(`/api/equipment-types/${e}`,{name:n})).data,WO=async e=>(await Ke.delete(`/api/equipment-types/${e}`)).data,SE=L.createContext(),HO=3,AE=({children:e})=>{const[n,t]=L.useState([]),{user:r}=cr(),s=(r==null?void 0:r.role)==="admin",{data:a}=Lt(["equipment",{limit:1e3}],()=>Fu({limit:1e3}),{enabled:s,refetchInterval:5*60*1e3,staleTime:4*60*1e3}),{data:d}=Lt({queryKey:["equipment-types"],queryFn:wa,staleTime:3e5,enabled:s});L.useEffect(()=>{if(!s||!(a!=null&&a.equipment)||!(d!=null&&d.types))return;const S=a.equipment,R=d.types,j={};S.forEach(D=>{D.type&&(j[D.type]||(j[D.type]=[]),j[D.type].push(D))});const I=[];Object.entries(j).forEach(([D,O])=>{const q=O.filter(Q=>Q.status==="available");if(q.length<=HO){const Q=R.find(z=>z.name.toLowerCase()===D.toLowerCase());I.push({id:`low-stock-${D}`,type:"warning",title:"Low Stock Alert",message:`Only ${q.length} ${D} ${q.length===1?"item is":"items are"} available.`,timestamp:new Date,read:!1,typeId:Q==null?void 0:Q.id})}}),I.length>0&&t(D=>[...D.filter(q=>!q.id.startsWith("low-stock-")),...I])},[a,d,s]);const g=S=>{t(R=>[...R,{id:S.id||`notification-${Date.now()}`,timestamp:new Date,read:!1,...S}])},v=S=>{t(R=>R.map(j=>j.id===S?{...j,read:!0}:j))},x=()=>{t(S=>S.map(R=>({...R,read:!0})))},w=S=>{t(R=>R.filter(j=>j.id!==S))},E=()=>{t([])},_=n.filter(S=>!S.read).length,k={notifications:n,unreadCount:_,addNotification:g,markAsRead:v,markAllAsRead:x,removeNotification:w,clearNotifications:E};return c.jsx(SE.Provider,{value:k,children:e})};AE.propTypes={children:re.node.isRequired};const qO=()=>{const e=L.useContext(SE);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},VO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),YO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})}),GO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),TE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),$O=({className:e="w-5 h-5"})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),Hw=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),XO=({className:e="w-5 h-5"})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),kE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125"})}),DE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),IE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})}),QO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),KO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),qx=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),qw=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),ZO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})}),JO=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75a2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),RE=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),ej=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),tj=({className:e="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),OE=6048e5,nj=864e5,Kh=6e4,Zh=36e5,rj=1e3,Wf=43200,Vw=1440,Yw=Symbol.for("constructDateFrom");function zt(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&Yw in e?e[Yw](n):e instanceof Date?new e.constructor(n):new Date(n)}function Be(e,n){return zt(n||e,e)}function os(e,n,t){const r=Be(e,t==null?void 0:t.in);return isNaN(n)?zt((t==null?void 0:t.in)||e,NaN):(n&&r.setDate(r.getDate()+n),r)}function cs(e,n,t){const r=Be(e,t==null?void 0:t.in);if(isNaN(n))return zt((t==null?void 0:t.in)||e,NaN);if(!n)return r;const s=r.getDate(),a=zt((t==null?void 0:t.in)||e,r.getTime());a.setMonth(r.getMonth()+n+1,0);const d=a.getDate();return s>=d?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}function jE(e,n,t){return zt((t==null?void 0:t.in)||e,+Be(e)+n)}function ij(e,n,t){return jE(e,n*Zh,t)}let sj={};function po(){return sj}function ga(e,n){var g,v,x,w;const t=po(),r=(n==null?void 0:n.weekStartsOn)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??t.weekStartsOn??((w=(x=t.locale)==null?void 0:x.options)==null?void 0:w.weekStartsOn)??0,s=Be(e,n==null?void 0:n.in),a=s.getDay(),d=(a<r?7:0)+a-r;return s.setDate(s.getDate()-d),s.setHours(0,0,0,0),s}function pc(e,n){return ga(e,{...n,weekStartsOn:1})}function ME(e,n){const t=Be(e,n==null?void 0:n.in),r=t.getFullYear(),s=zt(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=pc(s),d=zt(t,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const g=pc(d);return t.getTime()>=a.getTime()?r+1:t.getTime()>=g.getTime()?r:r-1}function mc(e){const n=Be(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function fs(e,...n){const t=zt.bind(null,e||n.find(r=>typeof r=="object"));return n.map(t)}function ll(e,n){const t=Be(e,n==null?void 0:n.in);return t.setHours(0,0,0,0),t}function gc(e,n,t){const[r,s]=fs(t==null?void 0:t.in,e,n),a=ll(r),d=ll(s),g=+a-mc(a),v=+d-mc(d);return Math.round((g-v)/nj)}function aj(e,n){const t=ME(e,n),r=zt((n==null?void 0:n.in)||e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),pc(r)}function pg(e,n,t){const r=Be(e,t==null?void 0:t.in);return r.setTime(r.getTime()+n*Kh),r}function Vx(e,n,t){return cs(e,n*3,t)}function oj(e,n,t){return jE(e,n*1e3,t)}function nh(e,n,t){return os(e,n*7,t)}function aa(e,n,t){return cs(e,n*12,t)}function Gw(e,n){let t,r=n==null?void 0:n.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=zt.bind(null,s));const a=Be(s,r);(!t||t<a||isNaN(+a))&&(t=a)}),zt(r,t||NaN)}function $w(e,n){let t,r=n==null?void 0:n.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=zt.bind(null,s));const a=Be(s,r);(!t||t>a||isNaN(+a))&&(t=a)}),zt(r,t||NaN)}function p0(e,n){const t=+Be(e)-+Be(n);return t<0?-1:t>0?1:t}function lj(e){return zt(e,Date.now())}function cj(e,n,t){const[r,s]=fs(t==null?void 0:t.in,e,n);return+ll(r)==+ll(s)}function oa(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rh(e){return!(!oa(e)&&typeof e!="number"||isNaN(+Be(e)))}function od(e,n,t){const[r,s]=fs(t==null?void 0:t.in,e,n),a=r.getFullYear()-s.getFullYear(),d=r.getMonth()-s.getMonth();return a*12+d}function Zo(e,n){const t=Be(e,n==null?void 0:n.in);return Math.trunc(t.getMonth()/3)+1}function ih(e,n,t){const[r,s]=fs(t==null?void 0:t.in,e,n),a=r.getFullYear()-s.getFullYear(),d=Zo(r)-Zo(s);return a*4+d}function sh(e,n,t){const[r,s]=fs(t==null?void 0:t.in,e,n);return r.getFullYear()-s.getFullYear()}function uj(e,n,t){const[r,s]=fs(t==null?void 0:t.in,e,n),a=Xw(r,s),d=Math.abs(gc(r,s));r.setDate(r.getDate()-a*d);const g=+(Xw(r,s)===-a),v=a*(d-g);return v===0?0:v}function Xw(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function dj(e){return n=>{const r=(e?Math[e]:Math.trunc)(n);return r===0?0:r}}function fj(e,n){return+Be(e)-+Be(n)}function Yx(e,n){const t=Be(e,n==null?void 0:n.in);return t.setHours(23,59,59,999),t}function Gx(e,n){const t=Be(e,n==null?void 0:n.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function hj(e,n){const t=Be(e,n==null?void 0:n.in);return+Yx(t,n)==+Gx(t,n)}function pj(e,n,t){const[r,s,a]=fs(t==null?void 0:t.in,e,e,n),d=p0(s,a),g=Math.abs(od(s,a));if(g<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-d*g);let v=p0(s,a)===-d;hj(r)&&g===1&&p0(r,a)===1&&(v=!1);const x=d*(g-+v);return x===0?0:x}function mj(e,n,t){const r=fj(e,n)/1e3;return dj(t==null?void 0:t.roundingMethod)(r)}function mg(e,n){const t=Be(e,n==null?void 0:n.in),r=t.getMonth(),s=r-r%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}function LE(e,n){const t=Be(e,n==null?void 0:n.in);return t.setDate(1),t.setHours(0,0,0,0),t}function PE(e,n){const t=Be(e,n==null?void 0:n.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function Jh(e,n){const t=Be(e,n==null?void 0:n.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function gj(e,n){var g,v,x,w;const t=po(),r=(n==null?void 0:n.weekStartsOn)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??t.weekStartsOn??((w=(x=t.locale)==null?void 0:x.options)==null?void 0:w.weekStartsOn)??0,s=Be(e,n==null?void 0:n.in),a=s.getDay(),d=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+d),s.setHours(23,59,59,999),s}const xj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vj=(e,n,t)=>{let r;const s=xj[e];return typeof s=="string"?r=s:n===1?r=s.one:r=s.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function H1(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const yj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cj={date:H1({formats:yj,defaultWidth:"full"}),time:H1({formats:wj,defaultWidth:"full"}),dateTime:H1({formats:bj,defaultWidth:"full"})},Ej={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Nj=(e,n,t,r)=>Ej[e];function yu(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const d=e.defaultFormattingWidth||e.defaultWidth,g=t!=null&&t.width?String(t.width):d;s=e.formattingValues[g]||e.formattingValues[d]}else{const d=e.defaultWidth,g=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[g]||e.values[d]}const a=e.argumentCallback?e.argumentCallback(n):n;return s[a]}}const _j={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Sj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Aj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Dj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ij=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Rj={ordinalNumber:Ij,era:yu({values:_j,defaultWidth:"wide"}),quarter:yu({values:Sj,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yu({values:Aj,defaultWidth:"wide"}),day:yu({values:Tj,defaultWidth:"wide"}),dayPeriod:yu({values:kj,defaultWidth:"wide",formattingValues:Dj,defaultFormattingWidth:"wide"})};function wu(e){return(n,t={})=>{const r=t.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=n.match(s);if(!a)return null;const d=a[0],g=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(g)?jj(g,E=>E.test(d)):Oj(g,E=>E.test(d));let x;x=e.valueCallback?e.valueCallback(v):v,x=t.valueCallback?t.valueCallback(x):x;const w=n.slice(d.length);return{value:x,rest:w}}}function Oj(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function jj(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function Mj(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const s=r[0],a=n.match(e.parsePattern);if(!a)return null;let d=e.valueCallback?e.valueCallback(a[0]):a[0];d=t.valueCallback?t.valueCallback(d):d;const g=n.slice(s.length);return{value:d,rest:g}}}const Lj=/^(\d+)(th|st|nd|rd)?/i,Pj=/\d+/i,Fj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Bj={any:[/^b/i,/^(a|c)/i]},Uj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zj={any:[/1/i,/2/i,/3/i,/4/i]},Wj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Hj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$j={ordinalNumber:Mj({matchPattern:Lj,parsePattern:Pj,valueCallback:e=>parseInt(e,10)}),era:wu({matchPatterns:Fj,defaultMatchWidth:"wide",parsePatterns:Bj,defaultParseWidth:"any"}),quarter:wu({matchPatterns:Uj,defaultMatchWidth:"wide",parsePatterns:zj,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wu({matchPatterns:Wj,defaultMatchWidth:"wide",parsePatterns:Hj,defaultParseWidth:"any"}),day:wu({matchPatterns:qj,defaultMatchWidth:"wide",parsePatterns:Vj,defaultParseWidth:"any"}),dayPeriod:wu({matchPatterns:Yj,defaultMatchWidth:"any",parsePatterns:Gj,defaultParseWidth:"any"})},$x={code:"en-US",formatDistance:vj,formatLong:Cj,formatRelative:Nj,localize:Rj,match:$j,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xj(e,n){const t=Be(e,n==null?void 0:n.in);return gc(t,Jh(t))+1}function Xx(e,n){const t=Be(e,n==null?void 0:n.in),r=+pc(t)-+aj(t);return Math.round(r/OE)+1}function Qx(e,n){var w,E,_,k;const t=Be(e,n==null?void 0:n.in),r=t.getFullYear(),s=po(),a=(n==null?void 0:n.firstWeekContainsDate)??((E=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??s.firstWeekContainsDate??((k=(_=s.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=zt((n==null?void 0:n.in)||e,0);d.setFullYear(r+1,0,a),d.setHours(0,0,0,0);const g=ga(d,n),v=zt((n==null?void 0:n.in)||e,0);v.setFullYear(r,0,a),v.setHours(0,0,0,0);const x=ga(v,n);return+t>=+g?r+1:+t>=+x?r:r-1}function Qj(e,n){var g,v,x,w;const t=po(),r=(n==null?void 0:n.firstWeekContainsDate)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??t.firstWeekContainsDate??((w=(x=t.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,s=Qx(e,n),a=zt((n==null?void 0:n.in)||e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),ga(a,n)}function FE(e,n){const t=Be(e,n==null?void 0:n.in),r=+ga(t,n)-+Qj(t,n);return Math.round(r/OE)+1}function Gt(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const La={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return Gt(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):Gt(t+1,2)},d(e,n){return Gt(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return Gt(e.getHours()%12||12,n.length)},H(e,n){return Gt(e.getHours(),n.length)},m(e,n){return Gt(e.getMinutes(),n.length)},s(e,n){return Gt(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Gt(s,n.length)}},Ml={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qw={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return La.y(e,n)},Y:function(e,n,t,r){const s=Qx(e,r),a=s>0?s:1-s;if(n==="YY"){const d=a%100;return Gt(d,2)}return n==="Yo"?t.ordinalNumber(a,{unit:"year"}):Gt(a,n.length)},R:function(e,n){const t=ME(e);return Gt(t,n.length)},u:function(e,n){const t=e.getFullYear();return Gt(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Gt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Gt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return La.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return Gt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const s=FE(e,r);return n==="wo"?t.ordinalNumber(s,{unit:"week"}):Gt(s,n.length)},I:function(e,n,t){const r=Xx(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Gt(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):La.d(e,n)},D:function(e,n,t){const r=Xj(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Gt(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Gt(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Gt(a,n.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),s=r===0?7:r;switch(n){case"i":return String(s);case"ii":return Gt(s,n.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const s=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let s;switch(r===12?s=Ml.noon:r===0?s=Ml.midnight:s=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let s;switch(r>=17?s=Ml.evening:r>=12?s=Ml.afternoon:r>=4?s=Ml.morning:s=Ml.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return La.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):La.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Gt(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Gt(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):La.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):La.s(e,n)},S:function(e,n){return La.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return Zw(r);case"XXXX":case"XX":return zo(r);case"XXXXX":case"XXX":default:return zo(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return Zw(r);case"xxxx":case"xx":return zo(r);case"xxxxx":case"xxx":default:return zo(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Kw(r,":");case"OOOO":default:return"GMT"+zo(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Kw(r,":");case"zzzz":default:return"GMT"+zo(r,":")}},t:function(e,n,t){const r=Math.trunc(+e/1e3);return Gt(r,n.length)},T:function(e,n,t){return Gt(+e,n.length)}};function Kw(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?t+String(s):t+String(s)+n+Gt(a,2)}function Zw(e,n){return e%60===0?(e>0?"-":"+")+Gt(Math.abs(e)/60,2):zo(e,n)}function zo(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),s=Gt(Math.trunc(r/60),2),a=Gt(r%60,2);return t+s+n+a}const Jw=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},BE=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Kj=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return Jw(e,n);let a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Jw(r,n)).replace("{{time}}",BE(s,n))},gg={p:BE,P:Kj},Zj=/^D+$/,Jj=/^Y+$/,eM=["D","DD","YY","YYYY"];function UE(e){return Zj.test(e)}function zE(e){return Jj.test(e)}function xg(e,n,t){const r=tM(e,n,t);if(console.warn(r),eM.includes(e))throw new RangeError(r)}function tM(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iM=/^'([^]*?)'?$/,sM=/''/g,aM=/[a-zA-Z]/;function ld(e,n,t){var w,E,_,k,S,R,j,I;const r=po(),s=(t==null?void 0:t.locale)??r.locale??$x,a=(t==null?void 0:t.firstWeekContainsDate)??((E=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??r.firstWeekContainsDate??((k=(_=r.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=(t==null?void 0:t.weekStartsOn)??((R=(S=t==null?void 0:t.locale)==null?void 0:S.options)==null?void 0:R.weekStartsOn)??r.weekStartsOn??((I=(j=r.locale)==null?void 0:j.options)==null?void 0:I.weekStartsOn)??0,g=Be(e,t==null?void 0:t.in);if(!rh(g))throw new RangeError("Invalid time value");let v=n.match(rM).map(D=>{const O=D[0];if(O==="p"||O==="P"){const q=gg[O];return q(D,s.formatLong)}return D}).join("").match(nM).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const O=D[0];if(O==="'")return{isToken:!1,value:oM(D)};if(Qw[O])return{isToken:!0,value:D};if(O.match(aM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:D}});s.localize.preprocessor&&(v=s.localize.preprocessor(g,v));const x={firstWeekContainsDate:a,weekStartsOn:d,locale:s};return v.map(D=>{if(!D.isToken)return D.value;const O=D.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&zE(O)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&UE(O))&&xg(O,n,String(e));const q=Qw[O[0]];return q(g,O,s.localize,x)}).join("")}function oM(e){const n=e.match(iM);return n?n[1].replace(sM,"'"):e}function lM(e,n,t){const r=po(),s=(t==null?void 0:t.locale)??r.locale??$x,a=2520,d=p0(e,n);if(isNaN(d))throw new RangeError("Invalid time value");const g=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:d}),[v,x]=fs(t==null?void 0:t.in,...d>0?[n,e]:[e,n]),w=mj(x,v),E=(mc(x)-mc(v))/1e3,_=Math.round((w-E)/60);let k;if(_<2)return t!=null&&t.includeSeconds?w<5?s.formatDistance("lessThanXSeconds",5,g):w<10?s.formatDistance("lessThanXSeconds",10,g):w<20?s.formatDistance("lessThanXSeconds",20,g):w<40?s.formatDistance("halfAMinute",0,g):w<60?s.formatDistance("lessThanXMinutes",1,g):s.formatDistance("xMinutes",1,g):_===0?s.formatDistance("lessThanXMinutes",1,g):s.formatDistance("xMinutes",_,g);if(_<45)return s.formatDistance("xMinutes",_,g);if(_<90)return s.formatDistance("aboutXHours",1,g);if(_<Vw){const S=Math.round(_/60);return s.formatDistance("aboutXHours",S,g)}else{if(_<a)return s.formatDistance("xDays",1,g);if(_<Wf){const S=Math.round(_/Vw);return s.formatDistance("xDays",S,g)}else if(_<Wf*2)return k=Math.round(_/Wf),s.formatDistance("aboutXMonths",k,g)}if(k=pj(x,v),k<12){const S=Math.round(_/Wf);return s.formatDistance("xMonths",S,g)}else{const S=k%12,R=Math.trunc(k/12);return S<3?s.formatDistance("aboutXYears",R,g):S<9?s.formatDistance("overXYears",R,g):s.formatDistance("almostXYears",R+1,g)}}function cM(e,n){return lM(e,lj(e),n)}function eb(e,n){return Be(e,n==null?void 0:n.in).getDate()}function uM(e,n){return Be(e,n==null?void 0:n.in).getDay()}function dM(e,n){const t=Be(e,n==null?void 0:n.in),r=t.getFullYear(),s=t.getMonth(),a=zt(t,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function fM(){return Object.assign({},po())}function la(e,n){return Be(e,n==null?void 0:n.in).getHours()}function hM(e,n){const t=Be(e,n==null?void 0:n.in).getDay();return t===0?7:t}function ca(e,n){return Be(e,n==null?void 0:n.in).getMinutes()}function Dr(e,n){return Be(e,n==null?void 0:n.in).getMonth()}function ro(e){return Be(e).getSeconds()}function vg(e){return+Be(e)}function ht(e,n){return Be(e,n==null?void 0:n.in).getFullYear()}function oo(e,n){return+Be(e)>+Be(n)}function cl(e,n){return+Be(e)<+Be(n)}function pM(e,n){return+Be(e)==+Be(n)}function mM(e,n){const t=gM(n)?new n(0):zt(n,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function gM(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const xM=10;class WE{constructor(){Le(this,"subPriority",0)}validate(n,t){return!0}}class vM extends WE{constructor(n,t,r,s,a){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=s,a&&(this.subPriority=a)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class yM extends WE{constructor(t,r){super();Le(this,"priority",xM);Le(this,"subPriority",-1);this.context=t||(s=>zt(r,s))}set(t,r){return r.timestampIsSet?t:zt(t,mM(t,this.context))}}class Pt{run(n,t,r,s){const a=this.parse(n,t,r,s);return a?{setter:new vM(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,t,r){return!0}}class wM extends Pt{constructor(){super(...arguments);Le(this,"priority",140);Le(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,r,s){return r.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const Bn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ss={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Un(e,n){return e&&{value:n(e.value),rest:e.rest}}function wn(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function As(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,d=t[5]?parseInt(t[5],10):0;return{value:r*(s*Zh+a*Kh+d*rj),rest:n.slice(t[0].length)}}function HE(e){return wn(Bn.anyDigitsSigned,e)}function In(e,n){switch(e){case 1:return wn(Bn.singleDigit,n);case 2:return wn(Bn.twoDigits,n);case 3:return wn(Bn.threeDigits,n);case 4:return wn(Bn.fourDigits,n);default:return wn(new RegExp("^\\d{1,"+e+"}"),n)}}function ah(e,n){switch(e){case 1:return wn(Bn.singleDigitSigned,n);case 2:return wn(Bn.twoDigitsSigned,n);case 3:return wn(Bn.threeDigitsSigned,n);case 4:return wn(Bn.fourDigitsSigned,n);default:return wn(new RegExp("^-?\\d{1,"+e+"}"),n)}}function Kx(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function qE(e,n){const t=n>0,r=t?n:1-n;let s;if(r<=50)s=e||100;else{const a=r+50,d=Math.trunc(a/100)*100,g=e>=a%100;s=e+d-(g?100:0)}return t?s:1-s}function VE(e){return e%400===0||e%4===0&&e%100!==0}class bM extends Pt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,s){const a=d=>({year:d,isTwoDigitYear:r==="yy"});switch(r){case"y":return Un(In(4,t),a);case"yo":return Un(s.ordinalNumber(t,{unit:"year"}),a);default:return Un(In(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s){const a=t.getFullYear();if(s.isTwoDigitYear){const g=qE(s.year,a);return t.setFullYear(g,0,1),t.setHours(0,0,0,0),t}const d=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(d,0,1),t.setHours(0,0,0,0),t}}class CM extends Pt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,s){const a=d=>({year:d,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Un(In(4,t),a);case"Yo":return Un(s.ordinalNumber(t,{unit:"year"}),a);default:return Un(In(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s,a){const d=Qx(t,a);if(s.isTwoDigitYear){const v=qE(s.year,d);return t.setFullYear(v,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),ga(t,a)}const g=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(g,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),ga(t,a)}}class EM extends Pt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return ah(r==="R"?4:r.length,t)}set(t,r,s){const a=zt(t,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),pc(a)}}class NM extends Pt{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return ah(r==="u"?4:r.length,t)}set(t,r,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class _M extends Pt{constructor(){super(...arguments);Le(this,"priority",120);Le(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"Q":case"QQ":return In(r.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class SM extends Pt{constructor(){super(...arguments);Le(this,"priority",120);Le(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"q":case"qq":return In(r.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class AM extends Pt{constructor(){super(...arguments);Le(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Le(this,"priority",110)}parse(t,r,s){const a=d=>d-1;switch(r){case"M":return Un(wn(Bn.month,t),a);case"MM":return Un(In(2,t),a);case"Mo":return Un(s.ordinalNumber(t,{unit:"month"}),a);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class TM extends Pt{constructor(){super(...arguments);Le(this,"priority",110);Le(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,s){const a=d=>d-1;switch(r){case"L":return Un(wn(Bn.month,t),a);case"LL":return Un(In(2,t),a);case"Lo":return Un(s.ordinalNumber(t,{unit:"month"}),a);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function kM(e,n,t){const r=Be(e,t==null?void 0:t.in),s=FE(r,t)-n;return r.setDate(r.getDate()-s*7),Be(r,t==null?void 0:t.in)}class DM extends Pt{constructor(){super(...arguments);Le(this,"priority",100);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,s){switch(r){case"w":return wn(Bn.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return In(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s,a){return ga(kM(t,s,a),a)}}function IM(e,n,t){const r=Be(e,t==null?void 0:t.in),s=Xx(r,t)-n;return r.setDate(r.getDate()-s*7),r}class RM extends Pt{constructor(){super(...arguments);Le(this,"priority",100);Le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,s){switch(r){case"I":return wn(Bn.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return In(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s){return pc(IM(t,s))}}const OM=[31,28,31,30,31,30,31,31,30,31,30,31],jM=[31,29,31,30,31,30,31,31,30,31,30,31];class MM extends Pt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"subPriority",1);Le(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"d":return wn(Bn.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return In(r.length,t)}}validate(t,r){const s=t.getFullYear(),a=VE(s),d=t.getMonth();return a?r>=1&&r<=jM[d]:r>=1&&r<=OM[d]}set(t,r,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class LM extends Pt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"subpriority",1);Le(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,s){switch(r){case"D":case"DD":return wn(Bn.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return In(r.length,t)}}validate(t,r){const s=t.getFullYear();return VE(s)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function Zx(e,n,t){var E,_,k,S;const r=po(),s=(t==null?void 0:t.weekStartsOn)??((_=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((S=(k=r.locale)==null?void 0:k.options)==null?void 0:S.weekStartsOn)??0,a=Be(e,t==null?void 0:t.in),d=a.getDay(),v=(n%7+7)%7,x=7-s,w=n<0||n>6?n-(d+x)%7:(v+x)%7-(d+x)%7;return os(a,w,t)}class PM extends Pt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,a){return t=Zx(t,s,a),t.setHours(0,0,0,0),t}}class FM extends Pt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,s,a){const d=g=>{const v=Math.floor((g-1)/7)*7;return(g+a.weekStartsOn+6)%7+v};switch(r){case"e":case"ee":return Un(In(r.length,t),d);case"eo":return Un(s.ordinalNumber(t,{unit:"day"}),d);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,a){return t=Zx(t,s,a),t.setHours(0,0,0,0),t}}class BM extends Pt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,s,a){const d=g=>{const v=Math.floor((g-1)/7)*7;return(g+a.weekStartsOn+6)%7+v};switch(r){case"c":case"cc":return Un(In(r.length,t),d);case"co":return Un(s.ordinalNumber(t,{unit:"day"}),d);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,a){return t=Zx(t,s,a),t.setHours(0,0,0,0),t}}function UM(e,n,t){const r=Be(e,t==null?void 0:t.in),s=hM(r,t),a=n-s;return os(r,a,t)}class zM extends Pt{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,s){const a=d=>d===0?7:d;switch(r){case"i":case"ii":return In(r.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return Un(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return Un(s.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Un(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Un(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,s){return t=UM(t,s),t.setHours(0,0,0,0),t}}class WM extends Pt{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Kx(s),0,0,0),t}}class HM extends Pt{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Kx(s),0,0,0),t}}class qM extends Pt{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Kx(s),0,0,0),t}}class VM extends Pt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,s){switch(r){case"h":return wn(Bn.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return In(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,s){const a=t.getHours()>=12;return a&&s<12?t.setHours(s+12,0,0,0):!a&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class YM extends Pt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,s){switch(r){case"H":return wn(Bn.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return In(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,s){return t.setHours(s,0,0,0),t}}class GM extends Pt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,s){switch(r){case"K":return wn(Bn.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return In(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class $M extends Pt{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,s){switch(r){case"k":return wn(Bn.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return In(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,s){const a=s<=24?s%24:s;return t.setHours(a,0,0,0),t}}class XM extends Pt{constructor(){super(...arguments);Le(this,"priority",60);Le(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"m":return wn(Bn.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return In(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setMinutes(s,0,0),t}}class QM extends Pt{constructor(){super(...arguments);Le(this,"priority",50);Le(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"s":return wn(Bn.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return In(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setSeconds(s,0),t}}class KM extends Pt{constructor(){super(...arguments);Le(this,"priority",30);Le(this,"incompatibleTokens",["t","T"])}parse(t,r){const s=a=>Math.trunc(a*Math.pow(10,-r.length+3));return Un(In(r.length,t),s)}set(t,r,s){return t.setMilliseconds(s),t}}class ZM extends Pt{constructor(){super(...arguments);Le(this,"priority",10);Le(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return As(Ss.basicOptionalMinutes,t);case"XX":return As(Ss.basic,t);case"XXXX":return As(Ss.basicOptionalSeconds,t);case"XXXXX":return As(Ss.extendedOptionalSeconds,t);case"XXX":default:return As(Ss.extended,t)}}set(t,r,s){return r.timestampIsSet?t:zt(t,t.getTime()-mc(t)-s)}}class JM extends Pt{constructor(){super(...arguments);Le(this,"priority",10);Le(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return As(Ss.basicOptionalMinutes,t);case"xx":return As(Ss.basic,t);case"xxxx":return As(Ss.basicOptionalSeconds,t);case"xxxxx":return As(Ss.extendedOptionalSeconds,t);case"xxx":default:return As(Ss.extended,t)}}set(t,r,s){return r.timestampIsSet?t:zt(t,t.getTime()-mc(t)-s)}}class e9 extends Pt{constructor(){super(...arguments);Le(this,"priority",40);Le(this,"incompatibleTokens","*")}parse(t){return HE(t)}set(t,r,s){return[zt(t,s*1e3),{timestampIsSet:!0}]}}class t9 extends Pt{constructor(){super(...arguments);Le(this,"priority",20);Le(this,"incompatibleTokens","*")}parse(t){return HE(t)}set(t,r,s){return[zt(t,s),{timestampIsSet:!0}]}}const n9={G:new wM,y:new bM,Y:new CM,R:new EM,u:new NM,Q:new _M,q:new SM,M:new AM,L:new TM,w:new DM,I:new RM,d:new MM,D:new LM,E:new PM,e:new FM,c:new BM,i:new zM,a:new WM,b:new HM,B:new qM,h:new VM,H:new YM,K:new GM,k:new $M,m:new XM,s:new QM,S:new KM,X:new ZM,x:new JM,t:new e9,T:new t9},r9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,s9=/^'([^]*?)'?$/,a9=/''/g,o9=/\S/,l9=/[a-zA-Z]/;function c9(e,n,t,r){var j,I,D,O,q,Q,z,P;const s=()=>zt((r==null?void 0:r.in)||t,NaN),a=fM(),d=(r==null?void 0:r.locale)??a.locale??$x,g=(r==null?void 0:r.firstWeekContainsDate)??((I=(j=r==null?void 0:r.locale)==null?void 0:j.options)==null?void 0:I.firstWeekContainsDate)??a.firstWeekContainsDate??((O=(D=a.locale)==null?void 0:D.options)==null?void 0:O.firstWeekContainsDate)??1,v=(r==null?void 0:r.weekStartsOn)??((Q=(q=r==null?void 0:r.locale)==null?void 0:q.options)==null?void 0:Q.weekStartsOn)??a.weekStartsOn??((P=(z=a.locale)==null?void 0:z.options)==null?void 0:P.weekStartsOn)??0;if(!n)return e?s():Be(t,r==null?void 0:r.in);const x={firstWeekContainsDate:g,weekStartsOn:v,locale:d},w=[new yM(r==null?void 0:r.in,t)],E=n.match(i9).map(V=>{const W=V[0];if(W in gg){const se=gg[W];return se(V,d.formatLong)}return V}).join("").match(r9),_=[];for(let V of E){!(r!=null&&r.useAdditionalWeekYearTokens)&&zE(V)&&xg(V,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&UE(V)&&xg(V,n,e);const W=V[0],se=n9[W];if(se){const{incompatibleTokens:ce}=se;if(Array.isArray(ce)){const ie=_.find(he=>ce.includes(he.token)||he.token===W);if(ie)throw new RangeError(`The format string mustn't contain \`${ie.fullToken}\` and \`${V}\` at the same time`)}else if(se.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${V}\` and any other token at the same time`);_.push({token:W,fullToken:V});const ae=se.run(e,V,d.match,x);if(!ae)return s();w.push(ae.setter),e=ae.rest}else{if(W.match(l9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");if(V==="''"?V="'":W==="'"&&(V=u9(V)),e.indexOf(V)===0)e=e.slice(V.length);else return s()}}if(e.length>0&&o9.test(e))return s();const k=w.map(V=>V.priority).sort((V,W)=>W-V).filter((V,W,se)=>se.indexOf(V)===W).map(V=>w.filter(W=>W.priority===V).sort((W,se)=>se.subPriority-W.subPriority)).map(V=>V[0]);let S=Be(t,r==null?void 0:r.in);if(isNaN(+S))return s();const R={};for(const V of k){if(!V.validate(S,x))return s();const W=V.set(S,R,x);Array.isArray(W)?(S=W[0],Object.assign(R,W[1])):S=W}return S}function u9(e){return e.match(s9)[1].replace(a9,"'")}function d9(e,n,t){const[r,s]=fs(t==null?void 0:t.in,e,n);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function f9(e,n,t){const[r,s]=fs(t==null?void 0:t.in,e,n);return+mg(r)==+mg(s)}function h9(e,n,t){const[r,s]=fs(t==null?void 0:t.in,e,n);return r.getFullYear()===s.getFullYear()}function cd(e,n,t){const r=+Be(e,t==null?void 0:t.in),[s,a]=[+Be(n.start,t==null?void 0:t.in),+Be(n.end,t==null?void 0:t.in)].sort((d,g)=>d-g);return r>=s&&r<=a}function p9(e,n,t){return os(e,-n,t)}function m9(e,n){const t=()=>zt(n==null?void 0:n.in,NaN),r=(n==null?void 0:n.additionalDigits)??2,s=y9(e);let a;if(s.date){const x=w9(s.date,r);a=b9(x.restDateString,x.year)}if(!a||isNaN(+a))return t();const d=+a;let g=0,v;if(s.time&&(g=C9(s.time),isNaN(g)))return t();if(s.timezone){if(v=E9(s.timezone),isNaN(v))return t()}else{const x=new Date(d+g),w=Be(0,n==null?void 0:n.in);return w.setFullYear(x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()),w.setHours(x.getUTCHours(),x.getUTCMinutes(),x.getUTCSeconds(),x.getUTCMilliseconds()),w}return Be(d+g+v,n==null?void 0:n.in)}const Hf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},g9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,x9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,v9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function y9(e){const n={},t=e.split(Hf.dateTimeDelimiter);let r;if(t.length>2)return n;if(/:/.test(t[0])?r=t[0]:(n.date=t[0],r=t[1],Hf.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Hf.timeZoneDelimiter)[0],r=e.substr(n.date.length,e.length))),r){const s=Hf.timezone.exec(r);s?(n.time=r.replace(s[1],""),n.timezone=s[1]):n.time=r}return n}function w9(e,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function b9(e,n){if(n===null)return new Date(NaN);const t=e.match(g9);if(!t)return new Date(NaN);const r=!!t[4],s=bu(t[1]),a=bu(t[2])-1,d=bu(t[3]),g=bu(t[4]),v=bu(t[5])-1;if(r)return T9(n,g,v)?N9(n,g,v):new Date(NaN);{const x=new Date(0);return!S9(n,a,d)||!A9(n,s)?new Date(NaN):(x.setUTCFullYear(n,a,Math.max(s,d)),x)}}function bu(e){return e?parseInt(e):1}function C9(e){const n=e.match(x9);if(!n)return NaN;const t=q1(n[1]),r=q1(n[2]),s=q1(n[3]);return k9(t,r,s)?t*Zh+r*Kh+s*1e3:NaN}function q1(e){return e&&parseFloat(e.replace(",","."))||0}function E9(e){if(e==="Z")return 0;const n=e.match(v9);if(!n)return 0;const t=n[1]==="+"?-1:1,r=parseInt(n[2]),s=n[3]&&parseInt(n[3])||0;return D9(r,s)?t*(r*Zh+s*Kh):NaN}function N9(e,n,t){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,a=(n-1)*7+t+1-s;return r.setUTCDate(r.getUTCDate()+a),r}const _9=[31,null,31,30,31,30,31,31,30,31,30,31];function YE(e){return e%400===0||e%4===0&&e%100!==0}function S9(e,n,t){return n>=0&&n<=11&&t>=1&&t<=(_9[n]||(YE(e)?29:28))}function A9(e,n){return n>=1&&n<=(YE(e)?366:365)}function T9(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function k9(e,n,t){return e===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}function D9(e,n){return n>=0&&n<=59}function Fi(e,n,t){const r=Be(e,t==null?void 0:t.in),s=r.getFullYear(),a=r.getDate(),d=zt((t==null?void 0:t.in)||e,0);d.setFullYear(s,n,15),d.setHours(0,0,0,0);const g=dM(d);return r.setMonth(n,Math.min(a,g)),r}function m0(e,n,t){const r=Be(e,t==null?void 0:t.in);return r.setHours(n),r}function g0(e,n,t){const r=Be(e,t==null?void 0:t.in);return r.setMinutes(n),r}function Ll(e,n,t){const r=Be(e,t==null?void 0:t.in),s=Math.trunc(r.getMonth()/3)+1,a=n-s;return Fi(r,r.getMonth()+a*3)}function x0(e,n,t){const r=Be(e,t==null?void 0:t.in);return r.setSeconds(n),r}function Cs(e,n,t){const r=Be(e,t==null?void 0:t.in);return isNaN(+r)?zt((t==null?void 0:t.in)||e,NaN):(r.setFullYear(n),r)}function Jo(e,n,t){return cs(e,-n,t)}function GE(e,n,t){return Vx(e,-n,t)}function tb(e,n,t){return nh(e,-n,t)}function xc(e,n,t){return aa(e,-n,t)}const I9=()=>{const[e,n]=L.useState(!1),t=L.useRef(null),{notifications:r,unreadCount:s,markAsRead:a,markAllAsRead:d,clearNotifications:g}=qO();L.useEffect(()=>{const E=_=>{t.current&&!t.current.contains(_.target)&&n(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const v=()=>{n(!e)},x=E=>{a(E.id),n(!1)},w=E=>{switch(E){case"warning":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"success":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}};return c.jsxs("div",{className:"relative",ref:t,children:[c.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-800 focus:outline-none",onClick:v,"aria-label":`Notifications ${s>0?`(${s} unread)`:""}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),s>0&&c.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:s})]}),e&&c.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:c.jsxs("div",{className:"py-2",children:[c.jsxs("div",{className:"px-4 py-2 bg-gray-100 flex justify-between items-center",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Notifications"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:d,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"}),c.jsx("button",{onClick:g,className:"text-xs text-red-600 hover:text-red-800",children:"Clear all"})]})]}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:r.length===0?c.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No notifications"}):r.map(E=>c.jsx("div",{className:`px-4 py-3 border-b border-gray-100 ${E.read?"":"bg-blue-50"}`,onClick:()=>x(E),children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0",children:w(E.type)}),c.jsxs("div",{className:"ml-3 w-0 flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.title}),c.jsx("p",{className:"text-sm text-gray-600",children:E.message}),E.typeId&&c.jsx(Br,{to:`/equipment?type=${E.typeId}`,className:"text-xs text-blue-600 hover:text-blue-800 mt-1 inline-block",onClick:_=>_.stopPropagation(),children:"View equipment"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:cM(new Date(E.timestamp),{addSuffix:!0})})]})]})},E.id))})]})})]})},R9=({toggleSidebar:e})=>{const{user:n,logout:t,isImpersonating:r}=cr(),s=us(),a=()=>{t(),s("/login")};return c.jsx("nav",{className:"bg-white text-slate-800 shadow-soft sticky top-0 z-30 border-b border-slate-200 h-16",children:c.jsx("div",{className:"container-app py-0",children:c.jsxs("div",{className:"flex justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsxs(Br,{to:"/",className:"flex-shrink-0 flex items-center gap-2",children:[c.jsx("img",{src:"/bird-logo.svg",alt:"Theater Equipment Logo",className:"w-8 h-8"}),c.jsx("span",{className:"text-xl font-bold text-slate-800",children:"Equipment Inventory"})]})}),n?c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{className:"flex items-center gap-3",children:[n.role==="admin"&&c.jsx(I9,{}),c.jsxs("div",{className:"px-3 py-1 rounded-full bg-slate-100 text-slate-700 text-sm flex items-center",children:[c.jsx("span",{className:"font-medium",children:n.username}),c.jsx("span",{className:"ml-1 text-xs px-1.5 py-0.5 bg-primary-100 text-primary-700 rounded-full",children:n.role}),r()&&c.jsx("span",{className:"ml-1 text-xs bg-yellow-100 text-yellow-700 px-1.5 py-0.5 rounded-full border border-yellow-200",children:"Impersonating"})]}),c.jsxs("button",{onClick:a,className:"nav-link text-slate-600 hover:text-red-600","aria-label":"Logout",children:[c.jsx(Hw,{}),c.jsx("span",{className:"hidden md:inline",children:r()?"End Impersonation":"Logout"})]})]})}):c.jsx("div",{className:"flex items-center",children:c.jsxs(Br,{to:"/login",className:"btn btn-primary",children:[c.jsx(Hw,{className:"rotate-180"}),c.jsx("span",{children:"Login"})]})})]})})})},O9=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:c.jsx("polyline",{points:"9 18 15 12 9 6"})}),j9=({isOpen:e,isCollapsed:n,toggleSidebar:t,toggleCollapse:r})=>{const{isAdmin:s,isAdvanced:a}=cr(),d=Tc();L.useEffect(()=>{const v=()=>{window.innerWidth<768&&e&&t(!1)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[e,t]);const g=v=>d.pathname===v;return c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"sidebar-overlay",onClick:()=>t(!1),style:{opacity:e?1:0}}),c.jsxs("aside",{className:`sidebar ${e?"":"sidebar-hidden"} ${n?"sidebar-collapsed":"sidebar-expanded"}`,children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[!n&&c.jsx("span",{className:"text-lg font-semibold text-slate-800",children:"Navigation"}),c.jsxs("div",{className:"flex",children:[c.jsx("button",{onClick:()=>r(!n),className:"sidebar-collapse-btn","aria-label":n?"Expand sidebar":"Collapse sidebar",children:n?c.jsx(O9,{className:"w-4 h-4"}):c.jsx(KO,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>t(!e),className:"sidebar-toggle-btn md:hidden","aria-label":e?"Hide sidebar":"Show sidebar",children:c.jsx(QO,{className:"w-4 h-4"})})]})]}),c.jsxs("nav",{className:"sidebar-nav",children:[c.jsxs(Br,{to:"/dashboard",className:`sidebar-nav-item ${g("/dashboard")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Dashboard",children:[c.jsx(VO,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Dashboard"})]}),c.jsxs(Br,{to:"/equipment",className:`sidebar-nav-item ${g("/equipment")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Equipment",children:[c.jsx(YO,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Equipment"})]}),s()&&c.jsxs(c.Fragment,{children:[c.jsxs(Br,{to:"/admin",className:`sidebar-nav-item ${g("/admin")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Admin",children:[c.jsx(GO,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Admin"})]}),c.jsxs(Br,{to:"/equipment-logs",className:`sidebar-nav-item ${g("/equipment-logs")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Equipment Logs",children:[c.jsx(JO,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Equipment Logs"})]})]}),(s()||a())&&c.jsxs(Br,{to:"/equipment/new",className:`sidebar-nav-item ${g("/equipment/new")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Add Equipment",children:[c.jsx(TE,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Add Equipment"})]}),c.jsxs(Br,{to:"/settings",className:`sidebar-nav-item ${g("/settings")?"sidebar-nav-item-active":""}`,onClick:()=>window.innerWidth<768&&t(!1),title:"Settings",children:[c.jsx($O,{className:"sidebar-nav-icon"}),c.jsx("span",{className:`sidebar-nav-text ${n?"hidden":"block"}`,children:"Settings"})]})]})]})]})},M9=()=>{const{user:e,isImpersonating:n,logout:t}=cr();return n()?c.jsx("div",{className:"bg-yellow-500 text-white py-2",children:c.jsxs("div",{className:"container-app py-0 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:"Impersonation Mode:"})," You are currently viewing the application as ",e.username," (",e.role,")"]}),c.jsx("button",{onClick:t,className:"bg-white text-yellow-700 px-3 py-1 rounded-md text-sm font-medium hover:bg-yellow-100",children:"End Impersonation"})]})}):null},L9=()=>{const[e,n]=L.useState(""),[t,r]=L.useState(""),[s,a]=L.useState(""),[d,g]=L.useState(!1),{login:v}=cr(),x=us(),w=async E=>{var _,k;if(E.preventDefault(),!e||!t){a("Username and password are required");return}try{g(!0),a(""),await v(e,t),x("/dashboard")}catch(S){a(((k=(_=S.response)==null?void 0:_.data)==null?void 0:k.message)||"Login failed")}finally{g(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Theater Equipment Catalog"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[s&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:c.jsx("p",{className:"text-red-700",children:s})}),c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),c.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:E=>n(E.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:E=>r(E.target.value)})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:d,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${d?"opacity-70 cursor-not-allowed":""}`,children:d?"Signing in...":"Sign in"})}),c.jsx("div",{className:"text-sm text-center",children:c.jsx("p",{className:"text-gray-600",children:"Insert the credentials the admin provided to you"})})]})]})})},P9=async()=>{try{return{searches:(await Ke.get("/api/saved-searches")).data||[]}}catch(e){return console.error("Error fetching saved searches:",e),{searches:[]}}},F9=async e=>{try{return(await Ke.post("/api/saved-searches",e)).data}catch(n){throw console.error("Error saving search:",n),n}},B9=async e=>{try{return(await Ke.delete(`/api/saved-searches/${e}`)).data}catch(n){throw console.error("Error deleting saved search:",n),n}},Rc=async()=>{try{return(await Ke.get("/api/categories")).data}catch(e){return console.error("Error fetching categories:",e),[]}},U9=async(e,n="")=>(await Ke.post("/api/categories",{name:e,description:n})).data,z9=async(e,n,t="")=>(await Ke.put(`/api/categories/${e}`,{name:n,description:t})).data,W9=async e=>(await Ke.delete(`/api/categories/${e}`)).data,qe=({children:e,variant:n="primary",size:t="md",type:r="button",fullWidth:s=!1,disabled:a=!1,onClick:d,className:g="",as:v="button",...x})=>{const w="inline-flex items-center justify-center font-medium transition-all duration-200 rounded-md focus:outline-none focus:ring-1 focus:ring-offset-1",E={primary:"bg-white text-primary-600 hover:bg-primary-50 focus:ring-primary-500 border border-primary-500 hover:border-primary-600 hover:shadow-sm transition-all",secondary:"bg-white text-slate-600 hover:bg-slate-50 focus:ring-slate-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",outline:"bg-white hover:bg-slate-50 text-slate-700 focus:ring-primary-500 border border-slate-300 hover:border-slate-400 hover:shadow-sm transition-all",danger:"bg-white text-red-600 hover:bg-red-50 focus:ring-red-500 border border-red-500 hover:border-red-600 hover:shadow-sm transition-all",success:"bg-white text-green-600 hover:bg-green-50 focus:ring-green-500 border border-green-500 hover:border-green-600 hover:shadow-sm transition-all",ghost:"bg-transparent hover:bg-slate-100 text-slate-700 focus:ring-slate-500 border border-transparent hover:shadow-sm transition-all"},_={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-sm"},k=a?"opacity-60 cursor-not-allowed":"cursor-pointer",S=s?"w-full":"",R=`
    ${w}
    ${E[n]||E.primary}
    ${_[t]||_.md}
    ${k}
    ${S}
    ${g}
  `,j=v==="button"?{type:r,...x}:x;return c.jsx(v,{className:R,disabled:a,onClick:d,...j,children:e})};qe.propTypes={children:re.node.isRequired,variant:re.oneOf(["primary","secondary","outline","danger","success","ghost"]),size:re.oneOf(["sm","md","lg"]),type:re.oneOf(["button","submit","reset"]),fullWidth:re.bool,disabled:re.bool,onClick:re.func,className:re.string,as:re.elementType};const Kt=({id:e,name:n,type:t="text",label:r,placeholder:s,value:a,onChange:d,onBlur:g,error:v,icon:x,disabled:w=!1,required:E=!1,className:_="",...k})=>{const D=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${v?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${w?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    ${x?"pl-10":"pl-3"}
    py-2 pr-3 text-sm
    ${_}
  `;return c.jsxs("div",{className:"w-full",children:[r&&c.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${v?"text-red-600":"text-slate-700"}`,children:[r,E&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"relative",children:[x&&c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:x}),c.jsx("input",{id:e,name:n,type:t,value:a,onChange:d,onBlur:g,placeholder:s,disabled:w,required:E,className:D,...k})]}),v&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:v})]})};Kt.propTypes={id:re.string.isRequired,name:re.string.isRequired,type:re.string,label:re.string,placeholder:re.string,value:re.oneOfType([re.string,re.number]),onChange:re.func,onBlur:re.func,error:re.string,icon:re.node,disabled:re.bool,required:re.bool,className:re.string};var Pe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pe||(Pe={}));var nb=new Map([[Pe.QR_CODE,"QR_CODE"],[Pe.AZTEC,"AZTEC"],[Pe.CODABAR,"CODABAR"],[Pe.CODE_39,"CODE_39"],[Pe.CODE_93,"CODE_93"],[Pe.CODE_128,"CODE_128"],[Pe.DATA_MATRIX,"DATA_MATRIX"],[Pe.MAXICODE,"MAXICODE"],[Pe.ITF,"ITF"],[Pe.EAN_13,"EAN_13"],[Pe.EAN_8,"EAN_8"],[Pe.PDF_417,"PDF_417"],[Pe.RSS_14,"RSS_14"],[Pe.RSS_EXPANDED,"RSS_EXPANDED"],[Pe.UPC_A,"UPC_A"],[Pe.UPC_E,"UPC_E"],[Pe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),rb;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(rb||(rb={}));function H9(e){return Object.values(Pe).includes(e)}var oh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(oh||(oh={}));var q9=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[oh.SCAN_TYPE_CAMERA,oh.SCAN_TYPE_FILE],e}(),$E=function(){function e(n,t){this.format=n,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!nb.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,nb.get(n))},e}(),ib=function(){function e(){}return e.createFromText=function(n){var t={text:n};return{decodedText:n,result:t}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),yg;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(yg||(yg={}));var V9=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:yg.UNKWOWN_ERROR}},e}(),Y9=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,t){(this.verbose||t===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Js(e){return typeof e>"u"||e===null}var Ql=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),XE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,t){if(typeof n!="object"){var r=typeof n;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(s),d=Object.keys(n),g=0,v=d;g<v.length;g++){var x=v[g];if(a.has(x))return t.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),wg={exports:{}};(function(e,n){(function(t,r){r(n)})(Ns,function(t){function r(M){return M==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,i){M.__proto__=i}||function(M,i){for(var o in i)i.hasOwnProperty(o)&&(M[o]=i[o])};function a(M,i){s(M,i);function o(){this.constructor=M}M.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function d(M,i){var o=Object.setPrototypeOf;o?o(M,i):M.__proto__=i}function g(M,i){i===void 0&&(i=M.constructor);var o=Error.captureStackTrace;o&&o(M,i)}var v=function(M){a(i,M);function i(o){var l=this.constructor,f=M.call(this,o)||this;return Object.defineProperty(f,"name",{value:l.name,enumerable:!1}),d(f,l.prototype),g(f),f}return i}(Error);class x extends v{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}x.kind="Exception";class w extends x{}w.kind="ArgumentException";class E extends x{}E.kind="IllegalArgumentException";class _{constructor(i){if(this.binarizer=i,i===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,l,f){const h=this.binarizer.getLuminanceSource().crop(i,o,l,f);return new _(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends x{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class S{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(i,o,l,f,h){for(;h--;)l[f++]=i[o++]}static currentTimeMillis(){return Date.now()}}class j extends x{}j.kind="IndexOutOfBoundsException";class I extends j{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}I.kind="ArrayIndexOutOfBoundsException";class D{static fill(i,o){for(let l=0,f=i.length;l<f;l++)i[l]=o}static fillWithin(i,o,l,f){D.rangeCheck(i.length,o,l);for(let h=o;h<l;h++)i[h]=f}static rangeCheck(i,o,l){if(o>l)throw new E("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new I(o);if(l>i)throw new I(l)}static asList(...i){return i}static create(i,o,l){return Array.from({length:i}).map(h=>Array.from({length:o}).fill(l))}static createInt32Array(i,o,l){return Array.from({length:i}).map(h=>Int32Array.from({length:o}).fill(l))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let l=0,f=i.length;l<f;l++)if(i[l]!==o[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const l of i)o=31*o+l;return o}static fillUint8Array(i,o){for(let l=0;l!==i.length;l++)i[l]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const l=new Uint8Array(o);return l.set(i),l}return i.slice(0,o)}static copyOfRange(i,o,l){const f=l-o,h=new Int32Array(f);return R.arraycopy(i,o,h,0,f),h}static binarySearch(i,o,l){l===void 0&&(l=D.numberComparator);let f=0,h=i.length-1;for(;f<=h;){const m=h+f>>1,y=l(o,i[m]);if(y>0)f=m+1;else if(y<0)h=m-1;else return m}return-f-1}static numberComparator(i,o){return i-o}}class O{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let l=31;return o=i<<16,o!==0&&(l-=16,i=o),o=i<<8,o!==0&&(l-=8,i=o),o=i<<4,o!==0&&(l-=4,i=o),o=i<<2,o!==0&&(l-=2,i=o),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=q.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=q.makeArray(i);R.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const l=this.bits;let f=Math.floor(i/32),h=l[f];h&=~((1<<(i&31))-1);const m=l.length;for(;h===0;){if(++f===m)return o;h=l[f]}const y=f*32+O.numberOfTrailingZeros(h);return y>o?o:y}getNextUnset(i){const o=this.size;if(i>=o)return o;const l=this.bits;let f=Math.floor(i/32),h=~l[f];h&=~((1<<(i&31))-1);const m=l.length;for(;h===0;){if(++f===m)return o;h=~l[f]}const y=f*32+O.numberOfTrailingZeros(h);return y>o?o:y}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new E;if(o===i)return;o--;const l=Math.floor(i/32),f=Math.floor(o/32),h=this.bits;for(let m=l;m<=f;m++){const y=m>l?0:i&31,N=(2<<(m<f?31:o&31))-(1<<y);h[m]|=N}}clear(){const i=this.bits.length,o=this.bits;for(let l=0;l<i;l++)o[l]=0}isRange(i,o,l){if(o<i||i<0||o>this.size)throw new E;if(o===i)return!0;o--;const f=Math.floor(i/32),h=Math.floor(o/32),m=this.bits;for(let y=f;y<=h;y++){const C=y>f?0:i&31,T=(2<<(y<h?31:o&31))-(1<<C)&4294967295;if((m[y]&T)!==(l?T:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new E("Sizes don't match");const o=this.bits;for(let l=0,f=o.length;l<f;l++)o[l]^=i.bits[l]}toBytes(i,o,l,f){for(let h=0;h<f;h++){let m=0;for(let y=0;y<8;y++)this.get(i)&&(m|=1<<7-y),i++;o[l+h]=m}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,f=this.bits;for(let h=0;h<l;h++){let m=f[h];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,i[o-h]=m}if(this.size!==l*32){const h=l*32-this.size;let m=i[0]>>>h;for(let y=1;y<l;y++){const C=i[y];m|=C<<32-h,i[y-1]=m,m=C>>>h}i[l-1]=m}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof q))return!1;const o=i;return this.size===o.size&&D.equals(this.bits,o.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let i="";for(let o=0,l=this.size;o<l;o++)o&7||(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new q(this.size,this.bits.slice())}}var Q;(function(M){M[M.OTHER=0]="OTHER",M[M.PURE_BARCODE=1]="PURE_BARCODE",M[M.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",M[M.TRY_HARDER=3]="TRY_HARDER",M[M.CHARACTER_SET=4]="CHARACTER_SET",M[M.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",M[M.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",M[M.ASSUME_GS1=7]="ASSUME_GS1",M[M.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",M[M.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",M[M.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var z=Q;class P extends x{static getFormatInstance(){return new P}}P.kind="FormatException";var V;(function(M){M[M.Cp437=0]="Cp437",M[M.ISO8859_1=1]="ISO8859_1",M[M.ISO8859_2=2]="ISO8859_2",M[M.ISO8859_3=3]="ISO8859_3",M[M.ISO8859_4=4]="ISO8859_4",M[M.ISO8859_5=5]="ISO8859_5",M[M.ISO8859_6=6]="ISO8859_6",M[M.ISO8859_7=7]="ISO8859_7",M[M.ISO8859_8=8]="ISO8859_8",M[M.ISO8859_9=9]="ISO8859_9",M[M.ISO8859_10=10]="ISO8859_10",M[M.ISO8859_11=11]="ISO8859_11",M[M.ISO8859_13=12]="ISO8859_13",M[M.ISO8859_14=13]="ISO8859_14",M[M.ISO8859_15=14]="ISO8859_15",M[M.ISO8859_16=15]="ISO8859_16",M[M.SJIS=16]="SJIS",M[M.Cp1250=17]="Cp1250",M[M.Cp1251=18]="Cp1251",M[M.Cp1252=19]="Cp1252",M[M.Cp1256=20]="Cp1256",M[M.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",M[M.UTF8=22]="UTF8",M[M.ASCII=23]="ASCII",M[M.Big5=24]="Big5",M[M.GB18030=25]="GB18030",M[M.EUC_KR=26]="EUC_KR"})(V||(V={}));class W{constructor(i,o,l,...f){this.valueIdentifier=i,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,W.VALUE_IDENTIFIER_TO_ECI.set(i,this),W.NAME_TO_ECI.set(l,this);const h=this.values;for(let m=0,y=h.length;m!==y;m++){const C=h[m];W.VALUES_TO_ECI.set(C,this)}for(const m of f)W.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new P("incorect value");const o=W.VALUES_TO_ECI.get(i);if(o===void 0)throw new P("incorect value");return o}static getCharacterSetECIByName(i){const o=W.NAME_TO_ECI.get(i);if(o===void 0)throw new P("incorect value");return o}equals(i){if(!(i instanceof W))return!1;const o=i;return this.getName()===o.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(V.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(V.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(V.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(V.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(V.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(V.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(V.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(V.Big5,28,"Big5"),W.GB18030=new W(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(V.EUC_KR,30,"EUC_KR","EUC-KR");class se extends x{}se.kind="UnsupportedOperationException";class ce{static decode(i,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!ce.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof W?i:W.getCharacterSetECIByName(i)}static decodeFallback(i,o){const l=this.encodingCharacterSet(o);if(ce.isDecodeFallbackSupported(l)){let f="";for(let h=0,m=i.length;h<m;h++){let y=i[h].toString(16);y.length<2&&(y="0"+y),f+="%"+y}return decodeURIComponent(f)}if(l.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new se(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(W.UTF8)||i.equals(W.ISO8859_1)||i.equals(W.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),f=[];for(let h=0;h<l.length;h++)f.push(l[h].charCodeAt(0));return new Uint8Array(f)}}class ae{static castAsNonUtf8Char(i,o=null){const l=o?o.getName():this.ISO88591;return ce.decode(new Uint8Array([i]),l)}static guessEncoding(i,o){if(o!=null&&o.get(z.CHARACTER_SET)!==void 0)return o.get(z.CHARACTER_SET).toString();const l=i.length;let f=!0,h=!0,m=!0,y=0,C=0,N=0,T=0,F=0,H=0,Z=0,U=0,G=0,X=0,te=0;const pe=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let ve=0;ve<l&&(f||h||m);ve++){const ye=i[ve]&255;m&&(y>0?ye&128?y--:m=!1:ye&128&&(ye&64?(y++,ye&32?(y++,ye&16?(y++,ye&8?m=!1:T++):N++):C++):m=!1)),f&&(ye>127&&ye<160?f=!1:ye>159&&(ye<192||ye===215||ye===247)&&te++),h&&(F>0?ye<64||ye===127||ye>252?h=!1:F--:ye===128||ye===160||ye>239?h=!1:ye>160&&ye<224?(H++,U=0,Z++,Z>G&&(G=Z)):ye>127?(F++,Z=0,U++,U>X&&(X=U)):(Z=0,U=0))}return m&&y>0&&(m=!1),h&&F>0&&(h=!1),m&&(pe||C+N+T>0)?ae.UTF8:h&&(ae.ASSUME_SHIFT_JIS||G>=3||X>=3)?ae.SHIFT_JIS:f&&h?G===2&&H===2||te*10>=l?ae.SHIFT_JIS:ae.ISO88591:f?ae.ISO88591:h?ae.SHIFT_JIS:m?ae.UTF8:ae.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let l=-1;function f(m,y,C,N,T,F){if(m==="%%")return"%";if(o[++l]===void 0)return;m=N?parseInt(N.substr(1)):void 0;let H=T?parseInt(T.substr(1)):void 0,Z;switch(F){case"s":Z=o[l];break;case"c":Z=o[l][0];break;case"f":Z=parseFloat(o[l]).toFixed(m);break;case"p":Z=parseFloat(o[l]).toPrecision(m);break;case"e":Z=parseFloat(o[l]).toExponential(m);break;case"x":Z=parseInt(o[l]).toString(H||16);break;case"d":Z=parseFloat(parseInt(o[l],H||10).toPrecision(m)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(H);let U=parseInt(C),G=C&&C[0]+""=="0"?"0":" ";for(;Z.length<U;)Z=y!==void 0?Z+G:G+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,f)}static getBytes(i,o){return ce.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}ae.SHIFT_JIS=W.SJIS.getName(),ae.GB2312="GB2312",ae.ISO88591=W.ISO8859_1.getName(),ae.EUC_JP="EUC_JP",ae.UTF8=W.UTF8.getName(),ae.PLATFORM_DEFAULT_ENCODING=ae.UTF8,ae.ASSUME_SHIFT_JIS=!1;class ie{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=ae.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,l){for(let f=o;o<o+l;f++)this.append(i[f]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class he{constructor(i,o,l,f){if(this.width=i,this.height=o,this.rowSize=l,this.bits=f,o==null&&(o=i),this.height=o,i<1||o<1)throw new E("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,l=i[0].length,f=new he(l,o);for(let h=0;h<o;h++){const m=i[h];for(let y=0;y<l;y++)m[y]&&f.set(y,h)}return f}static parseFromString(i,o,l){if(i===null)throw new E("stringRepresentation cannot be null");const f=new Array(i.length);let h=0,m=0,y=-1,C=0,N=0;for(;N<i.length;)if(i.charAt(N)===`
`||i.charAt(N)==="\r"){if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new E("row lengths do not match");m=h,C++}N++}else if(i.substring(N,N+o.length)===o)N+=o.length,f[h]=!0,h++;else if(i.substring(N,N+l.length)===l)N+=l.length,f[h]=!1,h++;else throw new E("illegal character encountered: "+i.substring(N));if(h>m){if(y===-1)y=h-m;else if(h-m!==y)throw new E("row lengths do not match");C++}const T=new he(y,C);for(let F=0;F<h;F++)f[F]&&T.set(Math.floor(F%y),Math.floor(F/y));return T}get(i,o){const l=o*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new E("input matrix dimensions do not match");const o=new q(Math.floor(this.width/32)+1),l=this.rowSize,f=this.bits;for(let h=0,m=this.height;h<m;h++){const y=h*l,C=i.getRow(h,o).getBitArray();for(let N=0;N<l;N++)f[y+N]^=C[N]}}clear(){const i=this.bits,o=i.length;for(let l=0;l<o;l++)i[l]=0}setRegion(i,o,l,f){if(o<0||i<0)throw new E("Left and top must be nonnegative");if(f<1||l<1)throw new E("Height and width must be at least 1");const h=i+l,m=o+f;if(m>this.height||h>this.width)throw new E("The region must fit inside the matrix");const y=this.rowSize,C=this.bits;for(let N=o;N<m;N++){const T=N*y;for(let F=i;F<h;F++)C[T+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new q(this.width):o.clear();const l=this.rowSize,f=this.bits,h=i*l;for(let m=0;m<l;m++)o.setBulk(m*32,f[h+m]);return o}setRow(i,o){R.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let l=new q(i),f=new q(i);for(let h=0,m=Math.floor((o+1)/2);h<m;h++)l=this.getRow(h,l),f=this.getRow(o-1-h,f),l.reverse(),f.reverse(),this.setRow(h,f),this.setRow(o-1-h,l)}getEnclosingRectangle(){const i=this.width,o=this.height,l=this.rowSize,f=this.bits;let h=i,m=o,y=-1,C=-1;for(let N=0;N<o;N++)for(let T=0;T<l;T++){const F=f[N*l+T];if(F!==0){if(N<m&&(m=N),N>C&&(C=N),T*32<h){let H=0;for(;!(F<<31-H&4294967295);)H++;T*32+H<h&&(h=T*32+H)}if(T*32+31>y){let H=31;for(;!(F>>>H);)H--;T*32+H>y&&(y=T*32+H)}}}return y<h||C<m?null:Int32Array.from([h,m,y-h+1,C-m+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const f=l/i;let h=l%i*32;const m=o[l];let y=0;for(;!(m<<31-y&4294967295);)y++;return h+=y,Int32Array.from([h,f])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const f=Math.floor(l/i);let h=Math.floor(l%i)*32;const m=o[l];let y=31;for(;!(m>>>y);)y--;return h+=y,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof he))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&D.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+D.hashCode(this.bits),i}toString(i="X ",o="  ",l=`
`){return this.buildToString(i,o,l)}buildToString(i,o,l){let f=new ie;for(let h=0,m=this.height;h<m;h++){for(let y=0,C=this.width;y<C;y++)f.append(this.get(y,h)?i:o);f.append(l)}return f.toString()}clone(){return new he(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends x{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class xe extends S{constructor(i){super(i),this.luminances=xe.EMPTY,this.buckets=new Int32Array(xe.LUMINANCE_BUCKETS)}getBlackRow(i,o){const l=this.getLuminanceSource(),f=l.getWidth();o==null||o.getSize()<f?o=new q(f):o.clear(),this.initArrays(f);const h=l.getRow(i,this.luminances),m=this.buckets;for(let C=0;C<f;C++)m[(h[C]&255)>>xe.LUMINANCE_SHIFT]++;const y=xe.estimateBlackPoint(m);if(f<3)for(let C=0;C<f;C++)(h[C]&255)<y&&o.set(C);else{let C=h[0]&255,N=h[1]&255;for(let T=1;T<f-1;T++){const F=h[T+1]&255;(N*4-C-F)/2<y&&o.set(T),C=N,N=F}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight(),f=new he(o,l);this.initArrays(o);const h=this.buckets;for(let C=1;C<5;C++){const N=Math.floor(l*C/5),T=i.getRow(N,this.luminances),F=Math.floor(o*4/5);for(let H=Math.floor(o/5);H<F;H++){const Z=T[H]&255;h[Z>>xe.LUMINANCE_SHIFT]++}}const m=xe.estimateBlackPoint(h),y=i.getMatrix();for(let C=0;C<l;C++){const N=C*o;for(let T=0;T<o;T++)(y[N+T]&255)<m&&f.set(T,C)}return f}createBinarizer(i){return new xe(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let l=0;l<xe.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(i){const o=i.length;let l=0,f=0,h=0;for(let T=0;T<o;T++)i[T]>h&&(f=T,h=i[T]),i[T]>l&&(l=i[T]);let m=0,y=0;for(let T=0;T<o;T++){const F=T-f,H=i[T]*F*F;H>y&&(m=T,y=H)}if(f>m){const T=f;f=m,m=T}if(m-f<=o/16)throw new ee;let C=m-1,N=-1;for(let T=m-1;T>f;T--){const F=T-f,H=F*F*(m-T)*(l-i[T]);H>N&&(C=T,N=H)}return C<<xe.LUMINANCE_SHIFT}}xe.LUMINANCE_BITS=5,xe.LUMINANCE_SHIFT=8-xe.LUMINANCE_BITS,xe.LUMINANCE_BUCKETS=1<<xe.LUMINANCE_BITS,xe.EMPTY=Uint8ClampedArray.from([0]);class ge extends xe{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight();if(o>=ge.MINIMUM_DIMENSION&&l>=ge.MINIMUM_DIMENSION){const f=i.getMatrix();let h=o>>ge.BLOCK_SIZE_POWER;o&ge.BLOCK_SIZE_MASK&&h++;let m=l>>ge.BLOCK_SIZE_POWER;l&ge.BLOCK_SIZE_MASK&&m++;const y=ge.calculateBlackPoints(f,h,m,o,l),C=new he(o,l);ge.calculateThresholdForBlock(f,h,m,o,l,y,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ge(i)}static calculateThresholdForBlock(i,o,l,f,h,m,y){const C=h-ge.BLOCK_SIZE,N=f-ge.BLOCK_SIZE;for(let T=0;T<l;T++){let F=T<<ge.BLOCK_SIZE_POWER;F>C&&(F=C);const H=ge.cap(T,2,l-3);for(let Z=0;Z<o;Z++){let U=Z<<ge.BLOCK_SIZE_POWER;U>N&&(U=N);const G=ge.cap(Z,2,o-3);let X=0;for(let pe=-2;pe<=2;pe++){const ve=m[H+pe];X+=ve[G-2]+ve[G-1]+ve[G]+ve[G+1]+ve[G+2]}const te=X/25;ge.thresholdBlock(i,U,F,te,f,y)}}}static cap(i,o,l){return i<o?o:i>l?l:i}static thresholdBlock(i,o,l,f,h,m){for(let y=0,C=l*h+o;y<ge.BLOCK_SIZE;y++,C+=h)for(let N=0;N<ge.BLOCK_SIZE;N++)(i[C+N]&255)<=f&&m.set(o+N,l+y)}static calculateBlackPoints(i,o,l,f,h){const m=h-ge.BLOCK_SIZE,y=f-ge.BLOCK_SIZE,C=new Array(l);for(let N=0;N<l;N++){C[N]=new Int32Array(o);let T=N<<ge.BLOCK_SIZE_POWER;T>m&&(T=m);for(let F=0;F<o;F++){let H=F<<ge.BLOCK_SIZE_POWER;H>y&&(H=y);let Z=0,U=255,G=0;for(let te=0,pe=T*f+H;te<ge.BLOCK_SIZE;te++,pe+=f){for(let ve=0;ve<ge.BLOCK_SIZE;ve++){const ye=i[pe+ve]&255;Z+=ye,ye<U&&(U=ye),ye>G&&(G=ye)}if(G-U>ge.MIN_DYNAMIC_RANGE)for(te++,pe+=f;te<ge.BLOCK_SIZE;te++,pe+=f)for(let ve=0;ve<ge.BLOCK_SIZE;ve++)Z+=i[pe+ve]&255}let X=Z>>ge.BLOCK_SIZE_POWER*2;if(G-U<=ge.MIN_DYNAMIC_RANGE&&(X=U/2,N>0&&F>0)){const te=(C[N-1][F]+2*C[N][F-1]+C[N-1][F-1])/4;U<te&&(X=te)}C[N][F]=X}}return C}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class ue{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,l,f){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new ie;for(let l=0;l<this.height;l++){const f=this.getRow(l,i);for(let h=0;h<this.width;h++){const m=f[h]&255;let y;m<64?y="#":m<128?y="+":m<192?y=".":y=" ",o.append(y)}o.append(`
`)}return o.toString()}}class _e extends ue{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const l=this.delegate.getRow(i,o),f=this.getWidth();for(let h=0;h<f;h++)l[h]=255-(l[h]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let f=0;f<o;f++)l[f]=255-(i[f]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,l,f){return new _e(this.delegate.crop(i,o,l,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new _e(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new _e(this.delegate.rotateCounterClockwise45())}}class Re extends ue{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=Re.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return Re.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,l){const f=new Uint8ClampedArray(o*l);for(let h=0,m=0,y=i.length;h<y;h+=4,m++){let C;if(i[h+3]===0)C=255;else{const T=i[h],F=i[h+1],H=i[h+2];C=306*T+601*F+117*H+512>>10}f[m]=C}return f}getRow(i,o){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const l=this.getWidth(),f=i*l;return o===null?o=this.buffer.slice(f,f+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(f,f+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,l,f){return super.crop(i,o,l,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),l=o.getContext("2d"),f=i*Re.DEGREE_TO_RADIANS,h=this.canvas.width,m=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*m),C=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*m);return o.width=y,o.height=C,l.translate(y/2,C/2),l.rotate(f),l.drawImage(this.canvas,h/-2,m/-2),this.buffer=Re.makeBufferFromCanvasImageData(o),this}invert(){return new _e(this)}}Re.DEGREE_TO_RADIANS=Math.PI/180;class We{constructor(i,o,l){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var tt=(globalThis||Ns||self||window||void 0)&&(globalThis||Ns||self||window||void 0).__awaiter||function(M,i,o,l){function f(h){return h instanceof o?h:new o(function(m){m(h)})}return new(o||(o=Promise))(function(h,m){function y(T){try{N(l.next(T))}catch(F){m(F)}}function C(T){try{N(l.throw(T))}catch(F){m(F)}}function N(T){T.done?h(T.value):f(T.value).then(y,C)}N((l=l.apply(M,i||[])).next())})};class Rn{constructor(i,o=500,l){this.reader=i,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return tt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of i){const f=l.kind==="video"?"videoinput":l.kind;if(f!=="videoinput")continue;const h=l.deviceId||l.id,m=l.label||`Video device ${o.length+1}`,y=l.groupId,C={deviceId:h,label:m,kind:f,groupId:y};o.push(C)}return o})}getVideoInputDevices(){return tt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new We(o.deviceId,o.label))})}findDeviceById(i){return tt(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return tt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return tt(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const f={video:l};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(i,o){return tt(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(i,o){return tt(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,o,l){return tt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,l)})}decodeFromVideoDevice(i,o,l){return tt(this,void 0,void 0,function*(){let f;i?f={deviceId:{exact:i}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,o,l)})}decodeFromConstraints(i,o,l){return tt(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(f,o,l)})}decodeFromStream(i,o,l){return tt(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(f,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return tt(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((o,l)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return tt(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const l=document.getElementById(i);if(!l)throw new w(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new w(`element with id '${i}' must be an ${o} element`);return l}decodeFromImage(i,o){if(!i&&!o)throw new w("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new w("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,l){if(i===void 0&&o===void 0)throw new w("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new w("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(i){if(!i)throw new w("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new w("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=i,l}decodeFromVideoUrl(i){if(!i)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=i,l}decodeFromVideoUrlContinuously(i,o){if(!i)throw new w("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(l,o);return l.src=i,f}_decodeOnLoadImage(i){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return tt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return tt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,l=!0){this._stopAsyncDecode=!1;const f=(h,m)=>{if(this._stopAsyncDecode){m(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(i);h(y)}catch(y){const C=o&&y instanceof ee,T=(y instanceof k||y instanceof P)&&l;if(C||T)return setTimeout(f,this._timeBetweenDecodingAttempts,h,m);m(y)}};return new Promise((h,m)=>f(h,m))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(i);o(f,null),setTimeout(l,this.timeBetweenScansMillis)}catch(f){o(null,f);const h=f instanceof k||f instanceof P,m=f instanceof ee;(h||m)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,l){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),l=new Re(o),f=new ge(l);return new _(f)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,f;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,f=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,f=i.naturalHeight||i.height)),o.style.width=l+"px",o.style.height=f+"px",o.width=l,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class vt{constructor(i,o,l=o==null?0:8*o.length,f,h,m=R.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=l,this.resultPoints=f,this.format=h,this.timestamp=m,this.text=i,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=f,this.format=h,this.resultMetadata=null,m==null?this.timestamp=R.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(o.length+i.length);R.arraycopy(o,0,l,0,o.length),R.arraycopy(i,0,l,o.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var On;(function(M){M[M.AZTEC=0]="AZTEC",M[M.CODABAR=1]="CODABAR",M[M.CODE_39=2]="CODE_39",M[M.CODE_93=3]="CODE_93",M[M.CODE_128=4]="CODE_128",M[M.DATA_MATRIX=5]="DATA_MATRIX",M[M.EAN_8=6]="EAN_8",M[M.EAN_13=7]="EAN_13",M[M.ITF=8]="ITF",M[M.MAXICODE=9]="MAXICODE",M[M.PDF_417=10]="PDF_417",M[M.QR_CODE=11]="QR_CODE",M[M.RSS_14=12]="RSS_14",M[M.RSS_EXPANDED=13]="RSS_EXPANDED",M[M.UPC_A=14]="UPC_A",M[M.UPC_E=15]="UPC_E",M[M.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(On||(On={}));var De=On,Hn;(function(M){M[M.OTHER=0]="OTHER",M[M.ORIENTATION=1]="ORIENTATION",M[M.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",M[M.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",M[M.ISSUE_NUMBER=4]="ISSUE_NUMBER",M[M.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",M[M.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",M[M.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",M[M.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",M[M.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",M[M.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Hn||(Hn={}));var yt=Hn;class $n{constructor(i,o,l,f,h=-1,m=-1){this.rawBytes=i,this.text=o,this.byteSegments=l,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=m,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class dr{exp(i){return this.expTable[i]}log(i){if(i===0)throw new E;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class ke{constructor(i,o){if(o.length===0)throw new E;this.field=i;const l=o.length;if(l>1&&o[0]===0){let f=1;for(;f<l&&o[f]===0;)f++;f===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-f),R.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(i===1){l=0;for(let m=0,y=o.length;m!==y;m++){const C=o[m];l=dr.addOrSubtract(l,C)}return l}l=o[0];const f=o.length,h=this.field;for(let m=1;m<f;m++)l=dr.addOrSubtract(h.multiply(i,l),o[m]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){const m=o;o=l,l=m}let f=new Int32Array(l.length);const h=l.length-o.length;R.arraycopy(l,0,f,0,h);for(let m=h;m<l.length;m++)f[m]=dr.addOrSubtract(o[m-h],l[m]);return new ke(this.field,f)}multiply(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,f=i.coefficients,h=f.length,m=new Int32Array(l+h-1),y=this.field;for(let C=0;C<l;C++){const N=o[C];for(let T=0;T<h;T++)m[C+T]=dr.addOrSubtract(m[C+T],y.multiply(N,f[T]))}return new ke(y,m)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,l=this.field,f=new Int32Array(o),h=this.coefficients;for(let m=0;m<o;m++)f[m]=l.multiply(h[m],i);return new ke(l,f)}multiplyByMonomial(i,o){if(i<0)throw new E;if(o===0)return this.field.getZero();const l=this.coefficients,f=l.length,h=new Int32Array(f+i),m=this.field;for(let y=0;y<f;y++)h[y]=m.multiply(l[y],o);return new ke(m,h)}divide(i){if(!this.field.equals(i.field))throw new E("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new E("Divide by 0");const o=this.field;let l=o.getZero(),f=this;const h=i.getCoefficient(i.getDegree()),m=o.inverse(h);for(;f.getDegree()>=i.getDegree()&&!f.isZero();){const y=f.getDegree()-i.getDegree(),C=o.multiply(f.getCoefficient(f.getDegree()),m),N=i.multiplyByMonomial(y,C),T=o.buildMonomial(y,C);l=l.addOrSubtract(T),f=f.addOrSubtract(N)}return[l,f]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),o===0||l!==1){const f=this.field.log(l);f===0?i+="1":f===1?i+="a":(i+="a^",i+=f)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class $e extends x{}$e.kind="ArithmeticException";class et extends dr{constructor(i,o,l){super(),this.primitive=i,this.size=o,this.generatorBase=l;const f=new Int32Array(o);let h=1;for(let y=0;y<o;y++)f[y]=h,h*=2,h>=o&&(h^=i,h&=o-1);this.expTable=f;const m=new Int32Array(o);for(let y=0;y<o-1;y++)m[f[y]]=y;this.logTable=m,this.zero=new ke(this,Int32Array.from([0])),this.one=new ke(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new E;if(o===0)return this.zero;const l=new Int32Array(i+1);return l[0]=o,new ke(this,l)}inverse(i){if(i===0)throw new $e;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}et.AZTEC_DATA_12=new et(4201,4096,1),et.AZTEC_DATA_10=new et(1033,1024,1),et.AZTEC_DATA_6=new et(67,64,1),et.AZTEC_PARAM=new et(19,16,1),et.QR_CODE_FIELD_256=new et(285,256,0),et.DATA_MATRIX_FIELD_256=new et(301,256,1),et.AZTEC_DATA_8=et.DATA_MATRIX_FIELD_256,et.MAXICODE_FIELD_64=et.AZTEC_DATA_6;class Tt extends x{}Tt.kind="ReedSolomonException";class En extends x{}En.kind="IllegalStateException";class Ci{constructor(i){this.field=i}decode(i,o){const l=this.field,f=new ke(l,i),h=new Int32Array(o);let m=!0;for(let Z=0;Z<o;Z++){const U=f.evaluateAt(l.exp(Z+l.getGeneratorBase()));h[h.length-1-Z]=U,U!==0&&(m=!1)}if(m)return;const y=new ke(l,h),C=this.runEuclideanAlgorithm(l.buildMonomial(o,1),y,o),N=C[0],T=C[1],F=this.findErrorLocations(N),H=this.findErrorMagnitudes(T,F);for(let Z=0;Z<F.length;Z++){const U=i.length-1-l.log(F[Z]);if(U<0)throw new Tt("Bad error location");i[U]=et.addOrSubtract(i[U],H[Z])}}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){const Z=i;i=o,o=Z}const f=this.field;let h=i,m=o,y=f.getZero(),C=f.getOne();for(;m.getDegree()>=(l/2|0);){let Z=h,U=y;if(h=m,y=C,h.isZero())throw new Tt("r_{i-1} was zero");m=Z;let G=f.getZero();const X=h.getCoefficient(h.getDegree()),te=f.inverse(X);for(;m.getDegree()>=h.getDegree()&&!m.isZero();){const pe=m.getDegree()-h.getDegree(),ve=f.multiply(m.getCoefficient(m.getDegree()),te);G=G.addOrSubtract(f.buildMonomial(pe,ve)),m=m.addOrSubtract(h.multiplyByMonomial(pe,ve))}if(C=G.multiply(y).addOrSubtract(U),m.getDegree()>=h.getDegree())throw new En("Division algorithm failed to reduce polynomial?")}const N=C.getCoefficient(0);if(N===0)throw new Tt("sigmaTilde(0) was zero");const T=f.inverse(N),F=C.multiplyScalar(T),H=m.multiplyScalar(T);return[F,H]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(o);let f=0;const h=this.field;for(let m=1;m<h.getSize()&&f<o;m++)i.evaluateAt(m)===0&&(l[f]=h.inverse(m),f++);if(f!==o)throw new Tt("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,o){const l=o.length,f=new Int32Array(l),h=this.field;for(let m=0;m<l;m++){const y=h.inverse(o[m]);let C=1;for(let N=0;N<l;N++)if(m!==N){const T=h.multiply(o[N],y),F=T&1?T&-2:T|1;C=h.multiply(C,F)}f[m]=h.multiply(i.evaluateAt(y),h.inverse(C)),h.getGeneratorBase()!==0&&(f[m]=h.multiply(f[m],y))}return f}}var wt;(function(M){M[M.UPPER=0]="UPPER",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.DIGIT=3]="DIGIT",M[M.PUNCT=4]="PUNCT",M[M.BINARY=5]="BINARY"})(wt||(wt={}));class Et{decode(i){this.ddata=i;let o=i.getBits(),l=this.extractBits(o),f=this.correctBits(l),h=Et.convertBoolArrayToByteArray(f),m=Et.getEncodedData(f),y=new $n(h,m,null,null);return y.setNumBits(f.length),y}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,l=wt.UPPER,f=wt.UPPER,h="",m=0;for(;m<o;)if(f===wt.BINARY){if(o-m<5)break;let y=Et.readCode(i,m,5);if(m+=5,y===0){if(o-m<11)break;y=Et.readCode(i,m,11)+31,m+=11}for(let C=0;C<y;C++){if(o-m<8){m=o;break}const N=Et.readCode(i,m,8);h+=ae.castAsNonUtf8Char(N),m+=8}f=l}else{let y=f===wt.DIGIT?4:5;if(o-m<y)break;let C=Et.readCode(i,m,y);m+=y;let N=Et.getCharacter(f,C);N.startsWith("CTRL_")?(l=f,f=Et.getTable(N.charAt(5)),N.charAt(6)==="L"&&(l=f)):(h+=N,f=l)}return h}static getTable(i){switch(i){case"L":return wt.LOWER;case"P":return wt.PUNCT;case"M":return wt.MIXED;case"D":return wt.DIGIT;case"B":return wt.BINARY;case"U":default:return wt.UPPER}}static getCharacter(i,o){switch(i){case wt.UPPER:return Et.UPPER_TABLE[o];case wt.LOWER:return Et.LOWER_TABLE[o];case wt.MIXED:return Et.MIXED_TABLE[o];case wt.PUNCT:return Et.PUNCT_TABLE[o];case wt.DIGIT:return Et.DIGIT_TABLE[o];default:throw new En("Bad table")}}correctBits(i){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=et.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=et.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=et.AZTEC_DATA_10):(l=12,o=et.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=i.length/l;if(h<f)throw new P;let m=i.length%l,y=new Int32Array(h);for(let H=0;H<h;H++,m+=l)y[H]=Et.readCode(i,m,l);try{new Ci(o).decode(y,h-f)}catch(H){throw new P(H)}let C=(1<<l)-1,N=0;for(let H=0;H<f;H++){let Z=y[H];if(Z===0||Z===C)throw new P;(Z===1||Z===C-1)&&N++}let T=new Array(f*l-N),F=0;for(let H=0;H<f;H++){let Z=y[H];if(Z===1||Z===C-1)T.fill(Z>1,F,F+l-1),F+=l-1;else for(let U=l-1;U>=0;--U)T[F++]=(Z&1<<U)!==0}return T}extractBits(i){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),f=(o?11:14)+l*4,h=new Int32Array(f),m=new Array(this.totalBitsInLayer(l,o));if(o)for(let y=0;y<h.length;y++)h[y]=y;else{let y=f+1+2*O.truncDivision(O.truncDivision(f,2)-1,15),C=f/2,N=O.truncDivision(y,2);for(let T=0;T<C;T++){let F=T+O.truncDivision(T,15);h[C-T-1]=N-F-1,h[C+T]=N+F+1}}for(let y=0,C=0;y<l;y++){let N=(l-y)*4+(o?9:12),T=y*2,F=f-1-T;for(let H=0;H<N;H++){let Z=H*2;for(let U=0;U<2;U++)m[C+Z+U]=i.get(h[T+U],h[T+H]),m[C+2*N+Z+U]=i.get(h[T+H],h[F-U]),m[C+4*N+Z+U]=i.get(h[F-U],h[F-H]),m[C+6*N+Z+U]=i.get(h[F-H],h[T+U])}C+=N*8}return m}static readCode(i,o,l){let f=0;for(let h=o;h<o+l;h++)f<<=1,i[h]&&(f|=1);return f}static readByte(i,o){let l=i.length-o;return l>=8?Et.readCode(i,o,8):Et.readCode(i,o,l)<<8-l}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let l=0;l<o.length;l++)o[l]=Et.readByte(i,8*l);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}Et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class st{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,l,f){const h=i-l,m=o-f;return Math.sqrt(h*h+m*m)}static sum(i){let o=0;for(let l=0,f=i.length;l!==f;l++){const h=i[l];o+=h}return o}}class Ie{static floatToIntBits(i){return i}}Ie.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ee{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Ee){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Ie.floatToIntBits(this.x)+Ie.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),f=this.distance(i[0],i[2]);let h,m,y;if(l>=o&&l>=f?(m=i[0],h=i[1],y=i[2]):f>=l&&f>=o?(m=i[1],h=i[0],y=i[2]):(m=i[2],h=i[0],y=i[1]),this.crossProductZ(h,m,y)<0){const C=h;h=y,y=C}i[0]=h,i[1]=m,i[2]=y}static distance(i,o){return st.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,l){const f=o.x,h=o.y;return(l.x-f)*(i.y-h)-(l.y-h)*(i.x-f)}}class jn{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class fr extends jn{constructor(i,o,l,f,h){super(i,o),this.compact=l,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Te{constructor(i,o,l,f){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=Te.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),f==null&&(f=i.getHeight()/2|0);const h=o/2|0;if(this.leftInit=l-h,this.rightInit=l+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let i=this.leftInit,o=this.rightInit,l=this.upInit,f=this.downInit,h=!1,m=!0,y=!1,C=!1,N=!1,T=!1,F=!1;const H=this.width,Z=this.height;for(;m;){m=!1;let U=!0;for(;(U||!C)&&o<H;)U=this.containsBlackPoint(l,f,o,!1),U?(o++,m=!0,C=!0):C||o++;if(o>=H){h=!0;break}let G=!0;for(;(G||!N)&&f<Z;)G=this.containsBlackPoint(i,o,f,!0),G?(f++,m=!0,N=!0):N||f++;if(f>=Z){h=!0;break}let X=!0;for(;(X||!T)&&i>=0;)X=this.containsBlackPoint(l,f,i,!1),X?(i--,m=!0,T=!0):T||i--;if(i<0){h=!0;break}let te=!0;for(;(te||!F)&&l>=0;)te=this.containsBlackPoint(i,o,l,!0),te?(l--,m=!0,F=!0):F||l--;if(l<0){h=!0;break}m&&(y=!0)}if(!h&&y){const U=o-i;let G=null;for(let ve=1;G===null&&ve<U;ve++)G=this.getBlackPointOnSegment(i,f-ve,i+ve,f);if(G==null)throw new ee;let X=null;for(let ve=1;X===null&&ve<U;ve++)X=this.getBlackPointOnSegment(i,l+ve,i+ve,l);if(X==null)throw new ee;let te=null;for(let ve=1;te===null&&ve<U;ve++)te=this.getBlackPointOnSegment(o,l+ve,o-ve,l);if(te==null)throw new ee;let pe=null;for(let ve=1;pe===null&&ve<U;ve++)pe=this.getBlackPointOnSegment(o,f-ve,o-ve,f);if(pe==null)throw new ee;return this.centerEdges(pe,G,te,X)}else throw new ee}getBlackPointOnSegment(i,o,l,f){const h=st.round(st.distance(i,o,l,f)),m=(l-i)/h,y=(f-o)/h,C=this.image;for(let N=0;N<h;N++){const T=st.round(i+N*m),F=st.round(o+N*y);if(C.get(T,F))return new Ee(T,F)}return null}centerEdges(i,o,l,f){const h=i.getX(),m=i.getY(),y=o.getX(),C=o.getY(),N=l.getX(),T=l.getY(),F=f.getX(),H=f.getY(),Z=Te.CORR;return h<this.width/2?[new Ee(F-Z,H+Z),new Ee(y+Z,C+Z),new Ee(N-Z,T-Z),new Ee(h+Z,m-Z)]:[new Ee(F+Z,H+Z),new Ee(y+Z,C-Z),new Ee(N-Z,T+Z),new Ee(h-Z,m-Z)]}containsBlackPoint(i,o,l,f){const h=this.image;if(f){for(let m=i;m<=o;m++)if(h.get(m,l))return!0}else for(let m=i;m<=o;m++)if(h.get(l,m))return!0;return!1}}Te.INIT_SIZE=10,Te.CORR=1;class Ve{static checkAndNudgePoints(i,o){const l=i.getWidth(),f=i.getHeight();let h=!0;for(let m=0;m<o.length&&h;m+=2){const y=Math.floor(o[m]),C=Math.floor(o[m+1]);if(y<-1||y>l||C<-1||C>f)throw new ee;h=!1,y===-1?(o[m]=0,h=!0):y===l&&(o[m]=l-1,h=!0),C===-1?(o[m+1]=0,h=!0):C===f&&(o[m+1]=f-1,h=!0)}h=!0;for(let m=o.length-2;m>=0&&h;m-=2){const y=Math.floor(o[m]),C=Math.floor(o[m+1]);if(y<-1||y>l||C<-1||C>f)throw new ee;h=!1,y===-1?(o[m]=0,h=!0):y===l&&(o[m]=l-1,h=!0),C===-1?(o[m+1]=0,h=!0):C===f&&(o[m+1]=f-1,h=!0)}}}class St{constructor(i,o,l,f,h,m,y,C,N){this.a11=i,this.a21=o,this.a31=l,this.a12=f,this.a22=h,this.a32=m,this.a13=y,this.a23=C,this.a33=N}static quadrilateralToQuadrilateral(i,o,l,f,h,m,y,C,N,T,F,H,Z,U,G,X){const te=St.quadrilateralToSquare(i,o,l,f,h,m,y,C);return St.squareToQuadrilateral(N,T,F,H,Z,U,G,X).times(te)}transformPoints(i){const o=i.length,l=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,C=this.a23,N=this.a31,T=this.a32,F=this.a33;for(let H=0;H<o;H+=2){const Z=i[H],U=i[H+1],G=h*Z+C*U+F;i[H]=(l*Z+m*U+N)/G,i[H+1]=(f*Z+y*U+T)/G}}transformPointsWithValues(i,o){const l=this.a11,f=this.a12,h=this.a13,m=this.a21,y=this.a22,C=this.a23,N=this.a31,T=this.a32,F=this.a33,H=i.length;for(let Z=0;Z<H;Z++){const U=i[Z],G=o[Z],X=h*U+C*G+F;i[Z]=(l*U+m*G+N)/X,o[Z]=(f*U+y*G+T)/X}}static squareToQuadrilateral(i,o,l,f,h,m,y,C){const N=i-l+h-y,T=o-f+m-C;if(N===0&&T===0)return new St(l-i,h-l,i,f-o,m-f,o,0,0,1);{const F=l-h,H=y-h,Z=f-m,U=C-m,G=F*U-H*Z,X=(N*U-H*T)/G,te=(F*T-N*Z)/G;return new St(l-i+X*l,y-i+te*y,i,f-o+X*f,C-o+te*C,o,X,te,1)}}static quadrilateralToSquare(i,o,l,f,h,m,y,C){return St.squareToQuadrilateral(i,o,l,f,h,m,y,C).buildAdjoint()}buildAdjoint(){return new St(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new St(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Zt extends Ve{sampleGrid(i,o,l,f,h,m,y,C,N,T,F,H,Z,U,G,X,te,pe,ve){const ye=St.quadrilateralToQuadrilateral(f,h,m,y,C,N,T,F,H,Z,U,G,X,te,pe,ve);return this.sampleGridWithTransform(i,o,l,ye)}sampleGridWithTransform(i,o,l,f){if(o<=0||l<=0)throw new ee;const h=new he(o,l),m=new Float32Array(2*o);for(let y=0;y<l;y++){const C=m.length,N=y+.5;for(let T=0;T<C;T+=2)m[T]=T/2+.5,m[T+1]=N;f.transformPoints(m),Ve.checkAndNudgePoints(i,m);try{for(let T=0;T<C;T+=2)i.get(Math.floor(m[T]),Math.floor(m[T+1]))&&h.set(T/2,y)}catch{throw new ee}}return h}}class Wt{static setGridSampler(i){Wt.gridSampler=i}static getInstance(){return Wt.gridSampler}}Wt.gridSampler=new Zt;class sn{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new Ee(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ii{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(i){let m=l[0];l[0]=l[2],l[2]=m}this.extractParameters(l);let f=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),h=this.getMatrixCornerPoints(l);return new fr(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new ee;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(l,o);let f=0;for(let m=0;m<4;m++){let y=l[(this.shift+m)%4];this.compact?(f<<=7,f+=y>>1&127):(f<<=10,f+=(y>>2&992)+(y>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(i,o){let l=0;i.forEach((f,h,m)=>{let y=(f>>o-2<<1)+(f&1);l=(l<<3)+y}),l=((l&1)<<11)+(l>>1);for(let f=0;f<4;f++)if(O.bitCount(l^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new ee}getCorrectedParameterData(i,o){let l,f;o?(l=7,f=2):(l=10,f=4);let h=l-f,m=new Int32Array(l);for(let C=l-1;C>=0;--C)m[C]=i&15,i>>=4;try{new Ci(et.AZTEC_PARAM).decode(m,h)}catch{throw new ee}let y=0;for(let C=0;C<f;C++)y=(y<<4)+m[C];return y}getBullsEyeCorners(i){let o=i,l=i,f=i,h=i,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(o,m,1,-1),H=this.getFirstDifferent(l,m,1,1),Z=this.getFirstDifferent(f,m,-1,1),U=this.getFirstDifferent(h,m,-1,-1);if(this.nbCenterLayers>2){let G=this.distancePoint(U,F)*this.nbCenterLayers/(this.distancePoint(h,o)*(this.nbCenterLayers+2));if(G<.75||G>1.25||!this.isWhiteOrBlackRectangle(F,H,Z,U))break}o=F,l=H,f=Z,h=U,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let y=new Ee(o.getX()+.5,o.getY()-.5),C=new Ee(l.getX()+.5,l.getY()+.5),N=new Ee(f.getX()-.5,f.getY()+.5),T=new Ee(h.getX()-.5,h.getY()-.5);return this.expandSquare([y,C,N,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,l,f;try{let y=new Te(this.image).detect();i=y[0],o=y[1],l=y[2],f=y[3]}catch{let C=this.image.getWidth()/2,N=this.image.getHeight()/2;i=this.getFirstDifferent(new sn(C+7,N-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new sn(C+7,N+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new sn(C-7,N+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new sn(C-7,N-7),!1,-1,-1).toResultPoint()}let h=st.round((i.getX()+f.getX()+o.getX()+l.getX())/4),m=st.round((i.getY()+f.getY()+o.getY()+l.getY())/4);try{let y=new Te(this.image,15,h,m).detect();i=y[0],o=y[1],l=y[2],f=y[3]}catch{i=this.getFirstDifferent(new sn(h+7,m-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new sn(h+7,m+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new sn(h-7,m+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new sn(h-7,m-7),!1,-1,-1).toResultPoint()}return h=st.round((i.getX()+f.getX()+o.getX()+l.getX())/4),m=st.round((i.getY()+f.getY()+o.getY()+l.getY())/4),new sn(h,m)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,l,f,h){let m=Wt.getInstance(),y=this.getDimension(),C=y/2-this.nbCenterLayers,N=y/2+this.nbCenterLayers;return m.sampleGrid(i,y,y,C,C,N,C,N,N,C,N,o.getX(),o.getY(),l.getX(),l.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(i,o,l){let f=0,h=this.distanceResultPoint(i,o),m=h/l,y=i.getX(),C=i.getY(),N=m*(o.getX()-i.getX())/h,T=m*(o.getY()-i.getY())/h;for(let F=0;F<l;F++)this.image.get(st.round(y+F*N),st.round(C+F*T))&&(f|=1<<l-F-1);return f}isWhiteOrBlackRectangle(i,o,l,f){let h=3;i=new sn(i.getX()-h,i.getY()+h),o=new sn(o.getX()-h,o.getY()-h),l=new sn(l.getX()+h,l.getY()-h),f=new sn(f.getX()+h,f.getY()+h);let m=this.getColor(f,i);if(m===0)return!1;let y=this.getColor(i,o);return y!==m||(y=this.getColor(o,l),y!==m)?!1:(y=this.getColor(l,f),y===m)}getColor(i,o){let l=this.distancePoint(i,o),f=(o.getX()-i.getX())/l,h=(o.getY()-i.getY())/l,m=0,y=i.getX(),C=i.getY(),N=this.image.get(i.getX(),i.getY()),T=Math.ceil(l);for(let H=0;H<T;H++)y+=f,C+=h,this.image.get(st.round(y),st.round(C))!==N&&m++;let F=m/l;return F>.1&&F<.9?0:F<=.1===N?1:-1}getFirstDifferent(i,o,l,f){let h=i.getX()+l,m=i.getY()+f;for(;this.isValid(h,m)&&this.image.get(h,m)===o;)h+=l,m+=f;for(h-=l,m-=f;this.isValid(h,m)&&this.image.get(h,m)===o;)h+=l;for(h-=l;this.isValid(h,m)&&this.image.get(h,m)===o;)m+=f;return m-=f,new sn(h,m)}expandSquare(i,o,l){let f=l/(2*o),h=i[0].getX()-i[2].getX(),m=i[0].getY()-i[2].getY(),y=(i[0].getX()+i[2].getX())/2,C=(i[0].getY()+i[2].getY())/2,N=new Ee(y+f*h,C+f*m),T=new Ee(y-f*h,C-f*m);h=i[1].getX()-i[3].getX(),m=i[1].getY()-i[3].getY(),y=(i[1].getX()+i[3].getX())/2,C=(i[1].getY()+i[3].getY())/2;let F=new Ee(y+f*h,C+f*m),H=new Ee(y-f*h,C-f*m);return[N,F,T,H]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=st.round(i.getX()),l=st.round(i.getY());return this.isValid(o,l)}distancePoint(i,o){return st.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return st.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class Ei{decode(i,o=null){let l=null,f=new ii(i.getBlackMatrix()),h=null,m=null;try{let T=f.detectMirror(!1);h=T.getPoints(),this.reportFoundResultPoints(o,h),m=new Et().decode(T)}catch(T){l=T}if(m==null)try{let T=f.detectMirror(!0);h=T.getPoints(),this.reportFoundResultPoints(o,h),m=new Et().decode(T)}catch(T){throw l??T}let y=new vt(m.getText(),m.getRawBytes(),m.getNumBits(),h,De.AZTEC,R.currentTimeMillis()),C=m.getByteSegments();C!=null&&y.putMetadata(yt.BYTE_SEGMENTS,C);let N=m.getECLevel();return N!=null&&y.putMetadata(yt.ERROR_CORRECTION_LEVEL,N),y}reportFoundResultPoints(i,o){if(i!=null){let l=i.get(z.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((f,h,m)=>{l.foundPossibleResultPoint(f)})}}reset(){}}class js extends Rn{constructor(i=500){super(new Ei,i)}}class Qt{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(z.TRY_HARDER)===!0&&i.isRotateSupported()){const h=i.rotateCounterClockwise(),m=this.doDecode(h,o),y=m.getResultMetadata();let C=270;y!==null&&y.get(yt.ORIENTATION)===!0&&(C=C+y.get(yt.ORIENTATION)%360),m.putMetadata(yt.ORIENTATION,C);const N=m.getResultPoints();if(N!==null){const T=h.getHeight();for(let F=0;F<N.length;F++)N[F]=new Ee(T-N[F].getY()-1,N[F].getX())}return m}else throw new ee}}reset(){}doDecode(i,o){const l=i.getWidth(),f=i.getHeight();let h=new q(l);const m=o&&o.get(z.TRY_HARDER)===!0,y=Math.max(1,f>>(m?8:5));let C;m?C=f:C=15;const N=Math.trunc(f/2);for(let T=0;T<C;T++){const F=Math.trunc((T+1)/2),H=(T&1)===0,Z=N+y*(H?F:-F);if(Z<0||Z>=f)break;try{h=i.getBlackRow(Z,h)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(h.reverse(),o&&o.get(z.NEED_RESULT_POINT_CALLBACK)===!0)){const G=new Map;o.forEach((X,te)=>G.set(te,X)),G.delete(z.NEED_RESULT_POINT_CALLBACK),o=G}try{const G=this.decodeRow(Z,h,o);if(U===1){G.putMetadata(yt.ORIENTATION,180);const X=G.getResultPoints();X!==null&&(X[0]=new Ee(l-X[0].getX()-1,X[0].getY()),X[1]=new Ee(l-X[1].getX()-1,X[1].getY()))}return G}catch{}}}throw new ee}static recordPattern(i,o,l){const f=l.length;for(let N=0;N<f;N++)l[N]=0;const h=i.getSize();if(o>=h)throw new ee;let m=!i.get(o),y=0,C=o;for(;C<h;){if(i.get(C)!==m)l[y]++;else{if(++y===f)break;l[y]=1,m=!m}C++}if(!(y===f||y===f-1&&C===h))throw new ee}static recordPatternInReverse(i,o,l){let f=l.length,h=i.get(o);for(;o>0&&f>=0;)i.get(--o)!==h&&(f--,h=!h);if(f>=0)throw new ee;Qt.recordPattern(i,o+1,l)}static patternMatchVariance(i,o,l){const f=i.length;let h=0,m=0;for(let N=0;N<f;N++)h+=i[N],m+=o[N];if(h<m)return Number.POSITIVE_INFINITY;const y=h/m;l*=y;let C=0;for(let N=0;N<f;N++){const T=i[N],F=o[N]*y,H=T>F?T-F:F-T;if(H>l)return Number.POSITIVE_INFINITY;C+=H}return C/h}}class Ae extends Qt{static findStartPattern(i){const o=i.getSize(),l=i.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),m=l,y=!1;const C=6;for(let N=l;N<o;N++)if(i.get(N)!==y)h[f]++;else{if(f===C-1){let T=Ae.MAX_AVG_VARIANCE,F=-1;for(let H=Ae.CODE_START_A;H<=Ae.CODE_START_C;H++){const Z=Qt.patternMatchVariance(h,Ae.CODE_PATTERNS[H],Ae.MAX_INDIVIDUAL_VARIANCE);Z<T&&(T=Z,F=H)}if(F>=0&&i.isRange(Math.max(0,m-(N-m)/2),m,!1))return Int32Array.from([m,N,F]);m+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,y=!y}throw new ee}static decodeCode(i,o,l){Qt.recordPattern(i,l,o);let f=Ae.MAX_AVG_VARIANCE,h=-1;for(let m=0;m<Ae.CODE_PATTERNS.length;m++){const y=Ae.CODE_PATTERNS[m],C=this.patternMatchVariance(o,y,Ae.MAX_INDIVIDUAL_VARIANCE);C<f&&(f=C,h=m)}if(h>=0)return h;throw new ee}decodeRow(i,o,l){const f=l&&l.get(z.ASSUME_GS1)===!0,h=Ae.findStartPattern(o),m=h[2];let y=0;const C=new Uint8Array(20);C[y++]=m;let N;switch(m){case Ae.CODE_START_A:N=Ae.CODE_CODE_A;break;case Ae.CODE_START_B:N=Ae.CODE_CODE_B;break;case Ae.CODE_START_C:N=Ae.CODE_CODE_C;break;default:throw new P}let T=!1,F=!1,H="",Z=h[0],U=h[1];const G=Int32Array.from([0,0,0,0,0,0]);let X=0,te=0,pe=m,ve=0,ye=!0,Ue=!1,rt=!1;for(;!T;){const bt=F;switch(F=!1,X=te,te=Ae.decodeCode(o,G,U),C[y++]=te,te!==Ae.CODE_STOP&&(ye=!0),te!==Ae.CODE_STOP&&(ve++,pe+=ve*te),Z=U,U+=G.reduce((vp,qd)=>vp+qd,0),te){case Ae.CODE_START_A:case Ae.CODE_START_B:case Ae.CODE_START_C:throw new P}switch(N){case Ae.CODE_CODE_A:if(te<64)rt===Ue?H+=String.fromCharCode(" ".charCodeAt(0)+te):H+=String.fromCharCode(" ".charCodeAt(0)+te+128),rt=!1;else if(te<96)rt===Ue?H+=String.fromCharCode(te-64):H+=String.fromCharCode(te+64),rt=!1;else switch(te!==Ae.CODE_STOP&&(ye=!1),te){case Ae.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Ae.CODE_FNC_2:case Ae.CODE_FNC_3:break;case Ae.CODE_FNC_4_A:!Ue&&rt?(Ue=!0,rt=!1):Ue&&rt?(Ue=!1,rt=!1):rt=!0;break;case Ae.CODE_SHIFT:F=!0,N=Ae.CODE_CODE_B;break;case Ae.CODE_CODE_B:N=Ae.CODE_CODE_B;break;case Ae.CODE_CODE_C:N=Ae.CODE_CODE_C;break;case Ae.CODE_STOP:T=!0;break}break;case Ae.CODE_CODE_B:if(te<96)rt===Ue?H+=String.fromCharCode(" ".charCodeAt(0)+te):H+=String.fromCharCode(" ".charCodeAt(0)+te+128),rt=!1;else switch(te!==Ae.CODE_STOP&&(ye=!1),te){case Ae.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Ae.CODE_FNC_2:case Ae.CODE_FNC_3:break;case Ae.CODE_FNC_4_B:!Ue&&rt?(Ue=!0,rt=!1):Ue&&rt?(Ue=!1,rt=!1):rt=!0;break;case Ae.CODE_SHIFT:F=!0,N=Ae.CODE_CODE_A;break;case Ae.CODE_CODE_A:N=Ae.CODE_CODE_A;break;case Ae.CODE_CODE_C:N=Ae.CODE_CODE_C;break;case Ae.CODE_STOP:T=!0;break}break;case Ae.CODE_CODE_C:if(te<100)te<10&&(H+="0"),H+=te;else switch(te!==Ae.CODE_STOP&&(ye=!1),te){case Ae.CODE_FNC_1:f&&(H.length===0?H+="]C1":H+=String.fromCharCode(29));break;case Ae.CODE_CODE_A:N=Ae.CODE_CODE_A;break;case Ae.CODE_CODE_B:N=Ae.CODE_CODE_B;break;case Ae.CODE_STOP:T=!0;break}break}bt&&(N=N===Ae.CODE_CODE_A?Ae.CODE_CODE_B:Ae.CODE_CODE_A)}const Er=U-Z;if(U=o.getNextUnset(U),!o.isRange(U,Math.min(o.getSize(),U+(U-Z)/2),!1))throw new ee;if(pe-=ve*X,pe%103!==X)throw new k;const fn=H.length;if(fn===0)throw new ee;fn>0&&ye&&(N===Ae.CODE_CODE_C?H=H.substring(0,fn-2):H=H.substring(0,fn-1));const Zn=(h[1]+h[0])/2,Yt=Z+Er/2,hn=C.length,sr=new Uint8Array(hn);for(let bt=0;bt<hn;bt++)sr[bt]=C[bt];const Qi=[new Ee(Zn,i),new Ee(Yt,i)];return new vt(H,sr,0,Qi,De.CODE_128,new Date().getTime())}}Ae.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ae.MAX_AVG_VARIANCE=.25,Ae.MAX_INDIVIDUAL_VARIANCE=.7,Ae.CODE_SHIFT=98,Ae.CODE_CODE_C=99,Ae.CODE_CODE_B=100,Ae.CODE_CODE_A=101,Ae.CODE_FNC_1=102,Ae.CODE_FNC_2=97,Ae.CODE_FNC_3=96,Ae.CODE_FNC_4_A=101,Ae.CODE_FNC_4_B=100,Ae.CODE_START_A=103,Ae.CODE_START_B=104,Ae.CODE_START_C=105,Ae.CODE_STOP=106;class Jt extends Qt{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,l){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=Jt.findAsteriskPattern(o,f),m=o.getNextSet(h[1]),y=o.getSize(),C,N;do{Jt.recordPattern(o,m,f);let G=Jt.toNarrowWidePattern(f);if(G<0)throw new ee;C=Jt.patternToChar(G),this.decodeRowResult+=C,N=m;for(let X of f)m+=X;m=o.getNextSet(m)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let G of f)T+=G;let F=m-N-T;if(m!==y&&F*2<T)throw new ee;if(this.usingCheckDigit){let G=this.decodeRowResult.length-1,X=0;for(let te=0;te<G;te++)X+=Jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt(G)!==Jt.ALPHABET_STRING.charAt(X%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,G)}if(this.decodeRowResult.length===0)throw new ee;let H;this.extendedMode?H=Jt.decodeExtended(this.decodeRowResult):H=this.decodeRowResult;let Z=(h[1]+h[0])/2,U=N+T/2;return new vt(H,null,0,[new Ee(Z,i),new Ee(U,i)],De.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let l=i.getSize(),f=i.getNextSet(0),h=0,m=f,y=!1,C=o.length;for(let N=f;N<l;N++)if(i.get(N)!==y)o[h]++;else{if(h===C-1){if(this.toNarrowWidePattern(o)===Jt.ASTERISK_ENCODING&&i.isRange(Math.max(0,m-Math.floor((N-m)/2)),m,!1))return[m,N];m+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,y=!y}throw new ee}static toNarrowWidePattern(i){let o=i.length,l=0,f;do{let h=2147483647;for(let C of i)C<h&&C>l&&(h=C);l=h,f=0;let m=0,y=0;for(let C=0;C<o;C++){let N=i[C];N>l&&(y|=1<<o-1-C,f++,m+=N)}if(f===3){for(let C=0;C<o&&f>0;C++){let N=i[C];if(N>l&&(f--,N*2>=m))return-1}return y}}while(f>3);return-1}static patternToChar(i){for(let o=0;o<Jt.CHARACTER_ENCODINGS.length;o++)if(Jt.CHARACTER_ENCODINGS[o]===i)return Jt.ALPHABET_STRING.charAt(o);if(i===Jt.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(i){let o=i.length,l="";for(let f=0;f<o;f++){let h=i.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let m=i.charAt(f+1),y="\0";switch(h){case"+":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)+32);else throw new P;break;case"$":if(m>="A"&&m<="Z")y=String.fromCharCode(m.charCodeAt(0)-64);else throw new P;break;case"%":if(m>="A"&&m<="E")y=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")y=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")y=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")y="\0";else if(m==="V")y="@";else if(m==="W")y="`";else if(m==="X"||m==="Y"||m==="Z")y="";else throw new P;break;case"/":if(m>="A"&&m<="O")y=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")y=":";else throw new P;break}l+=y,f++}else l+=h}return l}}Jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Jt.ASTERISK_ENCODING=148;class Nt extends Qt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,l){let f=this.decodeStart(o),h=this.decodeEnd(o),m=new ie;Nt.decodeMiddle(o,f[1],h[0],m);let y=m.toString(),C=null;l!=null&&(C=l.get(z.ALLOWED_LENGTHS)),C==null&&(C=Nt.DEFAULT_ALLOWED_LENGTHS);let N=y.length,T=!1,F=0;for(let U of C){if(N===U){T=!0;break}U>F&&(F=U)}if(!T&&N>F&&(T=!0),!T)throw new P;const H=[new Ee(f[1],i),new Ee(h[0],i)];return new vt(y,null,0,H,De.ITF,new Date().getTime())}static decodeMiddle(i,o,l,f){let h=new Int32Array(10),m=new Int32Array(5),y=new Int32Array(5);for(h.fill(0),m.fill(0),y.fill(0);o<l;){Qt.recordPattern(i,o,h);for(let N=0;N<5;N++){let T=2*N;m[N]=h[T],y[N]=h[T+1]}let C=Nt.decodeDigit(m);f.append(C.toString()),C=this.decodeDigit(y),f.append(C.toString()),h.forEach(function(N){o+=N})}}decodeStart(i){let o=Nt.skipWhiteSpace(i),l=Nt.findGuardPattern(i,o,Nt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let f=o-1;l>0&&f>=0&&!i.get(f);f--)l--;if(l!==0)throw new ee}static skipWhiteSpace(i){const o=i.getSize(),l=i.getNextSet(0);if(l===o)throw new ee;return l}decodeEnd(i){i.reverse();try{let o=Nt.skipWhiteSpace(i),l;try{l=Nt.findGuardPattern(i,o,Nt.END_PATTERN_REVERSED[0])}catch(h){h instanceof ee&&(l=Nt.findGuardPattern(i,o,Nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let f=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-f,l}finally{i.reverse()}}static findGuardPattern(i,o,l){let f=l.length,h=new Int32Array(f),m=i.getSize(),y=!1,C=0,N=o;h.fill(0);for(let T=o;T<m;T++)if(i.get(T)!==y)h[C]++;else{if(C===f-1){if(Qt.patternMatchVariance(h,l,Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return[N,T];N+=h[0]+h[1],R.arraycopy(h,2,h,0,C-1),h[C-1]=0,h[C]=0,C--}else C++;h[C]=1,y=!y}throw new ee}static decodeDigit(i){let o=Nt.MAX_AVG_VARIANCE,l=-1,f=Nt.PATTERNS.length;for(let h=0;h<f;h++){let m=Nt.PATTERNS[h],y=Qt.patternMatchVariance(i,m,Nt.MAX_INDIVIDUAL_VARIANCE);y<o?(o=y,l=h):y===o&&(l=-1)}if(l>=0)return l%10;throw new ee}}Nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Nt.MAX_AVG_VARIANCE=.38,Nt.MAX_INDIVIDUAL_VARIANCE=.5,Nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Nt.START_PATTERN=Int32Array.from([1,1,1,1]),Nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ft extends Qt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,l,f=0,h=Int32Array.from([0,0,0]);for(;!o;){h=Int32Array.from([0,0,0]),l=Ft.findGuardPattern(i,f,!1,this.START_END_PATTERN,h);let m=l[0];f=l[1];let y=m-(f-m);y>=0&&(o=i.isRange(y,m,!1))}return l}static checkChecksum(i){return Ft.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return Ft.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let f=o-1;f>=0;f-=2){let h=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new P;l+=h}l*=3;for(let f=o-2;f>=0;f-=2){let h=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new P;l+=h}return(1e3-l)%10}static decodeEnd(i,o){return Ft.findGuardPattern(i,o,!1,Ft.START_END_PATTERN,new Int32Array(Ft.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,l,f){return this.findGuardPattern(i,o,l,f,new Int32Array(f.length))}static findGuardPattern(i,o,l,f,h){let m=i.getSize();o=l?i.getNextUnset(o):i.getNextSet(o);let y=0,C=o,N=f.length,T=l;for(let F=o;F<m;F++)if(i.get(F)!==T)h[y]++;else{if(y===N-1){if(Qt.patternMatchVariance(h,f,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return Int32Array.from([C,F]);C+=h[0]+h[1];let H=h.slice(2,h.length-1);for(let Z=0;Z<y-1;Z++)h[Z]=H[Z];h[y-1]=0,h[y]=0,y--}else y++;h[y]=1,T=!T}throw new ee}static decodeDigit(i,o,l,f){this.recordPattern(i,l,o);let h=this.MAX_AVG_VARIANCE,m=-1,y=f.length;for(let C=0;C<y;C++){let N=f[C],T=Qt.patternMatchVariance(o,N,Ft.MAX_INDIVIDUAL_VARIANCE);T<h&&(h=T,m=C)}if(m>=0)return m;throw new ee}}Ft.MAX_AVG_VARIANCE=.48,Ft.MAX_INDIVIDUAL_VARIANCE=.7,Ft.START_END_PATTERN=Int32Array.from([1,1,1]),Ft.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ft.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ft.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Gi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,l,f),m=f.toString(),y=Gi.parseExtensionString(m),C=[new Ee((l[0]+l[1])/2,i),new Ee(h,i)],N=new vt(m,null,0,C,De.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&N.putAllMetadata(y),N}decodeMiddle(i,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=i.getSize(),m=o[1],y=0;for(let N=0;N<5&&m<h;N++){let T=Ft.decodeDigit(i,f,m,Ft.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<4-N),N!==4&&(m=i.getNextSet(m),m=i.getNextUnset(m))}if(l.length!==5)throw new ee;let C=this.determineCheckDigit(y);if(Gi.extensionChecksum(l.toString())!==C)throw new ee;return m}static extensionChecksum(i){let o=i.length,l=0;for(let f=o-2;f>=0;f-=2)l+=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let f=o-1;f>=0;f-=2)l+=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ee}static parseExtensionString(i){if(i.length!==5)return null;let o=Gi.parseExtension5String(i);return o==null?null:new Map([[yt.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(i.substring(1)),f=(l/100).toString(),h=l%100,m=h<10?"0"+h:h.toString();return o+f+"."+m}}class go{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,l,f),m=f.toString(),y=go.parseExtensionString(m),C=[new Ee((l[0]+l[1])/2,i),new Ee(h,i)],N=new vt(m,null,0,C,De.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&N.putAllMetadata(y),N}decodeMiddle(i,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=i.getSize(),m=o[1],y=0;for(let C=0;C<2&&m<h;C++){let N=Ft.decodeDigit(i,f,m,Ft.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+N%10);for(let T of f)m+=T;N>=10&&(y|=1<<1-C),C!==1&&(m=i.getNextSet(m),m=i.getNextUnset(m))}if(l.length!==2)throw new ee;if(parseInt(l.toString())%4!==y)throw new ee;return m}static parseExtensionString(i){return i.length!==2?null:new Map([[yt.ISSUE_NUMBER,parseInt(i)]])}}class Ad{static decodeRow(i,o,l){let f=Ft.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Gi().decodeRow(i,o,f)}catch{return new go().decodeRow(i,o,f)}}}Ad.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class At extends Ft{constructor(){super(),this.decodeRowStringBuffer="",At.L_AND_G_PATTERNS=At.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=At.L_PATTERNS[i-10],l=new Int32Array(o.length);for(let f=0;f<o.length;f++)l[f]=o[o.length-f-1];At.L_AND_G_PATTERNS[i]=l}}decodeRow(i,o,l){let f=At.findStartGuardPattern(o),h=l==null?null:l.get(z.NEED_RESULT_POINT_CALLBACK);if(h!=null){const ye=new Ee((f[0]+f[1])/2,i);h.foundPossibleResultPoint(ye)}let m=this.decodeMiddle(o,f,this.decodeRowStringBuffer),y=m.rowOffset,C=m.resultString;if(h!=null){const ye=new Ee(y,i);h.foundPossibleResultPoint(ye)}let N=this.decodeEnd(o,y);if(h!=null){const ye=new Ee((N[0]+N[1])/2,i);h.foundPossibleResultPoint(ye)}let T=N[1],F=T+(T-N[0]);if(F>=o.getSize()||!o.isRange(T,F,!1))throw new ee;let H=C.toString();if(H.length<8)throw new P;if(!At.checkChecksum(H))throw new k;let Z=(f[1]+f[0])/2,U=(N[1]+N[0])/2,G=this.getBarcodeFormat(),X=[new Ee(Z,i),new Ee(U,i)],te=new vt(H,null,0,X,G,new Date().getTime()),pe=0;try{let ye=Ad.decodeRow(i,o,N[1]);te.putMetadata(yt.UPC_EAN_EXTENSION,ye.getText()),te.putAllMetadata(ye.getResultMetadata()),te.addResultPoints(ye.getResultPoints()),pe=ye.getText().length}catch{}let ve=l==null?null:l.get(z.ALLOWED_EAN_EXTENSIONS);if(ve!=null){let ye=!1;for(let Ue in ve)if(pe.toString()===Ue){ye=!0;break}if(!ye)throw new ee}return te}decodeEnd(i,o){return At.findGuardPattern(i,o,!1,At.START_END_PATTERN,new Int32Array(At.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return At.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return At.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let f=o-1;f>=0;f-=2){let h=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new P;l+=h}l*=3;for(let f=o-2;f>=0;f-=2){let h=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);if(h<0||h>9)throw new P;l+=h}return(1e3-l)%10}}class hs extends At{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=i.getSize(),m=o[1],y=0;for(let N=0;N<6&&m<h;N++){let T=At.decodeDigit(i,f,m,At.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<5-N)}l=hs.determineFirstDigit(l,y),m=At.findGuardPattern(i,m,!0,At.MIDDLE_PATTERN,new Int32Array(At.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&m<h;N++){let T=At.decodeDigit(i,f,m,At.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+T);for(let F of f)m+=F}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return De.EAN_13}static determineFirstDigit(i,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode("0".charCodeAt(0)+l)+i,i;throw new ee}}hs.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Td extends At{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=i.getSize(),m=o[1];for(let C=0;C<4&&m<h;C++){let N=At.decodeDigit(i,f,m,At.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+N);for(let T of f)m+=T}m=At.findGuardPattern(i,m,!0,At.MIDDLE_PATTERN,new Int32Array(At.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&m<h;C++){let N=At.decodeDigit(i,f,m,At.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+N);for(let T of f)m+=T}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return De.EAN_8}}class kd extends At{constructor(){super(...arguments),this.ean13Reader=new hs}getBarcodeFormat(){return De.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,l))}decodeMiddle(i,o,l){return this.ean13Reader.decodeMiddle(i,o,l)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let l=new vt(o.substring(1),null,null,i.getResultPoints(),De.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new ee}reset(){this.ean13Reader.reset()}}class si extends At{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,l){const f=this.decodeMiddleCounters.map(N=>N);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=i.getSize();let m=o[1],y=0;for(let N=0;N<6&&m<h;N++){const T=si.decodeDigit(i,f,m,si.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+T%10);for(let F of f)m+=F;T>=10&&(y|=1<<5-N)}let C=si.determineNumSysAndCheckDigit(l,y);return{rowOffset:m,resultString:C}}decodeEnd(i,o){return si.findGuardPatternWithoutCounters(i,o,!0,si.MIDDLE_END_PATTERN)}checkChecksum(i){return At.checkChecksum(si.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let l=0;l<=1;l++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][f]){let h=String.fromCharCode("0".charCodeAt(0)+l),m=String.fromCharCode("0".charCodeAt(0)+f);return h+i+m}throw ee.getNotFoundInstance()}getBarcodeFormat(){return De.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(h=>h.charCodeAt(0)),l=new ie;l.append(i.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(f),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(f);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}si.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),si.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class jc extends Qt{constructor(i){super();let o=i==null?null:i.get(z.POSSIBLE_FORMATS),l=[];r(o)?(l.push(new hs),l.push(new kd),l.push(new Td),l.push(new si)):(o.indexOf(De.EAN_13)>-1&&l.push(new hs),o.indexOf(De.UPC_A)>-1&&l.push(new kd),o.indexOf(De.EAN_8)>-1&&l.push(new Td),o.indexOf(De.UPC_E)>-1&&l.push(new si)),this.readers=l}decodeRow(i,o,l){for(let f of this.readers)try{const h=f.decodeRow(i,o,l),m=h.getBarcodeFormat()===De.EAN_13&&h.getText().charAt(0)==="0",y=l==null?null:l.get(z.POSSIBLE_FORMATS),C=y==null||y.includes(De.UPC_A);if(m&&C){const N=h.getRawBytes(),T=new vt(h.getText().substring(1),N,N?N.length:null,h.getResultPoints(),De.UPC_A);return T.putAllMetadata(h.getResultMetadata()),T}return h}catch{}throw new ee}reset(){for(let i of this.readers)i.reset()}}class Xn extends Qt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let l=0;l<o.length;l++)if(Qt.patternMatchVariance(i,o[l],Xn.MAX_INDIVIDUAL_VARIANCE)<Xn.MAX_AVG_VARIANCE)return l;throw new ee}static count(i){return st.sum(new Int32Array(i))}static increment(i,o){let l=0,f=o[0];for(let h=1;h<i.length;h++)o[h]>f&&(f=o[h],l=h);i[l]++}static decrement(i,o){let l=0,f=o[0];for(let h=1;h<i.length;h++)o[h]<f&&(f=o[h],l=h);i[l]--}static isFinderPattern(i){let o=i[0]+i[1],l=o+i[2]+i[3],f=o/l;if(f>=Xn.MIN_FINDER_PATTERN_RATIO&&f<=Xn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let y of i)y>m&&(m=y),y<h&&(h=y);return m<10*h}return!1}}Xn.MAX_AVG_VARIANCE=.2,Xn.MAX_INDIVIDUAL_VARIANCE=.45,Xn.MIN_FINDER_PATTERN_RATIO=9.5/12,Xn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ba{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof ba))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ml{constructor(i,o,l,f,h){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ee(l,h)),this.resultPoints.push(new Ee(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof ml))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class Ni{constructor(){}static getRSSvalue(i,o,l){let f=0;for(let C of i)f+=C;let h=0,m=0,y=i.length;for(let C=0;C<y-1;C++){let N;for(N=1,m|=1<<C;N<i[C];N++,m&=~(1<<C)){let T=Ni.combins(f-N-1,y-C-2);if(l&&m===0&&f-N-(y-C-1)>=y-C-1&&(T-=Ni.combins(f-N-(y-C),y-C-2)),y-C-1>1){let F=0;for(let H=f-N-(y-C-2);H>o;H--)F+=Ni.combins(f-N-H-1,y-C-3);T-=F*(y-1-C)}else f-N>o&&T--;h+=T}f-=N}return h}static combins(i,o){let l,f;i-o>o?(f=o,l=i-o):(f=i-o,l=o);let h=1,m=1;for(let y=i;y>l;y--)h*=y,m<=f&&(h/=m,m++);for(;m<=f;)h/=m,m++;return h}}class Mc{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let l=12*o,f=new q(l),h=0,y=i[0].getRightChar().getValue();for(let C=11;C>=0;--C)y&1<<C&&f.set(h),h++;for(let C=1;C<i.length;++C){let N=i[C],T=N.getLeftChar().getValue();for(let F=11;F>=0;--F)T&1<<F&&f.set(h),h++;if(N.getRightChar()!=null){let F=N.getRightChar().getValue();for(let H=11;H>=0;--H)F&1<<H&&f.set(h),h++}}return f}}class Ms{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class xo{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class yr extends xo{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===yr.FNC1}}yr.FNC1="$";class Ls extends xo{constructor(i,o,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Yr extends xo{constructor(i,o,l){if(super(i),o<0||o>10||l<0||l>10)throw new P;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Yr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Yr.FNC1}isAnyFNC1(){return this.firstDigit===Yr.FNC1||this.secondDigit===Yr.FNC1}}Yr.FNC1=10;class Me{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new ee;let o=i.substring(0,2);for(let h of Me.TWO_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(2,h[2],i):Me.processFixedAI(2,h[1],i);if(i.length<3)throw new ee;let l=i.substring(0,3);for(let h of Me.THREE_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(3,h[2],i):Me.processFixedAI(3,h[1],i);for(let h of Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,h[2],i):Me.processFixedAI(4,h[1],i);if(i.length<4)throw new ee;let f=i.substring(0,4);for(let h of Me.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,h[2],i):Me.processFixedAI(4,h[1],i);throw new ee}static processFixedAI(i,o,l){if(l.length<i)throw new ee;let f=l.substring(0,i);if(l.length<i+o)throw new ee;let h=l.substring(i,i+o),m=l.substring(i+o),y="("+f+")"+h,C=Me.parseFieldsInGeneralPurpose(m);return C==null?y:y+C}static processVariableAI(i,o,l){let f=l.substring(0,i),h;l.length<i+o?h=l.length:h=i+o;let m=l.substring(i,h),y=l.substring(h),C="("+f+")"+m,N=Me.parseFieldsInGeneralPurpose(y);return N==null?C:C+N}}Me.VARIABLE_LENGTH=[],Me.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Me.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Me.VARIABLE_LENGTH,20],["22",Me.VARIABLE_LENGTH,29],["30",Me.VARIABLE_LENGTH,8],["37",Me.VARIABLE_LENGTH,8],["90",Me.VARIABLE_LENGTH,30],["91",Me.VARIABLE_LENGTH,30],["92",Me.VARIABLE_LENGTH,30],["93",Me.VARIABLE_LENGTH,30],["94",Me.VARIABLE_LENGTH,30],["95",Me.VARIABLE_LENGTH,30],["96",Me.VARIABLE_LENGTH,30],["97",Me.VARIABLE_LENGTH,3],["98",Me.VARIABLE_LENGTH,30],["99",Me.VARIABLE_LENGTH,30]],Me.THREE_DIGIT_DATA_LENGTH=[["240",Me.VARIABLE_LENGTH,30],["241",Me.VARIABLE_LENGTH,30],["242",Me.VARIABLE_LENGTH,6],["250",Me.VARIABLE_LENGTH,30],["251",Me.VARIABLE_LENGTH,30],["253",Me.VARIABLE_LENGTH,17],["254",Me.VARIABLE_LENGTH,20],["400",Me.VARIABLE_LENGTH,30],["401",Me.VARIABLE_LENGTH,30],["402",17],["403",Me.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Me.VARIABLE_LENGTH,20],["421",Me.VARIABLE_LENGTH,15],["422",3],["423",Me.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Me.VARIABLE_LENGTH,15],["391",Me.VARIABLE_LENGTH,18],["392",Me.VARIABLE_LENGTH,15],["393",Me.VARIABLE_LENGTH,18],["703",Me.VARIABLE_LENGTH,30]],Me.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Me.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Me.VARIABLE_LENGTH,20],["8003",Me.VARIABLE_LENGTH,30],["8004",Me.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Me.VARIABLE_LENGTH,30],["8008",Me.VARIABLE_LENGTH,12],["8018",18],["8020",Me.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Me.VARIABLE_LENGTH,70],["8200",Me.VARIABLE_LENGTH,70]];class Ca{constructor(i){this.buffer=new ie,this.information=i}decodeAllCodes(i,o){let l=o,f=null;do{let h=this.decodeGeneralPurposeField(l,f),m=Me.parseFieldsInGeneralPurpose(h.getNewString());if(m!=null&&i.append(m),h.isRemaining()?f=""+h.getRemainingValue():f=null,l===h.getNewPosition())break;l=h.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(i,4);return h===0?new Yr(this.information.getSize(),Yr.FNC1,Yr.FNC1):new Yr(this.information.getSize(),h-1,Yr.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),l=(o-8)/11,f=(o-8)%11;return new Yr(i+7,l,f)}extractNumericValueFromBitArray(i,o){return Ca.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,l){let f=0;for(let h=0;h<l;++h)i.get(o+h)&&(f|=1<<l-h-1);return f}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ls(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ls(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new Ls(this.current.getPosition(),this.buffer.toString()):o=new Ls(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Ms(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Ls(this.current.getPosition(),this.buffer.toString());return new Ms(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ms(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Ls(this.current.getPosition(),this.buffer.toString());return new Ms(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ms(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Ls(this.current.getPosition(),this.buffer.toString());return new Ms(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ms(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(i,8);return f>=232&&f<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new yr(i+5,yr.FNC1);if(o>=5&&o<15)return new yr(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new yr(i+7,""+(l+1));if(l>=90&&l<116)return new yr(i+7,""+(l+7));let f=this.extractNumericValueFromBitArray(i,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new P}return new yr(i+8,h)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new yr(i+5,yr.FNC1);if(o>=5&&o<15)return new yr(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new yr(i+6,""+(l+33));let f;switch(l){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new En("Decoding invalid alphanumeric value: "+l)}return new yr(i+6,f)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class Lc{constructor(i){this.information=i,this.generalDecoder=new Ca(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class wr extends Lc{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,l)}encodeCompressedGtinWithoutAI(i,o,l){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);h/100===0&&i.append("0"),h/10===0&&i.append("0"),i.append(h)}wr.appendCheckDigit(i,l)}static appendCheckDigit(i,o){let l=0;for(let f=0;f<13;f++){let h=i.charAt(f+o).charCodeAt(0)-"0".charCodeAt(0);l+=f&1?h:3*h}l=10-l%10,l===10&&(l=0),i.append(l)}}wr.GTIN_SIZE=40;class Ea extends wr{constructor(i){super(i)}parseInformation(){let i=new ie;i.append("(01)");let o=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Ea.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,Ea.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,Ea.HEADER_SIZE+44)}}Ea.HEADER_SIZE=1+1+2;class vo extends Lc{constructor(i){super(i)}parseInformation(){let i=new ie;return this.getGeneralDecoder().decodeAllCodes(i,vo.HEADER_SIZE)}}vo.HEADER_SIZE=2+1+2;class gl extends wr{constructor(i){super(i)}encodeCompressedWeight(i,o,l){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(i,f);let h=this.checkWeight(f),m=1e5;for(let y=0;y<5;++y)h/m===0&&i.append("0"),m/=10;i.append(h)}}class _i extends gl{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=_i.HEADER_SIZE+gl.GTIN_SIZE+_i.WEIGHT_SIZE)throw new ee;let i=new ie;return this.encodeCompressedGtin(i,_i.HEADER_SIZE),this.encodeCompressedWeight(i,_i.HEADER_SIZE+gl.GTIN_SIZE,_i.WEIGHT_SIZE),i.toString()}}_i.HEADER_SIZE=4+1,_i.WEIGHT_SIZE=15;class op extends _i{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class lp extends _i{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Si extends wr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Si.HEADER_SIZE+wr.GTIN_SIZE)throw new ee;let i=new ie;this.encodeCompressedGtin(i,Si.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Si.HEADER_SIZE+wr.GTIN_SIZE,Si.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Si.HEADER_SIZE+wr.GTIN_SIZE+Si.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}Si.HEADER_SIZE=5+1+2,Si.LAST_DIGIT_SIZE=2;class hr extends wr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<hr.HEADER_SIZE+wr.GTIN_SIZE)throw new ee;let i=new ie;this.encodeCompressedGtin(i,hr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(hr.HEADER_SIZE+wr.GTIN_SIZE,hr.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(hr.HEADER_SIZE+wr.GTIN_SIZE+hr.LAST_DIGIT_SIZE,hr.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let f=this.getGeneralDecoder().decodeGeneralPurposeField(hr.HEADER_SIZE+wr.GTIN_SIZE+hr.LAST_DIGIT_SIZE+hr.FIRST_THREE_DIGITS_SIZE,null);return i.append(f.getNewString()),i.toString()}}hr.HEADER_SIZE=5+1+2,hr.LAST_DIGIT_SIZE=2,hr.FIRST_THREE_DIGITS_SIZE=10;class Ht extends gl{constructor(i,o,l){super(i),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Ht.HEADER_SIZE+Ht.GTIN_SIZE+Ht.WEIGHT_SIZE+Ht.DATE_SIZE)throw new ee;let i=new ie;return this.encodeCompressedGtin(i,Ht.HEADER_SIZE),this.encodeCompressedWeight(i,Ht.HEADER_SIZE+Ht.GTIN_SIZE,Ht.WEIGHT_SIZE),this.encodeCompressedDate(i,Ht.HEADER_SIZE+Ht.GTIN_SIZE+Ht.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Ht.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let f=l%32;l/=32;let h=l%12+1;l/=12;let m=l;m/10==0&&i.append("0"),i.append(m),h/10==0&&i.append("0"),i.append(h),f/10==0&&i.append("0"),i.append(f)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}Ht.HEADER_SIZE=7+1,Ht.WEIGHT_SIZE=20,Ht.DATE_SIZE=16;function Dd(M){try{if(M.get(1))return new Ea(M);if(!M.get(2))return new vo(M);switch(Ca.extractNumericValueFromBitArray(M,1,4)){case 4:return new op(M);case 5:return new lp(M)}switch(Ca.extractNumericValueFromBitArray(M,1,5)){case 12:return new Si(M);case 13:return new hr(M)}switch(Ca.extractNumericValueFromBitArray(M,1,7)){case 56:return new Ht(M,"310","11");case 57:return new Ht(M,"320","11");case 58:return new Ht(M,"310","13");case 59:return new Ht(M,"320","13");case 60:return new Ht(M,"310","15");case 61:return new Ht(M,"320","15");case 62:return new Ht(M,"310","17");case 63:return new Ht(M,"320","17")}}catch(i){throw console.log(i),new En("unknown decoder: "+M)}}class ai{constructor(i,o,l,f){this.leftchar=i,this.rightchar=o,this.finderpattern=l,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof ai?ai.equalsOrNull(i.leftchar,o.leftchar)&&ai.equalsOrNull(i.rightchar,o.rightchar)&&ai.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:ai.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Pc{constructor(i,o,l){this.pairs=i,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof Pc?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let l;return i.forEach((f,h)=>{o.forEach(m=>{f.getLeftChar().getValue()===m.getLeftChar().getValue()&&f.getRightChar().getValue()===m.getRightChar().getValue()&&f.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(l=!0)})}),l}}class Ce extends Xn{constructor(i){super(...arguments),this.pairs=new Array(Ce.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,l){this.pairs.length=0,this.startFromEven=!1;try{return Ce.constructResult(this.decodeRow2pairs(i,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,Ce.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(h){if(h instanceof ee){if(!this.pairs.length)throw new ee;l=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(i,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new ee}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let l=o;l<this.rows.length;l++){let f=this.rows[l];this.pairs.length=0;for(let m of i)this.pairs.push(m.getPairs());if(this.pairs.push(f.getPairs()),!Ce.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(i);h.push(f);try{return this.checkRows(h,l+1)}catch(m){this.verbose&&console.log(m)}}throw new ee}static isValidSequence(i){for(let o of Ce.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let l=!0;for(let f=0;f<i.length;f++)if(i[f].getFinderPattern().getValue()!=o[f]){l=!1;break}if(l)return!0}return!1}storeRow(i,o){let l=0,f=!1,h=!1;for(;l<this.rows.length;){let m=this.rows[l];if(m.getRowNumber()>i){h=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),l++}h||f||Ce.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Pc(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let l of o)if(l.getPairs().length!==i.length){for(let f of l.getPairs())for(let h of i)if(ai.equals(f,h))break}}static isPartialRow(i,o){for(let l of o){let f=!0;for(let h of i){let m=!1;for(let y of l.getPairs())if(h.equals(y)){m=!0;break}if(!m){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=Mc.buildBitArray(i),f=Dd(o).parseInformation(),h=i[0].getFinderPattern().getResultPoints(),m=i[i.length-1].getFinderPattern().getResultPoints(),y=[h[0],h[1],m[0],m[1]];return new vt(f,null,null,y,De.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let f=l.getChecksumPortion(),h=2;for(let y=1;y<this.pairs.size();++y){let C=this.pairs.get(y);f+=C.getLeftChar().getChecksumPortion(),h++;let N=C.getRightChar();N!=null&&(f+=N.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==o.getValue()}static getNextSecondBar(i,o){let l;return i.get(o)?(l=i.getNextUnset(o),l=i.getNextSet(l)):(l=i.getNextSet(o),l=i.getNextUnset(l)),l}retrieveNextPair(i,o,l){let f=o.length%2==0;this.startFromEven&&(f=!f);let h,m=!0,y=-1;do this.findNextPair(i,o,y),h=this.parseFoundFinderPattern(i,l,f),h==null?y=Ce.getNextSecondBar(i,this.startEnd[0]):m=!1;while(m);let C=this.decodeDataCharacter(i,h,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ee;let N;try{N=this.decodeDataCharacter(i,h,f,!1)}catch(T){N=null,this.verbose&&console.log(T)}return new ai(C,N,h,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,l){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=i.getSize(),m;l>=0?m=l:this.isEmptyPair(o)?m=0:m=o[o.length-1].getFinderPattern().getStartEnd()[1];let y=o.length%2!=0;this.startFromEven&&(y=!y);let C=!1;for(;m<h&&(C=!i.get(m),!!C);)m++;let N=0,T=m;for(let F=m;F<h;F++)if(i.get(F)!=C)f[N]++;else{if(N==3){if(y&&Ce.reverseCounters(f),Ce.isFinderPattern(f)){this.startEnd[0]=T,this.startEnd[1]=F;return}y&&Ce.reverseCounters(f),T+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,N--}else N++;f[N]=1,C=!C}throw new ee}static reverseCounters(i){let o=i.length;for(let l=0;l<o/2;++l){let f=i[l];i[l]=i[o-l-1],i[o-l-1]=f}}parseFoundFinderPattern(i,o,l){let f,h,m;if(l){let N=this.startEnd[0]-1;for(;N>=0&&!i.get(N);)N--;N++,f=this.startEnd[0]-N,h=N,m=this.startEnd[1]}else h=this.startEnd[0],m=i.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];let y=this.getDecodeFinderCounters();R.arraycopy(y,0,y,1,y.length-1),y[0]=f;let C;try{C=this.parseFinderValue(y,Ce.FINDER_PATTERNS)}catch{return null}return new ml(C,[h,m],h,m,o)}decodeDataCharacter(i,o,l,f){let h=this.getDataCharacterCounters();for(let Yt=0;Yt<h.length;Yt++)h[Yt]=0;if(f)Ce.recordPatternInReverse(i,o.getStartEnd()[0],h);else{Ce.recordPattern(i,o.getStartEnd()[1],h);for(let Yt=0,hn=h.length-1;Yt<hn;Yt++,hn--){let sr=h[Yt];h[Yt]=h[hn],h[hn]=sr}}let m=17,y=st.sum(new Int32Array(h))/m,C=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(y-C)/C>.3)throw new ee;let N=this.getOddCounts(),T=this.getEvenCounts(),F=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let Yt=0;Yt<h.length;Yt++){let hn=1*h[Yt]/y,sr=hn+.5;if(sr<1){if(hn<.3)throw new ee;sr=1}else if(sr>8){if(hn>8.7)throw new ee;sr=8}let Qi=Yt/2;Yt&1?(T[Qi]=sr,H[Qi]=hn-sr):(N[Qi]=sr,F[Qi]=hn-sr)}this.adjustOddEvenCounts(m);let Z=4*o.getValue()+(l?0:2)+(f?0:1)-1,U=0,G=0;for(let Yt=N.length-1;Yt>=0;Yt--){if(Ce.isNotA1left(o,l,f)){let hn=Ce.WEIGHTS[Z][2*Yt];G+=N[Yt]*hn}U+=N[Yt]}let X=0;for(let Yt=T.length-1;Yt>=0;Yt--)if(Ce.isNotA1left(o,l,f)){let hn=Ce.WEIGHTS[Z][2*Yt+1];X+=T[Yt]*hn}let te=G+X;if(U&1||U>13||U<4)throw new ee;let pe=(13-U)/2,ve=Ce.SYMBOL_WIDEST[pe],ye=9-ve,Ue=Ni.getRSSvalue(N,ve,!0),rt=Ni.getRSSvalue(T,ye,!1),Er=Ce.EVEN_TOTAL_SUBSET[pe],fn=Ce.GSUM[pe],Zn=Ue*Er+rt+fn;return new ba(Zn,te)}static isNotA1left(i,o,l){return!(i.getValue()==0&&o&&l)}adjustOddEvenCounts(i){let o=st.sum(new Int32Array(this.getOddCounts())),l=st.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let m=!1,y=!1;l>13?y=!0:l<4&&(m=!0);let C=o+l-i,N=(o&1)==1,T=(l&1)==0;if(C==1)if(N){if(T)throw new ee;h=!0}else{if(!T)throw new ee;y=!0}else if(C==-1)if(N){if(T)throw new ee;f=!0}else{if(!T)throw new ee;m=!0}else if(C==0){if(N){if(!T)throw new ee;o<l?(f=!0,y=!0):(h=!0,m=!0)}else if(T)throw new ee}else throw new ee;if(f){if(h)throw new ee;Ce.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Ce.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new ee;Ce.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Ce.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ce.SYMBOL_WIDEST=[7,5,4,3,1],Ce.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ce.GSUM=[0,348,1388,2948,3988],Ce.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ce.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ce.FINDER_PAT_A=0,Ce.FINDER_PAT_B=1,Ce.FINDER_PAT_C=2,Ce.FINDER_PAT_D=3,Ce.FINDER_PAT_E=4,Ce.FINDER_PAT_F=5,Ce.FINDER_PATTERN_SEQUENCES=[[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_C,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_C],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F]],Ce.MAX_PAIRS=11;class cp extends ba{constructor(i,o,l){super(i,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class an extends Xn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,l){const f=this.decodePair(o,!1,i,l);an.addOrTally(this.possibleLeftPairs,f),o.reverse();let h=this.decodePair(o,!0,i,l);an.addOrTally(this.possibleRightPairs,h),o.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&an.checkChecksum(m,y))return an.constructResult(m,y)}throw new ee}static addOrTally(i,o){if(o==null)return;let l=!1;for(let f of i)if(f.getValue()===o.getValue()){f.incrementCount(),l=!0;break}l||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let l=4537077*i.getValue()+o.getValue(),f=new String(l).toString(),h=new ie;for(let N=13-f.length;N>0;N--)h.append("0");h.append(f);let m=0;for(let N=0;N<13;N++){let T=h.charAt(N).charCodeAt(0)-"0".charCodeAt(0);m+=N&1?T:3*T}m=10-m%10,m===10&&(m=0),h.append(m.toString());let y=i.getFinderPattern().getResultPoints(),C=o.getFinderPattern().getResultPoints();return new vt(h.toString(),null,0,[y[0],y[1],C[0],C[1]],De.RSS_14,new Date().getTime())}static checkChecksum(i,o){let l=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,l===f}decodePair(i,o,l,f){try{let h=this.findFinderPattern(i,o),m=this.parseFoundFinderPattern(i,l,o,h),y=f==null?null:f.get(z.NEED_RESULT_POINT_CALLBACK);if(y!=null){let T=(h[0]+h[1])/2;o&&(T=i.getSize()-1-T),y.foundPossibleResultPoint(new Ee(T,l))}let C=this.decodeDataCharacter(i,m,!0),N=this.decodeDataCharacter(i,m,!1);return new cp(1597*C.getValue()+N.getValue(),C.getChecksumPortion()+4*N.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(i,o,l){let f=this.getDataCharacterCounters();for(let X=0;X<f.length;X++)f[X]=0;if(l)Qt.recordPatternInReverse(i,o.getStartEnd()[0],f);else{Qt.recordPattern(i,o.getStartEnd()[1]+1,f);for(let X=0,te=f.length-1;X<te;X++,te--){let pe=f[X];f[X]=f[te],f[te]=pe}}let h=l?16:15,m=st.sum(new Int32Array(f))/h,y=this.getOddCounts(),C=this.getEvenCounts(),N=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let X=0;X<f.length;X++){let te=f[X]/m,pe=Math.floor(te+.5);pe<1?pe=1:pe>8&&(pe=8);let ve=Math.floor(X/2);X&1?(C[ve]=pe,T[ve]=te-pe):(y[ve]=pe,N[ve]=te-pe)}this.adjustOddEvenCounts(l,h);let F=0,H=0;for(let X=y.length-1;X>=0;X--)H*=9,H+=y[X],F+=y[X];let Z=0,U=0;for(let X=C.length-1;X>=0;X--)Z*=9,Z+=C[X],U+=C[X];let G=H+3*Z;if(l){if(F&1||F>12||F<4)throw new ee;let X=(12-F)/2,te=an.OUTSIDE_ODD_WIDEST[X],pe=9-te,ve=Ni.getRSSvalue(y,te,!1),ye=Ni.getRSSvalue(C,pe,!0),Ue=an.OUTSIDE_EVEN_TOTAL_SUBSET[X],rt=an.OUTSIDE_GSUM[X];return new ba(ve*Ue+ye+rt,G)}else{if(U&1||U>10||U<4)throw new ee;let X=(10-U)/2,te=an.INSIDE_ODD_WIDEST[X],pe=9-te,ve=Ni.getRSSvalue(y,te,!0),ye=Ni.getRSSvalue(C,pe,!1),Ue=an.INSIDE_ODD_TOTAL_SUBSET[X],rt=an.INSIDE_GSUM[X];return new ba(ye*Ue+ve+rt,G)}}findFinderPattern(i,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let f=i.getSize(),h=!1,m=0;for(;m<f&&(h=!i.get(m),o!==h);)m++;let y=0,C=m;for(let N=m;N<f;N++)if(i.get(N)!==h)l[y]++;else{if(y===3){if(Xn.isFinderPattern(l))return[C,N];C+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,y--}else y++;l[y]=1,h=!h}throw new ee}parseFoundFinderPattern(i,o,l,f){let h=i.get(f[0]),m=f[0]-1;for(;m>=0&&h!==i.get(m);)m--;m++;const y=f[0]-m,C=this.getDecodeFinderCounters(),N=new Int32Array(C.length);R.arraycopy(C,0,N,1,C.length-1),N[0]=y;const T=this.parseFinderValue(N,an.FINDER_PATTERNS);let F=m,H=f[1];return l&&(F=i.getSize()-1-F,H=i.getSize()-1-H),new ml(T,[m,f[1]],F,H,o)}adjustOddEvenCounts(i,o){let l=st.sum(new Int32Array(this.getOddCounts())),f=st.sum(new Int32Array(this.getEvenCounts())),h=!1,m=!1,y=!1,C=!1;i?(l>12?m=!0:l<4&&(h=!0),f>12?C=!0:f<4&&(y=!0)):(l>11?m=!0:l<5&&(h=!0),f>10?C=!0:f<4&&(y=!0));let N=l+f-o,T=(l&1)===(i?1:0),F=(f&1)===1;if(N===1)if(T){if(F)throw new ee;m=!0}else{if(!F)throw new ee;C=!0}else if(N===-1)if(T){if(F)throw new ee;h=!0}else{if(!F)throw new ee;y=!0}else if(N===0){if(T){if(!F)throw new ee;l<f?(h=!0,C=!0):(m=!0,y=!0)}else if(F)throw new ee}else throw new ee;if(h){if(m)throw new ee;Xn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&Xn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(C)throw new ee;Xn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Xn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}an.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],an.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],an.OUTSIDE_GSUM=[0,161,961,2015,2715],an.INSIDE_GSUM=[0,336,1036,1516],an.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],an.INSIDE_ODD_WIDEST=[2,4,6,8],an.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ps extends Qt{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const l=i?i.get(z.POSSIBLE_FORMATS):null,f=i&&i.get(z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(De.EAN_13)||l.includes(De.UPC_A)||l.includes(De.EAN_8)||l.includes(De.UPC_E))&&this.readers.push(new jc(i)),l.includes(De.CODE_39)&&this.readers.push(new Jt(f)),l.includes(De.CODE_128)&&this.readers.push(new Ae),l.includes(De.ITF)&&this.readers.push(new Nt),l.includes(De.RSS_14)&&this.readers.push(new an),l.includes(De.RSS_EXPANDED)&&this.readers.push(new Ce(this.verbose))):(this.readers.push(new jc(i)),this.readers.push(new Jt),this.readers.push(new jc(i)),this.readers.push(new Ae),this.readers.push(new Nt),this.readers.push(new an),this.readers.push(new Ce(this.verbose)))}decodeRow(i,o,l){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(i,o,l)}catch{}throw new ee}reset(){this.readers.forEach(i=>i.reset())}}class Id extends Rn{constructor(i=500,o){super(new Ps(o),i,o)}}class Ot{constructor(i,o,l){this.ecCodewords=i,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class kt{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pt{constructor(i,o,l,f,h,m){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=m;let y=0;const C=m.getECCodewords(),N=m.getECBlocks();for(let T of N)y+=T.getCount()*(T.getDataCodewords()+C);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if(i&1||o&1)throw new P;for(let l of pt.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===o)return l;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new pt(1,10,10,8,8,new Ot(5,new kt(1,3))),new pt(2,12,12,10,10,new Ot(7,new kt(1,5))),new pt(3,14,14,12,12,new Ot(10,new kt(1,8))),new pt(4,16,16,14,14,new Ot(12,new kt(1,12))),new pt(5,18,18,16,16,new Ot(14,new kt(1,18))),new pt(6,20,20,18,18,new Ot(18,new kt(1,22))),new pt(7,22,22,20,20,new Ot(20,new kt(1,30))),new pt(8,24,24,22,22,new Ot(24,new kt(1,36))),new pt(9,26,26,24,24,new Ot(28,new kt(1,44))),new pt(10,32,32,14,14,new Ot(36,new kt(1,62))),new pt(11,36,36,16,16,new Ot(42,new kt(1,86))),new pt(12,40,40,18,18,new Ot(48,new kt(1,114))),new pt(13,44,44,20,20,new Ot(56,new kt(1,144))),new pt(14,48,48,22,22,new Ot(68,new kt(1,174))),new pt(15,52,52,24,24,new Ot(42,new kt(2,102))),new pt(16,64,64,14,14,new Ot(56,new kt(2,140))),new pt(17,72,72,16,16,new Ot(36,new kt(4,92))),new pt(18,80,80,18,18,new Ot(48,new kt(4,114))),new pt(19,88,88,20,20,new Ot(56,new kt(4,144))),new pt(20,96,96,22,22,new Ot(68,new kt(4,174))),new pt(21,104,104,24,24,new Ot(56,new kt(6,136))),new pt(22,120,120,18,18,new Ot(68,new kt(6,175))),new pt(23,132,132,20,20,new Ot(62,new kt(8,163))),new pt(24,144,144,22,22,new Ot(62,new kt(8,156),new kt(2,155))),new pt(25,8,18,6,16,new Ot(7,new kt(1,5))),new pt(26,8,32,6,14,new Ot(11,new kt(1,10))),new pt(27,12,26,10,24,new Ot(14,new kt(1,16))),new pt(28,12,36,10,16,new Ot(18,new kt(1,22))),new pt(29,16,36,14,16,new Ot(24,new kt(1,32))),new pt(30,16,48,14,22,new Ot(28,new kt(1,49)))]}}pt.VERSIONS=pt.buildVersions();class Fc{constructor(i){const o=i.getHeight();if(o<8||o>144||o&1)throw new P;this.version=Fc.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new he(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),l=i.getWidth();return pt.getVersionForDimensions(o,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,f=0;const h=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let y=!1,C=!1,N=!1,T=!1;do if(l===h&&f===0&&!y)i[o++]=this.readCorner1(h,m)&255,l-=2,f+=2,y=!0;else if(l===h-2&&f===0&&m&3&&!C)i[o++]=this.readCorner2(h,m)&255,l-=2,f+=2,C=!0;else if(l===h+4&&f===2&&!(m&7)&&!N)i[o++]=this.readCorner3(h,m)&255,l-=2,f+=2,N=!0;else if(l===h-2&&f===0&&(m&7)===4&&!T)i[o++]=this.readCorner4(h,m)&255,l-=2,f+=2,T=!0;else{do l<h&&f>=0&&!this.readMappingMatrix.get(f,l)&&(i[o++]=this.readUtah(l,f,h,m)&255),l-=2,f+=2;while(l>=0&&f<m);l+=1,f+=3;do l>=0&&f<m&&!this.readMappingMatrix.get(f,l)&&(i[o++]=this.readUtah(l,f,h,m)&255),l+=2,f-=2;while(l<h&&f>=0);l+=3,f+=1}while(l<h||f<m);if(o!==this.version.getTotalCodewords())throw new P;return i}readModule(i,o,l,f){return i<0&&(i+=l,o+=4-(l+4&7)),o<0&&(o+=f,i+=4-(f+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,l,f){let h=0;return this.readModule(i-2,o-2,l,f)&&(h|=1),h<<=1,this.readModule(i-2,o-1,l,f)&&(h|=1),h<<=1,this.readModule(i-1,o-2,l,f)&&(h|=1),h<<=1,this.readModule(i-1,o-1,l,f)&&(h|=1),h<<=1,this.readModule(i-1,o,l,f)&&(h|=1),h<<=1,this.readModule(i,o-2,l,f)&&(h|=1),h<<=1,this.readModule(i,o-1,l,f)&&(h|=1),h<<=1,this.readModule(i,o,l,f)&&(h|=1),h}readCorner1(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,1,i,o)&&(l|=1),l<<=1,this.readModule(i-1,2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}readCorner2(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-4,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner3(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-3,i,o)&&(l|=1),l<<=1,this.readModule(1,o-2,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner4(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new E("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),m=o/f|0,y=l/h|0,C=m*f,N=y*h,T=new he(N,C);for(let F=0;F<m;++F){const H=F*f;for(let Z=0;Z<y;++Z){const U=Z*h;for(let G=0;G<f;++G){const X=F*(f+2)+1+G,te=H+G;for(let pe=0;pe<h;++pe){const ve=Z*(h+2)+1+pe;if(i.get(ve,X)){const ye=U+pe;T.set(ye,te)}}}}}return T}}class xl{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const l=o.getECBlocks();let f=0;const h=l.getECBlocks();for(let G of h)f+=G.getCount();const m=new Array(f);let y=0;for(let G of h)for(let X=0;X<G.getCount();X++){const te=G.getDataCodewords(),pe=l.getECCodewords()+te;m[y++]=new xl(te,new Uint8Array(pe))}const N=m[0].codewords.length-l.getECCodewords(),T=N-1;let F=0;for(let G=0;G<T;G++)for(let X=0;X<y;X++)m[X].codewords[G]=i[F++];const H=o.getVersionNumber()===24,Z=H?8:y;for(let G=0;G<Z;G++)m[G].codewords[N-1]=i[F++];const U=m[0].codewords.length;for(let G=N;G<U;G++)for(let X=0;X<y;X++){const te=H?(X+8)%y:X,pe=H&&te>7?G-1:G;m[te].codewords[pe]=i[F++]}if(F!==i.length)throw new E;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class vl{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new E(""+i);let o=0,l=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(l>0){const m=8-l,y=i<m?i:m,C=m-y,N=255>>8-y<<C;o=(h[f]&N)>>C,i-=y,l+=y,l===8&&(l=0,f++)}if(i>0){for(;i>=8;)o=o<<8|h[f]&255,f++,i-=8;if(i>0){const m=8-i,y=255>>m<<m;o=o<<i|(h[f]&y)>>m,l+=i}}return this.bitOffset=l,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Nn;(function(M){M[M.PAD_ENCODE=0]="PAD_ENCODE",M[M.ASCII_ENCODE=1]="ASCII_ENCODE",M[M.C40_ENCODE=2]="C40_ENCODE",M[M.TEXT_ENCODE=3]="TEXT_ENCODE",M[M.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",M[M.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",M[M.BASE256_ENCODE=6]="BASE256_ENCODE"})(Nn||(Nn={}));class Ai{static decode(i){const o=new vl(i),l=new ie,f=new ie,h=new Array;let m=Nn.ASCII_ENCODE;do if(m===Nn.ASCII_ENCODE)m=this.decodeAsciiSegment(o,l,f);else{switch(m){case Nn.C40_ENCODE:this.decodeC40Segment(o,l);break;case Nn.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case Nn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case Nn.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case Nn.BASE256_ENCODE:this.decodeBase256Segment(o,l,h);break;default:throw new P}m=Nn.ASCII_ENCODE}while(m!==Nn.PAD_ENCODE&&o.available()>0);return f.length()>0&&l.append(f.toString()),new $n(i,l.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(i,o,l){let f=!1;do{let h=i.readBits(8);if(h===0)throw new P;if(h<=128)return f&&(h+=128),o.append(String.fromCharCode(h-1)),Nn.ASCII_ENCODE;if(h===129)return Nn.PAD_ENCODE;if(h<=229){const m=h-130;m<10&&o.append("0"),o.append(""+m)}else switch(h){case 230:return Nn.C40_ENCODE;case 231:return Nn.BASE256_ENCODE;case 232:o.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return Nn.ANSIX12_ENCODE;case 239:return Nn.TEXT_ENCODE;case 240:return Nn.EDIFACT_ENCODE;case 241:break;default:if(h!==254||i.available()!==0)throw new P;break}}while(i.available()>0);return Nn.ASCII_ENCODE}static decodeC40Segment(i,o){let l=!1;const f=[];let h=0;do{if(i.available()===8)return;const m=i.readBits(8);if(m===254)return;this.parseTwoBytes(m,i.readBits(8),f);for(let y=0;y<3;y++){const C=f[y];switch(h){case 0:if(C<3)h=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else throw new P;break;case 1:l?(o.append(String.fromCharCode(C+128)),l=!1):o.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new P}h=0;break;case 3:l?(o.append(String.fromCharCode(C+224)),l=!1):o.append(String.fromCharCode(C+96)),h=0;break;default:throw new P}}}while(i.available()>0)}static decodeTextSegment(i,o){let l=!1,f=[],h=0;do{if(i.available()===8)return;const m=i.readBits(8);if(m===254)return;this.parseTwoBytes(m,i.readBits(8),f);for(let y=0;y<3;y++){const C=f[y];switch(h){case 0:if(C<3)h=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else throw new P;break;case 1:l?(o.append(String.fromCharCode(C+128)),l=!1):o.append(String.fromCharCode(C)),h=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N)}else switch(C){case 27:o.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new P}h=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[C];l?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),l=!1):o.append(N),h=0}else throw new P;break;default:throw new P}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const l=[];do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),l);for(let h=0;h<3;h++){const m=l[h];switch(m){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(m<14)o.append(String.fromCharCode(m+44));else if(m<40)o.append(String.fromCharCode(m+51));else throw new P;break}}}while(i.available()>0)}static parseTwoBytes(i,o,l){let f=(i<<8)+o-1,h=Math.floor(f/1600);l[0]=h,f-=h*1600,h=Math.floor(f/40),l[1]=h,l[2]=f-h*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let f=i.readBits(6);if(f===31){const h=8-i.getBitOffset();h!==8&&i.readBits(h);return}f&32||(f|=64),o.append(String.fromCharCode(f))}}while(i.available()>0)}static decodeBase256Segment(i,o,l){let f=1+i.getByteOffset();const h=this.unrandomize255State(i.readBits(8),f++);let m;if(h===0?m=i.available()/8|0:h<250?m=h:m=250*(h-249)+this.unrandomize255State(i.readBits(8),f++),m<0)throw new P;const y=new Uint8Array(m);for(let C=0;C<m;C++){if(i.available()<8)throw new P;y[C]=this.unrandomize255State(i.readBits(8),f++)}l.push(y);try{o.append(ce.decode(y,ae.ISO88591))}catch(C){throw new En("Platform does not support required encoding: "+C.message)}}static unrandomize255State(i,o){const l=149*o%255+1,f=i-l;return f>=0?f:f+256}}Ai.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ai.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ai.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ai.TEXT_SHIFT2_SET_CHARS=Ai.C40_SHIFT2_SET_CHARS,Ai.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class up{constructor(){this.rsDecoder=new Ci(et.DATA_MATRIX_FIELD_256)}decode(i){const o=new Fc(i),l=o.getVersion(),f=o.readCodewords(),h=xl.getDataBlocks(f,l);let m=0;for(let N of h)m+=N.getNumDataCodewords();const y=new Uint8Array(m),C=h.length;for(let N=0;N<C;N++){const T=h[N],F=T.getCodewords(),H=T.getNumDataCodewords();this.correctErrors(F,H);for(let Z=0;Z<H;Z++)y[Z*C+N]=F[Z]}return Ai.decode(y)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new k}for(let f=0;f<o;f++)i[f]=l[f]}}class un{constructor(i){this.image=i,this.rectangleDetector=new Te(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ee;o=this.shiftToModuleCenter(o);const l=o[0],f=o[1],h=o[2],m=o[3];let y=this.transitionsBetween(l,m)+1,C=this.transitionsBetween(h,m)+1;(y&1)===1&&(y+=1),(C&1)===1&&(C+=1),4*y<7*C&&4*C<7*y&&(y=C=Math.max(y,C));let N=un.sampleGrid(this.image,l,f,h,m,y,C);return new jn(N,[l,f,h,m])}static shiftPoint(i,o,l){let f=(o.getX()-i.getX())/(l+1),h=(o.getY()-i.getY())/(l+1);return new Ee(i.getX()+f,i.getY()+h)}static moveAway(i,o,l){let f=i.getX(),h=i.getY();return f<o?f-=1:f+=1,h<l?h-=1:h+=1,new Ee(f,h)}detectSolid1(i){let o=i[0],l=i[1],f=i[3],h=i[2],m=this.transitionsBetween(o,l),y=this.transitionsBetween(l,f),C=this.transitionsBetween(f,h),N=this.transitionsBetween(h,o),T=m,F=[h,o,l,f];return T>y&&(T=y,F[0]=o,F[1]=l,F[2]=f,F[3]=h),T>C&&(T=C,F[0]=l,F[1]=f,F[2]=h,F[3]=o),T>N&&(F[0]=f,F[1]=h,F[2]=o,F[3]=l),F}detectSolid2(i){let o=i[0],l=i[1],f=i[2],h=i[3],m=this.transitionsBetween(o,h),y=un.shiftPoint(l,f,(m+1)*4),C=un.shiftPoint(f,l,(m+1)*4),N=this.transitionsBetween(y,o),T=this.transitionsBetween(C,h);return N<T?(i[0]=o,i[1]=l,i[2]=f,i[3]=h):(i[0]=l,i[1]=f,i[2]=h,i[3]=o),i}correctTopRight(i){let o=i[0],l=i[1],f=i[2],h=i[3],m=this.transitionsBetween(o,h),y=this.transitionsBetween(l,h),C=un.shiftPoint(o,l,(y+1)*4),N=un.shiftPoint(f,l,(m+1)*4);m=this.transitionsBetween(C,h),y=this.transitionsBetween(N,h);let T=new Ee(h.getX()+(f.getX()-l.getX())/(m+1),h.getY()+(f.getY()-l.getY())/(m+1)),F=new Ee(h.getX()+(o.getX()-l.getX())/(y+1),h.getY()+(o.getY()-l.getY())/(y+1));if(!this.isValid(T))return this.isValid(F)?F:null;if(!this.isValid(F))return T;let H=this.transitionsBetween(C,T)+this.transitionsBetween(N,T),Z=this.transitionsBetween(C,F)+this.transitionsBetween(N,F);return H>Z?T:F}shiftToModuleCenter(i){let o=i[0],l=i[1],f=i[2],h=i[3],m=this.transitionsBetween(o,h)+1,y=this.transitionsBetween(f,h)+1,C=un.shiftPoint(o,l,y*4),N=un.shiftPoint(f,l,m*4);m=this.transitionsBetween(C,h)+1,y=this.transitionsBetween(N,h)+1,(m&1)===1&&(m+=1),(y&1)===1&&(y+=1);let T=(o.getX()+l.getX()+f.getX()+h.getX())/4,F=(o.getY()+l.getY()+f.getY()+h.getY())/4;o=un.moveAway(o,T,F),l=un.moveAway(l,T,F),f=un.moveAway(f,T,F),h=un.moveAway(h,T,F);let H,Z;return C=un.shiftPoint(o,l,y*4),C=un.shiftPoint(C,h,m*4),H=un.shiftPoint(l,o,y*4),H=un.shiftPoint(H,f,m*4),N=un.shiftPoint(f,h,y*4),N=un.shiftPoint(N,l,m*4),Z=un.shiftPoint(h,f,y*4),Z=un.shiftPoint(Z,o,m*4),[C,H,N,Z]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,l,f,h,m,y){return Wt.getInstance().sampleGrid(i,m,y,.5,.5,m-.5,.5,m-.5,y-.5,.5,y-.5,o.getX(),o.getY(),h.getX(),h.getY(),f.getX(),f.getY(),l.getX(),l.getY())}transitionsBetween(i,o){let l=Math.trunc(i.getX()),f=Math.trunc(i.getY()),h=Math.trunc(o.getX()),m=Math.trunc(o.getY()),y=Math.abs(m-f)>Math.abs(h-l);if(y){let G=l;l=f,f=G,G=h,h=m,m=G}let C=Math.abs(h-l),N=Math.abs(m-f),T=-C/2,F=f<m?1:-1,H=l<h?1:-1,Z=0,U=this.image.get(y?f:l,y?l:f);for(let G=l,X=f;G!==h;G+=H){let te=this.image.get(y?X:G,y?G:X);if(te!==U&&(Z++,U=te),T+=N,T>0){if(X===m)break;X+=F,T-=C}}return Z}}class oi{constructor(){this.decoder=new up}decode(i,o=null){let l,f;if(o!=null&&o.has(z.PURE_BARCODE)){const N=oi.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(N),f=oi.NO_POINTS}else{const N=new un(i.getBlackMatrix()).detect();l=this.decoder.decode(N.getBits()),f=N.getPoints()}const h=l.getRawBytes(),m=new vt(l.getText(),h,8*h.length,f,De.DATA_MATRIX,R.currentTimeMillis()),y=l.getByteSegments();y!=null&&m.putMetadata(yt.BYTE_SEGMENTS,y);const C=l.getECLevel();return C!=null&&m.putMetadata(yt.ERROR_CORRECTION_LEVEL,C),m}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o==null||l==null)throw new ee;const f=this.moduleSize(o,i);let h=o[1];const m=l[1];let y=o[0];const N=(l[0]-y+1)/f,T=(m-h+1)/f;if(N<=0||T<=0)throw new ee;const F=f/2;h+=F,y+=F;const H=new he(N,T);for(let Z=0;Z<T;Z++){const U=h+Z*f;for(let G=0;G<N;G++)i.get(y+G*f,U)&&H.set(G,Z)}return H}static moduleSize(i,o){const l=o.getWidth();let f=i[0];const h=i[1];for(;f<l&&o.get(f,h);)f++;if(f===l)throw new ee;const m=f-i[0];if(m===0)throw new ee;return m}}oi.NO_POINTS=[];class Rd extends Rn{constructor(i=500){super(new oi,i)}}var Na;(function(M){M[M.L=0]="L",M[M.M=1]="M",M[M.Q=2]="Q",M[M.H=3]="H"})(Na||(Na={}));class qt{constructor(i,o,l){this.value=i,this.stringValue=o,this.bits=l,qt.FOR_BITS.set(l,this),qt.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return qt.L;case"M":return qt.M;case"Q":return qt.Q;case"H":return qt.H;default:throw new w(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof qt))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=qt.FOR_BITS.size)throw new E;return qt.FOR_BITS.get(i)}}qt.FOR_BITS=new Map,qt.FOR_VALUE=new Map,qt.L=new qt(Na.L,"L",1),qt.M=new qt(Na.M,"M",0),qt.Q=new qt(Na.Q,"Q",3),qt.H=new qt(Na.H,"H",2);class Qn{constructor(i){this.errorCorrectionLevel=qt.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return O.bitCount(i^o)}static decodeFormatInformation(i,o){const l=Qn.doDecodeFormatInformation(i,o);return l!==null?l:Qn.doDecodeFormatInformation(i^Qn.FORMAT_INFO_MASK_QR,o^Qn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let l=Number.MAX_SAFE_INTEGER,f=0;for(const h of Qn.FORMAT_INFO_DECODE_LOOKUP){const m=h[0];if(m===i||m===o)return new Qn(h[1]);let y=Qn.numBitsDiffering(i,m);y<l&&(f=h[1],l=y),i!==o&&(y=Qn.numBitsDiffering(o,m),y<l&&(f=h[1],l=y))}return l<=3?new Qn(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Qn))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Qn.FORMAT_INFO_MASK_QR=21522,Qn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class le{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const l of o)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class K{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class He{constructor(i,o,...l){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=l;let f=0;const h=l[0].getECCodewordsPerBlock(),m=l[0].getECBlocks();for(const y of m)f+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new P;try{return this.getVersionForNumber((i-17)/4)}catch{throw new P}}static getVersionForNumber(i){if(i<1||i>40)throw new E;return He.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,l=0;for(let f=0;f<He.VERSION_DECODE_INFO.length;f++){const h=He.VERSION_DECODE_INFO[f];if(h===i)return He.getVersionForNumber(f+7);const m=Qn.numBitsDiffering(i,h);m<o&&(l=f+7,o=m)}return o<=3?He.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new he(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let f=0;f<l;f++){const h=this.alignmentPatternCenters[f]-2;for(let m=0;m<l;m++)f===0&&(m===0||m===l-1)||f===l-1&&m===0||o.setRegion(this.alignmentPatternCenters[m]-2,h,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}He.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),He.VERSIONS=[new He(1,new Int32Array(0),new le(7,new K(1,19)),new le(10,new K(1,16)),new le(13,new K(1,13)),new le(17,new K(1,9))),new He(2,Int32Array.from([6,18]),new le(10,new K(1,34)),new le(16,new K(1,28)),new le(22,new K(1,22)),new le(28,new K(1,16))),new He(3,Int32Array.from([6,22]),new le(15,new K(1,55)),new le(26,new K(1,44)),new le(18,new K(2,17)),new le(22,new K(2,13))),new He(4,Int32Array.from([6,26]),new le(20,new K(1,80)),new le(18,new K(2,32)),new le(26,new K(2,24)),new le(16,new K(4,9))),new He(5,Int32Array.from([6,30]),new le(26,new K(1,108)),new le(24,new K(2,43)),new le(18,new K(2,15),new K(2,16)),new le(22,new K(2,11),new K(2,12))),new He(6,Int32Array.from([6,34]),new le(18,new K(2,68)),new le(16,new K(4,27)),new le(24,new K(4,19)),new le(28,new K(4,15))),new He(7,Int32Array.from([6,22,38]),new le(20,new K(2,78)),new le(18,new K(4,31)),new le(18,new K(2,14),new K(4,15)),new le(26,new K(4,13),new K(1,14))),new He(8,Int32Array.from([6,24,42]),new le(24,new K(2,97)),new le(22,new K(2,38),new K(2,39)),new le(22,new K(4,18),new K(2,19)),new le(26,new K(4,14),new K(2,15))),new He(9,Int32Array.from([6,26,46]),new le(30,new K(2,116)),new le(22,new K(3,36),new K(2,37)),new le(20,new K(4,16),new K(4,17)),new le(24,new K(4,12),new K(4,13))),new He(10,Int32Array.from([6,28,50]),new le(18,new K(2,68),new K(2,69)),new le(26,new K(4,43),new K(1,44)),new le(24,new K(6,19),new K(2,20)),new le(28,new K(6,15),new K(2,16))),new He(11,Int32Array.from([6,30,54]),new le(20,new K(4,81)),new le(30,new K(1,50),new K(4,51)),new le(28,new K(4,22),new K(4,23)),new le(24,new K(3,12),new K(8,13))),new He(12,Int32Array.from([6,32,58]),new le(24,new K(2,92),new K(2,93)),new le(22,new K(6,36),new K(2,37)),new le(26,new K(4,20),new K(6,21)),new le(28,new K(7,14),new K(4,15))),new He(13,Int32Array.from([6,34,62]),new le(26,new K(4,107)),new le(22,new K(8,37),new K(1,38)),new le(24,new K(8,20),new K(4,21)),new le(22,new K(12,11),new K(4,12))),new He(14,Int32Array.from([6,26,46,66]),new le(30,new K(3,115),new K(1,116)),new le(24,new K(4,40),new K(5,41)),new le(20,new K(11,16),new K(5,17)),new le(24,new K(11,12),new K(5,13))),new He(15,Int32Array.from([6,26,48,70]),new le(22,new K(5,87),new K(1,88)),new le(24,new K(5,41),new K(5,42)),new le(30,new K(5,24),new K(7,25)),new le(24,new K(11,12),new K(7,13))),new He(16,Int32Array.from([6,26,50,74]),new le(24,new K(5,98),new K(1,99)),new le(28,new K(7,45),new K(3,46)),new le(24,new K(15,19),new K(2,20)),new le(30,new K(3,15),new K(13,16))),new He(17,Int32Array.from([6,30,54,78]),new le(28,new K(1,107),new K(5,108)),new le(28,new K(10,46),new K(1,47)),new le(28,new K(1,22),new K(15,23)),new le(28,new K(2,14),new K(17,15))),new He(18,Int32Array.from([6,30,56,82]),new le(30,new K(5,120),new K(1,121)),new le(26,new K(9,43),new K(4,44)),new le(28,new K(17,22),new K(1,23)),new le(28,new K(2,14),new K(19,15))),new He(19,Int32Array.from([6,30,58,86]),new le(28,new K(3,113),new K(4,114)),new le(26,new K(3,44),new K(11,45)),new le(26,new K(17,21),new K(4,22)),new le(26,new K(9,13),new K(16,14))),new He(20,Int32Array.from([6,34,62,90]),new le(28,new K(3,107),new K(5,108)),new le(26,new K(3,41),new K(13,42)),new le(30,new K(15,24),new K(5,25)),new le(28,new K(15,15),new K(10,16))),new He(21,Int32Array.from([6,28,50,72,94]),new le(28,new K(4,116),new K(4,117)),new le(26,new K(17,42)),new le(28,new K(17,22),new K(6,23)),new le(30,new K(19,16),new K(6,17))),new He(22,Int32Array.from([6,26,50,74,98]),new le(28,new K(2,111),new K(7,112)),new le(28,new K(17,46)),new le(30,new K(7,24),new K(16,25)),new le(24,new K(34,13))),new He(23,Int32Array.from([6,30,54,78,102]),new le(30,new K(4,121),new K(5,122)),new le(28,new K(4,47),new K(14,48)),new le(30,new K(11,24),new K(14,25)),new le(30,new K(16,15),new K(14,16))),new He(24,Int32Array.from([6,28,54,80,106]),new le(30,new K(6,117),new K(4,118)),new le(28,new K(6,45),new K(14,46)),new le(30,new K(11,24),new K(16,25)),new le(30,new K(30,16),new K(2,17))),new He(25,Int32Array.from([6,32,58,84,110]),new le(26,new K(8,106),new K(4,107)),new le(28,new K(8,47),new K(13,48)),new le(30,new K(7,24),new K(22,25)),new le(30,new K(22,15),new K(13,16))),new He(26,Int32Array.from([6,30,58,86,114]),new le(28,new K(10,114),new K(2,115)),new le(28,new K(19,46),new K(4,47)),new le(28,new K(28,22),new K(6,23)),new le(30,new K(33,16),new K(4,17))),new He(27,Int32Array.from([6,34,62,90,118]),new le(30,new K(8,122),new K(4,123)),new le(28,new K(22,45),new K(3,46)),new le(30,new K(8,23),new K(26,24)),new le(30,new K(12,15),new K(28,16))),new He(28,Int32Array.from([6,26,50,74,98,122]),new le(30,new K(3,117),new K(10,118)),new le(28,new K(3,45),new K(23,46)),new le(30,new K(4,24),new K(31,25)),new le(30,new K(11,15),new K(31,16))),new He(29,Int32Array.from([6,30,54,78,102,126]),new le(30,new K(7,116),new K(7,117)),new le(28,new K(21,45),new K(7,46)),new le(30,new K(1,23),new K(37,24)),new le(30,new K(19,15),new K(26,16))),new He(30,Int32Array.from([6,26,52,78,104,130]),new le(30,new K(5,115),new K(10,116)),new le(28,new K(19,47),new K(10,48)),new le(30,new K(15,24),new K(25,25)),new le(30,new K(23,15),new K(25,16))),new He(31,Int32Array.from([6,30,56,82,108,134]),new le(30,new K(13,115),new K(3,116)),new le(28,new K(2,46),new K(29,47)),new le(30,new K(42,24),new K(1,25)),new le(30,new K(23,15),new K(28,16))),new He(32,Int32Array.from([6,34,60,86,112,138]),new le(30,new K(17,115)),new le(28,new K(10,46),new K(23,47)),new le(30,new K(10,24),new K(35,25)),new le(30,new K(19,15),new K(35,16))),new He(33,Int32Array.from([6,30,58,86,114,142]),new le(30,new K(17,115),new K(1,116)),new le(28,new K(14,46),new K(21,47)),new le(30,new K(29,24),new K(19,25)),new le(30,new K(11,15),new K(46,16))),new He(34,Int32Array.from([6,34,62,90,118,146]),new le(30,new K(13,115),new K(6,116)),new le(28,new K(14,46),new K(23,47)),new le(30,new K(44,24),new K(7,25)),new le(30,new K(59,16),new K(1,17))),new He(35,Int32Array.from([6,30,54,78,102,126,150]),new le(30,new K(12,121),new K(7,122)),new le(28,new K(12,47),new K(26,48)),new le(30,new K(39,24),new K(14,25)),new le(30,new K(22,15),new K(41,16))),new He(36,Int32Array.from([6,24,50,76,102,128,154]),new le(30,new K(6,121),new K(14,122)),new le(28,new K(6,47),new K(34,48)),new le(30,new K(46,24),new K(10,25)),new le(30,new K(2,15),new K(64,16))),new He(37,Int32Array.from([6,28,54,80,106,132,158]),new le(30,new K(17,122),new K(4,123)),new le(28,new K(29,46),new K(14,47)),new le(30,new K(49,24),new K(10,25)),new le(30,new K(24,15),new K(46,16))),new He(38,Int32Array.from([6,32,58,84,110,136,162]),new le(30,new K(4,122),new K(18,123)),new le(28,new K(13,46),new K(32,47)),new le(30,new K(48,24),new K(14,25)),new le(30,new K(42,15),new K(32,16))),new He(39,Int32Array.from([6,26,54,82,110,138,166]),new le(30,new K(20,117),new K(4,118)),new le(28,new K(40,47),new K(7,48)),new le(30,new K(43,24),new K(22,25)),new le(30,new K(10,15),new K(67,16))),new He(40,Int32Array.from([6,30,58,86,114,142,170]),new le(30,new K(19,118),new K(6,119)),new le(28,new K(18,47),new K(31,48)),new le(30,new K(34,24),new K(34,25)),new le(30,new K(20,15),new K(61,16)))];var _n;(function(M){M[M.DATA_MASK_000=0]="DATA_MASK_000",M[M.DATA_MASK_001=1]="DATA_MASK_001",M[M.DATA_MASK_010=2]="DATA_MASK_010",M[M.DATA_MASK_011=3]="DATA_MASK_011",M[M.DATA_MASK_100=4]="DATA_MASK_100",M[M.DATA_MASK_101=5]="DATA_MASK_101",M[M.DATA_MASK_110=6]="DATA_MASK_110",M[M.DATA_MASK_111=7]="DATA_MASK_111"})(_n||(_n={}));class br{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let l=0;l<o;l++)for(let f=0;f<o;f++)this.isMasked(l,f)&&i.flip(f,l)}}br.values=new Map([[_n.DATA_MASK_000,new br(_n.DATA_MASK_000,(M,i)=>(M+i&1)===0)],[_n.DATA_MASK_001,new br(_n.DATA_MASK_001,(M,i)=>(M&1)===0)],[_n.DATA_MASK_010,new br(_n.DATA_MASK_010,(M,i)=>i%3===0)],[_n.DATA_MASK_011,new br(_n.DATA_MASK_011,(M,i)=>(M+i)%3===0)],[_n.DATA_MASK_100,new br(_n.DATA_MASK_100,(M,i)=>(Math.floor(M/2)+Math.floor(i/3)&1)===0)],[_n.DATA_MASK_101,new br(_n.DATA_MASK_101,(M,i)=>M*i%6===0)],[_n.DATA_MASK_110,new br(_n.DATA_MASK_110,(M,i)=>M*i%6<3)],[_n.DATA_MASK_111,new br(_n.DATA_MASK_111,(M,i)=>(M+i+M*i%3&1)===0)]]);class _a{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new P;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let h=0;h<6;h++)i=this.copyBit(h,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let h=5;h>=0;h--)i=this.copyBit(8,h,i);const o=this.bitMatrix.getHeight();let l=0;const f=o-7;for(let h=o-1;h>=f;h--)l=this.copyBit(8,h,l);for(let h=o-8;h<o;h++)l=this.copyBit(h,8,l);if(this.parsedFormatInfo=Qn.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return He.getVersionForNumber(o);let l=0;const f=i-11;for(let m=5;m>=0;m--)for(let y=i-9;y>=f;y--)l=this.copyBit(y,m,l);let h=He.decodeVersionInformation(l);if(h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;l=0;for(let m=5;m>=0;m--)for(let y=i-9;y>=f;y--)l=this.copyBit(m,y,l);if(h=He.decodeVersionInformation(l),h!==null&&h.getDimensionForVersion()===i)return this.parsedVersion=h,h;throw new P}copyBit(i,o,l){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),l=br.values.get(i.getDataMask()),f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f);const h=o.buildFunctionPattern();let m=!0;const y=new Uint8Array(o.getTotalCodewords());let C=0,N=0,T=0;for(let F=f-1;F>0;F-=2){F===6&&F--;for(let H=0;H<f;H++){const Z=m?f-1-H:H;for(let U=0;U<2;U++)h.get(F-U,Z)||(T++,N<<=1,this.bitMatrix.get(F-U,Z)&&(N|=1),T===8&&(y[C++]=N,T=0,N=0))}m=!m}if(C!==o.getTotalCodewords())throw new P;return y}remask(){if(this.parsedFormatInfo===null)return;const i=br.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,l=i.getWidth();o<l;o++)for(let f=o+1,h=i.getHeight();f<h;f++)i.get(o,f)!==i.get(f,o)&&(i.flip(f,o),i.flip(o,f))}}class yl{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,l){if(i.length!==o.getTotalCodewords())throw new E;const f=o.getECBlocksForLevel(l);let h=0;const m=f.getECBlocks();for(const U of m)h+=U.getCount();const y=new Array(h);let C=0;for(const U of m)for(let G=0;G<U.getCount();G++){const X=U.getDataCodewords(),te=f.getECCodewordsPerBlock()+X;y[C++]=new yl(X,new Uint8Array(te))}const N=y[0].codewords.length;let T=y.length-1;for(;T>=0&&y[T].codewords.length!==N;)T--;T++;const F=N-f.getECCodewordsPerBlock();let H=0;for(let U=0;U<F;U++)for(let G=0;G<C;G++)y[G].codewords[U]=i[H++];for(let U=T;U<C;U++)y[U].codewords[F]=i[H++];const Z=y[0].codewords.length;for(let U=F;U<Z;U++)for(let G=0;G<C;G++){const X=G<T?U:U+1;y[G].codewords[X]=i[H++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Rr;(function(M){M[M.TERMINATOR=0]="TERMINATOR",M[M.NUMERIC=1]="NUMERIC",M[M.ALPHANUMERIC=2]="ALPHANUMERIC",M[M.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",M[M.BYTE=4]="BYTE",M[M.ECI=5]="ECI",M[M.KANJI=6]="KANJI",M[M.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",M[M.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",M[M.HANZI=9]="HANZI"})(Rr||(Rr={}));class Ye{constructor(i,o,l,f){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=f,Ye.FOR_BITS.set(f,this),Ye.FOR_VALUE.set(i,this)}static forBits(i){const o=Ye.FOR_BITS.get(i);if(o===void 0)throw new E;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Ye))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}Ye.FOR_BITS=new Map,Ye.FOR_VALUE=new Map,Ye.TERMINATOR=new Ye(Rr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ye.NUMERIC=new Ye(Rr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ye.ALPHANUMERIC=new Ye(Rr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ye.STRUCTURED_APPEND=new Ye(Rr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ye.BYTE=new Ye(Rr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ye.ECI=new Ye(Rr.ECI,"ECI",Int32Array.from([0,0,0]),7),Ye.KANJI=new Ye(Rr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ye.FNC1_FIRST_POSITION=new Ye(Rr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ye.FNC1_SECOND_POSITION=new Ye(Rr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ye.HANZI=new Ye(Rr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class nn{static decode(i,o,l,f){const h=new vl(i);let m=new ie;const y=new Array;let C=-1,N=-1;try{let T=null,F=!1,H;do{if(h.available()<4)H=Ye.TERMINATOR;else{const Z=h.readBits(4);H=Ye.forBits(Z)}switch(H){case Ye.TERMINATOR:break;case Ye.FNC1_FIRST_POSITION:case Ye.FNC1_SECOND_POSITION:F=!0;break;case Ye.STRUCTURED_APPEND:if(h.available()<16)throw new P;C=h.readBits(8),N=h.readBits(8);break;case Ye.ECI:const Z=nn.parseECIValue(h);if(T=W.getCharacterSetECIByValue(Z),T===null)throw new P;break;case Ye.HANZI:const U=h.readBits(4),G=h.readBits(H.getCharacterCountBits(o));U===nn.GB2312_SUBSET&&nn.decodeHanziSegment(h,m,G);break;default:const X=h.readBits(H.getCharacterCountBits(o));switch(H){case Ye.NUMERIC:nn.decodeNumericSegment(h,m,X);break;case Ye.ALPHANUMERIC:nn.decodeAlphanumericSegment(h,m,X,F);break;case Ye.BYTE:nn.decodeByteSegment(h,m,X,T,y,f);break;case Ye.KANJI:nn.decodeKanjiSegment(h,m,X);break;default:throw new P}break}}while(H!==Ye.TERMINATOR)}catch{throw new P}return new $n(i,m.toString(),y.length===0?null:y,l===null?null:l.toString(),C,N)}static decodeHanziSegment(i,o,l){if(l*13>i.available())throw new P;const f=new Uint8Array(2*l);let h=0;for(;l>0;){const m=i.readBits(13);let y=m/96<<8&4294967295|m%96;y<959?y+=41377:y+=42657,f[h]=y>>8&255,f[h+1]=y&255,h+=2,l--}try{o.append(ce.decode(f,ae.GB2312))}catch(m){throw new P(m)}}static decodeKanjiSegment(i,o,l){if(l*13>i.available())throw new P;const f=new Uint8Array(2*l);let h=0;for(;l>0;){const m=i.readBits(13);let y=m/192<<8&4294967295|m%192;y<7936?y+=33088:y+=49472,f[h]=y>>8,f[h+1]=y,h+=2,l--}try{o.append(ce.decode(f,ae.SHIFT_JIS))}catch(m){throw new P(m)}}static decodeByteSegment(i,o,l,f,h,m){if(8*l>i.available())throw new P;const y=new Uint8Array(l);for(let N=0;N<l;N++)y[N]=i.readBits(8);let C;f===null?C=ae.guessEncoding(y,m):C=f.getName();try{o.append(ce.decode(y,C))}catch(N){throw new P(N)}h.push(y)}static toAlphaNumericChar(i){if(i>=nn.ALPHANUMERIC_CHARS.length)throw new P;return nn.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,l,f){const h=o.length();for(;l>1;){if(i.available()<11)throw new P;const m=i.readBits(11);o.append(nn.toAlphaNumericChar(Math.floor(m/45))),o.append(nn.toAlphaNumericChar(m%45)),l-=2}if(l===1){if(i.available()<6)throw new P;o.append(nn.toAlphaNumericChar(i.readBits(6)))}if(f)for(let m=h;m<o.length();m++)o.charAt(m)==="%"&&(m<o.length()-1&&o.charAt(m+1)==="%"?o.deleteCharAt(m+1):o.setCharAt(m,String.fromCharCode(29)))}static decodeNumericSegment(i,o,l){for(;l>=3;){if(i.available()<10)throw new P;const f=i.readBits(10);if(f>=1e3)throw new P;o.append(nn.toAlphaNumericChar(Math.floor(f/100))),o.append(nn.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(nn.toAlphaNumericChar(f%10)),l-=3}if(l===2){if(i.available()<7)throw new P;const f=i.readBits(7);if(f>=100)throw new P;o.append(nn.toAlphaNumericChar(Math.floor(f/10))),o.append(nn.toAlphaNumericChar(f%10))}else if(l===1){if(i.available()<4)throw new P;const f=i.readBits(4);if(f>=10)throw new P;o.append(nn.toAlphaNumericChar(f))}}static parseECIValue(i){const o=i.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=i.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=i.readBits(16);return(o&31)<<16&4294967295|l}throw new P}}nn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",nn.GB2312_SUBSET=1;class Bc{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class Od{constructor(){this.rsDecoder=new Ci(et.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(he.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const l=new _a(i);let f=null;try{return this.decodeBitMatrixParser(l,o)}catch(h){f=h}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const h=this.decodeBitMatrixParser(l,o);return h.setOther(new Bc(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(i,o){const l=i.readVersion(),f=i.readFormatInformation().getErrorCorrectionLevel(),h=i.readCodewords(),m=yl.getDataBlocks(h,l,f);let y=0;for(const T of m)y+=T.getNumDataCodewords();const C=new Uint8Array(y);let N=0;for(const T of m){const F=T.getCodewords(),H=T.getNumDataCodewords();this.correctErrors(F,H);for(let Z=0;Z<H;Z++)C[N++]=F[Z]}return nn.decode(C,l,f,o)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new k}for(let f=0;f<o;f++)i[f]=l[f]}}class wl extends Ee{constructor(i,o,l){super(i,o),this.estimatedModuleSize=l}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const f=Math.abs(i-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const f=(this.getX()+o)/2,h=(this.getY()+i)/2,m=(this.estimatedModuleSize+l)/2;return new wl(f,h,m)}}class bl{constructor(i,o,l,f,h,m,y){this.image=i,this.startX=o,this.startY=l,this.width=f,this.height=h,this.moduleSize=m,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,l=this.width,f=i+l,h=this.startY+o/2,m=new Int32Array(3),y=this.image;for(let C=0;C<o;C++){const N=h+(C&1?-Math.floor((C+1)/2):Math.floor((C+1)/2));m[0]=0,m[1]=0,m[2]=0;let T=i;for(;T<f&&!y.get(T,N);)T++;let F=0;for(;T<f;){if(y.get(T,N))if(F===1)m[1]++;else if(F===2){if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,N,T);if(H!==null)return H}m[0]=m[2],m[1]=1,m[2]=0,F=1}else m[++F]++;else F===1&&F++,m[F]++;T++}if(this.foundPatternCross(m)){const H=this.handlePossibleCenter(m,N,f);if(H!==null)return H}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,l=o/2;for(let f=0;f<3;f++)if(Math.abs(o-i[f])>=l)return!1;return!0}crossCheckVertical(i,o,l,f){const h=this.image,m=h.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let C=i;for(;C>=0&&h.get(o,C)&&y[1]<=l;)y[1]++,C--;if(C<0||y[1]>l)return NaN;for(;C>=0&&!h.get(o,C)&&y[0]<=l;)y[0]++,C--;if(y[0]>l)return NaN;for(C=i+1;C<m&&h.get(o,C)&&y[1]<=l;)y[1]++,C++;if(C===m||y[1]>l)return NaN;for(;C<m&&!h.get(o,C)&&y[2]<=l;)y[2]++,C++;if(y[2]>l)return NaN;const N=y[0]+y[1]+y[2];return 5*Math.abs(N-f)>=2*f?NaN:this.foundPatternCross(y)?bl.centerFromEnd(y,C):NaN}handlePossibleCenter(i,o,l){const f=i[0]+i[1]+i[2],h=bl.centerFromEnd(i,l),m=this.crossCheckVertical(o,h,2*i[1],f);if(!isNaN(m)){const y=(i[0]+i[1]+i[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(y,m,h))return N.combineEstimate(m,h,y);const C=new wl(h,m,y);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class Uc extends Ee{constructor(i,o,l,f){super(i,o),this.estimatedModuleSize=l,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const f=Math.abs(i-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const f=this.count+1,h=(this.count*this.getX()+o)/f,m=(this.count*this.getY()+i)/f,y=(this.count*this.estimatedModuleSize+l)/f;return new Uc(h,m,y,f)}}class dp{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Mn{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(z.TRY_HARDER)!==void 0,l=i!=null&&i.get(z.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),m=f.getWidth();let y=Math.floor(3*h/(4*Mn.MAX_MODULES));(y<Mn.MIN_SKIP||o)&&(y=Mn.MIN_SKIP);let C=!1;const N=new Int32Array(5);for(let F=y-1;F<h&&!C;F+=y){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let H=0;for(let Z=0;Z<m;Z++)if(f.get(Z,F))(H&1)===1&&H++,N[H]++;else if(H&1)N[H]++;else if(H===4)if(Mn.foundPatternCross(N)){if(this.handlePossibleCenter(N,F,Z,l)===!0)if(y=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const G=this.findRowSkip();G>N[2]&&(F+=G-N[2]-y,Z=m-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,H=3;continue}H=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,H=3;else N[++H]++;Mn.foundPatternCross(N)&&this.handlePossibleCenter(N,F,m,l)===!0&&(y=N[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return Ee.orderBestPatterns(T),new dp(T)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let h=0;h<5;h++){const m=i[h];if(m===0)return!1;o+=m}if(o<7)return!1;const l=o/7,f=l/2;return Math.abs(l-i[0])<f&&Math.abs(l-i[1])<f&&Math.abs(3*l-i[2])<3*f&&Math.abs(l-i[3])<f&&Math.abs(l-i[4])<f}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,l,f){const h=this.getCrossCheckStateCount();let m=0;const y=this.image;for(;i>=m&&o>=m&&y.get(o-m,i-m);)h[2]++,m++;if(i<m||o<m)return!1;for(;i>=m&&o>=m&&!y.get(o-m,i-m)&&h[1]<=l;)h[1]++,m++;if(i<m||o<m||h[1]>l)return!1;for(;i>=m&&o>=m&&y.get(o-m,i-m)&&h[0]<=l;)h[0]++,m++;if(h[0]>l)return!1;const C=y.getHeight(),N=y.getWidth();for(m=1;i+m<C&&o+m<N&&y.get(o+m,i+m);)h[2]++,m++;if(i+m>=C||o+m>=N)return!1;for(;i+m<C&&o+m<N&&!y.get(o+m,i+m)&&h[3]<l;)h[3]++,m++;if(i+m>=C||o+m>=N||h[3]>=l)return!1;for(;i+m<C&&o+m<N&&y.get(o+m,i+m)&&h[4]<l;)h[4]++,m++;if(h[4]>=l)return!1;const T=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(T-f)<2*f&&Mn.foundPatternCross(h)}crossCheckVertical(i,o,l,f){const h=this.image,m=h.getHeight(),y=this.getCrossCheckStateCount();let C=i;for(;C>=0&&h.get(o,C);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(o,C)&&y[1]<=l;)y[1]++,C--;if(C<0||y[1]>l)return NaN;for(;C>=0&&h.get(o,C)&&y[0]<=l;)y[0]++,C--;if(y[0]>l)return NaN;for(C=i+1;C<m&&h.get(o,C);)y[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(o,C)&&y[3]<l;)y[3]++,C++;if(C===m||y[3]>=l)return NaN;for(;C<m&&h.get(o,C)&&y[4]<l;)y[4]++,C++;if(y[4]>=l)return NaN;const N=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(N-f)>=2*f?NaN:Mn.foundPatternCross(y)?Mn.centerFromEnd(y,C):NaN}crossCheckHorizontal(i,o,l,f){const h=this.image,m=h.getWidth(),y=this.getCrossCheckStateCount();let C=i;for(;C>=0&&h.get(C,o);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(C,o)&&y[1]<=l;)y[1]++,C--;if(C<0||y[1]>l)return NaN;for(;C>=0&&h.get(C,o)&&y[0]<=l;)y[0]++,C--;if(y[0]>l)return NaN;for(C=i+1;C<m&&h.get(C,o);)y[2]++,C++;if(C===m)return NaN;for(;C<m&&!h.get(C,o)&&y[3]<l;)y[3]++,C++;if(C===m||y[3]>=l)return NaN;for(;C<m&&h.get(C,o)&&y[4]<l;)y[4]++,C++;if(y[4]>=l)return NaN;const N=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(N-f)>=f?NaN:Mn.foundPatternCross(y)?Mn.centerFromEnd(y,C):NaN}handlePossibleCenter(i,o,l,f){const h=i[0]+i[1]+i[2]+i[3]+i[4];let m=Mn.centerFromEnd(i,l),y=this.crossCheckVertical(o,Math.floor(m),i[2],h);if(!isNaN(y)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(y),i[2],h),!isNaN(m)&&(!f||this.crossCheckDiagonal(Math.floor(y),Math.floor(m),i[2],h)))){const C=h/7;let N=!1;const T=this.possibleCenters;for(let F=0,H=T.length;F<H;F++){const Z=T[F];if(Z.aboutEquals(C,y,m)){T[F]=Z.combineEstimate(y,m,C),N=!0;break}}if(!N){const F=new Uc(m,y,C);T.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=Mn.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const l=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=Mn.CENTER_QUORUM&&(i++,o+=m.getEstimatedModuleSize());if(i<3)return!1;const f=o/l;let h=0;for(const m of this.possibleCenters)h+=Math.abs(m.getEstimatedModuleSize()-f);return h<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new ee;const o=this.possibleCenters;let l;if(i>3){let f=0,h=0;for(const C of this.possibleCenters){const N=C.getEstimatedModuleSize();f+=N,h+=N*N}l=f/i;let m=Math.sqrt(h/i-l*l);o.sort((C,N)=>{const T=Math.abs(N.getEstimatedModuleSize()-l),F=Math.abs(C.getEstimatedModuleSize()-l);return T<F?-1:T>F?1:0});const y=Math.max(.2*l,m);for(let C=0;C<o.length&&o.length>3;C++){const N=o[C];Math.abs(N.getEstimatedModuleSize()-l)>y&&(o.splice(C,1),C--)}}if(o.length>3){let f=0;for(const h of o)f+=h.getEstimatedModuleSize();l=f/o.length,o.sort((h,m)=>{if(m.getCount()===h.getCount()){const y=Math.abs(m.getEstimatedModuleSize()-l),C=Math.abs(h.getEstimatedModuleSize()-l);return y<C?1:y>C?-1:0}else return m.getCount()-h.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Mn.CENTER_QUORUM=2,Mn.MIN_SKIP=3,Mn.MAX_MODULES=57;class yo{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(z.NEED_RESULT_POINT_CALLBACK);const l=new Mn(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const o=i.getTopLeft(),l=i.getTopRight(),f=i.getBottomLeft(),h=this.calculateModuleSize(o,l,f);if(h<1)throw new ee("No pattern found in proccess finder.");const m=yo.computeDimension(o,l,f,h),y=He.getProvisionalVersionForDimension(m),C=y.getDimensionForVersion()-7;let N=null;if(y.getAlignmentPatternCenters().length>0){const Z=l.getX()-o.getX()+f.getX(),U=l.getY()-o.getY()+f.getY(),G=1-3/C,X=Math.floor(o.getX()+G*(Z-o.getX())),te=Math.floor(o.getY()+G*(U-o.getY()));for(let pe=4;pe<=16;pe<<=1)try{N=this.findAlignmentInRegion(h,X,te,pe);break}catch(ve){if(!(ve instanceof ee))throw ve}}const T=yo.createTransform(o,l,f,N,m),F=yo.sampleGrid(this.image,T,m);let H;return N===null?H=[f,o,l]:H=[f,o,l,N],new jn(F,H)}static createTransform(i,o,l,f,h){const m=h-3.5;let y,C,N,T;return f!==null?(y=f.getX(),C=f.getY(),N=m-3,T=N):(y=o.getX()-i.getX()+l.getX(),C=o.getY()-i.getY()+l.getY(),N=m,T=m),St.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,N,T,3.5,m,i.getX(),i.getY(),o.getX(),o.getY(),y,C,l.getX(),l.getY())}static sampleGrid(i,o,l){return Wt.getInstance().sampleGridWithTransform(i,l,l,o)}static computeDimension(i,o,l,f){const h=st.round(Ee.distance(i,o)/f),m=st.round(Ee.distance(i,l)/f);let y=Math.floor((h+m)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new ee("Dimensions could be not found.")}return y}calculateModuleSize(i,o,l){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?f/7:isNaN(f)?l/7:(l+f)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,l,f){let h=this.sizeOfBlackWhiteBlackRun(i,o,l,f),m=1,y=i-(l-i);y<0?(m=i/(i-y),y=0):y>=this.image.getWidth()&&(m=(this.image.getWidth()-1-i)/(y-i),y=this.image.getWidth()-1);let C=Math.floor(o-(f-o)*m);return m=1,C<0?(m=o/(o-C),C=0):C>=this.image.getHeight()&&(m=(this.image.getHeight()-1-o)/(C-o),C=this.image.getHeight()-1),y=Math.floor(i+(y-i)*m),h+=this.sizeOfBlackWhiteBlackRun(i,o,y,C),h-1}sizeOfBlackWhiteBlackRun(i,o,l,f){const h=Math.abs(f-o)>Math.abs(l-i);if(h){let Z=i;i=o,o=Z,Z=l,l=f,f=Z}const m=Math.abs(l-i),y=Math.abs(f-o);let C=-m/2;const N=i<l?1:-1,T=o<f?1:-1;let F=0;const H=l+N;for(let Z=i,U=o;Z!==H;Z+=N){const G=h?U:Z,X=h?Z:U;if(F===1===this.image.get(G,X)){if(F===2)return st.distance(Z,U,i,o);F++}if(C+=y,C>0){if(U===f)break;U+=T,C-=m}}return F===2?st.distance(l+N,f,i,o):NaN}findAlignmentInRegion(i,o,l,f){const h=Math.floor(f*i),m=Math.max(0,o-h),y=Math.min(this.image.getWidth()-1,o+h);if(y-m<i*3)throw new ee("Alignment top exceeds estimated module size.");const C=Math.max(0,l-h),N=Math.min(this.image.getHeight()-1,l+h);if(N-C<i*3)throw new ee("Alignment bottom exceeds estimated module size.");return new bl(this.image,m,C,y-m,N-C,i,this.resultPointCallback).find()}}class ps{constructor(){this.decoder=new Od}getDecoder(){return this.decoder}decode(i,o){let l,f;if(o!=null&&o.get(z.PURE_BARCODE)!==void 0){const C=ps.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(C,o),f=ps.NO_POINTS}else{const C=new yo(i.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(C.getBits(),o),f=C.getPoints()}l.getOther()instanceof Bc&&l.getOther().applyMirroredCorrection(f);const h=new vt(l.getText(),l.getRawBytes(),void 0,f,De.QR_CODE,void 0),m=l.getByteSegments();m!==null&&h.putMetadata(yt.BYTE_SEGMENTS,m);const y=l.getECLevel();return y!==null&&h.putMetadata(yt.ERROR_CORRECTION_LEVEL,y),l.hasStructuredAppend()&&(h.putMetadata(yt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),h.putMetadata(yt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),h}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o===null||l===null)throw new ee;const f=this.moduleSize(o,i);let h=o[1],m=l[1],y=o[0],C=l[0];if(y>=C||h>=m)throw new ee;if(m-h!==C-y&&(C=y+(m-h),C>=i.getWidth()))throw new ee;const N=Math.round((C-y+1)/f),T=Math.round((m-h+1)/f);if(N<=0||T<=0)throw new ee;if(T!==N)throw new ee;const F=Math.floor(f/2);h+=F,y+=F;const H=y+Math.floor((N-1)*f)-C;if(H>0){if(H>F)throw new ee;y-=H}const Z=h+Math.floor((T-1)*f)-m;if(Z>0){if(Z>F)throw new ee;h-=Z}const U=new he(N,T);for(let G=0;G<T;G++){const X=h+Math.floor(G*f);for(let te=0;te<N;te++)i.get(y+Math.floor(te*f),X)&&U.set(te,G)}return U}static moduleSize(i,o){const l=o.getHeight(),f=o.getWidth();let h=i[0],m=i[1],y=!0,C=0;for(;h<f&&m<l;){if(y!==o.get(h,m)){if(++C===5)break;y=!y}h++,m++}if(h===f||m===l)throw new ee;return(h-i[0])/7}}ps.NO_POINTS=new Array;class Xe{PDF417Common(){}static getBitCountSum(i){return st.sum(i)}static toIntArray(i){if(i==null||!i.length)return Xe.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let l=0;for(const f of i)o[l++]=f;return o}static getCodeword(i){const o=D.binarySearch(Xe.SYMBOL_TABLE,i&262143);return o<0?-1:(Xe.CODEWORD_TABLE[o]-1)%Xe.NUMBER_OF_CODEWORDS}}Xe.NUMBER_OF_CODEWORDS=929,Xe.MAX_CODEWORDS_IN_BARCODE=Xe.NUMBER_OF_CODEWORDS-1,Xe.MIN_ROWS_IN_BARCODE=3,Xe.MAX_ROWS_IN_BARCODE=90,Xe.MODULES_IN_CODEWORD=17,Xe.MODULES_IN_STOP_PATTERN=18,Xe.BARS_IN_MODULE=8,Xe.EMPTY_INT_ARRAY=new Int32Array([]),Xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class fp{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class it{static detectMultiple(i,o,l){let f=i.getBlackMatrix(),h=it.detect(l,f);return h.length||(f=f.clone(),f.rotate180(),h=it.detect(l,f)),new fp(f,h)}static detect(i,o){const l=new Array;let f=0,h=0,m=!1;for(;f<o.getHeight();){const y=it.findVertices(o,f,h);if(y[0]==null&&y[3]==null){if(!m)break;m=!1,h=0;for(const C of l)C[1]!=null&&(f=Math.trunc(Math.max(f,C[1].getY()))),C[3]!=null&&(f=Math.max(f,Math.trunc(C[3].getY())));f+=it.ROW_STEP;continue}if(m=!0,l.push(y),!i)break;y[2]!=null?(h=Math.trunc(y[2].getX()),f=Math.trunc(y[2].getY())):(h=Math.trunc(y[4].getX()),f=Math.trunc(y[4].getY()))}return l}static findVertices(i,o,l){const f=i.getHeight(),h=i.getWidth(),m=new Array(8);return it.copyToResult(m,it.findRowsWithPattern(i,f,h,o,l,it.START_PATTERN),it.INDEXES_START_PATTERN),m[4]!=null&&(l=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY())),it.copyToResult(m,it.findRowsWithPattern(i,f,h,o,l,it.STOP_PATTERN),it.INDEXES_STOP_PATTERN),m}static copyToResult(i,o,l){for(let f=0;f<l.length;f++)i[l[f]]=o[f]}static findRowsWithPattern(i,o,l,f,h,m){const y=new Array(4);let C=!1;const N=new Int32Array(m.length);for(;f<o;f+=it.ROW_STEP){let F=it.findGuardPattern(i,h,f,l,!1,m,N);if(F!=null){for(;f>0;){const H=it.findGuardPattern(i,h,--f,l,!1,m,N);if(H!=null)F=H;else{f++;break}}y[0]=new Ee(F[0],f),y[1]=new Ee(F[1],f),C=!0;break}}let T=f+1;if(C){let F=0,H=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;T<o;T++){const Z=it.findGuardPattern(i,H[0],T,l,!1,m,N);if(Z!=null&&Math.abs(H[0]-Z[0])<it.MAX_PATTERN_DRIFT&&Math.abs(H[1]-Z[1])<it.MAX_PATTERN_DRIFT)H=Z,F=0;else{if(F>it.SKIPPED_ROW_COUNT_MAX)break;F++}}T-=F+1,y[2]=new Ee(H[0],T),y[3]=new Ee(H[1],T)}return T-f<it.BARCODE_MIN_HEIGHT&&D.fill(y,null),y}static findGuardPattern(i,o,l,f,h,m,y){D.fillWithin(y,0,y.length,0);let C=o,N=0;for(;i.get(C,l)&&C>0&&N++<it.MAX_PIXEL_DRIFT;)C--;let T=C,F=0,H=m.length;for(let Z=h;T<f;T++)if(i.get(T,l)!==Z)y[F]++;else{if(F===H-1){if(it.patternMatchVariance(y,m,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return new Int32Array([C,T]);C+=y[0]+y[1],R.arraycopy(y,2,y,0,F-1),y[F-1]=0,y[F]=0,F--}else F++;y[F]=1,Z=!Z}return F===H-1&&it.patternMatchVariance(y,m,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE?new Int32Array([C,T-1]):null}static patternMatchVariance(i,o,l){let f=i.length,h=0,m=0;for(let N=0;N<f;N++)h+=i[N],m+=o[N];if(h<m)return 1/0;let y=h/m;l*=y;let C=0;for(let N=0;N<f;N++){let T=i[N],F=o[N]*y,H=T>F?T-F:F-T;if(H>l)return 1/0;C+=H}return C/h}}it.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),it.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),it.MAX_AVG_VARIANCE=.42,it.MAX_INDIVIDUAL_VARIANCE=.8,it.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),it.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),it.MAX_PIXEL_DRIFT=3,it.MAX_PATTERN_DRIFT=5,it.SKIPPED_ROW_COUNT_MAX=25,it.ROW_STEP=5,it.BARCODE_MIN_HEIGHT=10;class Kn{constructor(i,o){if(o.length===0)throw new E;this.field=i;let l=o.length;if(l>1&&o[0]===0){let f=1;for(;f<l&&o[f]===0;)f++;f===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-f),R.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let o=this.coefficients[0],l=this.coefficients.length;for(let f=1;f<l;f++)o=this.field.add(this.field.multiply(i,o),this.coefficients[f]);return o}add(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){let m=o;o=l,l=m}let f=new Int32Array(l.length),h=l.length-o.length;R.arraycopy(l,0,f,0,h);for(let m=h;m<l.length;m++)f[m]=this.field.add(o[m-h],l[m]);return new Kn(this.field,f)}subtract(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Kn?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Kn(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,f=i.coefficients,h=f.length,m=new Int32Array(l+h-1);for(let y=0;y<l;y++){let C=o[y];for(let N=0;N<h;N++)m[y+N]=this.field.add(m[y+N],this.field.multiply(C,f[N]))}return new Kn(this.field,m)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let l=0;l<i;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new Kn(this.field,o)}multiplyScalar(i){if(i===0)return new Kn(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let f=0;f<o;f++)l[f]=this.field.multiply(this.coefficients[f],i);return new Kn(this.field,l)}multiplyByMonomial(i,o){if(i<0)throw new E;if(o===0)return new Kn(this.field,new Int32Array([0]));let l=this.coefficients.length,f=new Int32Array(l+i);for(let h=0;h<l;h++)f[h]=this.field.multiply(this.coefficients[h],o);return new Kn(this.field,f)}toString(){let i=new ie;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(o===0||l!==1)&&i.append(l),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class hp{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new E;return this.logTable[i]}inverse(i){if(i===0)throw new $e;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class zc extends hp{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let f=0;f<i;f++)this.expTable[f]=l,l=l*o%i;for(let f=0;f<i-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new Kn(this,new Int32Array([0])),this.one=new Kn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new E;if(o===0)return this.zero;let l=new Int32Array(i+1);return l[0]=o,new Kn(this,l)}}zc.PDF417_GF=new zc(Xe.NUMBER_OF_CODEWORDS,3);class jd{constructor(){this.field=zc.PDF417_GF}decode(i,o,l){let f=new Kn(this.field,i),h=new Int32Array(o),m=!1;for(let U=o;U>0;U--){let G=f.evaluateAt(this.field.exp(U));h[o-U]=G,G!==0&&(m=!0)}if(!m)return 0;let y=this.field.getOne();if(l!=null)for(const U of l){let G=this.field.exp(i.length-1-U),X=new Kn(this.field,new Int32Array([this.field.subtract(0,G),1]));y=y.multiply(X)}let C=new Kn(this.field,h),N=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),C,o),T=N[0],F=N[1],H=this.findErrorLocations(T),Z=this.findErrorMagnitudes(F,T,H);for(let U=0;U<H.length;U++){let G=i.length-1-this.field.log(H[U]);if(G<0)throw k.getChecksumInstance();i[G]=this.field.subtract(i[G],Z[U])}return H.length}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){let H=i;i=o,o=H}let f=i,h=o,m=this.field.getZero(),y=this.field.getOne();for(;h.getDegree()>=Math.round(l/2);){let H=f,Z=m;if(f=h,m=y,f.isZero())throw k.getChecksumInstance();h=H;let U=this.field.getZero(),G=f.getCoefficient(f.getDegree()),X=this.field.inverse(G);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let te=h.getDegree()-f.getDegree(),pe=this.field.multiply(h.getCoefficient(h.getDegree()),X);U=U.add(this.field.buildMonomial(te,pe)),h=h.subtract(f.multiplyByMonomial(te,pe))}y=U.multiply(m).subtract(Z).negative()}let C=y.getCoefficient(0);if(C===0)throw k.getChecksumInstance();let N=this.field.inverse(C),T=y.multiply(N),F=h.multiply(N);return[T,F]}findErrorLocations(i){let o=i.getDegree(),l=new Int32Array(o),f=0;for(let h=1;h<this.field.getSize()&&f<o;h++)i.evaluateAt(h)===0&&(l[f]=this.field.inverse(h),f++);if(f!==o)throw k.getChecksumInstance();return l}findErrorMagnitudes(i,o,l){let f=o.getDegree(),h=new Int32Array(f);for(let N=1;N<=f;N++)h[f-N]=this.field.multiply(N,o.getCoefficient(N));let m=new Kn(this.field,h),y=l.length,C=new Int32Array(y);for(let N=0;N<y;N++){let T=this.field.inverse(l[N]),F=this.field.subtract(0,i.evaluateAt(T)),H=this.field.inverse(m.evaluateAt(T));C[N]=this.field.multiply(F,H)}return C}}class Fs{constructor(i,o,l,f,h){i instanceof Fs?this.constructor_2(i):this.constructor_1(i,o,l,f,h)}constructor_1(i,o,l,f,h){const m=o==null||l==null,y=f==null||h==null;if(m&&y)throw new ee;m?(o=new Ee(0,f.getY()),l=new Ee(0,h.getY())):y&&(f=new Ee(i.getWidth()-1,o.getY()),h=new Ee(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=o,this.bottomLeft=l,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(l.getY(),h.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new Fs(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,l){let f=this.topLeft,h=this.bottomLeft,m=this.topRight,y=this.bottomRight;if(i>0){let C=l?this.topLeft:this.topRight,N=Math.trunc(C.getY()-i);N<0&&(N=0);let T=new Ee(C.getX(),N);l?f=T:m=T}if(o>0){let C=l?this.bottomLeft:this.bottomRight,N=Math.trunc(C.getY()+o);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let T=new Ee(C.getX(),N);l?h=T:y=T}return new Fs(this.image,f,h,m,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class en{constructor(i,o,l,f){this.columnCount=i,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class jt{constructor(){this.buffer=""}static form(i,o){let l=-1;function f(m,y,C,N,T,F){if(m==="%%")return"%";if(o[++l]===void 0)return;m=N?parseInt(N.substr(1)):void 0;let H=T?parseInt(T.substr(1)):void 0,Z;switch(F){case"s":Z=o[l];break;case"c":Z=o[l][0];break;case"f":Z=parseFloat(o[l]).toFixed(m);break;case"p":Z=parseFloat(o[l]).toPrecision(m);break;case"e":Z=parseFloat(o[l]).toExponential(m);break;case"x":Z=parseInt(o[l]).toString(H||16);break;case"d":Z=parseFloat(parseInt(o[l],H||10).toPrecision(m)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(H);let U=parseInt(C),G=C&&C[0]+""=="0"?"0":" ";for(;Z.length<U;)Z=y!==void 0?Z+G:G+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(h,f)}format(i,...o){this.buffer+=jt.form(i,o)}toString(){return this.buffer}}class wo{constructor(i){this.boundingBox=new Fs(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let l=1;l<wo.MAX_NEARBY_DISTANCE;l++){let f=this.imageRowToCodewordIndex(i)-l;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(i)+l,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new jt;let o=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return i.toString()}}wo.MAX_NEARBY_DISTANCE=5;class bo{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[l,f]of this.values.entries()){const h={getKey:()=>l,getValue:()=>f};h.getValue()>i?(i=h.getValue(),o=[],o.push(h.getKey())):h.getValue()===i&&o.push(h.getKey())}return Xe.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class Md extends wo{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let l=this.getBoundingBox(),f=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),C=-1,N=1,T=0;for(let F=m;F<y;F++){if(o[F]==null)continue;let H=o[F],Z=H.getRowNumber()-C;if(Z===0)T++;else if(Z===1)N=Math.max(N,T),T=1,C=H.getRowNumber();else if(Z<0||H.getRowNumber()>=i.getRowCount()||Z>F)o[F]=null;else{let U;N>2?U=(N-2)*Z:U=Z;let G=U>=F;for(let X=1;X<=U&&!G;X++)G=o[F-X]!=null;G?o[F]=null:(C=H.getRowNumber(),T=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let f=l.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.getCodewords(),C=-1;for(let N=h;N<m;N++){if(y[N]==null)continue;let T=y[N];T.setRowNumberAsRowIndicatorColumn();let F=T.getRowNumber()-C;F===0||(F===1?C=T.getRowNumber():T.getRowNumber()>=i.getRowCount()?y[N]=null:C=T.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new bo,l=new bo,f=new bo,h=new bo;for(let y of i){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let C=y.getValue()%30,N=y.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:l.setValue(C*3+1);break;case 1:h.setValue(C/3),f.setValue(C%3);break;case 2:o.setValue(C+1);break}}if(o.getValue().length===0||l.getValue().length===0||f.getValue().length===0||h.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+f.getValue()[0]<Xe.MIN_ROWS_IN_BARCODE||l.getValue()[0]+f.getValue()[0]>Xe.MAX_ROWS_IN_BARCODE)return null;let m=new en(o.getValue()[0],l.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(i,m),m}removeIncorrectCodewords(i,o){for(let l=0;l<i.length;l++){let f=i[l];if(i[l]==null)continue;let h=f.getValue()%30,m=f.getRowNumber();if(m>o.getRowCount()){i[l]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:h*3+1!==o.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(h/3)!==o.getErrorCorrectionLevel()||h%3!==o.getRowCountLowerPart())&&(i[l]=null);break;case 2:h+1!==o.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Co{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Xe.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let f=0;f<l.length;f++)l[f]!=null&&(l[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&o[l]!=null&&i[l].getRowNumber()===o[l].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[l];h!=null&&(h.setRowNumber(i[l].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let f=o[l].getRowNumber(),h=0;for(let m=this.barcodeColumnCount+1;m>0&&h<this.ADJUST_ROW_NUMBER_SKIP;m--){let y=this.detectionResultColumns[m].getCodewords()[l];y!=null&&(h=Co.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let f=o[l].getRowNumber(),h=0;for(let m=1;m<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;m++){let y=this.detectionResultColumns[m].getCodewords()[l];y!=null&&(h=Co.adjustRowNumberIfValid(f,h,y),y.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,l){if(!this.detectionResultColumns[i-1])return;let f=l[o],h=this.detectionResultColumns[i-1].getCodewords(),m=h;this.detectionResultColumns[i+1]!=null&&(m=this.detectionResultColumns[i+1].getCodewords());let y=new Array(14);y[2]=h[o],y[3]=m[o],o>0&&(y[0]=l[o-1],y[4]=h[o-1],y[5]=m[o-1]),o>1&&(y[8]=l[o-2],y[10]=h[o-2],y[11]=m[o-2]),o<l.length-1&&(y[1]=l[o+1],y[6]=h[o+1],y[7]=m[o+1]),o<l.length-2&&(y[9]=l[o+2],y[12]=h[o+2],y[13]=m[o+2]);for(let C of y)if(Co.adjustRowNumber(f,C))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new jt;for(let l=0;l<i.getCodewords().length;l++){o.format("CW %3d:",l);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[l];if(h==null){o.format("    |   ");continue}o.format(" %3d|%3d",h.getRowNumber(),h.getValue())}o.format("%n")}return o.toString()}}class Eo{constructor(i,o,l,f){this.rowNumber=Eo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Eo.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Eo.BARCODE_ROW_UNKNOWN=-1;class Cr{static initialize(){for(let i=0;i<Xe.SYMBOL_TABLE.length;i++){let o=Xe.SYMBOL_TABLE[i],l=o&1;for(let f=0;f<Xe.BARS_IN_MODULE;f++){let h=0;for(;(o&1)===l;)h+=1,o>>=1;l=o&1,Cr.RATIOS_TABLE[i]||(Cr.RATIOS_TABLE[i]=new Array(Xe.BARS_IN_MODULE)),Cr.RATIOS_TABLE[i][Xe.BARS_IN_MODULE-f-1]=Math.fround(h/Xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=Cr.getDecodedCodewordValue(Cr.sampleBitCounts(i));return o!==-1?o:Cr.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=st.sum(i),l=new Int32Array(Xe.BARS_IN_MODULE),f=0,h=0;for(let m=0;m<Xe.MODULES_IN_CODEWORD;m++){let y=o/(2*Xe.MODULES_IN_CODEWORD)+m*o/Xe.MODULES_IN_CODEWORD;h+i[f]<=y&&(h+=i[f],f++),l[f]++}return l}static getDecodedCodewordValue(i){let o=Cr.getBitValue(i);return Xe.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let l=0;l<i.length;l++)for(let f=0;f<i[l];f++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=st.sum(i),l=new Array(Xe.BARS_IN_MODULE);if(o>1)for(let m=0;m<l.length;m++)l[m]=Math.fround(i[m]/o);let f=Ie.MAX_VALUE,h=-1;this.bSymbolTableReady||Cr.initialize();for(let m=0;m<Cr.RATIOS_TABLE.length;m++){let y=0,C=Cr.RATIOS_TABLE[m];for(let N=0;N<Xe.BARS_IN_MODULE;N++){let T=Math.fround(C[N]-l[N]);if(y+=Math.fround(T*T),y>=f)break}y<f&&(f=y,h=Xe.SYMBOL_TABLE[m])}return h}}Cr.bSymbolTableReady=!1,Cr.RATIOS_TABLE=new Array(Xe.SYMBOL_TABLE.length).map(M=>new Array(Xe.BARS_IN_MODULE));class Wc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class Ld{static parseLong(i,o=void 0){return parseInt(i,o)}}class qn extends x{}qn.kind="NullPointerException";class Hc{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,l){if(i==null)throw new qn;if(o<0||o>i.length||l<0||o+l>i.length||o+l<0)throw new j;if(l===0)return;for(let f=0;f<l;f++)this.write(i[o+f])}flush(){}close(){}}class Bs extends x{}class Pd extends Hc{constructor(i=32){if(super(),this.count=0,i<0)throw new E("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new Bs;l=O.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,l){if(o<0||o>i.length||l<0||o+l-i.length>0)throw new j;this.ensureCapacity(this.count+l),R.arraycopy(i,o,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Mt;(function(M){M[M.ALPHA=0]="ALPHA",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.PUNCT=3]="PUNCT",M[M.ALPHA_SHIFT=4]="ALPHA_SHIFT",M[M.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Mt||(Mt={}));function Or(){if(typeof window<"u")return window.BigInt||null;if(typeof Ns<"u")return Ns.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let No;function $i(M){if(typeof No>"u"&&(No=Or()),No===null)throw new Error("BigInt is not supported!");return No(M)}function Fd(){let M=[];M[0]=$i(1);let i=$i(900);M[1]=i;for(let o=2;o<16;o++)M[o]=M[o-1]*i;return M}class fe{static decode(i,o){let l=new ie(""),f=W.ISO8859_1;l.enableDecoding(f);let h=1,m=i[h++],y=new Wc;for(;h<i[0];){switch(m){case fe.TEXT_COMPACTION_MODE_LATCH:h=fe.textCompaction(i,h,l);break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:h=fe.byteCompaction(m,i,f,h,l);break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h++]);break;case fe.NUMERIC_COMPACTION_MODE_LATCH:h=fe.numericCompaction(i,h,l);break;case fe.ECI_CHARSET:W.getCharacterSetECIByValue(i[h++]);break;case fe.ECI_GENERAL_PURPOSE:h+=2;break;case fe.ECI_USER_DEFINED:h++;break;case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=fe.decodeMacroBlock(i,h,y);break;case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:throw new P;default:h--,h=fe.textCompaction(i,h,l);break}if(h<i.length)m=i[h++];else throw P.getFormatInstance()}if(l.length()===0)throw P.getFormatInstance();let C=new $n(null,l.toString(),null,o);return C.setOther(y),C}static decodeMacroBlock(i,o,l){if(o+fe.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw P.getFormatInstance();let f=new Int32Array(fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<fe.NUMBER_OF_SEQUENCE_CODEWORDS;y++,o++)f[y]=i[o];l.setSegmentIndex(O.parseInt(fe.decodeBase900toBase10(f,fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new ie;o=fe.textCompaction(i,o,h),l.setFileId(h.toString());let m=-1;for(i[o]===fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=o+1);o<i[0];)switch(i[o]){case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new ie;o=fe.textCompaction(i,o+1,y),l.setFileName(y.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new ie;o=fe.textCompaction(i,o+1,C),l.setSender(C.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new ie;o=fe.textCompaction(i,o+1,N),l.setAddressee(N.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new ie;o=fe.numericCompaction(i,o+1,T),l.setSegmentCount(O.parseInt(T.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new ie;o=fe.numericCompaction(i,o+1,F),l.setTimestamp(Ld.parseLong(F.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let H=new ie;o=fe.numericCompaction(i,o+1,H),l.setChecksum(O.parseInt(H.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Z=new ie;o=fe.numericCompaction(i,o+1,Z),l.setFileSize(Ld.parseLong(Z.toString()));break;default:throw P.getFormatInstance()}break;case fe.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(m!==-1){let y=o-m;l.isLastSegment()&&y--,l.setOptionalData(D.copyOfRange(i,m,m+y))}return o}static textCompaction(i,o,l){let f=new Int32Array((i[0]-o)*2),h=new Int32Array((i[0]-o)*2),m=0,y=!1;for(;o<i[0]&&!y;){let C=i[o++];if(C<fe.TEXT_COMPACTION_MODE_LATCH)f[m]=C/30,f[m+1]=C%30,m+=2;else switch(C){case fe.TEXT_COMPACTION_MODE_LATCH:f[m++]=fe.TEXT_COMPACTION_MODE_LATCH;break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:o--,y=!0;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[m]=fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=i[o++],h[m]=C,m++;break}}return fe.decodeTextCompaction(f,h,m,l),o}static decodeTextCompaction(i,o,l,f){let h=Mt.ALPHA,m=Mt.ALPHA,y=0;for(;y<l;){let C=i[y],N="";switch(h){case Mt.ALPHA:if(C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case fe.LL:h=Mt.LOWER;break;case fe.ML:h=Mt.MIXED;break;case fe.PS:m=h,h=Mt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Mt.ALPHA;break}break;case Mt.LOWER:if(C<26)N=String.fromCharCode(97+C);else switch(C){case 26:N=" ";break;case fe.AS:m=h,h=Mt.ALPHA_SHIFT;break;case fe.ML:h=Mt.MIXED;break;case fe.PS:m=h,h=Mt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Mt.ALPHA;break}break;case Mt.MIXED:if(C<fe.PL)N=fe.MIXED_CHARS[C];else switch(C){case fe.PL:h=Mt.PUNCT;break;case 26:N=" ";break;case fe.LL:h=Mt.LOWER;break;case fe.AL:h=Mt.ALPHA;break;case fe.PS:m=h,h=Mt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Mt.ALPHA;break}break;case Mt.PUNCT:if(C<fe.PAL)N=fe.PUNCT_CHARS[C];else switch(C){case fe.PAL:h=Mt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Mt.ALPHA;break}break;case Mt.ALPHA_SHIFT:if(h=m,C<26)N=String.fromCharCode(65+C);else switch(C){case 26:N=" ";break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Mt.ALPHA;break}break;case Mt.PUNCT_SHIFT:if(h=m,C<fe.PAL)N=fe.PUNCT_CHARS[C];else switch(C){case fe.PAL:h=Mt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[y]);break;case fe.TEXT_COMPACTION_MODE_LATCH:h=Mt.ALPHA;break}break}N!==""&&f.append(N),y++}}static byteCompaction(i,o,l,f,h){let m=new Pd,y=0,C=0,N=!1;switch(i){case fe.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),F=o[f++];for(;f<o[0]&&!N;)switch(T[y++]=F,C=900*C+F,F=o[f++],F){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:f--,N=!0;break;default:if(y%5===0&&y>0){for(let H=0;H<6;++H)m.write(Number($i(C)>>$i(8*(5-H))));C=0,y=0}break}f===o[0]&&F<fe.TEXT_COMPACTION_MODE_LATCH&&(T[y++]=F);for(let H=0;H<y;H++)m.write(T[H]);break;case fe.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!N;){let H=o[f++];if(H<fe.TEXT_COMPACTION_MODE_LATCH)y++,C=900*C+H;else switch(H){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:f--,N=!0;break}if(y%5===0&&y>0){for(let Z=0;Z<6;++Z)m.write(Number($i(C)>>$i(8*(5-Z))));C=0,y=0}}break}return h.append(ce.decode(m.toByteArray(),l)),f}static numericCompaction(i,o,l){let f=0,h=!1,m=new Int32Array(fe.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!h;){let y=i[o++];if(o===i[0]&&(h=!0),y<fe.TEXT_COMPACTION_MODE_LATCH)m[f]=y,f++;else switch(y){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:o--,h=!0;break}(f%fe.MAX_NUMERIC_CODEWORDS===0||y===fe.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(l.append(fe.decodeBase900toBase10(m,f)),f=0)}return o}static decodeBase900toBase10(i,o){let l=$i(0);for(let h=0;h<o;h++)l+=fe.EXP900[o-h-1]*$i(i[h]);let f=l.toString();if(f.charAt(0)!=="1")throw new P;return f.substring(1)}}fe.TEXT_COMPACTION_MODE_LATCH=900,fe.BYTE_COMPACTION_MODE_LATCH=901,fe.NUMERIC_COMPACTION_MODE_LATCH=902,fe.BYTE_COMPACTION_MODE_LATCH_6=924,fe.ECI_USER_DEFINED=925,fe.ECI_GENERAL_PURPOSE=926,fe.ECI_CHARSET=927,fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fe.MACRO_PDF417_TERMINATOR=922,fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fe.MAX_NUMERIC_CODEWORDS=15,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fe.PL=25,fe.LL=27,fe.AS=27,fe.ML=28,fe.AL=28,fe.PS=29,fe.PAL=29,fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",fe.EXP900=Or()?Fd():[],fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ot{constructor(){}static decode(i,o,l,f,h,m,y){let C=new Fs(i,o,l,f,h),N=null,T=null,F;for(let U=!0;;U=!1){if(o!=null&&(N=ot.getRowIndicatorColumn(i,C,o,!0,m,y)),f!=null&&(T=ot.getRowIndicatorColumn(i,C,f,!1,m,y)),F=ot.merge(N,T),F==null)throw ee.getNotFoundInstance();let G=F.getBoundingBox();if(U&&G!=null&&(G.getMinY()<C.getMinY()||G.getMaxY()>C.getMaxY()))C=G;else break}F.setBoundingBox(C);let H=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,N),F.setDetectionResultColumn(H,T);let Z=N!=null;for(let U=1;U<=H;U++){let G=Z?U:H-U;if(F.getDetectionResultColumn(G)!==void 0)continue;let X;G===0||G===H?X=new Md(C,G===0):X=new wo(C),F.setDetectionResultColumn(G,X);let te=-1,pe=te;for(let ve=C.getMinY();ve<=C.getMaxY();ve++){if(te=ot.getStartColumn(F,G,ve,Z),te<0||te>C.getMaxX()){if(pe===-1)continue;te=pe}let ye=ot.detectCodeword(i,C.getMinX(),C.getMaxX(),Z,te,ve,m,y);ye!=null&&(X.setCodeword(ve,ye),pe=te,m=Math.min(m,ye.getWidth()),y=Math.max(y,ye.getWidth()))}}return ot.createDecoderResult(F)}static merge(i,o){if(i==null&&o==null)return null;let l=ot.getBarcodeMetadata(i,o);if(l==null)return null;let f=Fs.merge(ot.adjustBoundingBox(i),ot.adjustBoundingBox(o));return new Co(l,f)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let l=ot.getMax(o),f=0;for(let y of o)if(f+=l-y,y>0)break;let h=i.getCodewords();for(let y=0;f>0&&h[y]==null;y++)f--;let m=0;for(let y=o.length-1;y>=0&&(m+=l-o[y],!(o[y]>0));y--);for(let y=h.length-1;m>0&&h[y]==null;y--)m--;return i.getBoundingBox().addMissingRows(f,m,i.isLeft())}static getMax(i){let o=-1;for(let l of i)o=Math.max(o,l);return o}static getBarcodeMetadata(i,o){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==f.getColumnCount()&&l.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&l.getRowCount()!==f.getRowCount()?null:l}static getRowIndicatorColumn(i,o,l,f,h,m){let y=new Md(o,f);for(let C=0;C<2;C++){let N=C===0?1:-1,T=Math.trunc(Math.trunc(l.getX()));for(let F=Math.trunc(Math.trunc(l.getY()));F<=o.getMaxY()&&F>=o.getMinY();F+=N){let H=ot.detectCodeword(i,0,i.getWidth(),f,T,F,h,m);H!=null&&(y.setCodeword(F,H),f?T=H.getStartX():T=H.getEndX())}}return y}static adjustCodewordCount(i,o){let l=o[0][1],f=l.getValue(),h=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-ot.getNumberOfECCodeWords(i.getBarcodeECLevel());if(f.length===0){if(h<1||h>Xe.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();l.setValue(h)}else f[0]!==h&&l.setValue(h)}static createDecoderResult(i){let o=ot.createBarcodeMatrix(i);ot.adjustCodewordCount(i,o);let l=new Array,f=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),h=[],m=new Array;for(let C=0;C<i.getBarcodeRowCount();C++)for(let N=0;N<i.getBarcodeColumnCount();N++){let T=o[C][N+1].getValue(),F=C*i.getBarcodeColumnCount()+N;T.length===0?l.push(F):T.length===1?f[F]=T[0]:(m.push(F),h.push(T))}let y=new Array(h.length);for(let C=0;C<y.length;C++)y[C]=h[C];return ot.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),f,Xe.toIntArray(l),Xe.toIntArray(m),y)}static createDecoderResultFromAmbiguousValues(i,o,l,f,h){let m=new Int32Array(f.length),y=100;for(;y-- >0;){for(let C=0;C<m.length;C++)o[f[C]]=h[C][m[C]];try{return ot.decodeCodewords(o,i,l)}catch(C){if(!(C instanceof k))throw C}if(m.length===0)throw k.getChecksumInstance();for(let C=0;C<m.length;C++)if(m[C]<h[C].length-1){m[C]++;break}else if(m[C]=0,C===m.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let h=0;h<o[f].length;h++)o[f][h]=new bo;let l=0;for(let f of i.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let m=h.getRowNumber();if(m>=0){if(m>=o.length)continue;o[m][l].setValue(h.getValue())}}}l++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,l,f){let h=f?1:-1,m=null;if(ot.isValidBarcodeColumn(i,o-h)&&(m=i.getDetectionResultColumn(o-h).getCodeword(l)),m!=null)return f?m.getEndX():m.getStartX();if(m=i.getDetectionResultColumn(o).getCodewordNearby(l),m!=null)return f?m.getStartX():m.getEndX();if(ot.isValidBarcodeColumn(i,o-h)&&(m=i.getDetectionResultColumn(o-h).getCodewordNearby(l)),m!=null)return f?m.getEndX():m.getStartX();let y=0;for(;ot.isValidBarcodeColumn(i,o-h);){o-=h;for(let C of i.getDetectionResultColumn(o).getCodewords())if(C!=null)return(f?C.getEndX():C.getStartX())+h*y*(C.getEndX()-C.getStartX());y++}return f?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,l,f,h,m,y,C){h=ot.adjustCodewordStartColumn(i,o,l,f,h,m);let N=ot.getModuleBitCount(i,o,l,f,h,m);if(N==null)return null;let T,F=st.sum(N);if(f)T=h+F;else{for(let U=0;U<N.length/2;U++){let G=N[U];N[U]=N[N.length-1-U],N[N.length-1-U]=G}T=h,h=T-F}if(!ot.checkCodewordSkew(F,y,C))return null;let H=Cr.getDecodedValue(N),Z=Xe.getCodeword(H);return Z===-1?null:new Eo(h,T,ot.getCodewordBucketNumber(H),Z)}static getModuleBitCount(i,o,l,f,h,m){let y=h,C=new Int32Array(8),N=0,T=f?1:-1,F=f;for(;(f?y<l:y>=o)&&N<C.length;)i.get(y,m)===F?(C[N]++,y+=T):(N++,F=!F);return N===C.length||y===(f?l:o)&&N===C.length-1?C:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,l,f,h,m){let y=h,C=f?-1:1;for(let N=0;N<2;N++){for(;(f?y>=o:y<l)&&f===i.get(y,m);){if(Math.abs(h-y)>ot.CODEWORD_SKEW_SIZE)return h;y+=C}C=-C,f=!f}return y}static checkCodewordSkew(i,o,l){return o-ot.CODEWORD_SKEW_SIZE<=i&&i<=l+ot.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,l){if(i.length===0)throw P.getFormatInstance();let f=1<<o+1,h=ot.correctErrors(i,l,f);ot.verifyCodewordCount(i,f);let m=fe.decode(i,""+o);return m.setErrorsCorrected(h),m.setErasures(l.length),m}static correctErrors(i,o,l){if(o!=null&&o.length>l/2+ot.MAX_ERRORS||l<0||l>ot.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return ot.errorCorrection.decode(i,l,o)}static verifyCodewordCount(i,o){if(i.length<4)throw P.getFormatInstance();let l=i[0];if(l>i.length)throw P.getFormatInstance();if(l===0)if(o<i.length)i[0]=i.length-o;else throw P.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),l=0,f=o.length-1;for(;!((i&1)!==l&&(l=i&1,f--,f<0));)o[f]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return ot.getCodewordBucketNumber(ot.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new jt;for(let l=0;l<i.length;l++){o.format("Row %2d: ",l);for(let f=0;f<i[l].length;f++){let h=i[l][f];h.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}o.format("%n")}return o.toString()}}ot.CODEWORD_SKEW_SIZE=2,ot.MAX_ERRORS=3,ot.MAX_EC_CODEWORDS=512,ot.errorCorrection=new jd;class Vn{decode(i,o=null){let l=Vn.decode(i,o,!1);if(l==null||l.length===0||l[0]==null)throw ee.getNotFoundInstance();return l[0]}decodeMultiple(i,o=null){try{return Vn.decode(i,o,!0)}catch(l){throw l instanceof P||l instanceof k?ee.getNotFoundInstance():l}}static decode(i,o,l){const f=new Array,h=it.detectMultiple(i,o,l);for(const m of h.getPoints()){const y=ot.decode(h.getBits(),m[4],m[5],m[6],m[7],Vn.getMinCodewordWidth(m),Vn.getMaxCodewordWidth(m)),C=new vt(y.getText(),y.getRawBytes(),void 0,m,De.PDF_417);C.putMetadata(yt.ERROR_CORRECTION_LEVEL,y.getECLevel());const N=y.getOther();N!=null&&C.putMetadata(yt.PDF417_EXTRA_METADATA,N),f.push(C)}return f.map(m=>m)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?O.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Vn.getMaxWidth(i[0],i[4]),Vn.getMaxWidth(i[6],i[2])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN),Math.max(Vn.getMaxWidth(i[1],i[5]),Vn.getMaxWidth(i[7],i[3])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Vn.getMinWidth(i[0],i[4]),Vn.getMinWidth(i[6],i[2])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN),Math.min(Vn.getMinWidth(i[1],i[5]),Vn.getMinWidth(i[7],i[3])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN)))}reset(){}}class rr extends x{}rr.kind="ReaderException";class Bd{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!r(i)&&i.get(z.TRY_HARDER)===!0,l=r(i)?null:i.get(z.POSSIBLE_FORMATS),f=new Array;if(!r(l)){const h=l.some(m=>m===De.UPC_A||m===De.UPC_E||m===De.EAN_13||m===De.EAN_8||m===De.CODABAR||m===De.CODE_39||m===De.CODE_93||m===De.CODE_128||m===De.ITF||m===De.RSS_14||m===De.RSS_EXPANDED);h&&!o&&f.push(new Ps(i,this.verbose)),l.includes(De.QR_CODE)&&f.push(new ps),l.includes(De.DATA_MATRIX)&&f.push(new oi),l.includes(De.AZTEC)&&f.push(new Ei),l.includes(De.PDF_417)&&f.push(new Vn),h&&o&&f.push(new Ps(i,this.verbose))}f.length===0&&(o||f.push(new Ps(i,this.verbose)),f.push(new ps),f.push(new oi),f.push(new Ei),f.push(new Vn),o&&f.push(new Ps(i,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new rr("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(l){if(l instanceof rr)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class Gr extends Rn{constructor(i=null,o=500){const l=new Bd;l.setHints(i),super(l,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class pp extends Rn{constructor(i=500){super(new Vn,i)}}class Ud extends Rn{constructor(i=500){super(new ps,i)}}var Ti;(function(M){M[M.ERROR_CORRECTION=0]="ERROR_CORRECTION",M[M.CHARACTER_SET=1]="CHARACTER_SET",M[M.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",M[M.MIN_SIZE=3]="MIN_SIZE",M[M.MAX_SIZE=4]="MAX_SIZE",M[M.MARGIN=5]="MARGIN",M[M.PDF417_COMPACT=6]="PDF417_COMPACT",M[M.PDF417_COMPACTION=7]="PDF417_COMPACTION",M[M.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",M[M.AZTEC_LAYERS=9]="AZTEC_LAYERS",M[M.QR_VERSION=10]="QR_VERSION"})(Ti||(Ti={}));var dn=Ti;class _o{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new ke(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let l=o[o.length-1];const f=this.field;for(let h=o.length;h<=i;h++){const m=l.multiply(new ke(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));o.push(m),l=m}}return o[i]}encode(i,o){if(o===0)throw new E("No error correction bytes");const l=i.length-o;if(l<=0)throw new E("No data bytes provided");const f=this.buildGenerator(o),h=new Int32Array(l);R.arraycopy(i,0,h,0,l);let m=new ke(this.field,h);m=m.multiplyByMonomial(o,1);const C=m.divide(f)[1].getCoefficients(),N=o-C.length;for(let T=0;T<N;T++)i[l+T]=0;R.arraycopy(C,0,i,l+N,C.length)}}class nt{constructor(){}static applyMaskPenaltyRule1(i){return nt.applyMaskPenaltyRule1Internal(i,!0)+nt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const l=i.getArray(),f=i.getWidth(),h=i.getHeight();for(let m=0;m<h-1;m++){const y=l[m];for(let C=0;C<f-1;C++){const N=y[C];N===y[C+1]&&N===l[m+1][C]&&N===l[m+1][C+1]&&o++}}return nt.N2*o}static applyMaskPenaltyRule3(i){let o=0;const l=i.getArray(),f=i.getWidth(),h=i.getHeight();for(let m=0;m<h;m++)for(let y=0;y<f;y++){const C=l[m];y+6<f&&C[y]===1&&C[y+1]===0&&C[y+2]===1&&C[y+3]===1&&C[y+4]===1&&C[y+5]===0&&C[y+6]===1&&(nt.isWhiteHorizontal(C,y-4,y)||nt.isWhiteHorizontal(C,y+7,y+11))&&o++,m+6<h&&l[m][y]===1&&l[m+1][y]===0&&l[m+2][y]===1&&l[m+3][y]===1&&l[m+4][y]===1&&l[m+5][y]===0&&l[m+6][y]===1&&(nt.isWhiteVertical(l,y,m-4,m)||nt.isWhiteVertical(l,y,m+7,m+11))&&o++}return o*nt.N3}static isWhiteHorizontal(i,o,l){o=Math.max(o,0),l=Math.min(l,i.length);for(let f=o;f<l;f++)if(i[f]===1)return!1;return!0}static isWhiteVertical(i,o,l,f){l=Math.max(l,0),f=Math.min(f,i.length);for(let h=l;h<f;h++)if(i[h][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const l=i.getArray(),f=i.getWidth(),h=i.getHeight();for(let C=0;C<h;C++){const N=l[C];for(let T=0;T<f;T++)N[T]===1&&o++}const m=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-m)*10/m)*nt.N4}static getDataMaskBit(i,o,l){let f,h;switch(i){case 0:f=l+o&1;break;case 1:f=l&1;break;case 2:f=o%3;break;case 3:f=(l+o)%3;break;case 4:f=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:h=l*o,f=(h&1)+h%3;break;case 6:h=l*o,f=(h&1)+h%3&1;break;case 7:h=l*o,f=h%3+(l+o&1)&1;break;default:throw new E("Invalid mask pattern: "+i)}return f===0}static applyMaskPenaltyRule1Internal(i,o){let l=0;const f=o?i.getHeight():i.getWidth(),h=o?i.getWidth():i.getHeight(),m=i.getArray();for(let y=0;y<f;y++){let C=0,N=-1;for(let T=0;T<h;T++){const F=o?m[y][T]:m[T][y];F===N?C++:(C>=5&&(l+=nt.N1+(C-5)),C=1,N=F)}C>=5&&(l+=nt.N1+(C-5))}return l}}nt.N1=3,nt.N2=3,nt.N3=40,nt.N4=10;class li{constructor(i,o){this.width=i,this.height=o;const l=new Array(o);for(let f=0;f!==o;f++)l[f]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,l){this.bytes[o][i]=l}setBoolean(i,o,l){this.bytes[o][i]=l?1:0}clear(i){for(const o of this.bytes)D.fill(o,i)}equals(i){if(!(i instanceof li))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,f=this.height;l<f;++l){const h=this.bytes[l],m=o.bytes[l];for(let y=0,C=this.width;y<C;++y)if(h[y]!==m[y])return!1}return!0}toString(){const i=new ie;for(let o=0,l=this.height;o<l;++o){const f=this.bytes[o];for(let h=0,m=this.width;h<m;++h)switch(f[h]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Xi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ie;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Xi.NUM_MASK_PATTERNS}}Xi.NUM_MASK_PATTERNS=8;class Vt extends x{}Vt.kind="WriterException";class Ge{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,l,f,h){Ge.clearMatrix(h),Ge.embedBasicPatterns(l,h),Ge.embedTypeInfo(o,f,h),Ge.maybeEmbedVersionInfo(l,h),Ge.embedDataBits(i,f,h)}static embedBasicPatterns(i,o){Ge.embedPositionDetectionPatternsAndSeparators(o),Ge.embedDarkDotAtLeftBottomCorner(o),Ge.maybeEmbedPositionAdjustmentPatterns(i,o),Ge.embedTimingPatterns(o)}static embedTypeInfo(i,o,l){const f=new q;Ge.makeTypeInfoBits(i,o,f);for(let h=0,m=f.getSize();h<m;++h){const y=f.get(f.getSize()-1-h),C=Ge.TYPE_INFO_COORDINATES[h],N=C[0],T=C[1];if(l.setBoolean(N,T,y),h<8){const F=l.getWidth()-h-1,H=8;l.setBoolean(F,H,y)}else{const H=l.getHeight()-7+(h-8);l.setBoolean(8,H,y)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const l=new q;Ge.makeVersionInfoBits(i,l);let f=6*3-1;for(let h=0;h<6;++h)for(let m=0;m<3;++m){const y=l.get(f);f--,o.setBoolean(h,o.getHeight()-11+m,y),o.setBoolean(o.getHeight()-11+m,h,y)}}static embedDataBits(i,o,l){let f=0,h=-1,m=l.getWidth()-1,y=l.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);y>=0&&y<l.getHeight();){for(let C=0;C<2;++C){const N=m-C;if(!Ge.isEmpty(l.get(N,y)))continue;let T;f<i.getSize()?(T=i.get(f),++f):T=!1,o!==255&&nt.getDataMaskBit(o,N,y)&&(T=!T),l.setBoolean(N,y,T)}y+=h}h=-h,y+=h,m-=2}if(f!==i.getSize())throw new Vt("Not all bits consumed: "+f+"/"+i.getSize())}static findMSBSet(i){return 32-O.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new E("0 polynomial");const l=Ge.findMSBSet(o);for(i<<=l-1;Ge.findMSBSet(i)>=l;)i^=o<<Ge.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,o,l){if(!Xi.isValidMaskPattern(o))throw new Vt("Invalid mask pattern");const f=i.getBits()<<3|o;l.appendBits(f,5);const h=Ge.calculateBCHCode(f,Ge.TYPE_INFO_POLY);l.appendBits(h,10);const m=new q;if(m.appendBits(Ge.TYPE_INFO_MASK_PATTERN,15),l.xor(m),l.getSize()!==15)throw new Vt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const l=Ge.calculateBCHCode(i.getVersionNumber(),Ge.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new Vt("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const l=(o+1)%2;Ge.isEmpty(i.get(o,6))&&i.setNumber(o,6,l),Ge.isEmpty(i.get(6,o))&&i.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new Vt;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,l){for(let f=0;f<8;++f){if(!Ge.isEmpty(l.get(i+f,o)))throw new Vt;l.setNumber(i+f,o,0)}}static embedVerticalSeparationPattern(i,o,l){for(let f=0;f<7;++f){if(!Ge.isEmpty(l.get(i,o+f)))throw new Vt;l.setNumber(i,o+f,0)}}static embedPositionAdjustmentPattern(i,o,l){for(let f=0;f<5;++f){const h=Ge.POSITION_ADJUSTMENT_PATTERN[f];for(let m=0;m<5;++m)l.setNumber(i+m,o+f,h[m])}}static embedPositionDetectionPattern(i,o,l){for(let f=0;f<7;++f){const h=Ge.POSITION_DETECTION_PATTERN[f];for(let m=0;m<7;++m)l.setNumber(i+m,o+f,h[m])}}static embedPositionDetectionPatternsAndSeparators(i){const o=Ge.POSITION_DETECTION_PATTERN[0].length;Ge.embedPositionDetectionPattern(0,0,i),Ge.embedPositionDetectionPattern(i.getWidth()-o,0,i),Ge.embedPositionDetectionPattern(0,i.getWidth()-o,i);const l=8;Ge.embedHorizontalSeparationPattern(0,l-1,i),Ge.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),Ge.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const f=7;Ge.embedVerticalSeparationPattern(f,0,i),Ge.embedVerticalSeparationPattern(i.getHeight()-f-1,0,i),Ge.embedVerticalSeparationPattern(f,i.getHeight()-f,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,f=Ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let h=0,m=f.length;h!==m;h++){const y=f[h];if(y>=0)for(let C=0;C!==m;C++){const N=f[C];N>=0&&Ge.isEmpty(o.get(N,y))&&Ge.embedPositionAdjustmentPattern(N-2,y-2,o)}}}}Ge.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ge.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ge.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ge.VERSION_INFO_POLY=7973,Ge.TYPE_INFO_POLY=1335,Ge.TYPE_INFO_MASK_PATTERN=21522;class mp{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class tn{constructor(){}static calculateMaskPenalty(i){return nt.applyMaskPenaltyRule1(i)+nt.applyMaskPenaltyRule2(i)+nt.applyMaskPenaltyRule3(i)+nt.applyMaskPenaltyRule4(i)}static encode(i,o,l=null){let f=tn.DEFAULT_BYTE_MODE_ENCODING;const h=l!==null&&l.get(dn.CHARACTER_SET)!==void 0;h&&(f=l.get(dn.CHARACTER_SET).toString());const m=this.chooseMode(i,f),y=new q;if(m===Ye.BYTE&&(h||tn.DEFAULT_BYTE_MODE_ENCODING!==f)){const ve=W.getCharacterSetECIByName(f);ve!==void 0&&this.appendECI(ve,y)}this.appendModeInfo(m,y);const C=new q;this.appendBytes(i,m,C,f);let N;if(l!==null&&l.get(dn.QR_VERSION)!==void 0){const ve=Number.parseInt(l.get(dn.QR_VERSION).toString(),10);N=He.getVersionForNumber(ve);const ye=this.calculateBitsNeeded(m,y,C,N);if(!this.willFit(ye,N,o))throw new Vt("Data too big for requested version")}else N=this.recommendVersion(o,m,y,C);const T=new q;T.appendBitArray(y);const F=m===Ye.BYTE?C.getSizeInBytes():i.length;this.appendLengthInfo(F,N,m,T),T.appendBitArray(C);const H=N.getECBlocksForLevel(o),Z=N.getTotalCodewords()-H.getTotalECCodewords();this.terminateBits(Z,T);const U=this.interleaveWithECBytes(T,N.getTotalCodewords(),Z,H.getNumBlocks()),G=new Xi;G.setECLevel(o),G.setMode(m),G.setVersion(N);const X=N.getDimensionForVersion(),te=new li(X,X),pe=this.chooseMaskPattern(U,o,N,te);return G.setMaskPattern(pe),Ge.buildMatrix(U,o,N,pe,te),G.setMatrix(te),G}static recommendVersion(i,o,l,f){const h=this.calculateBitsNeeded(o,l,f,He.getVersionForNumber(1)),m=this.chooseVersion(h,i),y=this.calculateBitsNeeded(o,l,f,m);return this.chooseVersion(y,i)}static calculateBitsNeeded(i,o,l,f){return o.getSize()+i.getCharacterCountBits(f)+l.getSize()}static getAlphanumericCode(i){return i<tn.ALPHANUMERIC_TABLE.length?tn.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(W.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return Ye.KANJI;let l=!1,f=!1;for(let h=0,m=i.length;h<m;++h){const y=i.charAt(h);if(tn.isDigit(y))l=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)f=!0;else return Ye.BYTE}return f?Ye.ALPHANUMERIC:l?Ye.NUMERIC:Ye.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=ce.encode(i,W.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let f=0;f<l;f+=2){const h=o[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(i,o,l,f){let h=Number.MAX_SAFE_INTEGER,m=-1;for(let y=0;y<Xi.NUM_MASK_PATTERNS;y++){Ge.buildMatrix(i,o,l,y,f);let C=this.calculateMaskPenalty(f);C<h&&(h=C,m=y)}return m}static chooseVersion(i,o){for(let l=1;l<=40;l++){const f=He.getVersionForNumber(l);if(tn.willFit(i,f,o))return f}throw new Vt("Data too big")}static willFit(i,o,l){const f=o.getTotalCodewords(),m=o.getECBlocksForLevel(l).getTotalECCodewords(),y=f-m,C=(i+7)/8;return y>=C}static terminateBits(i,o){const l=i*8;if(o.getSize()>l)throw new Vt("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let m=0;m<4&&o.getSize()<l;++m)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let m=f;m<8;m++)o.appendBit(!1);const h=i-o.getSizeInBytes();for(let m=0;m<h;++m)o.appendBits(m&1?17:236,8);if(o.getSize()!==l)throw new Vt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,l,f,h,m){if(f>=l)throw new Vt("Block ID too large");const y=i%l,C=l-y,N=Math.floor(i/l),T=N+1,F=Math.floor(o/l),H=F+1,Z=N-F,U=T-H;if(Z!==U)throw new Vt("EC bytes mismatch");if(l!==C+y)throw new Vt("RS blocks mismatch");if(i!==(F+Z)*C+(H+U)*y)throw new Vt("Total bytes mismatch");f<C?(h[0]=F,m[0]=Z):(h[0]=H,m[0]=U)}static interleaveWithECBytes(i,o,l,f){if(i.getSizeInBytes()!==l)throw new Vt("Number of bits and data bytes does not match");let h=0,m=0,y=0;const C=new Array;for(let T=0;T<f;++T){const F=new Int32Array(1),H=new Int32Array(1);tn.getNumDataBytesAndNumECBytesForBlockID(o,l,f,T,F,H);const Z=F[0],U=new Uint8Array(Z);i.toBytes(8*h,U,0,Z);const G=tn.generateECBytes(U,H[0]);C.push(new mp(U,G)),m=Math.max(m,Z),y=Math.max(y,G.length),h+=F[0]}if(l!==h)throw new Vt("Data bytes does not match offset");const N=new q;for(let T=0;T<m;++T)for(const F of C){const H=F.getDataBytes();T<H.length&&N.appendBits(H[T],8)}for(let T=0;T<y;++T)for(const F of C){const H=F.getErrorCorrectionBytes();T<H.length&&N.appendBits(H[T],8)}if(o!==N.getSizeInBytes())throw new Vt("Interleaving error: "+o+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(i,o){const l=i.length,f=new Int32Array(l+o);for(let m=0;m<l;m++)f[m]=i[m]&255;new _o(et.QR_CODE_FIELD_256).encode(f,o);const h=new Uint8Array(o);for(let m=0;m<o;m++)h[m]=f[l+m];return h}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,l,f){const h=l.getCharacterCountBits(o);if(i>=1<<h)throw new Vt(i+" is bigger than "+((1<<h)-1));f.appendBits(i,h)}static appendBytes(i,o,l,f){switch(o){case Ye.NUMERIC:tn.appendNumericBytes(i,l);break;case Ye.ALPHANUMERIC:tn.appendAlphanumericBytes(i,l);break;case Ye.BYTE:tn.append8BitBytes(i,l,f);break;case Ye.KANJI:tn.appendKanjiBytes(i,l);break;default:throw new Vt("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=tn.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const l=i.length;let f=0;for(;f<l;){const h=tn.getDigit(i.charAt(f));if(f+2<l){const m=tn.getDigit(i.charAt(f+1)),y=tn.getDigit(i.charAt(f+2));o.appendBits(h*100+m*10+y,10),f+=3}else if(f+1<l){const m=tn.getDigit(i.charAt(f+1));o.appendBits(h*10+m,7),f+=2}else o.appendBits(h,4),f++}}static appendAlphanumericBytes(i,o){const l=i.length;let f=0;for(;f<l;){const h=tn.getAlphanumericCode(i.charCodeAt(f));if(h===-1)throw new Vt;if(f+1<l){const m=tn.getAlphanumericCode(i.charCodeAt(f+1));if(m===-1)throw new Vt;o.appendBits(h*45+m,11),f+=2}else o.appendBits(h,6),f++}}static append8BitBytes(i,o,l){let f;try{f=ce.encode(i,l)}catch(h){throw new Vt(h)}for(let h=0,m=f.length;h!==m;h++){const y=f[h];o.appendBits(y,8)}}static appendKanjiBytes(i,o){let l;try{l=ce.encode(i,W.SJIS)}catch(h){throw new Vt(h)}const f=l.length;for(let h=0;h<f;h+=2){const m=l[h]&255,y=l[h+1]&255,C=m<<8&4294967295|y;let N=-1;if(C>=33088&&C<=40956?N=C-33088:C>=57408&&C<=60351&&(N=C-49472),N===-1)throw new Vt("Invalid byte sequence");const T=(N>>8)*192+(N&255);o.appendBits(T,13)}}static appendECI(i,o){o.appendBits(Ye.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}tn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),tn.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class Us{write(i,o,l,f=null){if(i.length===0)throw new E("Found empty contents");if(o<0||l<0)throw new E("Requested dimensions are too small: "+o+"x"+l);let h=qt.L,m=Us.QUIET_ZONE_SIZE;f!==null&&(f.get(dn.ERROR_CORRECTION)!==void 0&&(h=qt.fromString(f.get(dn.ERROR_CORRECTION).toString())),f.get(dn.MARGIN)!==void 0&&(m=Number.parseInt(f.get(dn.MARGIN).toString(),10)));const y=tn.encode(i,h,f);return this.renderResult(y,o,l,m)}writeToDom(i,o,l,f,h=null){typeof i=="string"&&(i=document.querySelector(i));const m=this.write(o,l,f,h);i&&i.appendChild(m)}renderResult(i,o,l,f){const h=i.getMatrix();if(h===null)throw new En;const m=h.getWidth(),y=h.getHeight(),C=m+f*2,N=y+f*2,T=Math.max(o,C),F=Math.max(l,N),H=Math.min(Math.floor(T/C),Math.floor(F/N)),Z=Math.floor((T-m*H)/2),U=Math.floor((F-y*H)/2),G=this.createSVGElement(T,F);for(let X=0,te=U;X<y;X++,te+=H)for(let pe=0,ve=Z;pe<m;pe++,ve+=H)if(h.get(pe,X)===1){const ye=this.createSvgRectElement(ve,te,H,H);G.appendChild(ye)}return G}createSVGElement(i,o){const l=document.createElementNS(Us.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(i,o,l,f){const h=document.createElementNS(Us.SVG_NS,"rect");return h.setAttributeNS(null,"x",i.toString()),h.setAttributeNS(null,"y",o.toString()),h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Us.QUIET_ZONE_SIZE=4,Us.SVG_NS="http://www.w3.org/2000/svg";class zs{encode(i,o,l,f,h){if(i.length===0)throw new E("Found empty contents");if(o!==De.QR_CODE)throw new E("Can only encode QR_CODE, but got "+o);if(l<0||f<0)throw new E(`Requested dimensions are too small: ${l}x${f}`);let m=qt.L,y=zs.QUIET_ZONE_SIZE;h!==null&&(h.get(dn.ERROR_CORRECTION)!==void 0&&(m=qt.fromString(h.get(dn.ERROR_CORRECTION).toString())),h.get(dn.MARGIN)!==void 0&&(y=Number.parseInt(h.get(dn.MARGIN).toString(),10)));const C=tn.encode(i,m,h);return zs.renderResult(C,l,f,y)}static renderResult(i,o,l,f){const h=i.getMatrix();if(h===null)throw new En;const m=h.getWidth(),y=h.getHeight(),C=m+f*2,N=y+f*2,T=Math.max(o,C),F=Math.max(l,N),H=Math.min(Math.floor(T/C),Math.floor(F/N)),Z=Math.floor((T-m*H)/2),U=Math.floor((F-y*H)/2),G=new he(T,F);for(let X=0,te=U;X<y;X++,te+=H)for(let pe=0,ve=Z;pe<m;pe++,ve+=H)h.get(pe,X)===1&&G.setRegion(ve,te,H,H);return G}}zs.QUIET_ZONE_SIZE=4;class Cl{encode(i,o,l,f,h){let m;switch(o){case De.QR_CODE:m=new zs;break;default:throw new E("No encoder available for format "+o)}return m.encode(i,o,l,f,h)}}class pr extends ue{constructor(i,o,l,f,h,m,y,C){if(super(m,y),this.yuvData=i,this.dataWidth=o,this.dataHeight=l,this.left=f,this.top=h,f+m>o||h+y>l)throw new E("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(m,y)}getRow(i,o){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const f=(i+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,f,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=i*o,f=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return R.arraycopy(this.yuvData,h,f,0,l),f;for(let m=0;m<o;m++){const y=m*i;R.arraycopy(this.yuvData,h,f,y,i),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(i,o,l,f){return new pr(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,l,f,!1)}renderThumbnail(){const i=this.getWidth()/pr.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/pr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*o),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let m=0;m<o;m++){const y=m*i;for(let C=0;C<i;C++){const N=f[h+C*pr.THUMBNAIL_SCALE_FACTOR]&255;l[y+C]=4278190080|N*65793}h+=this.dataWidth*pr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/pr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/pr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const l=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<o;f++,h+=this.dataWidth){const m=h+i/2;for(let y=h,C=h+i-1;y<m;y++,C--){const N=l[y];l[y]=l[C],l[C]=N}}}invert(){return new _e(this)}}pr.THUMBNAIL_SCALE_FACTOR=2;class qc extends ue{constructor(i,o,l,f,h,m,y){if(super(o,l),this.dataWidth=f,this.dataHeight=h,this.left=m,this.top=y,i.BYTES_PER_ELEMENT===4){const C=o*l,N=new Uint8ClampedArray(C);for(let T=0;T<C;T++){const F=i[T],H=F>>16&255,Z=F>>7&510,U=F&255;N[T]=(H+Z+U)/4&255}this.luminances=N}else this.luminances=i;if(f===void 0&&(this.dataWidth=o),h===void 0&&(this.dataHeight=l),m===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const f=(i+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,f,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=i*o,f=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return R.arraycopy(this.luminances,h,f,0,l),f;for(let m=0;m<o;m++){const y=m*i;R.arraycopy(this.luminances,h,f,y,i),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(i,o,l,f){return new qc(this.luminances,l,f,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new _e(this)}}class Vc extends W{static forName(i){return this.getCharacterSetECIByName(i)}}class El{}El.ISO_8859_1=W.ISO8859_1;class Nl{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class _l{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class zd{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Sa extends zd{constructor(i,o,l){super(i),this.value=o,this.bitCount=l}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new Sa(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Sa(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+O.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class So extends Sa{constructor(i,o,l){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(i,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(i,o){return new So(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Yc(M,i,o){return new So(M,i,o)}function Ao(M,i,o){return new Sa(M,i,o)}const Wd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Sn=0,Aa=1,ir=2,Gc=3,ci=4,gp=new Sa(null,0,0),$c=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function xp(M){for(let i of M)D.fill(i,-1);return M[Sn][ci]=0,M[Aa][ci]=0,M[Aa][Sn]=28,M[Gc][ci]=0,M[ir][ci]=0,M[ir][Sn]=15,M}const Hd=xp(D.createInt32Array(6,6));class ki{constructor(i,o,l,f){this.token=i,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let l=this.bitCount,f=this.token;if(i!==this.mode){let m=$c[this.mode][i];f=Ao(f,m&65535,m>>16),l+=m>>16}let h=i===ir?4:5;return f=Ao(f,o,h),new ki(f,i,0,l+h)}shiftAndAppend(i,o){let l=this.token,f=this.mode===ir?4:5;return l=Ao(l,Hd[this.mode][i],f),l=Ao(l,o,5),new ki(l,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(i){let o=this.token,l=this.mode,f=this.bitCount;if(this.mode===ci||this.mode===ir){let y=$c[l][Sn];o=Ao(o,y&65535,y>>16),f+=y>>16,l=Sn}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new ki(o,l,this.binaryShiftByteCount+1,f+h);return m.binaryShiftByteCount===2047+31&&(m=m.endBinaryShift(i+1)),m}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Yc(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new ki(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+($c[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=ki.calculateBinaryShiftCost(i)-ki.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let f=this.endBinaryShift(i.length).token;f!==null;f=f.getPrevious())o.unshift(f);let l=new q;for(const f of o)f.appendTo(l,i);return l}toString(){return ae.format("%s bits=%d bytes=%d",Wd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}ki.INITIAL_STATE=new ki(gp,Sn,0,0);function Ta(M){const i=ae.getCharCode(" "),o=ae.getCharCode("."),l=ae.getCharCode(",");M[Sn][i]=1;const f=ae.getCharCode("Z"),h=ae.getCharCode("A");for(let H=h;H<=f;H++)M[Sn][H]=H-h+2;M[Aa][i]=1;const m=ae.getCharCode("z"),y=ae.getCharCode("a");for(let H=y;H<=m;H++)M[Aa][H]=H-y+2;M[ir][i]=1;const C=ae.getCharCode("9"),N=ae.getCharCode("0");for(let H=N;H<=C;H++)M[ir][H]=H-N+2;M[ir][l]=12,M[ir][o]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let H=0;H<T.length;H++)M[Gc][ae.getCharCode(T[H])]=H;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let H=0;H<F.length;H++)ae.getCharCode(F[H])>0&&(M[ci][ae.getCharCode(F[H])]=H);return M}const Xc=Ta(D.createInt32Array(5,256));class To{constructor(i){this.text=i}encode(){const i=ae.getCharCode(" "),o=ae.getCharCode(`
`);let l=_l.singletonList(ki.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let m,y=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ae.getCharCode("\r"):m=y===o?2:0;break;case ae.getCharCode("."):m=y===i?3:0;break;case ae.getCharCode(","):m=y===i?4:0;break;case ae.getCharCode(":"):m=y===i?5:0;break;default:m=0}m>0?(l=To.updateStateListForPair(l,h,m),h++):l=this.updateStateListForChar(l,h)}return _l.min(l,(h,m)=>h.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const l=[];for(let f of i)this.updateStateForChar(f,o,l);return To.simplifyStates(l)}updateStateForChar(i,o,l){let f=this.text[o]&255,h=Xc[i.getMode()][f]>0,m=null;for(let y=0;y<=ci;y++){let C=Xc[y][f];if(C>0){if(m==null&&(m=i.endBinaryShift(o)),!h||y===i.getMode()||y===ir){const N=m.latchAndAppend(y,C);l.push(N)}if(!h&&Hd[i.getMode()][y]>=0){const N=m.shiftAndAppend(y,C);l.push(N)}}}if(i.getBinaryShiftByteCount()>0||Xc[i.getMode()][f]===0){let y=i.addBinaryShiftChar(o);l.push(y)}}static updateStateListForPair(i,o,l){const f=[];for(let h of i)this.updateStateForPair(h,o,l,f);return this.simplifyStates(f)}static updateStateForPair(i,o,l,f){let h=i.endBinaryShift(o);if(f.push(h.latchAndAppend(ci,l)),i.getMode()!==ci&&f.push(h.shiftAndAppend(ci,l)),l===3||l===4){let m=h.latchAndAppend(ir,16-l).latchAndAppend(ir,1);f.push(m)}if(i.getBinaryShiftByteCount()>0){let m=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(m)}}static simplifyStates(i){let o=[];for(const l of i){let f=!0;for(const h of o){if(h.isBetterThanOrEqualTo(l)){f=!1;break}l.isBetterThanOrEqualTo(h)&&(o=o.filter(m=>m!==h))}f&&o.push(l)}return o}}class mt{constructor(){}static encodeBytes(i){return mt.encode(i,mt.DEFAULT_EC_PERCENT,mt.DEFAULT_AZTEC_LAYERS)}static encode(i,o,l){let f=new To(i).encode(),h=O.truncDivision(f.getSize()*o,100)+11,m=f.getSize()+h,y,C,N,T,F;if(l!==mt.DEFAULT_AZTEC_LAYERS){if(y=l<0,C=Math.abs(l),C>(y?mt.MAX_NB_BITS_COMPACT:mt.MAX_NB_BITS))throw new E(ae.format("Illegal value %s for layers",l));N=mt.totalBitsInLayer(C,y),T=mt.WORD_SIZE[C];let ye=N-N%T;if(F=mt.stuffBits(f,T),F.getSize()+h>ye)throw new E("Data to large for user specified layer");if(y&&F.getSize()>T*64)throw new E("Data to large for user specified layer")}else{T=0,F=null;for(let ye=0;;ye++){if(ye>mt.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(y=ye<=3,C=y?ye+1:ye,N=mt.totalBitsInLayer(C,y),m>N)continue;(F==null||T!==mt.WORD_SIZE[C])&&(T=mt.WORD_SIZE[C],F=mt.stuffBits(f,T));let Ue=N-N%T;if(!(y&&F.getSize()>T*64)&&F.getSize()+h<=Ue)break}}let H=mt.generateCheckWords(F,N,T),Z=F.getSize()/T,U=mt.generateModeMessage(y,C,Z),G=(y?11:14)+C*4,X=new Int32Array(G),te;if(y){te=G;for(let ye=0;ye<X.length;ye++)X[ye]=ye}else{te=G+1+2*O.truncDivision(O.truncDivision(G,2)-1,15);let ye=O.truncDivision(G,2),Ue=O.truncDivision(te,2);for(let rt=0;rt<ye;rt++){let Er=rt+O.truncDivision(rt,15);X[ye-rt-1]=Ue-Er-1,X[ye+rt]=Ue+Er+1}}let pe=new he(te);for(let ye=0,Ue=0;ye<C;ye++){let rt=(C-ye)*4+(y?9:12);for(let Er=0;Er<rt;Er++){let fn=Er*2;for(let Zn=0;Zn<2;Zn++)H.get(Ue+fn+Zn)&&pe.set(X[ye*2+Zn],X[ye*2+Er]),H.get(Ue+rt*2+fn+Zn)&&pe.set(X[ye*2+Er],X[G-1-ye*2-Zn]),H.get(Ue+rt*4+fn+Zn)&&pe.set(X[G-1-ye*2-Zn],X[G-1-ye*2-Er]),H.get(Ue+rt*6+fn+Zn)&&pe.set(X[G-1-ye*2-Er],X[ye*2+Zn])}Ue+=rt*8}if(mt.drawModeMessage(pe,y,te,U),y)mt.drawBullsEye(pe,O.truncDivision(te,2),5);else{mt.drawBullsEye(pe,O.truncDivision(te,2),7);for(let ye=0,Ue=0;ye<O.truncDivision(G,2)-1;ye+=15,Ue+=16)for(let rt=O.truncDivision(te,2)&1;rt<te;rt+=2)pe.set(O.truncDivision(te,2)-Ue,rt),pe.set(O.truncDivision(te,2)+Ue,rt),pe.set(rt,O.truncDivision(te,2)-Ue),pe.set(rt,O.truncDivision(te,2)+Ue)}let ve=new Nl;return ve.setCompact(y),ve.setSize(te),ve.setLayers(C),ve.setCodeWords(Z),ve.setMatrix(pe),ve}static drawBullsEye(i,o,l){for(let f=0;f<l;f+=2)for(let h=o-f;h<=o+f;h++)i.set(h,o-f),i.set(h,o+f),i.set(o-f,h),i.set(o+f,h);i.set(o-l,o-l),i.set(o-l+1,o-l),i.set(o-l,o-l+1),i.set(o+l,o-l),i.set(o+l,o-l+1),i.set(o+l,o+l-1)}static generateModeMessage(i,o,l){let f=new q;return i?(f.appendBits(o-1,2),f.appendBits(l-1,6),f=mt.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(l-1,11),f=mt.generateCheckWords(f,40,4)),f}static drawModeMessage(i,o,l,f){let h=O.truncDivision(l,2);if(o)for(let m=0;m<7;m++){let y=h-3+m;f.get(m)&&i.set(y,h-5),f.get(m+7)&&i.set(h+5,y),f.get(20-m)&&i.set(y,h+5),f.get(27-m)&&i.set(h-5,y)}else for(let m=0;m<10;m++){let y=h-5+m+O.truncDivision(m,5);f.get(m)&&i.set(y,h-7),f.get(m+10)&&i.set(h+7,y),f.get(29-m)&&i.set(y,h+7),f.get(39-m)&&i.set(h-7,y)}}static generateCheckWords(i,o,l){let f=i.getSize()/l,h=new _o(mt.getGF(l)),m=O.truncDivision(o,l),y=mt.bitsToWords(i,l,m);h.encode(y,m-f);let C=o%l,N=new q;N.appendBits(0,C);for(const T of Array.from(y))N.appendBits(T,l);return N}static bitsToWords(i,o,l){let f=new Int32Array(l),h,m;for(h=0,m=i.getSize()/o;h<m;h++){let y=0;for(let C=0;C<o;C++)y|=i.get(h*o+C)?1<<o-C-1:0;f[h]=y}return f}static getGF(i){switch(i){case 4:return et.AZTEC_PARAM;case 6:return et.AZTEC_DATA_6;case 8:return et.AZTEC_DATA_8;case 10:return et.AZTEC_DATA_10;case 12:return et.AZTEC_DATA_12;default:throw new E("Unsupported word size "+i)}}static stuffBits(i,o){let l=new q,f=i.getSize(),h=(1<<o)-2;for(let m=0;m<f;m+=o){let y=0;for(let C=0;C<o;C++)(m+C>=f||i.get(m+C))&&(y|=1<<o-1-C);(y&h)===h?(l.appendBits(y&h,o),m--):y&h?l.appendBits(y,o):(l.appendBits(y|1,o),m--)}return l}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}mt.DEFAULT_EC_PERCENT=33,mt.DEFAULT_AZTEC_LAYERS=0,mt.MAX_NB_BITS=32,mt.MAX_NB_BITS_COMPACT=4,mt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ko{encode(i,o,l,f){return this.encodeWithHints(i,o,l,f,null)}encodeWithHints(i,o,l,f,h){let m=El.ISO_8859_1,y=mt.DEFAULT_EC_PERCENT,C=mt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(dn.CHARACTER_SET)&&(m=Vc.forName(h.get(dn.CHARACTER_SET).toString())),h.has(dn.ERROR_CORRECTION)&&(y=O.parseInt(h.get(dn.ERROR_CORRECTION).toString())),h.has(dn.AZTEC_LAYERS)&&(C=O.parseInt(h.get(dn.AZTEC_LAYERS).toString()))),ko.encodeLayers(i,o,l,f,m,y,C)}static encodeLayers(i,o,l,f,h,m,y){if(o!==De.AZTEC)throw new E("Can only encode AZTEC, but got "+o);let C=mt.encode(ae.getBytes(i,h),m,y);return ko.renderResult(C,l,f)}static renderResult(i,o,l){let f=i.getMatrix();if(f==null)throw new En;let h=f.getWidth(),m=f.getHeight(),y=Math.max(o,h),C=Math.max(l,m),N=Math.min(y/h,C/m),T=(y-h*N)/2,F=(C-m*N)/2,H=new he(y,C);for(let Z=0,U=F;Z<m;Z++,U+=N)for(let G=0,X=T;G<h;G++,X+=N)f.get(G,Z)&&H.setRegion(X,U,N,N);return H}}t.AbstractExpandedDecoder=Lc,t.ArgumentException=w,t.ArithmeticException=$e,t.AztecCode=Nl,t.AztecCodeReader=Ei,t.AztecCodeWriter=ko,t.AztecDecoder=Et,t.AztecDetector=ii,t.AztecDetectorResult=fr,t.AztecEncoder=mt,t.AztecHighLevelEncoder=To,t.AztecPoint=sn,t.BarcodeFormat=De,t.Binarizer=S,t.BinaryBitmap=_,t.BitArray=q,t.BitMatrix=he,t.BitSource=vl,t.BrowserAztecCodeReader=js,t.BrowserBarcodeReader=Id,t.BrowserCodeReader=Rn,t.BrowserDatamatrixCodeReader=Rd,t.BrowserMultiFormatReader=Gr,t.BrowserPDF417Reader=pp,t.BrowserQRCodeReader=Ud,t.BrowserQRCodeSvgWriter=Us,t.CharacterSetECI=W,t.ChecksumException=k,t.Code128Reader=Ae,t.Code39Reader=Jt,t.DataMatrixDecodedBitStreamParser=Ai,t.DataMatrixReader=oi,t.DecodeHintType=z,t.DecoderResult=$n,t.DefaultGridSampler=Zt,t.DetectorResult=jn,t.EAN13Reader=hs,t.EncodeHintType=dn,t.Exception=x,t.FormatException=P,t.GenericGF=et,t.GenericGFPoly=ke,t.GlobalHistogramBinarizer=xe,t.GridSampler=Ve,t.GridSamplerInstance=Wt,t.HTMLCanvasElementLuminanceSource=Re,t.HybridBinarizer=ge,t.ITFReader=Nt,t.IllegalArgumentException=E,t.IllegalStateException=En,t.InvertedLuminanceSource=_e,t.LuminanceSource=ue,t.MathUtils=st,t.MultiFormatOneDReader=Ps,t.MultiFormatReader=Bd,t.MultiFormatWriter=Cl,t.NotFoundException=ee,t.OneDReader=Qt,t.PDF417DecodedBitStreamParser=fe,t.PDF417DecoderErrorCorrection=jd,t.PDF417Reader=Vn,t.PDF417ResultMetadata=Wc,t.PerspectiveTransform=St,t.PlanarYUVLuminanceSource=pr,t.QRCodeByteMatrix=li,t.QRCodeDataMask=br,t.QRCodeDecodedBitStreamParser=nn,t.QRCodeDecoderErrorCorrectionLevel=qt,t.QRCodeDecoderFormatInformation=Qn,t.QRCodeEncoder=tn,t.QRCodeEncoderQRCode=Xi,t.QRCodeMaskUtil=nt,t.QRCodeMatrixUtil=Ge,t.QRCodeMode=Ye,t.QRCodeReader=ps,t.QRCodeVersion=He,t.QRCodeWriter=zs,t.RGBLuminanceSource=qc,t.RSS14Reader=an,t.RSSExpandedReader=Ce,t.ReaderException=rr,t.ReedSolomonDecoder=Ci,t.ReedSolomonEncoder=_o,t.ReedSolomonException=Tt,t.Result=vt,t.ResultMetadataType=yt,t.ResultPoint=Ee,t.StringUtils=ae,t.UnsupportedOperationException=se,t.VideoInputDevice=We,t.WhiteRectangleDetector=Te,t.WriterException=Vt,t.ZXingArrays=D,t.ZXingCharset=Vc,t.ZXingInteger=O,t.ZXingStandardCharsets=El,t.ZXingStringBuilder=ie,t.ZXingStringEncoding=ce,t.ZXingSystem=R,t.createAbstractExpandedDecoder=Dd,Object.defineProperty(t,"__esModule",{value:!0})})})(wg,wg.exports);var ln=wg.exports;const G9=wh(ln),$9=t3({__proto__:null,default:G9},[ln]);var sb=function(){function e(n,t,r){if(this.formatMap=new Map([[Pe.QR_CODE,ln.BarcodeFormat.QR_CODE],[Pe.AZTEC,ln.BarcodeFormat.AZTEC],[Pe.CODABAR,ln.BarcodeFormat.CODABAR],[Pe.CODE_39,ln.BarcodeFormat.CODE_39],[Pe.CODE_93,ln.BarcodeFormat.CODE_93],[Pe.CODE_128,ln.BarcodeFormat.CODE_128],[Pe.DATA_MATRIX,ln.BarcodeFormat.DATA_MATRIX],[Pe.MAXICODE,ln.BarcodeFormat.MAXICODE],[Pe.ITF,ln.BarcodeFormat.ITF],[Pe.EAN_13,ln.BarcodeFormat.EAN_13],[Pe.EAN_8,ln.BarcodeFormat.EAN_8],[Pe.PDF_417,ln.BarcodeFormat.PDF_417],[Pe.RSS_14,ln.BarcodeFormat.RSS_14],[Pe.RSS_EXPANDED,ln.BarcodeFormat.RSS_EXPANDED],[Pe.UPC_A,ln.BarcodeFormat.UPC_A],[Pe.UPC_E,ln.BarcodeFormat.UPC_E],[Pe.UPC_EAN_EXTENSION,ln.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!$9)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var s=this.createZXingFormats(n),a=new Map;a.set(ln.DecodeHintType.POSSIBLE_FORMATS,s),a.set(ln.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(n){var t=this;return new Promise(function(r,s){try{r(t.decode(n))}catch(a){s(a)}})},e.prototype.decode=function(n){var t=new ln.MultiFormatReader(this.verbose,this.hints),r=new ln.HTMLCanvasElementLuminanceSource(n),s=new ln.BinaryBitmap(new ln.HybridBinarizer(r)),a=t.decode(s);return{text:a.text,format:$E.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(t,r,s){n.set(t,r)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var t=[],r=0,s=n;r<s.length;r++){var a=s[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),X9=globalThis&&globalThis.__awaiter||function(e,n,t,r){function s(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(w){try{x(r.next(w))}catch(E){d(E)}}function v(w){try{x(r.throw(w))}catch(E){d(E)}}function x(w){w.done?a(w.value):s(w.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},Q9=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(w){return v([x,w])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(a=x[0]&2?s.return:x[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,x[1])).done)return a;switch(s=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(w){x=[6,w],s=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ab=function(){function e(n,t,r){if(this.formatMap=new Map([[Pe.QR_CODE,"qr_code"],[Pe.AZTEC,"aztec"],[Pe.CODABAR,"codabar"],[Pe.CODE_39,"code_39"],[Pe.CODE_93,"code_93"],[Pe.CODE_128,"code_128"],[Pe.DATA_MATRIX,"data_matrix"],[Pe.ITF,"itf"],[Pe.EAN_13,"ean_13"],[Pe.EAN_8,"ean_8"],[Pe.PDF_417,"pdf417"],[Pe.UPC_A,"upc_a"],[Pe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var s=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return X9(this,void 0,void 0,function(){var t,r;return Q9(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(n)];case 1:if(t=s.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(t),[2,{text:r.rawValue,format:$E.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var t=null,r=0,s=0,a=n;s<a.length;s++){var d=a[s],g=d.boundingBox.width*d.boundingBox.height;g>r&&(r=g,t=d)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(n){for(var t=[],r=0,s=n;r<s.length;r++){var a=s[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(t,r,s){n.set(t,r)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),ob=globalThis&&globalThis.__awaiter||function(e,n,t,r){function s(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(w){try{x(r.next(w))}catch(E){d(E)}}function v(w){try{x(r.throw(w))}catch(E){d(E)}}function x(w){w.done?a(w.value):s(w.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},lb=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(w){return v([x,w])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(a=x[0]&2?s.return:x[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,x[1])).done)return a;switch(s=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(w){x=[6,w],s=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},K9=function(){function e(n,t,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&ab.isSupported()?(this.primaryDecoder=new ab(n,r,s),this.secondaryDecoder=new sb(n,r,s)):this.primaryDecoder=new sb(n,r,s)}return e.prototype.decodeAsync=function(n){return ob(this,void 0,void 0,function(){var t;return lb(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return ob(this,void 0,void 0,function(){var t,r;return lb(this,function(s){switch(s.label){case 0:t=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var t=performance.now()-n;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,t=0,r=this.executionResults;t<r.length;t++){var s=r[t];n+=s}var a=n/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Jx=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lh=globalThis&&globalThis.__awaiter||function(e,n,t,r){function s(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(w){try{x(r.next(w))}catch(E){d(E)}}function v(w){try{x(r.throw(w))}catch(E){d(E)}}function x(w){w.done?a(w.value):s(w.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},ch=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(w){return v([x,w])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(a=x[0]&2?s.return:x[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,x[1])).done)return a;switch(s=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(w){x=[6,w],s=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},QE=function(){function e(n,t){this.name=n,this.track=t}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var t={};t[this.name]=n;var r={advanced:[t]};return this.track.applyConstraints(r)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var t=n[this.name];return t}return null},e}(),Z9=function(e){Jx(n,e);function n(t,r){return e.call(this,t,r)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(t){var r={};r[this.name]=t;var s={advanced:[r]};return this.track.applyConstraints(s)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),r=t[this.name];return{min:r.min,max:r.max,step:r.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(QE),J9=function(e){Jx(n,e);function n(t){return e.call(this,"zoom",t)||this}return n}(Z9),eL=function(e){Jx(n,e);function n(t){return e.call(this,"torch",t)||this}return n}(QE),tL=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new J9(this.track)},e.prototype.torchFeature=function(){return new eL(this.track)},e}(),nL=function(){function e(n,t,r){this.isClosed=!1,this.parentElement=n,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var t=document.createElement("video");return t.style.width="".concat(n,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=n.surface.clientWidth,s=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(r,s),n.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,t,r,s){return lh(this,void 0,void 0,function(){var a,d;return ch(this,function(g){switch(g.label){case 0:return a=new e(n,t,s),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:g.sent(),g.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var t=this,r=function(){setTimeout(n,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return lh(this,void 0,void 0,function(){return ch(this,function(t){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(t,r){var s=n.mediaStream.getVideoTracks(),a=s.length,d=0;n.mediaStream.getVideoTracks().forEach(function(g){n.mediaStream.removeTrack(g),g.stop(),++d,d>=a&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),t())})})},e.prototype.getCapabilities=function(){return new tL(this.getFirstTrackOrFail())},e}(),rL=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,t,r){return lh(this,void 0,void 0,function(){return ch(this,function(s){return[2,nL.create(n,this.mediaStream,t,r)]})})},e.create=function(n){return lh(this,void 0,void 0,function(){var t,r;return ch(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),cb=globalThis&&globalThis.__awaiter||function(e,n,t,r){function s(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(w){try{x(r.next(w))}catch(E){d(E)}}function v(w){try{x(r.throw(w))}catch(E){d(E)}}function x(w){w.done?a(w.value):s(w.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},ub=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(w){return v([x,w])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(a=x[0]&2?s.return:x[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,x[1])).done)return a;switch(s=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(w){x=[6,w],s=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},iL=function(){function e(){}return e.failIfNotSupported=function(){return cb(this,void 0,void 0,function(){return ub(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return cb(this,void 0,void 0,function(){return ub(this,function(t){return[2,rL.create(n)]})})},e}(),sL=globalThis&&globalThis.__awaiter||function(e,n,t,r){function s(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(w){try{x(r.next(w))}catch(E){d(E)}}function v(w){try{x(r.throw(w))}catch(E){d(E)}}function x(w){w.done?a(w.value):s(w.value).then(g,v)}x((r=r.apply(e,n||[])).next())})},aL=globalThis&&globalThis.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(w){return v([x,w])}}function v(x){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(a=x[0]&2?s.return:x[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,x[1])).done)return a;switch(s=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=n.call(e,t)}catch(w){x=[6,w],s=0}finally{r=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},oL=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Ql.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Ql.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return sL(this,void 0,void 0,function(){var n,t,r,s,a,d,g;return aL(this,function(v){switch(v.label){case 0:return n=function(x){for(var w=x.getVideoTracks(),E=0,_=w;E<_.length;E++){var k=_[E];k.enabled=!1,k.stop(),x.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=v.sent(),s=[],a=0,d=r;a<d.length;a++)g=d[a],g.kind==="videoinput"&&s.push({id:g.deviceId,label:g.label});return n(t),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,t){var r=function(a){for(var d=[],g=0,v=a;g<v.length;g++){var x=v[g];x.kind==="video"&&d.push({id:x.id,label:x.label})}n(d)},s=MediaStreamTrack;s.getSources(r)})},e}(),Tn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Tn||(Tn={}));var lL=function(){function e(){this.state=Tn.NOT_STARTED,this.onGoingTransactionNewState=Tn.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Tn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Tn.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Tn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Tn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Tn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case Tn.UNKNOWN:throw"Transition from unknown is not allowed";case Tn.NOT_STARTED:this.failIfNewStateIs(n,[Tn.PAUSED]);break;case Tn.SCANNING:break;case Tn.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,t){for(var r=0,s=t;r<s.length;r++){var a=s[r];if(n===a)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),cL=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Tn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Tn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Tn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Tn.PAUSED},e}(),uL=function(){function e(){}return e.create=function(){return new cL(new lL)},e}(),dL=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pi=function(e){dL(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(q9),fL=function(){function e(n,t){this.logger=t,this.fps=pi.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=pi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?XE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Js(this.qrbox)},e.create=function(n,t){return new e(n,t)},e}(),hL=function(){function e(n,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var r;typeof t=="boolean"?this.verbose=t===!0:t&&(r=t,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Y9(this.verbose),this.qrcode=new K9(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=uL.create()}return e.prototype.start=function(n,t,r,s){var a=this;if(!n)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;s?d=s:d=this.verbose?this.logger.log:function(){};var g=fL.create(t,this.logger);this.clearElement();var v=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=v,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:pi.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var E=this,_=this.stateManagerProxy.startTransition(Tn.SCANNING);return new Promise(function(k,S){var R=x?g.videoConstraints:E.createVideoConstraints(n);if(!R){_.cancel(),S("videoConstraints should be defined");return}var j={};(!x||g.aspectRatio)&&(j.aspectRatio=g.aspectRatio);var I={onRenderSurfaceReady:function(D,O){E.setupUi(D,O,g),E.isScanning=!0,E.foreverScan(g,r,d)}};iL.failIfNotSupported().then(function(D){D.create(R).then(function(O){return O.render(a.element,j,I).then(function(q){E.renderedCamera=q,_.execute(),k(null)}).catch(function(q){_.cancel(),S(q)})}).catch(function(O){_.cancel(),S(Ql.errorGettingUserMedia(O))})}).catch(function(D){_.cancel(),S(Ql.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Tn.PAUSED),this.showPausedState(),(Js(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,t=function(){n.stateManagerProxy.directTransition(Tn.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Tn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(n.element){var a=document.getElementById(pi.SHADED_REGION_ELEMENT_ID);a&&n.element.removeChild(a)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),t.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,t){return this.scanFileV2(n,t).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(n,t){var r=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Js(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(n);var d=new Image;d.onload=function(){var g=d.width,v=d.height,x=document.getElementById(r.elementId),w=x.clientWidth?x.clientWidth:pi.DEFAULT_WIDTH,E=Math.max(x.clientHeight?x.clientHeight:v,pi.FILE_SCAN_MIN_HEIGHT),_=r.computeCanvasDrawConfig(g,v,w,E);if(t){var k=r.createCanvasElement(w,E,"qr-canvas-visible");k.style.display="inline-block",x.appendChild(k);var S=k.getContext("2d");if(!S)throw"Unable to get 2d context from canvas";S.canvas.width=w,S.canvas.height=E,S.drawImage(d,0,0,g,v,_.x,_.y,_.width,_.height)}var R=pi.FILE_SCAN_HIDDEN_CANVAS_PADDING,j=Math.max(d.width,_.width),I=Math.max(d.height,_.height),D=j+2*R,O=I+2*R,q=r.createCanvasElement(D,O);x.appendChild(q);var Q=q.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=D,Q.canvas.height=O,Q.drawImage(d,0,0,g,v,R,R,j,I);try{r.qrcode.decodeRobustlyAsync(q).then(function(z){s(ib.createFromQrcodeResult(z))}).catch(a)}catch(z){a("QR code parse error, error = ".concat(z))}},d.onerror=a,d.onabort=a,d.onstalled=a,d.onsuspend=a,d.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return oL.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!XE.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var t=[Pe.QR_CODE,Pe.AZTEC,Pe.CODABAR,Pe.CODE_39,Pe.CODE_93,Pe.CODE_128,Pe.DATA_MATRIX,Pe.MAXICODE,Pe.ITF,Pe.EAN_13,Pe.EAN_8,Pe.PDF_417,Pe.RSS_14,Pe.RSS_EXPANDED,Pe.UPC_A,Pe.UPC_E,Pe.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return t;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,a=n.formatsToSupport;s<a.length;s++){var d=a[s];H9(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Js(n))return!0;if(!Js(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(Js(n.experimentalFeatures))return!0;var t=n.experimentalFeatures;return Js(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,t,r){var s=this,a=r.qrbox;this.validateQrboxConfig(a);var d=this.toQrdimensions(n,t,a),g=function(x){if(x<pi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(pi.MIN_QR_BOX_SIZE,"px.")},v=function(x){return x>n&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=n),x};g(d.width),g(d.height),d.width=v(d.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,t,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(n,t)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(n,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(n,t,r);var s=Js(r.qrbox)?{width:n,height:t}:r.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(n,t,s);a.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&a.height<=t,g={x:0,y:0,width:n,height:t},v=d?this.getShadedRegionBounds(n,t,a):g,x=this.createCanvasElement(v.width,v.height),w={willReadFrequently:!0},E=x.getContext("2d",w);E.canvas.width=v.width,E.canvas.height=v.height,this.element.append(x),d&&this.possiblyInsertShadingElement(this.element,n,t,a),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=E,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(n){var t=document.createElement("div");t.innerText=Ql.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",n.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(n,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return n(s.text,ib.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var a=Ql.codeParseError(s);return t(a,V9.createFrom(a)),!1})},e.prototype.foreverScan=function(n,t,r){var s=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),d=a.videoWidth/a.clientWidth,g=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*d,x=this.qrRegion.height*g,w=this.qrRegion.x*d,E=this.qrRegion.y*g;this.context.drawImage(a,w,E,v,x,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(n,t,r)},s.getTimeoutFps(n.fps))};this.scanContext(t,r).then(function(k){!k&&n.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(t,r).finally(function(){_()})):_()}).catch(function(k){s.logger.logError("Error happend while scanning context",k),_()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var t="facingMode",r="deviceId",s={user:!0,environment:!0},a="exact",d=function(S){if(S in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(S,"'")},g=Object.keys(n);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var v=Object.keys(n)[0];if(v!==t&&v!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(v===t){var x=n.facingMode;if(typeof x=="string"){if(d(x))return{facingMode:x}}else if(typeof x=="object")if(a in x){if(d(x["".concat(a)]))return{facingMode:{exact:x["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var w=typeof x;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var E=n.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(a in E)return{deviceId:{exact:E["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var _=typeof E;throw"Invalid type of 'deviceId' = ".concat(_)}}}var k=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},e.prototype.computeCanvasDrawConfig=function(n,t,r,s){if(n<=r&&t<=s){var a=(r-n)/2,d=(s-t)/2;return{x:a,y:d,width:n,height:t}}else{var g=n,v=t;return n>r&&(t=r/n*t,n=r),t>s&&(n=s/t*n,t=s),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(v)+" to ".concat(n,"X").concat(t,".")),this.computeCanvasDrawConfig(n,t,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=n?pi.BORDER_SHADER_MATCH_COLOR:pi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,t,r){var s=n,a=t,d=document.createElement("canvas");return d.style.width="".concat(s,"px"),d.style.height="".concat(a,"px"),d.style.display="none",d.id=Js(r)?"qr-canvas":r,d},e.prototype.getShadedRegionBounds=function(n,t,r){if(r.width>n||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(n,t,r,s){if(!(t-s.width<1||r-s.height<1)){var a=document.createElement("div");a.style.position="absolute";var d=(t-s.width)/2,g=(r-s.height)/2;if(a.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(pi.SHADED_REGION_ELEMENT_ID),t-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var v=5,x=40;this.insertShaderBorders(a,x,v,-v,null,0,!0),this.insertShaderBorders(a,x,v,-v,null,0,!1),this.insertShaderBorders(a,x,v,null,-v,0,!0),this.insertShaderBorders(a,x,v,null,-v,0,!1),this.insertShaderBorders(a,v,x+v,-v,null,-v,!0),this.insertShaderBorders(a,v,x+v,null,-v,-v,!0),this.insertShaderBorders(a,v,x+v,-v,null,-v,!1),this.insertShaderBorders(a,v,x+v,null,-v,-v,!1),this.hasBorderShaders=!0}n.append(a)}},e.prototype.insertShaderBorders=function(n,t,r,s,a,d,g){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=pi.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(t,"px"),v.style.height="".concat(r,"px"),s!==null&&(v.style.top="".concat(s,"px")),a!==null&&(v.style.bottom="".concat(a,"px")),g?v.style.left="".concat(d,"px"):v.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),n.appendChild(v)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var db;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(db||(db={}));const KE=({onScan:e,onError:n=s=>console.error(s),isOpen:t,onClose:r})=>{const[s,a]=L.useState(!1),[d,g]=L.useState(""),v=L.useRef(null),x=L.useRef(null);L.useEffect(()=>(t&&!s&&w(),()=>{E()}),[t]);const w=async()=>{if(v.current)try{const k=new hL("scanner");x.current=k;const S={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[1,2,3,4,5,6,7,8,9,10,11,12]};await k.start({facingMode:"environment"},S,R=>{e(R),E(),r()},R=>{console.log(R)}),a(!0)}catch(k){console.error("Error starting scanner:",k);let S="",R="";k.name==="NotFoundError"||k.message&&k.message.includes("Requested device not found")?(S="No camera found. Please make sure your device has a camera and you have granted permission to use it.",R="No camera detected. You can manually enter the barcode value instead.",ct.error(R,{icon:"",toastId:"camera-not-found"})):k.name==="NotAllowedError"||k.message&&k.message.includes("Permission denied")?(S="Camera access denied. Please grant permission to use your camera.",R="Camera access denied. Please check your browser permissions.",ct.error(R,{icon:"",toastId:"camera-permission-denied"})):(S=k&&k.message?k.message:"Failed to start scanner",ct.error("Failed to start barcode scanner. Please try again later.",{toastId:"scanner-error"})),g(S),n(S),r()}},E=async()=>{if(x.current&&s)try{await x.current.stop(),a(!1)}catch(k){console.error("Error stopping scanner:",k)}},_=()=>{E(),r()};return t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg w-full max-w-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Scan Barcode"}),c.jsx("button",{onClick:_,className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"mb-4",children:c.jsx("div",{id:"scanner",ref:v,className:"w-full h-64 bg-gray-100 rounded flex items-center justify-center",children:d&&c.jsxs("div",{className:"text-center p-4",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-red-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("p",{className:"text-red-600 font-medium",children:d}),c.jsx("p",{className:"text-gray-600 mt-2",children:"You can manually enter the barcode value instead."})]})})}),c.jsx("div",{className:"text-sm text-gray-500 mb-4",children:d?"To use the barcode scanner, you need a device with a camera and permission to access it.":"Position the barcode within the scanner area. The scanner will automatically detect and process the code."}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:_,className:"btn btn-outline",children:"Cancel"})})]})}):null};KE.propTypes={onScan:re.func.isRequired,onError:re.func,isOpen:re.bool.isRequired,onClose:re.func.isRequired};const ZE=({id:e="",onScan:n,buttonText:t="",className:r=""})=>{const[s,a]=L.useState(!1),d=()=>{a(!0)},g=()=>{a(!1)},v=x=>{console.error("Scan error:",x)};return c.jsxs(c.Fragment,{children:[c.jsxs("button",{id:e,type:"button",onClick:d,className:`flex items-center justify-center px-3 py-1.5 text-sm font-medium rounded-md
          bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
          hover:border-primary-600 hover:shadow-sm transition-all ${r}`,title:"Scan Barcode",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),t&&c.jsx("span",{className:"ml-1 font-medium",children:t})]}),c.jsx(KE,{isOpen:s,onClose:g,onScan:n,onError:v})]})};ZE.propTypes={id:re.string,onScan:re.func.isRequired,buttonText:re.string,className:re.string};const JE=({id:e,name:n,type:t="text",label:r,placeholder:s,value:a,onChange:d,onBlur:g,error:v,disabled:x=!1,required:w=!1,className:E="",onScan:_,...k})=>{const I=`
    rounded-l-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
    ${v?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900 placeholder-slate-400"}
    ${x?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 px-3 text-sm
    w-full
    ${E}
  `,D=`barcode-scan-button-${e}`;return c.jsxs("div",{className:"w-full",children:[r&&c.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${v?"text-red-600":"text-slate-700"}`,children:[r,w&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"flex",style:{display:"flex",width:"100%"},children:[c.jsx("input",{id:e,name:n,type:t,value:a,onChange:d,onBlur:g,placeholder:s,disabled:x,required:w,className:I,style:{width:"calc(100% - 120px)"},...k}),c.jsxs("button",{type:"button",onClick:()=>{const O=document.getElementById(D);O&&O.click()},className:`w-[120px] bg-white text-primary-600 hover:bg-primary-50 border border-primary-500
            hover:border-primary-600 hover:shadow-sm transition-all font-medium flex items-center
            justify-center rounded-r-md border-l-0`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Scan"]}),c.jsx("div",{style:{display:"none"},children:c.jsx(ZE,{id:D,onScan:_})})]}),v&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:v})]})};JE.propTypes={id:re.string.isRequired,name:re.string.isRequired,type:re.string,label:re.string,placeholder:re.string,value:re.oneOfType([re.string,re.number]),onChange:re.func,onBlur:re.func,error:re.string,disabled:re.bool,required:re.bool,className:re.string,onScan:re.func.isRequired};const ia=({id:e,name:n,label:t,value:r,onChange:s,onBlur:a,options:d=[],error:g,disabled:v=!1,required:x=!1,placeholder:w="Select an option",className:E="",..._})=>{const j=`
    w-full rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none
    ${g?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-slate-300 text-slate-900"}
    ${v?"bg-slate-100 cursor-not-allowed opacity-75":"bg-white"}
    py-2 pl-3 pr-10 text-sm
    ${E}
  `;return c.jsxs("div",{className:"w-full",children:[t&&c.jsxs("label",{htmlFor:e,className:`block text-sm font-medium mb-1 ${g?"text-red-600":"text-slate-700"}`,children:[t,x&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{id:e,name:n,value:r,onChange:s,onBlur:a,disabled:v,required:x,className:j,..._,children:[c.jsx("option",{value:"",children:w}),d.map(I=>c.jsx("option",{value:I.value||I,children:I.label||I},I.value||I))]}),c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:c.jsx("svg",{className:"h-5 w-5 text-slate-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),g&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:g})]})};ia.propTypes={id:re.string.isRequired,name:re.string.isRequired,label:re.string,value:re.string,onChange:re.func,onBlur:re.func,options:re.arrayOf(re.oneOfType([re.string,re.shape({value:re.string.isRequired,label:re.string.isRequired})])),error:re.string,disabled:re.bool,required:re.bool,placeholder:re.string,className:re.string};const $t=({children:e,className:n="",...t})=>c.jsx("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden ${n}`,...t,children:e}),eN=({children:e,className:n="",...t})=>c.jsx("div",{className:`px-6 py-4 border-b border-slate-200 ${n}`,...t,children:e}),tN=({children:e,className:n="",...t})=>c.jsx("h3",{className:`text-lg font-medium text-slate-800 ${n}`,...t,children:e}),nN=({children:e,className:n="",...t})=>c.jsx("div",{className:`p-6 ${n}`,...t,children:e}),rN=({children:e,className:n="",...t})=>c.jsx("div",{className:`px-6 py-4 bg-slate-50 border-t border-slate-200 ${n}`,...t,children:e});$t.Header=eN;$t.Title=tN;$t.Body=nN;$t.Footer=rN;$t.propTypes={children:re.node.isRequired,className:re.string};eN.propTypes={children:re.node.isRequired,className:re.string};tN.propTypes={children:re.node.isRequired,className:re.string};nN.propTypes={children:re.node.isRequired,className:re.string};rN.propTypes={children:re.node.isRequired,className:re.string};const $o=({children:e,variant:n="primary",size:t="md",className:r="",...s})=>{const a="inline-flex items-center font-medium rounded-full",d={primary:"bg-primary-100 text-primary-800",secondary:"bg-slate-100 text-slate-800",success:"bg-green-100 text-green-800",danger:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800"},g={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"},v=`
    ${a}
    ${d[n]||d.primary}
    ${g[t]||g.md}
    ${r}
  `;return c.jsx("span",{className:v,...s,children:e})};$o.propTypes={children:re.node.isRequired,variant:re.oneOf(["primary","secondary","success","danger","warning","info"]),size:re.oneOf(["sm","md","lg"]),className:re.string};function ep(){return typeof window<"u"}function Oc(e){return iN(e)?(e.nodeName||"").toLowerCase():"#document"}function vi(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Os(e){var n;return(n=(iN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function iN(e){return ep()?e instanceof Node||e instanceof vi(e).Node:!1}function Wr(e){return ep()?e instanceof Element||e instanceof vi(e).Element:!1}function Rs(e){return ep()?e instanceof HTMLElement||e instanceof vi(e).HTMLElement:!1}function fb(e){return!ep()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof vi(e).ShadowRoot}function bd(e){const{overflow:n,overflowX:t,overflowY:r,display:s}=Yi(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!["inline","contents"].includes(s)}function pL(e){return["table","td","th"].includes(Oc(e))}function tp(e){return[":popover-open",":modal"].some(n=>{try{return e.matches(n)}catch{return!1}})}function e2(e){const n=t2(),t=Wr(e)?Yi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function mL(e){let n=lo(e);for(;Rs(n)&&!vc(n);){if(e2(n))return n;if(tp(n))return null;n=lo(n)}return null}function t2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vc(e){return["html","body","#document"].includes(Oc(e))}function Yi(e){return vi(e).getComputedStyle(e)}function np(e){return Wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function lo(e){if(Oc(e)==="html")return e;const n=e.assignedSlot||e.parentNode||fb(e)&&e.host||Os(e);return fb(n)?n.host:n}function sN(e){const n=lo(e);return vc(n)?e.ownerDocument?e.ownerDocument.body:e.body:Rs(n)&&bd(n)?n:sN(n)}function ud(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const s=sN(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),d=vi(s);if(a){const g=bg(d);return n.concat(d,d.visualViewport||[],bd(s)?s:[],g&&t?ud(g):[])}return n.concat(s,ud(s,[],t))}function bg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const yc=Math.min,el=Math.max,uh=Math.round,qf=Math.floor,Is=e=>({x:e,y:e}),gL={left:"right",right:"left",bottom:"top",top:"bottom"},xL={start:"end",end:"start"};function vL(e,n,t){return el(e,yc(n,t))}function rp(e,n){return typeof e=="function"?e(n):e}function wc(e){return e.split("-")[0]}function Cd(e){return e.split("-")[1]}function yL(e){return e==="x"?"y":"x"}function n2(e){return e==="y"?"height":"width"}function rc(e){return["top","bottom"].includes(wc(e))?"y":"x"}function r2(e){return yL(rc(e))}function wL(e,n,t){t===void 0&&(t=!1);const r=Cd(e),s=r2(e),a=n2(s);let d=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(d=dh(d)),[d,dh(d)]}function bL(e){const n=dh(e);return[Cg(e),n,Cg(n)]}function Cg(e){return e.replace(/start|end/g,n=>xL[n])}function CL(e,n,t){const r=["left","right"],s=["right","left"],a=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return t?n?s:r:n?r:s;case"left":case"right":return n?a:d;default:return[]}}function EL(e,n,t,r){const s=Cd(e);let a=CL(wc(e),t==="start",r);return s&&(a=a.map(d=>d+"-"+s),n&&(a=a.concat(a.map(Cg)))),a}function dh(e){return e.replace(/left|right|bottom|top/g,n=>gL[n])}function NL(e){return{top:0,right:0,bottom:0,left:0,...e}}function aN(e){return typeof e!="number"?NL(e):{top:e,right:e,bottom:e,left:e}}function fh(e){const{x:n,y:t,width:r,height:s}=e;return{width:r,height:s,top:t,left:n,right:n+r,bottom:t+s,x:n,y:t}}var hh=typeof document<"u"?L.useLayoutEffect:L.useEffect;const _L={...Pg},SL=_L.useInsertionEffect,AL=SL||(e=>e());function TL(e){const n=L.useRef(()=>{});return AL(()=>{n.current=e}),L.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n.current==null?void 0:n.current(...r)},[])}function hb(e,n,t){let{reference:r,floating:s}=e;const a=rc(n),d=r2(n),g=n2(d),v=wc(n),x=a==="y",w=r.x+r.width/2-s.width/2,E=r.y+r.height/2-s.height/2,_=r[g]/2-s[g]/2;let k;switch(v){case"top":k={x:w,y:r.y-s.height};break;case"bottom":k={x:w,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:E};break;case"left":k={x:r.x-s.width,y:E};break;default:k={x:r.x,y:r.y}}switch(Cd(n)){case"start":k[d]-=_*(t&&x?-1:1);break;case"end":k[d]+=_*(t&&x?-1:1);break}return k}const kL=async(e,n,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:d}=t,g=a.filter(Boolean),v=await(d.isRTL==null?void 0:d.isRTL(n));let x=await d.getElementRects({reference:e,floating:n,strategy:s}),{x:w,y:E}=hb(x,r,v),_=r,k={},S=0;for(let R=0;R<g.length;R++){const{name:j,fn:I}=g[R],{x:D,y:O,data:q,reset:Q}=await I({x:w,y:E,initialPlacement:r,placement:_,strategy:s,middlewareData:k,rects:x,platform:d,elements:{reference:e,floating:n}});w=D??w,E=O??E,k={...k,[j]:{...k[j],...q}},Q&&S<=50&&(S++,typeof Q=="object"&&(Q.placement&&(_=Q.placement),Q.rects&&(x=Q.rects===!0?await d.getElementRects({reference:e,floating:n,strategy:s}):Q.rects),{x:w,y:E}=hb(x,_,v)),R=-1)}return{x:w,y:E,placement:_,strategy:s,middlewareData:k}};async function DL(e,n){var t;n===void 0&&(n={});const{x:r,y:s,platform:a,rects:d,elements:g,strategy:v}=e,{boundary:x="clippingAncestors",rootBoundary:w="viewport",elementContext:E="floating",altBoundary:_=!1,padding:k=0}=rp(n,e),S=aN(k),j=g[_?E==="floating"?"reference":"floating":E],I=fh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(j)))==null||t?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(g.floating)),boundary:x,rootBoundary:w,strategy:v})),D=E==="floating"?{x:r,y:s,width:d.floating.width,height:d.floating.height}:d.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(g.floating)),q=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},Q=fh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:D,offsetParent:O,strategy:v}):D);return{top:(I.top-Q.top+S.top)/q.y,bottom:(Q.bottom-I.bottom+S.bottom)/q.y,left:(I.left-Q.left+S.left)/q.x,right:(Q.right-I.right+S.right)/q.x}}const IL=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:s,rects:a,platform:d,elements:g,middlewareData:v}=n,{element:x,padding:w=0}=rp(e,n)||{};if(x==null)return{};const E=aN(w),_={x:t,y:r},k=r2(s),S=n2(k),R=await d.getDimensions(x),j=k==="y",I=j?"top":"left",D=j?"bottom":"right",O=j?"clientHeight":"clientWidth",q=a.reference[S]+a.reference[k]-_[k]-a.floating[S],Q=_[k]-a.reference[k],z=await(d.getOffsetParent==null?void 0:d.getOffsetParent(x));let P=z?z[O]:0;(!P||!await(d.isElement==null?void 0:d.isElement(z)))&&(P=g.floating[O]||a.floating[S]);const V=q/2-Q/2,W=P/2-R[S]/2-1,se=yc(E[I],W),ce=yc(E[D],W),ae=se,ie=P-R[S]-ce,he=P/2-R[S]/2+V,ee=vL(ae,he,ie),xe=!v.arrow&&Cd(s)!=null&&he!==ee&&a.reference[S]/2-(he<ae?se:ce)-R[S]/2<0,ge=xe?he<ae?he-ae:he-ie:0;return{[k]:_[k]+ge,data:{[k]:ee,centerOffset:he-ee-ge,...xe&&{alignmentOffset:ge}},reset:xe}}}),RL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:s,middlewareData:a,rects:d,initialPlacement:g,platform:v,elements:x}=n,{mainAxis:w=!0,crossAxis:E=!0,fallbackPlacements:_,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:R=!0,...j}=rp(e,n);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const I=wc(s),D=rc(g),O=wc(g)===g,q=await(v.isRTL==null?void 0:v.isRTL(x.floating)),Q=_||(O||!R?[dh(g)]:bL(g)),z=S!=="none";!_&&z&&Q.push(...EL(g,R,S,q));const P=[g,...Q],V=await DL(n,j),W=[];let se=((r=a.flip)==null?void 0:r.overflows)||[];if(w&&W.push(V[I]),E){const ee=wL(s,d,q);W.push(V[ee[0]],V[ee[1]])}if(se=[...se,{placement:s,overflows:W}],!W.every(ee=>ee<=0)){var ce,ae;const ee=(((ce=a.flip)==null?void 0:ce.index)||0)+1,xe=P[ee];if(xe){var ie;const ue=E==="alignment"?D!==rc(xe):!1,_e=((ie=se[0])==null?void 0:ie.overflows[0])>0;if(!ue||_e)return{data:{index:ee,overflows:se},reset:{placement:xe}}}let ge=(ae=se.filter(ue=>ue.overflows[0]<=0).sort((ue,_e)=>ue.overflows[1]-_e.overflows[1])[0])==null?void 0:ae.placement;if(!ge)switch(k){case"bestFit":{var he;const ue=(he=se.filter(_e=>{if(z){const Re=rc(_e.placement);return Re===D||Re==="y"}return!0}).map(_e=>[_e.placement,_e.overflows.filter(Re=>Re>0).reduce((Re,We)=>Re+We,0)]).sort((_e,Re)=>_e[1]-Re[1])[0])==null?void 0:he[0];ue&&(ge=ue);break}case"initialPlacement":ge=g;break}if(s!==ge)return{reset:{placement:ge}}}return{}}}};async function OL(e,n){const{placement:t,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),d=wc(t),g=Cd(t),v=rc(t)==="y",x=["left","top"].includes(d)?-1:1,w=a&&v?-1:1,E=rp(n,e);let{mainAxis:_,crossAxis:k,alignmentAxis:S}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return g&&typeof S=="number"&&(k=g==="end"?S*-1:S),v?{x:k*w,y:_*x}:{x:_*x,y:k*w}}const jL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:s,y:a,placement:d,middlewareData:g}=n,v=await OL(n,e);return d===((t=g.offset)==null?void 0:t.placement)&&(r=g.arrow)!=null&&r.alignmentOffset?{}:{x:s+v.x,y:a+v.y,data:{...v,placement:d}}}}};function oN(e){const n=Yi(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const s=Rs(e),a=s?e.offsetWidth:t,d=s?e.offsetHeight:r,g=uh(t)!==a||uh(r)!==d;return g&&(t=a,r=d),{width:t,height:r,$:g}}function i2(e){return Wr(e)?e:e.contextElement}function ic(e){const n=i2(e);if(!Rs(n))return Is(1);const t=n.getBoundingClientRect(),{width:r,height:s,$:a}=oN(n);let d=(a?uh(t.width):t.width)/r,g=(a?uh(t.height):t.height)/s;return(!d||!Number.isFinite(d))&&(d=1),(!g||!Number.isFinite(g))&&(g=1),{x:d,y:g}}const ML=Is(0);function lN(e){const n=vi(e);return!t2()||!n.visualViewport?ML:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function LL(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==vi(e)?!1:n}function ul(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const s=e.getBoundingClientRect(),a=i2(e);let d=Is(1);n&&(r?Wr(r)&&(d=ic(r)):d=ic(e));const g=LL(a,t,r)?lN(a):Is(0);let v=(s.left+g.x)/d.x,x=(s.top+g.y)/d.y,w=s.width/d.x,E=s.height/d.y;if(a){const _=vi(a),k=r&&Wr(r)?vi(r):r;let S=_,R=bg(S);for(;R&&r&&k!==S;){const j=ic(R),I=R.getBoundingClientRect(),D=Yi(R),O=I.left+(R.clientLeft+parseFloat(D.paddingLeft))*j.x,q=I.top+(R.clientTop+parseFloat(D.paddingTop))*j.y;v*=j.x,x*=j.y,w*=j.x,E*=j.y,v+=O,x+=q,S=vi(R),R=bg(S)}}return fh({width:w,height:E,x:v,y:x})}function s2(e,n){const t=np(e).scrollLeft;return n?n.left+t:ul(Os(e)).left+t}function cN(e,n,t){t===void 0&&(t=!1);const r=e.getBoundingClientRect(),s=r.left+n.scrollLeft-(t?0:s2(e,r)),a=r.top+n.scrollTop;return{x:s,y:a}}function PL(e){let{elements:n,rect:t,offsetParent:r,strategy:s}=e;const a=s==="fixed",d=Os(r),g=n?tp(n.floating):!1;if(r===d||g&&a)return t;let v={scrollLeft:0,scrollTop:0},x=Is(1);const w=Is(0),E=Rs(r);if((E||!E&&!a)&&((Oc(r)!=="body"||bd(d))&&(v=np(r)),Rs(r))){const k=ul(r);x=ic(r),w.x=k.x+r.clientLeft,w.y=k.y+r.clientTop}const _=d&&!E&&!a?cN(d,v,!0):Is(0);return{width:t.width*x.x,height:t.height*x.y,x:t.x*x.x-v.scrollLeft*x.x+w.x+_.x,y:t.y*x.y-v.scrollTop*x.y+w.y+_.y}}function FL(e){return Array.from(e.getClientRects())}function BL(e){const n=Os(e),t=np(e),r=e.ownerDocument.body,s=el(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),a=el(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let d=-t.scrollLeft+s2(e);const g=-t.scrollTop;return Yi(r).direction==="rtl"&&(d+=el(n.clientWidth,r.clientWidth)-s),{width:s,height:a,x:d,y:g}}function UL(e,n){const t=vi(e),r=Os(e),s=t.visualViewport;let a=r.clientWidth,d=r.clientHeight,g=0,v=0;if(s){a=s.width,d=s.height;const x=t2();(!x||x&&n==="fixed")&&(g=s.offsetLeft,v=s.offsetTop)}return{width:a,height:d,x:g,y:v}}function zL(e,n){const t=ul(e,!0,n==="fixed"),r=t.top+e.clientTop,s=t.left+e.clientLeft,a=Rs(e)?ic(e):Is(1),d=e.clientWidth*a.x,g=e.clientHeight*a.y,v=s*a.x,x=r*a.y;return{width:d,height:g,x:v,y:x}}function pb(e,n,t){let r;if(n==="viewport")r=UL(e,t);else if(n==="document")r=BL(Os(e));else if(Wr(n))r=zL(n,t);else{const s=lN(e);r={x:n.x-s.x,y:n.y-s.y,width:n.width,height:n.height}}return fh(r)}function uN(e,n){const t=lo(e);return t===n||!Wr(t)||vc(t)?!1:Yi(t).position==="fixed"||uN(t,n)}function WL(e,n){const t=n.get(e);if(t)return t;let r=ud(e,[],!1).filter(g=>Wr(g)&&Oc(g)!=="body"),s=null;const a=Yi(e).position==="fixed";let d=a?lo(e):e;for(;Wr(d)&&!vc(d);){const g=Yi(d),v=e2(d);!v&&g.position==="fixed"&&(s=null),(a?!v&&!s:!v&&g.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||bd(d)&&!v&&uN(e,d))?r=r.filter(w=>w!==d):s=g,d=lo(d)}return n.set(e,r),r}function HL(e){let{element:n,boundary:t,rootBoundary:r,strategy:s}=e;const d=[...t==="clippingAncestors"?tp(n)?[]:WL(n,this._c):[].concat(t),r],g=d[0],v=d.reduce((x,w)=>{const E=pb(n,w,s);return x.top=el(E.top,x.top),x.right=yc(E.right,x.right),x.bottom=yc(E.bottom,x.bottom),x.left=el(E.left,x.left),x},pb(n,g,s));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function qL(e){const{width:n,height:t}=oN(e);return{width:n,height:t}}function VL(e,n,t){const r=Rs(n),s=Os(n),a=t==="fixed",d=ul(e,!0,a,n);let g={scrollLeft:0,scrollTop:0};const v=Is(0);function x(){v.x=s2(s)}if(r||!r&&!a)if((Oc(n)!=="body"||bd(s))&&(g=np(n)),r){const k=ul(n,!0,a,n);v.x=k.x+n.clientLeft,v.y=k.y+n.clientTop}else s&&x();a&&!r&&s&&x();const w=s&&!r&&!a?cN(s,g):Is(0),E=d.left+g.scrollLeft-v.x-w.x,_=d.top+g.scrollTop-v.y-w.y;return{x:E,y:_,width:d.width,height:d.height}}function V1(e){return Yi(e).position==="static"}function mb(e,n){if(!Rs(e)||Yi(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return Os(e)===t&&(t=t.ownerDocument.body),t}function dN(e,n){const t=vi(e);if(tp(e))return t;if(!Rs(e)){let s=lo(e);for(;s&&!vc(s);){if(Wr(s)&&!V1(s))return s;s=lo(s)}return t}let r=mb(e,n);for(;r&&pL(r)&&V1(r);)r=mb(r,n);return r&&vc(r)&&V1(r)&&!e2(r)?t:r||mL(e)||t}const YL=async function(e){const n=this.getOffsetParent||dN,t=this.getDimensions,r=await t(e.floating);return{reference:VL(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GL(e){return Yi(e).direction==="rtl"}const $L={convertOffsetParentRelativeRectToViewportRelativeRect:PL,getDocumentElement:Os,getClippingRect:HL,getOffsetParent:dN,getElementRects:YL,getClientRects:FL,getDimensions:qL,getScale:ic,isElement:Wr,isRTL:GL};function fN(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function XL(e,n){let t=null,r;const s=Os(e);function a(){var g;clearTimeout(r),(g=t)==null||g.disconnect(),t=null}function d(g,v){g===void 0&&(g=!1),v===void 0&&(v=1),a();const x=e.getBoundingClientRect(),{left:w,top:E,width:_,height:k}=x;if(g||n(),!_||!k)return;const S=qf(E),R=qf(s.clientWidth-(w+_)),j=qf(s.clientHeight-(E+k)),I=qf(w),O={rootMargin:-S+"px "+-R+"px "+-j+"px "+-I+"px",threshold:el(0,yc(1,v))||1};let q=!0;function Q(z){const P=z[0].intersectionRatio;if(P!==v){if(!q)return d();P?d(!1,P):r=setTimeout(()=>{d(!1,1e-7)},1e3)}P===1&&!fN(x,e.getBoundingClientRect())&&d(),q=!1}try{t=new IntersectionObserver(Q,{...O,root:s.ownerDocument})}catch{t=new IntersectionObserver(Q,O)}t.observe(e)}return d(!0),a}function QL(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:v=!1}=r,x=i2(e),w=s||a?[...x?ud(x):[],...ud(n)]:[];w.forEach(I=>{s&&I.addEventListener("scroll",t,{passive:!0}),a&&I.addEventListener("resize",t)});const E=x&&g?XL(x,t):null;let _=-1,k=null;d&&(k=new ResizeObserver(I=>{let[D]=I;D&&D.target===x&&k&&(k.unobserve(n),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var O;(O=k)==null||O.observe(n)})),t()}),x&&!v&&k.observe(x),k.observe(n));let S,R=v?ul(e):null;v&&j();function j(){const I=ul(e);R&&!fN(R,I)&&t(),R=I,S=requestAnimationFrame(j)}return t(),()=>{var I;w.forEach(D=>{s&&D.removeEventListener("scroll",t),a&&D.removeEventListener("resize",t)}),E==null||E(),(I=k)==null||I.disconnect(),k=null,v&&cancelAnimationFrame(S)}}const KL=jL,ZL=RL,gb=IL,JL=(e,n,t)=>{const r=new Map,s={platform:$L,...t},a={...s.platform,_c:r};return kL(e,n,{...s,platform:a})};var v0=typeof document<"u"?L.useLayoutEffect:L.useEffect;function ph(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,s;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!ph(e[r],n[r]))return!1;return!0}if(s=Object.keys(e),t=s.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,s[r]))return!1;for(r=t;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!ph(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}function hN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xb(e,n){const t=hN(e);return Math.round(n*t)/t}function Y1(e){const n=L.useRef(e);return v0(()=>{n.current=e}),n}function eP(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:d}={},transform:g=!0,whileElementsMounted:v,open:x}=e,[w,E]=L.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[_,k]=L.useState(r);ph(_,r)||k(r);const[S,R]=L.useState(null),[j,I]=L.useState(null),D=L.useCallback(ue=>{ue!==z.current&&(z.current=ue,R(ue))},[]),O=L.useCallback(ue=>{ue!==P.current&&(P.current=ue,I(ue))},[]),q=a||S,Q=d||j,z=L.useRef(null),P=L.useRef(null),V=L.useRef(w),W=v!=null,se=Y1(v),ce=Y1(s),ae=Y1(x),ie=L.useCallback(()=>{if(!z.current||!P.current)return;const ue={placement:n,strategy:t,middleware:_};ce.current&&(ue.platform=ce.current),JL(z.current,P.current,ue).then(_e=>{const Re={..._e,isPositioned:ae.current!==!1};he.current&&!ph(V.current,Re)&&(V.current=Re,Tx.flushSync(()=>{E(Re)}))})},[_,n,t,ce,ae]);v0(()=>{x===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,E(ue=>({...ue,isPositioned:!1})))},[x]);const he=L.useRef(!1);v0(()=>(he.current=!0,()=>{he.current=!1}),[]),v0(()=>{if(q&&(z.current=q),Q&&(P.current=Q),q&&Q){if(se.current)return se.current(q,Q,ie);ie()}},[q,Q,ie,se,W]);const ee=L.useMemo(()=>({reference:z,floating:P,setReference:D,setFloating:O}),[D,O]),xe=L.useMemo(()=>({reference:q,floating:Q}),[q,Q]),ge=L.useMemo(()=>{const ue={position:t,left:0,top:0};if(!xe.floating)return ue;const _e=xb(xe.floating,w.x),Re=xb(xe.floating,w.y);return g?{...ue,transform:"translate("+_e+"px, "+Re+"px)",...hN(xe.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:_e,top:Re}},[t,g,xe.floating,w.x,w.y]);return L.useMemo(()=>({...w,update:ie,refs:ee,elements:xe,floatingStyles:ge}),[w,ie,ee,xe,ge])}const tP=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:s}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?gb({element:r.current,padding:s}).fn(t):{}:r?gb({element:r,padding:s}).fn(t):{}}}},nP=(e,n)=>({...KL(e),options:[e,n]}),rP=(e,n)=>({...ZL(e),options:[e,n]}),iP=(e,n)=>({...tP(e),options:[e,n]}),sP={...Pg};let vb=!1,aP=0;const yb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+aP++;function oP(){const[e,n]=L.useState(()=>vb?yb():void 0);return hh(()=>{e==null&&n(yb())},[]),L.useEffect(()=>{vb=!0},[]),e}const lP=sP.useId,pN=lP||oP,cP=L.forwardRef(function(n,t){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:a,shift:d}},width:g=14,height:v=7,tipRadius:x=0,strokeWidth:w=0,staticOffset:E,stroke:_,d:k,style:{transform:S,...R}={},...j}=n,I=pN(),[D,O]=L.useState(!1);if(hh(()=>{if(!s)return;Yi(s).direction==="rtl"&&O(!0)},[s]),!s)return null;const[q,Q]=r.split("-"),z=q==="top"||q==="bottom";let P=E;(z&&d!=null&&d.x||!z&&d!=null&&d.y)&&(P=null);const V=w*2,W=V/2,se=g/2*(x/-8+1),ce=v/2*x/4,ae=!!k,ie=P&&Q==="end"?"bottom":"top";let he=P&&Q==="end"?"right":"left";P&&D&&(he=Q==="end"?"left":"right");const ee=(a==null?void 0:a.x)!=null?P||a.x:"",xe=(a==null?void 0:a.y)!=null?P||a.y:"",ge=k||"M0,0"+(" H"+g)+(" L"+(g-se)+","+(v-ce))+(" Q"+g/2+","+v+" "+se+","+(v-ce))+" Z",ue={top:ae?"rotate(180deg)":"",left:ae?"rotate(90deg)":"rotate(-90deg)",bottom:ae?"":"rotate(180deg)",right:ae?"rotate(-90deg)":"rotate(90deg)"}[q];return c.jsxs("svg",{...j,"aria-hidden":!0,ref:t,width:ae?g:g+V,height:g,viewBox:"0 0 "+g+" "+(v>g?v:g),style:{position:"absolute",pointerEvents:"none",[he]:ee,[ie]:xe,[q]:z||ae?"100%":"calc(100% - "+V/2+"px)",transform:[ue,S].filter(_e=>!!_e).join(" "),...R},children:[V>0&&c.jsx("path",{clipPath:"url(#"+I+")",fill:"none",stroke:_,strokeWidth:V+(k?0:1),d:ge}),c.jsx("path",{stroke:V&&!k?j.fill:"none",d:ge}),c.jsx("clipPath",{id:I,children:c.jsx("rect",{x:-W,y:W*(ae?-1:1),width:g+V,height:g})})]})});function uP(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(s=>s(t))},on(n,t){e.has(n)||e.set(n,new Set),e.get(n).add(t)},off(n,t){var r;(r=e.get(n))==null||r.delete(t)}}}const dP=L.createContext(null),fP=L.createContext(null),hP=()=>{var e;return((e=L.useContext(dP))==null?void 0:e.id)||null},pP=()=>L.useContext(fP);function mP(e){const{open:n=!1,onOpenChange:t,elements:r}=e,s=pN(),a=L.useRef({}),[d]=L.useState(()=>uP()),g=hP()!=null,[v,x]=L.useState(r.reference),w=TL((k,S,R)=>{a.current.openEvent=k?S:void 0,d.emit("openchange",{open:k,event:S,reason:R,nested:g}),t==null||t(k,S,R)}),E=L.useMemo(()=>({setPositionReference:x}),[]),_=L.useMemo(()=>({reference:v||r.reference||null,floating:r.floating||null,domReference:r.reference}),[v,r.reference,r.floating]);return L.useMemo(()=>({dataRef:a,open:n,onOpenChange:w,elements:_,events:d,floatingId:s,refs:E}),[n,w,_,d,s,E])}function gP(e){e===void 0&&(e={});const{nodeId:n}=e,t=mP({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,s=r.elements,[a,d]=L.useState(null),[g,v]=L.useState(null),w=(s==null?void 0:s.domReference)||a,E=L.useRef(null),_=pP();hh(()=>{w&&(E.current=w)},[w]);const k=eP({...e,elements:{...s,...g&&{reference:g}}}),S=L.useCallback(O=>{const q=Wr(O)?{getBoundingClientRect:()=>O.getBoundingClientRect(),getClientRects:()=>O.getClientRects(),contextElement:O}:O;v(q),k.refs.setReference(q)},[k.refs]),R=L.useCallback(O=>{(Wr(O)||O===null)&&(E.current=O,d(O)),(Wr(k.refs.reference.current)||k.refs.reference.current===null||O!==null&&!Wr(O))&&k.refs.setReference(O)},[k.refs]),j=L.useMemo(()=>({...k.refs,setReference:R,setPositionReference:S,domReference:E}),[k.refs,R,S]),I=L.useMemo(()=>({...k.elements,domReference:w}),[k.elements,w]),D=L.useMemo(()=>({...k,...r,refs:j,elements:I,nodeId:n}),[k,j,I,n,r]);return hh(()=>{r.dataRef.current.floatingContext=D;const O=_==null?void 0:_.nodesRef.current.find(q=>q.id===n);O&&(O.context=D)}),L.useMemo(()=>({...k,context:D,refs:j,elements:I}),[k,j,I,D])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Eg=function(n,t){return Eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},Eg(n,t)};function ur(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Eg(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var It=function(){return It=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(t[d]=r[d])}return t},It.apply(this,arguments)};function Ts(e,n,t){if(t||arguments.length===2)for(var r=0,s=n.length,a;r<s;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var xP=function(e){var n=e.showTimeSelectOnly,t=n===void 0?!1:n,r=e.showTime,s=r===void 0?!1:r,a=e.className,d=e.children,g=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return de.createElement("div",{className:a,role:"dialog","aria-label":g,"aria-modal":"true"},d)},vP=function(e,n){var t=L.useRef(null),r=L.useRef(e);r.current=e;var s=L.useCallback(function(a){var d,g=a.composed&&a.composedPath&&a.composedPath().find(function(v){return v instanceof Node})||a.target;t.current&&!t.current.contains(g)&&(n&&g instanceof HTMLElement&&g.classList.contains(n)||(d=r.current)===null||d===void 0||d.call(r,a))},[n]);return L.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},ip=function(e){var n=e.children,t=e.onClickOutside,r=e.className,s=e.containerRef,a=e.style,d=e.ignoreClass,g=vP(t,d);return de.createElement("div",{className:r,style:a,ref:function(v){g.current=v,s&&(s.current=v)}},n)},je;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(je||(je={}));function mN(){var e=typeof window<"u"?window:globalThis;return e}var Ed=12;function Ut(e){if(e==null)return new Date;var n=typeof e=="string"?m9(e):Be(e);return sp(n)?n:new Date}function G1(e,n,t,r,s){s===void 0&&(s=Ut());for(var a=bc(t)||bc(a2()),d=Array.isArray(n)?n:[n],g=0,v=d;g<v.length;g++){var x=v[g],w=c9(e,x,s,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(sp(w)&&(!r||e===gn(w,x,t)))return w}return null}function sp(e,n){return rh(e)&&!cl(e,new Date("1/1/1800"))}function gn(e,n,t){if(t==="en")return ld(e,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?bc(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||bc(a2()),ld(e,n,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Pi(e,n){var t=n.dateFormat,r=n.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return e&&gn(e,s,r)||""}var gN=" - ";function yP(e,n,t){if(!e)return"";var r=Pi(e,t),s=n?Pi(n,t):"";return"".concat(r).concat(gN).concat(s)}function wP(e,n){if(!(e!=null&&e.length))return"";var t=e[0]?Pi(e[0],n):"";if(e.length===1)return t;if(e.length===2&&e[1]){var r=Pi(e[1],n);return"".concat(t,", ").concat(r)}var s=e.length-1;return"".concat(t," (+").concat(s,")")}function $1(e,n){var t=n.hour,r=t===void 0?0:t,s=n.minute,a=s===void 0?0:s,d=n.second,g=d===void 0?0:d;return m0(g0(x0(e,g),a),r)}function bP(e){return Xx(e)}function CP(e,n){return gn(e,"ddd",n)}function y0(e){return ll(e)}function io(e,n,t){var r=bc(n||a2());return ga(e,{locale:r,weekStartsOn:t})}function ua(e){return LE(e)}function Au(e){return Jh(e)}function wb(e){return mg(e)}function bb(){return ll(Ut())}function Cb(e){return Yx(e)}function EP(e){return gj(e)}function NP(e){return Gx(e)}function Es(e,n){return e&&n?h9(e,n):!e&&!n}function Fr(e,n){return e&&n?d9(e,n):!e&&!n}function mh(e,n){return e&&n?f9(e,n):!e&&!n}function Dt(e,n){return e&&n?cj(e,n):!e&&!n}function Xo(e,n){return e&&n?pM(e,n):!e&&!n}function Tu(e,n,t){var r,s=ll(n),a=Yx(t);try{r=cd(e,{start:s,end:a})}catch{r=!1}return r}function a2(){var e=mN();return e.__localeId__}function bc(e){if(typeof e=="string"){var n=mN();return n.__localeData__?n.__localeData__[e]:void 0}else return e}function _P(e,n,t){return n(gn(e,"EEEE",t))}function SP(e,n){return gn(e,"EEEEEE",n)}function AP(e,n){return gn(e,"EEE",n)}function o2(e,n){return gn(Fi(Ut(),e),"LLLL",n)}function xN(e,n){return gn(Fi(Ut(),e),"LLL",n)}function TP(e,n){return gn(Ll(Ut(),e),"QQQ",n)}function zi(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.maxDate,a=t.excludeDates,d=t.excludeDateIntervals,g=t.includeDates,v=t.includeDateIntervals,x=t.filterDate;return Nd(e,{minDate:r,maxDate:s})||a&&a.some(function(w){return w instanceof Date?Dt(e,w):Dt(e,w.date)})||d&&d.some(function(w){var E=w.start,_=w.end;return cd(e,{start:E,end:_})})||g&&!g.some(function(w){return Dt(e,w)})||v&&!v.some(function(w){var E=w.start,_=w.end;return cd(e,{start:E,end:_})})||x&&!x(Ut(e))||!1}function l2(e,n){var t=n===void 0?{}:n,r=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(a){var d=a.start,g=a.end;return cd(e,{start:d,end:g})}):r&&r.some(function(a){var d;return a instanceof Date?Dt(e,a):Dt(e,(d=a.date)!==null&&d!==void 0?d:new Date)})||!1}function vN(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.maxDate,a=t.excludeDates,d=t.includeDates,g=t.filterDate;return Nd(e,{minDate:r?LE(r):void 0,maxDate:s?Gx(s):void 0})||(a==null?void 0:a.some(function(v){return Fr(e,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return Fr(e,v)})||g&&!g(Ut(e))||!1}function Vf(e,n,t,r){var s=ht(e),a=Dr(e),d=ht(n),g=Dr(n),v=ht(r);return s===d&&s===v?a<=t&&t<=g:s<d?v===s&&a<=t||v===d&&g>=t||v<d&&v>s:!1}function kP(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.maxDate,a=t.excludeDates,d=t.includeDates;return Nd(e,{minDate:r,maxDate:s})||a&&a.some(function(g){return Fr(g instanceof Date?g:g.date,e)})||d&&!d.some(function(g){return Fr(g,e)})||!1}function Yf(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.maxDate,a=t.excludeDates,d=t.includeDates,g=t.filterDate;return Nd(e,{minDate:r,maxDate:s})||(a==null?void 0:a.some(function(v){return mh(e,v instanceof Date?v:v.date)}))||d&&!d.some(function(v){return mh(e,v)})||g&&!g(Ut(e))||!1}function Gf(e,n,t){if(!n||!t||!rh(n)||!rh(t))return!1;var r=ht(n),s=ht(t);return r<=e&&s>=e}function w0(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.maxDate,a=t.excludeDates,d=t.includeDates,g=t.filterDate,v=new Date(e,0,1);return Nd(v,{minDate:r?Jh(r):void 0,maxDate:s?PE(s):void 0})||(a==null?void 0:a.some(function(x){return Es(v,x instanceof Date?x:x.date)}))||d&&!d.some(function(x){return Es(v,x)})||g&&!g(Ut(v))||!1}function $f(e,n,t,r){var s=ht(e),a=Zo(e),d=ht(n),g=Zo(n),v=ht(r);return s===d&&s===v?a<=t&&t<=g:s<d?v===s&&a<=t||v===d&&g>=t||v<d&&v>s:!1}function Nd(e,n){var t,r=n===void 0?{}:n,s=r.minDate,a=r.maxDate;return(t=s&&gc(e,s)<0||a&&gc(e,a)>0)!==null&&t!==void 0?t:!1}function Eb(e,n){return n.some(function(t){return la(t)===la(e)&&ca(t)===ca(e)&&ro(t)===ro(e)})}function Nb(e,n){var t=n===void 0?{}:n,r=t.excludeTimes,s=t.includeTimes,a=t.filterTime;return r&&Eb(e,r)||s&&!Eb(e,s)||a&&!a(e)||!1}function _b(e,n){var t=n.minTime,r=n.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var s=Ut();s=m0(s,la(e)),s=g0(s,ca(e)),s=x0(s,ro(e));var a=Ut();a=m0(a,la(t)),a=g0(a,ca(t)),a=x0(a,ro(t));var d=Ut();d=m0(d,la(r)),d=g0(d,ca(r)),d=x0(d,ro(r));var g;try{g=!cd(s,{start:a,end:d})}catch{g=!1}return g}function Sb(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.includeDates,a=Jo(e,1);return r&&od(r,a)>0||s&&s.every(function(d){return od(d,a)>0})||!1}function Ab(e,n){var t=n===void 0?{}:n,r=t.maxDate,s=t.includeDates,a=cs(e,1);return r&&od(a,r)>0||s&&s.every(function(d){return od(a,d)>0})||!1}function DP(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.includeDates,a=Jh(e),d=GE(a,1);return r&&ih(r,d)>0||s&&s.every(function(g){return ih(g,d)>0})||!1}function IP(e,n){var t=n===void 0?{}:n,r=t.maxDate,s=t.includeDates,a=PE(e),d=Vx(a,1);return r&&ih(d,r)>0||s&&s.every(function(g){return ih(d,g)>0})||!1}function Tb(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.includeDates,a=xc(e,1);return r&&sh(r,a)>0||s&&s.every(function(d){return sh(d,a)>0})||!1}function RP(e,n){var t=n===void 0?{}:n,r=t.minDate,s=t.yearItemNumber,a=s===void 0?Ed:s,d=Au(xc(e,a)),g=Ga(d,a).endPeriod,v=r&&ht(r);return v&&v>g||!1}function kb(e,n){var t=n===void 0?{}:n,r=t.maxDate,s=t.includeDates,a=aa(e,1);return r&&sh(a,r)>0||s&&s.every(function(d){return sh(a,d)>0})||!1}function OP(e,n){var t=n===void 0?{}:n,r=t.maxDate,s=t.yearItemNumber,a=s===void 0?Ed:s,d=aa(e,a),g=Ga(d,a).startPeriod,v=r&&ht(r);return v&&v<g||!1}function yN(e){var n=e.minDate,t=e.includeDates;if(t&&n){var r=t.filter(function(s){return gc(s,n)>=0});return $w(r)}else return t?$w(t):n}function wN(e){var n=e.maxDate,t=e.includeDates;if(t&&n){var r=t.filter(function(s){return gc(s,n)<=0});return Gw(r)}else return t?Gw(t):n}function Db(e,n){var t;e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var r=new Map,s=0,a=e.length;s<a;s++){var d=e[s];if(oa(d)){var g=gn(d,"MM.dd.yyyy"),v=r.get(g)||[];v.includes(n)||(v.push(n),r.set(g,v))}else if(typeof d=="object"){var x=Object.keys(d),w=(t=x[0])!==null&&t!==void 0?t:"",E=d[w];if(typeof w=="string"&&Array.isArray(E))for(var _=0,k=E.length;_<k;_++){var S=E[_];if(S){var g=gn(S,"MM.dd.yyyy"),v=r.get(g)||[];v.includes(w)||(v.push(w),r.set(g,v))}}}}return r}function jP(e,n){return e.length!==n.length?!1:e.every(function(t,r){return t===n[r]})}function MP(e,n){e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(r){var s=r.date,a=r.holidayName;if(oa(s)){var d=gn(s,"MM.dd.yyyy"),g=t.get(d)||{className:"",holidayNames:[]};if(!("className"in g&&g.className===n&&jP(g.holidayNames,[a]))){g.className=n;var v=g.holidayNames;g.holidayNames=v?Ts(Ts([],v,!0),[a],!1):[a],t.set(d,g)}}}),t}function LP(e,n,t,r,s){for(var a=s.length,d=[],g=0;g<a;g++){var v=e,x=s[g];x&&(v=ij(v,la(x)),v=pg(v,ca(x)),v=oj(v,ro(x)));var w=pg(e,(t+1)*r);oo(v,n)&&cl(v,w)&&x!=null&&d.push(x)}return d}function Ib(e){return e<10?"0".concat(e):"".concat(e)}function Ga(e,n){n===void 0&&(n=Ed);var t=Math.ceil(ht(e)/n)*n,r=t-(n-1);return{startPeriod:r,endPeriod:t}}function PP(e){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+n)/36e5)}function Rb(e){var n=e.getSeconds(),t=e.getMilliseconds();return Be(e.getTime()-n*1e3-t)}function FP(e,n){return Rb(e).getTime()===Rb(n).getTime()}function Ob(e){if(!oa(e))throw new Error("Invalid date");var n=new Date(e);return n.setHours(0,0,0,0),n}function jb(e,n){if(!oa(e)||!oa(n))throw new Error("Invalid date received");var t=Ob(e),r=Ob(n);return cl(t,r)}function bN(e){return e.key===je.Space}var BP=function(e){ur(n,e);function n(t){var r=e.call(this,t)||this;return r.inputRef=de.createRef(),r.onTimeChange=function(s){var a,d;r.setState({time:s});var g=r.props.date,v=g instanceof Date&&!isNaN(+g),x=v?g:new Date;if(s!=null&&s.includes(":")){var w=s.split(":"),E=w[0],_=w[1];x.setHours(Number(E)),x.setMinutes(Number(_))}(d=(a=r.props).onChange)===null||d===void 0||d.call(a,x)},r.renderTimeInput=function(){var s=r.state.time,a=r.props,d=a.date,g=a.timeString,v=a.customTimeInput;return v?L.cloneElement(v,{date:d,value:s,onChange:r.onTimeChange}):de.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var x;(x=r.inputRef.current)===null||x===void 0||x.focus()},required:!0,value:s,onChange:function(x){r.onTimeChange(x.target.value||g)}})},r.state={time:r.props.timeString},r}return n.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},n.prototype.render=function(){return de.createElement("div",{className:"react-datepicker__input-time-container"},de.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),de.createElement("div",{className:"react-datepicker-time__input-container"},de.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(L.Component),UP=function(e){ur(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=L.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var s,a,d=r.key;d===je.Space&&(r.preventDefault(),r.key=je.Enter),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,r)},t.isSameDay=function(r){return Dt(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(d){return t.isSameDayOrWeek(d)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),zi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return l2(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Dt(t.props.day,io(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&Dt(r,io(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,s=r.day,a=r.highlightDates;if(!a)return!1;var d=gn(s,"MM.dd.yyyy");return a.get(d)},t.getHolidaysClass=function(){var r,s=t.props,a=s.day,d=s.holidays;if(!d)return[void 0];var g=gn(a,"MM.dd.yyyy");return d.has(g)?[(r=d.get(g))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,s=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:Tu(s,a,d)},t.isInSelectingRange=function(){var r,s=t.props,a=s.day,d=s.selectsStart,g=s.selectsEnd,v=s.selectsRange,x=s.selectsDisabledDaysInRange,w=s.startDate,E=s.endDate,_=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(d||g||v)||!_||!x&&t.isDisabled()?!1:d&&E&&(cl(_,E)||Xo(_,E))?Tu(a,_,E):g&&w&&(oo(_,w)||Xo(_,w))||v&&w&&!E&&(oo(_,w)||Xo(_,w))?Tu(a,w,_):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var s=t.props,a=s.day,d=s.startDate,g=s.selectsStart,v=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return g?Dt(a,v):Dt(a,d)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var s=t.props,a=s.day,d=s.endDate,g=s.selectsEnd,v=s.selectsRange,x=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return g||v?Dt(a,x):Dt(a,d)},t.isRangeStart=function(){var r=t.props,s=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:Dt(a,s)},t.isRangeEnd=function(){var r=t.props,s=r.day,a=r.startDate,d=r.endDate;return!a||!d?!1:Dt(d,s)},t.isWeekend=function(){var r=uM(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Dr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Dr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Ut())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var s=t.props.dayClassName?t.props.dayClassName(r):void 0;return mn("react-datepicker__day",s,"react-datepicker__day--"+CP(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,s=r.day,a=r.ariaLabelPrefixWhenEnabled,d=a===void 0?"Choose":a,g=r.ariaLabelPrefixWhenDisabled,v=g===void 0?"Not available":g,x=t.isDisabled()||t.isExcluded()?v:d;return"".concat(x," ").concat(gn(s,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,s=r.day,a=r.holidays,d=a===void 0?new Map:a,g=r.excludeDates,v=gn(s,"MM.dd.yyyy"),x=[];return d.has(v)&&x.push.apply(x,d.get(v).holidayNames),t.isExcluded()&&x.push(g==null?void 0:g.filter(function(w){return w instanceof Date?Dt(w,s):Dt(w==null?void 0:w.date,s)}).map(function(w){if(!(w instanceof Date))return w==null?void 0:w.message})),x.join(", ")},t.getTabIndex=function(){var r=t.props.selected,s=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&Dt(s,r))?0:-1;return a},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(eb(t.props.day),t.props.day):eb(t.props.day)},t.render=function(){return de.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&de.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,r,s;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(L.Component),zP=function(e){ur(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=L.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var s,a,d=r.key;d===je.Space&&(r.preventDefault(),r.key=je.Enter),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Dt(t.props.date,t.props.selected)&&Dt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Dt(t.props.date,t.props.selected)&&Dt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var s=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Dt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,r=t.weekNumber,s=t.isWeekDisabled,a=t.ariaLabelPrefix,d=a===void 0?n.defaultProps.ariaLabelPrefix:a,g=t.onClick,v={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!g&&!s,"react-datepicker__week-number--selected":!!g&&Dt(this.props.date,this.props.selected)};return de.createElement("div",{ref:this.weekNumberEl,className:mn(v),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},n}(L.Component),WP=function(e){ur(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(r){return zi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,s){t.props.onDayClick&&t.props.onDayClick(r,s)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,s,a){for(var d,g,v,x=new Date(r),w=0;w<7;w++){var E=new Date(r);E.setDate(E.getDate()+w);var _=!t.isDisabled(E);if(_){x=E;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(x,s,a),t.props.showWeekPicker&&t.handleDayClick(x,a),((d=t.props.shouldCloseOnSelect)!==null&&d!==void 0?d:n.defaultProps.shouldCloseOnSelect)&&((v=(g=t.props).setOpen)===null||v===void 0||v.call(g,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):bP(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),s=os(r,6),a=new Date(r);a<=s;){if(!t.isDisabled(a))return!1;a=os(a,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),s=[],a=t.formatWeekNumber(r);if(t.props.showWeekNumber){var d=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,a):void 0;s.push(de.createElement(zP,It({key:"W"},n.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:d})))}return s.concat([0,1,2,3,4,5,6].map(function(g){var v=os(r,g);return de.createElement(UP,It({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:v.valueOf(),day:v,onClick:t.handleDayClick.bind(t,v),onMouseEnter:t.handleDayMouseEnter.bind(t,v)}))}))},t.startOfWeek=function(){return io(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Dt(t.startOfWeek(),t.props.selected)&&Dt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Dt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return de.createElement("div",{className:mn(t)},this.renderDays())},n}(L.Component),Cu,HP=6,sc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},X1=(Cu={},Cu[sc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Cu[sc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Cu[sc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Cu),Xf=1;function Mb(e,n){return e?sc.FOUR_COLUMNS:n?sc.TWO_COLUMNS:sc.THREE_COLUMNS}var qP=function(e){ur(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Ts([],Array(12),!0).map(function(){return L.createRef()}),t.QUARTER_REFS=Ts([],Array(4),!0).map(function(){return L.createRef()}),t.isDisabled=function(r){return zi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return l2(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,s){var a,d;(d=(a=t.props).onDayClick)===null||d===void 0||d.call(a,r,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var s,a;(a=(s=t.props).onDayMouseEnter)===null||a===void 0||a.call(s,r)},t.handleMouseLeave=function(){var r,s;(s=(r=t.props).onMouseLeave)===null||s===void 0||s.call(r)},t.isRangeStartMonth=function(r){var s=t.props,a=s.day,d=s.startDate,g=s.endDate;return!d||!g?!1:Fr(Fi(a,r),d)},t.isRangeStartQuarter=function(r){var s=t.props,a=s.day,d=s.startDate,g=s.endDate;return!d||!g?!1:mh(Ll(a,r),d)},t.isRangeEndMonth=function(r){var s=t.props,a=s.day,d=s.startDate,g=s.endDate;return!d||!g?!1:Fr(Fi(a,r),g)},t.isRangeEndQuarter=function(r){var s=t.props,a=s.day,d=s.startDate,g=s.endDate;return!d||!g?!1:mh(Ll(a,r),g)},t.isInSelectingRangeMonth=function(r){var s,a=t.props,d=a.day,g=a.selectsStart,v=a.selectsEnd,x=a.selectsRange,w=a.startDate,E=a.endDate,_=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(g||v||x)||!_?!1:g&&E?Vf(_,E,r,d):v&&w||x&&w&&!E?Vf(w,_,r,d):!1},t.isSelectingMonthRangeStart=function(r){var s;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,d=a.day,g=a.startDate,v=a.selectsStart,x=Fi(d,r),w=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return v?Fr(x,w):Fr(x,g)},t.isSelectingMonthRangeEnd=function(r){var s;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,d=a.day,g=a.endDate,v=a.selectsEnd,x=a.selectsRange,w=Fi(d,r),E=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return v||x?Fr(w,E):Fr(w,g)},t.isInSelectingRangeQuarter=function(r){var s,a=t.props,d=a.day,g=a.selectsStart,v=a.selectsEnd,x=a.selectsRange,w=a.startDate,E=a.endDate,_=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(g||v||x)||!_?!1:g&&E?$f(_,E,r,d):v&&w||x&&w&&!E?$f(w,_,r,d):!1},t.isWeekInMonth=function(r){var s=t.props.day,a=os(r,6);return Fr(r,s)||Fr(a,s)},t.isCurrentMonth=function(r,s){return ht(r)===ht(Ut())&&s===Dr(Ut())},t.isCurrentQuarter=function(r,s){return ht(r)===ht(Ut())&&s===Zo(Ut())},t.isSelectedMonth=function(r,s,a){return Dr(a)===s&&ht(r)===ht(a)},t.isSelectMonthInList=function(r,s,a){return a.some(function(d){return t.isSelectedMonth(r,s,d)})},t.isSelectedQuarter=function(r,s,a){return Zo(r)===s&&ht(r)===ht(a)},t.isMonthSelected=function(){var r=t.props,s=r.day,a=r.selected,d=r.selectedDates,g=r.selectsMultiple,v=Dr(s);return g?d==null?void 0:d.some(function(x){return t.isSelectedMonth(s,v,x)}):!!a&&t.isSelectedMonth(s,v,a)},t.renderWeeks=function(){for(var r=[],s=t.props.fixedHeight,a=0,d=!1,g=io(ua(t.props.day),t.props.locale,t.props.calendarStartDay),v=function(S){return t.props.showWeekPicker?io(S,t.props.locale,t.props.calendarStartDay):t.props.preSelection},x=function(S){return t.props.showWeekPicker?io(S,t.props.locale,t.props.calendarStartDay):t.props.selected},w=t.props.selected?x(t.props.selected):void 0,E=t.props.preSelection?v(t.props.preSelection):void 0;r.push(de.createElement(WP,It({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:g,month:Dr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:w,preSelection:E,showWeekNumber:t.props.showWeekNumbers}))),!d;){a++,g=nh(g,1);var _=s&&a>=HP,k=!s&&!t.isWeekInMonth(g);if(_||k)if(t.props.peekNextMonth)d=!0;else break}return r},t.onMonthClick=function(r,s){var a=t.isMonthDisabledForLabelDate(s),d=a.isDisabled,g=a.labelDate;d||t.handleDayClick(ua(g),r)},t.onMonthMouseEnter=function(r){var s=t.isMonthDisabledForLabelDate(r),a=s.isDisabled,d=s.labelDate;a||t.handleDayMouseEnter(ua(d))},t.handleMonthNavigation=function(r,s){var a,d,g,v;(d=(a=t.props).setPreSelection)===null||d===void 0||d.call(a,s),(v=(g=t.MONTH_REFS[r])===null||g===void 0?void 0:g.current)===null||v===void 0||v.focus()},t.handleKeyboardNavigation=function(r,s,a){var d,g=t.props,v=g.selected,x=g.preSelection,w=g.setPreSelection,E=g.minDate,_=g.maxDate,k=g.showFourColumnMonthYearPicker,S=g.showTwoColumnMonthYearPicker;if(x){var R=Mb(k,S),j=t.getVerticalOffset(R),I=(d=X1[R])===null||d===void 0?void 0:d.grid,D=function(P,V,W){var se,ce,ae=V,ie=W;switch(P){case je.ArrowRight:ae=cs(V,Xf),ie=W===11?0:W+Xf;break;case je.ArrowLeft:ae=Jo(V,Xf),ie=W===0?11:W-Xf;break;case je.ArrowUp:ae=Jo(V,j),ie=!((se=I==null?void 0:I[0])===null||se===void 0)&&se.includes(W)?W+12-j:W-j;break;case je.ArrowDown:ae=cs(V,j),ie=!((ce=I==null?void 0:I[I.length-1])===null||ce===void 0)&&ce.includes(W)?W-12+j:W+j;break}return{newCalculatedDate:ae,newCalculatedMonth:ie}},O=function(P,V,W){for(var se=40,ce=P,ae=!1,ie=0,he=D(ce,V,W),ee=he.newCalculatedDate,xe=he.newCalculatedMonth;!ae;){if(ie>=se){ee=V,xe=W;break}if(E&&ee<E){ce=je.ArrowRight;var ge=D(ce,ee,xe);ee=ge.newCalculatedDate,xe=ge.newCalculatedMonth}if(_&&ee>_){ce=je.ArrowLeft;var ge=D(ce,ee,xe);ee=ge.newCalculatedDate,xe=ge.newCalculatedMonth}if(kP(ee,t.props)){var ge=D(ce,ee,xe);ee=ge.newCalculatedDate,xe=ge.newCalculatedMonth}else ae=!0;ie++}return{newCalculatedDate:ee,newCalculatedMonth:xe}};if(s===je.Enter){t.isMonthDisabled(a)||(t.onMonthClick(r,a),w==null||w(v));return}var q=O(s,x,a),Q=q.newCalculatedDate,z=q.newCalculatedMonth;switch(s){case je.ArrowRight:case je.ArrowLeft:case je.ArrowUp:case je.ArrowDown:t.handleMonthNavigation(z,Q);break}}},t.getVerticalOffset=function(r){var s,a;return(a=(s=X1[r])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(r,s){var a=t.props,d=a.disabledKeyboardNavigation,g=a.handleOnMonthKeyDown,v=r.key;v!==je.Tab&&r.preventDefault(),d||t.handleKeyboardNavigation(r,v,s),g&&g(r)},t.onQuarterClick=function(r,s){var a=Ll(t.props.day,s);Yf(a,t.props)||t.handleDayClick(wb(a),r)},t.onQuarterMouseEnter=function(r){var s=Ll(t.props.day,r);Yf(s,t.props)||t.handleDayMouseEnter(wb(s))},t.handleQuarterNavigation=function(r,s){var a,d,g,v;t.isDisabled(s)||t.isExcluded(s)||((d=(a=t.props).setPreSelection)===null||d===void 0||d.call(a,s),(v=(g=t.QUARTER_REFS[r-1])===null||g===void 0?void 0:g.current)===null||v===void 0||v.focus())},t.onQuarterKeyDown=function(r,s){var a,d,g=r.key;if(!t.props.disabledKeyboardNavigation)switch(g){case je.Enter:t.onQuarterClick(r,s),(d=(a=t.props).setPreSelection)===null||d===void 0||d.call(a,t.props.selected);break;case je.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,Vx(t.props.preSelection,1));break;case je.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,GE(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(r){var s,a=t.props,d=a.day,g=a.minDate,v=a.maxDate,x=a.excludeDates,w=a.includeDates,E=Fi(d,r);return{isDisabled:(s=(g||v||x||w)&&vN(E,t.props))!==null&&s!==void 0?s:!1,labelDate:E}},t.isMonthDisabled=function(r){var s=t.isMonthDisabledForLabelDate(r).isDisabled;return s},t.getMonthClassNames=function(r){var s=t.props,a=s.day,d=s.startDate,g=s.endDate,v=s.preSelection,x=s.monthClassName,w=x?x(Fi(a,r)):void 0,E=t.getSelection();return mn("react-datepicker__month-text","react-datepicker__month-".concat(r),w,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":E?t.isSelectMonthInList(a,r,E):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&v&&t.isSelectedMonth(a,r,v)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":d&&g?Vf(d,g,r,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(a,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var s=Dr(t.props.preSelection),a=t.isMonthDisabledForLabelDate(s).isDisabled,d=r===s&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return d},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var s=Zo(t.props.preSelection),a=Yf(t.props.day,t.props),d=r===s&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return d},t.getAriaLabel=function(r){var s=t.props,a=s.chooseDayAriaLabelPrefix,d=a===void 0?"Choose":a,g=s.disabledDayAriaLabelPrefix,v=g===void 0?"Not available":g,x=s.day,w=s.locale,E=Fi(x,r),_=t.isDisabled(E)||t.isExcluded(E)?v:d;return"".concat(_," ").concat(gn(E,"MMMM yyyy",w))},t.getQuarterClassNames=function(r){var s=t.props,a=s.day,d=s.startDate,g=s.endDate,v=s.selected,x=s.minDate,w=s.maxDate,E=s.excludeDates,_=s.includeDates,k=s.filterDate,S=s.preSelection,R=s.disabledKeyboardNavigation,j=(x||w||E||_||k)&&Yf(Ll(a,r),t.props);return mn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":j,"react-datepicker__quarter-text--selected":v?t.isSelectedQuarter(a,r,v):void 0,"react-datepicker__quarter-text--keyboard-selected":!R&&S&&t.isSelectedQuarter(a,r,S)&&!j,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":d&&g?$f(d,g,r,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(a,r)})},t.getMonthContent=function(r){var s=t.props,a=s.showFullMonthYearPicker,d=s.renderMonthContent,g=s.locale,v=s.day,x=xN(r,g),w=o2(r,g);return d?d(r,x,w,v):a?w:x},t.getQuarterContent=function(r){var s,a=t.props,d=a.renderQuarterContent,g=a.locale,v=TP(r,g);return(s=d==null?void 0:d(r,v))!==null&&s!==void 0?s:v},t.renderMonths=function(){var r,s=t.props,a=s.showTwoColumnMonthYearPicker,d=s.showFourColumnMonthYearPicker,g=s.day,v=s.selected,x=(r=X1[Mb(d,a)])===null||r===void 0?void 0:r.grid;return x==null?void 0:x.map(function(w,E){return de.createElement("div",{className:"react-datepicker__month-wrapper",key:E},w.map(function(_,k){return de.createElement("div",{ref:t.MONTH_REFS[_],key:k,onClick:function(S){t.onMonthClick(S,_)},onKeyDown:function(S){bN(S)&&(S.preventDefault(),S.key=je.Enter),t.onMonthKeyDown(S,_)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(_)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(_)}:void 0,tabIndex:Number(t.getTabIndex(_)),className:t.getMonthClassNames(_),"aria-disabled":t.isMonthDisabled(_),role:"option","aria-label":t.getAriaLabel(_),"aria-current":t.isCurrentMonth(g,_)?"date":void 0,"aria-selected":v?t.isSelectedMonth(g,_,v):void 0},t.getMonthContent(_))}))})},t.renderQuarters=function(){var r=t.props,s=r.day,a=r.selected,d=[1,2,3,4];return de.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(g,v){return de.createElement("div",{key:v,ref:t.QUARTER_REFS[v],role:"option",onClick:function(x){t.onQuarterClick(x,g)},onKeyDown:function(x){t.onQuarterKeyDown(x,g)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(g)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(g)}:void 0,className:t.getQuarterClassNames(g),"aria-selected":a?t.isSelectedQuarter(s,g,a):void 0,tabIndex:Number(t.getQuarterTabIndex(g)),"aria-current":t.isCurrentQuarter(s,g)?"date":void 0},t.getQuarterContent(g))}))},t.getClassNames=function(){var r=t.props,s=r.selectingDate,a=r.selectsStart,d=r.selectsEnd,g=r.showMonthYearPicker,v=r.showQuarterYearPicker,x=r.showWeekPicker;return mn("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(a||d)},{"react-datepicker__monthPicker":g},{"react-datepicker__quarterPicker":v},{"react-datepicker__weekPicker":x})},t}return n.prototype.getSelection=function(){var t=this.props,r=t.selected,s=t.selectedDates,a=t.selectsMultiple;if(a)return s;if(r)return[r]},n.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,s=t.showQuarterYearPicker,a=t.day,d=t.ariaLabelPrefix,g=d===void 0?"Month ":d,v=g?g.trim()+" ":"";return de.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(v).concat(gn(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},n}(L.Component),VP=function(e){ur(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,s){return de.createElement("div",{className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?de.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return de.createElement(ip,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(L.Component),YP=function(e){ur(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(s,a){return de.createElement("option",{key:s,value:a},s)})},t.renderSelectMode=function(r){return de.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,s){return de.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},de.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),de.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(r){return de.createElement(VP,It({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var s=t.state.dropdownVisible,a=[t.renderReadView(!s,r)];return s&&a.unshift(t.renderDropdown(r)),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return xN(a,t.props.locale)}:function(a){return o2(a,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(r);break;case"select":s=this.renderSelectMode(r);break}return de.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},n}(L.Component);function GP(e,n){for(var t=[],r=ua(e),s=ua(n);!oo(r,s);)t.push(Ut(r)),r=cs(r,1);return t}var $P=function(e){ur(n,e);function n(t){var r=e.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(s){var a=vg(s),d=Es(r.props.date,s)&&Fr(r.props.date,s);return de.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":d?"true":void 0},d?de.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",gn(s,r.props.dateFormat,r.props.locale))})},r.onChange=function(s){return r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:GP(r.props.minDate,r.props.maxDate)},r}return n.prototype.render=function(){var t=mn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return de.createElement(ip,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(L.Component),XP=function(e){ur(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=ua(t.props.minDate),s=ua(t.props.maxDate),a=[];!oo(r,s);){var d=vg(r);a.push(de.createElement("option",{key:d,value:d},gn(r,t.props.dateFormat,t.props.locale))),r=cs(r,1)}return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return de.createElement("select",{value:vg(ua(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var s=gn(t.props.date,t.props.dateFormat,t.props.locale);return de.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},de.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),de.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return de.createElement($P,It({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,s=[t.renderReadView(!r)];return r&&s.unshift(t.renderDropdown()),s},t.onChange=function(r){t.toggleDropdown();var s=Ut(r);Es(t.props.date,s)&&Fr(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return de.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(L.Component),QP=function(e){ur(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,s,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(r){var s,a;(t.props.minTime||t.props.maxTime)&&_b(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Nb(r,t.props)||(a=(s=t.props).onChange)===null||a===void 0||a.call(s,r)},t.isSelectedTime=function(r){return t.props.selected&&FP(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&_b(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Nb(r,t.props)},t.liClasses=function(r){var s,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(la(r)*3600+ca(r)*60+ro(r))%(((s=t.props.intervals)!==null&&s!==void 0?s:n.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(r,s){var a,d;r.key===je.Space&&(r.preventDefault(),r.key=je.Enter),(r.key===je.ArrowUp||r.key===je.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===je.ArrowDown||r.key===je.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===je.Enter&&t.handleClick(s),(d=(a=t.props).handleOnKeyDown)===null||d===void 0||d.call(a,r)},t.renderTimes=function(){for(var r,s=[],a=typeof t.props.format=="string"?t.props.format:"p",d=(r=t.props.intervals)!==null&&r!==void 0?r:n.defaultProps.intervals,g=t.props.selected||t.props.openToDate||Ut(),v=y0(g),x=t.props.injectTimes&&t.props.injectTimes.sort(function(j,I){return j.getTime()-I.getTime()}),w=60*PP(g),E=w/d,_=0;_<E;_++){var k=pg(v,_*d);if(s.push(k),x){var S=LP(v,k,_,d,x);s=s.concat(S)}}var R=s.reduce(function(j,I){return I.getTime()<=g.getTime()?I:j},s[0]);return s.map(function(j){return de.createElement("li",{key:j.valueOf(),onClick:t.handleClick.bind(t,j),className:t.liClasses(j),ref:function(I){j===R&&(t.centerLi=I)},onKeyDown:function(I){t.handleOnKeyDown(I,j)},tabIndex:j===R?0:-1,role:"option","aria-selected":t.isSelectedTime(j)?"true":void 0,"aria-disabled":t.isDisabledTime(j)?"true":void 0},gn(j,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?de.createElement(de.Fragment,null):de.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},de.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},n.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},n.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},n.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t=this,r,s=this.state.height;return de.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),de.createElement("div",{className:"react-datepicker__time"},de.createElement("div",{className:"react-datepicker__time-box"},de.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},n}(L.Component),Lb=3,KP=function(e){ur(n,e);function n(t){var r=e.call(this,t)||this;return r.YEAR_REFS=Ts([],Array(r.props.yearItemNumber),!0).map(function(){return L.createRef()}),r.isDisabled=function(s){return zi(s,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(s){return l2(s,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var s;return(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection},r.updateFocusOnPaginate=function(s){var a=function(){var d,g;(g=(d=r.YEAR_REFS[s])===null||d===void 0?void 0:d.current)===null||g===void 0||g.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(s,a){r.props.onDayClick&&r.props.onDayClick(s,a)},r.handleYearNavigation=function(s,a){var d,g,v,x,w=r.props,E=w.date,_=w.yearItemNumber;if(!(E===void 0||_===void 0)){var k=Ga(E,_).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((g=(d=r.props).setPreSelection)===null||g===void 0||g.call(d,a),s-k<0?r.updateFocusOnPaginate(_-(k-s)):s-k>=_?r.updateFocusOnPaginate(Math.abs(_-(s-k))):(x=(v=r.YEAR_REFS[s-k])===null||v===void 0?void 0:v.current)===null||x===void 0||x.focus())}},r.isSameDay=function(s,a){return Dt(s,a)},r.isCurrentYear=function(s){return s===ht(Ut())},r.isRangeStart=function(s){return r.props.startDate&&r.props.endDate&&Es(Cs(Ut(),s),r.props.startDate)},r.isRangeEnd=function(s){return r.props.startDate&&r.props.endDate&&Es(Cs(Ut(),s),r.props.endDate)},r.isInRange=function(s){return Gf(s,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(s){var a=r.props,d=a.selectsStart,g=a.selectsEnd,v=a.selectsRange,x=a.startDate,w=a.endDate;return!(d||g||v)||!r.selectingDate()?!1:d&&w?Gf(s,r.selectingDate(),w):g&&x||v&&x&&!w?Gf(s,x,r.selectingDate()):!1},r.isSelectingRangeStart=function(s){var a;if(!r.isInSelectingRange(s))return!1;var d=r.props,g=d.startDate,v=d.selectsStart,x=Cs(Ut(),s);return v?Es(x,(a=r.selectingDate())!==null&&a!==void 0?a:null):Es(x,g??null)},r.isSelectingRangeEnd=function(s){var a;if(!r.isInSelectingRange(s))return!1;var d=r.props,g=d.endDate,v=d.selectsEnd,x=d.selectsRange,w=Cs(Ut(),s);return v||x?Es(w,(a=r.selectingDate())!==null&&a!==void 0?a:null):Es(w,g??null)},r.isKeyboardSelected=function(s){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,d=a.minDate,g=a.maxDate,v=a.excludeDates,x=a.includeDates,w=a.filterDate,E=Au(Cs(r.props.date,s)),_=(d||g||v||x||w)&&w0(s,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Dt(E,Au(r.props.selected))&&Dt(E,Au(r.props.preSelection))&&!_}},r.isSelectedYear=function(s){var a=r.props,d=a.selectsMultiple,g=a.selected,v=a.selectedDates;return d?v==null?void 0:v.some(function(x){return s===ht(x)}):!!g&&s===ht(g)},r.onYearClick=function(s,a){var d=r.props.date;d!==void 0&&r.handleYearClick(Au(Cs(d,a)),s)},r.onYearKeyDown=function(s,a){var d,g,v=s.key,x=r.props,w=x.date,E=x.yearItemNumber,_=x.handleOnKeyDown;if(v!==je.Tab&&s.preventDefault(),!r.props.disabledKeyboardNavigation)switch(v){case je.Enter:if(r.props.selected==null)break;r.onYearClick(s,a),(g=(d=r.props).setPreSelection)===null||g===void 0||g.call(d,r.props.selected);break;case je.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,aa(r.props.preSelection,1));break;case je.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,xc(r.props.preSelection,1));break;case je.ArrowUp:{if(w===void 0||E===void 0||r.props.preSelection==null)break;var k=Ga(w,E).startPeriod,S=Lb,R=a-S;if(R<k){var j=E%S;a>=k&&a<k+j?S=j:S+=j,R=a-S}r.handleYearNavigation(R,xc(r.props.preSelection,S));break}case je.ArrowDown:{if(w===void 0||E===void 0||r.props.preSelection==null)break;var I=Ga(w,E).endPeriod,S=Lb,R=a+S;if(R>I){var j=E%S;a<=I&&a>I-j?S=j:S+=j,R=a+S}r.handleYearNavigation(R,aa(r.props.preSelection,S));break}}_&&_(s)},r.getYearClassNames=function(s){var a=r.props,d=a.date,g=a.minDate,v=a.maxDate,x=a.excludeDates,w=a.includeDates,E=a.filterDate,_=a.yearClassName;return mn("react-datepicker__year-text","react-datepicker__year-".concat(s),d?_==null?void 0:_(Cs(d,s)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(s),"react-datepicker__year-text--disabled":(g||v||x||w||E)&&w0(s,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(s),"react-datepicker__year-text--range-start":r.isRangeStart(s),"react-datepicker__year-text--range-end":r.isRangeEnd(s),"react-datepicker__year-text--in-range":r.isInRange(s),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(s),"react-datepicker__year-text--today":r.isCurrentYear(s)})},r.getYearTabIndex=function(s){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=ht(r.props.preSelection),d=w0(s,r.props);return s===a&&!d?"0":"-1"},r.getYearContent=function(s){return r.props.renderYearContent?r.props.renderYearContent(s):s},r}return n.prototype.render=function(){var t=this,r=[],s=this.props,a=s.date,d=s.yearItemNumber,g=s.onYearMouseEnter,v=s.onYearMouseLeave;if(a===void 0)return null;for(var x=Ga(a,d),w=x.startPeriod,E=x.endPeriod,_=function(R){r.push(de.createElement("div",{ref:k.YEAR_REFS[R-w],onClick:function(j){t.onYearClick(j,R)},onKeyDown:function(j){bN(j)&&(j.preventDefault(),j.key=je.Enter),t.onYearKeyDown(j,R)},tabIndex:Number(k.getYearTabIndex(R)),className:k.getYearClassNames(R),onMouseEnter:k.props.usePointerEvent?void 0:function(j){return g(j,R)},onPointerEnter:k.props.usePointerEvent?function(j){return g(j,R)}:void 0,onMouseLeave:k.props.usePointerEvent?void 0:function(j){return v(j,R)},onPointerLeave:k.props.usePointerEvent?function(j){return v(j,R)}:void 0,key:R,"aria-current":k.isCurrentYear(R)?"date":void 0},k.getYearContent(R)))},k=this,S=w;S<=E;S++)_(S);return de.createElement("div",{className:"react-datepicker__year"},de.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},n}(L.Component);function ZP(e,n,t,r){for(var s=[],a=0;a<2*n+1;a++){var d=e+n-a,g=!0;t&&(g=ht(t)<=d),r&&g&&(g=ht(r)>=d),g&&s.push(d)}return s}var JP=function(e){ur(n,e);function n(t){var r=e.call(this,t)||this;r.renderOptions=function(){var g=r.props.year,v=r.state.yearsList.map(function(E){return de.createElement("div",{className:g===E?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:E,onClick:r.onChange.bind(r,E),"aria-selected":g===E?"true":void 0},g===E?de.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",E)}),x=r.props.minDate?ht(r.props.minDate):null,w=r.props.maxDate?ht(r.props.maxDate):null;return(!w||!r.state.yearsList.find(function(E){return E===w}))&&v.unshift(de.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},de.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!x||!r.state.yearsList.find(function(E){return E===x}))&&v.push(de.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},de.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),v},r.onChange=function(g){r.props.onChange(g)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(g){var v=r.state.yearsList.map(function(x){return x+g});r.setState({yearsList:v})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var s=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,d=s||(a?10:5);return r.state={yearsList:ZP(r.props.year,d,r.props.minDate,r.props.maxDate)},r.dropdownRef=L.createRef(),r}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,s=r?r.find(function(a){return a.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=mn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return de.createElement(ip,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(L.Component),eF=function(e){ur(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?ht(t.props.minDate):1900,s=t.props.maxDate?ht(t.props.maxDate):2100,a=[],d=r;d<=s;d++)a.push(de.createElement("option",{key:d,value:d},d));return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return de.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return de.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return t.toggleDropdown(s)}},de.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),de.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return de.createElement(JP,It({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,s=[t.renderReadView(!r)];return r&&s.unshift(t.renderDropdown()),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,s){var a;(a=t.onSelect)===null||a===void 0||a.call(t,r,s),t.setOpen()},t.onSelect=function(r,s){var a,d;(d=(a=t.props).onSelect)===null||d===void 0||d.call(a,r,s)},t.setOpen=function(){var r,s;(s=(r=t.props).setOpen)===null||s===void 0||s.call(r,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return de.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(L.Component),tF=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],nF=function(e){var n=(e.className||"").split(/\s+/);return tF.some(function(t){return n.indexOf(t)>=0})},rF=function(e){ur(n,e);function n(t){var r=e.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(s){r.props.onClickOutside(s)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(s){var a,d;nF(s.target)&&((d=(a=r.props).onDropdownFocus)===null||d===void 0||d.call(a,s))},r.getDateInView=function(){var s=r.props,a=s.preSelection,d=s.selected,g=s.openToDate,v=yN(r.props),x=wN(r.props),w=Ut(),E=g||d||a;return E||(v&&cl(w,v)?v:x&&oo(w,x)?x:w)},r.increaseMonth=function(){r.setState(function(s){var a=s.date;return{date:cs(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(s){var a=s.date;return{date:Jo(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(s,a,d){r.props.onSelect(s,a,d),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleDayMouseEnter=function(s){r.setState({selectingDate:s}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(s,a){r.setState({selectingDate:Cs(Ut(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(s,a)},r.handleYearMouseLeave=function(s,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(s,a)},r.handleYearChange=function(s){var a,d,g,v;(d=(a=r.props).onYearChange)===null||d===void 0||d.call(a,s),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(s),(v=(g=r.props).setOpen)===null||v===void 0||v.call(g,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.getEnabledPreSelectionDateForMonth=function(s){if(!zi(s,r.props))return s;for(var a=ua(s),d=NP(s),g=uj(d,a),v=null,x=0;x<=g;x++){var w=os(a,x);if(!zi(w,r.props)){v=w;break}}return v},r.handleMonthChange=function(s){var a,d,g,v=(a=r.getEnabledPreSelectionDateForMonth(s))!==null&&a!==void 0?a:s;r.handleCustomMonthChange(v),r.props.adjustDateOnChange&&(r.props.onSelect(v),(g=(d=r.props).setOpen)===null||g===void 0||g.call(d,!0)),r.props.setPreSelection&&r.props.setPreSelection(v)},r.handleCustomMonthChange=function(s){var a,d;(d=(a=r.props).onMonthChange)===null||d===void 0||d.call(a,s),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(s){r.handleYearChange(s),r.handleMonthChange(s)},r.changeYear=function(s){r.setState(function(a){var d=a.date;return{date:Cs(d,Number(s))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(s){r.setState(function(a){var d=a.date;return{date:Fi(d,Number(s))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(s){r.setState(function(a){var d=a.date;return{date:Cs(Fi(d,Dr(s)),ht(s))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(s){s===void 0&&(s=r.state.date);var a=io(s,r.props.locale,r.props.calendarStartDay),d=[];return r.props.showWeekNumbers&&d.push(de.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(g){var v=os(a,g),x=r.formatWeekday(v,r.props.locale),w=r.props.weekDayClassName?r.props.weekDayClassName(v):void 0;return de.createElement("div",{key:g,"aria-label":gn(v,"EEEE",r.props.locale),className:mn("react-datepicker__day-name",w)},x)}))},r.formatWeekday=function(s,a){return r.props.formatWeekDay?_P(s,r.props.formatWeekDay,a):r.props.useWeekdaysShort?AP(s,a):SP(s,a)},r.decreaseYear=function(){r.setState(function(s){var a,d=s.date;return{date:xc(d,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var s,a,d;if(!r.props.renderCustomHeader){var g=(s=r.props.monthsShown)!==null&&s!==void 0?s:n.defaultProps.monthsShown,v=r.props.showPreviousMonths?g-1:0,x=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:v,w=Jo(r.state.date,x),E;switch(!0){case r.props.showMonthYearPicker:E=Tb(r.state.date,r.props);break;case r.props.showYearPicker:E=RP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:E=DP(r.state.date,r.props);break;default:E=Sb(w,r.props);break}if(!(!((d=r.props.forceShowMonthNavigation)!==null&&d!==void 0?d:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&E||r.props.showTimeSelectOnly)){var _=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],k=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(S=r.decreaseYear),E&&r.props.showDisabledMonthNavigation&&(k.push("react-datepicker__navigation--previous--disabled"),S=void 0);var R=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,j=r.props,I=j.previousMonthButtonLabel,D=I===void 0?n.defaultProps.previousMonthButtonLabel:I,O=j.previousYearButtonLabel,q=O===void 0?n.defaultProps.previousYearButtonLabel:O,Q=r.props,z=Q.previousMonthAriaLabel,P=z===void 0?typeof D=="string"?D:"Previous Month":z,V=Q.previousYearAriaLabel,W=V===void 0?typeof q=="string"?q:"Previous Year":V;return de.createElement("button",{type:"button",className:k.join(" "),onClick:S,onKeyDown:r.props.handleOnKeyDown,"aria-label":R?W:P},de.createElement("span",{className:_.join(" ")},R?q:D))}}},r.increaseYear=function(){r.setState(function(s){var a,d=s.date;return{date:aa(d,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var s;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=kb(r.state.date,r.props);break;case r.props.showYearPicker:a=OP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=IP(r.state.date,r.props);break;default:a=Ab(r.state.date,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var v=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(v=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),v=void 0);var x=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,E=w.nextMonthButtonLabel,_=E===void 0?n.defaultProps.nextMonthButtonLabel:E,k=w.nextYearButtonLabel,S=k===void 0?n.defaultProps.nextYearButtonLabel:k,R=r.props,j=R.nextMonthAriaLabel,I=j===void 0?typeof _=="string"?_:"Next Month":j,D=R.nextYearAriaLabel,O=D===void 0?typeof S=="string"?S:"Next Year":D;return de.createElement("button",{type:"button",className:d.join(" "),onClick:v,onKeyDown:r.props.handleOnKeyDown,"aria-label":x?O:I},de.createElement("span",{className:g.join(" ")},x?S:_))}}},r.renderCurrentMonth=function(s){s===void 0&&(s=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),de.createElement("h2",{className:a.join(" ")},gn(s,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showYearDropdown||s))return de.createElement(eF,It({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ht(r.state.date)}))},r.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthDropdown||s))return de.createElement(YP,It({},n.defaultProps,r.props,{month:Dr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthYearDropdown||s))return de.createElement(XP,It({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(s){r.props.onSelect(bb(),s),r.props.setPreSelection&&r.props.setPreSelection(bb())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return de.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(s){var a=s.monthDate,d=s.i;return de.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),de.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(d!==0),r.renderMonthYearDropdown(d!==0),r.renderYearDropdown(d!==0)),de.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(s){var a,d,g=s.monthDate,v=s.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var x=Sb(r.state.date,r.props),w=Ab(r.state.date,r.props),E=Tb(r.state.date,r.props),_=kb(r.state.date,r.props),k=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return de.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(d=(a=r.props).renderCustomHeader)===null||d===void 0?void 0:d.call(a,It(It({},r.state),{customHeaderCount:v,monthDate:g,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:x,nextMonthButtonDisabled:w,prevYearButtonDisabled:E,nextYearButtonDisabled:_})),k&&de.createElement("div",{className:"react-datepicker__day-names"},r.header(g)))},r.renderYearHeader=function(s){var a=s.monthDate,d=r.props,g=d.showYearPicker,v=d.yearItemNumber,x=v===void 0?n.defaultProps.yearItemNumber:v,w=Ga(a,x),E=w.startPeriod,_=w.endPeriod;return de.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},g?"".concat(E," - ").concat(_):ht(a))},r.renderHeader=function(s){var a=s.monthDate,d=s.i,g=d===void 0?0:d,v={monthDate:a,i:g};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(v);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(v);default:return r.renderDefaultHeader(v)}},r.renderMonths=function(){var s,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var d=[],g=(s=r.props.monthsShown)!==null&&s!==void 0?s:n.defaultProps.monthsShown,v=r.props.showPreviousMonths?g-1:0,x=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?aa(r.state.date,v):Jo(r.state.date,v),w=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:v,E=0;E<g;++E){var _=E-w+v,k=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?aa(x,_):cs(x,_),S="month-".concat(E),R=E<g-1,j=E>0;d.push(de.createElement("div",{key:S,ref:function(I){r.monthContainer=I??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:k,i:E}),de.createElement(qP,It({},n.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:k,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:E,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:R,monthShowsDuplicateDaysStart:j}))))}return d}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return de.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),de.createElement(KP,It({},n.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return de.createElement(QP,It({},n.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var s=r.props.selected?new Date(r.props.selected):void 0,a=s&&sp(s)&&!!r.props.selected,d=a?"".concat(Ib(s.getHours()),":").concat(Ib(s.getMinutes())):"";if(r.props.showTimeInput)return de.createElement(BP,It({},n.defaultProps,r.props,{date:s,timeString:d,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var s,a=Ga(r.state.date,(s=r.props.yearItemNumber)!==null&&s!==void 0?s:n.defaultProps.yearItemNumber),d=a.startPeriod,g=a.endPeriod,v;return r.props.showYearPicker?v="".concat(d," - ").concat(g):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?v=ht(r.state.date):v="".concat(o2(Dr(r.state.date),r.props.locale)," ").concat(ht(r.state.date)),de.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&v)},r.renderChildren=function(){if(r.props.children)return de.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=L.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ed}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},n.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!Dt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!Fr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Dt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||xP;return de.createElement(ip,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},de.createElement("div",{style:{display:"contents"},ref:this.containerRef},de.createElement(t,{className:mn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},n}(L.Component),iF=function(e){var n=e.icon,t=e.className,r=t===void 0?"":t,s=e.onClick,a="react-datepicker__calendar-icon";if(typeof n=="string")return de.createElement("i",{className:"".concat(a," ").concat(n," ").concat(r),"aria-hidden":"true",onClick:s});if(de.isValidElement(n)){var d=n;return de.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(a," ").concat(r),onClick:function(g){typeof d.props.onClick=="function"&&d.props.onClick(g),typeof s=="function"&&s(g)}})}return de.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},de.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},CN=function(e){ur(n,e);function n(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return SD.createPortal(this.props.children,this.el)},n}(L.Component),sF="[tabindex], a, button, input, select, textarea",aF=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},EN=function(e){ur(n,e);function n(t){var r=e.call(this,t)||this;return r.getTabChildren=function(){var s;return Array.prototype.slice.call((s=r.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(sF),1,-1).filter(aF)},r.handleFocusStart=function(){var s=r.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},r.handleFocusEnd=function(){var s=r.getTabChildren();s&&s.length>1&&s[0].focus()},r.tabLoopRef=L.createRef(),r}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?de.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},de.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,de.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(L.Component);function oF(e){var n=function(t){var r,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=L.useRef(null),d=gP(It({open:!s,whileElementsMounted:QL,placement:t.popperPlacement,middleware:Ts([rP({padding:15}),nP(10),iP({element:a})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),g=It(It({},t),{hidePopper:s,popperProps:It(It({},d),{arrowRef:a})});return de.createElement(e,It({},g))};return n}var lF=function(e){ur(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t=this.props,r=t.className,s=t.wrapperClassName,a=t.hidePopper,d=a===void 0?n.defaultProps.hidePopper:a,g=t.popperComponent,v=t.targetComponent,x=t.enableTabLoop,w=t.popperOnKeyDown,E=t.portalId,_=t.portalHost,k=t.popperProps,S=t.showArrow,R=void 0;if(!d){var j=mn("react-datepicker-popper",r);R=de.createElement(EN,{enableTabLoop:x},de.createElement("div",{ref:k.refs.setFloating,style:k.floatingStyles,className:j,"data-placement":k.placement,onKeyDown:w},g,S&&de.createElement(cP,{ref:k.arrowRef,context:k.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(R=L.createElement(this.props.popperContainer,{},R)),E&&!d&&(R=de.createElement(CN,{portalId:E,portalHost:_},R));var I=mn("react-datepicker-wrapper",s);return de.createElement(de.Fragment,null,de.createElement("div",{ref:k.refs.setReference,className:I},v),R)},n}(L.Component),cF=oF(lF),Pb="react-datepicker-ignore-onclickoutside";function uF(e,n){return e&&n?Dr(e)!==Dr(n)||ht(e)!==ht(n):e!==n}var Q1="Date input not valid.",dF=function(e){ur(n,e);function n(t){var r=e.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ut()},r.modifyHolidays=function(){var s;return(s=r.props.holidays)===null||s===void 0?void 0:s.reduce(function(a,d){var g=new Date(d.date);return sp(g)?Ts(Ts([],a,!0),[It(It({},d),{date:g})],!1):a},[])},r.calcInitialState=function(){var s,a=r.getPreSelection(),d=yN(r.props),g=wN(r.props),v=d&&cl(a,y0(d))?d:g&&oo(a,Cb(g))?g:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&s!==void 0?s:v,highlightDates:Db(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(It(It({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(It(It({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var s,a;(a=(s=r.input)===null||s===void 0?void 0:s.focus)===null||a===void 0||a.call(s,{preventScroll:!0})},r.setBlur=function(){var s,a;(a=(s=r.input)===null||s===void 0?void 0:s.blur)===null||a===void 0||a.call(s),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(s,a){a===void 0&&(a=!1),r.setState({open:s,preSelection:s&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:K1},function(){s||r.setState(function(d){return{focused:a?d.focused:!1}},function(){!a&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return oa(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(s){var a,d,g=r.state.wasHidden,v=g?r.state.open:!0;g&&r.resetHiddenStatus(),r.state.preventFocus||((d=(a=r.props).onFocus)===null||d===void 0||d.call(a,s),v&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(s){var a,d;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((d=(a=r.props).onBlur)===null||d===void 0||d.call(a,s)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(s){var a,d;r.props.inline||r.setOpen(!1),(d=(a=r.props).onClickOutside)===null||d===void 0||d.call(a,s),r.props.withPortal&&s.preventDefault()},r.handleChange=function(){for(var s,a,d,g,v,x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];var E=x[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,x),!E||typeof E.isDefaultPrevented!="function"||E.isDefaultPrevented()))){r.setState({inputValue:(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:null,lastPreSelectChange:fF});var _=r.props,k=_.selectsRange,S=_.startDate,R=_.endDate,j=(s=r.props.dateFormat)!==null&&s!==void 0?s:n.defaultProps.dateFormat,I=(a=r.props.strictParsing)!==null&&a!==void 0?a:n.defaultProps.strictParsing,D=(E==null?void 0:E.target)instanceof HTMLInputElement?E.target.value:"";if(k){var O=D.split(j.includes("-")?gN:"-",2).map(function(ce){return ce.trim()}),q=O[0],Q=O[1],z=G1(q??"",j,r.props.locale,I),P=G1(Q??"",j,r.props.locale,I),V=(S==null?void 0:S.getTime())!==(z==null?void 0:z.getTime()),W=(R==null?void 0:R.getTime())!==(P==null?void 0:P.getTime());if(!V&&!W||z&&zi(z,r.props)||P&&zi(P,r.props))return;(g=(d=r.props).onChange)===null||g===void 0||g.call(d,[z,P],E)}else{var se=G1(D,j,r.props.locale,I,(v=r.props.selected)!==null&&v!==void 0?v:void 0);(se||!D)&&r.setSelected(se,E,!0)}}},r.handleSelect=function(s,a,d){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(s,a,!1,d),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(s);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var g=r.props,v=g.startDate,x=g.endDate;v&&!x&&(r.props.swapRange||!jb(s,v))&&r.setOpen(!1)}}},r.setSelected=function(s,a,d,g){var v,x,w=s;if(r.props.showYearPicker){if(w!==null&&w0(ht(w),r.props))return}else if(r.props.showMonthYearPicker){if(w!==null&&vN(w,r.props))return}else if(w!==null&&zi(w,r.props))return;var E=r.props,_=E.onChange,k=E.selectsRange,S=E.startDate,R=E.endDate,j=E.selectsMultiple,I=E.selectedDates,D=E.minTime,O=E.swapRange;if(!Xo(r.props.selected,w)||r.props.allowSameDay||k||j)if(w!==null&&(r.props.selected&&(!d||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(w=$1(w,{hour:la(r.props.selected),minute:ca(r.props.selected),second:ro(r.props.selected)})),!d&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&D&&(w=$1(w,{hour:D.getHours(),minute:D.getMinutes(),second:D.getSeconds()})),r.props.inline||r.setState({preSelection:w}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:g})),k){var q=!S&&!R,Q=S&&!R,z=S&&R;q?_==null||_([w,null],a):Q&&(w===null?_==null||_([null,null],a):jb(w,S)?O?_==null||_([w,S],a):_==null||_([w,null],a):_==null||_([S,w],a)),z&&(_==null||_([w,null],a))}else if(j){if(w!==null)if(!(I!=null&&I.length))_==null||_([w],a);else{var P=I.some(function(W){return Dt(W,w)});if(P){var V=I.filter(function(W){return!Dt(W,w)});_==null||_(V,a)}else _==null||_(Ts(Ts([],I,!0),[w],!1),a)}}else _==null||_(w,a);d||((x=(v=r.props).onSelect)===null||x===void 0||x.call(v,w,a),r.setState({inputValue:null}))},r.setPreSelection=function(s){if(!r.props.readOnly){var a=oa(r.props.minDate),d=oa(r.props.maxDate),g=!0;if(s){var v=y0(s);if(a&&d)g=Tu(s,r.props.minDate,r.props.maxDate);else if(a){var x=y0(r.props.minDate);g=oo(s,x)||Xo(v,x)}else if(d){var w=Cb(r.props.maxDate);g=cl(s,w)||Xo(v,w)}}g&&r.setState({preSelection:s})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(s){var a,d;if(!(r.props.selectsRange||r.props.selectsMultiple)){var g=r.props.selected?r.props.selected:r.getPreSelection(),v=r.props.selected?s:$1(g,{hour:la(s),minute:ca(s)});r.setState({preSelection:v}),(d=(a=r.props).onChange)===null||d===void 0||d.call(a,v),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var s,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(s=r.props).onInputClick)===null||a===void 0||a.call(s)},r.onInputKeyDown=function(s){var a,d,g,v,x,w;(d=(a=r.props).onKeyDown)===null||d===void 0||d.call(a,s);var E=s.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(E===je.ArrowDown||E===je.ArrowUp||E===je.Enter)&&((g=r.onInputClick)===null||g===void 0||g.call(r));return}if(r.state.open){if(E===je.ArrowDown||E===je.ArrowUp){s.preventDefault();var _=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',k=((v=r.calendar)===null||v===void 0?void 0:v.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(_);k instanceof HTMLElement&&k.focus({preventScroll:!0});return}var S=Ut(r.state.preSelection);E===je.Enter?(s.preventDefault(),s.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===K1?(r.handleSelect(S,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(S)):r.setOpen(!1)):E===je.Escape?(s.preventDefault(),s.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):E===je.Tab&&r.setOpen(!1),r.inputOk()||(w=(x=r.props).onInputError)===null||w===void 0||w.call(x,{code:1,msg:Q1})}},r.onPortalKeyDown=function(s){var a=s.key;a===je.Escape&&(s.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(s){var a,d,g,v,x,w,E=r.props,_=E.minDate,k=E.maxDate,S=E.disabledKeyboardNavigation,R=E.showWeekPicker,j=E.shouldCloseOnSelect,I=E.locale,D=E.calendarStartDay,O=E.adjustDateOnChange,q=E.inline;if((d=(a=r.props).onKeyDown)===null||d===void 0||d.call(a,s),!S){var Q=s.key,z=s.shiftKey,P=Ut(r.state.preSelection),V=function(ee,xe){var ge=xe;switch(ee){case je.ArrowRight:ge=R?nh(xe,1):os(xe,1);break;case je.ArrowLeft:ge=R?tb(xe,1):p9(xe,1);break;case je.ArrowUp:ge=tb(xe,1);break;case je.ArrowDown:ge=nh(xe,1);break;case je.PageUp:ge=z?xc(xe,1):Jo(xe,1);break;case je.PageDown:ge=z?aa(xe,1):cs(xe,1);break;case je.Home:ge=io(xe,I,D);break;case je.End:ge=EP(xe);break}return ge},W=function(ee,xe){for(var ge=40,ue=ee,_e=!1,Re=0,We=V(ee,xe);!_e;){if(Re>=ge){We=xe;break}_&&We<_&&(ue=je.ArrowRight,We=zi(_,r.props)?V(ue,We):_),k&&We>k&&(ue=je.ArrowLeft,We=zi(k,r.props)?V(ue,We):k),zi(We,r.props)?((ue===je.PageUp||ue===je.Home)&&(ue=je.ArrowRight),(ue===je.PageDown||ue===je.End)&&(ue=je.ArrowLeft),We=V(ue,We)):_e=!0,Re++}return We};if(Q===je.Enter){s.preventDefault(),r.handleSelect(P,s),!j&&r.setPreSelection(P);return}else if(Q===je.Escape){s.preventDefault(),r.setOpen(!1),r.inputOk()||(v=(g=r.props).onInputError)===null||v===void 0||v.call(g,{code:1,msg:Q1});return}var se=null;switch(Q){case je.ArrowLeft:case je.ArrowRight:case je.ArrowUp:case je.ArrowDown:case je.PageUp:case je.PageDown:case je.Home:case je.End:se=W(Q,P);break}if(!se){(w=(x=r.props).onInputError)===null||w===void 0||w.call(x,{code:1,msg:Q1});return}if(s.preventDefault(),r.setState({lastPreSelectChange:K1}),O&&r.setSelected(se),r.setPreSelection(se),q){var ce=Dr(P),ae=Dr(se),ie=ht(P),he=ht(se);ce!==ae||ie!==he?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(s){var a=s.key;a===je.Escape&&(s.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),r.sendFocusBackToInput();var a=r.props,d=a.selectsRange,g=a.onChange;d?g==null||g([null,null],s):g==null||g(null,s),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(s){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(s)&&r.setOpen(!1)},r.renderCalendar=function(){var s,a;return!r.props.inline&&!r.isCalendarOpen()?null:de.createElement(rF,It({showMonthYearDropdown:void 0,ref:function(d){r.calendar=d}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(s=r.props.dateFormatCalendar)!==null&&s!==void 0?s:n.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:MP(r.modifyHolidays()),outsideClickIgnoreClass:Pb,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:n.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var s=r.props,a=s.dateFormat,d=a===void 0?n.defaultProps.dateFormat:a,g=s.locale,v=r.props.showTimeInput||r.props.showTimeSelect,x=v?"PPPPp":"PPPP",w;return r.props.selectsRange?w="Selected start date: ".concat(Pi(r.props.startDate,{dateFormat:x,locale:g}),". ").concat(r.props.endDate?"End date: "+Pi(r.props.endDate,{dateFormat:x,locale:g}):""):r.props.showTimeSelectOnly?w="Selected time: ".concat(Pi(r.props.selected,{dateFormat:d,locale:g})):r.props.showYearPicker?w="Selected year: ".concat(Pi(r.props.selected,{dateFormat:"yyyy",locale:g})):r.props.showMonthYearPicker?w="Selected month: ".concat(Pi(r.props.selected,{dateFormat:"MMMM yyyy",locale:g})):r.props.showQuarterYearPicker?w="Selected quarter: ".concat(Pi(r.props.selected,{dateFormat:"yyyy, QQQ",locale:g})):w="Selected date: ".concat(Pi(r.props.selected,{dateFormat:x,locale:g})),de.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},w)},r.renderDateInput=function(){var s,a,d,g=mn(r.props.className,(s={},s[Pb]=r.state.open,s)),v=r.props.customInput||de.createElement("input",{type:"text"}),x=r.props.customInputRef||"ref",w=r.props,E=w.dateFormat,_=E===void 0?n.defaultProps.dateFormat:E,k=w.locale,S=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?yP(r.props.startDate,r.props.endDate,{dateFormat:_,locale:k}):r.props.selectsMultiple?wP((d=r.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:_,locale:k}):Pi(r.props.selected,{dateFormat:_,locale:k});return L.cloneElement(v,(a={},a[x]=function(R){r.input=R},a.value=S,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=mn(v.props.className,g),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var s=r.props,a=s.isClearable,d=s.disabled,g=s.selected,v=s.startDate,x=s.endDate,w=s.clearButtonTitle,E=s.clearButtonClassName,_=E===void 0?"":E,k=s.ariaLabelClose,S=k===void 0?"Close":k,R=s.selectedDates,j=s.readOnly;return a&&!j&&(g!=null||v!=null||x!=null||R!=null&&R.length)?de.createElement("button",{type:"button",className:mn("react-datepicker__close-icon",_,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":S,onClick:r.onClearClick,title:w,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ed,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,r){var s,a,d,g;t.inline&&uF(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Db(this.props.highlightDates)}),!r.focused&&!Xo(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(s=this.props).onCalendarOpen)===null||a===void 0||a.call(s)),r.open===!0&&this.state.open===!1&&((g=(d=this.props).onCalendarClose)===null||g===void 0||g.call(d)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,s=t.icon,a=t.calendarIconClassname,d=t.calendarIconClassName,g=t.toggleCalendarOnIconClick,v=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),de.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&de.createElement(iF,It({icon:s,className:mn(d,!d&&a,v&&"react-datepicker-ignore-onclickoutside")},g?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?de.createElement(EN,{enableTabLoop:this.props.enableTabLoop},de.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=de.createElement(CN,It({portalId:this.props.portalId},this.props),r)),de.createElement("div",null,this.renderInputContainer(),r)}return de.createElement(cF,It({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(L.Component),fF="input",K1="navigate";var gh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */gh.exports;(function(e,n){(function(){var t,r="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",g="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",x=500,w="__lodash_placeholder__",E=1,_=2,k=4,S=1,R=2,j=1,I=2,D=4,O=8,q=16,Q=32,z=64,P=128,V=256,W=512,se=30,ce="...",ae=800,ie=16,he=1,ee=2,xe=3,ge=1/0,ue=9007199254740991,_e=17976931348623157e292,Re=0/0,We=4294967295,tt=We-1,Rn=We>>>1,vt=[["ary",P],["bind",j],["bindKey",I],["curry",O],["curryRight",q],["flip",W],["partial",Q],["partialRight",z],["rearg",V]],On="[object Arguments]",De="[object Array]",Hn="[object AsyncFunction]",yt="[object Boolean]",$n="[object Date]",dr="[object DOMException]",ke="[object Error]",$e="[object Function]",et="[object GeneratorFunction]",Tt="[object Map]",En="[object Number]",Ci="[object Null]",wt="[object Object]",Et="[object Promise]",st="[object Proxy]",Ie="[object RegExp]",Ee="[object Set]",jn="[object String]",fr="[object Symbol]",Te="[object Undefined]",Ve="[object WeakMap]",St="[object WeakSet]",Zt="[object ArrayBuffer]",Wt="[object DataView]",sn="[object Float32Array]",ii="[object Float64Array]",Ei="[object Int8Array]",js="[object Int16Array]",Qt="[object Int32Array]",Ae="[object Uint8Array]",Jt="[object Uint8ClampedArray]",Nt="[object Uint16Array]",Ft="[object Uint32Array]",Gi=/\b__p \+= '';/g,go=/\b(__p \+=) '' \+/g,Ad=/(__e\(.*?\)|\b__t\)) \+\n'';/g,At=/&(?:amp|lt|gt|quot|#39);/g,hs=/[&<>"']/g,Td=RegExp(At.source),kd=RegExp(hs.source),si=/<%-([\s\S]+?)%>/g,jc=/<%([\s\S]+?)%>/g,Xn=/<%=([\s\S]+?)%>/g,ba=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ml=/^\w*$/,Ni=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mc=/[\\^$.*+?()[\]{}|]/g,Ms=RegExp(Mc.source),xo=/^\s+/,yr=/\s/,Ls=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yr=/\{\n\/\* \[wrapped with (.+)\] \*/,Me=/,? & /,Ca=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Lc=/[()=,{}\[\]\/\s]/,wr=/\\(\\)?/g,Ea=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vo=/\w*$/,gl=/^[-+]0x[0-9a-f]+$/i,_i=/^0b[01]+$/i,op=/^\[object .+?Constructor\]$/,lp=/^0o[0-7]+$/i,Si=/^(?:0|[1-9]\d*)$/,hr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ht=/($^)/,Dd=/['\n\r\u2028\u2029\\]/g,ai="\\ud800-\\udfff",Pc="\\u0300-\\u036f",Ce="\\ufe20-\\ufe2f",cp="\\u20d0-\\u20ff",an=Pc+Ce+cp,Ps="\\u2700-\\u27bf",Id="a-z\\xdf-\\xf6\\xf8-\\xff",Ot="\\xac\\xb1\\xd7\\xf7",kt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pt="\\u2000-\\u206f",Fc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xl="A-Z\\xc0-\\xd6\\xd8-\\xde",vl="\\ufe0e\\ufe0f",Nn=Ot+kt+pt+Fc,Ai="[']",up="["+ai+"]",un="["+Nn+"]",oi="["+an+"]",Rd="\\d+",Na="["+Ps+"]",qt="["+Id+"]",Qn="[^"+ai+Nn+Rd+Ps+Id+xl+"]",le="\\ud83c[\\udffb-\\udfff]",K="(?:"+oi+"|"+le+")",He="[^"+ai+"]",_n="(?:\\ud83c[\\udde6-\\uddff]){2}",br="[\\ud800-\\udbff][\\udc00-\\udfff]",_a="["+xl+"]",yl="\\u200d",Rr="(?:"+qt+"|"+Qn+")",Ye="(?:"+_a+"|"+Qn+")",nn="(?:"+Ai+"(?:d|ll|m|re|s|t|ve))?",Bc="(?:"+Ai+"(?:D|LL|M|RE|S|T|VE))?",Od=K+"?",wl="["+vl+"]?",bl="(?:"+yl+"(?:"+[He,_n,br].join("|")+")"+wl+Od+")*",Uc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mn=wl+Od+bl,yo="(?:"+[Na,_n,br].join("|")+")"+Mn,ps="(?:"+[He+oi+"?",oi,_n,br,up].join("|")+")",Xe=RegExp(Ai,"g"),fp=RegExp(oi,"g"),it=RegExp(le+"(?="+le+")|"+ps+Mn,"g"),Kn=RegExp([_a+"?"+qt+"+"+nn+"(?="+[un,_a,"$"].join("|")+")",Ye+"+"+Bc+"(?="+[un,_a+Rr,"$"].join("|")+")",_a+"?"+Rr+"+"+nn,_a+"+"+Bc,dp,Uc,Rd,yo].join("|"),"g"),hp=RegExp("["+yl+ai+an+vl+"]"),zc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fs=-1,en={};en[sn]=en[ii]=en[Ei]=en[js]=en[Qt]=en[Ae]=en[Jt]=en[Nt]=en[Ft]=!0,en[On]=en[De]=en[Zt]=en[yt]=en[Wt]=en[$n]=en[ke]=en[$e]=en[Tt]=en[En]=en[wt]=en[Ie]=en[Ee]=en[jn]=en[Ve]=!1;var jt={};jt[On]=jt[De]=jt[Zt]=jt[Wt]=jt[yt]=jt[$n]=jt[sn]=jt[ii]=jt[Ei]=jt[js]=jt[Qt]=jt[Tt]=jt[En]=jt[wt]=jt[Ie]=jt[Ee]=jt[jn]=jt[fr]=jt[Ae]=jt[Jt]=jt[Nt]=jt[Ft]=!0,jt[ke]=jt[$e]=jt[Ve]=!1;var wo={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},bo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Md={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Co={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Eo=parseFloat,Cr=parseInt,Wc=typeof Ns=="object"&&Ns&&Ns.Object===Object&&Ns,Ld=typeof self=="object"&&self&&self.Object===Object&&self,qn=Wc||Ld||Function("return this")(),Hc=n&&!n.nodeType&&n,Bs=Hc&&!0&&e&&!e.nodeType&&e,Pd=Bs&&Bs.exports===Hc,Mt=Pd&&Wc.process,Or=function(){try{var U=Bs&&Bs.require&&Bs.require("util").types;return U||Mt&&Mt.binding&&Mt.binding("util")}catch{}}(),No=Or&&Or.isArrayBuffer,$i=Or&&Or.isDate,Fd=Or&&Or.isMap,fe=Or&&Or.isRegExp,ot=Or&&Or.isSet,Vn=Or&&Or.isTypedArray;function rr(U,G,X){switch(X.length){case 0:return U.call(G);case 1:return U.call(G,X[0]);case 2:return U.call(G,X[0],X[1]);case 3:return U.call(G,X[0],X[1],X[2])}return U.apply(G,X)}function Bd(U,G,X,te){for(var pe=-1,ve=U==null?0:U.length;++pe<ve;){var ye=U[pe];G(te,ye,X(ye),U)}return te}function Gr(U,G){for(var X=-1,te=U==null?0:U.length;++X<te&&G(U[X],X,U)!==!1;);return U}function pp(U,G){for(var X=U==null?0:U.length;X--&&G(U[X],X,U)!==!1;);return U}function Ud(U,G){for(var X=-1,te=U==null?0:U.length;++X<te;)if(!G(U[X],X,U))return!1;return!0}function Ti(U,G){for(var X=-1,te=U==null?0:U.length,pe=0,ve=[];++X<te;){var ye=U[X];G(ye,X,U)&&(ve[pe++]=ye)}return ve}function dn(U,G){var X=U==null?0:U.length;return!!X&&pr(U,G,0)>-1}function _o(U,G,X){for(var te=-1,pe=U==null?0:U.length;++te<pe;)if(X(G,U[te]))return!0;return!1}function nt(U,G){for(var X=-1,te=U==null?0:U.length,pe=Array(te);++X<te;)pe[X]=G(U[X],X,U);return pe}function li(U,G){for(var X=-1,te=G.length,pe=U.length;++X<te;)U[pe+X]=G[X];return U}function Xi(U,G,X,te){var pe=-1,ve=U==null?0:U.length;for(te&&ve&&(X=U[++pe]);++pe<ve;)X=G(X,U[pe],pe,U);return X}function Vt(U,G,X,te){var pe=U==null?0:U.length;for(te&&pe&&(X=U[--pe]);pe--;)X=G(X,U[pe],pe,U);return X}function Ge(U,G){for(var X=-1,te=U==null?0:U.length;++X<te;)if(G(U[X],X,U))return!0;return!1}var mp=Nl("length");function tn(U){return U.split("")}function Us(U){return U.match(Ca)||[]}function zs(U,G,X){var te;return X(U,function(pe,ve,ye){if(G(pe,ve,ye))return te=ve,!1}),te}function Cl(U,G,X,te){for(var pe=U.length,ve=X+(te?1:-1);te?ve--:++ve<pe;)if(G(U[ve],ve,U))return ve;return-1}function pr(U,G,X){return G===G?l(U,G,X):Cl(U,Vc,X)}function qc(U,G,X,te){for(var pe=X-1,ve=U.length;++pe<ve;)if(te(U[pe],G))return pe;return-1}function Vc(U){return U!==U}function El(U,G){var X=U==null?0:U.length;return X?So(U,G)/X:Re}function Nl(U){return function(G){return G==null?t:G[U]}}function _l(U){return function(G){return U==null?t:U[G]}}function zd(U,G,X,te,pe){return pe(U,function(ve,ye,Ue){X=te?(te=!1,ve):G(X,ve,ye,Ue)}),X}function Sa(U,G){var X=U.length;for(U.sort(G);X--;)U[X]=U[X].value;return U}function So(U,G){for(var X,te=-1,pe=U.length;++te<pe;){var ve=G(U[te]);ve!==t&&(X=X===t?ve:X+ve)}return X}function Yc(U,G){for(var X=-1,te=Array(U);++X<U;)te[X]=G(X);return te}function Ao(U,G){return nt(G,function(X){return[X,U[X]]})}function Wd(U){return U&&U.slice(0,y(U)+1).replace(xo,"")}function Sn(U){return function(G){return U(G)}}function Aa(U,G){return nt(G,function(X){return U[X]})}function ir(U,G){return U.has(G)}function Gc(U,G){for(var X=-1,te=U.length;++X<te&&pr(G,U[X],0)>-1;);return X}function ci(U,G){for(var X=U.length;X--&&pr(G,U[X],0)>-1;);return X}function gp(U,G){for(var X=U.length,te=0;X--;)U[X]===G&&++te;return te}var $c=_l(wo),xp=_l(bo);function Hd(U){return"\\"+Co[U]}function ki(U,G){return U==null?t:U[G]}function Ta(U){return hp.test(U)}function Xc(U){return zc.test(U)}function To(U){for(var G,X=[];!(G=U.next()).done;)X.push(G.value);return X}function mt(U){var G=-1,X=Array(U.size);return U.forEach(function(te,pe){X[++G]=[pe,te]}),X}function ko(U,G){return function(X){return U(G(X))}}function M(U,G){for(var X=-1,te=U.length,pe=0,ve=[];++X<te;){var ye=U[X];(ye===G||ye===w)&&(U[X]=w,ve[pe++]=X)}return ve}function i(U){var G=-1,X=Array(U.size);return U.forEach(function(te){X[++G]=te}),X}function o(U){var G=-1,X=Array(U.size);return U.forEach(function(te){X[++G]=[te,te]}),X}function l(U,G,X){for(var te=X-1,pe=U.length;++te<pe;)if(U[te]===G)return te;return-1}function f(U,G,X){for(var te=X+1;te--;)if(U[te]===G)return te;return te}function h(U){return Ta(U)?N(U):mp(U)}function m(U){return Ta(U)?T(U):tn(U)}function y(U){for(var G=U.length;G--&&yr.test(U.charAt(G)););return G}var C=_l(Md);function N(U){for(var G=it.lastIndex=0;it.test(U);)++G;return G}function T(U){return U.match(it)||[]}function F(U){return U.match(Kn)||[]}var H=function U(G){G=G==null?qn:Z.defaults(qn.Object(),G,Z.pick(qn,jd));var X=G.Array,te=G.Date,pe=G.Error,ve=G.Function,ye=G.Math,Ue=G.Object,rt=G.RegExp,Er=G.String,fn=G.TypeError,Zn=X.prototype,Yt=ve.prototype,hn=Ue.prototype,sr=G["__core-js_shared__"],Qi=Yt.toString,bt=hn.hasOwnProperty,vp=0,qd=function(){var u=/[^.]+$/.exec(sr&&sr.keys&&sr.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Vd=hn.toString,XN=Qi.call(Ue),QN=qn._,KN=rt("^"+Qi.call(bt).replace(Mc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yd=Pd?G.Buffer:t,ka=G.Symbol,Gd=G.Uint8Array,p2=Yd?Yd.allocUnsafe:t,$d=ko(Ue.getPrototypeOf,Ue),m2=Ue.create,g2=hn.propertyIsEnumerable,Xd=Zn.splice,x2=ka?ka.isConcatSpreadable:t,Qc=ka?ka.iterator:t,Do=ka?ka.toStringTag:t,Qd=function(){try{var u=Mo(Ue,"defineProperty");return u({},"",{}),u}catch{}}(),ZN=G.clearTimeout!==qn.clearTimeout&&G.clearTimeout,JN=te&&te.now!==qn.Date.now&&te.now,e_=G.setTimeout!==qn.setTimeout&&G.setTimeout,Kd=ye.ceil,Zd=ye.floor,yp=Ue.getOwnPropertySymbols,t_=Yd?Yd.isBuffer:t,v2=G.isFinite,n_=Zn.join,r_=ko(Ue.keys,Ue),Jn=ye.max,Nr=ye.min,i_=te.now,s_=G.parseInt,y2=ye.random,a_=Zn.reverse,wp=Mo(G,"DataView"),Kc=Mo(G,"Map"),bp=Mo(G,"Promise"),Sl=Mo(G,"Set"),Zc=Mo(G,"WeakMap"),Jc=Mo(Ue,"create"),Jd=Zc&&new Zc,Al={},o_=Lo(wp),l_=Lo(Kc),c_=Lo(bp),u_=Lo(Sl),d_=Lo(Zc),ef=ka?ka.prototype:t,eu=ef?ef.valueOf:t,w2=ef?ef.toString:t;function Y(u){if(An(u)&&!at(u)&&!(u instanceof Ct)){if(u instanceof Di)return u;if(bt.call(u,"__wrapped__"))return bv(u)}return new Di(u)}var Tl=function(){function u(){}return function(p){if(!xn(p))return{};if(m2)return m2(p);u.prototype=p;var b=new u;return u.prototype=t,b}}();function tf(){}function Di(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=t}Y.templateSettings={escape:si,evaluate:jc,interpolate:Xn,variable:"",imports:{_:Y}},Y.prototype=tf.prototype,Y.prototype.constructor=Y,Di.prototype=Tl(tf.prototype),Di.prototype.constructor=Di;function Ct(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=We,this.__views__=[]}function f_(){var u=new Ct(this.__wrapped__);return u.__actions__=$r(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=$r(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=$r(this.__views__),u}function h_(){if(this.__filtered__){var u=new Ct(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function p_(){var u=this.__wrapped__.value(),p=this.__dir__,b=at(u),A=p<0,B=b?u.length:0,$=S5(0,B,this.__views__),J=$.start,ne=$.end,oe=ne-J,we=A?ne:J-1,be=this.__iteratees__,Ne=be.length,Oe=0,ze=Nr(oe,this.__takeCount__);if(!b||!A&&B==oe&&ze==oe)return q2(u,this.__actions__);var Ze=[];e:for(;oe--&&Oe<ze;){we+=p;for(var dt=-1,Je=u[we];++dt<Ne;){var gt=be[dt],_t=gt.iteratee,fi=gt.type,Lr=_t(Je);if(fi==ee)Je=Lr;else if(!Lr){if(fi==he)continue e;break e}}Ze[Oe++]=Je}return Ze}Ct.prototype=Tl(tf.prototype),Ct.prototype.constructor=Ct;function Io(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var A=u[p];this.set(A[0],A[1])}}function m_(){this.__data__=Jc?Jc(null):{},this.size=0}function g_(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p}function x_(u){var p=this.__data__;if(Jc){var b=p[u];return b===v?t:b}return bt.call(p,u)?p[u]:t}function v_(u){var p=this.__data__;return Jc?p[u]!==t:bt.call(p,u)}function y_(u,p){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=Jc&&p===t?v:p,this}Io.prototype.clear=m_,Io.prototype.delete=g_,Io.prototype.get=x_,Io.prototype.has=v_,Io.prototype.set=y_;function Ws(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var A=u[p];this.set(A[0],A[1])}}function w_(){this.__data__=[],this.size=0}function b_(u){var p=this.__data__,b=nf(p,u);if(b<0)return!1;var A=p.length-1;return b==A?p.pop():Xd.call(p,b,1),--this.size,!0}function C_(u){var p=this.__data__,b=nf(p,u);return b<0?t:p[b][1]}function E_(u){return nf(this.__data__,u)>-1}function N_(u,p){var b=this.__data__,A=nf(b,u);return A<0?(++this.size,b.push([u,p])):b[A][1]=p,this}Ws.prototype.clear=w_,Ws.prototype.delete=b_,Ws.prototype.get=C_,Ws.prototype.has=E_,Ws.prototype.set=N_;function Hs(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var A=u[p];this.set(A[0],A[1])}}function __(){this.size=0,this.__data__={hash:new Io,map:new(Kc||Ws),string:new Io}}function S_(u){var p=mf(this,u).delete(u);return this.size-=p?1:0,p}function A_(u){return mf(this,u).get(u)}function T_(u){return mf(this,u).has(u)}function k_(u,p){var b=mf(this,u),A=b.size;return b.set(u,p),this.size+=b.size==A?0:1,this}Hs.prototype.clear=__,Hs.prototype.delete=S_,Hs.prototype.get=A_,Hs.prototype.has=T_,Hs.prototype.set=k_;function Ro(u){var p=-1,b=u==null?0:u.length;for(this.__data__=new Hs;++p<b;)this.add(u[p])}function D_(u){return this.__data__.set(u,v),this}function I_(u){return this.__data__.has(u)}Ro.prototype.add=Ro.prototype.push=D_,Ro.prototype.has=I_;function Ki(u){var p=this.__data__=new Ws(u);this.size=p.size}function R_(){this.__data__=new Ws,this.size=0}function O_(u){var p=this.__data__,b=p.delete(u);return this.size=p.size,b}function j_(u){return this.__data__.get(u)}function M_(u){return this.__data__.has(u)}function L_(u,p){var b=this.__data__;if(b instanceof Ws){var A=b.__data__;if(!Kc||A.length<s-1)return A.push([u,p]),this.size=++b.size,this;b=this.__data__=new Hs(A)}return b.set(u,p),this.size=b.size,this}Ki.prototype.clear=R_,Ki.prototype.delete=O_,Ki.prototype.get=j_,Ki.prototype.has=M_,Ki.prototype.set=L_;function b2(u,p){var b=at(u),A=!b&&Po(u),B=!b&&!A&&ja(u),$=!b&&!A&&!B&&Rl(u),J=b||A||B||$,ne=J?Yc(u.length,Er):[],oe=ne.length;for(var we in u)(p||bt.call(u,we))&&!(J&&(we=="length"||B&&(we=="offset"||we=="parent")||$&&(we=="buffer"||we=="byteLength"||we=="byteOffset")||Gs(we,oe)))&&ne.push(we);return ne}function C2(u){var p=u.length;return p?u[Rp(0,p-1)]:t}function P_(u,p){return gf($r(u),Oo(p,0,u.length))}function F_(u){return gf($r(u))}function Cp(u,p,b){(b!==t&&!Zi(u[p],b)||b===t&&!(p in u))&&qs(u,p,b)}function tu(u,p,b){var A=u[p];(!(bt.call(u,p)&&Zi(A,b))||b===t&&!(p in u))&&qs(u,p,b)}function nf(u,p){for(var b=u.length;b--;)if(Zi(u[b][0],p))return b;return-1}function B_(u,p,b,A){return Da(u,function(B,$,J){p(A,B,b(B),J)}),A}function E2(u,p){return u&&gs(p,ar(p),u)}function U_(u,p){return u&&gs(p,Qr(p),u)}function qs(u,p,b){p=="__proto__"&&Qd?Qd(u,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[p]=b}function Ep(u,p){for(var b=-1,A=p.length,B=X(A),$=u==null;++b<A;)B[b]=$?t:r1(u,p[b]);return B}function Oo(u,p,b){return u===u&&(b!==t&&(u=u<=b?u:b),p!==t&&(u=u>=p?u:p)),u}function Ii(u,p,b,A,B,$){var J,ne=p&E,oe=p&_,we=p&k;if(b&&(J=B?b(u,A,B,$):b(u)),J!==t)return J;if(!xn(u))return u;var be=at(u);if(be){if(J=T5(u),!ne)return $r(u,J)}else{var Ne=_r(u),Oe=Ne==$e||Ne==et;if(ja(u))return G2(u,ne);if(Ne==wt||Ne==On||Oe&&!B){if(J=oe||Oe?{}:fv(u),!ne)return oe?x5(u,U_(J,u)):g5(u,E2(J,u))}else{if(!jt[Ne])return B?u:{};J=k5(u,Ne,ne)}}$||($=new Ki);var ze=$.get(u);if(ze)return ze;$.set(u,J),zv(u)?u.forEach(function(Je){J.add(Ii(Je,p,b,Je,u,$))}):Bv(u)&&u.forEach(function(Je,gt){J.set(gt,Ii(Je,p,b,gt,u,$))});var Ze=we?oe?Hp:Wp:oe?Qr:ar,dt=be?t:Ze(u);return Gr(dt||u,function(Je,gt){dt&&(gt=Je,Je=u[gt]),tu(J,gt,Ii(Je,p,b,gt,u,$))}),J}function z_(u){var p=ar(u);return function(b){return N2(b,u,p)}}function N2(u,p,b){var A=b.length;if(u==null)return!A;for(u=Ue(u);A--;){var B=b[A],$=p[B],J=u[B];if(J===t&&!(B in u)||!$(J))return!1}return!0}function _2(u,p,b){if(typeof u!="function")throw new fn(d);return lu(function(){u.apply(t,b)},p)}function nu(u,p,b,A){var B=-1,$=dn,J=!0,ne=u.length,oe=[],we=p.length;if(!ne)return oe;b&&(p=nt(p,Sn(b))),A?($=_o,J=!1):p.length>=s&&($=ir,J=!1,p=new Ro(p));e:for(;++B<ne;){var be=u[B],Ne=b==null?be:b(be);if(be=A||be!==0?be:0,J&&Ne===Ne){for(var Oe=we;Oe--;)if(p[Oe]===Ne)continue e;oe.push(be)}else $(p,Ne,A)||oe.push(be)}return oe}var Da=Z2(ms),S2=Z2(_p,!0);function W_(u,p){var b=!0;return Da(u,function(A,B,$){return b=!!p(A,B,$),b}),b}function rf(u,p,b){for(var A=-1,B=u.length;++A<B;){var $=u[A],J=p($);if(J!=null&&(ne===t?J===J&&!di(J):b(J,ne)))var ne=J,oe=$}return oe}function H_(u,p,b,A){var B=u.length;for(b=ut(b),b<0&&(b=-b>B?0:B+b),A=A===t||A>B?B:ut(A),A<0&&(A+=B),A=b>A?0:Hv(A);b<A;)u[b++]=p;return u}function A2(u,p){var b=[];return Da(u,function(A,B,$){p(A,B,$)&&b.push(A)}),b}function mr(u,p,b,A,B){var $=-1,J=u.length;for(b||(b=I5),B||(B=[]);++$<J;){var ne=u[$];p>0&&b(ne)?p>1?mr(ne,p-1,b,A,B):li(B,ne):A||(B[B.length]=ne)}return B}var Np=J2(),T2=J2(!0);function ms(u,p){return u&&Np(u,p,ar)}function _p(u,p){return u&&T2(u,p,ar)}function sf(u,p){return Ti(p,function(b){return $s(u[b])})}function jo(u,p){p=Ra(p,u);for(var b=0,A=p.length;u!=null&&b<A;)u=u[xs(p[b++])];return b&&b==A?u:t}function k2(u,p,b){var A=p(u);return at(u)?A:li(A,b(u))}function jr(u){return u==null?u===t?Te:Ci:Do&&Do in Ue(u)?_5(u):F5(u)}function Sp(u,p){return u>p}function q_(u,p){return u!=null&&bt.call(u,p)}function V_(u,p){return u!=null&&p in Ue(u)}function Y_(u,p,b){return u>=Nr(p,b)&&u<Jn(p,b)}function Ap(u,p,b){for(var A=b?_o:dn,B=u[0].length,$=u.length,J=$,ne=X($),oe=1/0,we=[];J--;){var be=u[J];J&&p&&(be=nt(be,Sn(p))),oe=Nr(be.length,oe),ne[J]=!b&&(p||B>=120&&be.length>=120)?new Ro(J&&be):t}be=u[0];var Ne=-1,Oe=ne[0];e:for(;++Ne<B&&we.length<oe;){var ze=be[Ne],Ze=p?p(ze):ze;if(ze=b||ze!==0?ze:0,!(Oe?ir(Oe,Ze):A(we,Ze,b))){for(J=$;--J;){var dt=ne[J];if(!(dt?ir(dt,Ze):A(u[J],Ze,b)))continue e}Oe&&Oe.push(Ze),we.push(ze)}}return we}function G_(u,p,b,A){return ms(u,function(B,$,J){p(A,b(B),$,J)}),A}function ru(u,p,b){p=Ra(p,u),u=gv(u,p);var A=u==null?u:u[xs(Oi(p))];return A==null?t:rr(A,u,b)}function D2(u){return An(u)&&jr(u)==On}function $_(u){return An(u)&&jr(u)==Zt}function X_(u){return An(u)&&jr(u)==$n}function iu(u,p,b,A,B){return u===p?!0:u==null||p==null||!An(u)&&!An(p)?u!==u&&p!==p:Q_(u,p,b,A,iu,B)}function Q_(u,p,b,A,B,$){var J=at(u),ne=at(p),oe=J?De:_r(u),we=ne?De:_r(p);oe=oe==On?wt:oe,we=we==On?wt:we;var be=oe==wt,Ne=we==wt,Oe=oe==we;if(Oe&&ja(u)){if(!ja(p))return!1;J=!0,be=!1}if(Oe&&!be)return $||($=new Ki),J||Rl(u)?cv(u,p,b,A,B,$):E5(u,p,oe,b,A,B,$);if(!(b&S)){var ze=be&&bt.call(u,"__wrapped__"),Ze=Ne&&bt.call(p,"__wrapped__");if(ze||Ze){var dt=ze?u.value():u,Je=Ze?p.value():p;return $||($=new Ki),B(dt,Je,b,A,$)}}return Oe?($||($=new Ki),N5(u,p,b,A,B,$)):!1}function K_(u){return An(u)&&_r(u)==Tt}function Tp(u,p,b,A){var B=b.length,$=B,J=!A;if(u==null)return!$;for(u=Ue(u);B--;){var ne=b[B];if(J&&ne[2]?ne[1]!==u[ne[0]]:!(ne[0]in u))return!1}for(;++B<$;){ne=b[B];var oe=ne[0],we=u[oe],be=ne[1];if(J&&ne[2]){if(we===t&&!(oe in u))return!1}else{var Ne=new Ki;if(A)var Oe=A(we,be,oe,u,p,Ne);if(!(Oe===t?iu(be,we,S|R,A,Ne):Oe))return!1}}return!0}function I2(u){if(!xn(u)||O5(u))return!1;var p=$s(u)?KN:op;return p.test(Lo(u))}function Z_(u){return An(u)&&jr(u)==Ie}function J_(u){return An(u)&&_r(u)==Ee}function e5(u){return An(u)&&Cf(u.length)&&!!en[jr(u)]}function R2(u){return typeof u=="function"?u:u==null?Kr:typeof u=="object"?at(u)?M2(u[0],u[1]):j2(u):ey(u)}function kp(u){if(!ou(u))return r_(u);var p=[];for(var b in Ue(u))bt.call(u,b)&&b!="constructor"&&p.push(b);return p}function t5(u){if(!xn(u))return P5(u);var p=ou(u),b=[];for(var A in u)A=="constructor"&&(p||!bt.call(u,A))||b.push(A);return b}function Dp(u,p){return u<p}function O2(u,p){var b=-1,A=Xr(u)?X(u.length):[];return Da(u,function(B,$,J){A[++b]=p(B,$,J)}),A}function j2(u){var p=Vp(u);return p.length==1&&p[0][2]?pv(p[0][0],p[0][1]):function(b){return b===u||Tp(b,u,p)}}function M2(u,p){return Gp(u)&&hv(p)?pv(xs(u),p):function(b){var A=r1(b,u);return A===t&&A===p?i1(b,u):iu(p,A,S|R)}}function af(u,p,b,A,B){u!==p&&Np(p,function($,J){if(B||(B=new Ki),xn($))n5(u,p,J,b,af,A,B);else{var ne=A?A(Xp(u,J),$,J+"",u,p,B):t;ne===t&&(ne=$),Cp(u,J,ne)}},Qr)}function n5(u,p,b,A,B,$,J){var ne=Xp(u,b),oe=Xp(p,b),we=J.get(oe);if(we){Cp(u,b,we);return}var be=$?$(ne,oe,b+"",u,p,J):t,Ne=be===t;if(Ne){var Oe=at(oe),ze=!Oe&&ja(oe),Ze=!Oe&&!ze&&Rl(oe);be=oe,Oe||ze||Ze?at(ne)?be=ne:Ln(ne)?be=$r(ne):ze?(Ne=!1,be=G2(oe,!0)):Ze?(Ne=!1,be=$2(oe,!0)):be=[]:cu(oe)||Po(oe)?(be=ne,Po(ne)?be=qv(ne):(!xn(ne)||$s(ne))&&(be=fv(oe))):Ne=!1}Ne&&(J.set(oe,be),B(be,oe,A,$,J),J.delete(oe)),Cp(u,b,be)}function L2(u,p){var b=u.length;if(b)return p+=p<0?b:0,Gs(p,b)?u[p]:t}function P2(u,p,b){p.length?p=nt(p,function($){return at($)?function(J){return jo(J,$.length===1?$[0]:$)}:$}):p=[Kr];var A=-1;p=nt(p,Sn(Qe()));var B=O2(u,function($,J,ne){var oe=nt(p,function(we){return we($)});return{criteria:oe,index:++A,value:$}});return Sa(B,function($,J){return m5($,J,b)})}function r5(u,p){return F2(u,p,function(b,A){return i1(u,A)})}function F2(u,p,b){for(var A=-1,B=p.length,$={};++A<B;){var J=p[A],ne=jo(u,J);b(ne,J)&&su($,Ra(J,u),ne)}return $}function i5(u){return function(p){return jo(p,u)}}function Ip(u,p,b,A){var B=A?qc:pr,$=-1,J=p.length,ne=u;for(u===p&&(p=$r(p)),b&&(ne=nt(u,Sn(b)));++$<J;)for(var oe=0,we=p[$],be=b?b(we):we;(oe=B(ne,be,oe,A))>-1;)ne!==u&&Xd.call(ne,oe,1),Xd.call(u,oe,1);return u}function B2(u,p){for(var b=u?p.length:0,A=b-1;b--;){var B=p[b];if(b==A||B!==$){var $=B;Gs(B)?Xd.call(u,B,1):Mp(u,B)}}return u}function Rp(u,p){return u+Zd(y2()*(p-u+1))}function s5(u,p,b,A){for(var B=-1,$=Jn(Kd((p-u)/(b||1)),0),J=X($);$--;)J[A?$:++B]=u,u+=b;return J}function Op(u,p){var b="";if(!u||p<1||p>ue)return b;do p%2&&(b+=u),p=Zd(p/2),p&&(u+=u);while(p);return b}function ft(u,p){return Qp(mv(u,p,Kr),u+"")}function a5(u){return C2(Ol(u))}function o5(u,p){var b=Ol(u);return gf(b,Oo(p,0,b.length))}function su(u,p,b,A){if(!xn(u))return u;p=Ra(p,u);for(var B=-1,$=p.length,J=$-1,ne=u;ne!=null&&++B<$;){var oe=xs(p[B]),we=b;if(oe==="__proto__"||oe==="constructor"||oe==="prototype")return u;if(B!=J){var be=ne[oe];we=A?A(be,oe,ne):t,we===t&&(we=xn(be)?be:Gs(p[B+1])?[]:{})}tu(ne,oe,we),ne=ne[oe]}return u}var U2=Jd?function(u,p){return Jd.set(u,p),u}:Kr,l5=Qd?function(u,p){return Qd(u,"toString",{configurable:!0,enumerable:!1,value:a1(p),writable:!0})}:Kr;function c5(u){return gf(Ol(u))}function Ri(u,p,b){var A=-1,B=u.length;p<0&&(p=-p>B?0:B+p),b=b>B?B:b,b<0&&(b+=B),B=p>b?0:b-p>>>0,p>>>=0;for(var $=X(B);++A<B;)$[A]=u[A+p];return $}function u5(u,p){var b;return Da(u,function(A,B,$){return b=p(A,B,$),!b}),!!b}function of(u,p,b){var A=0,B=u==null?A:u.length;if(typeof p=="number"&&p===p&&B<=Rn){for(;A<B;){var $=A+B>>>1,J=u[$];J!==null&&!di(J)&&(b?J<=p:J<p)?A=$+1:B=$}return B}return jp(u,p,Kr,b)}function jp(u,p,b,A){var B=0,$=u==null?0:u.length;if($===0)return 0;p=b(p);for(var J=p!==p,ne=p===null,oe=di(p),we=p===t;B<$;){var be=Zd((B+$)/2),Ne=b(u[be]),Oe=Ne!==t,ze=Ne===null,Ze=Ne===Ne,dt=di(Ne);if(J)var Je=A||Ze;else we?Je=Ze&&(A||Oe):ne?Je=Ze&&Oe&&(A||!ze):oe?Je=Ze&&Oe&&!ze&&(A||!dt):ze||dt?Je=!1:Je=A?Ne<=p:Ne<p;Je?B=be+1:$=be}return Nr($,tt)}function z2(u,p){for(var b=-1,A=u.length,B=0,$=[];++b<A;){var J=u[b],ne=p?p(J):J;if(!b||!Zi(ne,oe)){var oe=ne;$[B++]=J===0?0:J}}return $}function W2(u){return typeof u=="number"?u:di(u)?Re:+u}function ui(u){if(typeof u=="string")return u;if(at(u))return nt(u,ui)+"";if(di(u))return w2?w2.call(u):"";var p=u+"";return p=="0"&&1/u==-ge?"-0":p}function Ia(u,p,b){var A=-1,B=dn,$=u.length,J=!0,ne=[],oe=ne;if(b)J=!1,B=_o;else if($>=s){var we=p?null:b5(u);if(we)return i(we);J=!1,B=ir,oe=new Ro}else oe=p?[]:ne;e:for(;++A<$;){var be=u[A],Ne=p?p(be):be;if(be=b||be!==0?be:0,J&&Ne===Ne){for(var Oe=oe.length;Oe--;)if(oe[Oe]===Ne)continue e;p&&oe.push(Ne),ne.push(be)}else B(oe,Ne,b)||(oe!==ne&&oe.push(Ne),ne.push(be))}return ne}function Mp(u,p){return p=Ra(p,u),u=gv(u,p),u==null||delete u[xs(Oi(p))]}function H2(u,p,b,A){return su(u,p,b(jo(u,p)),A)}function lf(u,p,b,A){for(var B=u.length,$=A?B:-1;(A?$--:++$<B)&&p(u[$],$,u););return b?Ri(u,A?0:$,A?$+1:B):Ri(u,A?$+1:0,A?B:$)}function q2(u,p){var b=u;return b instanceof Ct&&(b=b.value()),Xi(p,function(A,B){return B.func.apply(B.thisArg,li([A],B.args))},b)}function Lp(u,p,b){var A=u.length;if(A<2)return A?Ia(u[0]):[];for(var B=-1,$=X(A);++B<A;)for(var J=u[B],ne=-1;++ne<A;)ne!=B&&($[B]=nu($[B]||J,u[ne],p,b));return Ia(mr($,1),p,b)}function V2(u,p,b){for(var A=-1,B=u.length,$=p.length,J={};++A<B;){var ne=A<$?p[A]:t;b(J,u[A],ne)}return J}function Pp(u){return Ln(u)?u:[]}function Fp(u){return typeof u=="function"?u:Kr}function Ra(u,p){return at(u)?u:Gp(u,p)?[u]:wv(Bt(u))}var d5=ft;function Oa(u,p,b){var A=u.length;return b=b===t?A:b,!p&&b>=A?u:Ri(u,p,b)}var Y2=ZN||function(u){return qn.clearTimeout(u)};function G2(u,p){if(p)return u.slice();var b=u.length,A=p2?p2(b):new u.constructor(b);return u.copy(A),A}function Bp(u){var p=new u.constructor(u.byteLength);return new Gd(p).set(new Gd(u)),p}function f5(u,p){var b=p?Bp(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function h5(u){var p=new u.constructor(u.source,vo.exec(u));return p.lastIndex=u.lastIndex,p}function p5(u){return eu?Ue(eu.call(u)):{}}function $2(u,p){var b=p?Bp(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function X2(u,p){if(u!==p){var b=u!==t,A=u===null,B=u===u,$=di(u),J=p!==t,ne=p===null,oe=p===p,we=di(p);if(!ne&&!we&&!$&&u>p||$&&J&&oe&&!ne&&!we||A&&J&&oe||!b&&oe||!B)return 1;if(!A&&!$&&!we&&u<p||we&&b&&B&&!A&&!$||ne&&b&&B||!J&&B||!oe)return-1}return 0}function m5(u,p,b){for(var A=-1,B=u.criteria,$=p.criteria,J=B.length,ne=b.length;++A<J;){var oe=X2(B[A],$[A]);if(oe){if(A>=ne)return oe;var we=b[A];return oe*(we=="desc"?-1:1)}}return u.index-p.index}function Q2(u,p,b,A){for(var B=-1,$=u.length,J=b.length,ne=-1,oe=p.length,we=Jn($-J,0),be=X(oe+we),Ne=!A;++ne<oe;)be[ne]=p[ne];for(;++B<J;)(Ne||B<$)&&(be[b[B]]=u[B]);for(;we--;)be[ne++]=u[B++];return be}function K2(u,p,b,A){for(var B=-1,$=u.length,J=-1,ne=b.length,oe=-1,we=p.length,be=Jn($-ne,0),Ne=X(be+we),Oe=!A;++B<be;)Ne[B]=u[B];for(var ze=B;++oe<we;)Ne[ze+oe]=p[oe];for(;++J<ne;)(Oe||B<$)&&(Ne[ze+b[J]]=u[B++]);return Ne}function $r(u,p){var b=-1,A=u.length;for(p||(p=X(A));++b<A;)p[b]=u[b];return p}function gs(u,p,b,A){var B=!b;b||(b={});for(var $=-1,J=p.length;++$<J;){var ne=p[$],oe=A?A(b[ne],u[ne],ne,b,u):t;oe===t&&(oe=u[ne]),B?qs(b,ne,oe):tu(b,ne,oe)}return b}function g5(u,p){return gs(u,Yp(u),p)}function x5(u,p){return gs(u,uv(u),p)}function cf(u,p){return function(b,A){var B=at(b)?Bd:B_,$=p?p():{};return B(b,u,Qe(A,2),$)}}function kl(u){return ft(function(p,b){var A=-1,B=b.length,$=B>1?b[B-1]:t,J=B>2?b[2]:t;for($=u.length>3&&typeof $=="function"?(B--,$):t,J&&Mr(b[0],b[1],J)&&($=B<3?t:$,B=1),p=Ue(p);++A<B;){var ne=b[A];ne&&u(p,ne,A,$)}return p})}function Z2(u,p){return function(b,A){if(b==null)return b;if(!Xr(b))return u(b,A);for(var B=b.length,$=p?B:-1,J=Ue(b);(p?$--:++$<B)&&A(J[$],$,J)!==!1;);return b}}function J2(u){return function(p,b,A){for(var B=-1,$=Ue(p),J=A(p),ne=J.length;ne--;){var oe=J[u?ne:++B];if(b($[oe],oe,$)===!1)break}return p}}function v5(u,p,b){var A=p&j,B=au(u);function $(){var J=this&&this!==qn&&this instanceof $?B:u;return J.apply(A?b:this,arguments)}return $}function ev(u){return function(p){p=Bt(p);var b=Ta(p)?m(p):t,A=b?b[0]:p.charAt(0),B=b?Oa(b,1).join(""):p.slice(1);return A[u]()+B}}function Dl(u){return function(p){return Xi(Zv(Kv(p).replace(Xe,"")),u,"")}}function au(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Tl(u.prototype),A=u.apply(b,p);return xn(A)?A:b}}function y5(u,p,b){var A=au(u);function B(){for(var $=arguments.length,J=X($),ne=$,oe=Il(B);ne--;)J[ne]=arguments[ne];var we=$<3&&J[0]!==oe&&J[$-1]!==oe?[]:M(J,oe);if($-=we.length,$<b)return sv(u,p,uf,B.placeholder,t,J,we,t,t,b-$);var be=this&&this!==qn&&this instanceof B?A:u;return rr(be,this,J)}return B}function tv(u){return function(p,b,A){var B=Ue(p);if(!Xr(p)){var $=Qe(b,3);p=ar(p),b=function(ne){return $(B[ne],ne,B)}}var J=u(p,b,A);return J>-1?B[$?p[J]:J]:t}}function nv(u){return Ys(function(p){var b=p.length,A=b,B=Di.prototype.thru;for(u&&p.reverse();A--;){var $=p[A];if(typeof $!="function")throw new fn(d);if(B&&!J&&pf($)=="wrapper")var J=new Di([],!0)}for(A=J?A:b;++A<b;){$=p[A];var ne=pf($),oe=ne=="wrapper"?qp($):t;oe&&$p(oe[0])&&oe[1]==(P|O|Q|V)&&!oe[4].length&&oe[9]==1?J=J[pf(oe[0])].apply(J,oe[3]):J=$.length==1&&$p($)?J[ne]():J.thru($)}return function(){var we=arguments,be=we[0];if(J&&we.length==1&&at(be))return J.plant(be).value();for(var Ne=0,Oe=b?p[Ne].apply(this,we):be;++Ne<b;)Oe=p[Ne].call(this,Oe);return Oe}})}function uf(u,p,b,A,B,$,J,ne,oe,we){var be=p&P,Ne=p&j,Oe=p&I,ze=p&(O|q),Ze=p&W,dt=Oe?t:au(u);function Je(){for(var gt=arguments.length,_t=X(gt),fi=gt;fi--;)_t[fi]=arguments[fi];if(ze)var Lr=Il(Je),hi=gp(_t,Lr);if(A&&(_t=Q2(_t,A,B,ze)),$&&(_t=K2(_t,$,J,ze)),gt-=hi,ze&&gt<we){var Pn=M(_t,Lr);return sv(u,p,uf,Je.placeholder,b,_t,Pn,ne,oe,we-gt)}var Ji=Ne?b:this,Qs=Oe?Ji[u]:u;return gt=_t.length,ne?_t=B5(_t,ne):Ze&&gt>1&&_t.reverse(),be&&oe<gt&&(_t.length=oe),this&&this!==qn&&this instanceof Je&&(Qs=dt||au(Qs)),Qs.apply(Ji,_t)}return Je}function rv(u,p){return function(b,A){return G_(b,u,p(A),{})}}function df(u,p){return function(b,A){var B;if(b===t&&A===t)return p;if(b!==t&&(B=b),A!==t){if(B===t)return A;typeof b=="string"||typeof A=="string"?(b=ui(b),A=ui(A)):(b=W2(b),A=W2(A)),B=u(b,A)}return B}}function Up(u){return Ys(function(p){return p=nt(p,Sn(Qe())),ft(function(b){var A=this;return u(p,function(B){return rr(B,A,b)})})})}function ff(u,p){p=p===t?" ":ui(p);var b=p.length;if(b<2)return b?Op(p,u):p;var A=Op(p,Kd(u/h(p)));return Ta(p)?Oa(m(A),0,u).join(""):A.slice(0,u)}function w5(u,p,b,A){var B=p&j,$=au(u);function J(){for(var ne=-1,oe=arguments.length,we=-1,be=A.length,Ne=X(be+oe),Oe=this&&this!==qn&&this instanceof J?$:u;++we<be;)Ne[we]=A[we];for(;oe--;)Ne[we++]=arguments[++ne];return rr(Oe,B?b:this,Ne)}return J}function iv(u){return function(p,b,A){return A&&typeof A!="number"&&Mr(p,b,A)&&(b=A=t),p=Xs(p),b===t?(b=p,p=0):b=Xs(b),A=A===t?p<b?1:-1:Xs(A),s5(p,b,A,u)}}function hf(u){return function(p,b){return typeof p=="string"&&typeof b=="string"||(p=ji(p),b=ji(b)),u(p,b)}}function sv(u,p,b,A,B,$,J,ne,oe,we){var be=p&O,Ne=be?J:t,Oe=be?t:J,ze=be?$:t,Ze=be?t:$;p|=be?Q:z,p&=~(be?z:Q),p&D||(p&=~(j|I));var dt=[u,p,B,ze,Ne,Ze,Oe,ne,oe,we],Je=b.apply(t,dt);return $p(u)&&xv(Je,dt),Je.placeholder=A,vv(Je,u,p)}function zp(u){var p=ye[u];return function(b,A){if(b=ji(b),A=A==null?0:Nr(ut(A),292),A&&v2(b)){var B=(Bt(b)+"e").split("e"),$=p(B[0]+"e"+(+B[1]+A));return B=(Bt($)+"e").split("e"),+(B[0]+"e"+(+B[1]-A))}return p(b)}}var b5=Sl&&1/i(new Sl([,-0]))[1]==ge?function(u){return new Sl(u)}:c1;function av(u){return function(p){var b=_r(p);return b==Tt?mt(p):b==Ee?o(p):Ao(p,u(p))}}function Vs(u,p,b,A,B,$,J,ne){var oe=p&I;if(!oe&&typeof u!="function")throw new fn(d);var we=A?A.length:0;if(we||(p&=~(Q|z),A=B=t),J=J===t?J:Jn(ut(J),0),ne=ne===t?ne:ut(ne),we-=B?B.length:0,p&z){var be=A,Ne=B;A=B=t}var Oe=oe?t:qp(u),ze=[u,p,b,A,B,be,Ne,$,J,ne];if(Oe&&L5(ze,Oe),u=ze[0],p=ze[1],b=ze[2],A=ze[3],B=ze[4],ne=ze[9]=ze[9]===t?oe?0:u.length:Jn(ze[9]-we,0),!ne&&p&(O|q)&&(p&=~(O|q)),!p||p==j)var Ze=v5(u,p,b);else p==O||p==q?Ze=y5(u,p,ne):(p==Q||p==(j|Q))&&!B.length?Ze=w5(u,p,b,A):Ze=uf.apply(t,ze);var dt=Oe?U2:xv;return vv(dt(Ze,ze),u,p)}function ov(u,p,b,A){return u===t||Zi(u,hn[b])&&!bt.call(A,b)?p:u}function lv(u,p,b,A,B,$){return xn(u)&&xn(p)&&($.set(p,u),af(u,p,t,lv,$),$.delete(p)),u}function C5(u){return cu(u)?t:u}function cv(u,p,b,A,B,$){var J=b&S,ne=u.length,oe=p.length;if(ne!=oe&&!(J&&oe>ne))return!1;var we=$.get(u),be=$.get(p);if(we&&be)return we==p&&be==u;var Ne=-1,Oe=!0,ze=b&R?new Ro:t;for($.set(u,p),$.set(p,u);++Ne<ne;){var Ze=u[Ne],dt=p[Ne];if(A)var Je=J?A(dt,Ze,Ne,p,u,$):A(Ze,dt,Ne,u,p,$);if(Je!==t){if(Je)continue;Oe=!1;break}if(ze){if(!Ge(p,function(gt,_t){if(!ir(ze,_t)&&(Ze===gt||B(Ze,gt,b,A,$)))return ze.push(_t)})){Oe=!1;break}}else if(!(Ze===dt||B(Ze,dt,b,A,$))){Oe=!1;break}}return $.delete(u),$.delete(p),Oe}function E5(u,p,b,A,B,$,J){switch(b){case Wt:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case Zt:return!(u.byteLength!=p.byteLength||!$(new Gd(u),new Gd(p)));case yt:case $n:case En:return Zi(+u,+p);case ke:return u.name==p.name&&u.message==p.message;case Ie:case jn:return u==p+"";case Tt:var ne=mt;case Ee:var oe=A&S;if(ne||(ne=i),u.size!=p.size&&!oe)return!1;var we=J.get(u);if(we)return we==p;A|=R,J.set(u,p);var be=cv(ne(u),ne(p),A,B,$,J);return J.delete(u),be;case fr:if(eu)return eu.call(u)==eu.call(p)}return!1}function N5(u,p,b,A,B,$){var J=b&S,ne=Wp(u),oe=ne.length,we=Wp(p),be=we.length;if(oe!=be&&!J)return!1;for(var Ne=oe;Ne--;){var Oe=ne[Ne];if(!(J?Oe in p:bt.call(p,Oe)))return!1}var ze=$.get(u),Ze=$.get(p);if(ze&&Ze)return ze==p&&Ze==u;var dt=!0;$.set(u,p),$.set(p,u);for(var Je=J;++Ne<oe;){Oe=ne[Ne];var gt=u[Oe],_t=p[Oe];if(A)var fi=J?A(_t,gt,Oe,p,u,$):A(gt,_t,Oe,u,p,$);if(!(fi===t?gt===_t||B(gt,_t,b,A,$):fi)){dt=!1;break}Je||(Je=Oe=="constructor")}if(dt&&!Je){var Lr=u.constructor,hi=p.constructor;Lr!=hi&&"constructor"in u&&"constructor"in p&&!(typeof Lr=="function"&&Lr instanceof Lr&&typeof hi=="function"&&hi instanceof hi)&&(dt=!1)}return $.delete(u),$.delete(p),dt}function Ys(u){return Qp(mv(u,t,Nv),u+"")}function Wp(u){return k2(u,ar,Yp)}function Hp(u){return k2(u,Qr,uv)}var qp=Jd?function(u){return Jd.get(u)}:c1;function pf(u){for(var p=u.name+"",b=Al[p],A=bt.call(Al,p)?b.length:0;A--;){var B=b[A],$=B.func;if($==null||$==u)return B.name}return p}function Il(u){var p=bt.call(Y,"placeholder")?Y:u;return p.placeholder}function Qe(){var u=Y.iteratee||o1;return u=u===o1?R2:u,arguments.length?u(arguments[0],arguments[1]):u}function mf(u,p){var b=u.__data__;return R5(p)?b[typeof p=="string"?"string":"hash"]:b.map}function Vp(u){for(var p=ar(u),b=p.length;b--;){var A=p[b],B=u[A];p[b]=[A,B,hv(B)]}return p}function Mo(u,p){var b=ki(u,p);return I2(b)?b:t}function _5(u){var p=bt.call(u,Do),b=u[Do];try{u[Do]=t;var A=!0}catch{}var B=Vd.call(u);return A&&(p?u[Do]=b:delete u[Do]),B}var Yp=yp?function(u){return u==null?[]:(u=Ue(u),Ti(yp(u),function(p){return g2.call(u,p)}))}:u1,uv=yp?function(u){for(var p=[];u;)li(p,Yp(u)),u=$d(u);return p}:u1,_r=jr;(wp&&_r(new wp(new ArrayBuffer(1)))!=Wt||Kc&&_r(new Kc)!=Tt||bp&&_r(bp.resolve())!=Et||Sl&&_r(new Sl)!=Ee||Zc&&_r(new Zc)!=Ve)&&(_r=function(u){var p=jr(u),b=p==wt?u.constructor:t,A=b?Lo(b):"";if(A)switch(A){case o_:return Wt;case l_:return Tt;case c_:return Et;case u_:return Ee;case d_:return Ve}return p});function S5(u,p,b){for(var A=-1,B=b.length;++A<B;){var $=b[A],J=$.size;switch($.type){case"drop":u+=J;break;case"dropRight":p-=J;break;case"take":p=Nr(p,u+J);break;case"takeRight":u=Jn(u,p-J);break}}return{start:u,end:p}}function A5(u){var p=u.match(Yr);return p?p[1].split(Me):[]}function dv(u,p,b){p=Ra(p,u);for(var A=-1,B=p.length,$=!1;++A<B;){var J=xs(p[A]);if(!($=u!=null&&b(u,J)))break;u=u[J]}return $||++A!=B?$:(B=u==null?0:u.length,!!B&&Cf(B)&&Gs(J,B)&&(at(u)||Po(u)))}function T5(u){var p=u.length,b=new u.constructor(p);return p&&typeof u[0]=="string"&&bt.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function fv(u){return typeof u.constructor=="function"&&!ou(u)?Tl($d(u)):{}}function k5(u,p,b){var A=u.constructor;switch(p){case Zt:return Bp(u);case yt:case $n:return new A(+u);case Wt:return f5(u,b);case sn:case ii:case Ei:case js:case Qt:case Ae:case Jt:case Nt:case Ft:return $2(u,b);case Tt:return new A;case En:case jn:return new A(u);case Ie:return h5(u);case Ee:return new A;case fr:return p5(u)}}function D5(u,p){var b=p.length;if(!b)return u;var A=b-1;return p[A]=(b>1?"& ":"")+p[A],p=p.join(b>2?", ":" "),u.replace(Ls,`{
/* [wrapped with `+p+`] */
`)}function I5(u){return at(u)||Po(u)||!!(x2&&u&&u[x2])}function Gs(u,p){var b=typeof u;return p=p??ue,!!p&&(b=="number"||b!="symbol"&&Si.test(u))&&u>-1&&u%1==0&&u<p}function Mr(u,p,b){if(!xn(b))return!1;var A=typeof p;return(A=="number"?Xr(b)&&Gs(p,b.length):A=="string"&&p in b)?Zi(b[p],u):!1}function Gp(u,p){if(at(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||di(u)?!0:ml.test(u)||!ba.test(u)||p!=null&&u in Ue(p)}function R5(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function $p(u){var p=pf(u),b=Y[p];if(typeof b!="function"||!(p in Ct.prototype))return!1;if(u===b)return!0;var A=qp(b);return!!A&&u===A[0]}function O5(u){return!!qd&&qd in u}var j5=sr?$s:d1;function ou(u){var p=u&&u.constructor,b=typeof p=="function"&&p.prototype||hn;return u===b}function hv(u){return u===u&&!xn(u)}function pv(u,p){return function(b){return b==null?!1:b[u]===p&&(p!==t||u in Ue(b))}}function M5(u){var p=wf(u,function(A){return b.size===x&&b.clear(),A}),b=p.cache;return p}function L5(u,p){var b=u[1],A=p[1],B=b|A,$=B<(j|I|P),J=A==P&&b==O||A==P&&b==V&&u[7].length<=p[8]||A==(P|V)&&p[7].length<=p[8]&&b==O;if(!($||J))return u;A&j&&(u[2]=p[2],B|=b&j?0:D);var ne=p[3];if(ne){var oe=u[3];u[3]=oe?Q2(oe,ne,p[4]):ne,u[4]=oe?M(u[3],w):p[4]}return ne=p[5],ne&&(oe=u[5],u[5]=oe?K2(oe,ne,p[6]):ne,u[6]=oe?M(u[5],w):p[6]),ne=p[7],ne&&(u[7]=ne),A&P&&(u[8]=u[8]==null?p[8]:Nr(u[8],p[8])),u[9]==null&&(u[9]=p[9]),u[0]=p[0],u[1]=B,u}function P5(u){var p=[];if(u!=null)for(var b in Ue(u))p.push(b);return p}function F5(u){return Vd.call(u)}function mv(u,p,b){return p=Jn(p===t?u.length-1:p,0),function(){for(var A=arguments,B=-1,$=Jn(A.length-p,0),J=X($);++B<$;)J[B]=A[p+B];B=-1;for(var ne=X(p+1);++B<p;)ne[B]=A[B];return ne[p]=b(J),rr(u,this,ne)}}function gv(u,p){return p.length<2?u:jo(u,Ri(p,0,-1))}function B5(u,p){for(var b=u.length,A=Nr(p.length,b),B=$r(u);A--;){var $=p[A];u[A]=Gs($,b)?B[$]:t}return u}function Xp(u,p){if(!(p==="constructor"&&typeof u[p]=="function")&&p!="__proto__")return u[p]}var xv=yv(U2),lu=e_||function(u,p){return qn.setTimeout(u,p)},Qp=yv(l5);function vv(u,p,b){var A=p+"";return Qp(u,D5(A,U5(A5(A),b)))}function yv(u){var p=0,b=0;return function(){var A=i_(),B=ie-(A-b);if(b=A,B>0){if(++p>=ae)return arguments[0]}else p=0;return u.apply(t,arguments)}}function gf(u,p){var b=-1,A=u.length,B=A-1;for(p=p===t?A:p;++b<p;){var $=Rp(b,B),J=u[$];u[$]=u[b],u[b]=J}return u.length=p,u}var wv=M5(function(u){var p=[];return u.charCodeAt(0)===46&&p.push(""),u.replace(Ni,function(b,A,B,$){p.push(B?$.replace(wr,"$1"):A||b)}),p});function xs(u){if(typeof u=="string"||di(u))return u;var p=u+"";return p=="0"&&1/u==-ge?"-0":p}function Lo(u){if(u!=null){try{return Qi.call(u)}catch{}try{return u+""}catch{}}return""}function U5(u,p){return Gr(vt,function(b){var A="_."+b[0];p&b[1]&&!dn(u,A)&&u.push(A)}),u.sort()}function bv(u){if(u instanceof Ct)return u.clone();var p=new Di(u.__wrapped__,u.__chain__);return p.__actions__=$r(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}function z5(u,p,b){(b?Mr(u,p,b):p===t)?p=1:p=Jn(ut(p),0);var A=u==null?0:u.length;if(!A||p<1)return[];for(var B=0,$=0,J=X(Kd(A/p));B<A;)J[$++]=Ri(u,B,B+=p);return J}function W5(u){for(var p=-1,b=u==null?0:u.length,A=0,B=[];++p<b;){var $=u[p];$&&(B[A++]=$)}return B}function H5(){var u=arguments.length;if(!u)return[];for(var p=X(u-1),b=arguments[0],A=u;A--;)p[A-1]=arguments[A];return li(at(b)?$r(b):[b],mr(p,1))}var q5=ft(function(u,p){return Ln(u)?nu(u,mr(p,1,Ln,!0)):[]}),V5=ft(function(u,p){var b=Oi(p);return Ln(b)&&(b=t),Ln(u)?nu(u,mr(p,1,Ln,!0),Qe(b,2)):[]}),Y5=ft(function(u,p){var b=Oi(p);return Ln(b)&&(b=t),Ln(u)?nu(u,mr(p,1,Ln,!0),t,b):[]});function G5(u,p,b){var A=u==null?0:u.length;return A?(p=b||p===t?1:ut(p),Ri(u,p<0?0:p,A)):[]}function $5(u,p,b){var A=u==null?0:u.length;return A?(p=b||p===t?1:ut(p),p=A-p,Ri(u,0,p<0?0:p)):[]}function X5(u,p){return u&&u.length?lf(u,Qe(p,3),!0,!0):[]}function Q5(u,p){return u&&u.length?lf(u,Qe(p,3),!0):[]}function K5(u,p,b,A){var B=u==null?0:u.length;return B?(b&&typeof b!="number"&&Mr(u,p,b)&&(b=0,A=B),H_(u,p,b,A)):[]}function Cv(u,p,b){var A=u==null?0:u.length;if(!A)return-1;var B=b==null?0:ut(b);return B<0&&(B=Jn(A+B,0)),Cl(u,Qe(p,3),B)}function Ev(u,p,b){var A=u==null?0:u.length;if(!A)return-1;var B=A-1;return b!==t&&(B=ut(b),B=b<0?Jn(A+B,0):Nr(B,A-1)),Cl(u,Qe(p,3),B,!0)}function Nv(u){var p=u==null?0:u.length;return p?mr(u,1):[]}function Z5(u){var p=u==null?0:u.length;return p?mr(u,ge):[]}function J5(u,p){var b=u==null?0:u.length;return b?(p=p===t?1:ut(p),mr(u,p)):[]}function eS(u){for(var p=-1,b=u==null?0:u.length,A={};++p<b;){var B=u[p];A[B[0]]=B[1]}return A}function _v(u){return u&&u.length?u[0]:t}function tS(u,p,b){var A=u==null?0:u.length;if(!A)return-1;var B=b==null?0:ut(b);return B<0&&(B=Jn(A+B,0)),pr(u,p,B)}function nS(u){var p=u==null?0:u.length;return p?Ri(u,0,-1):[]}var rS=ft(function(u){var p=nt(u,Pp);return p.length&&p[0]===u[0]?Ap(p):[]}),iS=ft(function(u){var p=Oi(u),b=nt(u,Pp);return p===Oi(b)?p=t:b.pop(),b.length&&b[0]===u[0]?Ap(b,Qe(p,2)):[]}),sS=ft(function(u){var p=Oi(u),b=nt(u,Pp);return p=typeof p=="function"?p:t,p&&b.pop(),b.length&&b[0]===u[0]?Ap(b,t,p):[]});function aS(u,p){return u==null?"":n_.call(u,p)}function Oi(u){var p=u==null?0:u.length;return p?u[p-1]:t}function oS(u,p,b){var A=u==null?0:u.length;if(!A)return-1;var B=A;return b!==t&&(B=ut(b),B=B<0?Jn(A+B,0):Nr(B,A-1)),p===p?f(u,p,B):Cl(u,Vc,B,!0)}function lS(u,p){return u&&u.length?L2(u,ut(p)):t}var cS=ft(Sv);function Sv(u,p){return u&&u.length&&p&&p.length?Ip(u,p):u}function uS(u,p,b){return u&&u.length&&p&&p.length?Ip(u,p,Qe(b,2)):u}function dS(u,p,b){return u&&u.length&&p&&p.length?Ip(u,p,t,b):u}var fS=Ys(function(u,p){var b=u==null?0:u.length,A=Ep(u,p);return B2(u,nt(p,function(B){return Gs(B,b)?+B:B}).sort(X2)),A});function hS(u,p){var b=[];if(!(u&&u.length))return b;var A=-1,B=[],$=u.length;for(p=Qe(p,3);++A<$;){var J=u[A];p(J,A,u)&&(b.push(J),B.push(A))}return B2(u,B),b}function Kp(u){return u==null?u:a_.call(u)}function pS(u,p,b){var A=u==null?0:u.length;return A?(b&&typeof b!="number"&&Mr(u,p,b)?(p=0,b=A):(p=p==null?0:ut(p),b=b===t?A:ut(b)),Ri(u,p,b)):[]}function mS(u,p){return of(u,p)}function gS(u,p,b){return jp(u,p,Qe(b,2))}function xS(u,p){var b=u==null?0:u.length;if(b){var A=of(u,p);if(A<b&&Zi(u[A],p))return A}return-1}function vS(u,p){return of(u,p,!0)}function yS(u,p,b){return jp(u,p,Qe(b,2),!0)}function wS(u,p){var b=u==null?0:u.length;if(b){var A=of(u,p,!0)-1;if(Zi(u[A],p))return A}return-1}function bS(u){return u&&u.length?z2(u):[]}function CS(u,p){return u&&u.length?z2(u,Qe(p,2)):[]}function ES(u){var p=u==null?0:u.length;return p?Ri(u,1,p):[]}function NS(u,p,b){return u&&u.length?(p=b||p===t?1:ut(p),Ri(u,0,p<0?0:p)):[]}function _S(u,p,b){var A=u==null?0:u.length;return A?(p=b||p===t?1:ut(p),p=A-p,Ri(u,p<0?0:p,A)):[]}function SS(u,p){return u&&u.length?lf(u,Qe(p,3),!1,!0):[]}function AS(u,p){return u&&u.length?lf(u,Qe(p,3)):[]}var TS=ft(function(u){return Ia(mr(u,1,Ln,!0))}),kS=ft(function(u){var p=Oi(u);return Ln(p)&&(p=t),Ia(mr(u,1,Ln,!0),Qe(p,2))}),DS=ft(function(u){var p=Oi(u);return p=typeof p=="function"?p:t,Ia(mr(u,1,Ln,!0),t,p)});function IS(u){return u&&u.length?Ia(u):[]}function RS(u,p){return u&&u.length?Ia(u,Qe(p,2)):[]}function OS(u,p){return p=typeof p=="function"?p:t,u&&u.length?Ia(u,t,p):[]}function Zp(u){if(!(u&&u.length))return[];var p=0;return u=Ti(u,function(b){if(Ln(b))return p=Jn(b.length,p),!0}),Yc(p,function(b){return nt(u,Nl(b))})}function Av(u,p){if(!(u&&u.length))return[];var b=Zp(u);return p==null?b:nt(b,function(A){return rr(p,t,A)})}var jS=ft(function(u,p){return Ln(u)?nu(u,p):[]}),MS=ft(function(u){return Lp(Ti(u,Ln))}),LS=ft(function(u){var p=Oi(u);return Ln(p)&&(p=t),Lp(Ti(u,Ln),Qe(p,2))}),PS=ft(function(u){var p=Oi(u);return p=typeof p=="function"?p:t,Lp(Ti(u,Ln),t,p)}),FS=ft(Zp);function BS(u,p){return V2(u||[],p||[],tu)}function US(u,p){return V2(u||[],p||[],su)}var zS=ft(function(u){var p=u.length,b=p>1?u[p-1]:t;return b=typeof b=="function"?(u.pop(),b):t,Av(u,b)});function Tv(u){var p=Y(u);return p.__chain__=!0,p}function WS(u,p){return p(u),u}function xf(u,p){return p(u)}var HS=Ys(function(u){var p=u.length,b=p?u[0]:0,A=this.__wrapped__,B=function($){return Ep($,u)};return p>1||this.__actions__.length||!(A instanceof Ct)||!Gs(b)?this.thru(B):(A=A.slice(b,+b+(p?1:0)),A.__actions__.push({func:xf,args:[B],thisArg:t}),new Di(A,this.__chain__).thru(function($){return p&&!$.length&&$.push(t),$}))});function qS(){return Tv(this)}function VS(){return new Di(this.value(),this.__chain__)}function YS(){this.__values__===t&&(this.__values__=Wv(this.value()));var u=this.__index__>=this.__values__.length,p=u?t:this.__values__[this.__index__++];return{done:u,value:p}}function GS(){return this}function $S(u){for(var p,b=this;b instanceof tf;){var A=bv(b);A.__index__=0,A.__values__=t,p?B.__wrapped__=A:p=A;var B=A;b=b.__wrapped__}return B.__wrapped__=u,p}function XS(){var u=this.__wrapped__;if(u instanceof Ct){var p=u;return this.__actions__.length&&(p=new Ct(this)),p=p.reverse(),p.__actions__.push({func:xf,args:[Kp],thisArg:t}),new Di(p,this.__chain__)}return this.thru(Kp)}function QS(){return q2(this.__wrapped__,this.__actions__)}var KS=cf(function(u,p,b){bt.call(u,b)?++u[b]:qs(u,b,1)});function ZS(u,p,b){var A=at(u)?Ud:W_;return b&&Mr(u,p,b)&&(p=t),A(u,Qe(p,3))}function JS(u,p){var b=at(u)?Ti:A2;return b(u,Qe(p,3))}var e8=tv(Cv),t8=tv(Ev);function n8(u,p){return mr(vf(u,p),1)}function r8(u,p){return mr(vf(u,p),ge)}function i8(u,p,b){return b=b===t?1:ut(b),mr(vf(u,p),b)}function kv(u,p){var b=at(u)?Gr:Da;return b(u,Qe(p,3))}function Dv(u,p){var b=at(u)?pp:S2;return b(u,Qe(p,3))}var s8=cf(function(u,p,b){bt.call(u,b)?u[b].push(p):qs(u,b,[p])});function a8(u,p,b,A){u=Xr(u)?u:Ol(u),b=b&&!A?ut(b):0;var B=u.length;return b<0&&(b=Jn(B+b,0)),Ef(u)?b<=B&&u.indexOf(p,b)>-1:!!B&&pr(u,p,b)>-1}var o8=ft(function(u,p,b){var A=-1,B=typeof p=="function",$=Xr(u)?X(u.length):[];return Da(u,function(J){$[++A]=B?rr(p,J,b):ru(J,p,b)}),$}),l8=cf(function(u,p,b){qs(u,b,p)});function vf(u,p){var b=at(u)?nt:O2;return b(u,Qe(p,3))}function c8(u,p,b,A){return u==null?[]:(at(p)||(p=p==null?[]:[p]),b=A?t:b,at(b)||(b=b==null?[]:[b]),P2(u,p,b))}var u8=cf(function(u,p,b){u[b?0:1].push(p)},function(){return[[],[]]});function d8(u,p,b){var A=at(u)?Xi:zd,B=arguments.length<3;return A(u,Qe(p,4),b,B,Da)}function f8(u,p,b){var A=at(u)?Vt:zd,B=arguments.length<3;return A(u,Qe(p,4),b,B,S2)}function h8(u,p){var b=at(u)?Ti:A2;return b(u,bf(Qe(p,3)))}function p8(u){var p=at(u)?C2:a5;return p(u)}function m8(u,p,b){(b?Mr(u,p,b):p===t)?p=1:p=ut(p);var A=at(u)?P_:o5;return A(u,p)}function g8(u){var p=at(u)?F_:c5;return p(u)}function x8(u){if(u==null)return 0;if(Xr(u))return Ef(u)?h(u):u.length;var p=_r(u);return p==Tt||p==Ee?u.size:kp(u).length}function v8(u,p,b){var A=at(u)?Ge:u5;return b&&Mr(u,p,b)&&(p=t),A(u,Qe(p,3))}var y8=ft(function(u,p){if(u==null)return[];var b=p.length;return b>1&&Mr(u,p[0],p[1])?p=[]:b>2&&Mr(p[0],p[1],p[2])&&(p=[p[0]]),P2(u,mr(p,1),[])}),yf=JN||function(){return qn.Date.now()};function w8(u,p){if(typeof p!="function")throw new fn(d);return u=ut(u),function(){if(--u<1)return p.apply(this,arguments)}}function Iv(u,p,b){return p=b?t:p,p=u&&p==null?u.length:p,Vs(u,P,t,t,t,t,p)}function Rv(u,p){var b;if(typeof p!="function")throw new fn(d);return u=ut(u),function(){return--u>0&&(b=p.apply(this,arguments)),u<=1&&(p=t),b}}var Jp=ft(function(u,p,b){var A=j;if(b.length){var B=M(b,Il(Jp));A|=Q}return Vs(u,A,p,b,B)}),Ov=ft(function(u,p,b){var A=j|I;if(b.length){var B=M(b,Il(Ov));A|=Q}return Vs(p,A,u,b,B)});function jv(u,p,b){p=b?t:p;var A=Vs(u,O,t,t,t,t,t,p);return A.placeholder=jv.placeholder,A}function Mv(u,p,b){p=b?t:p;var A=Vs(u,q,t,t,t,t,t,p);return A.placeholder=Mv.placeholder,A}function Lv(u,p,b){var A,B,$,J,ne,oe,we=0,be=!1,Ne=!1,Oe=!0;if(typeof u!="function")throw new fn(d);p=ji(p)||0,xn(b)&&(be=!!b.leading,Ne="maxWait"in b,$=Ne?Jn(ji(b.maxWait)||0,p):$,Oe="trailing"in b?!!b.trailing:Oe);function ze(Pn){var Ji=A,Qs=B;return A=B=t,we=Pn,J=u.apply(Qs,Ji),J}function Ze(Pn){return we=Pn,ne=lu(gt,p),be?ze(Pn):J}function dt(Pn){var Ji=Pn-oe,Qs=Pn-we,ty=p-Ji;return Ne?Nr(ty,$-Qs):ty}function Je(Pn){var Ji=Pn-oe,Qs=Pn-we;return oe===t||Ji>=p||Ji<0||Ne&&Qs>=$}function gt(){var Pn=yf();if(Je(Pn))return _t(Pn);ne=lu(gt,dt(Pn))}function _t(Pn){return ne=t,Oe&&A?ze(Pn):(A=B=t,J)}function fi(){ne!==t&&Y2(ne),we=0,A=oe=B=ne=t}function Lr(){return ne===t?J:_t(yf())}function hi(){var Pn=yf(),Ji=Je(Pn);if(A=arguments,B=this,oe=Pn,Ji){if(ne===t)return Ze(oe);if(Ne)return Y2(ne),ne=lu(gt,p),ze(oe)}return ne===t&&(ne=lu(gt,p)),J}return hi.cancel=fi,hi.flush=Lr,hi}var b8=ft(function(u,p){return _2(u,1,p)}),C8=ft(function(u,p,b){return _2(u,ji(p)||0,b)});function E8(u){return Vs(u,W)}function wf(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new fn(d);var b=function(){var A=arguments,B=p?p.apply(this,A):A[0],$=b.cache;if($.has(B))return $.get(B);var J=u.apply(this,A);return b.cache=$.set(B,J)||$,J};return b.cache=new(wf.Cache||Hs),b}wf.Cache=Hs;function bf(u){if(typeof u!="function")throw new fn(d);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}function N8(u){return Rv(2,u)}var _8=d5(function(u,p){p=p.length==1&&at(p[0])?nt(p[0],Sn(Qe())):nt(mr(p,1),Sn(Qe()));var b=p.length;return ft(function(A){for(var B=-1,$=Nr(A.length,b);++B<$;)A[B]=p[B].call(this,A[B]);return rr(u,this,A)})}),e1=ft(function(u,p){var b=M(p,Il(e1));return Vs(u,Q,t,p,b)}),Pv=ft(function(u,p){var b=M(p,Il(Pv));return Vs(u,z,t,p,b)}),S8=Ys(function(u,p){return Vs(u,V,t,t,t,p)});function A8(u,p){if(typeof u!="function")throw new fn(d);return p=p===t?p:ut(p),ft(u,p)}function T8(u,p){if(typeof u!="function")throw new fn(d);return p=p==null?0:Jn(ut(p),0),ft(function(b){var A=b[p],B=Oa(b,0,p);return A&&li(B,A),rr(u,this,B)})}function k8(u,p,b){var A=!0,B=!0;if(typeof u!="function")throw new fn(d);return xn(b)&&(A="leading"in b?!!b.leading:A,B="trailing"in b?!!b.trailing:B),Lv(u,p,{leading:A,maxWait:p,trailing:B})}function D8(u){return Iv(u,1)}function I8(u,p){return e1(Fp(p),u)}function R8(){if(!arguments.length)return[];var u=arguments[0];return at(u)?u:[u]}function O8(u){return Ii(u,k)}function j8(u,p){return p=typeof p=="function"?p:t,Ii(u,k,p)}function M8(u){return Ii(u,E|k)}function L8(u,p){return p=typeof p=="function"?p:t,Ii(u,E|k,p)}function P8(u,p){return p==null||N2(u,p,ar(p))}function Zi(u,p){return u===p||u!==u&&p!==p}var F8=hf(Sp),B8=hf(function(u,p){return u>=p}),Po=D2(function(){return arguments}())?D2:function(u){return An(u)&&bt.call(u,"callee")&&!g2.call(u,"callee")},at=X.isArray,U8=No?Sn(No):$_;function Xr(u){return u!=null&&Cf(u.length)&&!$s(u)}function Ln(u){return An(u)&&Xr(u)}function z8(u){return u===!0||u===!1||An(u)&&jr(u)==yt}var ja=t_||d1,W8=$i?Sn($i):X_;function H8(u){return An(u)&&u.nodeType===1&&!cu(u)}function q8(u){if(u==null)return!0;if(Xr(u)&&(at(u)||typeof u=="string"||typeof u.splice=="function"||ja(u)||Rl(u)||Po(u)))return!u.length;var p=_r(u);if(p==Tt||p==Ee)return!u.size;if(ou(u))return!kp(u).length;for(var b in u)if(bt.call(u,b))return!1;return!0}function V8(u,p){return iu(u,p)}function Y8(u,p,b){b=typeof b=="function"?b:t;var A=b?b(u,p):t;return A===t?iu(u,p,t,b):!!A}function t1(u){if(!An(u))return!1;var p=jr(u);return p==ke||p==dr||typeof u.message=="string"&&typeof u.name=="string"&&!cu(u)}function G8(u){return typeof u=="number"&&v2(u)}function $s(u){if(!xn(u))return!1;var p=jr(u);return p==$e||p==et||p==Hn||p==st}function Fv(u){return typeof u=="number"&&u==ut(u)}function Cf(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ue}function xn(u){var p=typeof u;return u!=null&&(p=="object"||p=="function")}function An(u){return u!=null&&typeof u=="object"}var Bv=Fd?Sn(Fd):K_;function $8(u,p){return u===p||Tp(u,p,Vp(p))}function X8(u,p,b){return b=typeof b=="function"?b:t,Tp(u,p,Vp(p),b)}function Q8(u){return Uv(u)&&u!=+u}function K8(u){if(j5(u))throw new pe(a);return I2(u)}function Z8(u){return u===null}function J8(u){return u==null}function Uv(u){return typeof u=="number"||An(u)&&jr(u)==En}function cu(u){if(!An(u)||jr(u)!=wt)return!1;var p=$d(u);if(p===null)return!0;var b=bt.call(p,"constructor")&&p.constructor;return typeof b=="function"&&b instanceof b&&Qi.call(b)==XN}var n1=fe?Sn(fe):Z_;function e6(u){return Fv(u)&&u>=-ue&&u<=ue}var zv=ot?Sn(ot):J_;function Ef(u){return typeof u=="string"||!at(u)&&An(u)&&jr(u)==jn}function di(u){return typeof u=="symbol"||An(u)&&jr(u)==fr}var Rl=Vn?Sn(Vn):e5;function t6(u){return u===t}function n6(u){return An(u)&&_r(u)==Ve}function r6(u){return An(u)&&jr(u)==St}var i6=hf(Dp),s6=hf(function(u,p){return u<=p});function Wv(u){if(!u)return[];if(Xr(u))return Ef(u)?m(u):$r(u);if(Qc&&u[Qc])return To(u[Qc]());var p=_r(u),b=p==Tt?mt:p==Ee?i:Ol;return b(u)}function Xs(u){if(!u)return u===0?u:0;if(u=ji(u),u===ge||u===-ge){var p=u<0?-1:1;return p*_e}return u===u?u:0}function ut(u){var p=Xs(u),b=p%1;return p===p?b?p-b:p:0}function Hv(u){return u?Oo(ut(u),0,We):0}function ji(u){if(typeof u=="number")return u;if(di(u))return Re;if(xn(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=xn(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=Wd(u);var b=_i.test(u);return b||lp.test(u)?Cr(u.slice(2),b?2:8):gl.test(u)?Re:+u}function qv(u){return gs(u,Qr(u))}function a6(u){return u?Oo(ut(u),-ue,ue):u===0?u:0}function Bt(u){return u==null?"":ui(u)}var o6=kl(function(u,p){if(ou(p)||Xr(p)){gs(p,ar(p),u);return}for(var b in p)bt.call(p,b)&&tu(u,b,p[b])}),Vv=kl(function(u,p){gs(p,Qr(p),u)}),Nf=kl(function(u,p,b,A){gs(p,Qr(p),u,A)}),l6=kl(function(u,p,b,A){gs(p,ar(p),u,A)}),c6=Ys(Ep);function u6(u,p){var b=Tl(u);return p==null?b:E2(b,p)}var d6=ft(function(u,p){u=Ue(u);var b=-1,A=p.length,B=A>2?p[2]:t;for(B&&Mr(p[0],p[1],B)&&(A=1);++b<A;)for(var $=p[b],J=Qr($),ne=-1,oe=J.length;++ne<oe;){var we=J[ne],be=u[we];(be===t||Zi(be,hn[we])&&!bt.call(u,we))&&(u[we]=$[we])}return u}),f6=ft(function(u){return u.push(t,lv),rr(Yv,t,u)});function h6(u,p){return zs(u,Qe(p,3),ms)}function p6(u,p){return zs(u,Qe(p,3),_p)}function m6(u,p){return u==null?u:Np(u,Qe(p,3),Qr)}function g6(u,p){return u==null?u:T2(u,Qe(p,3),Qr)}function x6(u,p){return u&&ms(u,Qe(p,3))}function v6(u,p){return u&&_p(u,Qe(p,3))}function y6(u){return u==null?[]:sf(u,ar(u))}function w6(u){return u==null?[]:sf(u,Qr(u))}function r1(u,p,b){var A=u==null?t:jo(u,p);return A===t?b:A}function b6(u,p){return u!=null&&dv(u,p,q_)}function i1(u,p){return u!=null&&dv(u,p,V_)}var C6=rv(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Vd.call(p)),u[p]=b},a1(Kr)),E6=rv(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Vd.call(p)),bt.call(u,p)?u[p].push(b):u[p]=[b]},Qe),N6=ft(ru);function ar(u){return Xr(u)?b2(u):kp(u)}function Qr(u){return Xr(u)?b2(u,!0):t5(u)}function _6(u,p){var b={};return p=Qe(p,3),ms(u,function(A,B,$){qs(b,p(A,B,$),A)}),b}function S6(u,p){var b={};return p=Qe(p,3),ms(u,function(A,B,$){qs(b,B,p(A,B,$))}),b}var A6=kl(function(u,p,b){af(u,p,b)}),Yv=kl(function(u,p,b,A){af(u,p,b,A)}),T6=Ys(function(u,p){var b={};if(u==null)return b;var A=!1;p=nt(p,function($){return $=Ra($,u),A||(A=$.length>1),$}),gs(u,Hp(u),b),A&&(b=Ii(b,E|_|k,C5));for(var B=p.length;B--;)Mp(b,p[B]);return b});function k6(u,p){return Gv(u,bf(Qe(p)))}var D6=Ys(function(u,p){return u==null?{}:r5(u,p)});function Gv(u,p){if(u==null)return{};var b=nt(Hp(u),function(A){return[A]});return p=Qe(p),F2(u,b,function(A,B){return p(A,B[0])})}function I6(u,p,b){p=Ra(p,u);var A=-1,B=p.length;for(B||(B=1,u=t);++A<B;){var $=u==null?t:u[xs(p[A])];$===t&&(A=B,$=b),u=$s($)?$.call(u):$}return u}function R6(u,p,b){return u==null?u:su(u,p,b)}function O6(u,p,b,A){return A=typeof A=="function"?A:t,u==null?u:su(u,p,b,A)}var $v=av(ar),Xv=av(Qr);function j6(u,p,b){var A=at(u),B=A||ja(u)||Rl(u);if(p=Qe(p,4),b==null){var $=u&&u.constructor;B?b=A?new $:[]:xn(u)?b=$s($)?Tl($d(u)):{}:b={}}return(B?Gr:ms)(u,function(J,ne,oe){return p(b,J,ne,oe)}),b}function M6(u,p){return u==null?!0:Mp(u,p)}function L6(u,p,b){return u==null?u:H2(u,p,Fp(b))}function P6(u,p,b,A){return A=typeof A=="function"?A:t,u==null?u:H2(u,p,Fp(b),A)}function Ol(u){return u==null?[]:Aa(u,ar(u))}function F6(u){return u==null?[]:Aa(u,Qr(u))}function B6(u,p,b){return b===t&&(b=p,p=t),b!==t&&(b=ji(b),b=b===b?b:0),p!==t&&(p=ji(p),p=p===p?p:0),Oo(ji(u),p,b)}function U6(u,p,b){return p=Xs(p),b===t?(b=p,p=0):b=Xs(b),u=ji(u),Y_(u,p,b)}function z6(u,p,b){if(b&&typeof b!="boolean"&&Mr(u,p,b)&&(p=b=t),b===t&&(typeof p=="boolean"?(b=p,p=t):typeof u=="boolean"&&(b=u,u=t)),u===t&&p===t?(u=0,p=1):(u=Xs(u),p===t?(p=u,u=0):p=Xs(p)),u>p){var A=u;u=p,p=A}if(b||u%1||p%1){var B=y2();return Nr(u+B*(p-u+Eo("1e-"+((B+"").length-1))),p)}return Rp(u,p)}var W6=Dl(function(u,p,b){return p=p.toLowerCase(),u+(b?Qv(p):p)});function Qv(u){return s1(Bt(u).toLowerCase())}function Kv(u){return u=Bt(u),u&&u.replace(hr,$c).replace(fp,"")}function H6(u,p,b){u=Bt(u),p=ui(p);var A=u.length;b=b===t?A:Oo(ut(b),0,A);var B=b;return b-=p.length,b>=0&&u.slice(b,B)==p}function q6(u){return u=Bt(u),u&&kd.test(u)?u.replace(hs,xp):u}function V6(u){return u=Bt(u),u&&Ms.test(u)?u.replace(Mc,"\\$&"):u}var Y6=Dl(function(u,p,b){return u+(b?"-":"")+p.toLowerCase()}),G6=Dl(function(u,p,b){return u+(b?" ":"")+p.toLowerCase()}),$6=ev("toLowerCase");function X6(u,p,b){u=Bt(u),p=ut(p);var A=p?h(u):0;if(!p||A>=p)return u;var B=(p-A)/2;return ff(Zd(B),b)+u+ff(Kd(B),b)}function Q6(u,p,b){u=Bt(u),p=ut(p);var A=p?h(u):0;return p&&A<p?u+ff(p-A,b):u}function K6(u,p,b){u=Bt(u),p=ut(p);var A=p?h(u):0;return p&&A<p?ff(p-A,b)+u:u}function Z6(u,p,b){return b||p==null?p=0:p&&(p=+p),s_(Bt(u).replace(xo,""),p||0)}function J6(u,p,b){return(b?Mr(u,p,b):p===t)?p=1:p=ut(p),Op(Bt(u),p)}function eA(){var u=arguments,p=Bt(u[0]);return u.length<3?p:p.replace(u[1],u[2])}var tA=Dl(function(u,p,b){return u+(b?"_":"")+p.toLowerCase()});function nA(u,p,b){return b&&typeof b!="number"&&Mr(u,p,b)&&(p=b=t),b=b===t?We:b>>>0,b?(u=Bt(u),u&&(typeof p=="string"||p!=null&&!n1(p))&&(p=ui(p),!p&&Ta(u))?Oa(m(u),0,b):u.split(p,b)):[]}var rA=Dl(function(u,p,b){return u+(b?" ":"")+s1(p)});function iA(u,p,b){return u=Bt(u),b=b==null?0:Oo(ut(b),0,u.length),p=ui(p),u.slice(b,b+p.length)==p}function sA(u,p,b){var A=Y.templateSettings;b&&Mr(u,p,b)&&(p=t),u=Bt(u),p=Nf({},p,A,ov);var B=Nf({},p.imports,A.imports,ov),$=ar(B),J=Aa(B,$),ne,oe,we=0,be=p.interpolate||Ht,Ne="__p += '",Oe=rt((p.escape||Ht).source+"|"+be.source+"|"+(be===Xn?Ea:Ht).source+"|"+(p.evaluate||Ht).source+"|$","g"),ze="//# sourceURL="+(bt.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fs+"]")+`
`;u.replace(Oe,function(Je,gt,_t,fi,Lr,hi){return _t||(_t=fi),Ne+=u.slice(we,hi).replace(Dd,Hd),gt&&(ne=!0,Ne+=`' +
__e(`+gt+`) +
'`),Lr&&(oe=!0,Ne+=`';
`+Lr+`;
__p += '`),_t&&(Ne+=`' +
((__t = (`+_t+`)) == null ? '' : __t) +
'`),we=hi+Je.length,Je}),Ne+=`';
`;var Ze=bt.call(p,"variable")&&p.variable;if(!Ze)Ne=`with (obj) {
`+Ne+`
}
`;else if(Lc.test(Ze))throw new pe(g);Ne=(oe?Ne.replace(Gi,""):Ne).replace(go,"$1").replace(Ad,"$1;"),Ne="function("+(Ze||"obj")+`) {
`+(Ze?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ne?", __e = _.escape":"")+(oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ne+`return __p
}`;var dt=Jv(function(){return ve($,ze+"return "+Ne).apply(t,J)});if(dt.source=Ne,t1(dt))throw dt;return dt}function aA(u){return Bt(u).toLowerCase()}function oA(u){return Bt(u).toUpperCase()}function lA(u,p,b){if(u=Bt(u),u&&(b||p===t))return Wd(u);if(!u||!(p=ui(p)))return u;var A=m(u),B=m(p),$=Gc(A,B),J=ci(A,B)+1;return Oa(A,$,J).join("")}function cA(u,p,b){if(u=Bt(u),u&&(b||p===t))return u.slice(0,y(u)+1);if(!u||!(p=ui(p)))return u;var A=m(u),B=ci(A,m(p))+1;return Oa(A,0,B).join("")}function uA(u,p,b){if(u=Bt(u),u&&(b||p===t))return u.replace(xo,"");if(!u||!(p=ui(p)))return u;var A=m(u),B=Gc(A,m(p));return Oa(A,B).join("")}function dA(u,p){var b=se,A=ce;if(xn(p)){var B="separator"in p?p.separator:B;b="length"in p?ut(p.length):b,A="omission"in p?ui(p.omission):A}u=Bt(u);var $=u.length;if(Ta(u)){var J=m(u);$=J.length}if(b>=$)return u;var ne=b-h(A);if(ne<1)return A;var oe=J?Oa(J,0,ne).join(""):u.slice(0,ne);if(B===t)return oe+A;if(J&&(ne+=oe.length-ne),n1(B)){if(u.slice(ne).search(B)){var we,be=oe;for(B.global||(B=rt(B.source,Bt(vo.exec(B))+"g")),B.lastIndex=0;we=B.exec(be);)var Ne=we.index;oe=oe.slice(0,Ne===t?ne:Ne)}}else if(u.indexOf(ui(B),ne)!=ne){var Oe=oe.lastIndexOf(B);Oe>-1&&(oe=oe.slice(0,Oe))}return oe+A}function fA(u){return u=Bt(u),u&&Td.test(u)?u.replace(At,C):u}var hA=Dl(function(u,p,b){return u+(b?" ":"")+p.toUpperCase()}),s1=ev("toUpperCase");function Zv(u,p,b){return u=Bt(u),p=b?t:p,p===t?Xc(u)?F(u):Us(u):u.match(p)||[]}var Jv=ft(function(u,p){try{return rr(u,t,p)}catch(b){return t1(b)?b:new pe(b)}}),pA=Ys(function(u,p){return Gr(p,function(b){b=xs(b),qs(u,b,Jp(u[b],u))}),u});function mA(u){var p=u==null?0:u.length,b=Qe();return u=p?nt(u,function(A){if(typeof A[1]!="function")throw new fn(d);return[b(A[0]),A[1]]}):[],ft(function(A){for(var B=-1;++B<p;){var $=u[B];if(rr($[0],this,A))return rr($[1],this,A)}})}function gA(u){return z_(Ii(u,E))}function a1(u){return function(){return u}}function xA(u,p){return u==null||u!==u?p:u}var vA=nv(),yA=nv(!0);function Kr(u){return u}function o1(u){return R2(typeof u=="function"?u:Ii(u,E))}function wA(u){return j2(Ii(u,E))}function bA(u,p){return M2(u,Ii(p,E))}var CA=ft(function(u,p){return function(b){return ru(b,u,p)}}),EA=ft(function(u,p){return function(b){return ru(u,b,p)}});function l1(u,p,b){var A=ar(p),B=sf(p,A);b==null&&!(xn(p)&&(B.length||!A.length))&&(b=p,p=u,u=this,B=sf(p,ar(p)));var $=!(xn(b)&&"chain"in b)||!!b.chain,J=$s(u);return Gr(B,function(ne){var oe=p[ne];u[ne]=oe,J&&(u.prototype[ne]=function(){var we=this.__chain__;if($||we){var be=u(this.__wrapped__),Ne=be.__actions__=$r(this.__actions__);return Ne.push({func:oe,args:arguments,thisArg:u}),be.__chain__=we,be}return oe.apply(u,li([this.value()],arguments))})}),u}function NA(){return qn._===this&&(qn._=QN),this}function c1(){}function _A(u){return u=ut(u),ft(function(p){return L2(p,u)})}var SA=Up(nt),AA=Up(Ud),TA=Up(Ge);function ey(u){return Gp(u)?Nl(xs(u)):i5(u)}function kA(u){return function(p){return u==null?t:jo(u,p)}}var DA=iv(),IA=iv(!0);function u1(){return[]}function d1(){return!1}function RA(){return{}}function OA(){return""}function jA(){return!0}function MA(u,p){if(u=ut(u),u<1||u>ue)return[];var b=We,A=Nr(u,We);p=Qe(p),u-=We;for(var B=Yc(A,p);++b<u;)p(b);return B}function LA(u){return at(u)?nt(u,xs):di(u)?[u]:$r(wv(Bt(u)))}function PA(u){var p=++vp;return Bt(u)+p}var FA=df(function(u,p){return u+p},0),BA=zp("ceil"),UA=df(function(u,p){return u/p},1),zA=zp("floor");function WA(u){return u&&u.length?rf(u,Kr,Sp):t}function HA(u,p){return u&&u.length?rf(u,Qe(p,2),Sp):t}function qA(u){return El(u,Kr)}function VA(u,p){return El(u,Qe(p,2))}function YA(u){return u&&u.length?rf(u,Kr,Dp):t}function GA(u,p){return u&&u.length?rf(u,Qe(p,2),Dp):t}var $A=df(function(u,p){return u*p},1),XA=zp("round"),QA=df(function(u,p){return u-p},0);function KA(u){return u&&u.length?So(u,Kr):0}function ZA(u,p){return u&&u.length?So(u,Qe(p,2)):0}return Y.after=w8,Y.ary=Iv,Y.assign=o6,Y.assignIn=Vv,Y.assignInWith=Nf,Y.assignWith=l6,Y.at=c6,Y.before=Rv,Y.bind=Jp,Y.bindAll=pA,Y.bindKey=Ov,Y.castArray=R8,Y.chain=Tv,Y.chunk=z5,Y.compact=W5,Y.concat=H5,Y.cond=mA,Y.conforms=gA,Y.constant=a1,Y.countBy=KS,Y.create=u6,Y.curry=jv,Y.curryRight=Mv,Y.debounce=Lv,Y.defaults=d6,Y.defaultsDeep=f6,Y.defer=b8,Y.delay=C8,Y.difference=q5,Y.differenceBy=V5,Y.differenceWith=Y5,Y.drop=G5,Y.dropRight=$5,Y.dropRightWhile=X5,Y.dropWhile=Q5,Y.fill=K5,Y.filter=JS,Y.flatMap=n8,Y.flatMapDeep=r8,Y.flatMapDepth=i8,Y.flatten=Nv,Y.flattenDeep=Z5,Y.flattenDepth=J5,Y.flip=E8,Y.flow=vA,Y.flowRight=yA,Y.fromPairs=eS,Y.functions=y6,Y.functionsIn=w6,Y.groupBy=s8,Y.initial=nS,Y.intersection=rS,Y.intersectionBy=iS,Y.intersectionWith=sS,Y.invert=C6,Y.invertBy=E6,Y.invokeMap=o8,Y.iteratee=o1,Y.keyBy=l8,Y.keys=ar,Y.keysIn=Qr,Y.map=vf,Y.mapKeys=_6,Y.mapValues=S6,Y.matches=wA,Y.matchesProperty=bA,Y.memoize=wf,Y.merge=A6,Y.mergeWith=Yv,Y.method=CA,Y.methodOf=EA,Y.mixin=l1,Y.negate=bf,Y.nthArg=_A,Y.omit=T6,Y.omitBy=k6,Y.once=N8,Y.orderBy=c8,Y.over=SA,Y.overArgs=_8,Y.overEvery=AA,Y.overSome=TA,Y.partial=e1,Y.partialRight=Pv,Y.partition=u8,Y.pick=D6,Y.pickBy=Gv,Y.property=ey,Y.propertyOf=kA,Y.pull=cS,Y.pullAll=Sv,Y.pullAllBy=uS,Y.pullAllWith=dS,Y.pullAt=fS,Y.range=DA,Y.rangeRight=IA,Y.rearg=S8,Y.reject=h8,Y.remove=hS,Y.rest=A8,Y.reverse=Kp,Y.sampleSize=m8,Y.set=R6,Y.setWith=O6,Y.shuffle=g8,Y.slice=pS,Y.sortBy=y8,Y.sortedUniq=bS,Y.sortedUniqBy=CS,Y.split=nA,Y.spread=T8,Y.tail=ES,Y.take=NS,Y.takeRight=_S,Y.takeRightWhile=SS,Y.takeWhile=AS,Y.tap=WS,Y.throttle=k8,Y.thru=xf,Y.toArray=Wv,Y.toPairs=$v,Y.toPairsIn=Xv,Y.toPath=LA,Y.toPlainObject=qv,Y.transform=j6,Y.unary=D8,Y.union=TS,Y.unionBy=kS,Y.unionWith=DS,Y.uniq=IS,Y.uniqBy=RS,Y.uniqWith=OS,Y.unset=M6,Y.unzip=Zp,Y.unzipWith=Av,Y.update=L6,Y.updateWith=P6,Y.values=Ol,Y.valuesIn=F6,Y.without=jS,Y.words=Zv,Y.wrap=I8,Y.xor=MS,Y.xorBy=LS,Y.xorWith=PS,Y.zip=FS,Y.zipObject=BS,Y.zipObjectDeep=US,Y.zipWith=zS,Y.entries=$v,Y.entriesIn=Xv,Y.extend=Vv,Y.extendWith=Nf,l1(Y,Y),Y.add=FA,Y.attempt=Jv,Y.camelCase=W6,Y.capitalize=Qv,Y.ceil=BA,Y.clamp=B6,Y.clone=O8,Y.cloneDeep=M8,Y.cloneDeepWith=L8,Y.cloneWith=j8,Y.conformsTo=P8,Y.deburr=Kv,Y.defaultTo=xA,Y.divide=UA,Y.endsWith=H6,Y.eq=Zi,Y.escape=q6,Y.escapeRegExp=V6,Y.every=ZS,Y.find=e8,Y.findIndex=Cv,Y.findKey=h6,Y.findLast=t8,Y.findLastIndex=Ev,Y.findLastKey=p6,Y.floor=zA,Y.forEach=kv,Y.forEachRight=Dv,Y.forIn=m6,Y.forInRight=g6,Y.forOwn=x6,Y.forOwnRight=v6,Y.get=r1,Y.gt=F8,Y.gte=B8,Y.has=b6,Y.hasIn=i1,Y.head=_v,Y.identity=Kr,Y.includes=a8,Y.indexOf=tS,Y.inRange=U6,Y.invoke=N6,Y.isArguments=Po,Y.isArray=at,Y.isArrayBuffer=U8,Y.isArrayLike=Xr,Y.isArrayLikeObject=Ln,Y.isBoolean=z8,Y.isBuffer=ja,Y.isDate=W8,Y.isElement=H8,Y.isEmpty=q8,Y.isEqual=V8,Y.isEqualWith=Y8,Y.isError=t1,Y.isFinite=G8,Y.isFunction=$s,Y.isInteger=Fv,Y.isLength=Cf,Y.isMap=Bv,Y.isMatch=$8,Y.isMatchWith=X8,Y.isNaN=Q8,Y.isNative=K8,Y.isNil=J8,Y.isNull=Z8,Y.isNumber=Uv,Y.isObject=xn,Y.isObjectLike=An,Y.isPlainObject=cu,Y.isRegExp=n1,Y.isSafeInteger=e6,Y.isSet=zv,Y.isString=Ef,Y.isSymbol=di,Y.isTypedArray=Rl,Y.isUndefined=t6,Y.isWeakMap=n6,Y.isWeakSet=r6,Y.join=aS,Y.kebabCase=Y6,Y.last=Oi,Y.lastIndexOf=oS,Y.lowerCase=G6,Y.lowerFirst=$6,Y.lt=i6,Y.lte=s6,Y.max=WA,Y.maxBy=HA,Y.mean=qA,Y.meanBy=VA,Y.min=YA,Y.minBy=GA,Y.stubArray=u1,Y.stubFalse=d1,Y.stubObject=RA,Y.stubString=OA,Y.stubTrue=jA,Y.multiply=$A,Y.nth=lS,Y.noConflict=NA,Y.noop=c1,Y.now=yf,Y.pad=X6,Y.padEnd=Q6,Y.padStart=K6,Y.parseInt=Z6,Y.random=z6,Y.reduce=d8,Y.reduceRight=f8,Y.repeat=J6,Y.replace=eA,Y.result=I6,Y.round=XA,Y.runInContext=U,Y.sample=p8,Y.size=x8,Y.snakeCase=tA,Y.some=v8,Y.sortedIndex=mS,Y.sortedIndexBy=gS,Y.sortedIndexOf=xS,Y.sortedLastIndex=vS,Y.sortedLastIndexBy=yS,Y.sortedLastIndexOf=wS,Y.startCase=rA,Y.startsWith=iA,Y.subtract=QA,Y.sum=KA,Y.sumBy=ZA,Y.template=sA,Y.times=MA,Y.toFinite=Xs,Y.toInteger=ut,Y.toLength=Hv,Y.toLower=aA,Y.toNumber=ji,Y.toSafeInteger=a6,Y.toString=Bt,Y.toUpper=oA,Y.trim=lA,Y.trimEnd=cA,Y.trimStart=uA,Y.truncate=dA,Y.unescape=fA,Y.uniqueId=PA,Y.upperCase=hA,Y.upperFirst=s1,Y.each=kv,Y.eachRight=Dv,Y.first=_v,l1(Y,function(){var u={};return ms(Y,function(p,b){bt.call(Y.prototype,b)||(u[b]=p)}),u}(),{chain:!1}),Y.VERSION=r,Gr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Y[u].placeholder=Y}),Gr(["drop","take"],function(u,p){Ct.prototype[u]=function(b){b=b===t?1:Jn(ut(b),0);var A=this.__filtered__&&!p?new Ct(this):this.clone();return A.__filtered__?A.__takeCount__=Nr(b,A.__takeCount__):A.__views__.push({size:Nr(b,We),type:u+(A.__dir__<0?"Right":"")}),A},Ct.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),Gr(["filter","map","takeWhile"],function(u,p){var b=p+1,A=b==he||b==xe;Ct.prototype[u]=function(B){var $=this.clone();return $.__iteratees__.push({iteratee:Qe(B,3),type:b}),$.__filtered__=$.__filtered__||A,$}}),Gr(["head","last"],function(u,p){var b="take"+(p?"Right":"");Ct.prototype[u]=function(){return this[b](1).value()[0]}}),Gr(["initial","tail"],function(u,p){var b="drop"+(p?"":"Right");Ct.prototype[u]=function(){return this.__filtered__?new Ct(this):this[b](1)}}),Ct.prototype.compact=function(){return this.filter(Kr)},Ct.prototype.find=function(u){return this.filter(u).head()},Ct.prototype.findLast=function(u){return this.reverse().find(u)},Ct.prototype.invokeMap=ft(function(u,p){return typeof u=="function"?new Ct(this):this.map(function(b){return ru(b,u,p)})}),Ct.prototype.reject=function(u){return this.filter(bf(Qe(u)))},Ct.prototype.slice=function(u,p){u=ut(u);var b=this;return b.__filtered__&&(u>0||p<0)?new Ct(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),p!==t&&(p=ut(p),b=p<0?b.dropRight(-p):b.take(p-u)),b)},Ct.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Ct.prototype.toArray=function(){return this.take(We)},ms(Ct.prototype,function(u,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),A=/^(?:head|last)$/.test(p),B=Y[A?"take"+(p=="last"?"Right":""):p],$=A||/^find/.test(p);B&&(Y.prototype[p]=function(){var J=this.__wrapped__,ne=A?[1]:arguments,oe=J instanceof Ct,we=ne[0],be=oe||at(J),Ne=function(gt){var _t=B.apply(Y,li([gt],ne));return A&&Oe?_t[0]:_t};be&&b&&typeof we=="function"&&we.length!=1&&(oe=be=!1);var Oe=this.__chain__,ze=!!this.__actions__.length,Ze=$&&!Oe,dt=oe&&!ze;if(!$&&be){J=dt?J:new Ct(this);var Je=u.apply(J,ne);return Je.__actions__.push({func:xf,args:[Ne],thisArg:t}),new Di(Je,Oe)}return Ze&&dt?u.apply(this,ne):(Je=this.thru(Ne),Ze?A?Je.value()[0]:Je.value():Je)})}),Gr(["pop","push","shift","sort","splice","unshift"],function(u){var p=Zn[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",A=/^(?:pop|shift)$/.test(u);Y.prototype[u]=function(){var B=arguments;if(A&&!this.__chain__){var $=this.value();return p.apply(at($)?$:[],B)}return this[b](function(J){return p.apply(at(J)?J:[],B)})}}),ms(Ct.prototype,function(u,p){var b=Y[p];if(b){var A=b.name+"";bt.call(Al,A)||(Al[A]=[]),Al[A].push({name:p,func:b})}}),Al[uf(t,I).name]=[{name:"wrapper",func:t}],Ct.prototype.clone=f_,Ct.prototype.reverse=h_,Ct.prototype.value=p_,Y.prototype.at=HS,Y.prototype.chain=qS,Y.prototype.commit=VS,Y.prototype.next=YS,Y.prototype.plant=$S,Y.prototype.reverse=XS,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=QS,Y.prototype.first=Y.prototype.head,Qc&&(Y.prototype[Qc]=GS),Y},Z=H();Bs?((Bs.exports=Z)._=Z,Hc._=Z):qn._=Z}).call(Ns)})(gh,gh.exports);var hF=gh.exports;const pF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),mF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),gF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),xF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),vF=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),yF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),Z1=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),Fb=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})}),wF=({equipmentData:e,onFilterChange:n,currentFilters:t,isLoading:r})=>{const a=(()=>{if(!e||e.length===0)return{status:{},categories:{},types:{},locations:{},brands:{},models:{}};const S={status:{},categories:{},types:{},locations:{},brands:{},models:{}};return e.forEach(R=>{const j=R.status||"unknown";S.status[j]=(S.status[j]||0)+1;const I=R.category||"Uncategorized";S.categories[I]=(S.categories[I]||0)+1;const D=R.type||"Unknown";S.types[D]=(S.types[D]||0)+1;const O=R.location||"No Location";S.locations[O]=(S.locations[O]||0)+1;const q=R.brand||"Unknown";S.brands[q]=(S.brands[q]||0)+1;const Q=R.model||"Unknown";S.models[Q]=(S.models[Q]||0)+1}),S})(),d=S=>{switch(S){case"available":return"text-green-700 bg-green-100 border-green-200";case"in-use":return"text-yellow-700 bg-yellow-100 border-yellow-200";case"maintenance":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},g=(S,R)=>{switch(S){case"status":return t.status===R;case"category":return t.category===R;case"type":return t.type===R;case"location":return t.location===R;case"brand":return t.brand===R;case"model":return t.model===R;default:return!1}},v=(S,R)=>{const j={};g(S,R)?j[S]="":j[S]=R,n(j)},x=(S,R,j,I)=>{const D=Object.entries(R).sort((O,q)=>q[1]-O[1]);return D.length===0?null:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[c.jsx("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200",children:c.jsxs("h3",{className:"text-sm font-semibold text-slate-800 flex items-center gap-2",children:[I,S]})}),c.jsx("div",{className:"divide-y divide-slate-100",children:D.map(([O,q])=>{const Q=g(j,O);return c.jsx("button",{onClick:()=>v(j,O),className:`w-full px-4 py-3 text-left hover:bg-slate-50 transition-colors ${Q?"bg-blue-50 border-l-4 border-blue-500":""}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[j==="status"&&c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${d(O)}`,children:O}),j!=="status"&&c.jsx("span",{className:"text-sm font-medium text-slate-800 capitalize",children:O})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`text-sm font-semibold ${Q?"text-blue-700":"text-slate-600"}`,children:q}),Q&&c.jsx("svg",{className:"h-4 w-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})]})},O)})})]})};if(r)return c.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(S=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-4",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-3"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-3 bg-slate-200 rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"}),c.jsx("div",{className:"h-3 bg-slate-200 rounded w-2/3"})]})]})},S))});const E=(()=>!e||e.length===0?[]:e.filter(S=>!(t.status&&S.status!==t.status||t.category&&S.category!==t.category||t.type&&S.type!==t.type||t.location&&S.location!==t.location||t.brand&&S.brand!==t.brand||t.model&&S.model!==t.model||t.search&&!`${S.brand} ${S.model} ${S.serial_number} ${S.type} ${S.category}`.toLowerCase().includes(t.search.toLowerCase()))))(),_=Object.values(t).some(S=>S&&(typeof S=="string"?S.trim()!=="":!0)),k=()=>!_||E.length===0?null:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 px-4 py-3 border-b border-slate-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[c.jsx("svg",{className:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v6a2 2 0 002 2h2m0-8h2m-2 0V3m0 2v2m2-2h2a2 2 0 012 2v6a2 2 0 01-2 2h-2m0 0v2a2 2 0 01-2 2H9a2 2 0 01-2-2v-2m2 0h2"})}),"Filtered Equipment (",E.length," items)"]}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(t).map(([S,R])=>!R||S==="dateRange"||typeof R=="string"&&R.trim()===""?null:c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[c.jsxs("span",{className:"capitalize",children:[S,":"]}),c.jsx("span",{className:"font-medium",children:R}),c.jsx("button",{onClick:j=>{j.stopPropagation(),n({[S]:""})},className:"ml-1 hover:bg-blue-200 rounded-full p-0.5",children:c.jsx("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},S))})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-sm text-slate-600",children:[E.length," of ",e.length," total"]}),c.jsx("p",{className:"text-xs text-slate-500",children:"Click items to view details"})]})]})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.jsx("div",{className:"divide-y divide-slate-100",children:E.map((S,R)=>c.jsx("div",{className:"p-4 hover:bg-slate-50 cursor-pointer transition-colors",onClick:()=>window.location.href=`/equipment/${S.id}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:S.images&&S.images.length>0?c.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:`${{}.VITE_API_URL}/uploads/${S.images[0]}`,alt:`${S.brand} ${S.model}`}):c.jsx("div",{className:"h-12 w-12 rounded-lg bg-slate-200 flex items-center justify-center",children:c.jsx("svg",{className:"h-6 w-6 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-semibold text-slate-800",children:[S.brand," ",S.model]}),c.jsxs("p",{className:"text-sm text-slate-600",children:[S.type,"  SN: ",S.serial_number]}),S.location&&c.jsxs("p",{className:"text-xs text-slate-500",children:[" ",S.location]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${d(S.status)}`,children:S.status}),c.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},S.id))})}),E.length>10&&c.jsx("div",{className:"bg-slate-50 px-4 py-2 text-center",children:c.jsxs("p",{className:"text-xs text-slate-500",children:["Showing ",Math.min(10,E.length)," of ",E.length," items"]})})]});return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-lg font-semibold text-blue-800 mb-2 flex items-center gap-2",children:[c.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filter Summary View"]}),c.jsx("p",{className:"text-sm text-blue-700",children:"Click on any item below to filter the equipment list. Active filters are highlighted."})]}),_&&c.jsxs("button",{onClick:()=>n({status:"",category:"",type:"",location:"",brand:"",model:"",search:"",dateRange:{startDate:null,endDate:null}}),className:"px-4 py-2 bg-white border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 transition-colors flex items-center gap-2 text-sm font-medium",children:[c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear All Filters"]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[x("Status",a.status,"status",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})),x("Categories",a.categories,"category",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})),x("Types",a.types,"type",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.99 1.99 0 013 12V7a4 4 0 014-4z"})})),x("Locations",a.locations,"location",c.jsxs("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})),x("Brands",a.brands,"brand",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})),x("Models",a.models,"model",c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v6a2 2 0 002 2h2m0-8h2m-2 0V3m0 2v2m2-2h2a2 2 0 012 2v6a2 2 0 01-2 2h-2m0 0v2a2 2 0 01-2 2H9a2 2 0 01-2-2v-2m2 0h2"})}))]}),k()]})},bF=({equipmentData:e,onFilterChange:n,currentFilters:t,isLoading:r})=>{const a=(()=>{if(!e||e.length===0)return{total:0,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0};const v={total:e.length,available:0,inUse:0,maintenance:0,categories:{},types:{},locations:{},brands:{},recentlyAdded:0},x=new Date;return x.setDate(x.getDate()-7),e.forEach(w=>{w.status==="available"?v.available++:w.status==="in-use"?v.inUse++:w.status==="maintenance"&&v.maintenance++;const E=w.category||"Uncategorized";v.categories[E]=(v.categories[E]||0)+1;const _=w.type||"Unknown";v.types[_]=(v.types[_]||0)+1;const k=w.location||"No Location";v.locations[k]=(v.locations[k]||0)+1;const S=w.brand||"Unknown";v.brands[S]=(v.brands[S]||0)+1,new Date(w.created_at)>x&&v.recentlyAdded++}),v})(),d=[{title:"Total Equipment",value:a.total,icon:c.jsx(Fb,{}),color:"blue",filter:{status:""},description:"All equipment in system"},{title:"Available",value:a.available,icon:c.jsx(Z1,{}),color:"green",filter:{status:"available"},description:"Ready for use"},{title:"In Use",value:a.inUse,icon:c.jsx(Z1,{}),color:"yellow",filter:{status:"in-use"},description:"Currently deployed"},{title:"Maintenance",value:a.maintenance,icon:c.jsx(Z1,{}),color:"red",filter:{status:"maintenance"},description:"Under repair"}],g=(v,x=!1)=>{const w={blue:{bg:x?"bg-blue-100 border-blue-500":"bg-blue-50 hover:bg-blue-100",text:"text-blue-700",border:"border-l-4 border-blue-500",icon:"text-blue-600"},green:{bg:x?"bg-green-100 border-green-500":"bg-green-50 hover:bg-green-100",text:"text-green-700",border:"border-l-4 border-green-500",icon:"text-green-600"},yellow:{bg:x?"bg-yellow-100 border-yellow-500":"bg-yellow-50 hover:bg-yellow-100",text:"text-yellow-700",border:"border-l-4 border-yellow-500",icon:"text-yellow-600"},red:{bg:x?"bg-red-100 border-red-500":"bg-red-50 hover:bg-red-100",text:"text-red-700",border:"border-l-4 border-red-500",icon:"text-red-600"}};return w[v]||w.blue};return c.jsxs("div",{className:"space-y-6 mb-6",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[c.jsx(Fb,{}),"Equipment Analytics"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map((v,x)=>{const w=t.status===v.filter.status,E=g(v.color,w);return c.jsx("button",{onClick:()=>n(v.filter),className:`${E.bg} ${E.border} p-4 rounded-lg transition-all duration-200 hover:shadow-md cursor-pointer text-left group ${w?"ring-2 ring-offset-2 ring-blue-500":""}`,title:`Filter by ${v.title.toLowerCase()}: ${v.description}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:`text-sm font-medium ${E.text} mb-1`,children:v.title}),c.jsx("p",{className:`text-2xl font-bold ${E.text}`,children:r?"...":v.value.toLocaleString()}),c.jsx("p",{className:`text-xs ${E.text} opacity-75 mt-1`,children:v.description})]}),c.jsx("div",{className:`${E.icon} group-hover:scale-110 transition-transform`,children:v.icon})]})},x)})})]}),c.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-4",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.brands).length}),c.jsx("p",{className:"text-sm text-primary-600",children:"Brands"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.types).length}),c.jsx("p",{className:"text-sm text-primary-600",children:"Types"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-primary-700",children:Object.keys(a.locations).length}),c.jsx("p",{className:"text-sm text-primary-600",children:"Locations"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-green-700",children:a.recentlyAdded}),c.jsx("p",{className:"text-sm text-green-600",children:"Added This Week"})]})]})})]})},CF=({equipment:e,canEdit:n,searchTerm:t})=>{const[r,s]=L.useState(!1);let a=null;if(e.reference_image_id)a=th(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const v=e.files.find(x=>x.file_type==="image");v&&(a=th(v.id,!0))}const d=v=>{switch(v){case"available":return c.jsx($o,{variant:"success",children:v});case"in-use":return c.jsx($o,{variant:"info",children:v});case"maintenance":return c.jsx($o,{variant:"warning",children:v});default:return c.jsx($o,{children:v})}},g=(v,x)=>{if(!x||!v)return v;const w=new RegExp(`(${x})`,"gi");return v.split(w).map((_,k)=>w.test(_)?c.jsx("span",{className:"bg-yellow-200 font-medium",children:_},k):_)};return c.jsxs($t,{className:"h-full transition-all duration-300 hover:shadow-lg hover:scale-[1.02] relative",children:[c.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[a?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:c.jsx("img",{src:a,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):c.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:c.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})}),r&&c.jsxs("div",{className:"absolute inset-0 bg-slate-900 bg-opacity-80 p-4 text-white overflow-y-auto",children:[c.jsxs("h4",{className:"font-medium",children:[e.brand," ",e.model]}),c.jsx("p",{className:"text-sm mt-1",children:e.description||"No description available"}),c.jsxs("p",{className:"text-sm mt-2",children:["Serial: ",e.serial_number]}),c.jsxs("p",{className:"text-sm",children:["Location: ",e.location||"Not specified"]})]})]}),c.jsxs($t.Body,{children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&c.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),d(e.status)]}),c.jsx("h2",{className:"text-lg font-semibold mb-1",children:t?c.jsxs(c.Fragment,{children:[g(e.brand,t)," ",g(e.model,t)]}):`${e.brand} ${e.model}`}),c.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",t?g(e.serial_number,t):e.serial_number]}),c.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[c.jsxs(Br,{to:`/equipment/${e.id}`,className:"text-primary-600 hover:text-primary-800 flex items-center gap-1",children:[c.jsx(vF,{})," View"]}),n&&c.jsxs(Br,{to:`/equipment/${e.id}/edit`,className:"text-slate-600 hover:text-slate-800 flex items-center gap-1",children:[c.jsx(xF,{})," Edit"]})]})]})]})},EF=()=>c.jsxs("div",{className:"bg-white rounded-lg shadow-soft overflow-hidden h-full animate-pulse",children:[c.jsx("div",{className:"h-40 bg-slate-200"}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-2"})]}),c.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2 mb-4"}),c.jsxs("div",{className:"border-t border-slate-100 pt-2 flex justify-between",children:[c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"}),c.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]})]})]}),NF=({search:e,onApply:n,onDelete:t})=>c.jsxs("div",{className:"inline-flex items-center bg-primary-50 text-primary-700 rounded-full px-3 py-1 text-sm mr-2 mb-2",children:[c.jsx("button",{onClick:()=>n(e),className:"mr-1 hover:text-primary-900","aria-label":`Apply saved search: ${e.name}`,children:e.name}),c.jsx("button",{onClick:()=>t(e.id),className:"ml-1 text-primary-400 hover:text-primary-700","aria-label":`Delete saved search: ${e.name}`,children:c.jsx(gF,{className:"w-4 h-4"})})]}),Bb=()=>{var Hn,yt,$n,dr;const{user:e,canEditEquipment:n}=cr(),t=nr(),r=L.useRef(null),[s,a]=L.useState({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),[d,g]=L.useState(""),[v,x]=L.useState(!1),[w,E]=L.useState(!1),[_,k]=L.useState("updated_at"),[S,R]=L.useState("desc"),[j,I]=L.useState(""),[D,O]=L.useState(!1),{data:q,fetchNextPage:Q,hasNextPage:z,isFetchingNextPage:P,isLoading:V,isError:W,error:se}=WC(["equipment",s,_,S],async({pageParam:ke=1})=>{const $e={page:ke,limit:20,...s,sortBy:_,sortOrder:S};return s.dateRange&&s.dateRange.startDate&&s.dateRange.endDate&&($e.startDate=s.dateRange.startDate.toISOString(),$e.endDate=s.dateRange.endDate.toISOString()),Fu($e)},{getNextPageParam:ke=>{if(ke.page<ke.totalPages)return ke.page+1},keepPreviousData:!0}),{data:ce,isLoading:ae}=Lt(["equipment-suggestions",d],()=>Fu({search:d,limit:5}),{enabled:!!d&&d.length>2,keepPreviousData:!0}),{data:ie}=Lt(["saved-searches"],P9,{enabled:n()}),{data:he=[]}=Lt({queryKey:["equipmentTypes"],queryFn:wa}),{data:ee=[]}=Lt({queryKey:["categories"],queryFn:Rc}),{data:xe}=Lt(["equipment-analytics"],()=>Fu({limit:1e4}),{keepPreviousData:!0}),ge=L.useCallback(hF.debounce(ke=>{g(ke)},300),[]),ue=ke=>{const $e=ke.target.value;a(et=>({...et,search:$e})),ge($e),$e.length>2?x(!0):x(!1)},_e=ke=>{const{name:$e,value:et}=ke.target;a(Tt=>({...Tt,[$e]:et}))},Re=ke=>{const[$e,et]=ke;a(Tt=>({...Tt,dateRange:{startDate:$e,endDate:et}}))},We=()=>{a({search:"",type:"",category:"",status:"",location:"",dateRange:{startDate:null,endDate:null}}),g(""),x(!1)},tt=ke=>{a($e=>({...$e,...ke,dateRange:$e.dateRange||{startDate:null,endDate:null}}))},Rn=async()=>{if(!j.trim()){ct.error("Please enter a name for your saved search");return}try{await F9({name:j,filters:JSON.stringify(s),sortBy:_,sortOrder:S}),t.invalidateQueries(["saved-searches"]),I(""),O(!1),ct.success("Search saved successfully")}catch(ke){ct.error("Failed to save search"),console.error("Save search error:",ke)}},vt=ke=>{try{const $e=JSON.parse(ke.filters);a($e),k(ke.sortBy||"updated_at"),R(ke.sortOrder||"desc"),ct.info(`Applied saved search: ${ke.name}`)}catch($e){ct.error("Failed to apply saved search"),console.error("Apply saved search error:",$e)}},On=async ke=>{try{await B9(ke),t.invalidateQueries(["saved-searches"]),ct.success("Search deleted successfully")}catch($e){ct.error("Failed to delete search"),console.error("Delete saved search error:",$e)}};L.useEffect(()=>{const ke=new IntersectionObserver(et=>{et[0].isIntersecting&&z&&!P&&Q()},{threshold:.5}),$e=r.current;return $e&&ke.observe($e),()=>{$e&&ke.unobserve($e)}},[r,Q,z,P]);const De=(q==null?void 0:q.pages.flatMap(ke=>ke.equipment))||[];return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Wx,{position:"top-right",autoClose:3e3}),c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Dashboard"})}),c.jsx(bF,{equipmentData:(xe==null?void 0:xe.equipment)||[],onFilterChange:tt,currentFilters:s,isLoading:V}),c.jsx("div",{className:"sticky top-16 z-20 bg-slate-50 pt-4 pb-2 shadow-sm",children:c.jsxs("div",{className:"relative",children:[c.jsx(Kt,{id:"search",name:"search",placeholder:"Search equipment by brand, model, serial number...",value:s.search,onChange:ue,icon:c.jsx(pF,{}),className:"rounded-full shadow-md","aria-label":"Search equipment catalog"}),v&&((Hn=ce==null?void 0:ce.equipment)==null?void 0:Hn.length)>0&&c.jsx("div",{className:"absolute z-30 left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-slate-200 max-h-80 overflow-y-auto",children:ce.equipment.map(ke=>c.jsxs(Br,{to:`/equipment/${ke.id}`,className:"block px-4 py-2 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[c.jsxs("div",{className:"font-medium",children:[ke.brand," ",ke.model]}),c.jsxs("div",{className:"text-sm text-slate-500",children:[ke.type,"  SN: ",ke.serial_number]})]},ke.id))}),c.jsxs("div",{className:"flex mt-2 gap-2",children:[Object.values(s).some(ke=>ke&&(typeof ke=="string"?ke.trim()!=="":!0))&&c.jsxs(qe,{variant:"outline",size:"sm",onClick:We,className:"flex items-center gap-1 text-slate-600",children:[c.jsx(yF,{}),c.jsx("span",{children:"Clear Filters"})]}),c.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>E(!w),className:"flex items-center gap-1","aria-expanded":w,"aria-controls":"advanced-research-panel",children:[c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),c.jsx("span",{children:w?"Hide Advanced Research":"Show Advanced Research"})]})]})]})}),c.jsx("div",{id:"advanced-research-panel",className:`transition-all duration-300 overflow-hidden ${w?"max-h-none opacity-100":"max-h-0 opacity-0"}`,children:c.jsxs("div",{className:"space-y-6 mt-4",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-4",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Sort Options"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Sort by:"}),c.jsx(ia,{id:"sort",name:"sort",value:`${_}-${S}`,onChange:ke=>{const[$e,et]=ke.target.value.split("-");k($e),R(et)},options:[{value:"updated_at-desc",label:"Newest First"},{value:"updated_at-asc",label:"Oldest First"},{value:"brand-asc",label:"Brand (A-Z)"},{value:"brand-desc",label:"Brand (Z-A)"},{value:"model-asc",label:"Model (A-Z)"},{value:"model-desc",label:"Model (Z-A)"}],className:"w-48"})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-4",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Advanced Filters"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(ia,{id:"category",name:"category",label:"Category",value:s.category,onChange:_e,options:[{value:"",label:"All Categories"},...(ee||[]).map(ke=>({value:ke.name,label:ke.name}))]}),c.jsx(ia,{id:"type",name:"type",label:"Equipment Type",value:s.type,onChange:_e,options:[{value:"",label:"All Types"},...(he||[]).map(ke=>({value:ke.name,label:ke.name}))]}),c.jsx(ia,{id:"status",name:"status",label:"Status",value:s.status,onChange:_e,options:[{value:"",label:"All Statuses"},{value:"available",label:"Available"},{value:"in-use",label:"In Use"},{value:"maintenance",label:"Maintenance"}]}),c.jsx(Kt,{id:"location",name:"location",label:"Location",placeholder:"Filter by location",value:s.location,onChange:_e}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),c.jsx(dF,{selectsRange:!0,startDate:((yt=s.dateRange)==null?void 0:yt.startDate)||null,endDate:(($n=s.dateRange)==null?void 0:$n.endDate)||null,onChange:Re,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white shadow-sm",placeholderText:"Select date range",isClearable:!0})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-4",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800 mb-4",children:"Filter Summary & Equipment Browser"}),c.jsx(wF,{equipmentData:(xe==null?void 0:xe.equipment)||[],onFilterChange:tt,currentFilters:s,isLoading:V})]}),n()&&c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Saved Searches"}),D?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Kt,{id:"savedSearchName",name:"savedSearchName",placeholder:"Enter search name",value:j,onChange:ke=>I(ke.target.value),className:"w-48"}),c.jsx(qe,{variant:"primary",size:"sm",onClick:Rn,children:"Save"}),c.jsx(qe,{variant:"outline",size:"sm",onClick:()=>{O(!1),I("")},children:"Cancel"})]}):c.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>O(!0),className:"flex items-center gap-1",children:[c.jsx(mF,{}),c.jsx("span",{children:"Save Current Search"})]})]}),c.jsx("div",{className:"flex flex-wrap",children:((dr=ie==null?void 0:ie.searches)==null?void 0:dr.length)>0?ie.searches.map(ke=>c.jsx(NF,{search:ke,onApply:vt,onDelete:On},ke.id)):c.jsx("p",{className:"text-slate-500 text-sm",children:"No saved searches yet. Save your current search to access it quickly later."})})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-4 mb-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-medium text-slate-800",children:"Equipment Results"}),c.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[De.length," items found"]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx("div",{className:"text-sm text-slate-600 bg-slate-100 px-3 py-1 rounded-full",children:"Card View"})})]})}),"      ",c.jsx("div",{children:V?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((ke,$e)=>c.jsx(EF,{},$e))}):W?c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(se==null?void 0:se.message)||"Failed to load equipment data. Please try again."})})]})]})}):De.length===0?c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[c.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-800",children:"No equipment found"}),c.jsx("p",{className:"mt-2 text-slate-500",children:"Try adjusting your search or filter criteria to find what you're looking for."}),c.jsx(qe,{variant:"outline",className:"mt-4",onClick:We,children:"Clear All Filters"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:De.map(ke=>c.jsx(CF,{equipment:ke,canEdit:n(),searchTerm:s.search},ke.id))}),c.jsx("div",{ref:r,className:"py-4 text-center",children:P?c.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),c.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):z?c.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):c.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})})]})},_F=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),SF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),AF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),TF=()=>{const{isAdmin:e}=cr(),n=nr(),[t,r]=L.useState(""),[s,a]=L.useState(null),[d,g]=L.useState(""),[v,x]=L.useState(""),{data:w,isLoading:E,isError:_}=Lt({queryKey:["equipmentTypes"],queryFn:wa}),k=Wn({mutationFn:UO,onSuccess:()=>{n.invalidateQueries(["equipmentTypes"]),r(""),x("")},onError:Q=>{var z,P;x(((P=(z=Q.response)==null?void 0:z.data)==null?void 0:P.message)||"Failed to create equipment type")}}),S=Wn({mutationFn:({id:Q,name:z})=>zO(Q,z),onSuccess:()=>{n.invalidateQueries(["equipmentTypes"]),a(null),g(""),x("")},onError:Q=>{var z,P;x(((P=(z=Q.response)==null?void 0:z.data)==null?void 0:P.message)||"Failed to update equipment type")}}),R=Wn({mutationFn:WO,onSuccess:()=>{n.invalidateQueries(["equipmentTypes"]),x("")},onError:Q=>{var z,P;x(((P=(z=Q.response)==null?void 0:z.data)==null?void 0:P.message)||"Failed to delete equipment type")}}),j=Q=>{if(Q.preventDefault(),!t.trim()){x("Type name is required");return}k.mutate(t),document.getElementById("addTypeModal").style.display="none"},I=Q=>{a(Q),g(Q.name)},D=()=>{if(!d.trim()){x("Type name is required");return}S.mutate({id:s.id,name:d})},O=()=>{a(null),g("")},q=Q=>{window.confirm("Are you sure you want to delete this equipment type?")&&R.mutate(Q)};return e()?c.jsxs("div",{className:"space-y-6",children:[v&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:c.jsx("span",{children:v})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Types"}),c.jsxs(qe,{variant:"primary",onClick:()=>{r(""),document.getElementById("addTypeModal").style.display="block"},className:"flex items-center gap-2",children:[c.jsx(AF,{}),"Add Type"]})]}),c.jsx($t,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Name"}),c.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:E?c.jsx("tr",{children:c.jsx("td",{colSpan:"2",className:"table-cell text-center py-4",children:c.jsx("div",{className:"flex justify-center items-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):_?c.jsx("tr",{children:c.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-red-600",children:"Error loading equipment types. Please try again."})}):w&&w.length>0?w.map(Q=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:Q.name}),c.jsx("td",{className:"table-cell text-right",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsxs(qe,{onClick:()=>I(Q),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[c.jsx(_F,{}),"Edit"]}),c.jsxs(qe,{onClick:()=>q(Q.id),variant:"danger",size:"sm",disabled:R.isLoading&&R.variables===Q.id,className:"flex items-center gap-1",children:[c.jsx(SF,{}),R.isLoading&&R.variables===Q.id?"Deleting...":"Delete"]})]})})]},Q.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"2",className:"table-cell text-center py-4 text-slate-500",children:"No equipment types found"})})})]})})}),c.jsx("div",{className:"modal-backdrop",id:"addTypeModal",style:{display:"none"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Add Equipment Type"}),c.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:""})]}),c.jsxs("form",{onSubmit:j,children:[c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"space-y-4",children:c.jsx(Kt,{id:"newTypeName",name:"newTypeName",type:"text",label:"Type Name",value:t,onChange:Q=>r(Q.target.value),placeholder:"Enter equipment type name",required:!0})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(qe,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addTypeModal").style.display="none",children:"Cancel"}),c.jsx(qe,{type:"submit",variant:"primary",disabled:k.isLoading,className:"flex items-center gap-2",children:k.isLoading?"Adding...":"Add Type"})]})]})]})}),s&&c.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Equipment Type"}),c.jsx("button",{className:"modal-close",onClick:O,children:""})]}),c.jsxs("form",{onSubmit:Q=>{Q.preventDefault(),D()},children:[c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"space-y-4",children:c.jsx(Kt,{id:"editTypeName",name:"editTypeName",type:"text",label:"Type Name",value:d,onChange:Q=>g(Q.target.value),required:!0})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(qe,{type:"button",variant:"secondary",onClick:O,children:"Cancel"}),c.jsx(qe,{type:"submit",variant:"primary",disabled:S.isLoading,className:"flex items-center gap-2",children:S.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4 rounded",children:c.jsx("p",{children:"Only administrators can manage equipment types."})})},kF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),DF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),IF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),RF=()=>{const{isAdmin:e}=cr(),n=nr(),[t,r]=L.useState(""),[s,a]=L.useState(""),[d,g]=L.useState(null),[v,x]=L.useState(""),[w,E]=L.useState(""),[_,k]=L.useState(""),{data:S,isLoading:R,isError:j}=Lt({queryKey:["categories"],queryFn:Rc}),I=Wn({mutationFn:({name:W,description:se})=>U9(W,se),onSuccess:()=>{n.invalidateQueries(["categories"]),r(""),a(""),k("")},onError:W=>{var se,ce;k(((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||"Failed to create category")}}),D=Wn({mutationFn:({id:W,name:se,description:ce})=>z9(W,se,ce),onSuccess:()=>{n.invalidateQueries(["categories"]),g(null),x(""),E(""),k("")},onError:W=>{var se,ce;k(((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||"Failed to update category")}}),O=Wn({mutationFn:W9,onSuccess:()=>{n.invalidateQueries(["categories"]),k("")},onError:W=>{var se,ce;k(((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||"Failed to delete category")}}),q=W=>{if(W.preventDefault(),!t.trim()){k("Category name is required");return}I.mutate({name:t,description:s}),document.getElementById("addCategoryModal").style.display="none"},Q=W=>{g(W),x(W.name),E(W.description||"")},z=()=>{if(!v.trim()){k("Category name is required");return}D.mutate({id:d.id,name:v,description:w})},P=()=>{g(null),x(""),E("")},V=W=>{window.confirm("Are you sure you want to delete this category?")&&O.mutate(W)};return e()?c.jsxs("div",{className:"space-y-6",children:[_&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:c.jsx("p",{children:_})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Equipment Categories"}),c.jsxs(qe,{variant:"primary",onClick:()=>{r(""),a(""),document.getElementById("addCategoryModal").style.display="block"},className:"flex items-center gap-2",children:[c.jsx(IF,{}),"Add Category"]})]}),c.jsx($t,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Name"}),c.jsx("th",{className:"table-header-cell",children:"Description"}),c.jsx("th",{className:"table-header-cell text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:R?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center py-4",children:c.jsx("div",{className:"flex justify-center items-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})})})}):j?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-red-600",children:"Error loading categories. Please try again."})}):S&&S.length>0?S.map(W=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:W.name}),c.jsx("td",{className:"table-cell",children:W.description||"-"}),c.jsx("td",{className:"table-cell text-right",children:c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsxs(qe,{onClick:()=>Q(W),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[c.jsx(kF,{}),"Edit"]}),c.jsxs(qe,{onClick:()=>V(W.id),variant:"danger",size:"sm",disabled:O.isLoading&&O.variables===W.id,className:"flex items-center gap-1",children:[c.jsx(DF,{}),O.isLoading&&O.variables===W.id?"Deleting...":"Delete"]})]})})]},W.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center py-4 text-slate-500",children:"No categories found"})})})]})})}),c.jsx("div",{className:"modal-backdrop",id:"addCategoryModal",style:{display:"none"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Add Category"}),c.jsx("button",{className:"modal-close",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:""})]}),c.jsxs("form",{onSubmit:q,children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Kt,{id:"newCategoryName",name:"newCategoryName",type:"text",label:"Category Name",value:t,onChange:W=>r(W.target.value),placeholder:"Enter category name",required:!0}),c.jsx(Kt,{id:"newCategoryDescription",name:"newCategoryDescription",type:"text",label:"Description (optional)",value:s,onChange:W=>a(W.target.value),placeholder:"Enter category description"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(qe,{type:"button",variant:"secondary",onClick:()=>document.getElementById("addCategoryModal").style.display="none",children:"Cancel"}),c.jsx(qe,{type:"submit",variant:"primary",disabled:I.isLoading,className:"flex items-center gap-2",children:I.isLoading?"Adding...":"Add Category"})]})]})]})}),d&&c.jsx("div",{className:"modal-backdrop",style:{display:"block"},children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Category"}),c.jsx("button",{className:"modal-close",onClick:P,children:""})]}),c.jsxs("form",{onSubmit:W=>{W.preventDefault(),z()},children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Kt,{id:"editCategoryName",name:"editCategoryName",type:"text",label:"Category Name",value:v,onChange:W=>x(W.target.value),required:!0}),c.jsx(Kt,{id:"editCategoryDescription",name:"editCategoryDescription",type:"text",label:"Description (optional)",value:w,onChange:W=>E(W.target.value),placeholder:"Enter category description"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(qe,{type:"button",variant:"secondary",onClick:P,children:"Cancel"}),c.jsx(qe,{type:"submit",variant:"primary",disabled:D.isLoading,className:"flex items-center gap-2",children:D.isLoading?"Saving...":"Save Changes"})]})]})]})})]}):c.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:c.jsx("p",{children:"Only administrators can manage equipment categories."})})},hl=async()=>(await Ke.get("/api/locations")).data,OF=async e=>(await Ke.post("/api/locations",e)).data,jF=async(e,n)=>(await Ke.put(`/api/locations/${e}`,n)).data,MF=async e=>(await Ke.delete(`/api/locations/${e}`)).data,LF=()=>{var V;const{isAdmin:e}=cr(),n=nr(),[t,r]=L.useState(!1),[s,a]=L.useState(!1),[d,g]=L.useState(!1),[v,x]=L.useState(null),[w,E]=L.useState({name:"",street:"",postal_code:"",city:"",region:"",country:""}),{data:_,isLoading:k,isError:S}=Lt(["locations"],hl),R=Wn(OF,{onSuccess:()=>{n.invalidateQueries(["locations"]),r(!1),E({name:"",street:"",postal_code:"",city:"",region:"",country:""}),alert("Location created successfully")},onError:W=>{var se,ce;alert(`Error creating location: ${((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||W.message}`)}}),j=Wn(W=>jF(W.id,W.locationData),{onSuccess:()=>{n.invalidateQueries(["locations"]),a(!1),x(null),alert("Location updated successfully")},onError:W=>{var se,ce;alert(`Error updating location: ${((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||W.message}`)}}),I=Wn(MF,{onSuccess:()=>{n.invalidateQueries(["locations"]),g(!1),x(null),alert("Location deleted successfully")},onError:W=>{var se,ce;alert(`Error deleting location: ${((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||W.message}`)}}),D=W=>{const{name:se,value:ce}=W.target;E(ae=>({...ae,[se]:ce}))},O=W=>{W.preventDefault(),R.mutate(w)},q=W=>{W.preventDefault(),j.mutate({id:v.id,locationData:w})},Q=()=>{I.mutate(v.id)},z=W=>{x(W),E({name:W.name,street:W.street||"",postal_code:W.postal_code||"",city:W.city||"",region:W.region||"",country:W.country||""}),a(!0)},P=W=>{x(W),g(!0)};return k?c.jsx("div",{className:"text-center py-4",children:"Loading locations..."}):S?c.jsx("div",{className:"text-center py-4 text-red-600",children:"Error loading locations"}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Locations"}),e()&&c.jsx(qe,{variant:"primary",onClick:()=>{E({name:"",street:"",postal_code:"",city:"",region:"",country:""}),r(!0)},children:"Add Location"})]}),c.jsx($t,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Name"}),c.jsx("th",{className:"table-header-cell",children:"Street"}),c.jsx("th",{className:"table-header-cell",children:"Postal Code"}),c.jsx("th",{className:"table-header-cell",children:"City"}),c.jsx("th",{className:"table-header-cell",children:"Region"}),c.jsx("th",{className:"table-header-cell",children:"Country"}),e()&&c.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:((V=_==null?void 0:_.locations)==null?void 0:V.length)>0?_.locations.map(W=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:W.name}),c.jsx("td",{className:"table-cell",children:W.street||"-"}),c.jsx("td",{className:"table-cell",children:W.postal_code||"-"}),c.jsx("td",{className:"table-cell",children:W.city||"-"}),c.jsx("td",{className:"table-cell",children:W.region||"-"}),c.jsx("td",{className:"table-cell",children:W.country||"-"}),e()&&c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(qe,{variant:"outline",size:"sm",onClick:()=>z(W),children:"Edit"}),c.jsx(qe,{variant:"danger",size:"sm",onClick:()=>P(W),children:"Delete"})]})})]},W.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:e()?7:6,className:"table-cell text-center py-4 text-slate-500",children:"No locations found"})})})]})})}),t&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Add Location"}),c.jsx("button",{className:"modal-close",onClick:()=>r(!1),children:""})]}),c.jsxs("form",{onSubmit:O,children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Kt,{id:"name",name:"name",label:"Location Name",value:w.name,onChange:D,placeholder:"Enter location name",required:!0}),c.jsx(Kt,{id:"street",name:"street",label:"Street",value:w.street,onChange:D,placeholder:"Enter street (optional)"}),c.jsx(Kt,{id:"postal_code",name:"postal_code",label:"Postal Code",value:w.postal_code,onChange:D,placeholder:"Enter postal code (optional)"}),c.jsx(Kt,{id:"city",name:"city",label:"City",value:w.city,onChange:D,placeholder:"Enter city (optional)"}),c.jsx(Kt,{id:"region",name:"region",label:"Region/State",value:w.region,onChange:D,placeholder:"Enter region or state (optional)"}),c.jsx(Kt,{id:"country",name:"country",label:"Country",value:w.country,onChange:D,placeholder:"Enter country (optional)"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(qe,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),c.jsx(qe,{type:"submit",variant:"primary",disabled:R.isLoading,children:R.isLoading?"Adding...":"Add Location"})]})]})]})}),s&&v&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Edit Location"}),c.jsx("button",{className:"modal-close",onClick:()=>a(!1),children:""})]}),c.jsxs("form",{onSubmit:q,children:[c.jsx("div",{className:"modal-body",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(Kt,{id:"edit-name",name:"name",label:"Location Name",value:w.name,onChange:D,placeholder:"Enter location name",required:!0}),c.jsx(Kt,{id:"edit-street",name:"street",label:"Street",value:w.street,onChange:D,placeholder:"Enter street (optional)"}),c.jsx(Kt,{id:"edit-postal_code",name:"postal_code",label:"Postal Code",value:w.postal_code,onChange:D,placeholder:"Enter postal code (optional)"}),c.jsx(Kt,{id:"edit-city",name:"city",label:"City",value:w.city,onChange:D,placeholder:"Enter city (optional)"}),c.jsx(Kt,{id:"edit-region",name:"region",label:"Region/State",value:w.region,onChange:D,placeholder:"Enter region or state (optional)"}),c.jsx(Kt,{id:"edit-country",name:"country",label:"Country",value:w.country,onChange:D,placeholder:"Enter country (optional)"})]})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(qe,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),c.jsx(qe,{type:"submit",variant:"primary",disabled:j.isLoading,children:j.isLoading?"Saving...":"Save Changes"})]})]})]})}),d&&v&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Delete Location"}),c.jsx("button",{className:"modal-close",onClick:()=>g(!1),children:""})]}),c.jsxs("div",{className:"modal-body",children:[c.jsxs("p",{children:['Are you sure you want to delete the location "',v.name,'"? This action cannot be undone.']}),c.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Note: You cannot delete a location that is currently assigned to equipment."})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(qe,{type:"button",variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),c.jsx(qe,{type:"button",variant:"danger",onClick:Q,disabled:I.isLoading,children:I.isLoading?"Deleting...":"Delete Location"})]})]})})]})},PF=()=>{const[e,n]=L.useState(""),[t,r]=L.useState(null),{data:s,isLoading:a}=Lt({queryKey:["database-tables"],queryFn:async()=>(await Ke.get("/api/database/tables")).data}),d=async g=>{try{const v=await Ke.get(`/api/database/table/${g}`);r(v.data),n(g)}catch(v){console.error("Error fetching table data:",v)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs($t,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Database Browser"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Database Tables:"}),a?c.jsx("p",{children:"Loading tables..."}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:s==null?void 0:s.map(g=>c.jsx(qe,{onClick:()=>d(g),variant:e===g?"default":"outline",size:"sm",className:"text-left",children:g},g))})]}),t&&c.jsxs("div",{className:"mt-6",children:[c.jsxs("h4",{className:"font-medium mb-2",children:["Table: ",e," (",t.length," rows)"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full border border-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsx("tr",{children:t.length>0&&Object.keys(t[0]).map(g=>c.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700 border-b",children:g},g))})}),c.jsx("tbody",{children:t.map((g,v)=>c.jsx("tr",{className:"hover:bg-gray-50",children:Object.values(g).map((x,w)=>c.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 border-b",children:x!==null?String(x):"NULL"},w))},v))})]})})]})]}),c.jsxs($t,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Database Information"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Host:"})," Sevalla MySQL (Internal)"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Database:"})," substantial-gray-unicorn"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Connection:"})," Secure (SSL)"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Access:"})," Application Only"]})]}),c.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"External Database Tools"}),c.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"To access your database with external tools like phpMyAdmin, MySQL Workbench, or TablePlus:"}),c.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:"Contact Sevalla support for database access credentials"}),c.jsx("li",{children:"Request SSH tunnel or direct database access"}),c.jsx("li",{children:"Use the provided connection details in your preferred tool"})]})]})]})]})},FF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),BF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),Ub=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),UF=()=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),c.jsx("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),c.jsx("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"})]}),zF=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),WF=()=>{const{user:e}=cr(),[n,t]=L.useState("profile"),[r,s]=L.useState(""),[a,d]=L.useState(""),[g,v]=L.useState(""),[x,w]=L.useState(""),[E,_]=L.useState(""),k=[{id:"profile",label:"Profile",icon:c.jsx(FF,{})},{id:"security",label:"Security",icon:c.jsx(BF,{})}];(e==null?void 0:e.role)==="admin"&&(k.push({id:"equipmentTypes",label:"Equipment Types",icon:c.jsx(Ub,{})}),k.push({id:"categories",label:"Categories",icon:c.jsx(Ub,{})}),k.push({id:"locations",label:"Locations",icon:c.jsx(zF,{})}),k.push({id:"database",label:"Database",icon:c.jsx(UF,{})}));const S=R=>{if(R.preventDefault(),w(""),_(""),!r){w("Current password is required");return}if(!a){w("New password is required");return}if(a!==g){w("New passwords do not match");return}if(a.length<8){w("New password must be at least 8 characters");return}_("Password changed successfully"),s(""),d(""),v("")};return c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-8",children:"User Settings"}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsx("div",{className:"w-full md:w-64",children:c.jsx($t,{children:c.jsx($t.Body,{className:"p-0",children:c.jsx("nav",{children:c.jsx("ul",{className:"divide-y divide-slate-100",children:k.map(R=>c.jsx("li",{children:c.jsxs("button",{onClick:()=>t(R.id),className:`w-full text-left px-4 py-3 flex items-center transition-colors ${n===R.id?"bg-primary-50 text-primary-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,"aria-current":n===R.id?"page":void 0,children:[c.jsx("span",{className:"mr-3 text-slate-500",children:R.icon}),R.label]})},R.id))})})})})}),c.jsx("div",{className:"flex-1",children:c.jsx($t,{children:c.jsxs($t.Body,{children:[n==="profile"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Profile Settings"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),c.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200",children:e==null?void 0:e.username})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),c.jsx("div",{className:"bg-slate-50 p-3 rounded-md text-slate-800 border border-slate-200 capitalize",children:e==null?void 0:e.role})]})]})]}),n==="security"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Security Settings"}),x&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),E&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:E}),c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[c.jsx(Kt,{type:"password",id:"current-password",label:"Current Password",value:r,onChange:R=>s(R.target.value),placeholder:"Enter your current password"}),c.jsx(Kt,{type:"password",id:"new-password",label:"New Password",value:a,onChange:R=>d(R.target.value),placeholder:"Enter your new password"}),c.jsx(Kt,{type:"password",id:"confirm-password",label:"Confirm New Password",value:g,onChange:R=>v(R.target.value),placeholder:"Confirm your new password"}),c.jsx("div",{children:c.jsx(qe,{type:"submit",variant:"primary",children:"Change Password"})})]})]}),n==="equipmentTypes"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Types"}),c.jsx(TF,{})]}),n==="categories"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Equipment Categories"}),c.jsx(RF,{})]}),n==="locations"&&(e==null?void 0:e.role)==="admin"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Manage Locations"}),c.jsx(LF,{})]}),n==="database"&&(e==null?void 0:e.role)==="admin"&&c.jsx("div",{children:c.jsx(PF,{})})]})})})]})]})},HF=({isOpen:e,onClose:n,equipmentId:t})=>{const r=nr(),[s,a]=L.useState(""),[d,g]=L.useState(null),[v,x]=L.useState(!1),[w,E]=L.useState(null);L.useEffect(()=>{e&&t&&(x(!0),Qh(t).then(S=>{g(S),a(`${S.serial_number}-COPY`),x(!1)}).catch(S=>{console.error("Error fetching equipment details:",S),E("Failed to load equipment details"),x(!1)}))},[e,t]);const _=Wn({mutationFn:async()=>{if(!d)return null;console.log("Original equipment data:",d);const S={type_id:d.type_id||1,brand:d.brand,model:d.model,serial_number:s,status:d.status||"available",location:d.location||"",description:d.description||""};return console.log("Duplicate data being sent:",S),Hx(S)},onSuccess:S=>{console.log("Successfully duplicated equipment:",S),r.invalidateQueries(["equipment"]),n()},onError:S=>{var R,j;console.error("Error duplicating equipment:",S),(j=(R=S.response)==null?void 0:R.data)!=null&&j.message?E(S.response.data.message):E("Failed to duplicate equipment. Please check all required fields.")}}),k=S=>{if(S.preventDefault(),!s.trim()){E("Serial number is required");return}_.mutate()};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Duplicate Equipment"}),v?c.jsx("div",{className:"text-center py-4",children:"Loading..."}):w?c.jsx("div",{className:"text-red-600 mb-4",children:w}):c.jsxs("form",{onSubmit:k,children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("p",{className:"text-gray-600 mb-2",children:["You are about to duplicate: ",c.jsxs("span",{className:"font-medium",children:[d==null?void 0:d.brand," ",d==null?void 0:d.model]})]}),c.jsx("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),c.jsx("input",{type:"text",id:"serialNumber",value:s,onChange:S=>a(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,autoFocus:!0}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please provide a unique serial number for the duplicated equipment."})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:n,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                  hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                  hover:shadow-sm transition-all`,children:"Cancel"}),c.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                  hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                  hover:shadow-sm transition-all focus:outline-none focus:ring-1 focus:ring-primary-500`,disabled:_.isLoading,children:_.isLoading?"Duplicating...":"Duplicate"})]})]})]})}):null},qF=({isOpen:e,onClose:n,equipmentId:t,selectedItems:r=[]})=>{var W,se,ce;const s=r.length>0?r:t?[t]:[],a=nr(),[d,g]=L.useState(2),[v,x]=L.useState(""),[w,E]=L.useState([]),[_,k]=L.useState([]),[S,R]=L.useState(!1),[j,I]=L.useState(null),[D,O]=L.useState(0),[q,Q]=L.useState(!1);L.useEffect(()=>{if(e&&s.length>0){R(!0),k([]);const ae=s.map(ie=>Qh(ie));Promise.all(ae).then(ie=>{if(k(ie),ie.length===1){const he=`${ie[0].serial_number}-{n}`;x(he)}else x("BATCH-{n}");R(!1)}).catch(ie=>{console.error("Error fetching equipment details:",ie),I("Failed to load equipment details"),R(!1)})}},[e,s]),L.useEffect(()=>{if(v&&d>0){const ae=[];for(let ie=1;ie<=Math.min(d,5);ie++)ae.push(z(v,ie));d>5&&(ae.push("..."),ae.push(z(v,d))),E(ae)}},[v,d]);const z=(ae,ie)=>ae.replace("{n}",ie),P=Wn({mutationFn:async({equipmentData:ae,serialNumber:ie})=>{if(!ae)return null;const he={type:ae.type,type_id:ae.type_id||1,category:ae.category||"",...ae.category_id?{category_id:ae.category_id}:{},brand:ae.brand,model:ae.model,serial_number:ie,status:ae.status||"available",location:ae.location||"",...ae.location_id?{location_id:ae.location_id}:{},description:ae.description||"",...ae.reference_image_id?{reference_image_id:ae.reference_image_id}:{}};return Hx(he)}}),V=async()=>{var ae,ie;if(_.length!==0){Q(!0),O(0);try{const he=_.length*d;let ee=0;for(const xe of _)for(let ge=1;ge<=d;ge++){let ue;_.length===1?ue=z(v,ge):ue=z(v.replace("{n}",`${xe.id}-{n}`),ge),console.log(`Creating duplicate ${ge} for equipment ID ${xe.id} with serial number ${ue}`),console.log("Original equipment data:",JSON.stringify(xe,null,2));try{await P.mutateAsync({equipmentData:xe,serialNumber:ue}),console.log(`Successfully created duplicate ${ge} for equipment ID ${xe.id}`)}catch(_e){throw console.error(`Error creating duplicate ${ge} for equipment ID ${xe.id}:`,_e),_e}ee++,O(Math.floor(ee/he*100))}a.invalidateQueries(["equipment"]),n()}catch(he){console.error("Error in batch duplication:",he);let ee="Failed to duplicate equipment";(ie=(ae=he.response)==null?void 0:ae.data)!=null&&ie.message?ee=he.response.data.message:he.message&&(ee=he.message),I(ee)}finally{Q(!1)}}};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Batch Duplicate Equipment"}),S?c.jsx("div",{className:"text-center py-4",children:"Loading..."}):j?c.jsx("div",{className:"text-red-600 mb-4",children:j}):c.jsxs("div",{children:[c.jsxs("div",{className:"text-gray-600 mb-4",children:[c.jsxs("p",{children:["You are about to duplicate ",_.length," item",_.length!==1?"s":"",":"]}),_.length===1?c.jsxs("p",{className:"font-medium mt-1",children:[(W=_[0])==null?void 0:W.brand," ",(se=_[0])==null?void 0:se.model," (SN: ",(ce=_[0])==null?void 0:ce.serial_number,")"]}):c.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto border border-gray-200 rounded-md p-2",children:c.jsx("ul",{className:"text-sm",children:_.map((ae,ie)=>c.jsxs("li",{className:"mb-1",children:[ae.brand," ",ae.model," (SN: ",ae.serial_number,")"]},ie))})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"count",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Copies"}),c.jsx("input",{type:"number",id:"count",min:"1",max:"50",value:d,onChange:ae=>g(Math.min(50,Math.max(1,parseInt(ae.target.value)||1))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"serialNumberPattern",className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Pattern"}),c.jsx("input",{type:"text",id:"serialNumberPattern",value:v,onChange:ae=>x(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Use {n} for the copy number"}),c.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Use ","{n}"," as a placeholder for the copy number."]})]}),w.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number Preview"}),c.jsx("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200",children:c.jsx("ul",{className:"text-sm text-gray-600",children:w.map((ae,ie)=>c.jsx("li",{children:ae},ie))})})]}),q&&c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${D}%`}})}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1 text-center",children:[D,"% Complete"]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(qe,{variant:"outline",onClick:n,disabled:q,children:"Cancel"}),c.jsx(qe,{variant:"primary",onClick:V,disabled:q||!v.includes("{n}"),children:q?"Processing...":"Create Copies"})]})]})]})}):null},NN=({isOpen:e,onClose:n,equipmentId:t,selectedItems:r=[]})=>{const s=r.length>0?r:t?[t]:[],[a,d]=L.useState("available");L.useState(1);const[g,v]=L.useState(!1),[x,w]=L.useState(""),[E,_]=L.useState(""),k=nr(),S=["available","in-use","maintenance"],R=Wn({mutationFn:async I=>{const D=I.equipmentIds.map(O=>MO(O,I.status));return Promise.all(D)},onSuccess:()=>{k.invalidateQueries(["equipment"]),_(`Status successfully updated to ${a} for ${s.length} item${s.length!==1?"s":""}`),v(!1),setTimeout(()=>{n(),_("")},2e3)},onError:I=>{var D,O;console.error("Error updating status:",I),w(((O=(D=I.response)==null?void 0:D.data)==null?void 0:O.message)||"Failed to update status"),v(!1)}}),j=I=>{if(I.preventDefault(),s.length===0){w("No equipment items selected");return}v(!0),w(""),_(""),R.mutate({equipmentIds:s,status:a})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Status"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the status of ",s.length," item",s.length!==1?"s":"","."]})}),x&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:x}),E&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:E}),c.jsxs("form",{onSubmit:j,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Status"}),c.jsx("select",{id:"status",value:a,onChange:I=>d(I.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:S.map(I=>c.jsx("option",{value:I,children:I.charAt(0).toUpperCase()+I.slice(1)},I))})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:n,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:g,children:"Cancel"}),c.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:g,children:g?"Updating...":"Update Status"})]})]})]})}):null};NN.propTypes={isOpen:re.bool.isRequired,onClose:re.func.isRequired,equipmentId:re.oneOfType([re.string,re.number]),selectedItems:re.array};const _N=({isOpen:e,onClose:n,equipmentId:t,selectedItems:r=[]})=>{var z;const s=r.length>0?r:t?[t]:[],[a,d]=L.useState(""),[g,v]=L.useState(""),[x,w]=L.useState(!1),[E,_]=L.useState(!1),[k,S]=L.useState(""),[R,j]=L.useState(""),I=nr(),{data:D}=Lt({queryKey:["locations"],queryFn:hl,staleTime:3e5}),O=Wn({mutationFn:async P=>{const V=P.equipmentIds.map(W=>LO(W,P.locationData));return Promise.all(V)},onSuccess:()=>{var V;I.invalidateQueries(["equipment"]);const P=x?g:((V=D==null?void 0:D.locations.find(W=>W.id.toString()===a))==null?void 0:V.name)||"selected location";j(`Location successfully updated to ${P} for ${s.length} item${s.length!==1?"s":""}`),_(!1),setTimeout(()=>{n(),j("")},2e3)},onError:P=>{var V,W;console.error("Error updating location:",P),S(((W=(V=P.response)==null?void 0:V.data)==null?void 0:W.message)||"Failed to update location"),_(!1)}}),q=P=>{if(P.preventDefault(),s.length===0){S("No equipment items selected");return}_(!0),S(""),j("");const V=x?{location:g}:{location_id:a};O.mutate({equipmentIds:s,locationData:V})},Q=()=>{w(!x),d(""),v("")};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Location"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the location of ",s.length," item",s.length!==1?"s":"","."]})}),k&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),R&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:R}),c.jsxs("form",{onSubmit:q,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"flex items-center mb-3",children:c.jsx("button",{type:"button",onClick:Q,className:"text-sm text-primary-600 hover:text-primary-800",children:x?"Select from existing locations":"Enter custom location"})}),x?c.jsxs("div",{children:[c.jsx("label",{htmlFor:"customLocation",className:"block text-sm font-medium text-slate-700 mb-1",children:"Custom Location"}),c.jsx("input",{type:"text",id:"customLocation",value:g,onChange:P=>v(P.target.value),className:"w-full p-2 border border-slate-300 rounded-md",placeholder:"Enter location name",required:!0})]}):c.jsxs("div",{children:[c.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),c.jsxs("select",{id:"locationId",value:a,onChange:P=>d(P.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[c.jsx("option",{value:"",children:"Select a location"}),(z=D==null?void 0:D.locations)==null?void 0:z.map(P=>c.jsx("option",{value:P.id.toString(),children:P.name},P.id))]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:n,className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-slate-600
                hover:bg-slate-50 border border-slate-300 hover:border-slate-400
                hover:shadow-sm transition-all`,disabled:E,children:"Cancel"}),c.jsx("button",{type:"submit",className:`px-3 py-1.5 text-sm font-medium rounded-md bg-white text-primary-600
                hover:bg-primary-50 border border-primary-500 hover:border-primary-600
                hover:shadow-sm transition-all`,disabled:E||!a&&!g,children:E?"Updating...":"Update Location"})]})]})]})}):null};_N.propTypes={isOpen:re.bool.isRequired,onClose:re.func.isRequired,equipmentId:re.oneOfType([re.string,re.number]),selectedItems:re.array};const SN=({isOpen:e,onClose:n,selectedItems:t=[]})=>{const[r,s]=L.useState(""),[a,d]=L.useState(!1),[g,v]=L.useState(""),[x,w]=L.useState(""),E=nr(),{data:_,isLoading:k}=Lt({queryKey:["equipmentTypes"],queryFn:wa,staleTime:3e5});L.useEffect(()=>{_!=null&&_.types&&_.types.length>0&&!r&&s(_.types[0].id.toString())},[_,r]);const S=Wn({mutationFn:async j=>{const I=j.equipmentIds.map(D=>PO(D,j.typeId));return Promise.all(I)},onSuccess:()=>{var I;E.invalidateQueries(["equipment"]);const j=((I=_==null?void 0:_.types.find(D=>D.id.toString()===r))==null?void 0:I.name)||"selected type";w(`Type successfully updated to ${j} for ${t.length} item${t.length!==1?"s":""}`),d(!1),setTimeout(()=>{n(),w("")},2e3)},onError:j=>{var I,D;console.error("Error updating type:",j),v(((D=(I=j.response)==null?void 0:I.data)==null?void 0:D.message)||"Failed to update type"),d(!1)}}),R=j=>{if(j.preventDefault(),t.length===0){v("No equipment items selected");return}if(!r){v("Please select a type");return}d(!0),v(""),w(""),S.mutate({equipmentIds:t,typeId:r})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Type"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the type of ",t.length," item",t.length!==1?"s":"","."]})}),g&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:g}),x&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:x}),c.jsxs("form",{onSubmit:R,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Type"}),c.jsxs("select",{id:"type",value:r,onChange:j=>s(j.target.value),className:"w-full p-2 border border-slate-300 rounded-md",required:!0,children:[c.jsx("option",{value:"",children:"Select a type"}),_!=null&&_.types&&_.types.length>0?_.types.map(j=>c.jsx("option",{value:j.id,children:j.name},j.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(qe,{variant:"outline",onClick:n,disabled:a,children:"Cancel"}),c.jsx(qe,{variant:"primary",type:"submit",disabled:a||!r,children:a?"Updating...":"Update Type"})]})]})]})}):null};SN.propTypes={isOpen:re.bool.isRequired,onClose:re.func.isRequired,selectedItems:re.array};const AN=({isOpen:e,onClose:n,selectedItems:t=[]})=>{const[r,s]=L.useState(""),[a,d]=L.useState(!1),[g,v]=L.useState(""),[x,w]=L.useState(""),E=nr(),{data:_,isLoading:k}=Lt({queryKey:["categories"],queryFn:Rc,staleTime:3e5});L.useEffect(()=>{_!=null&&_.categories&&_.categories.length>0&&!r&&s(_.categories[0].id.toString())},[_,r]);const S=Wn({mutationFn:async j=>{const I=j.equipmentIds.map(D=>FO(D,j.categoryId));return Promise.all(I)},onSuccess:()=>{var I;E.invalidateQueries(["equipment"]);const j=((I=_==null?void 0:_.categories.find(D=>D.id.toString()===r))==null?void 0:I.name)||"selected category";w(`Category successfully updated to ${j} for ${t.length} item${t.length!==1?"s":""}`),d(!1),setTimeout(()=>{n(),w("")},2e3)},onError:j=>{var I,D;console.error("Error updating category:",j),v(((D=(I=j.response)==null?void 0:I.data)==null?void 0:D.message)||"Failed to update category"),d(!1)}}),R=j=>{if(j.preventDefault(),t.length===0){v("No equipment items selected");return}d(!0),v(""),w(""),S.mutate({equipmentIds:t,categoryId:r||null})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Equipment Category"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating the category of ",t.length," item",t.length!==1?"s":"","."]})}),g&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:g}),x&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:x}),c.jsxs("form",{onSubmit:R,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Category"}),c.jsxs("select",{id:"category",value:r,onChange:j=>s(j.target.value),className:"w-full p-2 border border-slate-300 rounded-md",children:[c.jsx("option",{value:"",children:"None (Remove Category)"}),_!=null&&_.categories&&_.categories.length>0?_.categories.map(j=>c.jsx("option",{value:j.id,children:j.name},j.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading categories..."})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(qe,{variant:"outline",onClick:n,disabled:a,children:"Cancel"}),c.jsx(qe,{variant:"primary",type:"submit",disabled:a,children:a?"Updating...":"Update Category"})]})]})]})}):null};AN.propTypes={isOpen:re.bool.isRequired,onClose:re.func.isRequired,selectedItems:re.array};const TN=({isOpen:e,onClose:n,selectedItems:t=[]})=>{const[r,s]=L.useState(""),[a,d]=L.useState(""),[g,v]=L.useState(!0),[x,w]=L.useState(!0),[E,_]=L.useState(!1),[k,S]=L.useState(""),[R,j]=L.useState(""),I=nr(),D=Wn({mutationFn:async q=>{const Q=q.equipmentIds.map(z=>BO(z,q.updateData));return Promise.all(Q)},onSuccess:()=>{I.invalidateQueries(["equipment"]);let q="Successfully updated ";g&&x?q+=`brand to "${r}" and model to "${a}"`:g?q+=`brand to "${r}"`:x&&(q+=`model to "${a}"`),j(`${q} for ${t.length} item${t.length!==1?"s":""}`),_(!1),setTimeout(()=>{n(),j("")},2e3)},onError:q=>{var Q,z;console.error("Error updating brand/model:",q),S(((z=(Q=q.response)==null?void 0:Q.data)==null?void 0:z.message)||"Failed to update brand/model"),_(!1)}}),O=q=>{if(q.preventDefault(),t.length===0){S("No equipment items selected");return}if(!g&&!x){S("Please select at least one field to update");return}if(g&&!r||x&&!a){S("Please fill in all selected fields");return}_(!0),S(""),j("");const Q={};g&&(Q.brand=r),x&&(Q.model=a),D.mutate({equipmentIds:t,updateData:Q})};return e?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Update Brand & Model"}),c.jsx("div",{className:"mb-4",children:c.jsxs("p",{className:"text-gray-600",children:["You are updating ",t.length," item",t.length!==1?"s":"","."]})}),k&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:k}),R&&c.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:R}),c.jsxs("form",{onSubmit:O,children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("input",{type:"checkbox",id:"updateBrand",checked:g,onChange:q=>v(q.target.checked),className:"mr-2"}),c.jsx("label",{htmlFor:"updateBrand",className:"text-sm font-medium text-slate-700",children:"Update Brand"})]}),c.jsx("input",{type:"text",id:"brand",value:r,onChange:q=>s(q.target.value),disabled:!g,className:`w-full p-2 border border-slate-300 rounded-md ${g?"":"bg-slate-100"}`,placeholder:"Enter new brand"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("input",{type:"checkbox",id:"updateModel",checked:x,onChange:q=>w(q.target.checked),className:"mr-2"}),c.jsx("label",{htmlFor:"updateModel",className:"text-sm font-medium text-slate-700",children:"Update Model"})]}),c.jsx("input",{type:"text",id:"model",value:a,onChange:q=>d(q.target.value),disabled:!x,className:`w-full p-2 border border-slate-300 rounded-md ${x?"":"bg-slate-100"}`,placeholder:"Enter new model"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx(qe,{variant:"outline",onClick:n,disabled:E,children:"Cancel"}),c.jsx(qe,{variant:"primary",type:"submit",disabled:E||!g&&!x||g&&!r||x&&!a,children:E?"Updating...":"Update"})]})]})]})}):null};TN.propTypes={isOpen:re.bool.isRequired,onClose:re.func.isRequired,selectedItems:re.array};const c2=({onBatchDuplicate:e,onBatchStatusUpdate:n,onBatchLocationChange:t,equipmentId:r})=>{const[s,a]=L.useState(!1),d=L.useRef(null),g=us();L.useEffect(()=>{const S=R=>{d.current&&!d.current.contains(R.target)&&a(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const v=()=>{a(!s)},x=()=>{a(!1),g(`/equipment/${r}`)},w=()=>{a(!1),g(`/equipment/${r}/edit`)},E=()=>{a(!1),e(r)},_=()=>{a(!1),n&&n(r)},k=()=>{a(!1),t&&t(r)};return c.jsxs("div",{className:"relative",ref:d,children:[c.jsx("button",{onClick:v,className:"p-1 rounded-md hover:bg-slate-100 border border-slate-200",title:"Actions","aria-label":"Actions menu",children:c.jsx(RE,{className:"w-4 h-4 text-slate-600"})}),s&&c.jsx("div",{className:"dropdown-menu",children:c.jsxs("div",{className:"py-0.5",children:[c.jsxs("button",{onClick:x,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(XO,{className:"w-3.5 h-3.5 mr-1.5"}),"View Details"]}),c.jsxs("button",{onClick:w,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(kE,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit"]}),c.jsxs("button",{onClick:E,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(qx,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),c.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Update Status"]}),c.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Location"]})]})})]})};c2.propTypes={onBatchDuplicate:re.func.isRequired,onBatchStatusUpdate:re.func,onBatchLocationChange:re.func,equipmentId:re.oneOfType([re.string,re.number]).isRequired};const kN=({selectedItems:e,onBatchDuplicate:n,onBatchStatusUpdate:t,onBatchLocationChange:r,onBatchTypeChange:s,onBatchCategoryChange:a,onBatchBrandModelChange:d,onClearSelection:g})=>{const[v,x]=L.useState(!1),w=L.useRef(null);Lt({queryKey:["equipmentTypes"],queryFn:wa,staleTime:3e5}),Lt({queryKey:["locations"],queryFn:hl,staleTime:3e5}),Lt({queryKey:["categories"],queryFn:Rc,staleTime:3e5}),L.useEffect(()=>{const D=O=>{w.current&&!w.current.contains(O.target)&&x(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]);const E=()=>{x(!v)},_=()=>{x(!1),n()},k=()=>{x(!1),t()},S=()=>{x(!1),r()},R=()=>{x(!1),s()},j=()=>{x(!1),a()},I=()=>{x(!1),d()};return c.jsxs("div",{className:"relative",ref:w,children:[c.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-2 py-1 rounded-md border border-blue-100",children:[c.jsxs("span",{className:"text-xs font-medium text-blue-700",children:[e.length," item",e.length!==1?"s":""," selected"]}),c.jsx(qe,{variant:"outline",size:"sm",onClick:g,className:"text-xs py-0.5 px-2 bg-white",children:"Clear"}),c.jsxs(qe,{variant:"outline",size:"sm",onClick:E,className:"flex items-center text-xs py-0.5 px-2 bg-white",children:["Actions ",c.jsx(RE,{className:"w-3 h-3 ml-1"})]})]}),v&&c.jsx("div",{className:"absolute right-0 top-full mt-1 z-50 bg-white rounded-md shadow-lg border border-slate-200 w-48",children:c.jsxs("div",{className:"py-0.5",children:[c.jsxs("button",{onClick:_,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx(qx,{className:"w-3.5 h-3.5 mr-1.5"}),"Duplicate"]}),c.jsxs("button",{onClick:k,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Update Status"]}),c.jsxs("button",{onClick:S,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Location"]}),c.jsxs("button",{onClick:R,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Type"]}),c.jsxs("button",{onClick:j,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Change Category"]}),c.jsxs("button",{onClick:I,className:"flex items-center w-full text-left px-3 py-1.5 text-xs text-gray-700 hover:bg-blue-50 hover:text-blue-700",children:[c.jsx("span",{className:"w-3.5 h-3.5 mr-1.5 flex items-center justify-center",children:""}),"Update Brand/Model"]})]})})]})};kN.propTypes={selectedItems:re.array.isRequired,onBatchDuplicate:re.func.isRequired,onBatchStatusUpdate:re.func.isRequired,onBatchLocationChange:re.func.isRequired,onBatchTypeChange:re.func,onBatchCategoryChange:re.func,onBatchBrandModelChange:re.func,onClearSelection:re.func.isRequired};const DN=({equipment:e,onDuplicate:n,onSelect:t,isSelected:r})=>{const s=us();cr();const[a,d]=L.useState(!1);let g=null;if(e.reference_image_id)g=th(e.reference_image_id,!0);else if(e.files&&e.files.length>0){const w=e.files.find(E=>E.file_type==="image");w&&(g=th(w.id,!0))}const v=w=>{switch(w){case"available":return"badge-success";case"in-use":return"badge-info";case"maintenance":return"badge-warning";default:return"badge-secondary"}},x=w=>{w.target.type==="checkbox"||w.target.closest("button")||w.target.closest("a")||w.target.closest(".btn-icon")||s(`/equipment/${e.id}`)};return c.jsxs("div",{className:`bg-white rounded-lg shadow-soft overflow-hidden h-full ${r?"bg-blue-50 border-2 border-blue-300":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:x,children:[c.jsx("div",{className:"absolute top-2 left-2 z-10",children:c.jsx("input",{type:"checkbox",checked:r,onChange:()=>t&&t(e.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})}),c.jsx("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:g?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:c.jsx("img",{src:g,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-contain",style:{objectFit:"contain",objectPosition:"center"}})}):c.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200",children:c.jsx("span",{className:"text-slate-400 text-lg",children:"No image"})})}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-slate-800 capitalize",children:e.type}),e.category&&c.jsxs("p",{className:"text-xs text-slate-500",children:["Category: ",e.category]})]}),c.jsx("span",{className:`badge ${v(e.status)}`,children:e.status})]}),c.jsxs("h2",{className:"text-lg font-semibold mb-1",children:[e.brand," ",e.model]}),c.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["SN: ",e.serial_number]}),e.location&&c.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Location: ",e.location]}),c.jsxs("div",{className:"flex justify-between mt-auto pt-2 border-t border-slate-100",children:[c.jsx(Br,{to:`/equipment/${e.id}/edit`,className:"btn-icon text-slate-600 hover:text-slate-800 hover:bg-slate-50",title:"Edit equipment",children:c.jsx(kE,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>n(e.id),className:"btn-icon text-green-600 hover:text-green-800 hover:bg-green-50",title:"Duplicate equipment",children:c.jsx(qx,{className:"w-5 h-5"})}),c.jsx(c2,{equipmentId:e.id,onBatchDuplicate:()=>{const w=new CustomEvent("batchDuplicate",{detail:{id:e.id}});document.dispatchEvent(w)},onBatchStatusUpdate:()=>{const w=new CustomEvent("batchStatusUpdate",{detail:{id:e.id}});document.dispatchEvent(w)},onBatchLocationChange:()=>{const w=new CustomEvent("batchLocationChange",{detail:{id:e.id}});document.dispatchEvent(w)}})]})]})]})};DN.propTypes={equipment:re.object.isRequired,onDuplicate:re.func.isRequired,onSelect:re.func,isSelected:re.bool};const Pa=({field:e,label:n,currentSortField:t,currentSortOrder:r,onSort:s,className:a=""})=>{const d=t===e;return c.jsx("th",{className:`table-header-cell cursor-pointer select-none ${a}`,onClick:()=>s(e),children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{children:n}),c.jsx("div",{className:"flex flex-col h-4 justify-center",children:d?r==="asc"?c.jsx(qw,{className:"w-3 h-3 text-primary-600"}):c.jsx(ZO,{className:"w-3 h-3 text-primary-600"}):c.jsx("div",{className:"w-3 h-3 opacity-60",children:c.jsx(qw,{className:"w-3 h-3 text-gray-500"})})})]})})};Pa.propTypes={field:re.string.isRequired,label:re.string.isRequired,currentSortField:re.string.isRequired,currentSortOrder:re.string.isRequired,onSort:re.func.isRequired,className:re.string};function pl(e,n,t,r){function s(a){return a instanceof t?a:new t(function(d){d(a)})}return new(t||(t=Promise))(function(a,d){function g(w){try{x(r.next(w))}catch(E){d(E)}}function v(w){try{x(r.throw(w))}catch(E){d(E)}}function x(w){w.done?a(w.value):s(w.value).then(g,v)}x((r=r.apply(e,n||[])).next())})}const VF=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Cc(e,n,t){const r=YF(e),{webkitRelativePath:s}=e,a=typeof n=="string"?n:typeof s=="string"&&s.length>0?s:`./${e.name}`;return typeof r.path!="string"&&zb(r,"path",a),t!==void 0&&Object.defineProperty(r,"handle",{value:t,writable:!1,configurable:!1,enumerable:!0}),zb(r,"relativePath",a),r}function YF(e){const{name:n}=e;if(n&&n.lastIndexOf(".")!==-1&&!e.type){const r=n.split(".").pop().toLowerCase(),s=VF.get(r);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}function zb(e,n,t){Object.defineProperty(e,n,{value:t,writable:!1,configurable:!1,enumerable:!0})}const GF=[".DS_Store","Thumbs.db"];function $F(e){return pl(this,void 0,void 0,function*(){return xh(e)&&XF(e.dataTransfer)?JF(e.dataTransfer,e.type):QF(e)?KF(e):Array.isArray(e)&&e.every(n=>"getFile"in n&&typeof n.getFile=="function")?ZF(e):[]})}function XF(e){return xh(e)}function QF(e){return xh(e)&&xh(e.target)}function xh(e){return typeof e=="object"&&e!==null}function KF(e){return Ng(e.target.files).map(n=>Cc(n))}function ZF(e){return pl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(t=>t.getFile()))).map(t=>Cc(t))})}function JF(e,n){return pl(this,void 0,void 0,function*(){if(e.items){const t=Ng(e.items).filter(s=>s.kind==="file");if(n!=="drop")return t;const r=yield Promise.all(t.map(eB));return Wb(IN(r))}return Wb(Ng(e.files).map(t=>Cc(t)))})}function Wb(e){return e.filter(n=>GF.indexOf(n.name)===-1)}function Ng(e){if(e===null)return[];const n=[];for(let t=0;t<e.length;t++){const r=e[t];n.push(r)}return n}function eB(e){if(typeof e.webkitGetAsEntry!="function")return Hb(e);const n=e.webkitGetAsEntry();return n&&n.isDirectory?RN(n):Hb(e,n)}function IN(e){return e.reduce((n,t)=>[...n,...Array.isArray(t)?IN(t):[t]],[])}function Hb(e,n){return pl(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const a=yield e.getAsFileSystemHandle();if(a===null)throw new Error(`${e} is not a File`);if(a!==void 0){const d=yield a.getFile();return d.handle=a,Cc(d)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Cc(r,(t=n==null?void 0:n.fullPath)!==null&&t!==void 0?t:void 0)})}function tB(e){return pl(this,void 0,void 0,function*(){return e.isDirectory?RN(e):nB(e)})}function RN(e){const n=e.createReader();return new Promise((t,r)=>{const s=[];function a(){n.readEntries(d=>pl(this,void 0,void 0,function*(){if(d.length){const g=Promise.all(d.map(tB));s.push(g),a()}else try{const g=yield Promise.all(s);t(g)}catch(g){r(g)}}),d=>{r(d)})}a()})}function nB(e){return pl(this,void 0,void 0,function*(){return new Promise((n,t)=>{e.file(r=>{const s=Cc(r,e.fullPath);n(s)},r=>{t(r)})})})}var J1=function(e,n){if(e&&n){var t=Array.isArray(n)?n:n.split(",");if(t.length===0)return!0;var r=e.name||"",s=(e.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return t.some(function(d){var g=d.trim().toLowerCase();return g.charAt(0)==="."?r.toLowerCase().endsWith(g):g.endsWith("/*")?a===g.replace(/\/.*$/,""):s===g})}return!0};function qb(e){return sB(e)||iB(e)||jN(e)||rB()}function rB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sB(e){if(Array.isArray(e))return _g(e)}function Vb(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function Yb(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Vb(Object(t),!0).forEach(function(r){ON(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vb(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ON(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function dd(e,n){return lB(e)||oB(e,n)||jN(e,n)||aB()}function aB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jN(e,n){if(e){if(typeof e=="string")return _g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _g(e,n)}}function _g(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function oB(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],s=!0,a=!1,d,g;try{for(t=t.call(e);!(s=(d=t.next()).done)&&(r.push(d.value),!(n&&r.length===n));s=!0);}catch(v){a=!0,g=v}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw g}}return r}}function lB(e){if(Array.isArray(e))return e}var cB=typeof J1=="function"?J1:J1.default,uB="file-invalid-type",dB="file-too-large",fB="file-too-small",hB="too-many-files",pB=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=n.split(","),r=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:uB,message:"File type must be ".concat(r)}},Gb=function(n){return{code:dB,message:"File is larger than ".concat(n," ").concat(n===1?"byte":"bytes")}},$b=function(n){return{code:fB,message:"File is smaller than ".concat(n," ").concat(n===1?"byte":"bytes")}},mB={code:hB,message:"Too many files"};function MN(e,n){var t=e.type==="application/x-moz-file"||cB(e,n);return[t,t?null:pB(n)]}function LN(e,n,t){if(Wo(e.size))if(Wo(n)&&Wo(t)){if(e.size>t)return[!1,Gb(t)];if(e.size<n)return[!1,$b(n)]}else{if(Wo(n)&&e.size<n)return[!1,$b(n)];if(Wo(t)&&e.size>t)return[!1,Gb(t)]}return[!0,null]}function Wo(e){return e!=null}function gB(e){var n=e.files,t=e.accept,r=e.minSize,s=e.maxSize,a=e.multiple,d=e.maxFiles,g=e.validator;return!a&&n.length>1||a&&d>=1&&n.length>d?!1:n.every(function(v){var x=MN(v,t),w=dd(x,1),E=w[0],_=LN(v,r,s),k=dd(_,1),S=k[0],R=g?g(v):null;return E&&S&&!R})}function vh(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Qf(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(n){return n==="Files"||n==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Xb(e){e.preventDefault()}function xB(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function vB(e){return e.indexOf("Edge/")!==-1}function yB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return xB(e)||vB(e)}function ws(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),d=1;d<s;d++)a[d-1]=arguments[d];return n.some(function(g){return!vh(r)&&g&&g.apply(void 0,[r].concat(a)),vh(r)})}}function wB(){return"showOpenFilePicker"in window}function bB(e){if(Wo(e)){var n=Object.entries(e).filter(function(t){var r=dd(t,2),s=r[0],a=r[1],d=!0;return PN(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(a)||!a.every(FN))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(t,r){var s=dd(r,2),a=s[0],d=s[1];return Yb(Yb({},t),{},ON({},a,d))},{});return[{description:"Files",accept:n}]}return e}function CB(e){if(Wo(e))return Object.entries(e).reduce(function(n,t){var r=dd(t,2),s=r[0],a=r[1];return[].concat(qb(n),[s],qb(a))},[]).filter(function(n){return PN(n)||FN(n)}).join(",")}function EB(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function NB(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function PN(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function FN(e){return/^.*\.[\w]+$/.test(e)}var _B=["children"],SB=["open"],AB=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],TB=["refKey","onChange","onClick"];function kB(e){return RB(e)||IB(e)||BN(e)||DB()}function DB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RB(e){if(Array.isArray(e))return Sg(e)}function em(e,n){return MB(e)||jB(e,n)||BN(e,n)||OB()}function OB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BN(e,n){if(e){if(typeof e=="string")return Sg(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sg(e,n)}}function Sg(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function jB(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],s=!0,a=!1,d,g;try{for(t=t.call(e);!(s=(d=t.next()).done)&&(r.push(d.value),!(n&&r.length===n));s=!0);}catch(v){a=!0,g=v}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw g}}return r}}function MB(e){if(Array.isArray(e))return e}function Qb(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function vn(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Qb(Object(t),!0).forEach(function(r){Ag(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qb(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Ag(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function yh(e,n){if(e==null)return{};var t=LB(e,n),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function LB(e,n){if(e==null)return{};var t={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(n.indexOf(s)>=0)&&(t[s]=e[s]);return t}var u2=L.forwardRef(function(e,n){var t=e.children,r=yh(e,_B),s=_d(r),a=s.open,d=yh(s,SB);return L.useImperativeHandle(n,function(){return{open:a}},[a]),de.createElement(L.Fragment,null,t(vn(vn({},d),{},{open:a})))});u2.displayName="Dropzone";var UN={disabled:!1,getFilesFromEvent:$F,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};u2.defaultProps=UN;u2.propTypes={children:re.func,accept:re.objectOf(re.arrayOf(re.string)),multiple:re.bool,preventDropOnDocument:re.bool,noClick:re.bool,noKeyboard:re.bool,noDrag:re.bool,noDragEventsBubbling:re.bool,minSize:re.number,maxSize:re.number,maxFiles:re.number,disabled:re.bool,getFilesFromEvent:re.func,onFileDialogCancel:re.func,onFileDialogOpen:re.func,useFsAccessApi:re.bool,autoFocus:re.bool,onDragEnter:re.func,onDragLeave:re.func,onDragOver:re.func,onDrop:re.func,onDropAccepted:re.func,onDropRejected:re.func,onError:re.func,validator:re.func};var Tg={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function _d(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=vn(vn({},UN),e),t=n.accept,r=n.disabled,s=n.getFilesFromEvent,a=n.maxSize,d=n.minSize,g=n.multiple,v=n.maxFiles,x=n.onDragEnter,w=n.onDragLeave,E=n.onDragOver,_=n.onDrop,k=n.onDropAccepted,S=n.onDropRejected,R=n.onFileDialogCancel,j=n.onFileDialogOpen,I=n.useFsAccessApi,D=n.autoFocus,O=n.preventDropOnDocument,q=n.noClick,Q=n.noKeyboard,z=n.noDrag,P=n.noDragEventsBubbling,V=n.onError,W=n.validator,se=L.useMemo(function(){return CB(t)},[t]),ce=L.useMemo(function(){return bB(t)},[t]),ae=L.useMemo(function(){return typeof j=="function"?j:Kb},[j]),ie=L.useMemo(function(){return typeof R=="function"?R:Kb},[R]),he=L.useRef(null),ee=L.useRef(null),xe=L.useReducer(PB,Tg),ge=em(xe,2),ue=ge[0],_e=ge[1],Re=ue.isFocused,We=ue.isFileDialogActive,tt=L.useRef(typeof window<"u"&&window.isSecureContext&&I&&wB()),Rn=function(){!tt.current&&We&&setTimeout(function(){if(ee.current){var Ve=ee.current.files;Ve.length||(_e({type:"closeDialog"}),ie())}},300)};L.useEffect(function(){return window.addEventListener("focus",Rn,!1),function(){window.removeEventListener("focus",Rn,!1)}},[ee,We,ie,tt]);var vt=L.useRef([]),On=function(Ve){he.current&&he.current.contains(Ve.target)||(Ve.preventDefault(),vt.current=[])};L.useEffect(function(){return O&&(document.addEventListener("dragover",Xb,!1),document.addEventListener("drop",On,!1)),function(){O&&(document.removeEventListener("dragover",Xb),document.removeEventListener("drop",On))}},[he,O]),L.useEffect(function(){return!r&&D&&he.current&&he.current.focus(),function(){}},[he,D,r]);var De=L.useCallback(function(Te){V?V(Te):console.error(Te)},[V]),Hn=L.useCallback(function(Te){Te.preventDefault(),Te.persist(),Ie(Te),vt.current=[].concat(kB(vt.current),[Te.target]),Qf(Te)&&Promise.resolve(s(Te)).then(function(Ve){if(!(vh(Te)&&!P)){var St=Ve.length,Zt=St>0&&gB({files:Ve,accept:se,minSize:d,maxSize:a,multiple:g,maxFiles:v,validator:W}),Wt=St>0&&!Zt;_e({isDragAccept:Zt,isDragReject:Wt,isDragActive:!0,type:"setDraggedFiles"}),x&&x(Te)}}).catch(function(Ve){return De(Ve)})},[s,x,De,P,se,d,a,g,v,W]),yt=L.useCallback(function(Te){Te.preventDefault(),Te.persist(),Ie(Te);var Ve=Qf(Te);if(Ve&&Te.dataTransfer)try{Te.dataTransfer.dropEffect="copy"}catch{}return Ve&&E&&E(Te),!1},[E,P]),$n=L.useCallback(function(Te){Te.preventDefault(),Te.persist(),Ie(Te);var Ve=vt.current.filter(function(Zt){return he.current&&he.current.contains(Zt)}),St=Ve.indexOf(Te.target);St!==-1&&Ve.splice(St,1),vt.current=Ve,!(Ve.length>0)&&(_e({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Qf(Te)&&w&&w(Te))},[he,w,P]),dr=L.useCallback(function(Te,Ve){var St=[],Zt=[];Te.forEach(function(Wt){var sn=MN(Wt,se),ii=em(sn,2),Ei=ii[0],js=ii[1],Qt=LN(Wt,d,a),Ae=em(Qt,2),Jt=Ae[0],Nt=Ae[1],Ft=W?W(Wt):null;if(Ei&&Jt&&!Ft)St.push(Wt);else{var Gi=[js,Nt];Ft&&(Gi=Gi.concat(Ft)),Zt.push({file:Wt,errors:Gi.filter(function(go){return go})})}}),(!g&&St.length>1||g&&v>=1&&St.length>v)&&(St.forEach(function(Wt){Zt.push({file:Wt,errors:[mB]})}),St.splice(0)),_e({acceptedFiles:St,fileRejections:Zt,isDragReject:Zt.length>0,type:"setFiles"}),_&&_(St,Zt,Ve),Zt.length>0&&S&&S(Zt,Ve),St.length>0&&k&&k(St,Ve)},[_e,g,se,d,a,v,_,k,S,W]),ke=L.useCallback(function(Te){Te.preventDefault(),Te.persist(),Ie(Te),vt.current=[],Qf(Te)&&Promise.resolve(s(Te)).then(function(Ve){vh(Te)&&!P||dr(Ve,Te)}).catch(function(Ve){return De(Ve)}),_e({type:"reset"})},[s,dr,De,P]),$e=L.useCallback(function(){if(tt.current){_e({type:"openDialog"}),ae();var Te={multiple:g,types:ce};window.showOpenFilePicker(Te).then(function(Ve){return s(Ve)}).then(function(Ve){dr(Ve,null),_e({type:"closeDialog"})}).catch(function(Ve){EB(Ve)?(ie(Ve),_e({type:"closeDialog"})):NB(Ve)?(tt.current=!1,ee.current?(ee.current.value=null,ee.current.click()):De(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):De(Ve)});return}ee.current&&(_e({type:"openDialog"}),ae(),ee.current.value=null,ee.current.click())},[_e,ae,ie,I,dr,De,ce,g]),et=L.useCallback(function(Te){!he.current||!he.current.isEqualNode(Te.target)||(Te.key===" "||Te.key==="Enter"||Te.keyCode===32||Te.keyCode===13)&&(Te.preventDefault(),$e())},[he,$e]),Tt=L.useCallback(function(){_e({type:"focus"})},[]),En=L.useCallback(function(){_e({type:"blur"})},[]),Ci=L.useCallback(function(){q||(yB()?setTimeout($e,0):$e())},[q,$e]),wt=function(Ve){return r?null:Ve},Et=function(Ve){return Q?null:wt(Ve)},st=function(Ve){return z?null:wt(Ve)},Ie=function(Ve){P&&Ve.stopPropagation()},Ee=L.useMemo(function(){return function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ve=Te.refKey,St=Ve===void 0?"ref":Ve,Zt=Te.role,Wt=Te.onKeyDown,sn=Te.onFocus,ii=Te.onBlur,Ei=Te.onClick,js=Te.onDragEnter,Qt=Te.onDragOver,Ae=Te.onDragLeave,Jt=Te.onDrop,Nt=yh(Te,AB);return vn(vn(Ag({onKeyDown:Et(ws(Wt,et)),onFocus:Et(ws(sn,Tt)),onBlur:Et(ws(ii,En)),onClick:wt(ws(Ei,Ci)),onDragEnter:st(ws(js,Hn)),onDragOver:st(ws(Qt,yt)),onDragLeave:st(ws(Ae,$n)),onDrop:st(ws(Jt,ke)),role:typeof Zt=="string"&&Zt!==""?Zt:"presentation"},St,he),!r&&!Q?{tabIndex:0}:{}),Nt)}},[he,et,Tt,En,Ci,Hn,yt,$n,ke,Q,z,r]),jn=L.useCallback(function(Te){Te.stopPropagation()},[]),fr=L.useMemo(function(){return function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ve=Te.refKey,St=Ve===void 0?"ref":Ve,Zt=Te.onChange,Wt=Te.onClick,sn=yh(Te,TB),ii=Ag({accept:se,multiple:g,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:wt(ws(Zt,ke)),onClick:wt(ws(Wt,jn)),tabIndex:-1},St,ee);return vn(vn({},ii),sn)}},[ee,t,g,ke,r]);return vn(vn({},ue),{},{isFocused:Re&&!r,getRootProps:Ee,getInputProps:fr,rootRef:he,inputRef:ee,open:wt($e)})}function PB(e,n){switch(n.type){case"focus":return vn(vn({},e),{},{isFocused:!0});case"blur":return vn(vn({},e),{},{isFocused:!1});case"openDialog":return vn(vn({},Tg),{},{isFileDialogActive:!0});case"closeDialog":return vn(vn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return vn(vn({},e),{},{isDragActive:n.isDragActive,isDragAccept:n.isDragAccept,isDragReject:n.isDragReject});case"setFiles":return vn(vn({},e),{},{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections,isDragReject:n.isDragReject});case"reset":return vn({},Tg);default:return e}}function Kb(){}const FB=async(e="csv",n={})=>{try{const t={format:e};return Object.entries(n).forEach(([s,a])=>{s==="selectedIds"&&Array.isArray(a)&&a.length>0?t.selectedIds=JSON.stringify(a):t[s]=a}),console.log("Export params:",t),(await Ke.get("/api/import-export/export",{params:t,responseType:"blob"})).data}catch(t){throw console.error("Error exporting equipment:",t),t}},BB=async(e,n={})=>{try{const t=new FormData;return t.append("file",e),Object.entries(n).forEach(([s,a])=>{t.append(s,a)}),(await Ke.post("/api/import-export/import",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error importing equipment:",t),t}},UB=(e,n)=>{const t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=n,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(t),document.body.removeChild(r)},zB=({isOpen:e,onClose:n,filters:t={},selectedItems:r=[]})=>{const[s,a]=L.useState("export"),[d,g]=L.useState("csv"),[v,x]=L.useState(!1),[w,E]=L.useState(!1),[_,k]=L.useState(null),[S,R]=L.useState(!0),[j,I]=L.useState(null),[D,O]=L.useState(""),{user:q}=cr(),Q=nr(),z=q&&(q.role==="admin"||q.role==="advanced"),{getRootProps:P,getInputProps:V,isDragActive:W}=_d({onDrop:ae=>{ae.length>0&&(k(ae[0]),O(""))},accept:{"text/csv":[".csv"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/json":[".json"]},maxFiles:1}),se=async()=>{try{E(!0),O("");const ae=new Date().toISOString().split("T")[0],ie={...t};v&&r.length>0&&(ie.selectedIds=r);const he=await FB(d,ie);let ee;const xe=v&&r.length>0?`equipment_selected_${r.length}_items_${ae}`:`equipment_export_${ae}`;switch(d){case"csv":ee=`${xe}.csv`;break;case"xlsx":ee=`${xe}.xlsx`;break;case"json":ee=`${xe}.json`;break;default:ee=xe}UB(he,ee),E(!1)}catch(ae){console.error("Export error:",ae),O("Failed to export data. Please try again."),E(!1)}},ce=async()=>{if(!_){O("Please select a file to import");return}try{E(!0),O(""),I(null);const ae=await BB(_,{updateExisting:S});I(ae.results),Q.invalidateQueries(["equipment"]),E(!1),k(null),ae.results.errors.length===0&&setTimeout(()=>{n()},3e3)}catch(ae){console.error("Import error:",ae),O("Failed to import data. Please check your file and try again."),E(!1)}};return!e||!z?null:c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Import/Export Equipment"}),c.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"flex border-b",children:[c.jsx("button",{className:`px-4 py-2 ${s==="export"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("export"),children:"Export"}),c.jsx("button",{className:`px-4 py-2 ${s==="import"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600"}`,onClick:()=>a("import"),children:"Import"})]}),c.jsx("div",{className:"p-4",children:s==="export"?c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Format"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"csv",checked:d==="csv",onChange:()=>g("csv")}),c.jsx("span",{className:"ml-2",children:"CSV"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"xlsx",checked:d==="xlsx",onChange:()=>g("xlsx")}),c.jsx("span",{className:"ml-2",children:"Excel (XLSX)"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportFormat",value:"json",checked:d==="json",onChange:()=>g("json")}),c.jsx("span",{className:"ml-2",children:"JSON"})]})]})]}),r.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Scope"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:!v,onChange:()=>x(!1)}),c.jsx("span",{className:"ml-2",children:"All equipment (with filters)"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",className:"form-radio",name:"exportScope",checked:v,onChange:()=>x(!0)}),c.jsxs("span",{className:"ml-2",children:["Selected items only (",r.length,")"]})]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsx("p",{className:"text-sm text-gray-600",children:v&&r.length>0?`This will export ${r.length} selected equipment items.`:"This will export all equipment data based on your current filters."})}),D&&c.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:D}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:n,disabled:w,className:"btn btn-secondary",children:"Cancel"}),c.jsx("button",{onClick:se,disabled:w,className:`btn ${w?"bg-blue-400":"btn-primary"}`,children:w?c.jsxs("div",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):"Export"})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload File"}),c.jsxs("div",{...P(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${W?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[c.jsx("input",{...V()}),_?c.jsxs("div",{children:[c.jsxs("p",{className:"text-green-600",children:["File selected: ",_.name]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(_.size/1024).toFixed(2)," KB"]})]}):W?c.jsx("p",{className:"text-blue-500",children:"Drop the file here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop a file here, or click to select a file"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Accepted file types: CSV, XLSX, JSON"})]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"checkbox",className:"form-checkbox",checked:S,onChange:ae=>R(ae.target.checked)}),c.jsx("span",{className:"ml-2",children:"Update existing equipment if found"})]})}),D&&c.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:D}),j&&c.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded",children:[c.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Import Results"}),c.jsxs("ul",{className:"text-sm text-green-700",children:[c.jsxs("li",{children:["Total records processed: ",j.total]}),c.jsxs("li",{children:["New records created: ",j.created]}),c.jsxs("li",{children:["Existing records updated: ",j.updated]}),c.jsxs("li",{children:["Errors: ",j.errors.length]})]}),j.errors.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("h4",{className:"font-medium text-red-800",children:"Errors:"}),c.jsx("ul",{className:"text-sm text-red-700 mt-1 max-h-32 overflow-y-auto",children:j.errors.map((ae,ie)=>c.jsxs("li",{children:[ae.record.serial_number||ae.record.id||`Row ${ie+1}`,": ",ae.error]},ie))})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:n,disabled:w,className:"btn btn-secondary",children:"Cancel"}),c.jsx("button",{onClick:ce,disabled:w||!_,className:`btn ${w?"bg-blue-400":"btn-primary"}`,children:w?c.jsxs("div",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):"Import"})]})]})})]})})},WB=()=>{var st;const e=us(),n=L.useRef(null),[t]=L.useState(20),[r,s]=L.useState({type:"",brand:"",status:"",location_id:"",search:""}),[a,d]=L.useState([]),[g,v]=L.useState(!1),[x,w]=L.useState("updated_at"),[E,_]=L.useState("desc"),[k,S]=L.useState("list"),[R,j]=L.useState(!1);L.useEffect(()=>{const Ie=localStorage.getItem("equipmentViewMode");Ie&&S(Ie);const Ee=localStorage.getItem("equipmentShowThumbnails");Ee!==null&&j(Ee==="true")},[]),L.useEffect(()=>{localStorage.setItem("equipmentViewMode",k)},[k]),L.useEffect(()=>{localStorage.setItem("equipmentShowThumbnails",R.toString())},[R]);const[I,D]=L.useState(!1),[O,q]=L.useState(!1),[Q,z]=L.useState(!1),[P,V]=L.useState(!1),[W,se]=L.useState(!1),[ce,ae]=L.useState(!1),[ie,he]=L.useState(!1),[ee,xe]=L.useState(!1),[ge,ue]=L.useState(null);L.useEffect(()=>{const Ie=fr=>{const{id:Te}=fr.detail;ue(Te),q(!0)},Ee=fr=>{const{id:Te}=fr.detail;ue(Te),z(!0)},jn=fr=>{const{id:Te}=fr.detail;ue(Te),V(!0)};return document.addEventListener("batchDuplicate",Ie),document.addEventListener("batchStatusUpdate",Ee),document.addEventListener("batchLocationChange",jn),()=>{document.removeEventListener("batchDuplicate",Ie),document.removeEventListener("batchStatusUpdate",Ee),document.removeEventListener("batchLocationChange",jn)}},[]);const{data:_e,fetchNextPage:Re,hasNextPage:We,isFetchingNextPage:tt,isLoading:Rn,isError:vt,error:On}=WC(["equipment",r,x,E],async({pageParam:Ie=1})=>{const Ee={page:Ie,limit:t,...r,sortBy:x,sortOrder:E};return Fu(Ee)},{getNextPageParam:Ie=>{if(Ie.page<Ie.totalPages)return Ie.page+1},keepPreviousData:!0}),{data:De}=Lt({queryKey:["equipmentTypes"],queryFn:wa,staleTime:3e5}),{data:Hn}=Lt(["locations"],hl),yt=(_e==null?void 0:_e.pages.flatMap(Ie=>Ie.equipment))||[];L.useEffect(()=>{const Ie=new IntersectionObserver(Ee=>{Ee[0].isIntersecting&&We&&!tt&&Re()},{threshold:.5});return n.current&&Ie.observe(n.current),()=>{n.current&&Ie.unobserve(n.current)}},[n,Re,We,tt]);const $n=Ie=>{ue(Ie),D(!0)},dr=()=>{D(!1),ue(null)},ke=()=>{q(!1),ue(null)},$e=Ie=>{const{name:Ee,value:jn}=Ie.target;s(fr=>({...fr,[Ee]:jn}))},et=Ie=>{Ie.preventDefault()},Tt=Ie=>{x===Ie?_(Ee=>Ee==="asc"?"desc":"asc"):(w(Ie),_("desc"))},En=Ie=>{d(Ee=>Ee.includes(Ie)?Ee.filter(jn=>jn!==Ie):[...Ee,Ie])},Ci=()=>{if(g)d([]);else{const Ie=yt.map(Ee=>Ee.id);d(Ie)}v(!g)},wt=()=>{d([]),v(!1)},Et=(Ie,Ee)=>{Ee.target.type==="checkbox"||Ee.target.closest("button")||Ee.target.closest("a")||Ee.target.closest(".btn-icon")||e(`/equipment/${Ie}`)};return Rn?c.jsx("div",{className:"text-center py-10",children:"Loading..."}):vt?c.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",On.message||"Failed to load equipment"]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(HF,{isOpen:I,onClose:dr,equipmentId:ge}),c.jsx(qF,{isOpen:O,onClose:ke,equipmentId:ge,selectedItems:a}),c.jsx(NN,{isOpen:Q,onClose:()=>z(!1),equipmentId:ge,selectedItems:a}),c.jsx(_N,{isOpen:P,onClose:()=>V(!1),equipmentId:ge,selectedItems:a}),c.jsx(SN,{isOpen:W,onClose:()=>se(!1),selectedItems:a}),c.jsx(AN,{isOpen:ce,onClose:()=>ae(!1),selectedItems:a}),c.jsx(TN,{isOpen:ie,onClose:()=>he(!1),selectedItems:a}),c.jsx(zB,{isOpen:ee,onClose:()=>xe(!1),filters:r,selectedItems:a}),c.jsx("div",{className:"card",children:c.jsxs("form",{onSubmit:et,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),c.jsxs("div",{className:"input-group",children:[c.jsx(DE,{className:"input-icon w-4 h-4"}),c.jsx("input",{type:"text",id:"search",name:"search",value:r.search,onChange:$e,placeholder:"Search equipment...",className:"input input-with-icon"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"type",className:"label",children:"Type"}),c.jsxs("select",{id:"type",name:"type",value:r.type,onChange:$e,className:"input",children:[c.jsx("option",{value:"",children:"All Types"}),De!=null&&De.types&&De.types.length>0?De.types.map(Ie=>c.jsx("option",{value:Ie.name.toLowerCase(),children:Ie.name},Ie.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"status",className:"label",children:"Status"}),c.jsxs("select",{id:"status",name:"status",value:r.status,onChange:$e,className:"input",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"available",children:"Available"}),c.jsx("option",{value:"in-use",children:"In Use"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),c.jsxs("select",{id:"location_id",name:"location_id",value:r.location_id,onChange:$e,className:"input",children:[c.jsx("option",{value:"",children:"All Locations"}),(st=Hn==null?void 0:Hn.locations)==null?void 0:st.map(Ie=>c.jsx("option",{value:Ie.id.toString(),children:Ie.name},Ie.id))]})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{type:"button",onClick:()=>{s({type:"",brand:"",status:"",location_id:"",search:""})},className:"btn btn-outline w-full",children:"Clear All Filters"})}),c.jsx("div",{className:"flex items-end",children:c.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[c.jsx(IE,{className:"w-4 h-4"}),c.jsx("span",{children:"Apply Filters"})]})})]})}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"flex flex-col space-y-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mr-4",children:"Equipment List"}),c.jsxs("div",{className:"flex border border-slate-200 rounded-lg overflow-hidden mr-2",children:[c.jsx("button",{onClick:()=>S("list"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="list"?"bg-white text-primary-600 border-r border-slate-200 hover:bg-primary-50":"bg-white text-slate-600 border-r border-slate-200 hover:bg-slate-50"}`,title:"List view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),c.jsx("button",{onClick:()=>S("card"),className:`px-2 py-1 text-xs font-medium transition-all ${k==="card"?"bg-white text-primary-600 hover:bg-primary-50":"bg-white text-slate-600 hover:bg-slate-50"}`,title:"Card view",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]}),a.length>0&&c.jsx("div",{className:"ml-2",children:c.jsx(kN,{selectedItems:a,onBatchDuplicate:()=>q(!0),onBatchStatusUpdate:()=>z(!0),onBatchLocationChange:()=>V(!0),onBatchTypeChange:()=>se(!0),onBatchCategoryChange:()=>ae(!0),onBatchBrandModelChange:()=>he(!0),onClearSelection:wt})})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>xe(!0),className:"btn btn-secondary btn-sm",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(ej,{className:"w-4 h-4 mr-1"}),c.jsx(tj,{className:"w-4 h-4 mr-1"}),c.jsx("span",{children:"Import/Export"})]})}),c.jsxs(Br,{to:"/equipment/new",className:"btn btn-primary btn-sm",children:[c.jsx(TE,{className:"w-4 h-4"}),c.jsx("span",{children:"Add New Equipment"})]})]})]})}),k==="card"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:yt.length>0?yt.map(Ie=>c.jsx(DN,{equipment:Ie,onDuplicate:$n,onSelect:En,isSelected:a.includes(Ie.id)},Ie.id)):c.jsx("div",{className:"col-span-3 py-8 text-center text-gray-500",children:"No equipment found"})}),k==="list"&&c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell w-10",children:c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("input",{type:"checkbox",checked:g,onChange:Ci,className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),c.jsx(Pa,{field:"type",label:"Type",currentSortField:x,currentSortOrder:E,onSort:Tt}),c.jsx(Pa,{field:"category",label:"Category",currentSortField:x,currentSortOrder:E,onSort:Tt}),c.jsx(Pa,{field:"brand",label:"Brand",currentSortField:x,currentSortOrder:E,onSort:Tt}),c.jsx(Pa,{field:"model",label:"Model",currentSortField:x,currentSortOrder:E,onSort:Tt}),c.jsx(Pa,{field:"serial_number",label:"Serial Number",currentSortField:x,currentSortOrder:E,onSort:Tt}),c.jsx(Pa,{field:"status",label:"Status",currentSortField:x,currentSortOrder:E,onSort:Tt}),c.jsx(Pa,{field:"location",label:"Location",currentSortField:x,currentSortOrder:E,onSort:Tt}),c.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:yt.length>0?yt.map(Ie=>{var Ee;return c.jsxs("tr",{className:`table-row ${a.includes(Ie.id)?"bg-blue-50":""} cursor-pointer hover:bg-slate-50`,onClick:jn=>Et(Ie.id,jn),children:[c.jsx("td",{className:"table-cell",children:c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("input",{type:"checkbox",checked:a.includes(Ie.id),onChange:()=>En(Ie.id),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"})})}),c.jsx("td",{className:"table-cell",children:Ie.type}),c.jsx("td",{className:"table-cell",children:Ie.category||"-"}),c.jsx("td",{className:"table-cell",children:Ie.brand}),c.jsx("td",{className:"table-cell",children:Ie.model}),c.jsx("td",{className:"table-cell",children:Ie.serial_number}),c.jsx("td",{className:"table-cell",children:c.jsx("span",{className:`badge ${Ie.status==="available"?"badge-success":Ie.status==="in-use"?"badge-info":"badge-warning"}`,children:Ie.status})}),c.jsx("td",{className:"table-cell",children:((Ee=Ie.locationDetails)==null?void 0:Ee.name)||Ie.location||"-"}),c.jsx("td",{className:"table-cell",children:c.jsx("div",{className:"flex items-center justify-end",children:c.jsx(c2,{equipmentId:Ie.id,onBatchDuplicate:()=>{ue(Ie.id),q(!0)},onBatchStatusUpdate:()=>{ue(Ie.id),z(!0)},onBatchLocationChange:()=>{ue(Ie.id),V(!0)}})})})]},Ie.id)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-gray-500",children:"No equipment found"})})})]})}),c.jsx("div",{ref:n,className:"py-4 text-center",children:tt?c.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"}),c.jsx("span",{className:"text-slate-500",children:"Loading more..."})]}):We?c.jsx("span",{className:"text-sm text-slate-500",children:"Scroll to load more"}):c.jsx("span",{className:"text-sm text-slate-500",children:"No more equipment to load"})})]})]})},HB=async({page:e=1,limit:n=20,equipmentId:t,userId:r,actionType:s,search:a,type:d,status:g,location_id:v,sortBy:x="created_at",sortOrder:w="desc"})=>{const E={page:e,limit:n};return t&&(E.equipmentId=t),r&&(E.userId=r),s&&(E.actionType=s),a&&(E.search=a),d&&(E.type=d),g&&(E.status=g),v&&(E.location_id=v),x&&(E.sortBy=x),w&&(E.sortOrder=w),(await Ke.get("/api/equipment-logs",{params:E})).data},qB=async(e,{page:n=1,limit:t=20}={})=>{const r={page:n,limit:t};return(await Ke.get(`/api/equipment-logs/equipment/${e}`,{params:r})).data},VB=({equipmentId:e})=>{var w;const[n,t]=L.useState(1),[r]=L.useState(10),{data:s,isLoading:a,isError:d,error:g}=Lt(["equipmentLogs",e,n,r],()=>qB(e,{page:n,limit:r}),{keepPreviousData:!0,enabled:!!e}),v=E=>E.split("_").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "),x=E=>{t(E)};return a?c.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[c.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{className:"text-slate-600",children:"Loading movement history..."})]}):d?c.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[c.jsx("div",{className:"bg-red-100 p-3 rounded-full mb-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("p",{className:"text-red-600 font-medium mb-1",children:"Error Loading Movement History"}),c.jsx("p",{className:"text-slate-500 text-sm",children:g.message||"Failed to load equipment logs"})]}):(w=s==null?void 0:s.logs)!=null&&w.length?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[c.jsx("thead",{className:"bg-slate-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Date"]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"User"]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Action"]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Details"]})})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:s.logs.map((E,_)=>{var k,S,R;return c.jsxs("tr",{className:`hover:bg-slate-50 ${_%2===0?"bg-white":"bg-slate-50/50"}`,children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-medium",children:ld(new Date(E.created_at),"MMM d, yyyy")}),c.jsx("span",{className:"ml-2 text-slate-500",children:ld(new Date(E.created_at),"h:mm a")})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 font-medium",children:(k=E.user)!=null&&k.username?E.user.username.charAt(0).toUpperCase():"?"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("div",{className:"text-sm font-medium text-slate-800",children:((S=E.user)==null?void 0:S.username)||"Unknown"}),c.jsx("div",{className:"text-xs text-slate-500 capitalize",children:((R=E.user)==null?void 0:R.role)||""})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("span",{className:`px-2.5 py-1.5 inline-flex text-xs leading-5 font-semibold rounded-full
                    ${E.action_type==="created"?"bg-green-100 text-green-800":E.action_type==="updated"?"bg-blue-100 text-blue-800":E.action_type==="deleted"?"bg-red-100 text-red-800":E.action_type==="status_change"?"bg-yellow-100 text-yellow-800":E.action_type==="location_change"?"bg-indigo-100 text-indigo-800":"bg-slate-100 text-slate-800"}`,children:[E.action_type==="created"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),E.action_type==="updated"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),E.action_type==="deleted"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),E.action_type==="status_change"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),E.action_type==="location_change"&&c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),v(E.action_type)]})}),c.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[E.action_type==="status_change"&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"font-medium text-slate-700",children:"Status:"}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:E.previous_status}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:E.new_status})]}),E.action_type==="location_change"&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"font-medium text-slate-700",children:"Location:"}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-slate-100 text-slate-700",children:E.previous_location||"None"}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),c.jsx("span",{className:"px-2 py-1 text-xs rounded bg-indigo-100 text-indigo-800 font-medium",children:E.new_location||"None"})]}),E.details&&c.jsx("div",{className:"mt-2 text-slate-600",children:E.details})]})]},E.id)})})]})}),s.totalPages>1&&c.jsxs("div",{className:"flex justify-between items-center mt-4 px-2",children:[c.jsxs("div",{className:"text-sm text-slate-600 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Showing ",c.jsx("span",{className:"font-medium text-slate-800 mx-1",children:(n-1)*r+1})," to"," ",c.jsx("span",{className:"font-medium text-slate-800 mx-1",children:Math.min(n*r,s.total)})," of"," ",c.jsx("span",{className:"font-medium text-slate-800 mx-1",children:s.total})," logs"]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:()=>x(n-1),disabled:n===1,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${n===1?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-1 ${n===1?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),c.jsxs("button",{onClick:()=>x(n+1),disabled:n===s.totalPages,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ${n===s.totalPages?"bg-slate-100 text-slate-400 cursor-not-allowed border-slate-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-300 hover:border-slate-400"}`,children:["Next",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ml-1 ${n===s.totalPages?"text-slate-300":"text-slate-500"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}):c.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[c.jsx("div",{className:"bg-slate-100 p-3 rounded-full mb-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("p",{className:"text-slate-600 font-medium",children:"No movement history found"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"This equipment has no recorded movements or status changes"})]})},zN=({isOpen:e,title:n="Confirm Action",message:t="Are you sure you want to proceed?",confirmText:r="Confirm",cancelText:s="Cancel",onConfirm:a,onCancel:d,isDestructive:g=!1})=>e?c.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-soft max-w-md w-full p-6 animate-fade-in",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:n}),c.jsx("p",{className:"text-slate-600 mb-6",children:t}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx(qe,{variant:"secondary",onClick:d,children:s}),c.jsx(qe,{variant:g?"danger":"primary",onClick:a,children:r})]})]})}):null;zN.propTypes={isOpen:re.bool.isRequired,title:re.string,message:re.string,confirmText:re.string,cancelText:re.string,onConfirm:re.func.isRequired,onCancel:re.func.isRequired,isDestructive:re.bool};const d2=({onImageSelect:e,existingImage:n=null,onImageDelete:t})=>{const[r,s]=L.useState(null),[a,d]=L.useState(null);L.useEffect(()=>{d(n?`/api/files/${n.id}?thumbnail=true`:null)},[n]),L.useEffect(()=>()=>{a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a)},[a]);const g=L.useCallback(k=>{if(k.length>0){const S=k[0];if(S.size>10*1024*1024){alert("Image is too large. Maximum size is 10MB.");return}s(S),d(URL.createObjectURL(S)),e(S)}},[e]),v=()=>{s(null),a&&!a.startsWith("/api/files/")&&URL.revokeObjectURL(a),d(null),e(null)},x=()=>{t&&n&&(t(n.id),d(null))},{getRootProps:w,getInputProps:E,isDragActive:_}=_d({onDrop:g,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxFiles:1,multiple:!1});return c.jsx("div",{children:a?c.jsx("div",{className:"mt-4",children:c.jsxs("div",{className:"bg-slate-50 p-4 rounded-md border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-sm font-medium",children:n?n.file_name:(r==null?void 0:r.name)||"Reference Image"})]}),c.jsx("button",{type:"button",onClick:n?x:v,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsx("div",{className:"mt-2 flex justify-center",style:{height:"200px"},children:c.jsx("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden bg-slate-100 rounded-md",children:c.jsx("img",{src:a,alt:"Reference Image Preview",className:"rounded-md max-h-full max-w-full",style:{objectFit:"contain",objectPosition:"center"},onError:k=>{console.error("Error loading image:",k),k.target.src="/placeholder-image.png",k.target.onerror=null}})})})]})}):c.jsxs("div",{...w(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${_?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[c.jsx("input",{...E()}),_?c.jsx("p",{className:"text-primary-500",children:"Drop the image here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop a reference image here, or click to select"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Accepted file types: JPEG, PNG (Max: 10MB)"})]})]})})};d2.propTypes={onImageSelect:re.func.isRequired,existingImage:re.object,onImageDelete:re.func};const WN=({isOpen:e,onClose:n,equipmentId:t,existingImage:r=null})=>{const[s,a]=L.useState(null),[d,g]=L.useState(!1),[v,x]=L.useState(""),w=nr(),E=R=>{a(R)},_=Wn({mutationFn:async R=>NE(t,{},[],[],R.referenceImageFile,R.removeReferenceImage),onSuccess:()=>{w.invalidateQueries(["equipment",t]),n()},onError:R=>{var j,I;console.error("Error updating reference image:",R),x(((I=(j=R.response)==null?void 0:j.data)==null?void 0:I.message)||"Failed to update reference image"),g(!1)}}),k=R=>{if(R.preventDefault(),!s){x("Please select an image file");return}g(!0),x(""),_.mutate({referenceImageFile:s})},S=()=>{g(!0),x(""),_.mutate({referenceImageFile:null,removeReferenceImage:!0})};return e?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-slate-500 opacity-75"})}),c.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),c.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:c.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[c.jsxs("h3",{className:"text-lg leading-6 font-medium text-slate-900 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Change Reference Image"]}),c.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"This image will be displayed prominently on the equipment details page and in search results."}),c.jsxs("div",{className:"mt-4",children:[v&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:c.jsx("p",{className:"text-red-700",children:v})}),c.jsxs("form",{onSubmit:k,children:[c.jsx("div",{className:"mb-4",children:c.jsx(d2,{onImageSelect:E,existingImage:r})}),c.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[c.jsx(qe,{type:"submit",variant:"primary",disabled:d||!s,className:"w-full sm:ml-3 sm:w-auto",children:d?"Saving...":"Save Changes"}),c.jsx(qe,{type:"button",variant:"secondary",onClick:n,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"}),r&&c.jsx(qe,{type:"button",variant:"danger",onClick:S,className:"mt-3 w-full sm:mt-0 sm:mr-auto sm:w-auto",children:"Remove Image"})]})]})]})]})})})})]})}):null};WN.propTypes={isOpen:re.bool.isRequired,onClose:re.func.isRequired,equipmentId:re.string.isRequired,existingImage:re.object};const kg=({fileType:e,fileUrl:n,fileName:t,className:r="",style:s={},showFileName:a=!0,size:d="medium",interactive:g=!0,useThumbnail:v=!0})=>{const[x,w]=L.useState(!0),[E,_]=L.useState(null),[k,S]=L.useState(!1),R=()=>{switch(d){case"small":return"h-24";case"large":return"h-48";case"medium":default:return"h-32"}},j=()=>{console.log("Image loaded successfully"),w(!1)},I=()=>{console.error("Image failed to load completely"),w(!1),_("Failed to load image")};L.useEffect(()=>{if(x&&e==="image"){const Q=setTimeout(()=>{console.log("Loading timeout reached, resetting loading state"),w(!1)},5e3);return()=>clearTimeout(Q)}},[x,e]),L.useEffect(()=>{!n&&e==="image"&&(console.log("No file URL provided, showing error state"),w(!1),_("No image available"))},[n,e]);const D=()=>{g&&e==="image"&&S(!k)},O=()=>{switch(e){case"image":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"pdf":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},q=()=>{if(x&&e==="image")return c.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("span",{className:"text-slate-400 text-xs",children:"Loading..."})]})});if(E)return c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-red-50",children:c.jsxs("div",{className:"flex flex-col items-center p-2",children:[c.jsx("svg",{className:"w-8 h-8 text-red-500 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("span",{className:"text-red-500 text-xs text-center",children:E})]})});switch(e){case"image":if(!n)return console.error("No file URL provided for image"),c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-100",children:c.jsxs("div",{className:"flex flex-col items-center p-2",children:[c.jsx("svg",{className:"w-8 h-8 text-slate-400 mb-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("span",{className:"text-slate-400 text-xs text-center",children:"No image"})]})});const Q=new Date().getTime();let z=n;return z.includes("t=")||(z+=(z.includes("?")?"&":"?")+`t=${Q}`),c.jsx("div",{className:`w-full h-full flex items-center justify-center overflow-hidden ${g?"cursor-pointer":""}`,onClick:D,children:c.jsx("img",{src:z,alt:t||"Image preview",className:`max-h-full max-w-full object-contain transition-transform duration-300 ${k?"scale-150":""}`,onLoad:P=>{console.log("Image loaded successfully:",z),j()},onError:P=>{console.error("Image failed to load:",z);const V=P.target;if(n.includes("thumbnail=true")){console.log("Thumbnail failed to load, trying original image");const se=`${n.split("?")[0]}?t=${new Date().getTime()}`;console.log("Trying with URL:",se),V.src=se}else{console.log("Original image failed to load, trying with new cache busting");const W=n.includes("?")?`${n.split("?")[0]}?t=${new Date().getTime()}`:`${n}?t=${new Date().getTime()}`;console.log("Trying with URL:",W),V.src=W,V.dataset.retried?(console.error("Multiple load attempts failed, showing error"),I()):V.dataset.retried="true"}}},`img-${z}`)});case"audio":return c.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:[c.jsx("div",{className:"mb-2",children:O()}),g?c.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[c.jsx("source",{src:n,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):c.jsx("div",{className:"text-sm text-slate-500",children:"Audio file"})]});case"pdf":return c.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[c.jsx("div",{className:"mb-2",children:O()}),g?c.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 text-sm underline",children:"View PDF"}):c.jsx("div",{className:"text-sm text-slate-500",children:"PDF document"})]});default:return c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:O()})}};return c.jsxs("div",{className:`bg-slate-100 rounded-md overflow-hidden ${R()} ${r}`,style:s,children:[q(),a&&t&&c.jsx("div",{className:"bg-slate-800 bg-opacity-70 text-white text-xs py-1 px-2 absolute bottom-0 left-0 right-0 truncate",children:t})]})};kg.propTypes={fileType:re.oneOf(["image","audio","pdf"]).isRequired,fileUrl:re.string.isRequired,fileName:re.string,className:re.string,style:re.object,showFileName:re.bool,size:re.oneOf(["small","medium","large"]),interactive:re.bool,useThumbnail:re.bool};const HN=({files:e=[],onFileDelete:n,canDelete:t=!1,showDownload:r=!0,layout:s="grid",size:a="medium"})=>{const[d,g]=L.useState(null),v=S=>{g(S)},x=()=>{g(null)},w=(S,R=!1,j=!1)=>{let I=`/api/files/${S}`;const D=[];return R&&D.push("download=true"),j&&D.push("thumbnail=true"),D.length>0&&(I+=`?${D.join("&")}`),I},E=()=>d?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:x,children:c.jsxs("div",{className:"bg-white rounded-lg overflow-hidden max-w-3xl w-full max-h-[90vh] flex flex-col",onClick:S=>S.stopPropagation(),children:[c.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-900",children:d.file_name}),c.jsx("button",{type:"button",onClick:x,className:"text-slate-400 hover:text-slate-500",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center",children:d.file_type==="image"?c.jsx("img",{src:w(d.id),alt:d.file_name,className:"max-w-full max-h-[70vh] object-contain",onError:S=>{console.error("Error loading image in modal:",S),S.target.src=`${w(d.id)}?t=${new Date().getTime()}`}}):d.file_type==="audio"?c.jsxs("div",{className:"w-full max-w-md p-4",children:[c.jsx("div",{className:"mb-4 text-center",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})})}),c.jsxs("audio",{controls:!0,className:"w-full",children:[c.jsx("source",{src:w(d.id),type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):d.file_type==="pdf"?c.jsx("div",{className:"w-full h-[70vh]",children:c.jsx("iframe",{src:`${w(d.id)}#view=FitH`,title:d.file_name,className:"w-full h-full"})}):c.jsx("div",{className:"text-center p-4",children:c.jsx("p",{children:"This file type cannot be previewed."})})}),c.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end space-x-2",children:[c.jsx("a",{href:w(d.id,!0),download:!0,className:"btn btn-secondary",children:"Download"}),t&&c.jsx("button",{type:"button",onClick:()=>{n(d.id),x()},className:"btn btn-danger",children:"Delete"})]})]})}):null,_=()=>c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(S=>c.jsxs("div",{className:"relative group",children:[c.jsxs("div",{className:"cursor-pointer rounded-lg overflow-hidden border border-slate-200 bg-white shadow-sm hover:shadow-md transition-shadow",onClick:()=>v(S),children:[c.jsx(kg,{fileType:S.file_type,fileUrl:w(S.id,!1,S.file_type==="image"),fileName:S.file_name,size:a,interactive:!1,useThumbnail:S.file_type==="image"}),c.jsxs("div",{className:"p-2",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:S.file_name,children:S.file_name}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:S.file_type})]})]}),c.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[r&&c.jsx("a",{href:w(S.id,!0),download:!0,onClick:R=>R.stopPropagation(),className:"bg-white p-1.5 rounded-full shadow-md text-primary-600 hover:text-primary-800",title:"Download file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),t&&c.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),n(S.id)},className:"bg-white p-1.5 rounded-full shadow-md text-red-600 hover:text-red-800",title:"Delete file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},S.id))}),k=()=>c.jsx("div",{className:"divide-y divide-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:e.map(S=>c.jsxs("div",{className:"flex items-center p-3 hover:bg-slate-50 cursor-pointer",onClick:()=>v(S),children:[c.jsx("div",{className:"flex-shrink-0 mr-3 w-12 h-12 relative",children:c.jsx(kg,{fileType:S.file_type,fileUrl:w(S.id,!1,S.file_type==="image"),fileName:S.file_name,size:"small",showFileName:!1,interactive:!1,useThumbnail:S.file_type==="image"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:S.file_name,children:S.file_name}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:S.file_type})]}),c.jsxs("div",{className:"flex space-x-2 ml-2",children:[r&&c.jsx("a",{href:w(S.id,!0),download:!0,onClick:R=>R.stopPropagation(),className:"text-primary-600 hover:text-primary-800 p-1.5",title:"Download file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),t&&c.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),n(S.id)},className:"text-red-600 hover:text-red-800 p-1.5",title:"Delete file",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]},S.id))});return e.length===0?c.jsx("p",{className:"text-slate-500 italic",children:"No files available"}):c.jsxs("div",{children:[s==="grid"?_():k(),E()]})};HN.propTypes={files:re.arrayOf(re.shape({id:re.number.isRequired,file_type:re.string.isRequired,file_name:re.string.isRequired})).isRequired,onFileDelete:re.func,canDelete:re.bool,showDownload:re.bool,layout:re.oneOf(["grid","list"]),size:re.oneOf(["small","medium","large"])};const YB=async(e,n,t)=>{try{const r=new FormData;for(const a of n)r.append("files",a);return(await Ke.post(`/api/files/upload/${e}`,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t?a=>{const d=Math.round(a.loaded*100/a.total);t(d)}:void 0})).data}catch(r){throw console.error("Error uploading files:",r),r}};let GB={data:""},$B=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||GB,XB=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,QB=/\/\*[^]*?\*\/|  +/g,Zb=/\n+/g,Ha=(e,n)=>{let t="",r="",s="";for(let a in e){let d=e[a];a[0]=="@"?a[1]=="i"?t=a+" "+d+";":r+=a[1]=="f"?Ha(d,a):a+"{"+Ha(d,a[1]=="k"?"":n)+"}":typeof d=="object"?r+=Ha(d,n?n.replace(/([^,])+/g,g=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,v=>/&/.test(v)?v.replace(/&/g,g):g?g+" "+v:v)):a):d!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ha.p?Ha.p(a,d):a+":"+d+";")}return t+(n&&s?n+"{"+s+"}":s)+r},Ks={},qN=e=>{if(typeof e=="object"){let n="";for(let t in e)n+=t+qN(e[t]);return n}return e},KB=(e,n,t,r,s)=>{let a=qN(e),d=Ks[a]||(Ks[a]=(v=>{let x=0,w=11;for(;x<v.length;)w=101*w+v.charCodeAt(x++)>>>0;return"go"+w})(a));if(!Ks[d]){let v=a!==e?e:(x=>{let w,E,_=[{}];for(;w=XB.exec(x.replace(QB,""));)w[4]?_.shift():w[3]?(E=w[3].replace(Zb," ").trim(),_.unshift(_[0][E]=_[0][E]||{})):_[0][w[1]]=w[2].replace(Zb," ").trim();return _[0]})(e);Ks[d]=Ha(s?{["@keyframes "+d]:v}:v,t?"":"."+d)}let g=t&&Ks.g?Ks.g:null;return t&&(Ks.g=Ks[d]),((v,x,w,E)=>{E?x.data=x.data.replace(E,v):x.data.indexOf(v)===-1&&(x.data=w?v+x.data:x.data+v)})(Ks[d],n,r,g),d},ZB=(e,n,t)=>e.reduce((r,s,a)=>{let d=n[a];if(d&&d.call){let g=d(t),v=g&&g.props&&g.props.className||/^go/.test(g)&&g;d=v?"."+v:g&&typeof g=="object"?g.props?"":Ha(g,""):g===!1?"":g}return r+s+(d??"")},"");function ap(e){let n=this||{},t=e.call?e(n.p):e;return KB(t.unshift?t.raw?ZB(t,[].slice.call(arguments,1),n.p):t.reduce((r,s)=>Object.assign(r,s&&s.call?s(n.p):s),{}):t,$B(n.target),n.g,n.o,n.k)}let VN,Dg,Ig;ap.bind({g:1});let xa=ap.bind({k:1});function JB(e,n,t,r){Ha.p=n,VN=e,Dg=t,Ig=r}function mo(e,n){let t=this||{};return function(){let r=arguments;function s(a,d){let g=Object.assign({},a),v=g.className||s.className;t.p=Object.assign({theme:Dg&&Dg()},g),t.o=/ *go\d+/.test(v),g.className=ap.apply(t,r)+(v?" "+v:""),n&&(g.ref=d);let x=e;return e[0]&&(x=g.as||e,delete g.as),Ig&&x[0]&&Ig(g),VN(x,g)}return n?n(s):s}}var eU=e=>typeof e=="function",Rg=(e,n)=>eU(e)?e(n):e,tU=(()=>{let e=0;return()=>(++e).toString()})(),nU=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");e=!n||n.matches}return e}})(),rU=20,YN=(e,n)=>{switch(n.type){case 0:return{...e,toasts:[n.toast,...e.toasts].slice(0,rU)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===n.toast.id?{...a,...n.toast}:a)};case 2:let{toast:t}=n;return YN(e,{type:e.toasts.find(a=>a.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=n;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==n.toastId)};case 5:return{...e,pausedAt:n.time};case 6:let s=n.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},iU=[],tm={toasts:[],pausedAt:void 0},f2=e=>{tm=YN(tm,e),iU.forEach(n=>{n(tm)})},sU=(e,n="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...t,id:(t==null?void 0:t.id)||tU()}),Sd=e=>(n,t)=>{let r=sU(n,e,t);return f2({type:2,toast:r}),r.id},Ur=(e,n)=>Sd("blank")(e,n);Ur.error=Sd("error");Ur.success=Sd("success");Ur.loading=Sd("loading");Ur.custom=Sd("custom");Ur.dismiss=e=>{f2({type:3,toastId:e})};Ur.remove=e=>f2({type:4,toastId:e});Ur.promise=(e,n,t)=>{let r=Ur.loading(n.loading,{...t,...t==null?void 0:t.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=n.success?Rg(n.success,s):void 0;return a?Ur.success(a,{id:r,...t,...t==null?void 0:t.success}):Ur.dismiss(r),s}).catch(s=>{let a=n.error?Rg(n.error,s):void 0;a?Ur.error(a,{id:r,...t,...t==null?void 0:t.error}):Ur.dismiss(r)}),e};var aU=xa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oU=xa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lU=xa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,cU=mo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oU} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${lU} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uU=xa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,dU=mo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${uU} 1s linear infinite;
`,fU=xa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hU=xa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,pU=mo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hU} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mU=mo("div")`
  position: absolute;
`,gU=mo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xU=xa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vU=mo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xU} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yU=({toast:e})=>{let{icon:n,type:t,iconTheme:r}=e;return n!==void 0?typeof n=="string"?L.createElement(vU,null,n):n:t==="blank"?null:L.createElement(gU,null,L.createElement(dU,{...r}),t!=="loading"&&L.createElement(mU,null,t==="error"?L.createElement(cU,{...r}):L.createElement(pU,{...r})))},wU=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,bU=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,CU="0%{opacity:0;} 100%{opacity:1;}",EU="0%{opacity:1;} 100%{opacity:0;}",NU=mo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_U=mo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,SU=(e,n)=>{let t=e.includes("top")?1:-1,[r,s]=nU()?[CU,EU]:[wU(t),bU(t)];return{animation:n?`${xa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xa(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};L.memo(({toast:e,position:n,style:t,children:r})=>{let s=e.height?SU(e.position||n||"top-center",e.visible):{opacity:0},a=L.createElement(yU,{toast:e}),d=L.createElement(_U,{...e.ariaProps},Rg(e.message,e));return L.createElement(NU,{className:e.className,style:{...s,...t,...e.style}},typeof r=="function"?r({icon:a,message:d}):L.createElement(L.Fragment,null,a,d))});JB(L.createElement);ap`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const GN=({equipmentId:e,isOpen:n,onClose:t,onSuccess:r})=>{const[s,a]=L.useState([]),[d,g]=L.useState(!1),[v,x]=L.useState(0),[w,E]=L.useState([]),_=50*1024*1024,k=5,S=L.useCallback((z,P)=>{a(W=>[...W,...z]);const V=P.map(W=>W.file.size>_?`${W.file.name} is too large. Maximum file size is 50MB.`:`${W.file.name} is not a supported file type.`);V.length>0&&E(W=>[...W,...V])},[]),{getRootProps:R,getInputProps:j,isDragActive:I}=_d({onDrop:S,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:k,maxSize:_}),D=z=>{a(P=>P.filter((V,W)=>W!==z))},O=()=>{a([]),E([])},q=z=>{switch(z){case"image/jpeg":case"image/png":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}},Q=async()=>{if(s.length===0){Ur.error("Please select at least one file to upload");return}g(!0),x(0);try{const z=await YB(e,s,P=>x(P));Ur.success(`Successfully uploaded ${z.files.length} files`),a([]),E([]),r&&r(z.files),t()}catch(z){console.error("Error uploading files:",z),Ur.error("Failed to upload files. Please try again.")}finally{g(!1)}};return n?c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),c.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[c.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:c.jsx("div",{className:"sm:flex sm:items-start",children:c.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[c.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Upload Documents"}),c.jsxs("div",{...R(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer mb-4 ${I?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[c.jsx("input",{...j()}),I?c.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",k," files, ",Math.round(_/(1024*1024)),"MB each)"]})]})]}),w.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm font-medium text-red-500 mb-1",children:"Errors:"}),c.jsx("ul",{className:"text-sm text-red-500 list-disc pl-5",children:w.map((z,P)=>c.jsx("li",{children:z},P))})]}),s.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Selected Files:"}),c.jsx("button",{type:"button",onClick:O,className:"text-sm text-red-500 hover:text-red-700",children:"Clear All"})]}),c.jsx("ul",{className:"divide-y divide-slate-200 border border-slate-200 rounded-md overflow-hidden",children:s.map((z,P)=>c.jsxs("li",{className:"flex items-center justify-between p-3 hover:bg-slate-50",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"mr-2",children:q(z.type)}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium truncate max-w-xs",title:z.name,children:z.name}),c.jsxs("p",{className:"text-xs text-slate-500",children:[(z.size/1024).toFixed(1)," KB"]})]})]}),c.jsx("button",{type:"button",onClick:()=>D(P),className:"text-red-500 hover:text-red-700",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},P))})]}),d&&c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${v}%`}})}),c.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",v,"%"]})]})]})})}),c.jsxs("div",{className:"bg-slate-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[c.jsx(qe,{variant:"primary",size:"sm",onClick:Q,disabled:d||s.length===0,className:"w-full sm:w-auto sm:ml-3",children:d?"Uploading...":"Upload"}),c.jsx(qe,{variant:"outline",size:"sm",onClick:t,disabled:d,className:"mt-3 w-full sm:mt-0 sm:w-auto",children:"Cancel"})]})]})]})}):null};GN.propTypes={equipmentId:re.number.isRequired,isOpen:re.bool.isRequired,onClose:re.func.isRequired,onSuccess:re.func};const Jb=(e,n=!1)=>`/api/files/${e}${n?"?thumbnail=true":""}`,AU=()=>{var ae,ie;const{id:e}=wC(),n=us(),t=nr(),{user:r}=cr(),[s,a]=L.useState(!1),[d,g]=L.useState(!1),[v,x]=L.useState(!1),[w,E]=L.useState("details"),[_,k]=L.useState("grid"),{data:S,isLoading:R,isError:j,error:I}=Lt({queryKey:["equipment",e],queryFn:()=>Qh(e)}),D=Wn({mutationFn:()=>jO(e),onSuccess:()=>{t.invalidateQueries(["equipment"]),n("/equipment")}}),O=()=>{n(`/equipment/${e}/edit`)},q=he=>{t.invalidateQueries(["equipment",e]),ct.success(`Successfully uploaded ${he.length} file(s)`)},Q=()=>{a(!0)},z=()=>{D.mutate(),a(!1)},P=()=>{a(!1)},V=()=>{n("/equipment")};if(R)return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(j)return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"})}),c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(I==null?void 0:I.message)||"Failed to load equipment details"})}),c.jsx("div",{className:"mt-4",children:c.jsx(qe,{variant:"outline",size:"sm",onClick:V,children:"Back to Equipment List"})})]})]})})]});const W=he=>{switch(he){case"available":return"success";case"in-use":return"primary";case"maintenance":return"warning";default:return"secondary"}};console.log("[EQUIPMENT DETAILS] Equipment data:",S),console.log("[EQUIPMENT DETAILS] reference_image_id:",S.reference_image_id),console.log("[EQUIPMENT DETAILS] files:",S.files),console.log("[EQUIPMENT DETAILS] files count:",((ae=S.files)==null?void 0:ae.length)||0);const se=S.reference_image_id?parseInt(S.reference_image_id):null,ce=(ie=S.files)==null?void 0:ie.find(he=>he.id===se);return console.log("[EQUIPMENT DETAILS] refImageId:",se),console.log("[EQUIPMENT DETAILS] referenceImage found:",ce?"Yes":"No"),ce&&console.log("[EQUIPMENT DETAILS] referenceImage:",ce),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-primary-100 p-2 rounded-lg mr-4",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Details"}),c.jsxs("p",{className:"text-slate-500 text-sm",children:[S.brand," ",S.model,"  ",S.serial_number]})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs(qe,{variant:"outline",onClick:V,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to List"]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs(qe,{variant:"primary",onClick:O,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(r==null?void 0:r.role)==="admin"&&c.jsxs(qe,{variant:"danger",onClick:Q,className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[c.jsx("div",{className:"border-b border-gray-200",children:c.jsxs("nav",{className:"flex -mb-px",children:[c.jsxs("button",{type:"button",onClick:()=>E("details"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="details"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="details"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Details"]}),c.jsxs("button",{type:"button",onClick:()=>E("documents"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="documents"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="documents"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Documents & Attachments"]}),c.jsxs("button",{type:"button",onClick:()=>E("history"),className:`py-4 px-6 font-medium text-sm border-b-2 focus:outline-none transition-colors flex items-center ${w==="history"?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 mr-2 ${w==="history"?"text-primary-500":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Movement History"]})]})}),c.jsxs("div",{className:"p-6",children:[w==="details"&&c.jsx("div",{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:c.jsx("div",{className:"md:col-span-1",children:c.jsxs($t,{className:"h-full",children:[c.jsx($t.Header,{className:"bg-slate-50",children:c.jsxs($t.Title,{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Equipment Information"]})}),c.jsxs($t.Body,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Category"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.category||"Not specified"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Type"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.type})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Brand"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.brand})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Model"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.model})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Serial Number"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.serial_number})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Status"}),c.jsx("div",{className:"mt-1",children:S.status&&c.jsx($o,{variant:W(S.status),size:"md",children:S.status.charAt(0).toUpperCase()+S.status.slice(1).replace("-"," ")})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500",children:"Location"}),c.jsx("p",{className:"mt-1 text-base font-medium text-slate-900",children:S.location||"Not specified"})]})]}),S.description&&c.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),c.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"})]}),c.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:c.jsx("p",{className:"text-base text-slate-800 whitespace-pre-line",children:S.description})})]})]})]})})})}),w==="documents"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Documents & Attachments"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs(qe,{variant:"outline",size:"sm",className:"ml-auto flex items-center",onClick:()=>x(!0),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})]}),S.files&&S.files.filter(he=>!ce||he.id!==ce.id).length>0?c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[S.files.filter(he=>!ce||he.id!==ce.id).length,S.files.filter(he=>!ce||he.id!==ce.id).length===1?" file":" files"," attached"]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="grid"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("grid"),children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),c.jsx("button",{className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${_==="list"?"bg-primary-100 text-primary-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onClick:()=>k("list"),children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]}),c.jsx(HN,{files:S.files.filter(he=>!ce||he.id!==ce.id),layout:_,size:"medium",showDownload:!0,canDelete:!1})]}):c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-8 text-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No documents attached to this equipment"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsx("div",{className:"mt-4",children:c.jsxs(qe,{variant:"outline",size:"sm",className:"flex items-center mx-auto",onClick:()=>x(!0),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Documents"]})})]})]}),w==="history"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Movement History"})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4",children:[c.jsxs("div",{className:"mb-4 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),c.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Equipment movement log"})]}),c.jsx(VB,{equipmentId:e})]})]})]})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden h-full",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]})}),c.jsx("div",{className:"p-4 flex flex-col items-center justify-center",children:ce?c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:"relative pb-4",children:[c.jsx("img",{src:Jb(ce.id,!0),alt:`${S.brand} ${S.model}`,className:"w-full h-auto object-contain rounded-md",onError:he=>{console.error("Error loading thumbnail, falling back to original image"),he.target.src=Jb(ce.id),he.target.onerror=null}}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsx("button",{onClick:()=>g(!0),className:"absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 transition-colors",title:"Change reference image",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),c.jsx("div",{className:"text-sm text-gray-500 text-center",children:ce.file_name})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No reference image"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="advanced")&&c.jsxs("button",{onClick:()=>g(!0),className:"mt-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Reference Image"]})]})})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 h-full",children:[c.jsx("div",{className:"p-4 border-b border-slate-200",children:c.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Quick Info"]})}),c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Category"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.category||"Not specified"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Type"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.type})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Status"})]}),c.jsx("div",{children:S.status&&c.jsx($o,{variant:W(S.status),size:"md",children:S.status.charAt(0).toUpperCase()+S.status.slice(1).replace("-"," ")})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Location"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.location||"Not specified"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),c.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Serial Number"})]}),c.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.serial_number})]})]})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs($t,{className:"h-full",children:[c.jsx($t.Header,{className:"bg-slate-50",children:c.jsxs($t.Title,{className:"flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Metadata"]})}),c.jsx($t.Body,{children:c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created By"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:S.created_by||"Unknown"})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Created At"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:S.created_at?new Date(S.created_at).toLocaleString():"Unknown"})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Last Updated"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:S.updated_at?new Date(S.updated_at).toLocaleString():"Never"})]})]}),S.locationDetails&&c.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[c.jsxs("h4",{className:"text-sm font-medium text-slate-700 mb-3 flex items-center",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Location Details"]}),c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg text-sm",children:[c.jsx("p",{className:"font-medium text-slate-800",children:S.locationDetails.name}),S.locationDetails.street&&c.jsx("p",{className:"text-slate-600 mt-1",children:S.locationDetails.street}),(S.locationDetails.postal_code||S.locationDetails.city)&&c.jsxs("p",{className:"text-slate-600",children:[S.locationDetails.postal_code&&`${S.locationDetails.postal_code} `,S.locationDetails.city]}),(S.locationDetails.region||S.locationDetails.country)&&c.jsxs("p",{className:"text-slate-600",children:[S.locationDetails.region&&`${S.locationDetails.region}, `,S.locationDetails.country]})]})]})]})})]})})]}),s&&c.jsx(zN,{isOpen:s,title:"Delete Equipment",message:"Are you sure you want to delete this equipment? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:z,onCancel:P,isDestructive:!0}),c.jsx(WN,{isOpen:d,onClose:()=>g(!1),equipmentId:e,existingImage:ce}),c.jsx(GN,{equipmentId:parseInt(e),isOpen:v,onClose:()=>x(!1),onSuccess:q})]})},TU=({onFileSelect:e,uploadProgress:n=0,existingFiles:t=[],onFileDelete:r,multiple:s=!1,maxFiles:a=5,maxFileSize:d=50*1024*1024})=>{const[g,v]=L.useState([]),[x,w]=L.useState({}),[E,_]=L.useState([]);L.useEffect(()=>{Object.values(x).forEach(P=>{P&&P.startsWith("blob:")&&URL.revokeObjectURL(P)});const z={};return g.forEach((P,V)=>{P.type.startsWith("image/")&&(z[`new-${V}`]=URL.createObjectURL(P))}),t.forEach(P=>{P.file_type==="image"&&(z[`existing-${P.id}`]=`/api/files/${P.id}`)}),w(z),()=>{Object.values(z).forEach(P=>{P&&P.startsWith("blob:")&&URL.revokeObjectURL(P)})}},[g,t]);const k=z=>{const P=[],V=[];return z.forEach(W=>{if(W.size>d){P.push(`${W.name} exceeds the maximum file size of ${Math.round(d/(1024*1024))}MB`);return}if(!["image/jpeg","image/png","audio/mpeg","application/pdf"].includes(W.type)){P.push(`${W.name} has an unsupported file type. Only JPEG, PNG, MP3, and PDF files are allowed.`);return}V.push(W)}),{validFiles:V,errors:P}},S=L.useCallback((z,P)=>{if(P&&P.length>0){const se=P.map(ce=>`${ce.file.name}: ${ce.errors.map(ae=>ae.message).join(", ")}`);_(se)}else _([]);const{validFiles:V,errors:W}=k(z);if(W.length>0&&_(se=>[...se,...W]),s&&g.length+V.length>a){_(ce=>[...ce,`You can only upload a maximum of ${a} files.`]);const se=a-g.length;if(se>0){const ce=V.slice(0,se);v(ae=>[...ae,...ce]),e(ce)}}else v(s?se=>[...se,...V]:V),e(V)},[e,g,s,a,d]),R=z=>{const P=[...g];P.splice(z,1),v(P),e(s?P:P.length>0?[P[0]]:[]),_([])},j=z=>{if(r){console.log(`FileUpload: Deleting file with ID ${z}`);try{r(z)}catch(P){console.error(`Error deleting file with ID ${z}:`,P)}}else console.warn(`FileUpload: No onFileDelete handler provided for file ID ${z}`)},{getRootProps:I,getInputProps:D,isDragActive:O,fileRejections:q}=_d({onDrop:S,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"audio/mpeg":[".mp3"],"application/pdf":[".pdf"]},maxFiles:s?a:1,multiple:s,maxSize:d}),Q=z=>{switch(z){case"image/jpeg":case"image/png":case"image":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})});case"audio/mpeg":case"audio":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})});case"application/pdf":case"pdf":return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})});default:return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})})}};return c.jsxs("div",{children:[c.jsxs("div",{...I(),className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer ${O?"border-primary-500 bg-primary-50":"border-slate-300"}`,children:[c.jsx("input",{...D()}),O?c.jsx("p",{className:"text-primary-500",children:"Drop the files here..."}):c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Drag & drop files here, or click to select files"}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Accepted file types: JPEG, PNG, MP3, PDF (Max: ",a," files, ",Math.round(d/(1024*1024)),"MB each)"]})]})]}),E.length>0&&c.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"File validation errors:"}),c.jsx("ul",{className:"list-disc pl-5 text-xs text-red-700",children:E.map((z,P)=>c.jsx("li",{children:z},P))})]}),g.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Files to upload:"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:g.map((z,P)=>c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[z.type.startsWith("image/")?c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:x[`new-${P}`]?c.jsx("img",{src:x[`new-${P}`],alt:z.name,className:"max-h-full max-w-full object-contain"}):c.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:c.jsx("div",{className:"text-4xl",children:Q(z.type)})}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:z.name,children:z.name}),c.jsxs("p",{className:"text-xs text-slate-500",children:[(z.size/(1024*1024)).toFixed(2)," MB"]})]}),c.jsx("button",{type:"button",onClick:()=>R(P),className:"ml-2 text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Remove ${z.name}`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]},P))})]}),t.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Existing files:"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:t.map(z=>c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 flex flex-col",children:[z.file_type==="image"?c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 overflow-hidden flex items-center justify-center",children:x[`existing-${z.id}`]?c.jsx("img",{src:x[`existing-${z.id}`],alt:z.file_name,className:"max-h-full max-w-full object-contain"}):c.jsx("div",{className:"animate-pulse bg-slate-200 w-full h-full"})}):z.file_type==="audio"?c.jsxs("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex flex-col items-center justify-center p-2",children:[c.jsx("div",{className:"text-4xl mb-2",children:Q(z.file_type)}),c.jsxs("audio",{controls:!0,className:"w-full max-w-[200px]",children:[c.jsx("source",{src:`/api/files/${z.id}`,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):c.jsx("div",{className:"h-32 bg-slate-100 rounded-md mb-2 flex items-center justify-center",children:c.jsx("div",{className:"text-4xl",children:Q(z.file_type)})}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",title:z.file_name,children:z.file_name}),c.jsx("p",{className:"text-xs text-slate-500 capitalize",children:z.file_type})]}),c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("a",{href:`/api/files/${z.id}?download=true`,download:!0,className:"text-primary-600 hover:text-primary-800 p-1 rounded-full hover:bg-primary-50","aria-label":`Download ${z.file_name}`,onClick:P=>{P.stopPropagation(),console.log(`Downloading file: ${z.id}`)},children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),r&&c.jsx("button",{type:"button",onClick:P=>{P.stopPropagation(),console.log(`Deleting file: ${z.id}`),j(z.id)},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50","aria-label":`Delete ${z.file_name}`,children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})]},z.id))})]}),n>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${n}%`}})}),c.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Uploading: ",n,"%"]})]})]})},h2=({formData:e,equipmentTypes:n,categoriesData:t,statusOptions:r,handleInputChange:s,handleFileChange:a,handleSubmit:d,handleCancel:g,isLoading:v,error:x,isEditing:w=!1,files:E=[],uploadProgress:_=0,existingFiles:k=[],handleFileDelete:S,handleSetReferenceImage:R,handleReferenceImageSelect:j})=>{const[I,D]=L.useState(null),[O,q]=L.useState(null),{data:Q}=Lt(["locations"],hl,{staleTime:3e5});L.useEffect(()=>{if(k&&k.length>0&&e.reference_image_id){const V=k.find(W=>W.id.toString()===e.reference_image_id);if(V){D(V);return}}D(null)},[k,e.reference_image_id]);const z=V=>{q(V),j&&j(V),s(V?{target:{name:"reference_image_id",value:"new"}}:{target:{name:"reference_image_id",value:""}})},P=V=>{D(null),s({target:{name:"reference_image_id",value:""}}),S&&S(V)};return c.jsxs($t,{children:[x&&c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 m-6 mt-0",children:c.jsx("p",{className:"text-red-700",children:x})}),c.jsxs("form",{onSubmit:d,children:[c.jsxs($t.Body,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(ia,{id:"category_id",name:"category_id",label:"Category",value:e.category_id||"",onChange:s,options:[{value:"",label:"Select Category"},...(t||[]).map(V=>({value:V.id.toString(),label:V.name}))]}),c.jsx(ia,{id:"type_id",name:"type_id",label:"Type",value:e.type_id||"",onChange:s,options:[{value:"",label:"Select Type"},...n.map(V=>({value:V.id.toString(),label:V.name}))],required:!0}),c.jsx(Kt,{id:"brand",name:"brand",label:"Brand",value:e.brand,onChange:s,placeholder:"Enter brand",required:!0}),c.jsx(Kt,{id:"model",name:"model",label:"Model",value:e.model,onChange:s,placeholder:"Enter model",required:!0}),c.jsx(JE,{id:"serial_number",name:"serial_number",label:"Serial Number",value:e.serial_number,onChange:s,placeholder:"Enter serial number",required:!0,onScan:V=>{s({target:{name:"serial_number",value:V}})}}),c.jsx(ia,{id:"status",name:"status",label:"Status",value:e.status,onChange:s,options:r.map(V=>({value:V,label:V.charAt(0).toUpperCase()+V.slice(1).replace("-"," ")})),required:!0}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(ia,{id:"location_id",name:"location_id",label:"Location",value:e.location_id?e.location_id.toString():"",onChange:s,options:[{value:"",label:"Select Location"},...((Q==null?void 0:Q.locations)||[]).map(V=>{let W=V.name;const se=[];return V.city&&se.push(V.city),V.region&&se.push(V.region),V.country&&se.push(V.country),se.length>0&&(W+=` (${se.join(", ")})`),{value:V.id.toString(),label:W}})]}),c.jsx(Kt,{id:"location",name:"location",label:"Custom Location (if not in list)",value:e.location||"",onChange:s,placeholder:"Enter custom location"})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),c.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:s,rows:"4",className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Enter description"})]}),c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-100 rounded-lg",children:[c.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Reference Image"]}),c.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Upload a ",c.jsx("strong",{children:"single reference image"})," that best represents this equipment. This image will be displayed prominently on the equipment details page and in search results."]}),c.jsx(d2,{onImageSelect:z,existingImage:I,onImageDelete:P})]}),c.jsxs("div",{className:"mt-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[c.jsxs("h3",{className:"block text-sm font-medium text-slate-700 mb-2 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Documents & Attachments"]}),c.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Upload additional documents and images related to this equipment (manuals, invoices, additional photos, etc.). These will be shown in the Documents tab."}),c.jsx(TU,{onFileSelect:a,uploadProgress:_,existingFiles:k,onFileDelete:S,multiple:!0,maxFiles:5})]})]}),c.jsxs($t.Footer,{className:"flex justify-end space-x-3",children:[c.jsx(qe,{type:"button",variant:"secondary",onClick:g,children:"Cancel"}),c.jsx(qe,{type:"submit",variant:"primary",disabled:v,children:v?"Saving...":w?"Save Changes":"Create Equipment"})]})]})]})};h2.propTypes={formData:re.object.isRequired,equipmentTypes:re.array.isRequired,categoriesData:re.array,statusOptions:re.array.isRequired,locationsData:re.object,handleInputChange:re.func.isRequired,handleFileChange:re.func.isRequired,handleSubmit:re.func.isRequired,handleCancel:re.func.isRequired,isLoading:re.bool,error:re.string,isEditing:re.bool,files:re.array,uploadProgress:re.number,existingFiles:re.array,handleFileDelete:re.func,handleSetReferenceImage:re.func,handleReferenceImageSelect:re.func};const kU=()=>{const[e,n]=L.useState(""),[t,r]=L.useState(""),[s,a]=L.useState(!1),[d,g]=L.useState(""),v=async()=>{var x,w;if(!e){g("Please enter a file ID");return}a(!0),g(""),r("");try{console.log(`Attempting to delete file with ID: ${e}`);const E=await _E(e);console.log("Delete response:",E),r(`File deleted successfully: ${JSON.stringify(E)}`)}catch(E){console.error("Error deleting file:",E),g(`Error: ${((w=(x=E.response)==null?void 0:x.data)==null?void 0:w.message)||E.message}`)}finally{a(!1)}};return c.jsxs("div",{className:"p-4 border rounded-lg shadow-sm bg-white",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"File Deletion Test"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"fileId",className:"block text-sm font-medium text-gray-700 mb-1",children:"File ID"}),c.jsx("input",{type:"text",id:"fileId",value:e,onChange:x=>n(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter file ID"})]}),c.jsx("button",{onClick:v,disabled:s,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50",children:s?"Deleting...":"Delete File"}),t&&c.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded text-green-800",children:t}),d&&c.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded text-red-800",children:d})]})},DU=()=>{const{id:e}=wC(),n=us(),t=nr(),{user:r}=cr(),[s,a]=L.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:""}),[d,g]=L.useState([]),[v,x]=L.useState([]),[w,E]=L.useState(0),[_,k]=L.useState(""),{data:S}=Lt({queryKey:["equipmentTypes"],queryFn:wa,staleTime:3e5}),{data:R}=Lt({queryKey:["categories"],queryFn:Rc,staleTime:3e5}),j=["available","in-use","maintenance"],{data:I,isLoading:D,isError:O,error:q}=Lt({queryKey:["equipment",e],queryFn:()=>Qh(e),onSuccess:ie=>{console.log("Equipment data loaded:",ie),console.log("Location ID:",ie.location_id,typeof ie.location_id),a({type_id:ie.type_id?ie.type_id.toString():"",category_id:ie.category_id?ie.category_id.toString():"",category:ie.category||"",brand:ie.brand||"",model:ie.model||"",serial_number:ie.serial_number||"",status:ie.status||"available",location:ie.location||"",location_id:ie.location_id?ie.location_id.toString():"",description:ie.description||"",reference_image_id:ie.reference_image_id?ie.reference_image_id.toString():""}),ie.locationDetails&&console.log("Location details:",ie.locationDetails)}}),Q=Wn({mutationFn:async ie=>{const he=Object.fromEntries(Object.entries(ie.equipment).filter(([ee,xe])=>xe!=null));return NE(e,he,ie.filesToUpload,ie.filesToDelete)},onSuccess:()=>{t.invalidateQueries(["equipment"]),n(`/equipment/${e}`)},onError:ie=>{var he,ee;console.error("Error updating equipment:",ie),k(((ee=(he=ie.response)==null?void 0:he.data)==null?void 0:ee.message)||"Failed to update equipment")}}),z=ie=>{const{name:he,value:ee}=ie.target;let xe={...s,[he]:ee};if(he==="category_id"&&ee&&(R!=null&&R.categories)){const ge=R.categories.find(ue=>ue.id.toString()===ee);ge&&(console.log("Selected category:",ge),xe={...xe,category_id:ee,category:ge.name})}if(he==="location_id"&&ee){const ge=locationsData==null?void 0:locationsData.locations.find(ue=>ue.id.toString()===ee);ge&&(console.log("Selected location:",ge),xe={...xe,location_id:ee,location:ge.name},ge.name.toLowerCase()==="lager"?(xe.status="available",console.log('Setting status to "available" because location is Lager')):xe.status==="available"&&(xe.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${ge.name})`)))}else he==="location"&&ee&&(xe={...xe,location:ee,location_id:""},ee.toLowerCase()==="lager"?(xe.status="available",console.log('Setting status to "available" because custom location is Lager')):xe.status==="available"&&(xe.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${ee})`)));he==="status"&&(console.log(`User manually changed status to: ${ee}`),(s.location||"").toLowerCase()==="lager"&&ee!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),xe.status="available")),a(xe)},P=ie=>{g(ie)},V=ie=>{s.reference_image_id===ie.toString()&&a({...s,reference_image_id:""}),x(he=>[...he,ie])},W=ie=>{a({...s,reference_image_id:ie.toString()})},se=ie=>{if(ie.preventDefault(),!s.type_id||!s.brand||!s.model||!s.serial_number){k("Type, brand, model, and serial number are required");return}const he=d.find((ge,ue)=>s.reference_image_id==="new"),ee=he?d.filter(ge=>ge!==he):d,xe=s.reference_image_id==="";Q.mutate({equipment:{...s,reference_image_id:s.reference_image_id==="new"?"new":s.reference_image_id},filesToUpload:ee,filesToDelete:v,referenceImageFile:he||null,removeReferenceImage:xe})},ce=()=>{n(`/equipment/${e}`)};if(D)return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})]});if(O)return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),c.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading equipment"}),c.jsx("div",{className:"mt-2 text-sm text-red-700",children:c.jsx("p",{children:(q==null?void 0:q.message)||"Failed to load equipment details"})}),c.jsx("div",{className:"mt-4",children:c.jsx(qe,{variant:"outline",size:"sm",onClick:()=>n("/equipment"),children:"Back to Equipment List"})})]})]})})]});const ae=async ie=>{var he,ee;try{console.log(`Directly deleting file with ID: ${ie}`),await _E(ie),console.log("File deleted successfully"),t.invalidateQueries(["equipment",e])}catch(xe){console.error("Error directly deleting file:",xe),k(`Error deleting file: ${((ee=(he=xe.response)==null?void 0:he.data)==null?void 0:ee.message)||xe.message}`)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Edit Equipment"})}),(r==null?void 0:r.role)==="admin"&&c.jsx("div",{className:"mb-6",children:c.jsx(kU,{})}),c.jsx(h2,{formData:s,equipmentTypes:(S==null?void 0:S.types)||[],categoriesData:(R==null?void 0:R.categories)||[],statusOptions:j,handleInputChange:z,handleFileChange:P,handleSubmit:se,handleCancel:ce,isLoading:Q.isLoading,error:_,isEditing:!0,uploadProgress:w,existingFiles:(I==null?void 0:I.files)||[],handleFileDelete:V,handleSetReferenceImage:W}),(r==null?void 0:r.role)==="admin"&&(I==null?void 0:I.files)&&I.files.length>0&&c.jsxs("div",{className:"mt-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Direct File Deletion Test"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.files.map(ie=>c.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:ie.file_name}),c.jsxs("p",{className:"text-sm text-slate-500",children:["ID: ",ie.id]}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Type: ",ie.file_type]})]}),c.jsx("button",{onClick:()=>ae(ie.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm",children:"Delete Directly"})]})},ie.id))})]})]})},IU=()=>{const e=us(),n=nr(),{user:t}=cr(),[r,s]=L.useState({type_id:"",category_id:"",category:"",brand:"",model:"",serial_number:"",status:"available",location:"",location_id:"",description:"",reference_image_id:""}),[a,d]=L.useState([]),[g,v]=L.useState(null),[x,w]=L.useState(""),[E,_]=L.useState(0),{data:k}=Lt({queryKey:["equipmentTypes"],queryFn:wa,staleTime:3e5}),{data:S}=Lt({queryKey:["categories"],queryFn:Rc,staleTime:3e5}),{data:R}=Lt({queryKey:["locations"],queryFn:hl,staleTime:3e5}),j=["available","in-use","maintenance"],I=Wn({mutationFn:async W=>Hx(W.equipment,W.files,W.referenceImageFile),onSuccess:()=>{n.invalidateQueries(["equipment"]),e("/equipment")},onError:W=>{var se,ce;console.error("Error creating equipment:",W),w(((ce=(se=W.response)==null?void 0:se.data)==null?void 0:ce.message)||"Failed to create equipment")}}),D=W=>{const{name:se,value:ce}=W.target;let ae={...r,[se]:ce};if(se==="category_id"&&ce&&S){const ie=S.find(he=>he.id.toString()===ce);ie&&(console.log("Selected category:",ie),ae={...ae,category_id:ce,category:ie.name})}else if(se==="location_id"&&ce){const ie=R==null?void 0:R.locations.find(he=>he.id.toString()===ce);ie&&(console.log("Selected location:",ie),ae={...ae,location_id:ce,location:ie.name},ie.name.toLowerCase()==="lager"?(ae.status="available",console.log('Setting status to "available" because location is Lager')):ae.status==="available"&&(ae.status="in-use",console.log(`Setting status to "in-use" because location is not Lager (${ie.name})`)))}else se==="location"&&ce?(ae={...ae,location:ce,location_id:""},ce.toLowerCase()==="lager"?(ae.status="available",console.log('Setting status to "available" because custom location is Lager')):ae.status==="available"&&(ae.status="in-use",console.log(`Setting status to "in-use" because custom location is not Lager (${ce})`))):se==="status"&&(console.log(`User manually changed status to: ${ce}`),(r.location||"").toLowerCase()==="lager"&&ce!=="available"&&(console.log('Forcing status back to "available" because location is Lager'),ae.status="available"));s(ae)},O=W=>{d(W)},q=W=>{s({...r,reference_image_id:W.toString()})},Q=W=>{v(W)},z=W=>{const se=[...a];r.reference_image_id===W.toString()&&s({...r,reference_image_id:""}),se.splice(W,1),d(se)},P=W=>{if(W.preventDefault(),!r.type_id||!r.brand||!r.model||!r.serial_number){w("Type, brand, model, and serial number are required");return}const se=r.reference_image_id==="new"?g:null,ce=se?a.filter(ae=>ae!==se):a;I.mutate({equipment:{...r},files:ce,referenceImageFile:se})},V=()=>{e("/equipment")};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Add New Equipment"})}),c.jsx(h2,{formData:r,equipmentTypes:k||[],categoriesData:S||[],statusOptions:j,locationsData:R,handleInputChange:D,handleFileChange:O,handleSubmit:P,handleCancel:V,isLoading:I.isLoading,error:x,files:a,uploadProgress:E,handleSetReferenceImage:q,handleReferenceImageSelect:Q,handleFileDelete:z}),(t==null?void 0:t.role)==="admin"&&c.jsx($t,{className:"mt-6",children:c.jsxs($t.Body,{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0 text-primary-500",children:c.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-slate-800",children:"Equipment Type Management"}),c.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"You can manage equipment types in the Settings page."}),c.jsx("div",{className:"mt-3",children:c.jsx(qe,{variant:"outline",size:"sm",onClick:()=>e("/settings"),children:"Go to Settings"})})]})]})})]})},RU=()=>{const{isAdmin:e,getUsers:n,impersonateUser:t,register:r,user:s}=cr(),a=us(),d=nr(),[g,v]=L.useState(null),[x,w]=L.useState(!1),[E,_]=L.useState(!1),[k,S]=L.useState({username:"",password:"",role:"basic"}),[R,j]=L.useState({});L.useEffect(()=>{e()||a("/")},[e,a]);const{data:I,isLoading:D,isError:O,error:q,refetch:Q}=Lt({queryKey:["users"],queryFn:n,enabled:e()}),z=Wn({mutationFn:r,onSuccess:()=>{d.invalidateQueries(["users"]),_(!1),S({username:"",password:"",role:"basic"}),ct.success("User created successfully")},onError:ie=>{var he,ee;ct.error(((ee=(he=ie.response)==null?void 0:he.data)==null?void 0:ee.message)||"Failed to create user")}}),P=ie=>{const{name:he,value:ee}=ie.target;S(xe=>({...xe,[he]:ee})),R[he]&&j(xe=>({...xe,[he]:""}))},V=()=>{const ie={};return k.username.trim()||(ie.username="Username is required"),k.password.trim()?k.password.length<6&&(ie.password="Password must be at least 6 characters"):ie.password="Password is required",j(ie),Object.keys(ie).length===0},W=ie=>{ie.preventDefault(),V()&&z.mutate(k)},se=async()=>{if(g)try{await t(g.id),w(!1),ct.info(`You are now impersonating ${g.username}`),a("/")}catch(ie){ct.error("Failed to impersonate user"),console.error("Failed to impersonate user:",ie)}},ce=ie=>new Date(ie).toLocaleString(),ae=ie=>{switch(ie){case"admin":return"bg-red-100 text-red-800";case"advanced":return"bg-blue-100 text-blue-800";case"basic":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e()?D?c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):O?c.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative my-6",role:"alert",children:[c.jsx("strong",{className:"font-bold",children:"Error!"}),c.jsxs("span",{className:"block sm:inline",children:[" ",(q==null?void 0:q.message)||"Failed to load users."]}),c.jsx("button",{onClick:Q,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Retry"})]}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx(Wx,{position:"top-right",autoClose:3e3}),c.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),c.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:[c.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"User Management"}),c.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create User"]})]}),c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[c.jsx("thead",{className:"bg-slate-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Username"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created At"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:I==null?void 0:I.map(ie=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:[ie.username,ie.id===s.id&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:"You"})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ae(ie.role)}`,children:ie.role})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:ce(ie.created_at)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:ie.id!==s.id&&c.jsx("button",{onClick:()=>{v(ie),w(!0)},className:"text-indigo-600 hover:text-indigo-900","aria-label":`Impersonate ${ie.username}`,children:"Impersonate"})})]},ie.id))})]})})})]}),E&&c.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Create New User"}),c.jsxs("form",{onSubmit:W,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),c.jsx("input",{type:"text",id:"username",name:"username",value:k.username,onChange:P,className:`w-full px-3 py-2 border ${R.username?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),R.username&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:R.username})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),c.jsx("input",{type:"password",id:"password",name:"password",value:k.password,onChange:P,className:`w-full px-3 py-2 border ${R.password?"border-red-500":"border-slate-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500`}),R.password&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:R.password})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),c.jsxs("select",{id:"role",name:"role",value:k.role,onChange:P,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"basic",children:"Basic"}),c.jsx("option",{value:"advanced",children:"Advanced"}),c.jsx("option",{value:"admin",children:"Admin"})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:z.isLoading,children:z.isLoading?"Creating...":"Create User"})]})]})]})}),x&&g&&c.jsx("div",{className:"fixed inset-0 bg-slate-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Confirm Impersonation"}),c.jsxs("p",{className:"text-slate-500 mb-4",children:["You are about to impersonate ",c.jsx("strong",{children:g.username})," with role ",c.jsx("strong",{children:g.role}),". You will have the same permissions as this user until you end the impersonation."]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300",children:"Cancel"}),c.jsx("button",{onClick:se,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Impersonate"})]})]})})]}):c.jsx("div",{className:"text-center py-10",children:"Access denied. Admin privileges required."})},OU=()=>{var q,Q;const[e,n]=L.useState(1),[t]=L.useState(20),[r,s]=L.useState("created_at"),[a,d]=L.useState("desc"),[g,v]=L.useState({equipmentId:"",actionType:"",search:"",type:"",status:"",location_id:""}),{data:x}=Lt({queryKey:["equipment-types"],queryFn:wa,staleTime:3e5}),{data:w}=Lt(["locations"],hl),{data:E,isLoading:_,isError:k,error:S}=Lt(["allEquipmentLogs",e,t,g,r,a],()=>HB({page:e,limit:t,equipmentId:g.equipmentId||void 0,actionType:g.actionType||void 0,search:g.search||void 0,type:g.type||void 0,status:g.status||void 0,location_id:g.location_id||void 0,sortBy:r,sortOrder:a}),{keepPreviousData:!0}),R=z=>{switch(z){case"created":return"badge-success";case"updated":return"badge-info";case"deleted":return"badge-danger";case"status_change":return"badge-warning";case"location_change":return"badge-primary";default:return"badge-secondary"}},j=z=>z.split("_").map(P=>P.charAt(0).toUpperCase()+P.slice(1)).join(" "),I=z=>{const{name:P,value:V}=z.target;v(W=>({...W,[P]:V})),n(1)},D=z=>{z.preventDefault()},O=z=>{n(z)};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Equipment Movement Logs"})}),c.jsx("div",{className:"card",children:c.jsxs("form",{onSubmit:D,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"search",className:"label",children:"Search"}),c.jsxs("div",{className:"input-group",children:[c.jsx(DE,{className:"input-icon w-4 h-4"}),c.jsx("input",{type:"text",id:"search",name:"search",value:g.search,onChange:I,placeholder:"Search logs...",className:"input input-with-icon"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"type",className:"label",children:"Equipment Type"}),c.jsxs("select",{id:"type",name:"type",value:g.type,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Types"}),x!=null&&x.types&&x.types.length>0?x.types.map(z=>c.jsx("option",{value:z.name.toLowerCase(),children:z.name},z.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading types..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"status",className:"label",children:"Equipment Status"}),c.jsxs("select",{id:"status",name:"status",value:g.status,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"available",children:"Available"}),c.jsx("option",{value:"in-use",children:"In Use"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"location_id",className:"label",children:"Location"}),c.jsxs("select",{id:"location_id",name:"location_id",value:g.location_id,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Locations"}),(q=w==null?void 0:w.locations)==null?void 0:q.map(z=>c.jsx("option",{value:z.id.toString(),children:z.name},z.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"actionType",className:"label",children:"Action Type"}),c.jsxs("select",{id:"actionType",name:"actionType",value:g.actionType,onChange:I,className:"input",children:[c.jsx("option",{value:"",children:"All Actions"}),c.jsx("option",{value:"created",children:"Created"}),c.jsx("option",{value:"updated",children:"Updated"}),c.jsx("option",{value:"deleted",children:"Deleted"}),c.jsx("option",{value:"status_change",children:"Status Change"}),c.jsx("option",{value:"location_change",children:"Location Change"})]})]}),c.jsx("div",{className:"flex items-end",children:c.jsxs("button",{type:"submit",className:"btn btn-primary w-full",children:[c.jsx(IE,{className:"w-4 h-4"}),c.jsx("span",{children:"Apply Filters"})]})})]})}),c.jsxs("div",{className:"card",children:[_?c.jsx("div",{className:"text-center py-10",children:"Loading..."}):k?c.jsxs("div",{className:"text-center py-10 text-red-600",children:["Error: ",S.message||"Failed to load equipment logs"]}):(Q=E==null?void 0:E.logs)!=null&&Q.length?c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Equipment"}),c.jsx("th",{className:"table-header-cell",children:"User"}),c.jsx("th",{className:"table-header-cell",children:"Action"}),c.jsx("th",{className:"table-header-cell",children:"Details"})]})}),c.jsx("tbody",{className:"table-body",children:E.logs.map(z=>{var P,V;return c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell whitespace-nowrap",children:ld(new Date(z.created_at),"MMM d, yyyy h:mm a")}),c.jsx("td",{className:"table-cell",children:z.equipment?c.jsxs(Br,{to:`/equipment/${z.equipment.id}`,className:"text-primary-600 hover:text-primary-800",children:[z.equipment.brand," ",z.equipment.model,c.jsxs("span",{className:"text-xs text-slate-500 block",children:["SN: ",z.equipment.serial_number]})]}):c.jsx("span",{className:"text-slate-400",children:"Deleted equipment"})}),c.jsxs("td",{className:"table-cell",children:[((P=z.user)==null?void 0:P.username)||"Unknown",c.jsx("span",{className:"text-xs text-slate-500 block",children:((V=z.user)==null?void 0:V.role)||""})]}),c.jsx("td",{className:"table-cell",children:c.jsx("span",{className:`badge ${R(z.action_type)}`,children:j(z.action_type)})}),c.jsxs("td",{className:"table-cell",children:[z.action_type==="status_change"&&c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Status:"})," ",c.jsx("span",{className:"badge badge-outline-secondary",children:z.previous_status})," ",c.jsx("span",{className:"text-slate-400",children:""})," ",c.jsx("span",{className:"badge badge-outline-primary",children:z.new_status})]}),z.action_type==="location_change"&&c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Location:"})," ",c.jsx("span",{className:"badge badge-outline-secondary",children:z.previous_location||"None"})," ",c.jsx("span",{className:"text-slate-400",children:""})," ",c.jsx("span",{className:"badge badge-outline-primary",children:z.new_location||"None"})]}),z.details&&c.jsx("div",{className:"text-sm mt-1",children:z.details})]})]},z.id)})})]})}):c.jsx("div",{className:"text-center py-10 text-slate-500",children:g.search||g.equipmentId||g.actionType?"No logs found matching your search criteria.":"No logs found."}),(E==null?void 0:E.totalPages)>1&&c.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-slate-200",children:[c.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",c.jsx("span",{className:"font-medium text-slate-800",children:(e-1)*t+1})," to"," ",c.jsx("span",{className:"font-medium text-slate-800",children:Math.min(e*t,E.total)})," of"," ",c.jsx("span",{className:"font-medium text-slate-800",children:E.total})," logs"]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>O(e-1),disabled:e===1,className:`btn ${e===1?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Previous"}),c.jsx("button",{onClick:()=>O(e+1),disabled:e===E.totalPages,className:`btn ${e===E.totalPages?"bg-slate-50 text-slate-300 cursor-not-allowed":"btn-outline"}`,children:"Next"})]})]})]})]})},jU=new zI({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),Fo=({children:e})=>{const{user:n,loading:t}=cr();return t?c.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):n?e:c.jsx(G0,{to:"/login"})},e3=({children:e})=>{const{user:n,loading:t,isAdmin:r}=cr();return t?c.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):n?r()?e:c.jsx(G0,{to:"/dashboard"}):c.jsx(G0,{to:"/login"})},Zs=({children:e})=>{const[n,t]=L.useState(!0),[r,s]=L.useState(!1);return c.jsxs("div",{className:"min-h-screen bg-slate-50",children:[c.jsx(M9,{}),c.jsx(R9,{}),c.jsx(j9,{isOpen:n,isCollapsed:r,toggleSidebar:t,toggleCollapse:s}),c.jsx("main",{className:`main-content pt-16 ${n?r?"main-content-with-sidebar-collapsed":"main-content-with-sidebar":""}`,children:c.jsx("div",{className:"container-app",children:c.jsx("div",{className:"space-y-6",children:e})})})]})},MU=()=>c.jsx(EI,{children:c.jsxs(gI,{children:[c.jsx(Mi,{path:"/login",element:c.jsx(L9,{})}),c.jsx(Mi,{path:"/",element:c.jsx(Fo,{children:c.jsx(Zs,{children:c.jsx(Bb,{})})})}),c.jsx(Mi,{path:"/dashboard",element:c.jsx(Fo,{children:c.jsx(Zs,{children:c.jsx(Bb,{})})})}),c.jsx(Mi,{path:"/equipment/new",element:c.jsx(Fo,{children:c.jsx(Zs,{children:c.jsx(IU,{})})})}),c.jsx(Mi,{path:"/equipment/:id/edit",element:c.jsx(Fo,{children:c.jsx(Zs,{children:c.jsx(DU,{})})})}),c.jsx(Mi,{path:"/equipment/:id",element:c.jsx(Fo,{children:c.jsx(Zs,{children:c.jsx(AU,{})})})}),c.jsx(Mi,{path:"/equipment",element:c.jsx(Fo,{children:c.jsx(Zs,{children:c.jsx(WB,{})})})}),c.jsx(Mi,{path:"/admin",element:c.jsx(e3,{children:c.jsx(Zs,{children:c.jsx(RU,{})})})}),c.jsx(Mi,{path:"/equipment-logs",element:c.jsx(e3,{children:c.jsx(Zs,{children:c.jsx(OU,{})})})}),c.jsx(Mi,{path:"/settings",element:c.jsx(Fo,{children:c.jsx(Zs,{children:c.jsx(WF,{})})})}),c.jsx(Mi,{path:"*",element:c.jsx(G0,{to:"/"})})]})}),LU=()=>c.jsx(n7,{client:jU,children:c.jsx($R,{children:c.jsxs(AE,{children:[c.jsx(Wx,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),c.jsx(MU,{})]})})});const PU=async()=>{try{return(await Ke.get("/api/csrf-token",{withCredentials:!0})).data.csrfToken}catch(e){return console.error("Failed to fetch CSRF token:",e),null}},FU=async()=>{Ke.defaults.withCredentials=!0;const e=localStorage.getItem("token");e&&(Ke.defaults.headers.common.Authorization=`Bearer ${e}`),Ke.interceptors.response.use(n=>n,async n=>{var r;const t=n.config;if(t&&(t.url.includes("/files/")||t.url.includes("/public-files/")))return console.log("File access error:",n),Promise.reject(n);if(((r=n.response)==null?void 0:r.status)===401&&!t._retry){t._retry=!0;try{return window.location.pathname!=="/login"&&(localStorage.removeItem("token"),delete Ke.defaults.headers.common.Authorization,alert("Your session has expired. Please log in again."),window.location.href="/login"),Promise.reject(n)}catch(s){return Promise.reject(s)}}return Promise.reject(n)});{const n=await PU();n&&Ke.interceptors.request.use(async t=>(t.method!=="get"&&(t.headers["CSRF-Token"]=n),t),t=>Promise.reject(t))}return Ke};console.log("API URL:",{}.VITE_API_URL);const BU=()=>({}).VITE_API_URL?{}.VITE_API_URL:window.location.origin,$N=BU();Ke.defaults.baseURL=$N;console.log("Setting axios baseURL to:",$N);console.log("Environment mode:","production");console.log("Is production:",!0);const UU=async()=>{await FU(),nm.createRoot(document.getElementById("root")).render(c.jsx(de.StrictMode,{children:c.jsx(LU,{})}))};UU();
//# sourceMappingURL=index-72e32897.js.map
